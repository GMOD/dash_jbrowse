/*! For license information please see async-CircularGenomeView.js.LICENSE.txt */
(window.webpackJsonpdash_jbrowse=window.webpackJsonpdash_jbrowse||[]).push([[2],{1e3:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.calculateUTRs=function(e,t){var n=e[0],r=e[e.length-1],i=t.findIndex((function(e){return e.end>=n.start&&e.start<=n.start})),l=t.findIndex((function(e){return e.end>=r.end&&e.start<=r.end})),c=t[l],u=t[i],s=[].concat((0,a.default)(t.slice(0,i)),[{start:u.start,end:n.start}]).map((function(e){return(0,o.default)((0,o.default)({},e),{},{type:"five_prime_UTR"})})),d=[{start:r.end,end:c.end}].concat((0,a.default)(t.slice(l+1))).map((function(e){return(0,o.default)((0,o.default)({},e),{},{type:"three_prime_UTR"})}));return[].concat((0,a.default)(s),(0,a.default)(d))},t.dedupe=function(e){return e.filter((function(e,t,n){return!t||i(e)!==i(n[t-1])}))},t.ellipses=function(e){return e.length>20?"".concat(e.slice(0,20),"..."):e},t.revlist=function(e,t){return e.map((function(e){return(0,o.default)((0,o.default)({},e),{},{start:t-e.end,end:t-e.start})})).sort((function(e,t){return e.start-t.start}))},t.stitch=function(e,t){return e.map((function(e){return t.slice(e.start,e.end)})).join("")};var a=r(n(34)),o=r(n(26));function i(e){return"".concat(e.start,"-").concat(e.end)}},1001:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(26)),o=n(20),i=n(39),l=n(91),c=r(n(1002)),u=r(n(1003)),s=o.types.model("Base1DView",{displayedRegions:o.types.array(l.Region),bpPerPx:0,offsetPx:0,interRegionPaddingWidth:o.types.optional(o.types.number,0),minimumBlockWidth:o.types.optional(o.types.number,0)}).volatile((function(){return{features:void 0,volatileWidth:0}})).actions((function(e){return{setDisplayedRegions:function(t){e.displayedRegions=(0,o.cast)(t)},setBpPerPx:function(t){e.bpPerPx=t},setVolatileWidth:function(t){e.volatileWidth=t}}})).views((function(e){return{get width(){return e.volatileWidth},get displayedRegionsTotalPx(){return this.totalBp/e.bpPerPx},get maxOffset(){return this.displayedRegionsTotalPx-10},get minOffset(){return 30-this.width},get totalBp(){return e.displayedRegions.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)},bpToPx:function(t){var n=this,r=t.refName,a=t.coord,o=t.regionNumber,i=0,l=e.interRegionPaddingWidth*e.bpPerPx,c=e.minimumBlockWidth*e.bpPerPx,u=e.displayedRegions.findIndex((function(t,u){var s=t.end-t.start;return r===t.refName&&a>=t.start&&a<=t.end&&(!o||o===u)?(i+=t.reversed?t.end-a:a-t.start,!0):(t.end-t.start>c&&i/e.bpPerPx>0&&i/e.bpPerPx<n.width?i+=s+l:i+=s,!1)}));if(e.displayedRegions[u])return Math.round(i/e.bpPerPx)},pxToBp:function(t){var n=0,r=(e.offsetPx+t)*e.bpPerPx,i=e.displayedRegions.length;if(r<0){var l=e.displayedRegions[0],c=r;return(0,a.default)((0,a.default)({},(0,o.getSnapshot)(l)),{},{oob:!0,coord:l.reversed?Math.floor(l.end-c)+1:Math.floor(l.start+c)+1,offset:c,index:0})}for(var u=e.interRegionPaddingWidth*e.bpPerPx,s=e.minimumBlockWidth*e.bpPerPx,d=0;d<e.displayedRegions.length;d+=1){var f=e.displayedRegions[d],p=f.end-f.start,m=r-n;if(p+n>r&&n<=r)return(0,a.default)((0,a.default)({},(0,o.getSnapshot)(f)),{},{oob:!1,offset:m,coord:f.reversed?Math.floor(f.end-m)+1:Math.floor(f.start+m)+1,index:d});f.end-f.start>s&&m/e.bpPerPx>0&&m/e.bpPerPx<this.width?n+=p+u:n+=p}if(r>=n){var h=e.displayedRegions[i-1],g=r-n+(h.end-h.start);return(0,a.default)((0,a.default)({},(0,o.getSnapshot)(h)),{},{oob:!0,offset:g,coord:h.reversed?Math.floor(h.end-g)+1:Math.floor(h.start+g)+1,index:i-1})}return{coord:0,index:0,start:0,refName:"",oob:!0,assemblyName:"",offset:0,reversed:!1}}}})).views((function(e){return{get dynamicBlocks(){return(0,c.default)(e)},get staticBlocks(){return(0,u.default)(e)},get currBp(){return this.dynamicBlocks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)}}})).actions((function(e){return{setFeatures:function(t){e.features=t},zoomToDisplayedRegions:function(e,t){if(void 0!==e&&void 0!==t){if(e.refName===t.refName&&e.index===t.index&&t.offset<e.offset||e.index>t.index){var n=[t,e];e=n[0],t=n[1]}var r={start:e.start,end:e.end,index:e.index,offset:e.offset},a={start:t.start,end:t.end,index:t.index,offset:t.offset};if(!r||!a)throw new Error("regions not found");this.moveTo(r,a)}},showAllRegions:function(){e.bpPerPx=e.totalBp/e.width,e.offsetPx=0},moveTo:function(t,n){var r=0;if(t.index===n.index)r+=n.offset-t.offset;else{var a=e.displayedRegions[t.index];if(r+=a.end-a.start-t.offset,n.index-t.index>=2)for(var o=t.index+1;o<n.index;o+=1)r+=e.displayedRegions[o].end-e.displayedRegions[o].start;r+=n.offset}this.zoomTo(r/(e.width-e.interRegionPaddingWidth*(n.index-t.index)));for(var i=0,l=0;l<e.displayedRegions.length;l+=1){var c=e.displayedRegions[l];if(t.index===l){i+=t.offset;break}i+=c.end-c.start}e.offsetPx=Math.round(i/e.bpPerPx)+e.interRegionPaddingWidth*t.index},zoomOut:function(){this.zoomTo(2*e.bpPerPx)},zoomIn:function(){this.zoomTo(e.bpPerPx/2)},zoomTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.width/2,r=t;if(r!==e.bpPerPx){var a=e.bpPerPx;e.bpPerPx=r,e.offsetPx=(0,i.clamp)(Math.round((e.offsetPx+n)*a/r-n),e.minOffset,e.maxOffset)}},scroll:function(t){var n=e.offsetPx,r=(0,i.clamp)(e.offsetPx+t,e.minOffset,e.maxOffset);return e.offsetPx=r,r-n}}}));t.default=s},1002:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.offsetPx,c=e.displayedRegions,u=e.bpPerPx,s=e.width,d=e.minimumBlockWidth,f=e.interRegionPaddingWidth;if(!s)throw new Error("view has no width, cannot calculate displayed blocks");var p=new l.BlockSet,m=0,h=r,g=h+s;return c.forEach((function(e,v){var b=e.assemblyName,y=e.refName,w=e.start,C=e.end,E=e.reversed,O=m+(C-w)/u,k=(C-w)/u;if(m<g&&O>h){var x,S,j,T,P,R=(0,o.intersection2)(h,g,m,O),M=(0,a.default)(R,2),I=M[0],L=M[1];E?(x=Math.max(w,C-(L-m)*u),j=(S=C-(I-m)*u)===C,T=x===w,P=m+(C-S)/u):(j=(x=(I-m)*u+w)===w,T=(S=Math.min(C,(L-m)*u+w))===C,P=m+(x-w)/u);var A={assemblyName:b,refName:y,start:x,end:S,reversed:E,offsetPx:P,parentRegion:e,regionNumber:v,widthPx:(S-x)/u,isLeftEndOfDisplayedRegion:j,isRightEndOfDisplayedRegion:T,key:""};A.key="".concat((0,i.assembleLocString)(A),"-").concat(v).concat(E?"-reversed":""),t&&0===p.length&&j&&p.push(new l.InterRegionPaddingBlock({key:"".concat(A.key,"-beforeFirstRegion"),widthPx:-r,offsetPx:A.offsetPx+r,variant:"boundary"})),n&&k<d?p.push(new l.ElidedBlock(A)):p.push(new l.ContentBlock(A)),t&&(k>=d&&A.isRightEndOfDisplayedRegion&&v<c.length-1&&(p.push(new l.InterRegionPaddingBlock({key:"".concat(A.key,"-rightpad"),widthPx:f,offsetPx:A.offsetPx+A.widthPx})),m+=f),v===c.length-1&&A.isRightEndOfDisplayedRegion&&(P=A.offsetPx+A.widthPx,p.push(new l.InterRegionPaddingBlock({key:"".concat(A.key,"-afterLastRegion"),widthPx:s-P+r,offsetPx:P,variant:"boundary"}))))}m+=(C-w)/u})),p};var a=r(n(19)),o=n(987),i=n(39),l=n(570)},1003:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"undefined"!=typeof window&&window.innerWidth||e.width,l=e.offsetPx,c=e.displayedRegions,u=e.bpPerPx,s=e.minimumBlockWidth,d=e.interRegionPaddingWidth,f=l*u,p=(l+i)*u,m=i,h=Math.ceil(m*u),g=0,v=new a.BlockSet;return c.forEach((function(e,l){var m=e.assemblyName,b=e.refName,y=e.start,w=e.end,C=e.reversed,E=Math.ceil((w-y)/h),O=Math.floor((p-g)/h)+o;O>=E&&(O=E-1);var k=Math.floor((f-g)/h)-o;k<0&&(k=0);for(var x=(w-y)/u,S=k;S<=O;S+=1){var j=void 0,T=void 0,P=void 0,R=void 0;C?(j=Math.max(y,w-(S+1)*h),P=(T=w-S*h)===w,R=j===y):(P=(j=y+S*h)===y,R=(T=Math.min(w,y+(S+1)*h))===w);var M={assemblyName:m,refName:b,start:j,end:T,reversed:C,offsetPx:(g+S*h)/u,parentRegion:e,regionNumber:l,widthPx:(T-j)/u,isLeftEndOfDisplayedRegion:P,isRightEndOfDisplayedRegion:R,key:""};M.key="".concat((0,r.assembleLocString)(M),"-").concat(l).concat(C?"-reversed":""),t&&0===l&&0===S&&v.push(new a.InterRegionPaddingBlock({key:"".concat(M.key,"-beforeFirstRegion"),widthPx:i,offsetPx:M.offsetPx-i,variant:"boundary"})),n&&x<s?v.push(new a.ElidedBlock(M)):v.push(new a.ContentBlock(M)),t&&(x>=s&&M.isRightEndOfDisplayedRegion&&l<c.length-1&&(g+=d*u,v.push(new a.InterRegionPaddingBlock({key:"".concat(M.key,"-rightpad"),widthPx:d,offsetPx:M.offsetPx+M.widthPx}))),l===c.length-1&&M.isRightEndOfDisplayedRegion&&(g+=d*u,v.push(new a.InterRegionPaddingBlock({key:"".concat(M.key,"-afterLastRegion"),widthPx:i,offsetPx:M.offsetPx+M.widthPx,variant:"boundary"}))))}g+=w-y})),v};var r=n(39),a=n(570)},1004:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LayoutSession=void 0;var a=r(n(22)),o=r(n(19)),i=r(n(24)),l=r(n(26)),c=r(n(105)),u=r(n(77)),s=r(n(27)),d=r(n(28)),f=r(n(16)),p=r(n(15)),m=r(n(494)),h=r(n(1005)),g=r(n(571)),v=r(n(572)),b=r(n(231)),y=n(43),w=function(){function e(t){if((0,f.default)(this,e),this.config=void 0,this.bpPerPx=void 0,this.filters=void 0,this.cachedLayout=void 0,this.config=t.config,!(0,y.isConfigurationModel)(this.config))throw new Error("configuration required");this.bpPerPx=t.bpPerPx,this.filters=t.filters,this.update(t)}return(0,p.default)(e,[{key:"update",value:function(e){Object.assign(this,e)}},{key:"makeLayout",value:function(){return new g.default(h.default,{maxHeight:(0,y.readConfObject)(this.config,"maxHeight"),displayMode:(0,y.readConfObject)(this.config,"displayMode"),pitchX:this.bpPerPx,pitchY:(0,y.readConfObject)(this.config,"noSpacing")?1:3})}},{key:"cachedLayoutIsValid",value:function(e){return e&&e.layout.subLayoutConstructorArgs.pitchX===this.bpPerPx&&(0,m.default)((0,y.readConfObject)(this.config),e.config)&&(0,m.default)(this.filters,e.filters)}},{key:"layout",get:function(){return this.cachedLayout&&this.cachedLayoutIsValid(this.cachedLayout)||(this.cachedLayout={layout:this.makeLayout(),config:(0,y.readConfObject)(this.config),filters:this.filters}),this.cachedLayout.layout}}]),e}();t.LayoutSession=w;var C=function(e){(0,s.default)(m,e);var t,n,r=(0,d.default)(m);function m(){var e;(0,f.default)(this,m);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).sessions={},e}return(0,p.default)(m,[{key:"getWorkerSession",value:function(e){var t=e.sessionId;this.sessions[t]||(this.sessions[t]=this.createSession(e));var n=this.sessions[t];return n.update(e),n}},{key:"getExpandedRegion",value:function(e,t){if(!e)return e;var n=t.bpPerPx,r=t.config,a=void 0===r?0:(0,y.readConfObject)(r,"maxFeatureGlyphExpansion");if(!a)return e;var o=Math.round(a*n);return(0,l.default)((0,l.default)({},e),{},{start:Math.floor(Math.max(e.start-o,0)),end:Math.ceil(e.end+o)})}},{key:"createSession",value:function(e){return new w(e)}},{key:"freeResourcesInClient",value:(n=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sessionId,o=n.regions,i=0,l=this.sessions[r],!o&&l&&(delete this.sessions[r],i=1),l&&o&&l.layout.discardRange(o[0].refName,o[0].start,o[0].end),e.t0=i,e.next=8,(0,c.default)((0,u.default)(m.prototype),"freeResourcesInClient",this).call(this,t,n);case 8:return e.t1=e.sent,e.abrupt("return",e.t0+e.t1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"deserializeLayoutInClient",value:function(e){return new v.default(e)}},{key:"deserializeResultsInClient",value:function(e,t){var n=this.deserializeLayoutInClient(e.layout);return(0,c.default)((0,u.default)(m.prototype),"deserializeResultsInClient",this).call(this,(0,l.default)((0,l.default)({},e),{},{layout:n}),t)}},{key:"createLayoutInWorker",value:function(e){var t=e.regions;return this.getWorkerSession(e).layout.getSublayout(t[0].refName)}},{key:"serializeResultsInWorker",value:function(e,t){var n=(0,c.default)((0,u.default)(m.prototype),"serializeResultsInWorker",this).call(this,e,t),r=(0,o.default)(t.regions,1)[0];return n.layout=e.layout.serializeRegion(this.getExpandedRegion(r,t)),n.layout.rectangles&&(n.features=n.features.filter((function(e){return Boolean(n.layout.rectangles[e.uniqueId])}))),n.maxHeightReached=n.layout.maxHeightReached,n}},{key:"render",value:(t=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.layout||this.createLayoutInWorker(t),e.next=3,(0,c.default)((0,u.default)(m.prototype),"render",this).call(this,(0,l.default)((0,l.default)({},t),{},{layout:n}));case 3:return r=e.sent,e.abrupt("return",(0,l.default)((0,l.default)({},r),{},{layout:n}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),m}(b.default);t.default=C},1005:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(62)),o=r(n(19)),i=r(n(16)),l=r(n(15)),c=n(39);function u(e,t,n,r){return t>=n&&r>=e}var s=function(){function e(){(0,i.default)(this,e),this.padding=void 0,this.allFilled=void 0,this.widthLimit=void 0,this.rowState=void 0,this.padding=1,this.widthLimit=1e6}return(0,l.default)(e,[{key:"setAllFilled",value:function(e){this.allFilled=e}},{key:"getItemAt",value:function(e){if(this.allFilled)return this.allFilled;if(this.rowState&&void 0!==this.rowState.min&&!(e<this.rowState.min||e>=this.rowState.max)){var t=e-this.rowState.offset;return this.rowState.bits[t]}}},{key:"isRangeClear",value:function(e,t){if(this.allFilled)return!1;if(!this.rowState)return!0;var n=this.rowState,r=n.min,a=n.max;if(t<=r||e>=a)return!0;for(var o=Math.min(a,t),i=Math.max(r,e);i<t&&i<o;i+=1)if(this.getItemAt(i))return!1;return!0}},{key:"initialize",value:function(e,t){var n=t-e;return{offset:e-n,min:e,max:t,bits:new Array(3*n)}}},{key:"addRect",value:function(e,t){var n=e.l,r=e.r+this.padding;this.rowState||(this.rowState=this.initialize(n,r));var a=n-this.rowState.offset,o=r-this.rowState.offset,i=this.rowState.bits.length;if(o>=this.rowState.bits.length){var l=o+1;this.rowState.bits.length+l>this.widthLimit?(console.warn("Layout width limit exceeded, discarding old layout. Please be more careful about discarding unused blocks."),this.rowState=this.initialize(n,r)):l>0&&(this.rowState.bits=this.rowState.bits.concat(new Array(l)))}if(n<this.rowState.offset){var c=Math.min(i-a,this.rowState.offset);this.rowState.bits.length+c>this.widthLimit?(console.warn("Layout width limit exceeded, discarding old layout. Please be more careful about discarding unused blocks."),this.rowState=this.initialize(n,r)):(this.rowState.bits=new Array(c).concat(this.rowState.bits),this.rowState.offset-=c)}(o=r-this.rowState.offset)-(a=n-this.rowState.offset)>2e4&&console.warn("Layout X pitch set too low, feature spans ".concat(o-a," bits in a single row."),e,t);for(var u=a;u<o;u+=1)this.rowState.bits[u]=t;n<this.rowState.min&&(this.rowState.min=n),r>this.rowState.max&&(this.rowState.max=r)}},{key:"discardRange",value:function(e,t){if(!this.allFilled&&this.rowState&&!(t<=this.rowState.min||e>=this.rowState.max))if(e<=this.rowState.min&&t>=this.rowState.max)this.rowState=void 0;else{if(t>this.rowState.min&&e<=this.rowState.min&&(this.rowState.min=t),e<this.rowState.max&&t>=this.rowState.max&&(this.rowState.max=e),this.rowState.offset<this.rowState.min-1e4&&this.rowState.bits.length>this.rowState.max+1e4-this.rowState.offset){var n=this.rowState.min-this.rowState.offset,r=this.rowState.bits.length-1-(this.rowState.max-this.rowState.offset);this.rowState.bits=this.rowState.bits.slice(n,this.rowState.bits.length-r),this.rowState.offset+=n}else if(this.rowState.offset<this.rowState.min-1e4){var a=this.rowState.min-Math.floor(5e3)-this.rowState.offset;this.rowState.bits.splice(0,a),this.rowState.offset+=a}else if(this.rowState.bits.length>this.rowState.max-this.rowState.offset+1e4){var o=this.rowState.max-this.rowState.offset+1+Math.floor(5e3);this.rowState.bits.length=o}for(var i=Math.max(this.rowState.min,e)-this.rowState.offset,l=Math.min(t,this.rowState.max)-this.rowState.offset,c=i;c>=0&&c<l;c+=1)this.rowState.bits[c]=void 0}}}]),e}(),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pitchX,r=void 0===n?10:n,a=t.pitchY,o=void 0===a?10:a,l=t.maxHeight,c=void 0===l?1e4:l,u=t.hardRowLimit,s=void 0===u?1e4:u,d=t.displayMode,f=void 0===d?"normal":d;(0,i.default)(this,e),this.pitchX=void 0,this.pitchY=void 0,this.hardRowLimit=void 0,this.bitmap=void 0,this.rectangles=void 0,this.maxHeightReached=void 0,this.maxHeight=void 0,this.displayMode=void 0,this.pTotalHeight=void 0,this.pitchX=r,this.pitchY=o,this.hardRowLimit=s,this.maxHeightReached=!1,this.displayMode=f,"compact"===this.displayMode&&(this.pitchY=Math.round(this.pitchY/4)||1,this.pitchX=Math.round(this.pitchX/4)||1),this.bitmap=[],this.rectangles=new Map,this.maxHeight=Math.ceil(c/this.pitchY),this.pTotalHeight=0}return(0,l.default)(e,[{key:"addRect",value:function(e,t,n,r,a){var o=this.rectangles.get(e);if(o)return null===o.top?null:(this.addRectToBitmap(o),o.top*this.pitchY);var i=Math.floor(t/this.pitchX),l=Math.floor(n/this.pitchX),c=Math.ceil(r/this.pitchY),u={id:e,l:i,r:l,top:null,h:c,originalHeight:r,data:a},s=this.maxHeight-c,d=0;if("collapse"!==this.displayMode){for(;d<=s&&this.collides(u,d);d+=1);if(d>s)return u.top=null,this.rectangles.set(e,u),this.maxHeightReached=!0,null}return u.top=d,this.addRectToBitmap(u),this.rectangles.set(e,u),this.pTotalHeight=Math.max(this.pTotalHeight||0,d+c),d*this.pitchY}},{key:"collides",value:function(e,t){for(var n=this.bitmap,r=t+e.h,a=t;a<r;a+=1){var o=n[a];if(o&&!o.isRangeClear(e.l,e.r))return!0}return!1}},{key:"autovivifyRow",value:function(e,t){var n=e[t];if(!n){if(t>this.hardRowLimit)throw new Error("layout hard limit (".concat(this.hardRowLimit*this.pitchY,"px) exceeded, aborting layout"));n=new s,e[t]=n}return n}},{key:"addRectToBitmap",value:function(e){if(null!==e.top){var t=e.data||e.id,n=this.bitmap,r=e.top+e.h;if(e.r-e.l>2e4)for(var a=e.top;a<r;a+=1)this.autovivifyRow(n,a).setAllFilled(t);else for(var o=e.top;o<r;o+=1)this.autovivifyRow(n,o).addRect(e,t)}}},{key:"discardRange",value:function(e,t){for(var n=Math.floor(e/this.pitchX),r=Math.floor(t/this.pitchX),a=this.bitmap,o=0;o<a.length;o+=1){var i=a[o];i&&i.discardRange(n,r)}}},{key:"hasSeen",value:function(e){return this.rectangles.has(e)}},{key:"getByCoord",value:function(e,t){var n=Math.floor(t/this.pitchY),r=this.bitmap[n];if(r){var a=Math.floor(e/this.pitchX);return r.getItemAt(a)}}},{key:"getByID",value:function(e){var t=this.rectangles.get(e);if(t){var n=t.top*this.pitchY;return[t.l*this.pitchX,n,t.r*this.pitchX,n+t.originalHeight]}}},{key:"cleanup",value:function(){}},{key:"getTotalHeight",value:function(){return this.pTotalHeight*this.pitchY}},{key:"totalHeight",get:function(){return this.getTotalHeight()}},{key:"getRectangles",value:function(){var e=this;return new Map(Array.from(this.rectangles.entries()).map((function(t){var n=(0,o.default)(t,2),r=n[0],a=n[1],i=a.l,l=a.r,c=a.originalHeight,u=(a.top||0)*e.pitchY,s=u+c;return[r,[i*e.pitchX,u,l*e.pitchX,s]]})))}},{key:"serializeRegion",value:function(e){var t,n={},r=!1,i=(0,a.default)(this.rectangles.entries());try{for(i.s();!(t=i.n()).done;){var l=(0,o.default)(t.value,2),c=l[0],s=l[1],d=s.l,f=s.r,p=s.originalHeight,m=s.top;if(null===s.top)r=!0;else{var h=(m||0)*this.pitchY,g=h+p,v=d*this.pitchX,b=f*this.pitchX;u(e.start,e.end,v-this.pitchX,b+this.pitchX)&&(n[c]=[v,h,b,g])}}}catch(e){i.e(e)}finally{i.f()}return{rectangles:n,totalHeight:this.getTotalHeight(),maxHeightReached:r}}},{key:"toJSON",value:function(){return{rectangles:(0,c.objectFromEntries)(this.getRectangles()),totalHeight:this.getTotalHeight(),maxHeightReached:this.maxHeightReached}}}]),e}();t.default=d},1006:function(e,t,n){"use strict";e.exports=n(1699)},1007:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=n(563),l=function(){function e(t){var n=t.filters,r=void 0===n?[]:n;(0,a.default)(this,e),this.filterChain=void 0,this.filterChain=r.map((function(e){if("string"==typeof e)return{expr:(0,i.stringToJexlExpression)(e),string:e};throw new Error('invalid inputFilter string "'.concat(e,'"'))}))}return(0,o.default)(e,[{key:"passes",value:function(){for(var e=0;e<this.filterChain.length;e+=1)if(!this.filterChain[e].expr.evalSync({feature:arguments.length<=0?void 0:arguments[0]}))return!1;return!0}},{key:"toJSON",value:function(){return{filters:this.filterChain.map((function(e){return e.string}))}}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.default=l},1008:function(e,t,n){"use strict";var r=n(9).default,a=n(14).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.useRef)(null),n=e.theme,r=e.html,a=e.RenderingComponent,f=(0,o.default)(e,d),p=(0,u.createJBrowseTheme)(n);return(0,l.useEffect)((function(){var e=t.current;return e&&(e&&(0,c.unmountComponentAtNode)(e),e.innerHTML=r,(0,s.rIC)((function(){(0,c.hydrate)(l.default.createElement(i.ThemeProvider,{theme:p},l.default.createElement(a,f)),e)}),{timeout:300})),function(){e&&(0,c.unmountComponentAtNode)(e)}}),[r,p,f,a]),l.default.createElement("div",{ref:t,"data-html-size":r.length,className:"ssr-container"})};var o=r(n(11)),i=n(17),l=a(n(1)),c=n(6),u=n(128),s=n(39),d=["theme","html","RenderingComponent"]},1009:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.watchWorker=g;var a=r(n(22)),o=r(n(26)),i=r(n(34)),l=r(n(19)),c=r(n(41)),u=r(n(16)),s=r(n(15)),d=r(n(24)),f=n(20),p=n(39),m=n(994);function h(e){return"function"!=typeof e&&!(e instanceof Error)}function g(e,t,n){return v.apply(this,arguments)}function v(){return(v=(0,d.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.call("ping",[],{timeout:1e8,rpcDriverClassName:r});case 2:return e.abrupt("return",new Promise((function(e,o){!function e(){setTimeout((0,d.default)(a.default.mark((function i(){return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.call("ping",[],{timeout:2*n,rpcDriverClassName:r});case 3:e(),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),o(a.t0);case 9:case"end":return a.stop()}}),i,null,[[0,6]])}))),n)}()})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){function e(t){(0,u.default)(this,e),this.driver=t,this.worker=void 0}return(0,s.default)(e,[{key:"getWorker",value:function(e,t){var n=this;if(!this.worker){var r=this.driver.makeWorker(e);g(r,this.driver.maxPingTime,t).catch((function(e){n.worker&&(console.warn("worker did not respond, killing and generating new one ".concat(e)),n.worker.destroy(),n.worker.status="killed",n.worker.error=e,n.worker=void 0)})),this.worker=r}return this.worker}}]),e}(),y=function(){function e(t){(0,u.default)(this,e),this.name=void 0,this.lastWorkerAssignment=-1,this.workerAssignments=new Map,this.workerCount=0,this.workerPool=void 0,this.maxPingTime=3e4,this.workerCheckFrequency=5e3,this.config=void 0,this.config=t.config}var t;return(0,s.default)(e,[{key:"filterArgs",value:function(e,t,n){var r=this;if(Array.isArray(e))return e.filter(h).map((function(e){return r.filterArgs(e,t,n)}));if("object"===(0,c.default)(e)&&null!==e){if(e instanceof AbortSignal)return(0,m.serializeAbortSignal)(e,this.remoteAbort.bind(this,t,n));if((0,f.isStateTreeNode)(e)&&!(0,f.isAlive)(e))throw new Error("dead state tree node passed to RPC call");return e instanceof File?e:(0,p.objectFromEntries)(Object.entries(e).filter((function(e){return h(e[1])})).map((function(e){var a=(0,l.default)(e,2),o=a[0],i=a[1];return[o,r.filterArgs(i,t,n)]})))}return e}},{key:"remoteAbort",value:function(e,t,n,r){this.getWorker(t,e).call(n,{signalId:r},{timeout:1e6,rpcDriverClassName:this.name})}},{key:"createWorkerPool",value:function(){var e,t,n=this,r=(e="undefined"!=typeof window,t=e&&"hardwareConcurrency"in window.navigator,e&&t?window.navigator.hardwareConcurrency:1),a=this.workerCount||Math.max(1,Math.ceil((r-2)/3));return(0,i.default)(new Array(a)).map((function(){return new b(n)}))}},{key:"getWorkerPool",value:function(){if(!this.workerPool){var e=this.createWorkerPool();return this.workerPool=e,e}return this.workerPool}},{key:"getWorker",value:function(e,t){var n=this.getWorkerPool(),r=this.workerAssignments.get(e);if(void 0===r){var a=(this.lastWorkerAssignment+1)%n.length;this.workerAssignments.set(e,a),this.lastWorkerAssignment=a,r=a}var o=n[r].getWorker(t,this.name);if(!o)throw new Error("no web workers registered for RPC");return o}},{key:"call",value:(t=(0,d.default)(a.default.mark((function e(t,n,r,i){var l,c,u,s,d,f,p,m,h,g,v=this,b=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=b.length>4&&void 0!==b[4]?b[4]:{},n){e.next=3;break}throw new TypeError("sessionId is required");case 3:return c=!1,u=this.getWorker(n,t),s=t.getRpcMethodType(r),e.next=8,s.serializeArguments(i,this.name);case 8:return d=e.sent,f=this.filterArgs(d,t,n),p=u.call(r,f,(0,o.default)({timeout:3e5,statusCallback:i.statusCallback,rpcDriverClassName:this.name},l)).finally((function(){c=!0})),h=new Promise((function(e,t){m=setInterval((function(){"killed"===u.status?t(new Error("operation timed out, worker process stopped responding, ".concat(u.error))):c&&e(!0)}),v.workerCheckFrequency)})).finally((function(){clearInterval(m)})),g=Promise.race([p,h]),e.abrupt("return",s.deserializeReturn(g,i,this.name));case 14:case"end":return e.stop()}}),e,this)}))),function(e,n,r,a){return t.apply(this,arguments)})}]),e}();t.default=y},1010:function(e,t,n){"use strict";n.r(t),n.d(t,"ConfigurationEditor",(function(){return et})),n.d(t,"JsonEditor",(function(){return Qe}));var r=n(1),a=n.n(r),o=n(162),i=n.n(o),l=n(194),c=n.n(l),u=n(131),s=n.n(u),d=n(33),f=n(20),p=n(43),m=n(91),h=n(195),g=n(129),v=n.n(g),b=n(230),y=n(777),w=n(164),C=n(39),E=n(671),O=n(697),k=n(1793),x=n(1790),S=n(67),j=n(719),T=n(683),P=n(718),R=n(678),M=n(1795),I=n(1796),L=n(703),A=n(687),F=n(1781),N=n(688),_=n(698),D=n(1019),z=n(707),B=n(681),H=n(1726),V=n.n(H),W=n(1828),G=n(943),U=n.n(G),q=n(944),$=n.n(q),K=n(945),J=n.n(K),X=n(699),Y=n(700),Z=n(941),Q=n(128),ee=n(192),te=n(205),ne=n.n(te),re=n(410),ae=n.n(re),oe=n(347),ie=n.n(oe),le=n(563),ce=n(376),ue=n.n(ce),se=n(0),de=n.n(se),fe=n(421);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){we(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function he(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ge(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){he(o,r,a,i,l,"next",e)}function l(e){he(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ce(){return(Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ke(e,t)}function Oe(e){return(Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Se(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Oe(e);if(t){var a=Oe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return xe(this,n)}}function je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Oe(e)););return e}function Te(){return(Te="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=je(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Pe(e,t){return Me(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Le(e,t)||Fe()}function Re(e){return function(e){if(Array.isArray(e))return Ae(e)}(e)||Ie(e)||Le(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e){if(Array.isArray(e))return e}function Ie(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Le(e,t){if(e){if("string"==typeof e)return Ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ae(e,t):void 0}}function Ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ne(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Le(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}var _e=function(e){return f.types.model("ConfigurationEditorWidget",{id:m.ElementId,type:f.types.literal("ConfigurationEditorWidget"),target:f.types.safeReference(e.pluggableConfigSchemaType("track"))}).actions((function(e){return{setTarget:function(t){e.target=t}}}))},De=Object(p.ConfigurationSchema)("ConfigurationEditorWidget",{}),ze=Object(d.observer)((function(e){var t=e.model;if(t&&t.target){if(t.target.type)return"".concat(t.target.type," settings");if(Object(f.isStateTreeNode)(t.target)){var n=Object(f.getType)(t.target);if(n&&n.name)return"".concat(n.name.replace("ConfigurationSchema","")," settings")}}return"Settings"}));function Be(e,t){return e(t={exports:{}},t.exports),t.exports}var He=Be((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),Ve=function(e){Ee(a,e);var t,n,r=Se(a);function a(e,t,n){var o;ve(this,a),o=r.call(this,e,t,n);var i=Object(p.readConfObject)(e,"features");return o.features=a.makeFeatures(i||[]),o}return ye(a,[{key:"getRefNames",value:(n=ge(He.mark((function e(){return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Re(this.features.keys()));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNameAliases",value:(t=ge(He.mark((function e(){return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.features.values()).map((function(e){return{refName:e[0].get("refName"),aliases:e[0].get("aliases")}})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=e.refName,r=e.start,a=e.end;return Object(b.ObservableCreate)(function(){var e=ge(He.mark((function e(o){var i,l,c;return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.features.get(n)||[],l=0;l<i.length;l++)(c=i[l]).get("end")>r&&c.get("start")<a&&o.next(c);o.complete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}],[{key:"makeFeatures",value:function(e){for(var t=new Map,n=0;n<e.length;n+=1)if(e[n]){var r=this.makeFeature(e[n]),a=r.get("refName"),o=t.get(a);o||(o=[],t.set(a,o)),o.push(r)}var i,l=Ne(t.values());try{for(l.s();!(i=l.n()).done;){i.value.sort((function(e,t){return e.get("start")-t.get("start")}))}}catch(e){l.e(e)}finally{l.f()}return t}},{key:"makeFeature",value:function(e){return new v.a(e)}}]),a}(h.BaseFeatureDataAdapter),We=function(e){Ee(r,e);var t,n=Se(r);function r(e,t,a){var o;ve(this,r),o=n.call(this,e,t,a);var i=Object(p.readConfObject)(e,"features");return o.features=Ve.makeFeatures(i||[]),o}return ye(r,[{key:"getRegions",value:(t=ge(He.mark((function e(){var t,n,r,a,o,i,l,c,u,s;return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Ne(this.features);try{for(n.s();!(r=n.n()).done;){a=Pe(r.value,2),o=a[0],i=a[1],l=void 0,c=Ne(i);try{for(c.s();!(u=c.n()).done;)s=u.value,l&&l.end>=s.get("start")&&l.start<=s.get("end")?l.end=s.get("end"):(l&&t.push(l),l={refName:o,start:s.get("start"),end:s.get("end")})}catch(e){c.e(e)}finally{c.f()}l&&t.push(l)}}catch(e){n.e(e)}finally{n.f()}return t.sort((function(e,t){return e.refName.localeCompare(t.refName)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),r}(h.BaseAdapter),Ge=function(e){Ee(r,e);var t,n=Se(r);function r(){return ve(this,r),n.apply(this,arguments)}return ye(r,[{key:"getFeatures",value:function(e){var t=this,n=Te(Oe(r.prototype),"getFeatures",this);return Object(b.ObservableCreate)(function(){var r=ge(He.mark((function r(a){var o,i;return He.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.call(t,e).pipe(Object(y.a)()).toPromise();case 2:o=r.sent,i=o[0],a.next(new v.a(me(me({},i.toJSON()),{},{uniqueId:"".concat(i.id(),":").concat(e.start,"-").concat(e.end),end:e.end,start:e.start,seq:i.get("seq").slice(Math.max(e.start-i.get("start"),0),Math.max(e.end-i.get("start"),0))}))),a.complete();case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"getRegions",value:(t=ge(He.mark((function e(){var t,n,r,a,o,i,l,c,u,s;return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=Ne(this.features);try{for(n.s();!(r=n.n()).done;){a=Pe(r.value,2),o=a[0],i=a[1],l=void 0,c=Ne(i);try{for(c.s();!(u=c.n()).done;)s=u.value,l&&l.end>=s.get("start")&&l.start<=s.get("end")?l.end=s.get("end"):(l&&t.push(l),l={refName:o,start:s.get("start"),end:s.get("end")})}catch(e){c.e(e)}finally{c.f()}l&&t.push(l)}}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),r}(Ve),Ue=Object(p.ConfigurationSchema)("FromConfigAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"}),qe=Object(p.ConfigurationSchema)("FromConfigRegionsAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"}),$e=Object(p.ConfigurationSchema)("FromConfigSequenceAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"}),Ke=function(e){Ee(a,e);var t,n,r=Se(a);function a(){return ve(this,a),r.apply(this,arguments)}return ye(a,[{key:"getRefNameAliases",value:(n=ge(He.mark((function e(){var t,n;return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=Object(p.readConfObject)(this.config,"location")).uri&&"/path/to/my/aliases.txt"!==t.uri){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,Object(w.openLocation)(t).readFile("utf8");case 5:return n=e.sent,e.abrupt("return",n.trim().split("\n").map((function(e){var t,n=e.split("\t"),r=Me(t=n)||Ie(t)||Le(t)||Fe();return{refName:r[0],aliases:r.slice(1)}})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"freeResources",value:(t=ge(He.mark((function e(){return He.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),a}(h.BaseAdapter),Je=Object(p.ConfigurationSchema)("RefNameAliasAdapter",{location:{type:"fileLocation",defaultValue:{uri:"/path/to/my/aliases.txt",locationType:"UriLocation"}}},{explicitlyTyped:!0}),Xe=Object(E.a)({error:{color:"red",fontSize:"0.8em"}}),Ye=Object(r.lazy)((function(){return Promise.resolve().then((function(){return at}))}));function Ze(e){var t=e.slot,n=Xe(),o=Pe(Object(r.useState)(JSON.stringify(t.value,null,"  ")),2),i=o[0],l=o[1],c=Pe(Object(r.useState)(),2),u=c[0],s=c[1],d=Object(C.useDebounce)(i,400);return Object(r.useEffect)((function(){try{t.set(JSON.parse(d)),s(void 0)}catch(e){s(e.message)}}),[d]),a.a.createElement(a.a.Fragment,null,u?a.a.createElement("p",{className:n.error},u):null,a.a.createElement(O.a,{error:u},a.a.createElement(k.a,{shrink:!0,htmlFor:"callback-editor"},t.name),a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(Ye,{contents:i,setContents:l})),a.a.createElement(x.a,null,t.description)))}Ze.propTypes={slot:d.PropTypes.objectOrObservableObject.isRequired};var Qe=Object(d.observer)(Ze),et=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Rt}))})),tt=function(e){Ee(n,e);var t=Se(n);function n(){var e;return ve(this,n),(e=t.apply(this,arguments)).name="ConfigurationPlugin",e}return ye(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new i.a({name:"FromConfigAdapter",configSchema:Ue,AdapterClass:Ve,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new i.a({name:"FromConfigRegionsAdapter",configSchema:qe,AdapterClass:We,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new i.a({name:"FromConfigSequenceAdapter",configSchema:$e,AdapterClass:Ge,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new i.a({name:"RefNameAliasAdapter",configSchema:Je,AdapterClass:Ke,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addWidgetType((function(){return new c.a({name:"ConfigurationEditorWidget",HeadingComponent:ze,configSchema:De,stateModel:_e(e),ReactComponent:et})}))}}]),n}(s.a),nt='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',rt=Object(E.a)({callbackEditor:{fontFamily:nt,fontSize:"12px",overflowX:"auto",marginTop:"16px",borderBottom:"1px solid rgba(0,0,0,0.42)"},syntaxHighlighter:{margin:0,fontFamily:nt,fontSize:"12px"}});var at={__proto__:null,default:function(e){var t=e.contents,n=e.setContents,o=rt(),i=Object(S.a)();return Object(r.useEffect)((function(){W.a.registerLanguage("json",U.a)}),[]),a.a.createElement(V.a,{className:o.callbackEditor,value:t,onValueChange:n,highlight:function(e){return a.a.createElement(W.a,{language:"json",style:"dark"===i.palette.type?$.a:J.a,className:o.syntaxHighlighter,customStyle:{background:"none",padding:0}},e)},padding:10,style:{}})}},ot=Object(E.a)((function(e){return{callbackEditor:{marginTop:"16px",borderBottom:"1px solid ".concat(e.palette.divider),fontFamily:'Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',fontSize:"12px"}}}));function it(e){var t=e.slot,n=ot(),o=Pe(Object(r.useState)(t.value),2),i=o[0],l=o[1],c=Pe(Object(r.useState)(),2),u=c[0],s=c[1],d=Object(C.useDebounce)(i,400);return Object(r.useEffect)((function(){try{var e,n=d.startsWith("jexl:")?d:"jexl:".concat(d);Object(le.stringToJexlExpression)(n,null===(e=Object(f.getEnv)(t).pluginManager)||void 0===e?void 0:e.jexl),t.set(n),s(null)}catch(e){s(e)}}),[d,t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,null,a.a.createElement(k.a,{shrink:!0,htmlFor:"callback-editor"},t.name),a.a.createElement(V.a,{className:n.callbackEditor,value:i.startsWith("jexl:")?i.split("jexl:")[1]:i,onValueChange:function(e){l(e)},highlight:function(e){return e},padding:10,style:{background:u?"#fdd":void 0}}),a.a.createElement(x.a,null,t.description)),a.a.createElement(j.a,{title:a.a.createElement("div",null,"Callbacks are written in Jexl format. Click to learn more.",a.a.createElement("br",null)," Names of available context items: ",t.contextVariable),arrow:!0},a.a.createElement(T.a,{color:"primary",onClick:function(){var e=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");e&&(e.opener=null)}},a.a.createElement(ue.a,null))))}it.propTypes={slot:d.PropTypes.objectOrObservableObject.isRequired};var lt=Object(d.observer)(it),ct=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Lt}))}));var ut=function(e){var t=e.value,n=e.label,o=e.TextFieldProps,i=e.onChange,l=Pe(Object(r.useState)(!1),2),c=l[0],u=l[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(P.a,Object.assign({value:t,label:n,InputProps:{style:{color:t,borderRightWidth:"25px",borderRightStyle:"solid",borderRightColor:t}},onClick:function(){return u(!c)},onChange:function(e){i(e.target.value)}},o)),c?a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(ct,{color:t,onChange:function(e){i(function(e){if(e instanceof Object){var t=e.r,n=e.g,r=e.b,a=e.a;return void 0===a?"rgb(".concat(t,",").concat(n,",").concat(r,")"):"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(a,")")}return e}(e.rgb))}})):null)};function st(e){var t=e.slot;return a.a.createElement(ut,{label:t.name,value:t.value,onChange:function(e){t.set(e)},TextFieldProps:{helperText:t.description,fullWidth:!0}})}ut.propTypes={onChange:de.a.func.isRequired,label:de.a.string,TextFieldProps:de.a.shape({}),value:de.a.string},ut.defaultProps={label:"",value:"#000",TextFieldProps:{}},st.propTypes={slot:de.a.shape({name:de.a.string.isRequired,description:de.a.string,value:de.a.string.isRequired,set:de.a.func.isRequired}).isRequired};var dt=Object(d.observer)(st),ft=Object(d.observer)((function(e){var t=e.slot;return a.a.createElement(P.a,{label:t.name,helperText:t.description,fullWidth:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),pt=Object(d.observer)((function(e){var t=e.slot;return a.a.createElement(P.a,{label:t.name,helperText:t.description,fullWidth:!0,multiline:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),mt=function(){return a.a.createElement(R.a,null,a.a.createElement("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"}))},ht=Object(d.observer)((function(e){var t=e.slot,n=Pe(Object(r.useState)(""),2),o=n[0],i=n[1];return a.a.createElement(a.a.Fragment,null,t.name?a.a.createElement(k.a,null,t.name):null,a.a.createElement(M.a,{disablePadding:!0},t.value.map((function(e,n){return a.a.createElement(I.a,{key:n,disableGutters:!0},a.a.createElement(P.a,{value:e,onChange:function(e){return t.setAtIndex(n,e.target.value)},InputProps:{endAdornment:a.a.createElement(L.a,{position:"end"},a.a.createElement(T.a,{color:"secondary",onClick:function(){return t.removeAtIndex(n)}},a.a.createElement(ne.a,null)))}}))})),a.a.createElement(I.a,{disableGutters:!0},a.a.createElement(P.a,{value:o,placeholder:"add new",onChange:function(e){return i(e.target.value)},InputProps:{endAdornment:a.a.createElement(L.a,{position:"end"},a.a.createElement(T.a,{onClick:function(){t.add(o),i("")},disabled:""===o,color:"secondary","data-testid":"stringArrayAdd-".concat(t.name)},a.a.createElement(ae.a,null)))}}))),a.a.createElement(x.a,null,t.description))})),gt=Object(E.a)((function(e){return{card:{marginTop:e.spacing(1)}}})),vt=Object(d.observer)((function(e){var t=e.slot,n=gt(),o=Pe(Object(r.useState)(""),2),i=o[0],l=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,null,t.name),Array.from(t.value,(function(e){var r=Pe(e,2),o=r[0],i=r[1];return a.a.createElement(A.a,{raised:!0,key:o,className:n.card},a.a.createElement(F.a,{title:o,action:a.a.createElement(T.a,{color:"secondary",onClick:function(){return t.remove(o)}},a.a.createElement(ne.a,null))}),a.a.createElement(N.a,null,a.a.createElement(ht,{slot:{value:i,description:"Values associated with entry ".concat(o),setAtIndex:function(e,n){t.setAtKeyIndex(o,e,n)},removeAtIndex:function(e){t.removeAtKeyIndex(o,e)},add:function(e){t.addToKey(o,e)}}})))})),a.a.createElement(A.a,{raised:!0,className:n.card},a.a.createElement(F.a,{disableTypography:!0,title:a.a.createElement(P.a,{fullWidth:!0,value:i,placeholder:"add new",onChange:function(e){return l(e.target.value)},InputProps:{endAdornment:a.a.createElement(L.a,{position:"end"},a.a.createElement(T.a,{disabled:""===i,onClick:function(){t.add(i,[]),l("")},color:"secondary"},a.a.createElement(ae.a,null)))}})})),a.a.createElement(x.a,null,t.description))})),bt=Object(d.observer)((function(e){var t=e.slot,n=gt(),o=Pe(Object(r.useState)(""),2),i=o[0],l=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(k.a,null,t.name),Array.from(t.value,(function(e){var r=Pe(e,2),o=r[0],i=r[1];return a.a.createElement(A.a,{raised:!0,key:o,className:n.card},a.a.createElement(F.a,{title:o,action:a.a.createElement(T.a,{color:"secondary",onClick:function(){return t.remove(o)}},a.a.createElement(ne.a,null))}),a.a.createElement(N.a,null,a.a.createElement(yt,{slot:{value:i,set:function(e){return t.add(o,e)}}})))})),a.a.createElement(A.a,{raised:!0,className:n.card},a.a.createElement(F.a,{disableTypography:!0,title:a.a.createElement(P.a,{fullWidth:!0,value:i,placeholder:"add new",onChange:function(e){return l(e.target.value)},InputProps:{endAdornment:a.a.createElement(L.a,{position:"end"},a.a.createElement(T.a,{disabled:""===i,onClick:function(){t.add(i,0),l("")},color:"secondary"},a.a.createElement(ae.a,null)))}})})),a.a.createElement(x.a,null,t.description))})),yt=Object(d.observer)((function(e){var t=e.slot,n=Pe(Object(r.useState)(t.value),2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e=parseFloat(o,10);Number.isNaN(e)?t.reset():t.set(e)}),[t,o]),a.a.createElement(P.a,{label:t.name,helperText:t.description,value:o,type:"number",onChange:function(e){return i(e.target.value)}})})),wt=Object(d.observer)((function(e){var t=e.slot,n=Pe(Object(r.useState)(t.value),2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e=parseInt(o,10);Number.isNaN(e)||t.set(e)}),[t,o]),a.a.createElement(P.a,{label:t.name,helperText:t.description,value:o,type:"number",onChange:function(e){return i(e.target.value)}})})),Ct=Object(d.observer)((function(e){var t=e.slot;return a.a.createElement(O.a,null,a.a.createElement(_.a,{label:t.name,control:a.a.createElement(D.a,{checked:t.value,onChange:function(e){return t.set(e.target.checked)}})}),a.a.createElement(x.a,null,t.description))})),Et=Object(d.observer)((function(e){var t=e.slot,n=e.slotSchema,r=Object(f.getPropertyMembers)(Object(ee.getSubType)(n)),o=Object(ee.getUnionSubTypes)(Object(ee.getUnionSubTypes)(Object(ee.getSubType)(Object(ee.getPropertyType)(r,"value")))[1]).map((function(e){return e.value}));return a.a.createElement(P.a,{value:t.value,label:t.name,select:!0,helperText:t.description,fullWidth:!0,onChange:function(e){return t.set(e.target.value)}},o.map((function(e){return a.a.createElement(z.a,{key:e,value:e},e)})))})),Ot={string:ft,text:pt,fileLocation:Object(d.observer)((function(e){var t,n=e.slot;return a.a.createElement(Q.FileSelector,{location:n.value,setLocation:function(e){return n.set(e)},name:n.name,description:n.description,rootModel:null===(t=Object(f.getEnv)(n).pluginManager)||void 0===t?void 0:t.rootModel})})),stringArray:ht,stringArrayMap:vt,numberMap:bt,number:yt,integer:wt,color:dt,stringEnum:Et,boolean:Ct,frozen:Qe,configRelationships:Qe},kt=Object(E.a)((function(e){return{paper:{display:"flex",marginBottom:e.spacing(2),position:"relative",overflow:"visible"},paperContent:{flex:"auto",padding:e.spacing(1),overflow:"auto"},slotModeSwitch:{width:24,background:e.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}}})),xt=Object(d.observer)((function(e){var t=e.slot,n=e.slotSchema,r=kt(),o=t.type,i=t.isCallback?lt:Ot[o];return i||(console.warn("no slot editor defined for ".concat(o,", editing as string")),i=ft),o in Ot||console.warn("SlotEditor needs to implement ".concat(o)),a.a.createElement(B.a,{className:r.paper},a.a.createElement("div",{className:r.paperContent},a.a.createElement(i,{slot:t,slotSchema:n})),a.a.createElement("div",{className:r.slotModeSwitch},t.contextVariable.length?a.a.createElement(T.a,{className:r.slotModeIcon,onClick:function(){return t.isCallback?t.convertToValue():t.convertToCallback()},title:"convert to ".concat(t.isCallback?"regular value":"callback"),color:"secondary"},t.isCallback?a.a.createElement(mt,null):a.a.createElement(ie.a,null)):null))})),St=Object(d.observer)((function(e){var t=e.typeNameChoices,n=e.slot,r=e.slotName,o=e.onChange,i=kt();return a.a.createElement(B.a,{className:i.paper},a.a.createElement("div",{className:i.paperContent},a.a.createElement(P.a,{value:n.type,label:"Type",select:!0,helperText:"Type of ".concat(r," to use"),fullWidth:!0,onChange:o},t.map((function(e){return a.a.createElement(z.a,{key:e,value:e},e)})))))})),jt=Object(E.a)((function(e){return{subSchemaContainer:{marginLeft:e.spacing(1),borderLeft:"1px solid ".concat(e.palette.secondary.main),paddingLeft:e.spacing(1),marginBottom:e.spacing(1)},root:{padding:e.spacing(1,3,1,1),background:e.palette.background.default,overflowX:"hidden"}}})),Tt=Object(d.observer)((function(e){var t,n=jt(),r=e.slotName,o=e.slotSchema,i=e.schema,l=e.slot,c=void 0===l?i[r]:l;if(Object(p.isConfigurationSchemaType)(o)){if(c.length)return a.a.createElement(a.a.Fragment,null,c.map((function(t,n){var o="".concat(Object(Z.singular)(r)," ").concat(n+1);return a.a.createElement(Tt,Ce({},e,{key:o,slot:t,slotName:o}))})));var u=Object(p.getTypeNamesFromExplicitlyTypedUnion)(o);return u.length&&(t=a.a.createElement(St,{typeNameChoices:u,slotName:r,slot:c,onChange:function(e){e.target.value!==c.type&&i.setSubschema(r,{type:e.target.value})}})),a.a.createElement(a.a.Fragment,null,a.a.createElement(Y.a,null,r),a.a.createElement("div",{className:n.subSchemaContainer},t,a.a.createElement(X.a,null,a.a.createElement(Pt,{schema:c}))))}return Object(p.isConfigurationSlotType)(o)?a.a.createElement(xt,{key:r,slot:c,slotSchema:o}):null})),Pt=Object(d.observer)((function(e){var t=e.schema;return Object(C.iterMap)(Object.entries(Object(f.getMembers)(t).properties),(function(e){var n=Pe(e,2),r=n[0],o=n[1];return a.a.createElement(Tt,{key:r,slotName:r,slotSchema:o,schema:t})}))})),Rt={__proto__:null,default:Object(d.observer)((function(e){var t=e.model,n=jt(),r=t.target&&Object(p.readConfObject)(t.target,"trackId");return a.a.createElement("div",{className:n.root,key:r,"data-testid":"configEditor"},t.target?a.a.createElement(Pt,{schema:t.target}):"no target set")}))},Mt=Object(E.a)({popover:{position:"absolute",zIndex:2},cover:{position:"fixed",top:0,right:0,bottom:0,left:0}});function It(e){var t=e.color,n=e.onChange,o=Mt(),i=Pe(Object(r.useState)(!0),2),l=i[0],c=i[1];return a.a.createElement("div",null,l?a.a.createElement("div",{className:o.popover},a.a.createElement("div",{role:"presentation",className:o.cover,onClick:function(){c(!1)}}),a.a.createElement(fe.a,{color:t,onChange:n})):null)}It.propTypes={color:de.a.string.isRequired,onChange:de.a.func.isRequired};var Lt={__proto__:null,ColorPicker:It,default:It};t.default=tt},1011:function(e,t,n){"use strict";n.r(t),n.d(t,"BaseChordDisplayComponentFactory",(function(){return Ce})),n.d(t,"BaseChordDisplayModel",(function(){return Se})),n.d(t,"baseChordDisplayConfig",(function(){return je}));var r=n(1),a=n.n(r),o=n(39),i=n(131),l=n.n(i),c=n(310),u=n.n(c),s=n(962),d=n.n(s),f=n(20),p=n(91),m=n(45),h=n(43),g=n(163),v=n(420),b=n.n(v),y=n(129),w=n(118),C=n(33),E=n(377),O=n.n(E),k=n(378),x=n.n(k),S=n(963),j=n.n(S),T=n(964),P=n.n(T),R=n(965),M=n.n(R),I=n(966),L=n.n(I),A=n(1012),F=n(671),N=n(684),_=n(689),D=n(701),z=n(685),B=n(683),H=n(448),V=n(128),W=n(573),G=n(67),U=n(1013),q=n.n(U);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){ee(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function X(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){J(o,r,a,i,l,"next",e)}function l(e){J(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&Z(e.prototype,t),n&&Z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ae(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function oe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var a=te(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ae(this,n)}}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ce(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function se(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ce(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function de(e,t,n,r,a){var o=Math.abs(e-n);if(!(o>r)){o===r&&a.push([t,e]);var i=Math.sqrt(r*r-o*o);a.push([t-i,e]),a.push([t+i,e])}}function fe(e,t,n,r,a){var o=Math.abs(e-t);if(!(o>r)){o===r&&a.push([e,n]);var i=Math.sqrt(r*r-o*o);a.push([e,n-i]),a.push([e,n+i])}}function pe(e,t){var n=Math.sqrt(e*e+t*t);return 0===n?[0,0]:[n,function(e,t){var n=(Math.atan(t/e)+2*Math.PI)%(2*Math.PI);return e<0&&(t<=0?n+=Math.PI:n-=Math.PI),n}(e,t)]}var me=2*Math.PI;var he=function(){function e(t,n,r,a){Y(this,e),this.region=n,this.radianWidth=a;var i=t.bpPerRadian;this.key=Object(o.assembleLocString)(n),this.offsetRadians=r,this.bpPerRadian=i,this.flipped=!1,this.startRadians=this.offsetRadians,this.endRadians=n.widthBp/this.bpPerRadian+this.offsetRadians,Object.freeze(this)}return Q(e,[{key:"bpToXY",value:function(e,t){var n=(this.region.elided?this.region.widthBp/2:this.flipped?this.region.end-e:e-this.region.start)/this.bpPerRadian+this.offsetRadians;return Object(o.polarToCartesian)(t,n)}},{key:"toJSON",value:function(){return Object(o.objectFromEntries)(Object.entries(this))}}]),e}();function ge(e,t){var n,r,a,o,i=ie(e.visibleSection.theta,2),l=i[0],c=i[1];return n=t.offsetRadians+e.offsetRadians,r=t.radianWidth,a=l,o=c-l,!(r<=0||o<=0)&&(r+1e-4>=me||o+1e-4>=me||(n=(n%me+me)%me+me)<(a=(a%me+me)%me+me)+o&&n+r>a||n<(a-=me)+o&&n+r>a||n<(a+=me+me)+o&&n+r>a)}function ve(e){return f.types.compose(g.BaseViewModel,f.types.model("CircularView",{type:f.types.literal("CircularView"),offsetRadians:-Math.PI/2,bpPerPx:2e6,tracks:f.types.array(e.pluggableMstType("track","stateModel")),hideVerticalResizeHandle:!1,hideTrackSelectorButton:!1,lockedFitToWindow:!0,disableImportForm:!1,height:f.types.optional(f.types.refinement("trackHeight",f.types.number,(function(e){return e>=40})),400),minimumRadiusPx:25,spacingPx:10,paddingPx:80,lockedPaddingPx:100,minVisibleWidth:6,minimumBlockWidth:20,displayedRegions:f.types.array(p.Region),scrollX:0,scrollY:0,trackSelectorType:"hierarchical"}).volatile((function(){return{width:800}})).views((function(e){return{get staticSlices(){return function(e){var t,n=[],r=0,a=se(e.elidedRegions);try{for(a.s();!(t=a.n()).done;){var o=t.value,i=o.widthBp/e.bpPerRadian+e.spacingPx/e.pxPerRadian;n.push(new he(e,o,r,i)),r+=i}}catch(e){a.e(e)}finally{a.f()}return n}(e)},get visibleStaticSlices(){return this.staticSlices.filter(ge.bind(this,e))},get visibleSection(){return function(e,t,n){var r=ie(e,4),a=r[0],o=r[1],i=r[2],l=r[3],c=ie(t,2),u=c[0],s=c[1];if(o-=u,i-=s,l-=s,(a-=u)<0&&o>0&&i<0&&l>0){for(var d=[[a,i],[o,i],[a,l],[o,l]],f=-1/0,p=0;p<d.length;p+=1){var m=ie(d[p],2),h=m[0],g=m[1],v=Math.sqrt(h*h+g*g);v>f&&(f=v)}return{rho:[0,Math.min(n,f)],theta:[0,2*Math.PI]}}var b=[[a,i],[o,i],[a,l],[o,l]];fe(a,0,0,n,b),fe(o,0,0,n,b),de(i,0,0,n,b),de(l,0,0,n,b),-a<n&&b.push([a,0]),o<n&&b.push([o,0]),-i<n&&b.push([0,i]),l<n&&b.push([0,l]);for(var y=a>=0?-1:1,w=1/0,C=-1/0,E=1/0,O=-1/0,k=0;k<b.length;k+=1){var x=ie(b[k],2),S=x[0],j=x[1];if(S>=a&&S<=o&&j>=i&&j<=l){var T=ie(pe(S*y,j*y),2),P=T[0],R=T[1];P<=n+.001&&(R<E&&P>1e-4&&(E=R),R>O&&P>1e-4&&(O=R),P<w&&(w=P),P>C&&(C=P))}}return-1===y&&(E+=Math.PI,O+=Math.PI),E>2*Math.PI&&O>2*Math.PI&&(E-=2*Math.PI,O-=2*Math.PI),{rho:[w,Math.min(n,C)],theta:[E,O]}}([e.scrollX,e.scrollX+e.width,e.scrollY,e.scrollY+e.height],this.centerXY,this.radiusPx)},get circumferencePx(){var t,n=0,r=se(this.elidedRegions);try{for(r.s();!(t=r.n()).done;){n+=t.value.widthBp}}catch(e){r.e(e)}finally{r.f()}return n/e.bpPerPx+e.spacingPx*this.elidedRegions.length},get radiusPx(){return this.circumferencePx/(2*Math.PI)},get bpPerRadian(){return e.bpPerPx*this.radiusPx},get pxPerRadian(){return this.radiusPx},get centerXY(){return[this.radiusPx+e.paddingPx,this.radiusPx+e.paddingPx]},get totalBp(){var t,n=0,r=se(e.displayedRegions);try{for(r.s();!(t=r.n()).done;){var a=t.value;n+=a.end-a.start}}catch(e){r.e(e)}finally{r.f()}return n},get maximumRadiusPx(){return e.lockedFitToWindow?Math.min(e.width,e.height)/2-e.lockedPaddingPx:1e6},get maxBpPerPx(){var t=2*Math.PI*e.minimumRadiusPx;return this.totalBp/t},get minBpPerPx(){var e=2*Math.PI*this.maximumRadiusPx;return Object(o.clamp)(this.totalBp/e,1e-10,this.maxBpPerPx)},get atMaxBpPerPx(){return e.bpPerPx>=this.maxBpPerPx},get atMinBpPerPx(){return e.bpPerPx<=this.minBpPerPx},get tooSmallToLock(){return this.minBpPerPx<=1e-10},get figureDimensions(){return[2*this.radiusPx+2*e.paddingPx,2*this.radiusPx+2*e.paddingPx]},get figureWidth(){return this.figureDimensions[0]},get figureHeight(){return this.figureDimensions[1]},get elidedRegions(){var t=[];e.displayedRegions.forEach((function(n){var r=n.end-n.start;if(r/e.bpPerPx<e.minVisibleWidth){var a=t[t.length-1];a&&a.elided?(a.regions.push(K({},n)),a.widthBp+=r):t.push({elided:!0,widthBp:r,regions:[K({},n)]})}else t.push(K(K({},n),{},{widthBp:r}))}));for(var n=0;n<t.length;n+=1){var r=t[n];r.elided&&1===r.regions.length&&(delete r.elided,t[n]=K(K({},r),r.regions[0]))}return t},get assemblyNames(){var t=[];return e.displayedRegions.forEach((function(e){t.includes(e.assemblyName)||t.push(e.assemblyName)})),t},get initialized(){var t=Object(o.getSession)(e).assemblyManager;return this.assemblyNames.every((function(e){var n;return null===(n=t.assemblyList)||void 0===n||!n.map((function(e){return e.name})).includes(e)||(t.get(e)||{}).initialized}))}}})).volatile((function(){return{error:void 0}})).actions((function(t){return{setWidth:function(e){return t.width=Math.max(e,100),t.width},setHeight:function(e){return t.height=Math.max(e,40),t.height},resizeHeight:function(e){var n=t.height,r=this.setHeight(t.height+e);return this.setModelViewWhenAdjust(!t.tooSmallToLock),r-n},resizeWidth:function(e){var n=t.width,r=this.setWidth(t.width+e);return this.setModelViewWhenAdjust(!t.tooSmallToLock),r-n},rotateClockwiseButton:function(){this.rotateClockwise(Math.PI/6)},rotateCounterClockwiseButton:function(){this.rotateCounterClockwise(Math.PI/6)},rotateClockwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.17;t.offsetRadians+=e},rotateCounterClockwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.17;t.offsetRadians-=e},zoomInButton:function(){this.setBpPerPx(t.bpPerPx/1.4)},zoomOutButton:function(){this.setBpPerPx(1.4*t.bpPerPx)},setBpPerPx:function(e){t.bpPerPx=Object(o.clamp)(e,t.minBpPerPx,t.maxBpPerPx)},setModelViewWhenAdjust:function(e){t.lockedFitToWindow&&e&&this.setBpPerPx(t.minBpPerPx)},closeView:function(){Object(f.getParent)(t,2).removeView(t)},setDisplayedRegions:function(e){var n=0===t.displayedRegions.length;t.displayedRegions=Object(f.cast)(e),n?this.setBpPerPx(t.minBpPerPx):this.setBpPerPx(t.bpPerPx)},activateTrackSelector:function(){if("hierarchical"===t.trackSelectorType){var e=Object(o.getSession)(t);if(Object(o.isSessionModelWithWidgets)(e)){var n=e.addWidget("HierarchicalTrackSelectorWidget","hierarchicalTrackSelector",{view:t});return e.showWidget(n),n}}throw new Error("invalid track selector type ".concat(t.trackSelectorType))},toggleTrack:function(e){this.hideTrack(e)||this.showTrack(e)},setError:function(e){console.error(e),t.error=e},showTrack:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.pluggableConfigSchemaType("track"),o=Object(f.resolveIdentifier)(a,Object(f.getRoot)(t),n),i=e.getTrackType(o.type);if(!i)throw new Error("unknown track type ".concat(o.type));var l=e.getViewType(t.type),c=l.displayTypes.map((function(e){return e.name})),u=o.displays.find((function(e){return c.includes(e.type)})),s=i.stateModel.create(K(K({},r),{},{type:o.type,configuration:o,displays:[{type:u.type,configuration:u}]}));t.tracks.push(s)},addTrackConf:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.type,o=Object(h.readConfObject)(n,"name"),i=e.getTrackType(a);if(!i)throw new Error("unknown track type ".concat(n.type));var l=e.getViewType(t.type),c=l.displayTypes.map((function(e){return e.name})),u=n.displays.find((function(e){return c.includes(e.type)})),s=i.stateModel.create(K(K({},r),{},{name:o,type:a,configuration:n,displays:[{type:u.type,configuration:u}]}));t.tracks.push(s)},hideTrack:function(n){var r=e.pluggableConfigSchemaType("track"),a=Object(f.resolveIdentifier)(r,Object(f.getRoot)(t),n),o=t.tracks.filter((function(e){return e.configuration===a}));return Object(m.transaction)((function(){return o.forEach((function(e){return t.tracks.remove(e)}))})),o.length},toggleFitToWindowLock:function(){return t.lockedFitToWindow=!t.lockedFitToWindow,this.setModelViewWhenAdjust(t.atMinBpPerPx),t.lockedFitToWindow}}})))}var be=function(e){var t=e.lib,n=t.react,r=n.useState,a=n.useEffect,o=t["@material-ui/core/styles"].makeStyles,i=t["mobx-react"].observer,l=o((function(e){return{path:{strokeDasharray:187,strokeDashoffset:50,animation:"$dash ".concat(1.4,"s ease-in-out infinite, $colors ").concat(5.6,"s ease-in-out infinite")},"@keyframes colors":{"0%":{stroke:e.palette.primary.light},"25%":{stroke:e.palette.secondary.light},"50%":{stroke:e.palette.tertiary.light},"75%":{stroke:e.palette.quaternary.light},"100%":{stroke:e.palette.primary.light}},"@keyframes dash":{"0%":{strokeDashoffset:2},"50%":{strokeDashoffset:.5,transform:"rotate(135deg)"},"100%":{strokeDashoffset:2,transform:"rotate(720deg)"}}}}));return i((function(e){var t=e.model.renderProps.radius,o=l(),i=ie(r(!1),2),c=i[0],u=i[1];return a((function(){var e=setTimeout((function(){return u(!0)}),400);return function(){return clearTimeout(e)}})),c?n.createElement("g",null,n.createElement("defs",null,n.createElement("pattern",{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},n.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:"rgba(255,255,255,0.5)",strokeWidth:10}}))),n.createElement("circle",{cx:"0",cy:"0",r:t,fill:"#f1f1f1"}),n.createElement("circle",{cx:"0",cy:"0",r:t,fill:"url(#diagonalHatch)"}),n.createElement("text",{x:"0",y:"0",transform:"rotate(90 0 0)",dominantBaseline:"middle",textAnchor:"middle"},"Loading"),n.createElement("circle",{className:o.path,fill:"none",strokeWidth:"4",strokeLinecap:"round",cx:"0",cy:"0",r:"60"})):null}))},ye=function(e){var t=e.jbrequire,n=t("react"),r=t("@material-ui/core/styles").makeStyles,a=t("mobx-react").observer,o=r({errorMessage:{},errorBackground:{},errorText:{}});return a((function(e){var t=e.model,r=t.renderProps.radius,a=t.error,i=o();return n.createElement("g",{className:i.errorMessage},n.createElement("defs",null,n.createElement("pattern",{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},n.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:"rgba(255,0,0,0.5)",strokeWidth:10}}))),n.createElement("circle",{className:i.errorBackground,cx:"0",cy:"0",r:r,fill:"#ffb4b4"}),n.createElement("circle",{className:i.errorPattern,cx:"0",cy:"0",r:r,fill:"url(#diagonalHatch)"}),n.createElement("text",{className:i.errorText,x:"0",y:"0",transform:"rotate(90 0 0)",dominantBaseline:"middle",textAnchor:"middle"},String(a)))}))},we=function(e){var t=e.jbrequire,n=t("react"),r=t("mobx-state-tree").isAlive,a=n.useEffect,o=n.useRef,i=t("mobx-react"),l=i.observer,c=i.PropTypes,u=t("react-dom"),s=u.unmountComponentAtNode,d=u.hydrate,f=t("@jbrowse/core/util").rIC;function p(e){var t=e.model,i=t.data,l=t.html,c=t.filled,u=t.renderingComponent,p=o(null);return a((function(){var e=p.current;return e&&c&&(e&&e.innerHTML&&(e.style.display="none",s(e)),e.style.outline="none",e.innerHTML=l,f((function(){if(r(t)){var a=n.createElement(u,K(K({},i),t.renderProps()),null);f((function(){r(t)&&d(a,e)}))}}))),function(){e&&s(e)}})),n.createElement("g",{ref:p})}return p.propTypes={model:c.observableObject.isRequired},l(p)},Ce=function(e){var t=e.lib,n=e.load,r=t.react,a=t["mobx-react"],o=a.observer,i=a.PropTypes,l=n(be),c=n(ye),u=n(we);function s(e){var t=e.display;return t.error?r.createElement(c,{model:t}):t.filled?r.createElement(u,{model:t}):r.createElement(l,{model:t})}return s.propTypes={display:i.observableObject.isRequired},o(s)};function Ee(e,t){return e(t={exports:{}},t.exports),t.exports}var Oe=Ee((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),ke=["html"],xe=function(e){var t=e.jbrequire,n=t("@jbrowse/core/util/tracks").getRpcSessionId,r=t("@jbrowse/core/util").getContainingView,a=t("@jbrowse/core/util").getSession;function o(){return(o=X(Oe.mark((function e(t,n,r){var a,o,i,l,c,u,s,d;return Oe.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("cannot render with no props");case 2:if(a=t.rendererType,o=t.rpcManager,i=t.cannotBeRenderedReason,l=t.renderArgs,c=t.renderProps,!i){e.next=5;break}return e.abrupt("return",{message:i});case 5:if(t.renderProps.radius&&t.renderArgs.regions&&t.renderArgs.regions.length){e.next=7;break}return e.abrupt("return",{message:"Skipping render"});case 7:if(r.isCompatibleWithRenderer(a)){e.next=9;break}throw new Error("renderer ".concat(a.name," is not compatible with this display type"));case 9:return e.next=11,a.renderInClient(o,K(K(K({},l),c),{},{signal:n}));case 11:return u=e.sent,s=u.html,d=re(u,ke),e.abrupt("return",{html:s,data:d,renderingComponent:a.ReactComponent});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{renderReactionData:function(e){var t,o=r(e),i=e.rendererType;return{rendererType:i,rpcManager:a(o).rpcManager,renderProps:e.renderProps(),renderArgs:{assemblyName:null===(t=o.displayedRegions[0])||void 0===t?void 0:t.assemblyName,adapterConfig:JSON.parse(JSON.stringify(e.adapterConfig)),rendererType:i.name,regions:JSON.parse(JSON.stringify(o.displayedRegions)),blockDefinitions:e.blockDefinitions,sessionId:n(e),timeout:1e6}}},renderReactionEffect:function(e,t,n){return o.apply(this,arguments)}}},Se=f.types.compose("BaseChordDisplay",g.BaseDisplay,f.types.model({bezierRadiusRatio:.1,assemblyName:f.types.maybe(f.types.string)})).volatile((function(){return{filled:!1,reactElement:void 0,data:void 0,message:"",renderingComponent:void 0,refNameMap:void 0}})).actions((function(e){var t=Object(f.getEnv)(e).pluginManager,n=e;return{onChordClick:function(r){Object(h.getConf)(e,"onChordClick",{feature:r,track:n,pluginManager:t})}}})).views((function(e){return{get blockDefinitions(){var t=Object(o.getContainingView)(e).staticSlices;if(!e.refNameMap)return t;var n=JSON.parse(JSON.stringify(t));return n.forEach((function(t){(t.region.elided?t.region.regions:[t.region]).forEach((function(t){var n,r=null===(n=e.refNameMap)||void 0===n?void 0:n[t.refName];r&&t.refName!==r&&(t.refName=r)}))})),n},renderProps:function(){var t=Object(o.getContainingView)(e);return K(K({},Object(w.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,bezierRadius:t.radiusPx*e.bezierRadiusRatio,radius:t.radiusPx,blockDefinitions:this.blockDefinitions,onChordClick:e.onChordClick})},get rendererType(){var t=e,n=Object(f.getEnv)(e).pluginManager.getRendererType(e.rendererTypeName);if(!n)throw new Error('renderer "'.concat(t.rendererTypeName,'" not found'));if(!n.ReactComponent)throw new Error("renderer ".concat(t.rendererTypeName," has no ReactComponent, it may not be completely implemented yet"));return n},isCompatibleWithRenderer:function(e){return!!(e instanceof b.a)},get selectedFeatureId(){if(Object(f.isAlive)(e)){var t=Object(o.getSession)(e);if(t){var n=t.selection;return Object(y.isFeature)(n)?n.id():void 0}}}}})).actions((function(e){return{renderStarted:function(){e.filled=!1,e.message="",e.reactElement=void 0,e.data=void 0,e.error=void 0,e.renderingComponent=void 0},renderSuccess:function(t){var n=t.message,r=t.data,a=t.reactElement,o=t.renderingComponent;n?(e.filled=!1,e.message=n,e.reactElement=void 0,e.data=void 0,e.error=void 0,e.renderingComponent=void 0):(e.filled=!0,e.message="",e.reactElement=a,e.data=r,e.error=void 0,e.renderingComponent=o)},renderError:function(t){console.error(t),e.filled=!1,e.message="",e.reactElement=void 0,e.data=void 0,e.error=t,e.renderingComponent=void 0},setRefNameMap:function(t){e.refNameMap=t}}})).actions((function(e){var t=Object(f.getEnv)(e).pluginManager.jbrequire(xe),n=t.renderReactionData,r=t.renderReactionEffect;return{afterAttach:function(){Object(o.makeAbortableReaction)(e,n,r,{name:"".concat(e.type," ").concat(e.id," rendering"),fireImmediately:!0},e.renderStarted,e.renderSuccess,e.renderError),Object(o.makeAbortableReaction)(e,(function(){return{assemblyNames:Object(w.getTrackAssemblyNames)(e.parentTrack),adapter:Object(h.getConf)(Object(f.getParent)(e,2),"adapter"),assemblyManager:Object(o.getSession)(e).assemblyManager}}),function(){var t=X(Oe.mark((function t(n,r){var a,o,i;return Oe.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.assemblyNames,o=n.adapter,i=n.assemblyManager,t.abrupt("return",i.getRefNameMapForAdapter(o,a[0],{signal:r,sessionId:Object(w.getRpcSessionId)(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),{name:"".concat(e.type," ").concat(e.id," getting refNames"),fireImmediately:!0},(function(){}),(function(t){e.setRefNameMap(t)}),(function(t){console.error(t),e.setError(t)}))}}})),je=Object(h.ConfigurationSchema)("BaseChordDisplay",{onChordClick:{type:"boolean",description:"callback that should be run when a chord in the track is clicked",defaultValue:!1,contextVariable:["feature","track","pluginManager"]}},{explicitIdentifier:"displayId"}),Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&ne(e,t)}(n,e);var t=oe(n);function n(){var e;return Y(this,n),(e=t.apply(this,arguments)).name="CircularViewPlugin",e}return Q(n,[{key:"install",value:function(e){e.addViewType((function(){return new u.a({ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return He}))})),stateModel:ve(e),name:"CircularView"})}))}},{key:"configure",value:function(e){Object(o.isAbstractMenuManager)(e.rootModel)&&e.rootModel.appendToSubMenu(["Add"],{label:"Circular view",icon:d.a,onClick:function(e){e.addView("CircularView",{})}})}}]),n}(l.a),Pe=Object(F.a)({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function Re(e,t,n,r){if(e.flipped){var a=[r,n];n=a[0],r=a[1]}var o=e.bpToXY(n,t),i=e.bpToXY(r,t),l=Math.abs(r-n)/e.bpPerRadian>Math.PI?"1":"0";return["M"].concat(le(o),["A",t,t,"0",l,"1"],le(i)).join(" ")}var Me=Object(C.observer)((function(e){var t=e.model,n=e.slice,r=Object(G.a)(),i=t.radiusPx+1,l=n.endRadians,c=n.startRadians,u=n.region,s=Object(o.polarToCartesian)(i,c),d=Object(o.polarToCartesian)(i,l),f=(l-c)*i,p=l-c>Math.PI?"1":"0",m=(l+c)/2,h="[".concat(Number(u.regions.length).toLocaleString(),"]");return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ie,{text:h,view:t,maxWidthPx:f,radians:m,radiusPx:i,title:"".concat(Number(u.regions.length).toLocaleString()," more regions"),color:r.palette.text.primary}),a.a.createElement("path",{d:["M"].concat(le(s),["A",i,i,"0",p,"1"],le(d)).join(" "),stroke:r.palette.text.secondary,strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))})),Ie=Object(C.observer)((function(e){var t=e.view,n=e.text,r=e.maxWidthPx,i=e.radians,l=e.radiusPx,c=e.title,u=e.color,s=Pe(),d=Object(o.polarToCartesian)(l+5,i);return n?6.5*n.length<r?a.a.createElement("text",{x:0,y:0,className:s.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:"translate(".concat(d,") rotate(").concat(Object(o.radToDeg)(i)+90,")"),style:{fill:u}},n,a.a.createElement("title",null,c||n)):r>4?Object(o.radToDeg)(i+t.offsetRadians-Math.PI/2)>=180?a.a.createElement("text",{x:0,y:0,className:s.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:"translate(".concat(d,") rotate(").concat(Object(o.radToDeg)(i),")"),style:{fill:u}},n,a.a.createElement("title",null,c||n)):a.a.createElement("text",{x:0,y:0,className:s.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:"translate(".concat(d,") rotate(").concat(Object(o.radToDeg)(i)+180,")"),style:{fill:u}},n,a.a.createElement("title",null,c||n)):null:null})),Le=Object(C.observer)((function(e){var t,n=e.model,r=e.slice,i=Object(G.a)(),l=n.radiusPx,c=r.region,u=r.endRadians,s=r.startRadians,d=(u+s)/2,f=(u-s)*l,p=Object(o.getSession)(n).assemblyManager.get(r.region.assemblyName);if(p&&(t=p.getRefNameColor(c.refName)),t)try{t=Object(W.makeContrasting)(t,i.palette.background.paper)}catch(e){t=i.palette.text.primary}else t=i.palette.text.primary;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Ie,{text:c.refName,view:n,maxWidthPx:f,radians:d,radiusPx:l,color:t}),a.a.createElement("path",{d:Re(r,l+1,c.start,c.end),stroke:t,strokeWidth:2,fill:"none"},a.a.createElement("title",null,c.refName)))})),Ae=Object(C.observer)((function(e){var t=e.model,n=e.slice;return n.region.elided?a.a.createElement(Me,{key:Object(o.assembleLocString)(n.region.regions[0]),model:t,slice:n}):a.a.createElement(Le,{key:Object(o.assembleLocString)(n.region),model:t,slice:n})})),Fe=Object(F.a)((function(e){return{importFormContainer:{marginBottom:e.spacing(4)}}})),Ne=Object(C.observer)((function(e){var t=e.error;return a.a.createElement(N.a,{variant:"h6",color:"error"},"".concat(t))})),_e=Object(C.observer)((function(e){var t=e.model,n=Fe(),i=Object(o.getSession)(t),l=t.error,c=i.assemblyNames,u=i.assemblyManager,s=ie(Object(r.useState)(c[0]),2),d=s[0],f=s[1],p=ie(Object(r.useState)(l),2),m=p[0],h=p[1],g=u.get(d),v=c.length?null==g?void 0:g.error:"No configured assemblies",b=(null==g?void 0:g.regions)||[],y=v||m;return a.a.createElement(a.a.Fragment,null,a.a.createElement(_.a,{className:n.importFormContainer},y?a.a.createElement(D.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.a.createElement(D.a,{item:!0},a.a.createElement(Ne,{error:y}))):null,a.a.createElement(D.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.a.createElement(D.a,{item:!0},a.a.createElement(q.a,{onChange:function(e){h(void 0),f(e)},session:i,selected:d})),a.a.createElement(D.a,{item:!0},a.a.createElement(z.a,{disabled:!(b&&b.length),onClick:function(){return t.setDisplayedRegions(b)},variant:"contained",color:"primary"},b.length?"Open":"Loading")))))})),De=Object(F.a)((function(e){return{root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden",background:"white"},scroller:{overflow:"auto"},sliceRoot:{background:"none",boxSizing:"content-box",display:"block"},iconButton:{padding:"4px",margin:"0 2px 0 2px"},controls:{overflow:"hidden",whiteSpace:"nowrap",position:"absolute",background:H.a[200],boxSizing:"border-box",borderRight:"1px solid #a2a2a2",borderBottom:"1px solid #a2a2a2",left:0,top:0},importFormContainer:{marginBottom:e.spacing(4)}}})),ze=Object(C.observer)((function(e){var t=e.model;return a.a.createElement(a.a.Fragment,null,a.a.createElement(a.a.Fragment,null,t.staticSlices.map((function(e){return a.a.createElement(Ae,{key:Object(o.assembleLocString)(e.region.elided?e.region.regions[0]:e.region),model:t,slice:e})}))),a.a.createElement(a.a.Fragment,null,t.tracks.map((function(e){var n=e.displays[0];return a.a.createElement(n.RenderingComponent,{key:n.id,display:n,view:t})}))))})),Be=Object(C.observer)((function(e){var t=e.model,n=e.showingFigure,r=De();return a.a.createElement("div",{className:r.controls},a.a.createElement(B.a,{onClick:t.zoomOutButton,className:r.iconButton,title:t.lockedFitToWindow?"unlock to zoom out":"zoom out",disabled:!n||t.atMaxBpPerPx||t.lockedFitToWindow,color:"secondary"},a.a.createElement(O.a,null)),a.a.createElement(B.a,{onClick:t.zoomInButton,className:r.iconButton,title:"zoom in",disabled:!n||t.atMinBpPerPx,color:"secondary"},a.a.createElement(x.a,null)),a.a.createElement(B.a,{onClick:t.rotateCounterClockwiseButton,className:r.iconButton,title:"rotate counter-clockwise",disabled:!n,color:"secondary"},a.a.createElement(j.a,null)),a.a.createElement(B.a,{onClick:t.rotateClockwiseButton,className:r.iconButton,title:"rotate clockwise",disabled:!n,color:"secondary"},a.a.createElement(P.a,null)),a.a.createElement(B.a,{onClick:t.toggleFitToWindowLock,className:r.iconButton,title:t.lockedFitToWindow?"locked model to window size":"unlocked model to zoom further",disabled:t.tooSmallToLock,color:"secondary"},t.lockedFitToWindow?a.a.createElement(M.a,null):a.a.createElement(L.a,null)),t.hideTrackSelectorButton?null:a.a.createElement(B.a,{onClick:t.activateTrackSelector,title:"Open track selector","data-testid":"circular_track_select",color:"secondary"},a.a.createElement(A.TrackSelector,null)))})),He={__proto__:null,default:Object(C.observer)((function(e){var t=e.model,n=De(),r=!!t.displayedRegions.length&&t.figureWidth&&t.figureHeight,o=!r&&!t.disableImportForm,i=r&&!o;return a.a.createElement("div",{className:n.root,style:{width:t.width,height:t.height},"data-testid":t.id},t.error?a.a.createElement("p",{style:{color:"red"}},t.error.message):a.a.createElement(a.a.Fragment,null,o?a.a.createElement(_e,{model:t}):null,a.a.createElement(a.a.Fragment,null,i?a.a.createElement("div",{className:n.scroller,style:{width:t.width,height:t.height}},a.a.createElement("div",{className:n.rotator,style:{transform:["rotate(".concat(t.offsetRadians,"rad)")].join(" "),transition:"transform 0.5s",transformOrigin:t.centerXY.map((function(e){return"".concat(e,"px")})).join(" ")}},a.a.createElement("svg",{style:{position:"absolute",left:0,top:0},className:n.sliceRoot,width:"".concat(t.figureWidth,"px"),height:"".concat(t.figureHeight,"px"),version:"1.1"},a.a.createElement("g",{transform:"translate(".concat(t.centerXY,")")},a.a.createElement(ze,{model:t}))))):null,a.a.createElement(Be,{model:t,showingFigure:i}),t.hideVerticalResizeHandle?null:a.a.createElement(V.ResizeHandle,{onDrag:t.resizeHeight,style:{height:3,position:"absolute",bottom:0,left:0,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}}))))}))};t.default=Te},1012:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.Cable=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"}))},t.ContentCopy=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))},t.ContentCut=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"}))},t.ContentPaste=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z"}))},t.DNA=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"}))},t.Save=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"}))},t.SaveAs=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M10,19L10.14,18.86C8.9,18.5 8,17.36 8,16A3,3 0 0,1 11,13C12.36,13 13.5,13.9 13.86,15.14L20,9V7L16,3H4C2.89,3 2,3.9 2,5V19A2,2 0 0,0 4,21H10V19M4,5H14V9H4V5M20.04,12.13C19.9,12.13 19.76,12.19 19.65,12.3L18.65,13.3L20.7,15.35L21.7,14.35C21.92,14.14 21.92,13.79 21.7,13.58L20.42,12.3C20.31,12.19 20.18,12.13 20.04,12.13M18.07,13.88L12,19.94V22H14.06L20.12,15.93L18.07,13.88Z"}))},t.TrackSelector=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"}))};var a=r(n(137)),o=r(n(1))},1013:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(33),i=n(43),l=n(31),c=(0,l.makeStyles)((function(){return{importFormEntry:{minWidth:180}}})),u=(0,o.observer)((function(e){var t=e.session,n=e.onChange,r=e.selected,o=c(),u=t.assemblyNames,s=t.assemblyManager,d=u.length?"":"No configured assemblies";return a.default.createElement(l.TextField,{select:!0,label:"Assembly",variant:"outlined",margin:"normal",helperText:d||"Select assembly to view",value:d?"":r,inputProps:{"data-testid":"assembly-selector"},onChange:function(e){return n(e.target.value)},error:!!d,disabled:!!d,className:o.importFormEntry},u.map((function(e){var t=s.get(e),n=t?(0,i.getConf)(t,"displayName"):"";return a.default.createElement(l.MenuItem,{key:e,value:e},n||e)})))}));t.default=u},1018:function(e,t,n){"use strict";var r=n(11),a=n(10),o=n(1),i=(n(0),n(12)),l=n(71),c=n(13),u=n(681),s=n(76),d=Object(s.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=Object(s.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),p=Object(s.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),m=Object(s.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),h=n(989),g=n(683),v=n(35),b={success:o.createElement(d,{fontSize:"inherit"}),warning:o.createElement(f,{fontSize:"inherit"}),error:o.createElement(p,{fontSize:"inherit"}),info:o.createElement(m,{fontSize:"inherit"})},y=o.createElement(h.a,{fontSize:"small"}),w=o.forwardRef((function(e,t){var n=e.action,l=e.children,c=e.classes,s=e.className,d=e.closeText,f=void 0===d?"Close":d,p=e.color,m=e.icon,h=e.iconMapping,w=void 0===h?b:h,C=e.onClose,E=e.role,O=void 0===E?"alert":E,k=e.severity,x=void 0===k?"success":k,S=e.variant,j=void 0===S?"standard":S,T=Object(r.default)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(u.a,Object(a.a)({role:O,square:!0,elevation:0,className:Object(i.default)(c.root,c["".concat(j).concat(Object(v.a)(p||x))],s),ref:t},T),!1!==m?o.createElement("div",{className:c.icon},m||w[x]||b[x]):null,o.createElement("div",{className:c.message},l),null!=n?o.createElement("div",{className:c.action},n):null,null==n&&C?o.createElement("div",{className:c.action},o.createElement(g.a,{size:"small","aria-label":f,title:f,color:"inherit",onClick:C},y)):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?l.b:l.j,n="light"===e.palette.type?l.j:l.b;return{root:Object(a.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(w)},1028:function(e,t,n){"use strict";var r=n(11),a=n(50),o=n(10),i=n(1),l=(n(0),n(12)),c=n(13),u=n(1801),s=n(1797),d=n(681),f=n(683),p=n(1832),m=n(989),h=n(76),g=Object(h.a)(i.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),v=n(1683);function b(e){e.anchorEl,e.open;var t=Object(r.default)(e,["anchorEl","open"]);return i.createElement("div",t)}var y=i.createElement(m.a,{fontSize:"small"}),w=i.createElement(g,null),C=i.forwardRef((function(e,t){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var n,a=e.ChipProps,c=e.classes,m=e.className,h=e.clearOnBlur,g=(void 0===h&&e.freeSolo,e.clearOnEscape,e.clearText),C=void 0===g?"Clear":g,E=e.closeIcon,O=void 0===E?y:E,k=e.closeText,x=void 0===k?"Close":k,S=(e.debug,e.defaultValue),j=(void 0===S&&e.multiple,e.disableClearable),T=void 0!==j&&j,P=(e.disableCloseOnSelect,e.disabled),R=void 0!==P&&P,M=(e.disabledItemsFocusable,e.disableListWrap,e.disablePortal),I=void 0!==M&&M,L=(e.filterOptions,e.filterSelectedOptions,e.forcePopupIcon),A=void 0===L?"auto":L,F=e.freeSolo,N=void 0!==F&&F,_=e.fullWidth,D=void 0!==_&&_,z=e.getLimitTagsText,B=void 0===z?function(e){return"+".concat(e)}:z,H=(e.getOptionDisabled,e.getOptionLabel),V=void 0===H?function(e){return e}:H,W=(e.getOptionSelected,e.groupBy),G=e.handleHomeEndKeys,U=(void 0===G&&e.freeSolo,e.id,e.includeInputInList,e.inputValue,e.limitTags),q=void 0===U?-1:U,$=e.ListboxComponent,K=void 0===$?"ul":$,J=e.ListboxProps,X=e.loading,Y=void 0!==X&&X,Z=e.loadingText,Q=void 0===Z?"Loading":Z,ee=e.multiple,te=void 0!==ee&&ee,ne=e.noOptionsText,re=void 0===ne?"No options":ne,ae=(e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus,e.openText),oe=void 0===ae?"Open":ae,ie=(e.options,e.PaperComponent),le=void 0===ie?d.a:ie,ce=e.PopperComponent,ue=void 0===ce?u.a:ce,se=e.popupIcon,de=void 0===se?w:se,fe=e.renderGroup,pe=e.renderInput,me=e.renderOption,he=e.renderTags,ge=e.selectOnFocus,ve=(void 0===ge&&e.freeSolo,e.size),be=void 0===ve?"medium":ve,ye=(e.value,Object(r.default)(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"])),we=I?b:ue,Ce=Object(v.b)(Object(o.a)({},e,{componentName:"Autocomplete"})),Ee=Ce.getRootProps,Oe=Ce.getInputProps,ke=Ce.getInputLabelProps,xe=Ce.getPopupIndicatorProps,Se=Ce.getClearProps,je=Ce.getTagProps,Te=Ce.getListboxProps,Pe=Ce.getOptionProps,Re=Ce.value,Me=Ce.dirty,Ie=Ce.id,Le=Ce.popupOpen,Ae=Ce.focused,Fe=Ce.focusedTag,Ne=Ce.anchorEl,_e=Ce.setAnchorEl,De=Ce.inputValue,ze=Ce.groupedOptions;if(te&&Re.length>0){var Be=function(e){return Object(o.a)({className:Object(l.default)(c.tag,"small"===be&&c.tagSizeSmall),disabled:R},je(e))};n=he?he(Re,Be):Re.map((function(e,t){return i.createElement(p.a,Object(o.a)({label:V(e),size:be},Be({index:t}),a))}))}if(q>-1&&Array.isArray(n)){var He=n.length-q;!Ae&&He>0&&(n=n.splice(0,q)).push(i.createElement("span",{className:c.tag,key:n.length},B(He)))}var Ve=fe||function(e){return i.createElement("li",{key:e.key},i.createElement(s.a,{className:c.groupLabel,component:"div"},e.group),i.createElement("ul",{className:c.groupUl},e.children))},We=me||V,Ge=function(e,t){var n=Pe({option:e,index:t});return i.createElement("li",Object(o.a)({},n,{className:c.option}),We(e,{selected:n["aria-selected"],inputValue:De}))},Ue=!T&&!R,qe=(!N||!0===A)&&!1!==A;return i.createElement(i.Fragment,null,i.createElement("div",Object(o.a)({ref:t,className:Object(l.default)(c.root,m,Ae&&c.focused,D&&c.fullWidth,Ue&&c.hasClearIcon,qe&&c.hasPopupIcon)},Ee(ye)),pe({id:Ie,disabled:R,fullWidth:!0,size:"small"===be?"small":void 0,InputLabelProps:ke(),InputProps:{ref:_e,className:c.inputRoot,startAdornment:n,endAdornment:i.createElement("div",{className:c.endAdornment},Ue?i.createElement(f.a,Object(o.a)({},Se(),{"aria-label":C,title:C,className:Object(l.default)(c.clearIndicator,Me&&c.clearIndicatorDirty)}),O):null,qe?i.createElement(f.a,Object(o.a)({},xe(),{disabled:R,"aria-label":Le?x:oe,title:Le?x:oe,className:Object(l.default)(c.popupIndicator,Le&&c.popupIndicatorOpen)}),de):null)},inputProps:Object(o.a)({className:Object(l.default)(c.input,-1===Fe&&c.inputFocused),disabled:R},Oe())})),Le&&Ne?i.createElement(we,{className:Object(l.default)(c.popper,I&&c.popperDisablePortal),style:{width:Ne?Ne.clientWidth:null},role:"presentation",anchorEl:Ne,open:!0},i.createElement(le,{className:c.paper},Y&&0===ze.length?i.createElement("div",{className:c.loading},Q):null,0!==ze.length||N||Y?null:i.createElement("div",{className:c.noOptions},re),ze.length>0?i.createElement(K,Object(o.a)({className:c.listbox},Te(),J),ze.map((function(e,t){return W?Ve({key:e.key,group:e.group,children:e.options.map((function(t,n){return Ge(t,e.index+n)}))}):Ge(e,t)}))):null)):null)}));t.a=Object(c.a)((function(e){var t;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:Object(o.a)({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(t={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},Object(a.default)(t,e.breakpoints.up("sm"),{minHeight:"auto"}),Object(a.default)(t,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),Object(a.default)(t,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),Object(a.default)(t,"&:active",{backgroundColor:e.palette.action.selected}),Object(a.default)(t,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),t),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}}),{name:"MuiAutocomplete"})(C)},1029:function(e,t,n){"use strict";var r=n(10),a=n(11),o=n(1),i=(n(566),n(0),n(12));function l(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var c=n(13),u=n(35),s=o.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,d=e.exclusive,f=void 0!==d&&d,p=e.onChange,m=e.orientation,h=void 0===m?"horizontal":m,g=e.size,v=void 0===g?"medium":g,b=e.value,y=Object(a.default)(e,["children","classes","className","exclusive","onChange","orientation","size","value"]),w=function(e,t){if(p){var n,r=b&&b.indexOf(t);b&&r>=0?(n=b.slice()).splice(r,1):n=b?b.concat(t):[t],p(e,n)}},C=function(e,t){p&&p(e,b===t?null:t)};return o.createElement("div",Object(r.a)({role:"group",className:Object(i.default)(c.root,s,"vertical"===h&&c.vertical),ref:t},y),o.Children.map(n,(function(e){return o.isValidElement(e)?o.cloneElement(e,{className:Object(i.default)(c.grouped,c["grouped".concat(Object(u.a)(h))],e.props.className),onChange:f?C:w,selected:void 0===e.props.selected?l(e.props.value,b):e.props.selected,size:e.props.size||v}):null})))}));t.a=Object(c.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(s)},118:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUPPORTED=t.UNKNOWN=void 0,t.generateUnknownTrackConf=function(e,t,n){var r={type:"FeatureTrack",name:"".concat(e," (Unknown)"),description:'Could not determine track type for "'.concat(t,'"'),category:n,trackId:""};return r.trackId=(0,a.objectHash)(r),r},t.generateUnsupportedTrackConf=function(e,t,n){var r={type:"FeatureTrack",name:"".concat(e," (Unsupported)"),description:'Support not yet implemented for "'.concat(t,'"'),category:n,trackId:""};return r.trackId=(0,a.objectHash)(r),r},t.getBlob=function(e){return i[e]},t.getBlobMap=function(){return i},t.getFileName=function(e){var t="uri"in e?e.uri:void 0,n="localPath"in e?e.localPath:void 0,r="blobId"in e?e:void 0;return(null==r?void 0:r.name)||(null==t?void 0:t.slice(t.lastIndexOf("/")+1))||(null==n?void 0:n.slice(n.lastIndexOf("/")+1))||""},t.getParentRenderProps=function(e){for(var t=(0,r.getParent)(e);!(0,r.isRoot)(t);t=(0,r.getParent)(t))if("renderProps"in t)return t.renderProps();return{}},t.getRpcSessionId=function(e){for(var t,n=e;!(0,r.isRoot)(n);n=(0,r.getParent)(n))"rpcSessionId"in n&&(t=n.rpcSessionId);if(!t)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t},t.getTrackAssemblyNames=function(e){var t=e.configuration,n=(0,o.readConfObject)(t,"assemblyNames");if(!n){var a=(0,r.getParent)(e.configuration);if("sequence"in a)return[(0,o.readConfObject)(a,"name")]}return n},t.guessAdapter=function(e,t,n,o){if(o){var i=(0,a.getSession)(o),l=(0,r.getEnv)(i).pluginManager.evaluateExtensionPoint("Core-guessAdapterForLocation",(function(e,t,n){}))(e,t,n);if(l)return l}return{type:"UNKNOWN"}},t.guessTrackType=function(e,t){if(t){var n=(0,a.getSession)(t),o=(0,r.getEnv)(n).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",(function(e){}))(e);if(o)return o}return"FeatureTrack"},t.makeIndex=function(e,t){if("uri"in e)return{uri:e.uri+t,locationType:"UriLocation"};if("localPath"in e)return{localPath:e.localPath+t,locationType:"LocalPathLocation"};return e},t.makeIndexType=function(e,t,n){return null!=e&&e.toUpperCase().endsWith(t)?t:n},t.setBlobMap=function(e){i=e},t.storeBlobLocation=function(e){if(e&&"blob"in e){var t="b".concat(+Date.now());return i[t]=e.blob,{name:null==e?void 0:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e};var r=n(20),a=n(39),o=n(43);t.UNKNOWN="UNKNOWN";t.UNSUPPORTED="UNSUPPORTED";var i={}},128:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0});var o={LogoFull:!0,Logomark:!0,App:!0,FileSelector:!0,PrerenderedCanvas:!0,ResizeHandle:!0,EditableTypography:!0,FactoryResetDialog:!0,Tooltip:!0,FatalErrorDialog:!0,Menu:!0,SanitizedHTML:!0};Object.defineProperty(t,"App",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"EditableTypography",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"FactoryResetDialog",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"FatalErrorDialog",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"FileSelector",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LogoFull",{enumerable:!0,get:function(){return l.LogoFull}}),Object.defineProperty(t,"Logomark",{enumerable:!0,get:function(){return l.Logomark}}),Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"PrerenderedCanvas",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"ResizeHandle",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"SanitizedHTML",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return m.default}});var i=n(1673);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var l=n(984),c=a(n(1674)),u=a(n(990)),s=a(n(1687)),d=a(n(985)),f=a(n(565)),p=a(n(992)),m=a(n(1688)),h=a(n(1689)),g=r(n(308));Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var v=a(n(993))},129:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.isFeature=function(e){return"object"===(0,l.default)(e)&&null!==e&&"function"==typeof e.get&&"function"==typeof e.id};var a=r(n(26)),o=r(n(16)),i=r(n(15)),l=r(n(41));function c(e){return"uniqueId"in e&&"object"!==(0,l.default)(e.data)}var u=function(){function e(t){var n=this;(0,o.default)(this,e),this.data=void 0,this.subfeatures=void 0,this.parentHandle=void 0,this.uniqueId=void 0,c(t)?this.data=t:(this.data=t.data||{},this.parentHandle=t.parent);var r,i=c(t)?t.uniqueId:t.id;if(null==i)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(i),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error("invalid feature data, end less than start. end: ".concat(this.data.end," start: ").concat(this.data.start));this.data.subfeatures&&(this.subfeatures=null===(r=this.data.subfeatures)||void 0===r?void 0:r.map((function(t,r){return"function"!=typeof t.get?new e({id:t.uniqueId||"".concat(i,"-").concat(r),data:(0,a.default)({strand:n.data.strand},t),parent:n}):t})))}return(0,i.default)(e,[{key:"get",value:function(e){return"subfeatures"===e?this.subfeatures:"parent"===e?this.parent():this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"tags",value:function(){return Object.keys(this.data)}},{key:"id",value:function(){return this.uniqueId}},{key:"parent",value:function(){return this.parentHandle}},{key:"children",value:function(){return this.get("subfeatures")}},{key:"toJSON",value:function(){var e=(0,a.default)((0,a.default)({},this.data),{},{uniqueId:this.id()}),t=this.parent();t&&(e.parentId=t.id());var n=this.children();return n&&(e.subfeatures=n.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(t){return new e((0,a.default)({},t))}}]),e}();t.default=u},130:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=(0,a.default)((function e(t){(0,o.default)(this,e),this.name="",this.name=t.name}));t.default=i},131:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=function(){function e(){(0,a.default)(this,e),this.name=void 0,this.url=void 0,this.version=void 0,this.configurationSchema=void 0}return(0,o.default)(e,[{key:"install",value:function(e){}},{key:"configure",value:function(e){}}]),e}();t.default=i},161:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0});var a={isViewContainer:!0,isSessionModel:!0,isSessionModelWithConfigEditing:!0,isSessionWithAddTracks:!0,isSessionModelWithWidgets:!0,isSessionWithSessionPlugins:!0,isSelectionContainer:!0,isViewModel:!0,isTrackModel:!0,isDisplayModel:!0,isTrackViewModel:!0,isAppRootModel:!0,isAbstractMenuManager:!0,isUriLocation:!0,AuthNeededError:!0,RetryError:!0,isAuthNeededException:!0,isRetryException:!0};t.RetryError=t.AuthNeededError=void 0,t.isAbstractMenuManager=function(e){return"object"===(0,d.default)(e)&&null!==e&&"appendMenu"in e&&"appendToSubMenu"in e},t.isAppRootModel=function(e){return"object"===(0,d.default)(e)&&null!==e&&"isAssemblyEditing"in e&&"findAppropriateInternetAccount"in e},t.isAuthNeededException=function(e){return"AuthNeededError"===e.name||void 0!==e.location},t.isDisplayModel=function(e){return"object"===(0,d.default)(e)&&null!==e&&"configuration"in e&&e.configuration.displayId},t.isRetryException=function(e){return"RetryError"===e.name||void 0!==e.internetAccountId},t.isSelectionContainer=function(e){return"object"===(0,d.default)(e)&&null!==e&&"selection"in e&&"setSelection"in e},t.isSessionModel=m,t.isSessionModelWithConfigEditing=function(e){return m(e)&&"editConfiguration"in e},t.isSessionModelWithWidgets=function(e){return m(e)&&"widgets"in e},t.isSessionWithAddTracks=function(e){return m(e)&&"addTrackConf"in e},t.isSessionWithSessionPlugins=function(e){return m(e)&&"sessionPlugins"in e},t.isTrackModel=function(e){return"object"===(0,d.default)(e)&&null!==e&&"configuration"in e&&e.configuration.trackId},t.isTrackViewModel=function(e){return"object"===(0,d.default)(e)&&null!==e&&"showTrack"in e&&"hideTrack"in e},t.isUriLocation=function(e){return"object"===(0,d.default)(e)&&null!==e&&"locationType"in e&&"uri"in e},t.isViewContainer=function(e){return(0,f.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e},t.isViewModel=function(e){return"object"===(0,d.default)(e)&&null!==e&&"width"in e&&"setWidth"in e};var o=r(n(15)),i=r(n(16)),l=r(n(171)),c=r(n(27)),u=r(n(28)),s=r(n(424)),d=r(n(41)),f=n(20),p=n(1678);function m(e){return"object"===(0,d.default)(e)&&null!==e&&"rpcManager"in e&&"configuration"in e}Object.keys(p).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===p[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}}))}));var h=function(e){(0,c.default)(n,e);var t=(0,u.default)(n);function n(e,r){var a;return(0,i.default)(this,n),(a=t.call(this,e)).message=e,a.location=r,a.name="AuthNeededError",Object.setPrototypeOf((0,l.default)(a),n.prototype),a}return(0,o.default)(n)}((0,s.default)(Error));t.AuthNeededError=h;var g=function(e){(0,c.default)(n,e);var t=(0,u.default)(n);function n(e,r){var a;return(0,i.default)(this,n),(a=t.call(this,e)).message=e,a.internetAccountId=r,a.name="RetryError",a}return(0,o.default)(n)}((0,s.default)(Error));t.RetryError=g},162:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(15)),l=r(n(16)),c=r(n(27)),u=r(n(28)),s=function(e){(0,c.default)(n,e);var t=(0,u.default)(n);function n(e){var r;if((0,l.default)(this,n),(r=t.call(this,e)).AdapterClass=void 0,r.getAdapterClass=void 0,r.configSchema=void 0,r.adapterCapabilities=void 0,r.adapterMetadata=void 0,"AdapterClass"in e)r.AdapterClass=e.AdapterClass,r.getAdapterClass=(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.AdapterClass);case 1:case"end":return t.stop()}}),t)})));else{if(!("getAdapterClass"in e))throw new Error("no AdapterClass or getAdapterClass is defined for adapter type ".concat(r.name));r.getAdapterClass=e.getAdapterClass}return r.configSchema=e.configSchema,r.adapterCapabilities=e.adapterCapabilities||[],r.adapterMetadata=e.adapterMetadata,r}return(0,i.default)(n)}(r(n(130)).default);t.default=s},163:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseConnectionModelFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BaseDisplay",{enumerable:!0,get:function(){return l.BaseDisplay}}),Object.defineProperty(t,"BaseInternetAccountConfig",{enumerable:!0,get:function(){return u.BaseInternetAccountConfig}}),Object.defineProperty(t,"BaseViewModel",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"InternetAccount",{enumerable:!0,get:function(){return c.InternetAccount}}),Object.defineProperty(t,"baseConnectionConfig",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"createBaseTrackConfig",{enumerable:!0,get:function(){return d.createBaseTrackConfig}}),Object.defineProperty(t,"createBaseTrackModel",{enumerable:!0,get:function(){return s.createBaseTrackModel}});var a=r(n(1701)),o=r(n(1702)),i=r(n(1703)),l=n(1704),c=n(1705),u=n(1707),s=n(1708),d=n(1709)},164:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RemoteFileWithRangeCache",{enumerable:!0,get:function(){return l.RemoteFileWithRangeCache}}),t.openLocation=function(e,t){function n(){return(n=(0,o.default)(a.default.mark((function t(n,r){var o,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n,r);case 2:if(401!==(o=t.sent).status){t.next=7;break}if(i=o.headers.get("WWW-Authenticate"),!((0,c.isUriLocation)(e)&&i&&i.includes("Basic"))){t.next=7;break}throw new c.AuthNeededError("Accessing HTTPBasic resource without authentication",e);case 7:return t.abrupt("return",o);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(!e)throw new Error("must provide a location to openLocation");if(function(e){return"localPath"in e}(e)){if(!e.localPath)throw new Error("No local path provided");if(s.default)return new i.LocalFile(e.localPath);throw new Error("can't use local files in the browser")}if(function(e){return"blobId"in e}(e)){var r=(0,u.getBlob)(e.blobId);if(!r)throw new Error('file ("'.concat(e.name,'") was opened locally from a previous session. To restore it, go to track settings and reopen the file'));return new i.BlobFile(r)}if((0,c.isUriLocation)(e)){if(!e.uri)throw new Error("No URI provided");if(e.internetAccountPreAuthorization){if(!t)throw new Error("need plugin manager to open locations with an internet account");var d,f=t.rootModel;if(f&&!(0,c.isAppRootModel)(f))throw new Error("This context does not support internet accounts");if(f)d=f.findAppropriateInternetAccount(e);else{var p=t.getInternetAccountType(e.internetAccountPreAuthorization.internetAccountType);if(d=p.stateModel.create({type:e.internetAccountPreAuthorization.internetAccountType,configuration:e.internetAccountPreAuthorization.authInfo.configuration}),!e.internetAccountPreAuthorization.authInfo.token)throw new Error("Failed to obtain token from internet account. Try reloading the page")}if(!d)throw new Error("Could not find associated internet account");return d.openLocation(e)}if(e.internetAccountId){if(!t)throw new Error("need plugin manager to open locations with an internet account");var m=t.rootModel;if(m&&!(0,c.isAppRootModel)(m))throw new Error("This context does not support internet accounts");if(m){var h=JSON.parse(JSON.stringify(e)),g=m.findAppropriateInternetAccount(e);if(!g)throw new Error("Could not find associated internet account");return g.getPreAuthorizationInformation(e).then((function(e){return h.internetAccountPreAuthorization=e})),g.openLocation(h)}throw new Error("Could not pre-authorize location")}var v=e.baseUri?new URL(e.uri,e.baseUri).href:e.uri;return new l.RemoteFileWithRangeCache(v,{fetch:function(e,t){return n.apply(this,arguments)}})}throw new Error("invalid fileLocation")};var a=r(n(22)),o=r(n(24)),i=n(98),l=n(1706),c=n(161),u=n(118),s=r(n(363))},1670:function(e,t,n){"use strict";e.exports=n(1671)},1671:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=r(a),i=n(33),l=n(20),c=n(43),u=n(128),s=n(31),d=r(n(1022)),f=n(17),p=r(n(211)),m=r(n(769)),h=n(39),g=n(1690),v=r(g),b=r(n(1694)),y=r(n(1721)),w=r(n(1725)),C=r(n(1010)),E=r(n(1752)),O=r(n(1011)),k=r(n(1728)),x=r(n(1733)),S=r(n(1734)),j=r(n(967)),T=r(n(1739)),P=n(45),R=r(n(1740)),M=s.makeStyles({paper:{overflow:"auto"}}),I=i.observer((function(e){var t=e.session,n=t.visibleWidget;if(!n)return o.createElement(s.AppBar,{position:"relative"},o.createElement(s.Toolbar,null));var r=l.getEnv(t).pluginManager.getWidgetType(n.type),i=r.ReactComponent,c=r.HeadingComponent,u=r.heading;return o.createElement(o.Fragment,null,o.createElement(s.AppBar,{position:"static"},o.createElement(s.Toolbar,null,c?o.createElement(c,{model:n}):o.createElement(s.Typography,{variant:"h6"},u))),n&&i?o.createElement(a.Suspense,{fallback:o.createElement("div",null,"Loading...")},o.createElement(d,null,o.createElement(i,{model:n,session:t,overrideDimensions:{height:5*window.innerHeight/8,width:800}}))):null)})),L=i.observer((function(e){var t=e.session,n=M(),r=t.hideAllWidgets;return o.createElement(s.Dialog,{open:Boolean(t.visibleWidget),onClose:r,maxWidth:"xl"},o.createElement(s.Paper,{className:n.paper},o.createElement(I,{session:t})))})),A=s.makeStyles((function(e){return{viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(1)},icon:{color:e.palette.secondary.contrastText},displayName:{marginTop:2,color:e.palette.secondary.contrastText},grow:{flexGrow:1},iconRoot:{"&:hover":{backgroundColor:f.alpha(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}})),F=i.observer((function(e){var t,n=e.model,r=e.IconButtonProps,i=e.IconProps,l=a.useState(),c=l[0],d=l[1];return null!=(t=n.menuItems())&&t.length?o.createElement(o.Fragment,null,o.createElement(s.IconButton,Object.assign({},r,{"aria-label":"more","aria-controls":"view-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},"data-testid":"view_menu_icon"}),o.createElement(p,Object.assign({},i))),o.createElement(u.Menu,{anchorEl:c,open:Boolean(c),onMenuItemClick:function(e,t){t(),d(void 0)},onClose:function(){d(void 0)},menuItems:n.menuItems()})):null})),N=i.observer((function(e){var t=e.view,n=e.children,r=A(),i=s.useTheme(),c=h.getSession(t),d=m(),f=d[0],p=d[1].width,g=i.spacing(1);return a.useEffect((function(){p&&l.isAlive(t)&&t.setWidth(p-2*g)}),[g,t,p]),o.createElement(s.Paper,{elevation:12,ref:f,className:r.viewContainer,style:{padding:"0px "+g+"px "+g+"px"}},c.DialogComponent?o.createElement(a.Suspense,{fallback:o.createElement("div",null)},o.createElement(c.DialogComponent,Object.assign({},c.DialogProps))):null,o.createElement("div",{style:{display:"flex"}},o.createElement(F,{model:t,IconButtonProps:{classes:{root:r.iconRoot},edge:"start"},IconProps:{className:r.icon}}),o.createElement("div",{className:r.grow}),t.displayName?o.createElement(s.Typography,{variant:"body2",className:r.displayName},t.displayName):null,o.createElement("div",{className:r.grow}),o.createElement("div",{style:{width:20,height:20}},o.createElement(u.Logomark,{variant:"white"}))),o.createElement(s.Paper,null,n))})),_=s.makeStyles((function(){return{avoidParentStyle:{all:"initial"}}})),D=i.observer((function(e){var t=e.viewState,n=_(),r=t.session,i=r.view,f=l.getEnv(r).pluginManager.getViewType(i.type);if(!f)throw new Error("unknown view type "+i.type);var p=f.ReactComponent,m=u.createJBrowseTheme(c.readConfObject(t.config.configuration,"theme"));return o.createElement(s.ThemeProvider,{theme:m},o.createElement("div",{className:n.avoidParentStyle},o.createElement(d,null,o.createElement(N,{key:"view-"+i.id,view:i},o.createElement(a.Suspense,{fallback:o.createElement("div",null,"Loading...")},o.createElement(p,{model:i,session:r}))),o.createElement(L,{session:r}))))})),z=[C,E,O,k,x,S];function B(e,t){return l.types.model("Configuration",{configuration:c.ConfigurationSchema("Root",{rpc:y.configSchema,highResolutionScaling:{type:"number",defaultValue:2},theme:{type:"frozen",defaultValue:{}}}),assembly:t,tracks:l.types.array(e.pluggableConfigSchemaType("track")),connections:l.types.array(e.pluggableConfigSchemaType("connection")),aggregateTextSearchAdapters:l.types.array(e.pluggableConfigSchemaType("text search adapter")),plugins:l.types.frozen()}).views((function(e){return{get assemblies(){return[e.assembly]},get assemblyName(){return c.readConfObject(e.assembly,"name")},get rpcManager(){return l.getParent(e).rpcManager}}}))}function H(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function V(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){H(o,r,a,i,l,"next",e)}function l(e){H(o,r,a,i,l,"throw",e)}i(void 0)}))}}function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var G=a.lazy((function(){return new Promise((function(e){e(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t.default=e,t}(n(1742)))}))}));function U(e){var t=new b([].concat(z,e).map((function(e){return new e})));t.createPluggableElements();var n=function(e){var t=l.types.model("ReactCircularGenomeViewSession",{name:l.types.identifier,view:e.getViewType("CircularView").stateModel,widgets:l.types.map(e.pluggableMstType("widget","stateModel")),activeWidgets:l.types.map(l.types.safeReference(e.pluggableMstType("widget","stateModel"))),connectionInstances:l.types.array(e.pluggableMstType("connection","stateModel"))}).volatile((function(){return{selection:void 0,task:void 0,queueOfDialogs:[]}})).views((function(e){return{get DialogComponent(){if(e.queueOfDialogs.length){var t=e.queueOfDialogs[0];return t&&t[0]}},get DialogProps(){if(e.queueOfDialogs.length){var t=e.queueOfDialogs[0];return t&&t[1]}},get rpcManager(){return l.getParent(e).rpcManager},get configuration(){return l.getParent(e).config.configuration},get assemblies(){return[l.getParent(e).config.assembly]},get assemblyNames(){return[l.getParent(e).config.assemblyName]},get tracks(){return l.getParent(e).config.tracks},get aggregateTextSearchAdapters(){return l.getParent(e).config.aggregateTextSearchAdapters},get connections(){return l.getParent(e).config.connections},get adminMode(){return!1},get assemblyManager(){return l.getParent(e).assemblyManager},get version(){return""},get views(){return[e.view]},renderProps:function(){return{theme:c.readConfObject(this.configuration,"theme")}},get visibleWidget(){if(l.isAlive(e))return Array.from(e.activeWidgets.values())[e.activeWidgets.size-1]},getReferring:function(t){var n=[];return l.walk(l.getParent(e),(function(e){if(l.isModelType(l.getType(e))){var r=l.getMembers(e);Object.entries(r.properties).forEach((function(r){var a=r[0];l.isReferenceType(r[1])&&e[a]===t&&n.push({node:e,key:a})}))}})),n}}})).actions((function(t){return{queueDialog:function(e){var n=this,r=e((function(){n.removeActiveDialog()}));t.queueOfDialogs=[].concat(t.queueOfDialogs,[[r[0],r[1]]])},removeActiveDialog:function(){t.queueOfDialogs=t.queueOfDialogs.slice(1)},makeConnection:function(n,r){void 0===r&&(r={});var a=n.type;if(!a)throw new Error("track configuration has no `type` listed");var o=c.readConfObject(n,"name");if(!e.getConnectionType(a))throw new Error("unknown connection type "+a);var i=W({},r,{name:o,type:a,configuration:n}),l=t.connectionInstances.push(i);return t.connectionInstances[l-1]},removeReferring:function(e,t,n,r){var a=this;e.forEach((function(e){var o=e.node,i=!1;try{var c="open track(s)",u=h.getContainingView(o);n.push((function(){return u.hideTrack(t.trackId)})),i=!0,r[c]||(r[c]=0),r[c]+=1}catch(e){}if(a.hasWidget(o)){var s="configuration editor widget(s)";n.push((function(){return a.hideWidget(o)})),i=!0,r[s]||(r[s]=0),r[s]+=1}if(!i)throw new Error("Error when closing this connection, the following node is still referring to a track configuration: "+JSON.stringify(l.getSnapshot(o)))}))},prepareToBreakConnection:function(e){var n=this,r=[],a={},o=c.readConfObject(e,"name");return t.connectionInstances.find((function(e){return e.name===o})).tracks.forEach((function(e){var o=t.getReferring(e);n.removeReferring(o,e,r,a)})),[function(){r.forEach((function(e){return e()})),n.breakConnection(e)},a]},breakConnection:function(e){var n=c.readConfObject(e,"name"),r=t.connectionInstances.find((function(e){return e.name===n}));t.connectionInstances.remove(r)},addView:function(n,r){if(void 0===r&&(r={}),!e.getElementType("view",n))throw new Error("unknown view type "+n);t.view=W({},r,{type:n})},removeView:function(){},addWidget:function(n,r,a,o){if(void 0===a&&(a={}),void 0===o&&(o={type:n}),!e.getElementType("widget",n))throw new Error("unknown widget type "+n);var i=W({},a,{id:r,type:n,configuration:o});return t.widgets.set(r,i),t.widgets.get(r)},showWidget:function(e){t.activeWidgets.has(e.id)&&t.activeWidgets.delete(e.id),t.activeWidgets.set(e.id,e)},hasWidget:function(e){return t.activeWidgets.has(e.id)},hideWidget:function(e){t.activeWidgets.delete(e.id)},hideAllWidgets:function(){t.activeWidgets.clear()},setSelection:function(e){t.selection=e},clearSelection:function(){t.selection=void 0},clearConnections:function(){t.connectionInstances.length=0},renameCurrentSession:function(e){return l.getParent(t).renameCurrentSession(e)}}})).views((function(e){return{getTrackActionMenuItems:function(t){return[{label:"About track",onClick:function(){e.queueDialog((function(e){return[G,{config:t,handleClose:e}]}))},icon:j}]}}}));return T(t)}(t),r=g.assemblyConfigSchemaFactory(t),a=v(r,t);return{model:l.types.model("ReactCircularGenomeView",{config:B(t,r),session:n,assemblyManager:a}).volatile((function(){return{error:void 0}})).actions((function(e){return{setSession:function(t){e.session=l.cast(t)},renameCurrentSession:function(t){if(e.session){var n=JSON.parse(JSON.stringify(l.getSnapshot(e.session)));n.name=t,this.setSession(n)}},setError:function(t){e.error=t}}})).views((function(e){return{get jbrowse(){return e.config},get pluginManager(){return t}}})).volatile((function(e){return{rpcManager:new y(t,e.config.configuration.rpc,{MainThreadRpcDriver:{}}),textSearchManager:new w(t)}})),pluginManager:t}}var q=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=Object.create((t&&t.prototype instanceof d?t:d).prototype),o=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return{value:void 0,done:!0}}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function $(){return($=V(q.mark((function e(t){var n;return q.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new R(t)).installGlobalReExports(window),e.next=4,n.load();case 4:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.JBrowseCircularGenomeView=D,t.createModel=U,t.createViewState=function(e){var t=e.assembly,n=e.tracks,r=e.configuration,a=e.aggregateTextSearchAdapters,o=e.onChange,i=U(e.plugins||[]),c=i.pluginManager,u=e.defaultSession;u||(u={name:"this session",view:{id:"circularView",type:"CircularView"}});var s=i.model.create({config:{configuration:r,assembly:t,tracks:n,aggregateTextSearchAdapters:a,defaultSession:u},assemblyManager:{},session:u},{pluginManager:c});return c.setRootModel(s),c.configure(),P.autorun((function(e){s.assemblyManager.allPossibleRefNames&&s.assemblyManager.allPossibleRefNames.length&&s.session.view.initialized&&(s.session.view.setDisplayedRegions(s.assemblyManager.assemblies[0].regions),e.dispose())})),o&&l.onPatch(s,o),s},t.loadPlugins=function(e){return $.apply(this,arguments)}},1672:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.description,r=void 0===n?"":n,l=t.model,s=t.type,d=t.defaultValue,m=t.contextVariable,h=void 0===m?[]:m;if(!s)throw new Error("type name required");l||(l=c[s]);if(!l)throw new Error('no builtin config slot type "'.concat(s,"\", and no 'model' param provided"));if(void 0===d)throw new Error("no 'defaultValue' provided");var g="".concat(e.charAt(0).toUpperCase()).concat(e.slice(1),"ConfigSlot"),v=o.types.model(g,{name:o.types.literal(e),description:o.types.literal(r),type:o.types.literal(s),value:o.types.optional(o.types.union(p,l),d)}).volatile((function(){return{contextVariable:h}})).views((function(e){return{get isCallback(){return String(e.value).startsWith("jexl:")}}})).views((function(e){return{get expr(){if(e.isCallback){var t=(0,o.getEnv)(e).pluginManager;return t||"undefined"!=typeof jest||console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,i.stringToJexlExpression)(String(e.value),null==t?void 0:t.jexl)}return{evalSync:function(){return e.value}}},get valueJSON(){var t;if(!e.isCallback)return(t=e.value)&&t.toJSON?t.toJSON():'"'.concat(t,'"')}}})).preProcessSnapshot((function(t){return"object"===(0,a.default)(t)&&t.name===e?t:{name:e,description:r,type:s,value:t}})).postProcessSnapshot((function(e){return"object"===(0,a.default)(e.value)?JSON.stringify(e.value)!==JSON.stringify(d)?e.value:void 0:e.value!==d?e.value:void 0})).actions((function(e){return{set:function(t){e.value=t},reset:function(){e.value=d},convertToCallback:function(){e.isCallback||(e.value="jexl:".concat(e.valueJSON||"''"))},convertToValue:function(){if(e.isCallback){try{var t=e.expr.evalSync();if(void 0!==t)return void(e.value=t)}catch(e){}if(e.value=d,e.isCallback){if(!(s in u))throw new Error("no fallbackDefault defined for type ".concat(s));e.value=u[s]}}}}}));f[s]&&(v=v.extend(f[s]));var b=o.types.optional(v,{name:e,type:s,description:r,value:d});return Object.defineProperty(b,"isJBrowseConfigurationSlot",{value:!0}),b};var a=r(n(41)),o=n(20),i=n(563),l=n(91);var c={stringArray:o.types.array(o.types.string),stringArrayMap:o.types.map(o.types.array(o.types.string)),numberMap:o.types.map(o.types.number),boolean:o.types.boolean,color:o.types.refinement("Color",o.types.string,(function(){return!0})),integer:o.types.integer,number:o.types.number,string:o.types.string,text:o.types.string,fileLocation:l.FileLocation,frozen:o.types.frozen()},u={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},s=function(e){return{views:{get valueJSON(){return e.value}}}},d=function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}}}},f={fileLocation:d,number:s,integer:s,boolean:s,frozen:d,stringArray:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t){e.value.push(t)},removeAtIndex:function(t){e.value.splice(t,1)},setAtIndex:function(t,n){e.value[t]=n}}}},stringArrayMap:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t,n){e.value.set(t,n)},remove:function(t){e.value.delete(t)},addToKey:function(t,n){var r=e.value.get(t);if(!r)throw new Error("".concat(t," not found"));r.push(n)},removeAtKeyIndex:function(t,n){var r=e.value.get(t);if(!r)throw new Error("".concat(t," not found"));r.splice(n,1)},setAtKeyIndex:function(t,n,r){var a=e.value.get(t);if(!a)throw new Error("".concat(t," not found"));a[n]=r}}}},numberMap:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t,n){e.value.set(t,n)},remove:function(t){e.value.delete(t)}}}}},p=o.types.refinement("JexlString",o.types.string,(function(e){return e.startsWith("jexl:")}))},1673:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createJBrowseDefaultOverrides=d,t.createJBrowseDefaultProps=s,t.createJBrowseTheme=function(e){var t,n;if(!e)return(0,i.createTheme)(f);null!==(t=e.palette)&&void 0!==t&&t.tertiary&&(e=(0,a.default)((0,a.default)({},e),{},{palette:(0,a.default)((0,a.default)({},e.palette),{},{tertiary:c.palette.augmentColor(e.palette.tertiary)})}));null!==(n=e.palette)&&void 0!==n&&n.quaternary&&(e=(0,a.default)((0,a.default)({},e),{},{palette:(0,a.default)((0,a.default)({},e.palette),{},{quaternary:c.palette.augmentColor(e.palette.quaternary)})}));return e=(0,a.default)((0,a.default)({},e),{},{props:(0,l.default)({MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},e.props||{}),overrides:(0,l.default)(d(e.palette),e.overrides||{})}),(0,i.createTheme)((0,l.default)(f,e))},t.jbrowseDefaultPalette=t.jbrowseBaseTheme=void 0;var a=r(n(26)),o=n(232),i=n(17),l=(n(675),r(n(340))),c=(0,i.createTheme)(),u={primary:{main:"#0D233F"},secondary:{main:"#721E63"},tertiary:c.palette.augmentColor({main:"#135560"}),quaternary:c.palette.augmentColor({main:"#FFB11D"}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:c.palette.augmentColor(o.green),C:c.palette.augmentColor(o.blue),G:c.palette.augmentColor(o.amber),T:c.palette.augmentColor(o.red)}};function s(){return{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(u,e);return{MuiIconButton:{colorSecondary:{color:t.tertiary.main}},MuiButton:{textSecondary:{color:t.tertiary.main}},MuiFab:{secondary:{backgroundColor:t.quaternary.main}},MuiLink:{root:{color:t.tertiary.main}},MuiAccordionSummary:{root:{backgroundColor:t.tertiary.main+" !important",width:"100%","&$expanded":{minHeight:0,color:t.tertiary.contrastText,backgroundColor:t.tertiary.main},minHeight:0},content:{"&$expanded":{margin:"8px 8px"},margin:"8px 8px",color:t.tertiary.contrastText}},MuiMenuItem:{root:{paddingTop:3,paddingBottom:3}},MuiListItemIcon:{root:{minWidth:32}},MuiListItemText:{inset:{paddingLeft:32}}}}t.jbrowseDefaultPalette=u;var f={palette:u,typography:{fontSize:12},spacing:4,props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},overrides:d()};t.jbrowseBaseTheme=f},1674:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(19)),i=r(n(1)),l=n(31),c=a(n(720)),u=n(33),s=n(20),d=n(43),f=a(n(1675)),p=a(n(1677)),m=a(n(565)),h=n(984),g=a(n(1680)),v=a(n(1681)),b=(0,l.makeStyles)((function(e){return{"@global":{html:{"font-family":"Roboto"},"*":{"scrollbar-width":"auto","scrollbar-color":"rgba(0,0,0,.5) rgba(128,128,128)"},"*::-webkit-scrollbar":{"-webkit-appearance":"none",width:"12px"},"*::-webkit-scrollbar-thumb":{"background-color":"rgba(0,0,0,.5)","-webkit-box-shadow":"0 0 1px rgba(255,255,255,.5)"}},root:{display:"grid",height:"100vh",width:"100%"},fabLeft:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},fabRight:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuBarAndComponents:{gridColumn:"main",display:"grid",gridTemplateRows:"[menubar] min-content [components] auto",height:"100vh"},menuBar:{gridRow:"menubar"},components:{overflowY:"auto",gridRow:"components"},appBar:{flexGrow:1},grow:{flexGrow:1},inputBase:{color:e.palette.primary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.primary.light}},inputFocused:{borderColor:e.palette.secondary.main,backgroundColor:e.palette.primary.light},selectPaper:{padding:e.spacing(4)}}})),y=(0,u.observer)((function(e){var t=e.session.configuration,n=(0,d.readConfObject)(t,"logoPath");return null!=n&&n.uri?i.default.createElement("img",{src:n.uri,alt:"Custom logo"}):i.default.createElement(h.LogoFull,{variant:"white"})})),w=(0,u.observer)((function(e){var t,n,r=e.session,a=e.HeaderButtons,u=void 0===a?i.default.createElement("div",null):a,d=b(),h=(0,s.getEnv)(r).pluginManager,w=h.getElementTypeRecord("view").all(),C=(0,i.useState)(null===(t=w[0])||void 0===t?void 0:t.name),E=(0,o.default)(C,2),O=E[0],k=E[1],x=r.visibleWidget,S=r.drawerWidth,j=r.minimized,T=r.activeWidgets,P=r.savedSessionNames,R=r.name,M=r.menus,I=r.views,L=r.drawerPosition;var A,F=x&&!j;return"right"===L?A=["[main] 1fr",F?"[drawer] ".concat(S,"px"):void 0]:"left"===L&&(A=[F?"[drawer] ".concat(S,"px"):void 0,"[main] 1fr"]),i.default.createElement("div",{className:d.root,style:{gridTemplateColumns:null===(n=A)||void 0===n?void 0:n.filter((function(e){return!!e})).join(" ")}},F&&"left"===L?i.default.createElement(f.default,{session:r}):null,r.DialogComponent?i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null)},i.default.createElement(r.DialogComponent,r.DialogProps)):null,i.default.createElement("div",{className:d.menuBarAndComponents},i.default.createElement("div",{className:d.menuBar},i.default.createElement(l.AppBar,{className:d.appBar,position:"static"},i.default.createElement(l.Toolbar,null,M.map((function(e){return i.default.createElement(p.default,{key:e.label,menuTitle:e.label,menuItems:e.menuItems,session:r})})),i.default.createElement("div",{className:d.grow}),i.default.createElement(l.Tooltip,{title:"Rename Session",arrow:!0},i.default.createElement(m.default,{value:R,setValue:function(e){null!=P&&P.includes(e)?r.notify('Cannot rename session to "'.concat(e,'", a saved session with that name already exists'),"warning"):r.renameCurrentSession(e)},variant:"body1",classes:{inputBase:d.inputBase,inputRoot:d.inputRoot,inputFocused:d.inputFocused}})),u,i.default.createElement("div",{className:d.grow}),i.default.createElement("div",{style:{width:150,maxHeight:48}},i.default.createElement(y,{session:r}))))),i.default.createElement("div",{className:d.components},I.length?I.map((function(e){var t=h.getViewType(e.type);if(!t)throw new Error("unknown view type ".concat(e.type));var n=t.ReactComponent;return i.default.createElement(v.default,{key:"view-".concat(e.id),view:e,onClose:function(){return r.removeView(e)}},i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null,"Loading...")},i.default.createElement(n,{model:e,session:r,getTrackType:h.getTrackType})))})):i.default.createElement(l.Paper,{className:d.selectPaper},i.default.createElement(l.Typography,null,"Select a view to launch"),i.default.createElement(l.Select,{value:O,onChange:function(e){return k(e.target.value)}},w.map((function(e){var t=e.name;return i.default.createElement(l.MenuItem,{key:t,value:t},t)}))),i.default.createElement(l.Button,{onClick:function(){r.addView(O,{})},variant:"contained",color:"primary"},"Launch view")),i.default.createElement("div",{style:{height:300}}))),T.size>0&&j?i.default.createElement(l.Tooltip,{title:"Open drawer widget"},i.default.createElement(l.Fab,{className:"right"===L?d.fabRight:d.fabLeft,color:"primary","data-testid":"drawer-maximize",onClick:function(){return r.showWidgetDrawer()}},i.default.createElement(c.default,null))):null,F&&"right"===L?i.default.createElement(f.default,{session:r}):null,i.default.createElement(g.default,{session:r}))}));t.default=w},1675:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(19)),i=r(n(1)),l=n(31),c=n(33),u=n(20),s=a(n(205)),d=a(n(74)),f=a(n(728)),p=a(n(345)),m=a(n(1676)),h=(0,l.makeStyles)((function(e){return{drawerActions:{float:"right","&:hover":{backgroundColor:(0,l.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},drawerToolbar:{paddingLeft:e.spacing(2)},spacer:{flexGrow:1},drawerSelect:{color:e.palette.secondary.contrastText},drawerLoading:{margin:e.spacing(2)},dropDownIcon:{color:e.palette.secondary.contrastText},header:{background:e.palette.secondary.main}}})),g=(0,c.observer)((function(e){var t=e.session,n=e.setToolbarHeight,r=(0,u.getEnv)(t).pluginManager,a=t.visibleWidget,c=t.activeWidgets,m=t.drawerPosition,g=h(),v=i.default.useState(null),b=(0,o.default)(v,2),y=b[0],w=b[1];return i.default.createElement(l.AppBar,{position:"sticky",className:g.header,ref:function(e){return n((null==e?void 0:e.getBoundingClientRect().height)||0)}},i.default.createElement(l.Toolbar,{disableGutters:!0,className:g.drawerToolbar},i.default.createElement(l.Select,{value:null==a?void 0:a.id,"data-testid":"widget-drawer-selects",className:g.drawerSelect,classes:{icon:g.dropDownIcon},renderValue:function(e){var n=t.activeWidgets.get(e);if(!n)return i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},"Unknown widget");var a=r.getWidgetType(n.type),o=a.HeadingComponent,c=a.heading;return o?i.default.createElement(o,{model:n}):i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},c)},onChange:function(e){var n=t.activeWidgets.get(e.target.value);n||t.notify("Widget not found "+e.target.value,"warning"),t.showWidget(n)}},Array.from(c.values()).map((function(e){var n=r.getWidgetType(e.type),a=n.HeadingComponent,o=n.heading;return i.default.createElement(l.MenuItem,{"data-testid":"widget-drawer-selects-item-".concat(e.type),key:e.id,value:e.id},a?i.default.createElement(a,{model:e}):i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},o),i.default.createElement(l.ListItemSecondaryAction,null,i.default.createElement(l.IconButton,{"data-testid":"".concat(e.type,"-drawer-delete"),color:"inherit","aria-label":"Delete",onClick:function(){t.hideWidget(e)}},i.default.createElement(s.default,null))))}))),i.default.createElement("div",{className:g.spacer}),i.default.createElement("div",null,i.default.createElement(l.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:function(e){return w(e.currentTarget)}},i.default.createElement(p.default,null)),i.default.createElement(l.Tooltip,{title:"Minimize drawer"},i.default.createElement(l.IconButton,{"data-testid":"drawer-minimize",color:"inherit",onClick:function(){t.notify("Drawer minimized, click button on ".concat(m," side of screen to re-open"),"info"),t.minimizeWidgetDrawer()}},i.default.createElement(f.default,null))),i.default.createElement(l.Tooltip,{title:"Close drawer"},i.default.createElement(l.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:function(){t.hideWidget(a)}},i.default.createElement(d.default,null))))),i.default.createElement(l.Menu,{anchorEl:y,open:Boolean(y),onClose:function(){return w(null)}},["left","right"].map((function(e){return i.default.createElement(l.MenuItem,{key:e,selected:"option"===m,onClick:function(){t.setDrawerPosition(e),w(null)}},e)}))))})),v=(0,c.observer)((function(e){var t=e.session,n=t.visibleWidget,r=(0,u.getEnv)(t).pluginManager,a=n?r.getWidgetType(n.type).ReactComponent:null,l=(0,i.useState)(0),c=(0,o.default)(l,2),s=c[0],d=c[1];return i.default.createElement(m.default,{session:t},i.default.createElement(g,{session:t,setToolbarHeight:d}),i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null,"Loading...")},i.default.createElement(a,{model:n,session:t,toolbarHeight:s})))}));t.default=v},1676:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=r(n(49)),i=n(17),l=n(33),c=r(n(985)),u=(0,i.makeStyles)((function(e){return{paper:{overflowY:"auto",height:"100%",zIndex:e.zIndex.drawer,outline:"none",background:e.palette.background.default},resizeHandle:{width:4,position:"fixed",top:0,zIndex:e.zIndex.drawer+1}}}));var s=(0,l.observer)((function(e){var t=e.children,n=e.session,r=n.drawerPosition,i=n.drawerWidth,l=u();return a.default.createElement(o.default,{className:l.paper,elevation:16,square:!0},"right"===r?a.default.createElement(c.default,{onDrag:n.resizeDrawer,className:l.resizeHandle,vertical:!0}):null,t,"left"===r?a.default.createElement(c.default,{onDrag:n.resizeDrawer,className:l.resizeHandle,style:{left:i},vertical:!0}):null)}));t.default=s},1677:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(19)),i=r(n(1)),l=n(31),c=n(17),u=a(n(206)),s=n(33),d=a(n(308)),f=(0,c.makeStyles)((function(e){return{root:{display:"flex"},buttonRoot:{"&:hover":{backgroundColor:(0,c.alpha)(e.palette.primary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}));var p=(0,s.observer)((function(e){var t=e.menuTitle,n=e.session,r=e.menuItems,a=(0,i.useState)(!1),c=(0,o.default)(a,2),s=c[0],p=c[1],m=(0,i.useRef)(null),h=f();function g(){p(!1)}return i.default.createElement("div",{className:h.root},i.default.createElement(l.Button,{ref:m,onClick:function(){p(!s)},color:"inherit","data-testid":"dropDownMenuButton",classes:{root:h.buttonRoot}},t,i.default.createElement(u.default,null)),i.default.createElement(d.default,{anchorEl:m.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},onMenuItemClick:function(e,t){t(n),g()},open:s,onClose:g,menuItems:r}))}));t.default=p},1678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1679:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.when=c,t.whenPresent=function(e){return u.apply(this,arguments)};var a=r(n(22)),o=r(n(24)),i=n(45),l=n(986);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout,r=t.signal,a=t.name;return new Promise((function(t,o){var c,u=!1,s=(0,i.when)(e),d=function(){};n&&(c=setTimeout((function(){u||(u=!0,s.cancel(),o(new Error("timed out waiting for ".concat(a||"whenPresent"))))}),n),d=function(){return c&&clearTimeout(c)}),r&&r.addEventListener("abort",(function(){u||(u=!0,s.cancel(),d(),o((0,l.makeAbortError)()))})),s.then((function(){u||(u=!0,d(),t(!0))})).catch((function(e){u||(u=!0,d(),o(e))}))}))}function u(){return(u=(0,o.default)(a.default.mark((function e(t){var n,r=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,c((function(){var e=t();return null!=e}),n);case 3:return e.abrupt("return",t());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1680:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(19)),i=r(n(1)),l=n(31),c=a(n(74)),u=a(n(413));var s=(0,n(33).observer)((function(e){var t=e.session,n=(0,i.useState)(!1),r=(0,o.default)(n,2),a=r[0],s=r[1],d=(0,i.useState)(),f=(0,o.default)(d,2),p=f[0],m=f[1],h=t.popSnackbarMessage,g=t.snackbarMessages,v=g.length?g[g.length-1]:null;(0,i.useEffect)((function(){var e;return p?v?p[0]!==v[0]&&(s(!1),e=setTimeout((function(){m(v),s(!0)}),100)):m(void 0):v&&(m(v),s(!0)),function(){clearTimeout(e)}}),[v,p]);var b=function(e,t){"clickaway"!==t&&(h(),s(!1))},y=p||[],w=(0,o.default)(y,2),C=w[0],E=w[1];return i.default.createElement(l.Snackbar,{open:a&&!!C,onClose:b,action:i.default.createElement(l.IconButton,{"aria-label":"close",color:"inherit",onClick:b},i.default.createElement(c.default,null))},i.default.createElement(u.default,{onClose:b,severity:E||"warning"},C))}));t.default=s},1681:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26)),i=a(n(19)),l=n(31),c=a(n(74)),u=a(n(211)),s=n(17),d=n(33),f=n(20),p=r(n(1)),m=n(762),h=a(n(565)),g=a(n(308)),v=(0,l.makeStyles)((function(e){return{viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(.5)},icon:{color:e.palette.secondary.contrastText},grow:{flexGrow:1},iconRoot:{"&:hover":{backgroundColor:(0,s.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},input:{paddingBottom:0,paddingTop:2},inputBase:{color:e.palette.secondary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.secondary.light}},inputFocused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.secondary.light}}})),b=(0,d.observer)((function(e){var t=e.model,n=e.IconButtonProps,r=e.IconProps,a=(0,p.useState)(),o=(0,i.default)(a,2),c=o[0],s=o[1],d=t.menuItems,f="function"==typeof d?d():d;return null!=f&&f.length?p.default.createElement(p.default.Fragment,null,p.default.createElement(l.IconButton,Object.assign({},n,{"aria-label":"more","aria-controls":"view-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},"data-testid":"view_menu_icon"}),p.default.createElement(u.default,r)),p.default.createElement(g.default,{anchorEl:c,open:Boolean(c),onMenuItemClick:function(e,t){t(),s(void 0)},onClose:function(){s(void 0)},menuItems:t.menuItems()})):null})),y=(0,m.withContentRect)("bounds")((0,d.observer)((function(e){var t=e.view,n=e.onClose,r=e.style,a=e.children,i=e.contentRect,u=e.measureRef,s=v(),d=(0,l.useTheme)().spacing(1),m=0;i.bounds&&(m=i.bounds.width),(0,p.useEffect)((function(){m&&(0,f.isAlive)(t)&&t.setWidth(m-2*d)}),[d,t,m]);var g=(0,p.useRef)(null);return(0,p.useEffect)((function(){var e;null!=g&&null!==(e=g.current)&&void 0!==e&&e.scrollIntoView&&g.current.scrollIntoView({block:"center"})}),[]),p.default.createElement(l.Paper,{elevation:12,ref:u,className:s.viewContainer,style:(0,o.default)((0,o.default)({},r),{},{padding:"0px ".concat(d,"px ").concat(d,"px")})},p.default.createElement("div",{ref:g,style:{display:"flex"}},p.default.createElement(b,{model:t,IconButtonProps:{classes:{root:s.iconRoot},edge:"start"},IconProps:{className:s.icon}}),p.default.createElement("div",{className:s.grow}),p.default.createElement(l.Tooltip,{title:"Rename view",arrow:!0},p.default.createElement(h.default,{value:t.displayName||(t.assemblyNames?t.assemblyNames.join(","):"Untitled view"),setValue:function(e){t.setDisplayName(e)},variant:"body2",classes:{input:s.input,inputBase:s.inputBase,inputRoot:s.inputRoot,inputFocused:s.inputFocused}})),p.default.createElement("div",{className:s.grow}),p.default.createElement(l.IconButton,{"data-testid":"close_view",classes:{root:s.iconRoot},edge:"end",onClick:n},p.default.createElement(c.default,{className:s.icon}))),p.default.createElement(l.Paper,null,a))})));t.default=y},1682:function(e,t,n){"use strict";var r=n(9).default,a=n(14).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(34)),i=r(n(26)),l=r(n(19)),c=r(n(11)),u=a(n(1)),s=n(31),d=n(578),f=n(33),p=n(161),m=r(n(206)),h=r(n(1685)),g=r(n(1686)),v=["title","children"];function b(e){var t=e.title,n=e.children,r=(0,c.default)(e,v);return u.default.createElement(s.Tooltip,{title:t||""},u.default.createElement(d.ToggleButton,r,n))}var y=(0,f.observer)((function(e){var t=e.location,n=e.name,r=e.description,a=e.rootModel,c=e.setLocation,f=!t||(0,p.isUriLocation)(t)?"url":"file",v=(0,u.useState)(t&&"internetAccountId"in t&&t.internetAccountId?t.internetAccountId:f),y=(0,l.default)(v,2),w=y[0],C=y[1],E=(0,p.isAppRootModel)(a)?a.internetAccounts.slice():[],O=(0,u.useState)(E.slice(0,2)),k=(0,l.default)(O,2),x=k[0],S=k[1],j=(0,u.useState)(E.slice(2)),T=(0,l.default)(j,2),P=T[0],R=T[1],M=(0,u.useState)(null),I=(0,l.default)(M,2),L=I[0],A=I[1],F=E.find((function(e){return e.internetAccountId===w})),N=function(e){c((0,i.default)((0,i.default)({},e),{},{internetAccountId:F?F.internetAccountId:void 0}))};t&&F&&(0,p.isUriLocation)(t)&&t.internetAccountId!==F.internetAccountId&&N(t);var _=u.default.createElement(g.default,Object.assign({},e,{setLocation:N,label:null==F?void 0:F.selectorLabel}));if("file"===w&&(_=u.default.createElement(h.default,e)),null!=F&&F.SelectorComponent){var D=F.SelectorComponent;_=u.default.createElement(D,Object.assign({},e,{setLocation:N}))}return u.default.createElement(u.default.Fragment,null,u.default.createElement(s.Box,{display:"flex"},u.default.createElement(s.InputLabel,{shrink:!0},n)),u.default.createElement(s.Box,{display:"flex",flexDirection:"row"},u.default.createElement(s.Box,null,u.default.createElement(d.ToggleButtonGroup,{value:w,exclusive:!0,onChange:function(e,n){n&&C(n),(0,p.isUriLocation)(t)&&N(t)},"aria-label":"file, url, or account picker"},new URLSearchParams(window.location.search).get("adminKey")?null:u.default.createElement(d.ToggleButton,{value:"file","aria-label":"local file"},"File"),u.default.createElement(d.ToggleButton,{value:"url","aria-label":"url"},"URL"),x.map((function(e){var t,n,r=e.internetAccountId,a=e.toggleContents,o=e.name;return u.default.createElement(b,{key:r,value:r,"aria-label":o,title:o},(n=5,"string"==typeof(t=a||o)&&t.length>n?"".concat(t.substring(0,n),""):t))})),P.length?u.default.createElement(d.ToggleButton,{onClick:function(e){return A(e.target)},selected:!1},"More",u.default.createElement(m.default,null)):null),u.default.createElement(s.Menu,{open:Boolean(L),anchorEl:L,onClose:function(){return A(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},null==P?void 0:P.map((function(e,t){return u.default.createElement(s.MenuItem,{key:e.internetAccountId,value:e.internetAccountId,onClick:function(){var n=x[x.length-1];S([].concat((0,o.default)(x.slice(0,x.length-1)),[e])),R([n].concat((0,o.default)(P.slice(0,t)),(0,o.default)(P.slice(t+1)))),C(e.internetAccountId),A(null)}},e.name)}))))),_,u.default.createElement(s.FormHelperText,null,r))}));t.default=y},1683:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(10),a=n(19),o=(n(41),n(1)),i=n(247),l=n(133),c=n(119),u=n(145);function s(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,a=void 0===r||r,o=e.limit,i=e.matchFrom,l=void 0===i?"any":i,c=e.stringify,u=e.trim,d=void 0!==u&&u;return function(e,t){var r=t.inputValue,i=t.getOptionLabel,u=d?r.trim():r;a&&(u=u.toLowerCase()),n&&(u=s(u));var f=e.filter((function(e){var t=(c||i)(e);return a&&(t=t.toLowerCase()),n&&(t=s(t)),"start"===l?0===t.indexOf(u):t.indexOf(u)>-1}));return"number"==typeof o?f.slice(0,o):f}}function f(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var p=d();function m(e){var t=e.autoComplete,n=void 0!==t&&t,s=e.autoHighlight,d=void 0!==s&&s,m=e.autoSelect,h=void 0!==m&&m,g=e.blurOnSelect,v=void 0!==g&&g,b=e.clearOnBlur,y=void 0===b?!e.freeSolo:b,w=e.clearOnEscape,C=void 0!==w&&w,E=e.componentName,O=void 0===E?"useAutocomplete":E,k=e.debug,x=void 0!==k&&k,S=e.defaultValue,j=void 0===S?e.multiple?[]:null:S,T=e.disableClearable,P=void 0!==T&&T,R=e.disableCloseOnSelect,M=void 0!==R&&R,I=e.disabledItemsFocusable,L=void 0!==I&&I,A=e.disableListWrap,F=void 0!==A&&A,N=e.filterOptions,_=void 0===N?p:N,D=e.filterSelectedOptions,z=void 0!==D&&D,B=e.freeSolo,H=void 0!==B&&B,V=e.getOptionDisabled,W=e.getOptionLabel,G=void 0===W?function(e){return e}:W,U=e.getOptionSelected,q=void 0===U?function(e,t){return e===t}:U,$=e.groupBy,K=e.handleHomeEndKeys,J=void 0===K?!e.freeSolo:K,X=e.id,Y=e.includeInputInList,Z=void 0!==Y&&Y,Q=e.inputValue,ee=e.multiple,te=void 0!==ee&&ee,ne=e.onChange,re=e.onClose,ae=e.onHighlightChange,oe=e.onInputChange,ie=e.onOpen,le=e.open,ce=e.openOnFocus,ue=void 0!==ce&&ce,se=e.options,de=e.selectOnFocus,fe=void 0===de?!e.freeSolo:de,pe=e.value,me=Object(i.a)(X),he=G;var ge=o.useRef(!1),ve=o.useRef(!0),be=o.useRef(null),ye=o.useRef(null),we=o.useState(null),Ce=we[0],Ee=we[1],Oe=o.useState(-1),ke=Oe[0],xe=Oe[1],Se=d?0:-1,je=o.useRef(Se),Te=Object(l.a)({controlled:pe,default:j,name:O}),Pe=Object(a.default)(Te,2),Re=Pe[0],Me=Pe[1],Ie=Object(l.a)({controlled:Q,default:"",name:O,state:"inputValue"}),Le=Object(a.default)(Ie,2),Ae=Le[0],Fe=Le[1],Ne=o.useState(!1),_e=Ne[0],De=Ne[1],ze=Object(c.a)((function(e,t){var n;if(te)n="";else if(null==t)n="";else{var r=he(t);n="string"==typeof r?r:""}Ae!==n&&(Fe(n),oe&&oe(e,n,"reset"))}));o.useEffect((function(){ze(null,Re)}),[Re,ze]);var Be=Object(l.a)({controlled:le,default:!1,name:O,state:"open"}),He=Object(a.default)(Be,2),Ve=He[0],We=He[1],Ge=!te&&null!=Re&&Ae===he(Re),Ue=Ve,qe=Ue?_(se.filter((function(e){return!z||!(te?Re:[Re]).some((function(t){return null!==t&&q(e,t)}))})),{inputValue:Ge?"":Ae,getOptionLabel:he}):[],$e=Object(c.a)((function(e){-1===e?be.current.focus():Ce.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));o.useEffect((function(){te&&ke>Re.length-1&&(xe(-1),$e(-1))}),[Re,te,ke,$e]);var Ke=Object(c.a)((function(e){var t=e.event,n=e.index,r=e.reason,a=void 0===r?"auto":r;if(je.current=n,-1===n?be.current.removeAttribute("aria-activedescendant"):be.current.setAttribute("aria-activedescendant","".concat(me,"-option-").concat(n)),ae&&ae(t,-1===n?null:qe[n],a),ye.current){var o=ye.current.querySelector("[data-focus]");o&&o.removeAttribute("data-focus");var i=ye.current.parentElement.querySelector('[role="listbox"]');if(i)if(-1!==n){var l=ye.current.querySelector('[data-option-index="'.concat(n,'"]'));if(l&&(l.setAttribute("data-focus","true"),i.scrollHeight>i.clientHeight&&"mouse"!==a)){var c=l,u=i.clientHeight+i.scrollTop,s=c.offsetTop+c.offsetHeight;s>u?i.scrollTop=s-i.clientHeight:c.offsetTop-c.offsetHeight*($?1.3:0)<i.scrollTop&&(i.scrollTop=c.offsetTop-c.offsetHeight*($?1.3:0))}}else i.scrollTop=0}})),Je=Object(c.a)((function(e){var t=e.event,r=e.diff,a=e.direction,o=void 0===a?"next":a,i=e.reason,l=void 0===i?"auto":i;if(Ue){var c=function(e,t){if(!ye.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===qe.length||"previous"===t&&-1===n)return-1;var r=ye.current.querySelector('[data-option-index="'.concat(n,'"]')),a=!L&&(r&&(r.disabled||"true"===r.getAttribute("aria-disabled")));if(!(r&&!r.hasAttribute("tabindex")||a))return n;n+="next"===t?1:-1}}(function(){var e=qe.length-1;if("reset"===r)return Se;if("start"===r)return 0;if("end"===r)return e;var t=je.current+r;return t<0?-1===t&&Z?-1:F&&-1!==je.current||Math.abs(r)>1?0:e:t>e?t===e+1&&Z?-1:F||Math.abs(r)>1?e:0:t}(),o);if(Ke({index:c,reason:l,event:t}),n&&"reset"!==r)if(-1===c)be.current.value=Ae;else{var u=he(qe[c]);be.current.value=u,0===u.toLowerCase().indexOf(Ae.toLowerCase())&&Ae.length>0&&be.current.setSelectionRange(Ae.length,u.length)}}})),Xe=o.useCallback((function(){if(Ue){var e=te?Re[0]:Re;if(0!==qe.length&&null!=e){if(ye.current)if(z||null==e)je.current>=qe.length-1?Ke({index:qe.length-1}):Ke({index:je.current});else{var t=qe[je.current];if(te&&t&&-1!==f(Re,(function(e){return q(t,e)})))return;var n=f(qe,(function(t){return q(t,e)}));-1===n?Je({diff:"reset"}):Ke({index:n})}}else Je({diff:"reset"})}}),[0===qe.length,!te&&Re,z,Je,Ke,Ue,Ae,te]),Ye=Object(c.a)((function(e){Object(u.a)(ye,e),e&&Xe()}));o.useEffect((function(){Xe()}),[Xe]);var Ze=function(e){Ve||(We(!0),ie&&ie(e))},Qe=function(e,t){Ve&&(We(!1),re&&re(e,t))},et=function(e,t,n,r){Re!==t&&(ne&&ne(e,t,n,r),Me(t))},tt=o.useRef(!1),nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"select-option",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",a=n,o=t;if(te){var i=f(o=Array.isArray(Re)?Re.slice():[],(function(e){return q(t,e)}));-1===i?o.push(t):"freeSolo"!==r&&(o.splice(i,1),a="remove-option")}ze(e,o),et(e,o,a,{option:t}),M||Qe(e,a),(!0===v||"touch"===v&&tt.current||"mouse"===v&&!tt.current)&&be.current.blur()};var rt=function(e,t){if(te){Qe(e,"toggleInput");var n=ke;-1===ke?""===Ae&&"previous"===t&&(n=Re.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Re.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Re.length||"previous"===t&&-1===n)return-1;var r=Ce.querySelector('[data-tag-index="'.concat(n,'"]'));if(!r||r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),xe(n),$e(n)}},at=function(e){ge.current=!0,Fe(""),oe&&oe(e,"","clear"),et(e,te?[]:null,"clear")},ot=function(e){return function(t){switch(-1!==ke&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(xe(-1),$e(-1)),t.key){case"Home":Ue&&J&&(t.preventDefault(),Je({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ue&&J&&(t.preventDefault(),Je({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Je({diff:-5,direction:"previous",reason:"keyboard",event:t}),Ze(t);break;case"PageDown":t.preventDefault(),Je({diff:5,direction:"next",reason:"keyboard",event:t}),Ze(t);break;case"ArrowDown":t.preventDefault(),Je({diff:1,direction:"next",reason:"keyboard",event:t}),Ze(t);break;case"ArrowUp":t.preventDefault(),Je({diff:-1,direction:"previous",reason:"keyboard",event:t}),Ze(t);break;case"ArrowLeft":rt(t,"previous");break;case"ArrowRight":rt(t,"next");break;case"Enter":if(229===t.which)break;if(-1!==je.current&&Ue){var r=qe[je.current],a=!!V&&V(r);if(t.preventDefault(),a)return;nt(t,r,"select-option"),n&&be.current.setSelectionRange(be.current.value.length,be.current.value.length)}else H&&""!==Ae&&!1===Ge&&(te&&t.preventDefault(),nt(t,Ae,"create-option","freeSolo"));break;case"Escape":Ue?(t.preventDefault(),t.stopPropagation(),Qe(t,"escape")):C&&(""!==Ae||te&&Re.length>0)&&(t.preventDefault(),t.stopPropagation(),at(t));break;case"Backspace":if(te&&""===Ae&&Re.length>0){var o=-1===ke?Re.length-1:ke,i=Re.slice();i.splice(o,1),et(t,i,"remove-option",{option:Re[o]})}}e.onKeyDown&&e.onKeyDown(t)}},it=function(e){De(!0),ue&&!ge.current&&Ze(e)},lt=function(e){null===ye.current||document.activeElement!==ye.current.parentElement?(De(!1),ve.current=!0,ge.current=!1,x&&""!==Ae||(h&&-1!==je.current&&Ue?nt(e,qe[je.current],"blur"):h&&H&&""!==Ae?nt(e,Ae,"blur","freeSolo"):y&&ze(e,Re),Qe(e,"blur"))):be.current.focus()},ct=function(e){var t=e.target.value;Ae!==t&&(Fe(t),oe&&oe(e,t,"input")),""===t?P||te||et(e,null,"clear"):Ze(e)},ut=function(e){Ke({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},st=function(){tt.current=!0},dt=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));nt(e,qe[t],"select-option"),tt.current=!1},ft=function(e){return function(t){var n=Re.slice();n.splice(e,1),et(t,n,"remove-option",{option:Re[e]})}},pt=function(e){Ve?Qe(e,"toggleInput"):Ze(e)},mt=function(e){e.target.getAttribute("id")!==me&&e.preventDefault()},ht=function(){be.current.focus(),fe&&ve.current&&be.current.selectionEnd-be.current.selectionStart==0&&be.current.select(),ve.current=!1},gt=function(e){""!==Ae&&Ve||pt(e)},vt=H&&Ae.length>0;vt=vt||(te?Re.length>0:null!==Re);var bt=qe;if($){new Map;bt=qe.reduce((function(e,t,n){var r=$(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({"aria-owns":Ue?"".concat(me,"-popup"):null,role:"combobox","aria-expanded":Ue},e,{onKeyDown:ot(e),onMouseDown:mt,onClick:ht})},getInputLabelProps:function(){return{id:"".concat(me,"-label"),htmlFor:me}},getInputProps:function(){return{id:me,value:Ae,onBlur:lt,onFocus:it,onChange:ct,onMouseDown:gt,"aria-activedescendant":Ue?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Ue?"".concat(me,"-popup"):null,autoComplete:"off",ref:be,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:at}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:pt}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:ft(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(me,"-popup"),"aria-labelledby":"".concat(me,"-label"),ref:Ye,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,n=e.option,r=(te?Re:[Re]).some((function(e){return null!=e&&q(n,e)})),a=!!V&&V(n);return{key:t,tabIndex:-1,role:"option",id:"".concat(me,"-option-").concat(t),onMouseOver:ut,onClick:dt,onTouchStart:st,"data-option-index":t,"aria-disabled":a,"aria-selected":r}},id:me,inputValue:Ae,value:Re,dirty:vt,popupOpen:Ue,focused:_e||-1!==ke,anchorEl:Ce,setAnchorEl:Ee,focusedTag:ke,groupedOptions:bt}}},1684:function(e,t,n){"use strict";var r=60103,a=60106,o=60107,i=60108,l=60114,c=60109,u=60110,s=60112,d=60113,f=60120,p=60115,m=60116,h=60121,g=60122,v=60117,b=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),a=w("react.portal"),o=w("react.fragment"),i=w("react.strict_mode"),l=w("react.profiler"),c=w("react.provider"),u=w("react.context"),s=w("react.forward_ref"),d=w("react.suspense"),f=w("react.suspense_list"),p=w("react.memo"),m=w("react.lazy"),h=w("react.block"),g=w("react.server.block"),v=w("react.fundamental"),b=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function C(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case l:case i:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case s:case m:case p:case c:return e;default:return t}}case a:return t}}}var E=c,O=r,k=s,x=o,S=m,j=p,T=a,P=l,R=i,M=d;t.ContextConsumer=u,t.ContextProvider=E,t.Element=O,t.ForwardRef=k,t.Fragment=x,t.Lazy=S,t.Memo=j,t.Portal=T,t.Profiler=P,t.StrictMode=R,t.Suspense=M,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return C(e)===u},t.isContextProvider=function(e){return C(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return C(e)===s},t.isFragment=function(e){return C(e)===o},t.isLazy=function(e){return C(e)===m},t.isMemo=function(e){return C(e)===p},t.isPortal=function(e){return C(e)===a},t.isProfiler=function(e){return C(e)===l},t.isStrictMode=function(e){return C(e)===i},t.isSuspense=function(e){return C(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===b||e===i||e===d||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===c||e.$$typeof===u||e.$$typeof===s||e.$$typeof===v||e.$$typeof===h||e[0]===g)},t.typeOf=C},1685:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(31),i=n(39),l=n(118);function c(e){return"blobId"in e}var u=(0,o.makeStyles)((function(e){return{filename:{marginLeft:e.spacing(1)}}}));var s=function(e){var t=u(),n=e.location,r=e.setLocation,s=n&&(c(n)&&n.name||function(e){return"localPath"in e}(n)&&n.localPath),d=n&&c(n)&&!(0,l.getBlob)(n.blobId);return a.default.createElement(o.Box,{display:"flex",flexDirection:"row",alignItems:"center"},a.default.createElement(o.Box,null,a.default.createElement(o.FormControl,{fullWidth:!0},a.default.createElement(o.Button,{variant:"outlined",component:"label"},"Choose File",a.default.createElement("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target,n=t&&t.files&&t.files[0];n&&(i.isElectron?r({localPath:n.path,locationType:"LocalPathLocation"}):r((0,l.storeBlobLocation)({blob:n})))}})))),a.default.createElement(o.Box,null,a.default.createElement(o.Typography,{component:"span",className:t.filename,color:s?"initial":"textSecondary"},s||"No file chosen"),d?a.default.createElement(o.Typography,{color:"error"},"(need to reload)"):null))};t.default=s},1686:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(31),i=n(33),l=n(161);var c=(0,i.observer)((function(e){var t=e.location,n=e.setLocation,r=e.label;return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.TextField,{fullWidth:!0,variant:"outlined",inputProps:{"data-testid":"urlInput"},defaultValue:t&&(0,l.isUriLocation)(t)?t.uri:"",label:r||"Enter URL",onChange:function(e){n({uri:e.target.value.trim(),locationType:"UriLocation"})}}))}));t.default=c},1687:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(26)),i=a(n(34)),l=r(n(1)),c=n(564);function u(e){var t=e.width,n=e.height,r=e.highResolutionScaling,a=e.style,u=e.imageData,s=e.blockKey,d=e.showSoftClip,f=(0,l.useRef)(null);(0,l.useEffect)((function(){if(u){var e=f.current;if(e){var t=e.getContext("2d");if(t)if(u.commands)u.commands.forEach((function(e){"strokeStyle"===e.type?t.strokeStyle=e.style:"fillStyle"===e.type?t.fillStyle=e.style:"font"===e.type?t.font=e.style:t[e.type].apply(t,(0,i.default)(e.args))}));else if(u instanceof c.ImageBitmapType)t.drawImage(u,0,0);else if(u.dataURL){var n=new Image;n.onload=function(){return t.drawImage(n,0,0)},n.src=u.dataURL}}}}),[u]);var p=s?"_"+s:"",m="prerendered_canvas".concat(d?"_softclipped":"").concat(p);return l.default.createElement("canvas",{"data-testid":m,ref:f,width:t*r,height:n*r,style:(0,o.default)({width:t,height:n},a)})}u.defaultProps={imageData:void 0,highResolutionScaling:1,style:{}};var s=u;t.default=s},1688:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(19)),i=r(n(1)),l=n(17),c=n(33),u=n(43),s=(0,l.makeStyles)({hoverLabel:{border:"1px solid black",position:"absolute",background:"#fffa",pointerEvents:"none",zIndex:1e4}}),d=(0,c.observer)((function(e){var t=e.offsetX,n=e.offsetY,r=e.configuration,a=e.feature,l=e.timeout,c=void 0===l?300:l,d=s(),f=(0,i.useState)(!1),p=(0,o.default)(f,2),m=p[0],h=p[1];if((0,i.useEffect)((function(){var e=setTimeout((function(){return h(!0)}),c);return function(){return clearTimeout(e)}})),a&&m){var g=(0,u.readConfObject)(r,"mouseover",{feature:a});return i.default.createElement("div",{className:d.hoverLabel,style:{left:t,top:n}},g)}return null}));t.default=d},1689:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(19)),i=a(n(72)),l=a(n(110)),c=a(n(180)),u=a(n(136)),s=a(n(135)),d=r(n(1)),f=a(n(992)),p=function(e){var t=e.onFactoryReset,n=e.resetButtonText,r=(0,d.useState)(!1),a=(0,o.default)(r,2),l=a[0],c=a[1];return d.default.createElement(d.default.Fragment,null,d.default.createElement(i.default,{"data-testid":"fatal-error",color:"primary",variant:"contained",onClick:function(){return c(!0)}},n),d.default.createElement(f.default,{onClose:function(){return c(!1)},open:l,onFactoryReset:t}))},m=function(e){var t=e.componentStack,n=e.error,r=e.onFactoryReset,a=e.resetButtonText;return d.default.createElement(l.default,{open:!0},d.default.createElement(s.default,{style:{backgroundColor:"#e88"}},"Fatal error"),d.default.createElement(u.default,null,d.default.createElement("pre",null,n.toString(),t)),d.default.createElement(c.default,null,d.default.createElement(i.default,{color:"secondary",variant:"contained",onClick:function(){return window.location.reload()}},"Refresh"),d.default.createElement(p,{onFactoryReset:r,resetButtonText:a})))};m.defaultProps={error:{message:"No error message provided"},componentStack:"",resetButtonText:"Factory Reset"};var h=m;t.default=h},1690:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assemblyConfigSchemaFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=r(n(1691)),o=r(n(1693))},1691:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,f.default)(e,t);return u.types.model({assemblies:u.types.array(n)}).views((function(e){return{get:function(t){return e.assemblies.find((function(e){return e.hasName(t)}))},get assemblyNamesList(){return this.assemblyList.map((function(e){return e.name}))},get assemblyList(){var t=(0,u.getParent)(e),n=t.jbrowse.assemblies,r=t.session,a=(r=void 0===r?{}:r).sessionAssemblies,o=void 0===a?[]:a;return[].concat((0,l.default)(n),(0,l.default)(o))},get rpcManager(){return(0,u.getParent)(e).rpcManager},get pluginManager(){return(0,u.getParent)(e).pluginManager},get allPossibleRefNames(){var t,n=[],r=(0,i.default)(e.assemblies);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(!a.allRefNames)return;n=n.concat(a.allRefNames)}}catch(e){r.e(e)}finally{r.f()}return n}}})).views((function(e){return{waitForAssembly:function(t){return(0,o.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}throw new Error("no assembly name supplied to waitForAssembly");case 2:if(!(r=e.get(t))){n.next=9;break}return n.next=6,(0,s.when)((function(){return Boolean(r.regions&&r.refNameAliases)||!!r.error}));case 6:if(!r.error){n.next=8;break}throw r.error;case 8:return n.abrupt("return",r);case 9:return n.abrupt("return",void 0);case 10:case"end":return n.stop()}}),n)})))()},getRefNameMapForAdapter:function(t,n,r){return(0,o.default)(a.default.mark((function o(){var i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.when)((function(){return Boolean(e.get(n))}),{signal:r.signal,name:"when assembly ready"});case 2:if(!(i=e.get(n))){a.next=5;break}return a.abrupt("return",i.getRefNameMapForAdapter(t,r));case 5:return a.abrupt("return",void 0);case 6:case"end":return a.stop()}}),o)})))()},getReverseRefNameMapForAdapter:function(t,n,r){return(0,o.default)(a.default.mark((function o(){var i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,s.when)((function(){return Boolean(e.get(n))}),{signal:r.signal,name:"when assembly ready"});case 2:if(!(i=e.get(n))){a.next=5;break}return a.abrupt("return",i.getReverseRefNameMapForAdapter(t,r));case 5:return a.abrupt("return",void 0);case 6:case"end":return a.stop()}}),o)})))()},isValidRefName:function(t,n){if(n){var r=e.get(n);if(r)return r.isValidRefName(t);throw new Error("isValidRefName for ".concat(n," failed, assembly does not exist"))}if(!e.allPossibleRefNames)throw new Error("isValidRefName not available, assemblyManager has not yet finished loading. If you are looking for a refname in a specific assembly, pass assembly argument");return e.allPossibleRefNames.includes(t)}}})).actions((function(e){return{removeAssembly:function(t){e.assemblies.remove(t)},afterAttach:function(){var t=this;(0,u.addDisposer)(e,(0,c.reaction)((function(){return e.assemblyList}),(function(n){e.assemblies.forEach((function(e){e.configuration||t.removeAssembly(e)})),n.forEach((function(n){-1===e.assemblies.findIndex((function(e){return e.name===(0,d.readConfObject)(n,"name")}))&&t.addAssembly(n)}))}),{fireImmediately:!0,name:"assemblyManagerAfterAttach"}))},addAssembly:function(t){e.assemblies.push({configuration:t})},replaceAssembly:function(t,n){e.assemblies[t]=(0,u.cast)({configuration:n})}}}))};var a=r(n(22)),o=r(n(24)),i=r(n(62)),l=r(n(34)),c=n(45),u=n(20),s=n(39),d=n(43),f=r(n(1692))},1692:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new f.default({cache:new h.default({maxSize:1e3}),fill:function(e,t,n){return(0,u.default)(i.default.mark((function r(){var a,o,l;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.adapterConf,o=e.self,l=e.options,r.abrupt("return",b(o,a,(0,c.default)((0,c.default)({},l),{},{statusCallback:n}),t));case 2:case"end":return r.stop()}}),r)})))()}});return d.types.model({configuration:d.types.safeReference(e)}).volatile((function(){return{error:void 0,regions:void 0,refNameAliases:void 0,cytobands:void 0}})).views((function(e){return{get initialized(){return!!e.refNameAliases},get name(){return(0,p.getConf)(e,"name")},get aliases(){return(0,p.getConf)(e,"aliases")},hasName:function(e){return this.allAliases.includes(e)},get allAliases(){return[this.name].concat((0,l.default)(this.aliases))},get refNames(){var t;return null===(t=e.regions)||void 0===t?void 0:t.map((function(e){return e.refName}))},get allRefNames(){return e.refNameAliases?Object.keys(e.refNameAliases):void 0},get rpcManager(){return(0,d.getParent)(e,2).rpcManager},get refNameColors(){var t=(0,p.getConf)(e,"refNameColors");return 0===t.length?v:t}}})).views((function(e){return{getCanonicalRefName:function(t){if(!e.refNameAliases)throw new Error("aliases not loaded, we expect them to be loaded before getCanonicalRefName can be called");return e.refNameAliases[t]},getRefNameColor:function(t){var n,r=null===(n=e.refNames)||void 0===n?void 0:n.findIndex((function(e){return e===t}));if(void 0!==r&&-1!==r)return e.refNameColors[r%e.refNameColors.length]},isValidRefName:function(t){if(!e.refNameAliases)throw new Error("isValidRefName cannot be called yet, the assembly has not finished loading");return!!this.getCanonicalRefName(t)}}})).actions((function(e){return{setLoading:function(){},setLoaded:function(e){var t=e.adapterRegionsWithAssembly,n=e.refNameAliases,r=e.cytobands;this.setRegions(t),this.setRefNameAliases(n),this.setCytobands(r)},setError:function(t){console.error(t),e.error=t},setRegions:function(t){e.regions=t},setRefNameAliases:function(t){e.refNameAliases=t},setCytobands:function(t){e.cytobands=t},afterAttach:function(){(0,m.makeAbortableReaction)(e,function(e){return function(t){if(t.configuration){var n=t.configuration,r=n.sequence,a=n.refNameAliases,o=n.cytobands,i=r.adapter,l=null==a?void 0:a.adapter,c=null==o?void 0:o.adapter;return{sequenceAdapterConfig:i,assemblyName:t.name,refNameAliasesAdapterConfig:l,cytobandAdapterConfig:c,pluginManager:e}}}}(t),C,{name:"".concat(e.name," assembly loading"),fireImmediately:!0},this.setLoading,this.setLoaded,this.setError)}}})).views((function(e){return{getAdapterMapEntry:function(t,r){r.signal;var a=r.statusCallback,i=(0,o.default)(r,g);if(!r.sessionId)throw new Error("sessionId is required");var l=function(e){return(0,s.default)(e)}(t);return n.get(l,{adapterConf:t,self:e,options:i},void 0,a)},getRefNameMapForAdapter:function(e,t){var n=this;return(0,u.default)(i.default.mark((function r(){var a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&t.sessionId){r.next=2;break}throw new Error("sessionId is required");case 2:return r.next=4,n.getAdapterMapEntry(e,t);case 4:return a=r.sent,r.abrupt("return",a.forwardMap);case 6:case"end":return r.stop()}}),r)})))()},getReverseRefNameMapForAdapter:function(e,t){var n=this;return(0,u.default)(i.default.mark((function r(){var a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getAdapterMapEntry(e,t);case 2:return a=r.sent,r.abrupt("return",a.reverseMap);case 4:case"end":return r.stop()}}),r)})))()}}}))};var a=r(n(19)),o=r(n(11)),i=r(n(22)),l=r(n(34)),c=r(n(26)),u=r(n(24)),s=r(n(770)),d=n(20),f=r(n(121)),p=n(43),m=n(39),h=r(n(567)),g=["signal","statusCallback"],v=["rgb(153, 102, 0)","rgb(102, 102, 0)","rgb(153, 153, 30)","rgb(204, 0, 0)","rgb(255, 0, 0)","rgb(255, 0, 204)","rgb(165, 132, 132)","rgb(204, 122, 0)","rgb(178, 142, 0)","rgb(153, 153, 0)","rgb(122, 153, 0)","rgb(0, 165, 0)","rgb(53, 128, 0)","rgb(0, 0, 204)","rgb(96, 145, 242)","rgb(107, 142, 178)","rgb(0, 165, 165)","rgb(122, 153, 153)","rgb(153, 0, 204)","rgb(204, 51, 255)","rgb(173, 130, 216)","rgb(102, 102, 102)","rgb(145, 145, 145)","rgb(142, 142, 142)","rgb(142, 142, 107)","rgb(96, 163, 48)"];function b(e,t,n,r){return y.apply(this,arguments)}function y(){return(y=(0,u.default)(i.default.mark((function e(t,n,r,o){var l,u,s,d;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.sessionId,e.next=3,(0,m.when)((function(){return Boolean(t.regions&&t.refNameAliases)}),{signal:o,name:"when assembly ready"});case 3:return e.next=5,t.rpcManager.call(l,"CoreGetRefNames",(0,c.default)({adapterConfig:n,signal:o},r),{timeout:1e6});case 5:if(u=e.sent,t.refNameAliases){e.next=9;break}throw new Error("error loading assembly ".concat(t.name,"'s refNameAliases"));case 9:return s=Object.fromEntries(u.map((function(e){return w(e),[t.getCanonicalRefName(e),e]}))),d=Object.fromEntries(Object.entries(s).map((function(e){var t=(0,a.default)(e,2),n=t[0];return[t[1],n]}))),e.abrupt("return",{forwardMap:s,reverseMap:d});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){if(!e.match(/[0-9A-Za-z!#$%&+./:;?@^_|~-][0-9A-Za-z!#$%&*+./:;=?@^_|~-]*/))throw new Error('Encountered invalid refName: "'.concat(e,'"'))}function C(e,t){return E.apply(this,arguments)}function E(){return(E=(0,u.default)(i.default.mark((function e(t,n){var r,a,o,l,u,s,d,f,p,m;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=t.sequenceAdapterConfig,a=t.assemblyName,o=t.refNameAliasesAdapterConfig,l=t.cytobandAdapterConfig,u=t.pluginManager,e.next=5,j(r,u,n);case 5:return s=e.sent,d=s.map((function(e){return w(e.refName),(0,c.default)((0,c.default)({},e),{},{assemblyName:a})})),f={},e.next=10,O(o,u,n);case 10:return p=e.sent,e.next=13,x(l,u);case 13:return m=e.sent,p.forEach((function(e){var t=e.refName;e.aliases.forEach((function(e){w(e),f[e]=t}))})),d.forEach((function(e){f[e.refName]=e.refName})),e.abrupt("return",{adapterRegionsWithAssembly:d,refNameAliases:f,cytobands:m});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,t,n){return k.apply(this,arguments)}function k(){return(k=(0,u.default)(i.default.mark((function e(t,n,r){var a,o,l,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getAdapterType(t.type),e.next=3,null===(a=o.getAdapterClass)||void 0===a?void 0:a.call(o);case 3:return l=e.sent,c=new l(t,void 0,n),e.abrupt("return",c.getRefNameAliases({signal:r}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return S.apply(this,arguments)}function S(){return(S=(0,u.default)(i.default.mark((function e(t,n){var r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getAdapterType(t.type),e.next=3,r.getAdapterClass();case 3:return a=e.sent,o=new a(t,void 0,n),e.abrupt("return",o.getData());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t,n){return T.apply(this,arguments)}function T(){return(T=(0,u.default)(i.default.mark((function e(t,n,r){var a,o,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getAdapterType(t.type),e.next=3,a.getAdapterClass();case 3:return o=e.sent,l=new o(t,void 0,n),e.abrupt("return",l.getRegions({signal:r}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(43);t.default=function(e){return(0,r.ConfigurationSchema)("BaseAssembly",{aliases:{type:"stringArray",defaultValue:[],description:"Other possible names for the assembly"},sequence:e.getTrackType("ReferenceSequenceTrack").configSchema,refNameColors:{type:"stringArray",defaultValue:[],description:"Define custom colors for each reference sequence. Will cycle through this list if there are not enough colors for every sequence."},refNameAliases:(0,r.ConfigurationSchema)("RefNameAliases",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:function(e){return e.adapter?e:{adapter:{type:"RefNameAliasAdapter"}}}}),cytobands:(0,r.ConfigurationSchema)("Cytoband",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:function(e){return e.adapter?e:{adapter:{type:"CytobandAdapter"}}}}),displayName:{type:"string",defaultValue:"",description:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)" while the assembly name may just be "hg38"'}},{explicitIdentifier:"name"})}},1694:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(62)),o=r(n(34)),i=r(n(19)),l=r(n(16)),c=r(n(15)),u=n(20),s=r(n(309)),d=r(n(162)),f=r(n(193)),p=r(n(229)),m=r(n(310)),h=r(n(194)),g=r(n(568)),v=r(n(415)),b=r(n(995)),y=r(n(996)),w=n(43),C=r(n(131)),E=r(n(997)),O=r(n(1717)),k=r(n(982)),x=function(){function e(){(0,l.default)(this,e),this.phaseCallbacks=new Map,this.phaseOrder=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.phaseOrder=n}return(0,c.default)(e,[{key:"add",value:function(e,t){if(!this.phaseOrder.includes(e))throw new Error("unknown phase ".concat(e));var n=this.phaseCallbacks.get(e);n||(n=[],this.phaseCallbacks.set(e,n)),n.push(t)}},{key:"run",value:function(){var e=this;this.phaseOrder.forEach((function(t){var n=e.phaseCallbacks.get(t);n&&n.forEach((function(e){return e()}))}))}}]),e}(),S=function(){function e(t,n){(0,l.default)(this,e),this.typeName=t,this.baseClass=n,this.registeredTypes={}}return(0,c.default)(e,[{key:"add",value:function(e,t){this.registeredTypes[e]=t}},{key:"has",value:function(e){return e in this.registeredTypes}},{key:"get",value:function(e){if(!this.has(e))throw new Error("".concat(this.typeName," '").concat(e,"' not found, perhaps its plugin is not loaded or its plugin has not added it."));return this.registeredTypes[e]}},{key:"all",value:function(){return Object.values(this.registeredTypes)}}]),e}(),j=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,l.default)(this,e),this.plugins=[],this.jexl=(0,k.default)(),this.pluginMetadata={},this.runtimePluginDefinitions=[],this.elementCreationSchedule=new x("renderer","adapter","text search adapter","display","track","connection","view","widget","rpc method","internet account"),this.rendererTypes=new S("RendererType",s.default),this.adapterTypes=new S("AdapterType",d.default),this.textSearchAdapterTypes=new S("TextSearchAdapterType",y.default),this.trackTypes=new S("TrackType",f.default),this.displayTypes=new S("DisplayType",p.default),this.connectionTypes=new S("ConnectionType",g.default),this.viewTypes=new S("ViewType",m.default),this.widgetTypes=new S("WidgetType",h.default),this.rpcMethods=new S("RpcMethodType",v.default),this.internetAccountTypes=new S("InternetAccountType",b.default),this.configured=!1,this.rootModel=void 0,this.extensionPoints=new Map,this.jbrequireCache=new Map,this.lib=E.default,this.load=function(e){return t.jbrequireCache.has(e)||t.jbrequireCache.set(e,e(t)),t.jbrequireCache.get(e)},this.jbrequire=function(e){if("string"==typeof e){var n=t.lib[e];if(!n)throw new TypeError("No jbrequire re-export defined for package '".concat(e,"'. If this package must be shared between plugins, add it to ReExports.js. If it does not need to be shared, just import it normally."));return n}if("function"==typeof e)return t.load(e);if(e.default)return t.jbrequire(e.default);throw new TypeError("lib passed to jbrequire must be either a string or a function")},this.addPlugin({plugin:new O.default,metadata:{isCore:!0}}),n.forEach((function(e){t.addPlugin(e)}))}return(0,c.default)(e,[{key:"pluginConfigurationSchemas",value:function(){var e={};return this.plugins.forEach((function(t){t.configurationSchema&&(e[t.name]=t.configurationSchema)})),e}},{key:"addPlugin",value:function(e){if(this.configured)throw new Error("JBrowse already configured, cannot add plugins");var t=e instanceof C.default?[e,{}]:[e.plugin,e.metadata],n=(0,i.default)(t,2),r=n[0],a=n[1],o=void 0===a?{}:a;if(this.plugins.includes(r))throw new Error("plugin already installed");return this.pluginMetadata[r.name]=o,"definition"in e&&this.runtimePluginDefinitions.push(e.definition),r.install(this),this.plugins.push(r),this}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"hasPlugin",value:function(e){return void 0!==this.getPlugin(e)}},{key:"createPluggableElements",value:function(){return this.elementCreationSchedule&&(this.elementCreationSchedule.run(),delete this.elementCreationSchedule),this}},{key:"setRootModel",value:function(e){this.rootModel=e}},{key:"configure",value:function(){var e=this;if(this.configured)throw new Error("already configured");return this.plugins.forEach((function(t){return t.configure(e)})),this.configured=!0,this}},{key:"getElementTypeRecord",value:function(e){switch(e){case"adapter":return this.adapterTypes;case"text search adapter":return this.textSearchAdapterTypes;case"connection":return this.connectionTypes;case"widget":return this.widgetTypes;case"renderer":return this.rendererTypes;case"display":return this.displayTypes;case"track":return this.trackTypes;case"view":return this.viewTypes;case"rpc method":return this.rpcMethods;case"internet account":return this.internetAccountTypes;default:throw new Error("invalid element type '".concat(e,"'"))}}},{key:"addElementType",value:function(e,t){var n=this;if("function"!=typeof t)throw new Error("must provide a callback function that returns the new type object");var r=this.getElementTypeRecord(e);return this.elementCreationSchedule&&this.elementCreationSchedule.add(e,(function(){var a=t(n);if(!a.name)throw new Error("cannot add a ".concat(e," with no name"));if(r.has(a.name))throw new Error("".concat(e," ").concat(a.name," already registered, cannot register it again"));a=n.evaluateExtensionPoint("Core-extendPluggableElement",a),r.add(a.name,a)})),this}},{key:"getElementType",value:function(e,t){return this.getElementTypeRecord(e).get(t)}},{key:"getElementTypesInGroup",value:function(e){return this.getElementTypeRecord(e).all()}},{key:"pluggableMstType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.types.maybe(u.types.null),r=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,u.isType)(e)&&(0,u.isModelType)(e)}));return 0===r.length?(console.warn("No JBrowse pluggable types found matching ('".concat(e,"','").concat(t,"')")),n):u.types.union.apply(u.types,(0,o.default)(r))}},{key:"pluggableConfigSchemaType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"configSchema",n=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,w.isBareConfigurationSchemaType)(e)}));return 0===n.length&&n.push((0,w.ConfigurationSchema)("Null",{})),u.types.union.apply(u.types,(0,o.default)(n))}},{key:"getRendererType",value:function(e){return this.rendererTypes.get(e)}},{key:"getRendererTypes",value:function(){return this.rendererTypes.all()}},{key:"getAdapterType",value:function(e){return this.adapterTypes.get(e)}},{key:"getTextSearchAdapterType",value:function(e){return this.textSearchAdapterTypes.get(e)}},{key:"getTrackType",value:function(e){return this.trackTypes.get(e)}},{key:"getDisplayType",value:function(e){return this.displayTypes.get(e)}},{key:"getViewType",value:function(e){return this.viewTypes.get(e)}},{key:"getWidgetType",value:function(e){return this.widgetTypes.get(e)}},{key:"getConnectionType",value:function(e){return this.connectionTypes.get(e)}},{key:"getRpcMethodType",value:function(e){return this.rpcMethods.get(e)}},{key:"getInternetAccountType",value:function(e){return this.internetAccountTypes.get(e)}},{key:"addRendererType",value:function(e){return this.addElementType("renderer",e)}},{key:"addAdapterType",value:function(e){return this.addElementType("adapter",e)}},{key:"addTextSearchAdapterType",value:function(e){return this.addElementType("text search adapter",e)}},{key:"addTrackType",value:function(e){var t=this;return this.addElementType("track",(function(){var n=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.trackType!==n.name||n.displayTypes.includes(e)||n.addDisplayType(e)})),n}))}},{key:"addDisplayType",value:function(e){return this.addElementType("display",e)}},{key:"addViewType",value:function(e){var t=this;return this.addElementType("view",(function(){var n=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.viewType!==n.name||n.displayTypes.includes(e)||n.addDisplayType(e)})),n}))}},{key:"addWidgetType",value:function(e){return this.addElementType("widget",e)}},{key:"addConnectionType",value:function(e){return this.addElementType("connection",e)}},{key:"addRpcMethod",value:function(e){return this.addElementType("rpc method",e)}},{key:"addInternetAccountType",value:function(e){return this.addElementType("internet account",e)}},{key:"addToExtensionPoint",value:function(e,t){var n=this.extensionPoints.get(e);n||(n=[],this.extensionPoints.set(e,n)),n.push(t)}},{key:"evaluateExtensionPoint",value:function(e,t){var n=this.extensionPoints.get(e),r=t;if(n){var o,i=(0,a.default)(n);try{for(i.s();!(o=i.n()).done;){var l=o.value;try{r=l(r)}catch(e){console.error(e)}}}catch(e){i.e(e)}finally{i.f()}}return r}}]),e}();t.default=j},1695:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(1)),i=r(n(6)),l=r(n(45)),c=r(n(20)),u=r(n(33)),s=a(n(0)),d=r(n(17)),f=r(n(31)),p=r(n(23)),m=a(n(137)),h=r(n(578)),g=r(n(569)),v=a(n(248)),b=a(n(72)),y=a(n(271)),w=a(n(272)),C=a(n(273)),E=a(n(182)),O=a(n(274)),k=a(n(110)),x=a(n(151)),S=a(n(134)),j=a(n(183)),T=a(n(152)),P=a(n(275)),R=a(n(276)),M=a(n(55)),I=a(n(277)),L=a(n(212)),A=a(n(184)),F=a(n(278)),N=a(n(279)),_=a(n(101)),D=a(n(280)),z=a(n(250)),B=a(n(138)),H=a(n(281)),V=a(n(213)),W=a(n(93)),G=a(n(112)),U=a(n(47)),q=a(n(416)),$=a(n(417)),K=r(n(195)),J=r(n(418)),X=a(n(1001)),Y=r(n(1697)),Z=a(n(310)),Q=a(n(162)),ee=a(n(229)),te=a(n(193)),ne=a(n(194)),re=r(n(163)),ae=r(n(311)),oe=a(n(420)),ie=r(n(1004)),le=r(n(231)),ce=r(n(309)),ue=r(n(43)),se=a(n(131)),de=r(n(128)),fe=r(n(39)),pe=r(n(573)),me=r(n(1711)),he=r(n(118)),ge=r(n(164)),ve=r(n(192)),be=r(n(230)),ye=r(n(1715)),we=r(n(91)),Ce=a(n(1716)),Ee={mobx:l,"mobx-state-tree":c,react:o.default,"react-dom":i,"mobx-react":u,"prop-types":s.default,"@material-ui/core":f,"@material-ui/core/SvgIcon":m.default,"@material-ui/core/utils":p,"@material-ui/lab":h,"@mui/x-data-grid":g,"@material-ui/data-grid":g,"@material-ui/core/colors":ye,"@material-ui/core/styles":d,"@material-ui/core/Box":v.default,"@material-ui/core/Button":b.default,"@material-ui/core/ButtonGroup":y.default,"@material-ui/core/Card":w.default,"@material-ui/core/CardContent":C.default,"@material-ui/core/Container":O.default,"@material-ui/core/Checkbox":E.default,"@material-ui/core/Dialog":k.default,"@material-ui/core/FormGroup":T.default,"@material-ui/core/FormLabel":x.default,"@material-ui/core/FormControl":S.default,"@material-ui/core/FormControlLabel":j.default,"@material-ui/core/Grid":P.default,"@material-ui/core/Icon":R.default,"@material-ui/core/IconButton":M.default,"@material-ui/core/InputAdornment":I.default,"@material-ui/core/LinearProgress":L.default,"@material-ui/core/ListItemIcon":A.default,"@material-ui/core/ListItemText":F.default,"@material-ui/core/Menu":N.default,"@material-ui/core/MenuItem":_.default,"@material-ui/core/RadioGroup":z.default,"@material-ui/core/Radio":D.default,"@material-ui/core/Select":B.default,"@material-ui/core/Snackbar":H.default,"@material-ui/core/SnackbarContent":V.default,"@material-ui/core/TextField":W.default,"@material-ui/core/Tooltip":G.default,"@material-ui/core/Typography":U.default,"@material-ui/lab/ToggleButton":q.default,"@material-ui/lab/ToggleButtonGroup":$.default,"@jbrowse/core/Plugin":se.default,"@jbrowse/core/pluggableElementTypes":Y,"@jbrowse/core/pluggableElementTypes/ViewType":Z.default,"@jbrowse/core/pluggableElementTypes/AdapterType":Q.default,"@jbrowse/core/pluggableElementTypes/DisplayType":ee.default,"@jbrowse/core/pluggableElementTypes/TrackType":te.default,"@jbrowse/core/pluggableElementTypes/WidgetType":ne.default,"@jbrowse/core/pluggableElementTypes/models":re,"@jbrowse/core/pluggableElementTypes/renderers/ServerSideRendererType":ae,"@jbrowse/core/pluggableElementTypes/renderers/CircularChordRendererType":oe.default,"@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType":ie,"@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType":le,"@jbrowse/core/pluggableElementTypes/renderers/RendererType":ce,"@jbrowse/core/configuration":ue,"@jbrowse/core/util/types/mst":we,"@jbrowse/core/ui":de,"@jbrowse/core/util":fe,"@jbrowse/core/util/color":pe,"@jbrowse/core/util/layouts":me,"@jbrowse/core/util/tracks":he,"@jbrowse/core/util/Base1DViewModel":X.default,"@jbrowse/core/util/io":ge,"@jbrowse/core/util/mst-reflection":ve,"@jbrowse/core/util/rxjs":be,"@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail":J,"@jbrowse/core/data_adapters/BaseAdapter":K};Ce.default.forEach((function(e){if(!(e in Ee))throw new Error("ReExports/modules is missing ".concat(e))}));var Oe=Ee;t.default=Oe},1696:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SequencePanel=void 0,t.default=function(e){var t,n=e.model,r=e.feature,a=v(),c=r,u=null===(t=c.subfeatures)||void 0===t?void 0:t.find((function(e){return"CDS"===e.type})),g=(0,s.useRef)(null),b=(0,f.useInView)(),y=b.ref,w=b.inView,E=(0,s.useState)(),O=(0,l.default)(E,2),k=O[0],x=O[1],S=(0,s.useState)(),j=(0,l.default)(S,2),T=j[0],P=j[1],R=(0,s.useState)(u?"cds":"cdna"),M=(0,l.default)(R,2),I=M[0],L=M[1],A=(0,s.useState)(!1),F=(0,l.default)(A,2),N=F[0],_=F[1],D=(0,s.useState)(!1),z=(0,l.default)(D,2),B=z[0],H=z[1];(0,s.useEffect)((function(){var e,t=!1;if(!n||!w)return function(){};var a=(0,m.getSession)(n),c=a.assemblyManager,u=a.rpcManager,s=(null===(e=n.view)||void 0===e?void 0:e.assemblyNames)||[],d=(0,l.default)(s,1)[0];function f(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(o.default.mark((function e(t,n,r){var a,i,s,f,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.waitForAssembly(d);case 2:if(a=e.sent){e.next=5;break}throw new Error("assembly not found");case 5:return"getSequence",e.next=8,u.call("getSequence","CoreGetFeatures",{adapterConfig:(0,h.getConf)(a,["sequence","adapter"]),sessionId:"getSequence",region:{start:t,end:n,refName:a.getCanonicalRefName(r)}});case 8:if(i=e.sent,s=i,f=(0,l.default)(s,1),p=f[0]){e.next=12;break}throw new Error("sequence not found for feature with refName:".concat(r));case 12:return e.abrupt("return",p.get("seq"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.default)(o.default.mark((function e(){var n,a,i,l,c,u,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(n=r).start,i=n.end,l=n.refName,e.next=4,f(a,i,l);case 4:return c=e.sent,e.next=7,f(Math.max(0,a-500),a,l);case 7:return u=e.sent,e.next=10,f(i,i+500,l);case 10:s=e.sent,t||x({seq:c,upstream:u,downstream:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),P(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))(),function(){t=!0}}),[r,w,n]);var V=!k;return s.default.createElement("div",{ref:y},s.default.createElement(d.Select,{value:I,onChange:function(e){return L(e.target.value)}},u?s.default.createElement(d.MenuItem,{value:"cds"},"CDS"):null,u?s.default.createElement(d.MenuItem,{value:"protein"},"Protein"):null,s.default.createElement(d.MenuItem,{value:"gene"},"Gene w/ introns"),s.default.createElement(d.MenuItem,{value:"gene_collapsed_intron"},"Gene w/ 10bp of intron"),s.default.createElement(d.MenuItem,{value:"gene_updownstream"},"Gene w/ 500bp up+down stream"),s.default.createElement(d.MenuItem,{value:"gene_updownstream_collapsed_intron"},"Gene w/ 500bp up+down stream w/ 10bp intron"),s.default.createElement(d.MenuItem,{value:"cdna"},"cDNA")),s.default.createElement(d.Button,{className:a.button,type:"button",variant:"contained",onClick:function(){var e=g.current;e&&((0,p.default)(e.textContent||"",{format:"text/plain"}),_(!0),setTimeout((function(){return _(!1)}),1e3))}},N?"Copied to clipboard!":"Copy as plaintext"),s.default.createElement(d.Tooltip,{title:"Note that 'Copy as HTML' can retain the colors but cannot be pasted into some programs like notepad that only expect plain text"},s.default.createElement(d.Button,{className:a.button,type:"button",variant:"contained",onClick:function(){var e=g.current;e&&((0,p.default)(e.innerHTML,{format:"text/html"}),H(!0),setTimeout((function(){return H(!1)}),1e3))}},B?"Copied to clipboard!":"Copy as HTML")),s.default.createElement("div",{"data-testid":"feature_sequence"},T?s.default.createElement(d.Typography,{color:"error"},"".concat(T)):V?s.default.createElement("div",null,"Loading gene sequence..."):k?s.default.createElement(C,{ref:g,feature:c,mode:I,sequence:k}):s.default.createElement("div",null,"No sequence found")))};var o=a(n(22)),i=a(n(24)),l=a(n(19)),c=a(n(26)),u=a(n(34)),s=r(n(1)),d=n(31),f=n(782),p=a(n(284)),m=n(39),h=n(43),g=n(1e3),v=(0,d.makeStyles)((function(e){return{button:{margin:e.spacing(1)}}}));function b(e){var t=e.cds,n=e.sequence;return s.default.createElement("span",{style:{background:"rgb(220,220,180)"}},(0,g.stitch)(t,n))}function y(e){for(var t=e.cds,n=e.sequence,r=e.codonTable,a=(0,g.stitch)(t,n),o="",i=0;i<a.length;i+=3)o+=r[a.slice(i,i+3)]||"&";return s.default.createElement("span",{style:{background:"rgb(220,160,220)"}},o)}function w(e){var t=e.utr,n=e.cds,r=e.exons,a=e.sequence,o=e.upstream,i=e.downstream,l=e.includeIntrons,c=e.collapseIntron,d=n.length?[].concat((0,u.default)(n),(0,u.default)(t)).sort((function(e,t){return e.start-t.start})):r;return s.default.createElement(s.default.Fragment,null,o?s.default.createElement("span",{style:{background:"rgba(250,200,200)"}},o):null,d.filter((function(e){return e.start!==e.end})).map((function(e,t){var n,r=a.slice(e.end,null===(n=d[t+1])||void 0===n?void 0:n.start);return s.default.createElement(s.default.Fragment,{key:JSON.stringify(e)},s.default.createElement("span",{style:{background:"CDS"===e.type?"rgb(220,220,180)":"rgb(200,240,240)"}},a.slice(e.start,e.end)),l&&t<d.length-1?s.default.createElement("span",{style:{background:void 0}},c&&r.length>20?"".concat(r.slice(0,10),"...").concat(r.slice(-10)):r):null)})),i?s.default.createElement("span",{style:{background:"rgba(250,200,200)"}},i):null)}var C=s.default.forwardRef((function(e,t){var n=e.feature,r=e.mode,a=e.sequence,o=a.seq,i=a.upstream,l=void 0===i?"":i,u=a.downstream,d=void 0===u?"":u,f=n.subfeatures,p=(0,m.generateCodonTable)(m.defaultCodonTable);if(!f)return null;var h=f.sort((function(e,t){return e.start-t.start})).map((function(e){return(0,c.default)((0,c.default)({},e),{},{start:e.start-n.start,end:e.end-n.start})})),v=(0,g.dedupe)(h.filter((function(e){return"CDS"===e.type}))),C=(0,g.dedupe)(h.filter((function(e){return e.type.match(/utr/i)}))),E=(0,g.dedupe)(h.filter((function(e){return"exon"===e.type})));if(!C.length&&v.length&&E.length&&(C=(0,g.calculateUTRs)(v,E)),-1===n.strand){var O=[(0,m.revcom)(o),(0,m.revcom)(d),(0,m.revcom)(l)];o=O[0],l=O[1],d=O[2],v=(0,g.revlist)(v,o.length),E=(0,g.revlist)(E,o.length),C=(0,g.revlist)(C,o.length)}return s.default.createElement("div",{ref:t,"data-testid":"sequence_panel"},s.default.createElement("div",{style:{fontFamily:"monospace",wordWrap:"break-word",maxWidth:600}},">".concat(n.name||n.id||"unknown","-").concat(r,"\n"),"cds"===r?s.default.createElement(b,{cds:v,sequence:o}):"cdna"===r?s.default.createElement(w,{exons:E,cds:v,utr:C,sequence:o}):"protein"===r?s.default.createElement(y,{cds:v,codonTable:p,sequence:o}):"gene"===r?s.default.createElement(w,{exons:E,cds:v,utr:C,sequence:o,includeIntrons:!0}):"gene_collapsed_intron"===r?s.default.createElement(w,{exons:E,cds:v,sequence:o,utr:C,includeIntrons:!0,collapseIntron:!0}):"gene_updownstream"===r?s.default.createElement(w,{exons:E,cds:v,sequence:o,utr:C,upstream:l,downstream:d,includeIntrons:!0}):"gene_updownstream_collapsed_intron"===r?s.default.createElement(w,{exons:E,cds:v,sequence:o,utr:C,upstream:l,downstream:d,includeIntrons:!0,collapseIntron:!0}):s.default.createElement("div",null,"Unknown type")))}));t.SequencePanel=C},1697:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0});var a={AdapterType:!0,ConnectionType:!0,RendererType:!0,WidgetType:!0,TrackType:!0,DisplayType:!0,ViewType:!0,RpcMethodType:!0,InternetAccountType:!0,TextSearchAdapterType:!0};Object.defineProperty(t,"AdapterType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ConnectionType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"DisplayType",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"InternetAccountType",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"RendererType",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"RpcMethodType",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"TextSearchAdapterType",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"TrackType",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ViewType",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"WidgetType",{enumerable:!0,get:function(){return c.default}});var o=r(n(162)),i=r(n(568)),l=r(n(309)),c=r(n(194)),u=r(n(193)),s=r(n(229)),d=r(n(310)),f=r(n(415)),p=r(n(995)),m=r(n(996)),h=n(1698);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var g=n(163);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}))},1698:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BoxRendererType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CircularChordRendererType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ComparativeServerSideRendererType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"FeatureRendererType",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"RendererType",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ServerSideRenderedContent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ServerSideRendererType",{enumerable:!0,get:function(){return s.default}});var a=r(n(1004)),o=r(n(420)),i=r(n(1700)),l=r(n(231)),c=r(n(309)),u=r(n(1008)),s=r(n(311))},1699:function(e,t,n){"use strict";var r=n(497),a=n(1);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=60106,l=60107,c=60108,u=60114,s=60109,d=60110,f=60112,p=60113,m=60120,h=60115,g=60116,v=60121,b=60117,y=60119,w=60129,C=60131;if("function"==typeof Symbol&&Symbol.for){var E=Symbol.for;i=E("react.portal"),l=E("react.fragment"),c=E("react.strict_mode"),u=E("react.profiler"),s=E("react.provider"),d=E("react.context"),f=E("react.forward_ref"),p=E("react.suspense"),m=E("react.suspense_list"),h=E("react.memo"),g=E("react.lazy"),v=E("react.block"),b=E("react.fundamental"),y=E("react.scope"),w=E("react.debug_trace_mode"),C=E("react.legacy_hidden")}function O(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case i:return"Portal";case u:return"Profiler";case c:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case d:return(e.displayName||"Context")+".Consumer";case s:return(e._context.displayName||"Context")+".Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case h:return O(e.type);case v:return O(e._render);case g:t=e._payload,e=e._init;try{return O(e(t))}catch(e){}}return null}var k=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var j=new Uint16Array(16),T=0;15>T;T++)j[T]=T+1;j[15]=0;var P=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R=Object.prototype.hasOwnProperty,M={},I={};function L(e){return!!R.call(I,e)||!R.call(M,e)&&(P.test(e)?I[e]=!0:(M[e]=!0,!1))}function A(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){F[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];F[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){F[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){F[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){F[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){F[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){F[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){F[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){F[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var N=/[\-:]([a-z])/g;function _(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(N,_);F[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(N,_);F[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(N,_);F[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){F[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),F.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){F[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var D=/["'&<>]/;function z(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=D.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}function B(e,t){var n,r=F.hasOwnProperty(e)?F[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+z(t)+'"')):L(e)?e+'="'+z(t)+'"':""}var H="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},V=null,W=null,G=null,U=!1,q=!1,$=null,K=0;function J(){if(null===V)throw Error(o(321));return V}function X(){if(0<K)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function Y(){return null===G?null===W?(U=!1,W=G=X()):(U=!0,G=W):null===G.next?(U=!1,G=G.next=X()):(U=!0,G=G.next),G}function Z(e,t,n,r){for(;q;)q=!1,K+=1,G=null,n=e(t,r);return Q(),n}function Q(){V=null,q=!1,W=null,K=0,G=$=null}function ee(e,t){return"function"==typeof t?t(e):t}function te(e,t,n){if(V=J(),G=Y(),U){var r=G.queue;if(t=r.dispatch,null!==$&&void 0!==(n=$.get(r))){$.delete(r),r=G.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return G.memoizedState=r,[r,t]}return[G.memoizedState,t]}return e=e===ee?"function"==typeof t?t():t:void 0!==n?n(t):t,G.memoizedState=e,e=(e=G.queue={last:null,dispatch:null}).dispatch=re.bind(null,V,e),[G.memoizedState,e]}function ne(e,t){if(V=J(),t=void 0===t?null:t,null!==(G=Y())){var n=G.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!H(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),G.memoizedState=[e,t],e}function re(e,t,n){if(!(25>K))throw Error(o(301));if(e===V)if(q=!0,e={action:n,next:null},null===$&&($=new Map),void 0===(n=$.get(t)))$.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ae(){}var oe=null,ie={readContext:function(e){var t=oe.threadID;return S(e,t),e[t]},useContext:function(e){J();var t=oe.threadID;return S(e,t),e[t]},useMemo:ne,useReducer:te,useRef:function(e){V=J();var t=(G=Y()).memoizedState;return null===t?(e={current:e},G.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ne((function(){return e}),t)},useImperativeHandle:ae,useEffect:ae,useDebugValue:ae,useDeferredValue:function(e){return J(),e},useTransition:function(){return J(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(oe.identifierPrefix||"")+"R:"+(oe.uniqueID++).toString(36)},useMutableSource:function(e,t){return J(),t(e._source)}},le="http://www.w3.org/1999/xhtml";function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ue={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=r({menuitem:!0},ue),de={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var pe=/([A-Z])/g,me=/^ms-/,he=a.Children.toArray,ge=k.ReactCurrentDispatcher,ve={listing:!0,pre:!0,textarea:!0},be=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ye={},we={};var Ce=Object.prototype.hasOwnProperty,Ee={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Oe(e,t){if(void 0===e)throw Error(o(152,O(t)||"Component"))}function ke(e,t,n){function i(a,i){var l=i.prototype&&i.prototype.isReactComponent,c=function(e,t,n,r){if(r&&("object"==typeof(r=e.contextType)&&null!==r))return S(r,n),r[n];if(e=e.contextTypes){for(var a in n={},e)n[a]=t[a];t=n}else t=x;return t}(i,t,n,l),u=[],s=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){s=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(l){if(l=new i(a.props,c,d),"function"==typeof i.getDerivedStateFromProps){var f=i.getDerivedStateFromProps.call(null,a.props,l.state);null!=f&&(l.state=r({},l.state,f))}}else if(V={},l=i(a.props,c,d),null==(l=Z(i,a.props,l,c))||null==l.render)return void Oe(e=l,i);if(l.props=a.props,l.context=c,l.updater=d,void 0===(d=l.state)&&(l.state=d=null),"function"==typeof l.UNSAFE_componentWillMount||"function"==typeof l.componentWillMount)if("function"==typeof l.componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&l.UNSAFE_componentWillMount(),u.length){d=u;var p=s;if(u=null,s=!1,p&&1===d.length)l.state=d[0];else{f=p?d[0]:l.state;var m=!0;for(p=p?1:0;p<d.length;p++){var h=d[p];null!=(h="function"==typeof h?h.call(l,f,a.props,c):h)&&(m?(m=!1,f=r({},f,h)):r(f,h))}l.state=f}}else u=null;if(Oe(e=l.render(),i),"function"==typeof l.getChildContext&&"object"==typeof(a=i.childContextTypes)){var g=l.getChildContext();for(var v in g)if(!(v in a))throw Error(o(108,O(i)||"Unknown",v))}g&&(t=r({},t,g))}for(;a.isValidElement(e);){var l=e,c=l.type;if("function"!=typeof c)break;i(l,c)}return{child:e,context:t}}var xe=function(){function e(e,t,n){a.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=a.isValidElement(e)?[e]:he(e)):e=he(e),e={type:null,domNamespace:le,children:e,childIndex:0,context:x,footer:""};var r=j[0];if(0===r){var i=j,c=2*(r=i.length);if(!(65536>=c))throw Error(o(304));var u=new Uint16Array(c);for(u.set(i),(j=u)[0]=r+1,i=r;i<c-1;i++)j[i]=i+1;j[c-1]=0}else j[0]=j[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;j[e]=j[0],j[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;S(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=oe;oe=this;var n=ge.current;ge.current=ie;try{for(var r=[""],a=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;j[i]=j[0],j[0]=i;break}var l=this.stack[this.stack.length-1];if(a||l.childIndex>=l.children.length){var c=l.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===l.type)this.currentSelectValue=null;else if(null!=l.type&&null!=l.type.type&&l.type.type.$$typeof===s)this.popProvider(l.type);else if(l.type===p){this.suspenseDepth--;var u=r.pop();if(a){a=!1;var d=l.fallbackFrame;if(!d)throw Error(o(303));this.stack.push(d),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=u}r[this.suspenseDepth]+=c}else{var f=l.children[l.childIndex++],m="";try{m+=this.render(f,l.context,l.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(o(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=m}}return r[0]}finally{ge.current=n,oe=t,Q()}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?z(n):this.previousWasTextNode?"\x3c!-- --\x3e"+z(n):(this.previousWasTextNode=!0,z(n));if(e=(t=ke(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===i)throw Error(o(257));throw Error(o(258,n.toString()))}return e=he(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var v=e.type;if("string"==typeof v)return this.renderDOM(e,t,n);switch(v){case C:case w:case c:case u:case m:case l:return e=he(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case p:throw Error(o(294));case y:throw Error(o(343))}if("object"==typeof v&&null!==v)switch(v.$$typeof){case f:V={};var E=v.render(e.props,e.ref);return E=Z(v.render,e.props,E,e.ref),E=he(E),this.stack.push({type:null,domNamespace:n,children:E,childIndex:0,context:t,footer:""}),"";case h:return e=[a.createElement(v.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case s:return n={type:e,domNamespace:n,children:v=he(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case d:v=e.type,E=e.props;var O=this.threadID;return S(v,O),v=he(E.children(v[O])),this.stack.push({type:e,domNamespace:n,children:v,childIndex:0,context:t,footer:""}),"";case b:throw Error(o(338));case g:return v=(E=(v=e.type)._init)(v._payload),e=[a.createElement(v,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(o(130,null==v?v:typeof v,""))},t.renderDOM=function(e,t,n){var i=e.type.toLowerCase();if(n===le&&ce(i),!ye.hasOwnProperty(i)){if(!be.test(i))throw Error(o(65,i));ye[i]=!0}var l=e.props;if("input"===i)l=r({type:void 0},l,{defaultChecked:void 0,defaultValue:void 0,value:null!=l.value?l.value:l.defaultValue,checked:null!=l.checked?l.checked:l.defaultChecked});else if("textarea"===i){var c=l.value;if(null==c){c=l.defaultValue;var u=l.children;if(null!=u){if(null!=c)throw Error(o(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(o(93));u=u[0]}c=""+u}null==c&&(c="")}l=r({},l,{value:void 0,children:""+c})}else if("select"===i)this.currentSelectValue=null!=l.value?l.value:l.defaultValue,l=r({},l,{value:void 0});else if("option"===i){u=this.currentSelectValue;var s=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l.children);if(null!=u){var d=null!=l.value?l.value+"":s;if(c=!1,Array.isArray(u)){for(var f=0;f<u.length;f++)if(""+u[f]===d){c=!0;break}}else c=""+u===d;l=r({selected:void 0,children:void 0},l,{selected:c,children:s})}}if(c=l){if(se[i]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw Error(o(137,i));if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw Error(o(60));if("object"!=typeof c.dangerouslySetInnerHTML||!("__html"in c.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=c.style&&"object"!=typeof c.style)throw Error(o(62))}c=l,u=this.makeStaticMarkup,s=1===this.stack.length,d="<"+e.type;e:if(-1===i.indexOf("-"))f="string"==typeof c.is;else switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":f=!1;break e;default:f=!0}for(C in c)if(Ce.call(c,C)){var p=c[C];if(null!=p){if("style"===C){var m=void 0,h="",g="";for(m in p)if(p.hasOwnProperty(m)){var v=0===m.indexOf("--"),b=p[m];if(null!=b){if(v)var y=m;else if(y=m,we.hasOwnProperty(y))y=we[y];else{var w=y.replace(pe,"-$1").toLowerCase().replace(me,"-ms-");y=we[y]=w}h+=g+y+":",g=m,h+=v=null==b||"boolean"==typeof b||""===b?"":v||"number"!=typeof b||0===b||de.hasOwnProperty(g)&&de[g]?(""+b).trim():b+"px",g=";"}}p=h||null}m=null,f?Ee.hasOwnProperty(C)||(m=L(m=C)&&null!=p?m+'="'+z(p)+'"':""):m=B(C,p),m&&(d+=" "+m)}}u||s&&(d+=' data-reactroot=""');var C=d;c="",ue.hasOwnProperty(i)?C+="/>":(C+=">",c="</"+e.type+">");e:{if(null!=(u=l.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=l.children)||"number"==typeof u){u=z(u);break e}u=null}return null!=u?(l=[],ve.hasOwnProperty(i)&&"\n"===u.charAt(0)&&(C+="\n"),C+=u):l=he(l.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ce(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:i,children:l,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,C},e}();t.renderToNodeStream=function(){throw Error(o(207))},t.renderToStaticMarkup=function(e,t){e=new xe(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},t.renderToStaticNodeStream=function(){throw Error(o(208))},t.renderToString=function(e,t){e=new xe(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},t.version="17.0.2"},1700:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(26)),l=r(n(16)),c=r(n(15)),u=r(n(105)),s=r(n(77)),d=r(n(27)),f=r(n(28)),p=n(54),m=r(n(311)),h=n(419),g=function(e){(0,d.default)(m,e);var t,n,r=(0,f.default)(m);function m(){return(0,l.default)(this,m),r.apply(this,arguments)}return(0,c.default)(m,[{key:"serializeArgsInClient",value:function(e){var t=(0,i.default)((0,i.default)({},e),{},{displayModel:{}});return(0,u.default)((0,s.default)(m.prototype),"serializeArgsInClient",this).call(this,t)}},{key:"deserializeResultsInClient",value:function(e,t){var n=(0,u.default)((0,s.default)(m.prototype),"deserializeResultsInClient",this).call(this,e,t);return(0,i.default)((0,i.default)({},n),{},{blockKey:t.blockKey})}},{key:"renderInClient",value:(n=(0,o.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.call(n.sessionId,"ComparativeRender",n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"featurePassesFilters",value:function(e,t){return!e.filters||e.filters.passes(t,e)}},{key:"getFeatures",value:(t=(0,o.default)(a.default.mark((function e(t){var n,r,o,l,c,u,s,d,f=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.sessionId,o=t.adapterConfig,e.next=3,(0,h.getAdapter)(this.pluginManager,r,o);case 3:if(l=e.sent,c=l.dataAdapter,u=[],(u=t.regions)&&0!==u.length){e.next=10;break}return console.warn("no regions supplied to comparative renderer"),e.abrupt("return",[]);case 10:return s=u.map((function(e){var t=(0,i.default)({},e);return t.start&&(t.start=Math.floor(t.start)),t.end&&(t.end=Math.floor(t.end)),t})),d=c.getFeaturesInMultipleRegions(s,{signal:n}),e.abrupt("return",d.pipe((0,p.filter)((function(e){return f.featurePassesFilters(t,e)})),(0,p.toArray)()).toPromise());case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),m}(m.default);t.default=g},1701:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(43).ConfigurationSchema)("BaseConnection",{name:{type:"string",defaultValue:"nameOfConnection",description:"a unique name for this connection"},assemblyNames:{type:"stringArray",defaultValue:[],description:"optional list of names of assemblies in this connection"}},{explicitlyTyped:!0,explicitIdentifier:"connectionId"});t.default=r},1702:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(34)),o=n(20);t.default=function(e){return o.types.model("Connection",{name:o.types.identifier,tracks:o.types.array(e.pluggableConfigSchemaType("track"))}).actions((function(e){return{afterAttach:function(){e.tracks.length||e.connect(e.configuration)},addTrackConf:function(t){var n=e.tracks.push(t);return e.tracks[n-1]},addTrackConfs:function(t){var n,r=(n=e.tracks).push.apply(n,(0,a.default)(t));return e.tracks.slice(r-1-t.length,r-1)},setTrackConfs:function(t){return e.tracks=t,e.tracks},clear:function(){}}}))}},1703:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(20),a=n(91),o=r.types.model("BaseView",{id:a.ElementId,displayName:r.types.maybe(r.types.string)}).volatile((function(){return{width:800}})).views((function(){return{menuItems:function(){return[]}}})).actions((function(e){return{setDisplayName:function(t){e.displayName=t},setWidth:function(t){e.width=t}}}));t.default=o},1704:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDisplay=void 0;var a=r(n(26)),o=n(20),i=n(43),l=n(118),c=n(91),u=o.types.model("BaseDisplay",{id:c.ElementId,type:o.types.string,rpcDriverName:o.types.maybe(o.types.string)}).volatile((function(){return{rendererTypeName:"",error:void 0}})).views((function(e){return{get RenderingComponent(){return(0,o.getEnv)(e).pluginManager.getDisplayType(e.type).ReactComponent},get DisplayBlurb(){return null},get adapterConfig(){return(0,i.getConf)(this.parentTrack,"adapter")},get parentTrack(){for(var t=(0,o.getParent)(e);!t.configuration||!(0,i.getConf)(t,"trackId");){if((0,o.isRoot)(t))throw new Error("No parent track found for ".concat(e.type," ").concat(e.id));t=(0,o.getParent)(t)}return t},renderProps:function(){return(0,a.default)((0,a.default)({},(0,l.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e})},get rendererType(){var t=(0,o.getEnv)(e).pluginManager.getRendererType(e.rendererTypeName);if(!t)throw new Error('renderer "'.concat(e.rendererTypeName,'" not found'));if(!t.ReactComponent)throw new Error("renderer ".concat(e.rendererTypeName," has no ReactComponent, it may not be completely implemented yet"));return t},get DisplayMessageComponent(){},trackMenuItems:function(){return[]},get viewMenuActions(){return[]},regionCannotBeRendered:function(){}}})).actions((function(e){return{setError:function(t){e.error=t},setRpcDriverName:function(t){e.rpcDriverName=t},reload:function(){}}}));t.BaseDisplay=u},1705:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InternetAccount=void 0;var a=r(n(22)),o=r(n(24)),i=n(20),l=n(43),c=n(164),u=n(91),s=i.types.model("InternetAccount",{id:u.ElementId,type:i.types.string}).views((function(e){return{get name(){return(0,l.getConf)(e,"name")},get internetAccountId(){return(0,l.getConf)(e,"internetAccountId")},get tokenType(){return(0,l.getConf)(e,"tokenType")},get accountConfig(){return(0,l.getConf)(e)},get toggleContents(){return null},get SelectorComponent(){},get selectorLabel(){},handlesLocation:function(e){return!1}}})).actions((function(e){return{openLocation:function(e){return new c.RemoteFileWithRangeCache(String(e.uri))},getPreAuthorizationInformation:function(t){return(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",{internetAccountType:e.type});case 1:case"end":return t.stop()}}),t)})))()}}}));t.InternetAccount=s},1706:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteFileWithRangeCache=void 0,t.clearCache=function(){y.reset()};var a=r(n(22)),o=r(n(62)),i=r(n(26)),l=r(n(19)),c=r(n(24)),u=r(n(16)),s=r(n(15)),d=r(n(105)),f=r(n(77)),p=r(n(27)),m=r(n(28)),h=n(794),g=n(37),v=n(98),b={};var y=new h.HttpRangeFetcher({fetch:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=b[e];if(!a)throw new Error("fetch not registered for ".concat(e));return a(e,t,n,r)},size:500*Math.pow(1024,2),chunkSize:15872,maxFetchSize:100*Math.pow(1024,2),minimumTTL:864e5});var w=function(e){(0,p.default)(h,e);var t,n,r=(0,m.default)(h);function h(){return(0,u.default)(this,h),r.apply(this,arguments)}return(0,s.default)(h,[{key:"fetch",value:(n=(0,c.default)(a.default.mark((function e(t,n){var r,o,i,c,u,s,p,m,g,v,w,C;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b[String(t)]||(b[String(t)]=this.fetchBinaryRange.bind(this)),(r=n&&n.headers)&&(r instanceof Headers?o=r.get("range"):Array.isArray(r)?(i=r.find((function(e){return"range"===(0,l.default)(e,1)[0]}))||[void 0,void 0],c=(0,l.default)(i,2),o=c[1]):o=r.range),!o){e.next=14;break}if(!(u=/bytes=(\d+)-(\d+)/.exec(o))){e.next=14;break}return s=(0,l.default)(u,3),p=s[1],m=s[2],g=parseInt(p,10),v=parseInt(m,10),e.next=11,y.getRange(t,g,v-g+1,{signal:n&&n.signal});case 11:return w=e.sent,C=w.headers,e.abrupt("return",new Response(w.buffer,{status:206,headers:C}));case 14:return e.abrupt("return",(0,d.default)((0,f.default)(h.prototype),"fetch",this).call(this,t,n));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"fetchBinaryRange",value:(t=(0,c.default)(a.default.mark((function e(t,n,r){var c,u,s,p,m,v,b,y,w,C,E,O,k,x,S=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=S.length>3&&void 0!==S[3]?S[3]:{},u=new Date,s=(0,i.default)((0,i.default)({},c.headers),{},{range:"bytes=".concat(n,"-").concat(r)}),e.next=5,(0,d.default)((0,f.default)(h.prototype),"fetch",this).call(this,t,(0,i.default)((0,i.default)({},c),{},{headers:s}));case 5:if(p=e.sent,m=new Date,206===p.status){e.next=11;break}throw v="HTTP ".concat(p.status," (").concat(p.statusText,") when fetching ").concat(t," bytes ").concat(n,"-").concat(r),b=" (should be 206 for range requests)",new Error("".concat(v).concat(200===p.status?b:""));case 11:y={},w=(0,o.default)(p.headers.entries());try{for(w.s();!(C=w.n()).done;)E=(0,l.default)(C.value,2),O=E[0],k=E[1],y[O]=k}catch(e){w.e(e)}finally{w.f()}return e.next=16,p.arrayBuffer();case 16:return x=e.sent,e.abrupt("return",{headers:y,requestDate:u,responseDate:m,buffer:g.Buffer.from(x)});case 18:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),h}(v.RemoteFile);t.RemoteFileWithRangeCache=w},1707:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInternetAccountConfig=void 0;var r=(0,n(43).ConfigurationSchema)("InternetAccount",{name:{description:"descriptive name of the internet acount",type:"string",defaultValue:""},description:{description:"a description of the internet account",type:"string",defaultValue:""}},{explicitIdentifier:"internetAccountId",explicitlyTyped:!0});t.BaseInternetAccountConfig=r},1708:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseTrackModel=function(e,t,n){return l.types.model(t,{id:f.ElementId,type:l.types.literal(t),configuration:(0,u.ConfigurationReference)(n),displays:l.types.array(e.pluggableMstType("display","stateModel"))}).views((function(e){return{get rpcSessionId(){return e.configuration.trackId},get name(){return(0,c.getConf)(e,"name")},get textSearchAdapter(){return(0,c.getConf)(e,"textSearchAdapter")},get adapterType(){var t=(0,c.getConf)(e,"adapter"),n=(0,l.getEnv)(e).pluginManager;if(!t)throw new Error("no adapter configuration provided for ".concat(e.type));var r=n.getAdapterType(t.type);if(!r)throw new Error("unknown adapter type ".concat(t.type));return r},get viewMenuActions(){var t=[];return e.displays.forEach((function(e){t.push.apply(t,(0,o.default)(e.viewMenuActions))})),t},get canConfigure(){var t=(0,s.getSession)(e);return(0,d.isSessionModelWithConfigEditing)(t)&&(t.adminMode||t.sessionTracks.find((function(t){return t.trackId===e.configuration.trackId})))}}})).actions((function(t){return{activateConfigurationUI:function(){var e=(0,s.getSession)(t),n=(0,s.getContainingView)(t);if((0,d.isSessionModelWithConfigEditing)(e)){var r=e.editTrackConfiguration(t.configuration);r&&r!==t.configuration&&(n.hideTrack(t.configuration),n.showTrack(r))}},showDisplay:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=e.pluggableConfigSchemaType("display"),i=(0,l.resolveIdentifier)(o,(0,l.getRoot)(t),n),c=e.getDisplayType(i.type);if(!c)throw new Error("unknown display type ".concat(i.type));var u=c.stateModel.create((0,a.default)((0,a.default)({},r),{},{type:i.type,configuration:i}));t.displays.push(u)},hideDisplay:function(n){var r=e.pluggableConfigSchemaType("display"),a=(0,l.resolveIdentifier)(r,(0,l.getRoot)(t),n),o=t.displays.filter((function(e){return e.configuration===a}));return(0,i.transaction)((function(){return o.forEach((function(e){return t.displays.remove(e)}))})),o.length},replaceDisplay:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=t.displays.findIndex((function(e){return e.configuration.displayId===n}));if(-1===i)throw new Error("could not find display id ".concat(n," to replace"));var c=e.pluggableConfigSchemaType("display"),u=(0,l.resolveIdentifier)(c,(0,l.getRoot)(t),r),s=e.getDisplayType(u.type);if(!s)throw new Error("unknown display type ".concat(u.type));t.displays.splice(i,1,(0,a.default)((0,a.default)({},o),{},{type:u.type,configuration:u}))}}})).views((function(t){return{trackMenuItems:function(){var n=[];t.displays.forEach((function(e){n.push.apply(n,(0,o.default)(e.trackMenuItems()))}));var r=[],a=(0,s.getContainingView)(t),i=e.getViewType(a.type).displayTypes.map((function(e){return e.name})),l=t.configuration.displays.filter((function(e){return i.includes(e.type)})),c=t.displays[0].configuration.displayId;return l.length>1&&(r.push({type:"divider"},{type:"subHeader",label:"Display types"}),l.forEach((function(e){r.push({type:"radio",label:"".concat(e.type),onClick:function(){t.replaceDisplay(c,e.displayId)},checked:e.displayId===c})}))),[].concat(n,r)}}}))};var a=r(n(26)),o=r(n(34)),i=n(45),l=n(20),c=n(43),u=n(412),s=n(39),d=n(161),f=n(91)},1709:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseTrackConfig=function(e){return(0,i.ConfigurationSchema)("BaseTrack",{name:{description:"descriptive name of the track",type:"string",defaultValue:"Track"},assemblyNames:{description:"name of the assembly (or assemblies) track belongs to",type:"stringArray",defaultValue:["assemblyName"]},description:{description:"a description of the track",type:"string",defaultValue:""},category:{description:"the category and sub-categories of a track",type:"stringArray",defaultValue:[]},metadata:{type:"frozen",description:"anything to add about this track",defaultValue:{}},adapter:e.pluggableConfigSchemaType("adapter"),textSearching:(0,i.ConfigurationSchema)("textSearching",{indexingAttributes:{type:"stringArray",description:"list of which feature attributes to index for text searching",defaultValue:["Name","ID"]},indexingFeatureTypesToExclude:{type:"stringArray",description:"list of feature types to exclude in text search index",defaultValue:["CDS","exon"]},textSearchAdapter:e.pluggableConfigSchemaType("text search adapter")}),displays:o.types.array(e.pluggableConfigSchemaType("display"))},{preProcessSnapshot:function(t){var n=JSON.parse(JSON.stringify(t)),r=new Set,o=n.displays,i=void 0===o?[]:o;"placeholderId"!==n.trackId&&(i.forEach((function(e){return e&&r.add(e.type)})),e.getTrackType(n.type).displayTypes.forEach((function(e){r.has(e.name)||i.push({displayId:"".concat(n.trackId,"-").concat(e.name),type:e.name})})));return(0,a.default)((0,a.default)({},n),{},{displays:i})},explicitIdentifier:"trackId",explicitlyTyped:!0,actions:function(e){return{addDisplayConf:function(t){var n=t.type;if(!n)throw new Error("unknown display type ".concat(n));var r=e.displays.find((function(e){return e&&e.displayId===t.displayId}));if(r)return r;var a=e.displays.push(t);return e.displays[a-1]}}}})};var a=r(n(26)),o=n(20),i=n(43)},1710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNamedColor=function(e){return!!r[e]},t.namedColorToHex=function(e){return r[e]};var r={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}},1711:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0});var a={GranularRectLayout:!0,MultiLayout:!0,PrecomputedLayout:!0,PrecomputedMultiLayout:!0,SceneGraph:!0};Object.defineProperty(t,"GranularRectLayout",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MultiLayout",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PrecomputedLayout",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"PrecomputedMultiLayout",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"SceneGraph",{enumerable:!0,get:function(){return s.default}});var o=n(1712);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(n(1005)),l=r(n(571)),c=r(n(572)),u=r(n(1713)),s=r(n(1714))},1712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1713:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),o=r(n(27)),i=r(n(28)),l=r(n(15)),c=r(n(16)),u=r(n(571)),s=r(n(572)),d=(0,l.default)((function e(){throw(0,c.default)(this,e),new Error("invalid layout name")})),f=function(e){(0,o.default)(n,e);var t=(0,i.default)(n);function n(e){var r;return(0,c.default)(this,n),r=t.call(this,d),Object.entries(e).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],o=t[1];r.subLayouts.set(n,new s.default(o))})),r}return(0,l.default)(n)}(u.default);t.default=f},1714:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(62)),o=r(n(16)),i=r(n(15)),l=n(39),c=function(){function e(t,n,r,a,i,c){if((0,o.default)(this,e),this.name=t,this.left=n,this.top=r,this.width=a,this.height=i,this.data=c,this.children=void 0,this.absoluteCache=void 0,this.parent=void 0,l.inDevelopment&&("string"!=typeof t||"number"!=typeof n||Number.isNaN(n)||"number"!=typeof r||Number.isNaN(r)||"number"!=typeof a||Number.isNaN(a)||"number"!=typeof i||Number.isNaN(i)))throw new TypeError("invalid SceneGraph arguments");this.children=new Map,this.absoluteCache={dirty:!0}}return(0,i.default)(e,[{key:"addChild",value:function(t,n,r,a,o,i){var l;if(!((l=t instanceof e?t:new e(t,n,r,a,o,i))instanceof e))throw new TypeError("argument to addChild must be an array or a SceneGraph");if(this.children.has(l.name))throw new Error('child named "'.concat(l.name,'" already exists'));l.parent=this;var c=l.absolute,u=c.left,s=c.right,d=c.top,f=c.bottom;return void 0!==u&&void 0!==s&&void 0!==d&&void 0!==f&&(this.expand(u,s,d,f),this.children.set(l.name,l)),l}},{key:"getSubRecord",value:function(e){return this.children.get(e)}},{key:"expand",value:function(e,t,n,r){var a=this.absolute,o=a.left,i=a.right,l=a.top,c=a.bottom;if(void 0!==o&&e<o){var u=o-e;this.width+=u,this.left-=u}if(void 0!==i&&t>i&&(this.width+=t-i),void 0!==l&&n<l){var s=l-n;this.height+=s,this.top-=s}void 0!==c&&r>c&&(this.height+=r-c),this.parent&&this.parent.expand(e,t,n,r),this.absoluteCache.dirty=!0}},{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"walkParents",value:function(e){this.parent&&(e(this.parent),this.parent.walkParents(e))}},{key:"walkChildren",value:function(e){var t,n=(0,a.default)(this.children.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r),r.walkChildren(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"absolute",get:function(){if(this.absoluteCache.dirty){var e=0,t=0;this.walkParents((function(n){e+=n.left,t+=n.top})),this.absoluteCache={dirty:!1,left:this.left+e,right:this.right+e,top:this.top+t,bottom:this.bottom+t,width:this.width,height:this.height}}return this.absoluteCache}},{key:"move",value:function(e,t){this.left+=e,this.top+=t,this.absoluteCache.dirty=!0,this.walkChildren((function(e){e.absoluteCache.dirty=!0}));var n=this.absolute,r=n.left,a=n.right,o=n.top,i=n.bottom;void 0!==r&&void 0!==a&&void 0!==o&&void 0!==i&&this.expand(r,a,o,i)}}]),e}();t.default=c},1715:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"amber",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"blue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"blueGrey",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(t,"brown",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"cyan",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"deepOrange",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"deepPurple",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"green",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"grey",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"indigo",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"lightBlue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"lightGreen",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"lime",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"orange",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"pink",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"purple",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"red",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"teal",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"yellow",{enumerable:!0,get:function(){return g.default}});var a=r(n(453)),o=r(n(452)),i=r(n(797)),l=r(n(798)),c=r(n(451)),u=r(n(455)),s=r(n(799)),d=r(n(800)),f=r(n(801)),p=r(n(456)),m=r(n(802)),h=r(n(803)),g=r(n(804)),v=r(n(805)),b=r(n(454)),y=r(n(806)),w=r(n(807)),C=r(n(450)),E=r(n(808))},1716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["mobx","mobx-state-tree","react","react-dom","mobx-react","prop-types","@material-ui/core","@material-ui/core/SvgIcon","@material-ui/core/utils","@material-ui/lab","@mui/x-data-grid","@jbrowse/core/Plugin","@jbrowse/core/pluggableElementTypes","@jbrowse/core/pluggableElementTypes/ViewType","@jbrowse/core/pluggableElementTypes/AdapterType","@jbrowse/core/pluggableElementTypes/DisplayType","@jbrowse/core/pluggableElementTypes/TrackType","@jbrowse/core/pluggableElementTypes/WidgetType","@jbrowse/core/pluggableElementTypes/models","@jbrowse/core/pluggableElementTypes/renderers/ServerSideRendererType","@jbrowse/core/pluggableElementTypes/renderers/CircularChordRendererType","@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType","@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType","@jbrowse/core/pluggableElementTypes/renderers/RendererType","@jbrowse/core/configuration","@jbrowse/core/util/types/mst","@jbrowse/core/ui","@jbrowse/core/util","@jbrowse/core/util/color","@jbrowse/core/util/layouts","@jbrowse/core/util/tracks","@jbrowse/core/util/Base1DViewModel","@jbrowse/core/util/io","@jbrowse/core/util/mst-reflection","@jbrowse/core/util/rxjs","@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail","@jbrowse/core/data_adapters/BaseAdapter"]},1717:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(375)),i=a(n(16)),l=a(n(15)),c=a(n(27)),u=a(n(28)),s=n(1),d=n(1718),f=a(n(131)),p=a(n(162)),m=r(n(1719)),h=a(n(194)),g=n(1720),v=function(e){(0,c.default)(r,e);var t=(0,u.default)(r);function r(){var e;(0,i.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).name="CorePlugin",e}return(0,l.default)(r,[{key:"install",value:function(e){Object.values(m).forEach((function(t){e.addRpcMethod((function(){return new t(e)}))})),e.addAdapterType((function(){return new p.default({name:"CytobandAdapter",configSchema:g.configSchema,AdapterClass:g.DataAdapter})})),e.addWidgetType((function(){return new h.default({name:"BaseFeatureWidget",heading:"Feature details",configSchema:d.configSchema,stateModel:(0,d.stateModelFactory)(e),ReactComponent:(0,s.lazy)((function(){return Promise.resolve().then((function(){return(0,o.default)(n(418))}))}))})}))}}]),r}(f.default);t.default=v},1718:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,t.stateModelFactory=t.default=function(e){return r.types.model("BaseFeatureWidget",{id:o.ElementId,type:r.types.literal("BaseFeatureWidget"),featureData:r.types.frozen(),view:r.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{setFeatureData:function(t){e.featureData=t},clearFeatureData:function(){e.featureData=void 0}}}))};var r=n(20),a=n(43),o=n(91),i=(0,a.ConfigurationSchema)("BaseFeatureWidget",{});t.configSchema=i},1719:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.CoreRender=t.CoreGetRefNames=t.CoreGetMetadata=t.CoreGetFileInfo=t.CoreGetFeatures=t.CoreFreeResources=void 0;var a=r(n(22)),o=r(n(26)),i=r(n(105)),l=r(n(77)),c=r(n(24)),u=r(n(16)),s=r(n(15)),d=r(n(27)),f=r(n(28)),p=n(54),m=n(419),h=r(n(415)),g=r(n(311)),v=n(195),b=n(39),y=r(n(129)),w=function(e){(0,d.default)(r,e);var t,n=(0,f.default)(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).name="CoreGetRefNames",e}return(0,s.default)(r,[{key:"execute",value:(t=(0,c.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.sessionId,i=r.adapterConfig,e.next=6,(0,m.getAdapter)(this.pluginManager,o,i);case 6:if(l=e.sent,!((c=l.dataAdapter)instanceof v.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",c.getRefNames(r));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(h.default);t.CoreGetRefNames=w;var C=function(e){(0,d.default)(r,e);var t,n=(0,f.default)(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).name="CoreGetInfo",e}return(0,s.default)(r,[{key:"execute",value:(t=(0,c.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.sessionId,i=r.adapterConfig,e.next=6,(0,m.getAdapter)(this.pluginManager,o,i);case 6:return l=e.sent,c=l.dataAdapter,e.abrupt("return",(0,v.isFeatureAdapter)(c)?c.getHeader(r):null);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(h.default);t.CoreGetFileInfo=C;var E=function(e){(0,d.default)(r,e);var t,n=(0,f.default)(r);function r(){var e;(0,u.default)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return(e=n.call.apply(n,[this].concat(a))).name="CoreGetMetadata",e}return(0,s.default)(r,[{key:"execute",value:(t=(0,c.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.sessionId,i=r.adapterConfig,e.next=6,(0,m.getAdapter)(this.pluginManager,o,i);case 6:return l=e.sent,c=l.dataAdapter,e.abrupt("return",(0,v.isFeatureAdapter)(c)?c.getMetadata(r):null);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(h.default);t.CoreGetMetadata=E;var O=function(e){(0,d.default)(h,e);var t,n,r=(0,f.default)(h);function h(){var e;(0,u.default)(this,h);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).name="CoreGetFeatures",e}return(0,s.default)(h,[{key:"deserializeReturn",value:(n=(0,c.default)(a.default.mark((function e(t,n,r){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)((0,l.default)(h.prototype),"deserializeReturn",this).call(this,t,n,r);case 2:return o=e.sent,e.abrupt("return",o.map((function(e){return new y.default(e)})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"execute",value:(t=(0,c.default)(a.default.mark((function e(t,n){var r,i,l,c,u,s,d,f,h,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,i=r.signal,l=r.sessionId,c=r.adapterConfig,u=r.region,s=r.opts,e.next=6,(0,m.getAdapter)(this.pluginManager,l,c);case 6:if(d=e.sent,f=d.dataAdapter,(0,v.isFeatureAdapter)(f)){e.next=10;break}return e.abrupt("return",[]);case 10:return h=f.getFeatures(u,(0,o.default)((0,o.default)({},s),{},{signal:i})),e.next=13,h.pipe((0,p.toArray)()).toPromise();case 13:return g=e.sent,e.abrupt("return",g.map((function(e){return e.toJSON()})));case 15:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),h}(h.default);t.CoreGetFeatures=O;var k=function(e){(0,d.default)(o,e);var t,n,r=(0,f.default)(o);function o(){var e;(0,u.default)(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).name="CoreFreeResources",e}return(0,s.default)(o,[{key:"execute",value:(n=(0,c.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,n+=(0,m.freeAdapterResources)(t),this.pluginManager.getRendererTypes().forEach((function(e){var t=e.freeResources();t&&(n+=t)})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"serializeArguments",value:(t=(0,c.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),o}(h.default);t.CoreFreeResources=k;var x=function(e){(0,d.default)(p,e);var t,n,r,o=(0,f.default)(p);function p(){var e;(0,u.default)(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=o.call.apply(o,[this].concat(n))).name="CoreRender",e}return(0,s.default)(p,[{key:"serializeArguments",value:(r=(0,c.default)(a.default.mark((function e(t,n){var r,o,c,u,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(c=null===(r=this.pluginManager.rootModel)||void 0===r||null===(o=r.session)||void 0===o?void 0:o.assemblyManager)){e.next=7;break}return e.next=4,(0,b.renameRegionsIfNeeded)(c,t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t;case 8:return u=e.t0,e.next=11,(0,i.default)((0,l.default)(p.prototype),"serializeArguments",this).call(this,u,n);case 11:if(s=e.sent,"MainThreadRpcDriver"!==n){e.next=14;break}return e.abrupt("return",s);case 14:return d=t.rendererType,f=S(d,this.pluginManager.getRendererType(d)),e.abrupt("return",f.serializeArgsInClient(s));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(n=(0,c.default)(a.default.mark((function e(t,n){var r,o,i,l,c,u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,"MainThreadRpcDriver"===n){e.next=5;break}return e.next=4,this.deserializeArguments(t,n);case 4:r=e.sent;case 5:if(i=(o=r).sessionId,l=o.rendererType,c=o.signal,i){e.next=8;break}throw new Error("must pass a unique session id");case 8:if((0,b.checkAbortSignal)(c),u=S(l,this.pluginManager.getRendererType(l)),"MainThreadRpcDriver"!==n){e.next=16;break}return e.next=13,u.render(r);case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,u.renderInWorker(r);case 18:e.t0=e.sent;case 19:return s=e.t0,(0,b.checkAbortSignal)(c),e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"deserializeReturn",value:(t=(0,c.default)(a.default.mark((function e(t,n,r){var o,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.default)((0,l.default)(p.prototype),"deserializeReturn",this).call(this,t,n,r);case 2:if(o=e.sent,"MainThreadRpcDriver"!==r){e.next=5;break}return e.abrupt("return",o);case 5:return c=n.rendererType,u=S(c,this.pluginManager.getRendererType(c)),e.abrupt("return",u.deserializeResultsInClient(o,n));case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),p}(h.default);function S(e,t){if(!t)throw new Error('renderer "'.concat(e,'" not found'));if(!t.ReactComponent)throw new Error("renderer ".concat(e," has no ReactComponent, it may not be completely implemented yet"));if(!(t instanceof g.default))throw new Error("CoreRender requires a renderer that is a subclass of ServerSideRendererType");return t}t.CoreRender=x},1720:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=t.DataAdapter=void 0;var a=r(n(22)),o=r(n(19)),i=r(n(24)),l=r(n(16)),c=r(n(15)),u=r(n(27)),s=r(n(28)),d=r(n(129)),f=n(43),p=n(164),m=n(195),h=(0,f.ConfigurationSchema)("CytobandAdapter",{cytobandLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/cytoband.txt.gz"}}},{explicitlyTyped:!0});t.configSchema=h;var g=function(e){(0,u.default)(r,e);var t,n=(0,s.default)(r);function r(){return(0,l.default)(this,r),n.apply(this,arguments)}return(0,c.default)(r,[{key:"getData",value:(t=(0,i.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=(0,f.readConfObject)(this.config,"cytobandLocation")).uri&&"/path/to/cytoband.txt.gz"!==t.uri){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,p.openLocation)(t).readFile("utf8");case 5:return n=e.sent,e.abrupt("return",n.split("\n").filter((function(e){return!!e.trim()})).map((function(e){var t=e.split("\t"),n=(0,o.default)(t,5),r=n[0],a=n[1],i=n[2],l=n[3],c=n[4];return new d.default({uniqueId:e,refName:r,start:+a,end:+i,name:l,type:c})})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),r}(m.BaseAdapter);t.DataAdapter=g},1721:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(16)),l=r(n(15)),c=n(43),u=r(n(1722)),s=r(n(1723)),d=r(n(1724)),f={WebWorkerRpcDriver:s.default,MainThreadRpcDriver:d.default},p=function(){function e(t,n,r){if((0,i.default)(this,e),this.pluginManager=t,this.mainConfiguration=n,this.backendConfigurations=r,this.driverObjects=void 0,!n)throw new Error("RpcManager requires at least a main configuration");this.driverObjects=new Map}var t,n;return(0,l.default)(e,[{key:"getDriver",value:function(e){var t=this.driverObjects.get(e);if(t)return t;var n=this.backendConfigurations[e],r=f[e];if(!r)throw new Error('requested RPC driver "'.concat(e,'" is not installed'));if(!n)throw new Error('requested RPC driver "'.concat(e,'" is missing config'));var a=new r(n,{plugins:this.pluginManager.runtimePluginDefinitions});return this.driverObjects.set(e,a),a}},{key:"getDriverForCall",value:(n=(0,o.default)(a.default.mark((function e(t,n,r){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.rpcDriverName||(0,c.readConfObject)(this.mainConfiguration,"defaultDriver"),e.abrupt("return",this.getDriver(o));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"call",value:(t=(0,o.default)(a.default.mark((function e(t,n,r){var o,i,l=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>3&&void 0!==l[3]?l[3]:{},t){e.next=3;break}throw new Error("sessionId is required");case 3:return e.next=5,this.getDriverForCall(t,n,r);case 5:return i=e.sent,e.abrupt("return",i.call(this.pluginManager,t,n,r,o));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();t.default=p,p.configSchema=u.default},1722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(20),a=n(43),o=(0,a.ConfigurationSchema)("MainThreadRpcDriver",{},{explicitlyTyped:!0}),i=(0,a.ConfigurationSchema)("WebWorkerRpcDriver",{},{explicitlyTyped:!0}),l=(0,a.ConfigurationSchema)("ElectronRpcDriver",{},{explicitlyTyped:!0}),c=(0,a.ConfigurationSchema)("RpcOptions",{defaultDriver:{type:"string",description:"the RPC driver to use for tracks and tasks that are not configured to use a specific RPC backend",defaultValue:"MainThreadRpcDriver"},drivers:r.types.optional(r.types.map(r.types.union(o,i,l)),{MainThreadRpcDriver:{type:"MainThreadRpcDriver"}})},{actions:function(e){return{addDriverConfig:function(t,n){e.drivers.set(t,n)}}}});t.default=c},1723:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(26)),i=r(n(24)),l=r(n(16)),c=r(n(15)),u=r(n(105)),s=r(n(77)),d=r(n(27)),f=r(n(28)),p=r(n(809)),m=r(n(343)),h=r(n(1009)),g=function(e){(0,d.default)(r,e);var t,n=(0,f.default)(r);function r(){return(0,l.default)(this,r),n.apply(this,arguments)}return(0,c.default)(r,[{key:"destroy",value:function(){this.workers[0].terminate()}},{key:"call",value:(t=(0,i.default)(a.default.mark((function e(t,n,i){var l,c,d,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=i.statusCallback,c=i.rpcDriverClassName,d="message-".concat(m.default.generate()),f=function(e){l&&l(e)},this.on(d,f),e.next=6,(0,u.default)((0,s.default)(r.prototype),"call",this).call(this,t,(0,o.default)((0,o.default)({},n),{},{channel:d,rpcDriverClassName:c}),i);case 6:return p=e.sent,this.off(d,f),e.abrupt("return",p);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),r}(p.default.Client),v=function(e){(0,d.default)(n,e);var t=(0,f.default)(n);function n(e,r){var a;return(0,l.default)(this,n),(a=t.call(this,e)).workerBootConfiguration=r,a.name="WebWorkerRpcDriver",a.WorkerClass=void 0,a.WorkerClass=e.WorkerClass,a}return(0,c.default)(n,[{key:"makeWorker",value:function(){var e=new g({workers:[new this.WorkerClass]});return e.workers[0].postMessage(this.workerBootConfiguration),e}}]),n}(h.default);t.default=v},1724:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(27)),i=r(n(28)),l=r(n(24)),c=r(n(16)),u=r(n(15)),s=r(n(1009)),d=function(){function e(){(0,c.default)(this,e)}var t;return(0,u.default)(e,[{key:"destroy",value:function(){}},{key:"call",value:(t=(0,l.default)(a.default.mark((function e(t,n){var r=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]&&r[2],e.abrupt("return",void 0);case 2:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),f=function(e){(0,o.default)(r,e);var t,n=(0,i.default)(r);function r(e){var t;return(0,c.default)(this,r),(t=n.call(this,e)).name="MainThreadRpcDriver",t.makeWorker=void 0,t.makeWorker=function(){return new d},t}return(0,u.default)(r,[{key:"call",value:(t=(0,l.default)(a.default.mark((function e(t,n,r,o){var i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new TypeError("sessionId is required");case 2:return i=t.getRpcMethodType(r),e.next=5,i.serializeArguments(o,this.name);case 5:return l=e.sent,e.next=8,i.execute(l,this.name);case 8:return c=e.sent,e.abrupt("return",i.deserializeReturn(c,o,this.name));case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r,a){return t.apply(this,arguments)})}]),r}(s.default);t.default=f},1725:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(34)),l=r(n(16)),c=r(n(15)),u=r(n(567)),s=n(43),d=function(){function e(t){(0,l.default)(this,e),this.pluginManager=t,this.adapterCache=void 0,this.adapterCache=new u.default({maxSize:15})}var t;return(0,c.default)(e,[{key:"loadTextSearchAdapters",value:function(e){var t=this;return this.relevantAdapters(e).map((function(e){var n=(0,s.readConfObject)(e,"textSearchAdapterId");if(t.adapterCache.has(n))return t.adapterCache.get(n);var r=new(0,t.pluginManager.getTextSearchAdapterType(e.type).AdapterClass)(e,void 0,t.pluginManager);return t.adapterCache.set(n,r),r}))}},{key:"relevantAdapters",value:function(e){var t,n=null===(t=this.pluginManager.rootModel)||void 0===t?void 0:t.jbrowse,r=n.aggregateTextSearchAdapters,a=n.tracks,o=e.assemblyName;return[].concat((0,i.default)(this.getAdaptersWithAssembly(o,r)),(0,i.default)(this.getAdaptersWithAssembly(o,a.map((function(e){return(0,s.readConfObject)(e,["textSearching","textSearchAdapter"])})))))}},{key:"getAdaptersWithAssembly",value:function(e,t){return t.filter((function(t){var n;return null===(n=(0,s.readConfObject)(t,"assemblyNames"))||void 0===n?void 0:n.includes(e)}))}},{key:"search",value:(t=(0,o.default)(a.default.mark((function e(t,n,r){var o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.loadTextSearchAdapters(n),e.next=3,Promise.all(o.map((function(e){return e.searchIndex(t)})));case 3:return i=e.sent,e.abrupt("return",this.sortResults(i.flat(),r));case 5:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"sortResults",value:function(e,t){return t(e.sort((function(e,t){return-t.getLabel().localeCompare(e.getLabel())}))).sort((function(e,t){return e.getScore()-t.getScore()}))}}]),e}();t.default=d},1726:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c="navigator"in e&&/Win/i.test(navigator.platform),u="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),s="npm__react-simple-code-editor__textarea",d=function(e){function t(){var e,n,a;i(this,t);for(var o=arguments.length,s=Array(o),d=0;d<o;d++)s[d]=arguments[d];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={capture:!0},a._recordCurrentState=function(){var e=a._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;a._recordChange({value:t,selectionStart:n,selectionEnd:r})}},a._getLines=function(e,t){return e.substring(0,t).split("\n")},a._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a._history,o=n.stack,i=n.offset;if(o.length&&i>-1){a._history.stack=o.slice(0,i+1);var l=a._history.stack.length;if(l>100){var c=l-100;a._history.stack=o.slice(c,l),a._history.offset=Math.max(a._history.offset-c,0)}}var u=Date.now();if(t){var s=a._history.stack[a._history.offset];if(s&&u-s.timestamp<3e3){var d=/[^a-z0-9]([a-z0-9]+)$/i,f=a._getLines(s.value,s.selectionStart).pop().match(d),p=a._getLines(e.value,e.selectionStart).pop().match(d);if(f&&p&&p[1].startsWith(f[1]))return void(a._history.stack[a._history.offset]=r({},e,{timestamp:u}))}}a._history.stack.push(r({},e,{timestamp:u})),a._history.offset++},a._updateInput=function(e){var t=a._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,a.props.onValueChange(e.value))},a._applyEdits=function(e){var t=a._input,n=a._history.stack[a._history.offset];n&&t&&(a._history.stack[a._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),a._recordChange(e),a._updateInput(e)},a._undoEdit=function(){var e=a._history,t=e.stack,n=e.offset,r=t[n-1];r&&(a._updateInput(r),a._history.offset=Math.max(n-1,0))},a._redoEdit=function(){var e=a._history,t=e.stack,n=e.offset,r=t[n+1];r&&(a._updateInput(r),a._history.offset=Math.min(n+1,t.length-1))},a._handleKeyDown=function(e){var t=a.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,i=t.onKeyDown;if(!i||(i(e),!e.defaultPrevented)){var l=e.target,s=l.value,d=l.selectionStart,f=l.selectionEnd,p=(r?" ":"     ").repeat(n);if(9===e.keyCode&&!o&&a.state.capture)if(e.preventDefault(),e.shiftKey){var m=a._getLines(s,d),h=m.length-1,g=a._getLines(s,f).length-1,v=s.split("\n").map((function(e,t){return t>=h&&t<=g&&e.startsWith(p)?e.substring(p.length):e})).join("\n");if(s!==v){var b=m[h];a._applyEdits({value:v,selectionStart:b.startsWith(p)?d-p.length:d,selectionEnd:f-(s.length-v.length)})}}else if(d!==f){var y=a._getLines(s,d),w=y.length-1,C=a._getLines(s,f).length-1,E=y[w];a._applyEdits({value:s.split("\n").map((function(e,t){return t>=w&&t<=C?p+e:e})).join("\n"),selectionStart:/\S/.test(E)?d+p.length:d,selectionEnd:f+p.length*(C-w+1)})}else{var O=d+p.length;a._applyEdits({value:s.substring(0,d)+p+s.substring(f),selectionStart:O,selectionEnd:O})}else if(8===e.keyCode){var k=d!==f;if(s.substring(0,d).endsWith(p)&&!k){e.preventDefault();var x=d-p.length;a._applyEdits({value:s.substring(0,d-p.length)+s.substring(f),selectionStart:x,selectionEnd:x})}}else if(13===e.keyCode){if(d===f){var S=a._getLines(s,d).pop().match(/^\s+/);if(S&&S[0]){e.preventDefault();var j="\n"+S[0],T=d+j.length;a._applyEdits({value:s.substring(0,d)+j+s.substring(f),selectionStart:T,selectionEnd:T})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var P=void 0;57===e.keyCode&&e.shiftKey?P=["(",")"]:219===e.keyCode?P=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?P=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(P=["`","`"]),d!==f&&P&&(e.preventDefault(),a._applyEdits({value:s.substring(0,d)+P[0]+s.substring(d,f)+P[1]+s.substring(f),selectionStart:d,selectionEnd:f+2}))}else!(u?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(u?e.metaKey&&90===e.keyCode&&e.shiftKey:c?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),a._redoEdit()):77!==e.keyCode||!e.ctrlKey||u&&!e.shiftKey||(e.preventDefault(),a.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),a._undoEdit())}},a._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;a._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),a.props.onValueChange(n)},a._history={stack:[],offset:-1},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.style,i=t.padding,l=t.highlight,c=t.textareaId,u=t.autoFocus,d=t.disabled,p=t.form,m=t.maxLength,h=t.minLength,g=t.name,v=t.placeholder,b=t.readOnly,y=t.required,w=t.onClick,C=t.onFocus,E=t.onBlur,O=t.onKeyUp,k=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),x={paddingTop:i,paddingRight:i,paddingBottom:i,paddingLeft:i},S=l(n);return o.createElement("div",r({},k,{style:r({},f.container,a)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},f.editor,f.textarea,x),className:s,id:c,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:w,onKeyUp:O,onFocus:C,onBlur:E,disabled:d,form:p,maxLength:m,minLength:h,name:g,placeholder:v,readOnly:b,required:y,autoFocus:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},f.editor,f.highlight,x)},"string"==typeof S?{dangerouslySetInnerHTML:{__html:S+"<br />"}}:{children:S})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);d.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=d;var f={container:{position:"relative",textAlign:"left",whiteSpace:"pre-wrap",wordBreak:"keep-all",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"inherit",wordBreak:"inherit"}}}).call(this,n(44))},1727:function(e,t,n){"use strict";(function(e){var r=n(1),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=void 0;u="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var s=null,d=null,f=u.clearTimeout,p=u.setTimeout,m=u.cancelAnimationFrame||u.mozCancelAnimationFrame||u.webkitCancelAnimationFrame,h=u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame;function g(e){var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,i=void 0,l=void 0,c="undefined"!=typeof document&&document.attachEvent;if(!c){i=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},l=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=d((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var f=!1,p="";r="animationstart";var m="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(f=!0),!1===f)for(var v=0;v<m.length;v++)if(void 0!==g.style[m[v]+"AnimationName"]){p="-"+m[v].toLowerCase()+"-",r=h[v],f=!0;break}t="@"+p+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",a=p+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,s){if(c)o.attachEvent("onresize",s);else{if(!o.__resizeTriggers__){var d=o.ownerDocument,f=u.getComputedStyle(o);f&&"static"===f.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],i=n.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(n.createTextNode(r)),o.appendChild(i)}}(d),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=d.createElement("div")).className="resize-triggers";var p=d.createElement("div");p.className="expand-trigger",p.appendChild(d.createElement("div"));var m=d.createElement("div");m.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(m),o.appendChild(o.__resizeTriggers__),i(o),o.addEventListener("scroll",l,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&i(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(s)}},removeResizeListener:function(e,t){if(c)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",l,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==m||null==h?(s=f,d=function(e){return p(e,20)}):(s=function(e){var t=c(e,2),n=t[0],r=t[1];m(n),f(r)},d=function(e){var t=h((function(){f(n),e()})),n=p((function(){m(t),e()}),20);return[t,n]});var v=function(e){function t(){var e,n,r;a(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,a=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,i=r._parentNode.offsetWidth||0,l=window.getComputedStyle(r._parentNode)||{},c=parseInt(l.paddingLeft,10)||0,u=parseInt(l.paddingRight,10)||0,s=parseInt(l.paddingTop,10)||0,d=parseInt(l.paddingBottom,10)||0,f=o-s-d,p=i-c-u;(!t&&r.state.height!==f||!n&&r.state.width!==p)&&(r.setState({height:o-s-d,width:i-c-u}),a({height:o,width:i}))}},r._setRef=function(e){r._autoSizer=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=g(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.disableHeight,o=e.disableWidth,l=e.style,c=this.state,u=c.height,s=c.width,d={overflow:"visible"},f={},p=!1;return a||(0===u&&(p=!0),d.height=0,f.height=u),o||(0===s&&(p=!0),d.width=0,f.width=s),Object(r.createElement)("div",{className:n,ref:this._setRef,style:i({},d,l)},!p&&t(f))}}]),t}(r.PureComponent);v.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=v}).call(this,n(44))},1728:function(e,t,n){"use strict";n.r(t);var r=n(162),a=n.n(r),o=n(163),i=n(231),l=n.n(i),c=n(193),u=n.n(c),s=n(131),d=n.n(s),f=n(574),p=n(118),m=n(43),h=n(573),g=n(128),v=n(33),b=n(1),y=n.n(b),w=n(39),C=n(20),E=n(195),O=n(230),k=n(129),x=n.n(k),S=n(777),j=n(164),T=n(958),P=n(960),R=n(121),M=n.n(R),I=n(567),L=n.n(I);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){N(o,r,a,i,l,"next",e)}function l(e){N(o,r,a,i,l,"throw",e)}i(void 0)}))}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&G(e,t)}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t){return(G=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=W(e);if(t){var a=W(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return U(this,n)}}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||J(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e){return function(e){if(Array.isArray(e))return X(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||J(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){if(e){if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=Object(m.ConfigurationSchema)("BgzipFastaAdapter",{fastaLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz",locationType:"UriLocation"}},faiLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz.fai",locationType:"UriLocation"}},gziLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz.gzi",locationType:"UriLocation"}}},{explicitlyTyped:!0}),Z=Object(m.ConfigurationSchema)("ChromSizesAdapter",{chromSizesLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/species.chrom.sizes",locationType:"UriLocation"}}},{explicitlyTyped:!0});function Q(e){for(var t=e.codonTable,n=e.seq,r=e.frame,a=e.bpPerPx,o=e.region,i=e.height,l=e.y,c=e.reverse,u=void 0!==c&&c,s=e.theme,d=a,f=3-o.start%3,p=(r+f+3)%3,m=n.slice(p),h=[],g=0;g<m.length;g+=3){var v=m.slice(g,g+3),b=u?Object(w.revcom)(v):v,C=t[b]||"";h.push({letter:C,codon:b.toUpperCase()})}var E=1/d*3,O=0===o.start?0:E,k=1/a>=12,x=(o.end-o.start)/a,S=["#d8d8d8","#adadad","#8f8f8f"].reverse();return y.a.createElement(y.a.Fragment,null,h.map((function(e,t){var n=o.reversed?x-(E*(t+1)+p/d-O):E*t+p/d-O,a=e.letter,c=e.codon;return y.a.createElement(y.a.Fragment,{key:"".concat(t,"-").concat(a)},y.a.createElement("rect",{x:n,y:l,width:k?E:E+.7,height:i,stroke:k?"#555":"none",fill:w.defaultStarts.includes(c)?s.palette.startCodon:w.defaultStops.includes(c)?s.palette.stopCodon:S[Math.abs(r)]}),k?y.a.createElement("text",{x:n+E/2,y:l+i/2,dominantBaseline:"middle",textAnchor:"middle"},a):null)})))}function ee(e){var t=e.bpPerPx,n=e.region,r=e.feature,a=e.theme,o=e.height,i=e.seq,l=e.y,c=1/t>=12,u=$(Object(w.bpSpanPx)(r.get("start"),r.get("end"),n,t),2),s=u[0],d=u[1],f=n.reversed,p=r.get("end")-r.get("start"),m=Math.max((d-s)/p,.8);return y.a.createElement(y.a.Fragment,null,i.split("").map((function(e,t){var n=a.palette.bases[e.toUpperCase()],r=f?d-(t+1)*m:s+t*m;return y.a.createElement(y.a.Fragment,{key:t},y.a.createElement("rect",{x:r,y:l,width:m,height:o,fill:n?n.main:"#aaa",stroke:c?"#555":"none"}),c?y.a.createElement("text",{x:r+m/2,y:l+o/2,dominantBaseline:"middle",textAnchor:"middle",fill:n?Object(h.contrastingTextColor)(n.main):"black"},e):null)})))}var te=function(e){var t=e.regions,n=e.theme,r=e.features,a=void 0===r?new Map:r,o=e.showReverse,i=e.showForward,l=e.showTranslation,c=e.bpPerPx,u=$(t,1)[0],s=Object(g.createJBrowseTheme)(n),d=Object(w.generateCodonTable)(w.defaultCodonTable),f=K(a.values())[0];if(!f)return null;var p=f.get("seq");if(!p)return null;var m=-20;return y.a.createElement(y.a.Fragment,null,l&&(u.reversed?o:i)?[2,1,0].map((function(e){return y.a.createElement(Q,{key:"translation-".concat(e),seq:p,y:m+=20,codonTable:d,frame:e,bpPerPx:c,region:u,theme:s,height:20,reverse:u.reversed})})):null,i?y.a.createElement(ee,{height:20,y:m+=20,feature:f,region:u,seq:u.reversed?Object(w.complement)(p):p,bpPerPx:c,theme:s}):null,o?y.a.createElement(ee,{height:20,y:m+=20,feature:f,region:u,seq:u.reversed?p:Object(w.complement)(p),bpPerPx:c,theme:s}):null,l&&(u.reversed?i:o)?[0,-1,-2].map((function(e){return y.a.createElement(Q,{key:"rev-translation-".concat(e),seq:p,y:m+=20,codonTable:d,frame:e,bpPerPx:c,region:u,theme:s,height:20,reverse:!u.reversed})})):null)},ne=function(e){var t=e.exportSVG,n=e.width,r=e.totalHeight,a=e.children;return t?y.a.createElement(y.a.Fragment,null,a):y.a.createElement("svg",{width:n,height:r,style:{width:n,height:r}},a)};function re(e){var t=e.regions,n=e.bpPerPx,r=$(t,1)[0],a=(r.end-r.start)/n;return y.a.createElement(ne,Object.assign({},e,{totalHeight:200,width:a}),y.a.createElement(te,Object.assign({},e)))}var ae=Object(v.observer)(re),oe=Object(m.ConfigurationSchema)("DivSequenceRenderer",{height:{type:"number",description:"height in pixels of each line of sequence",defaultValue:16}},{explicitlyTyped:!0}),ie=Object(m.ConfigurationSchema)("IndexedFastaAdapter",{fastaLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa",locationType:"UriLocation"}},faiLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.fai",locationType:"UriLocation"}}},{explicitlyTyped:!0}),le=Object(m.ConfigurationSchema)("LinearReferenceSequenceDisplay",{renderer:oe},{explicitIdentifier:"displayId",explicitlyTyped:!0});var ce=Object(m.ConfigurationSchema)("TwoBitAdapter",{twoBitLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.2bit",locationType:"UriLocation"}},chromSizesLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/default.chrom.sizes",locationType:"UriLocation"},description:"An optional chrom.sizes file can be supplied to speed up loading since parsing the twobit file can take time"}},{explicitlyTyped:!0}),ue=function(e){return Object(m.ConfigurationSchema)("GCContentAdapter",{sequenceAdapter:e.pluggableConfigSchemaType("adapter")},{explicitlyTyped:!0})},se=function(e){return{configSchema:e.load(ue),getAdapterClass:function(){return Promise.resolve().then((function(){return ge})).then((function(e){return e.default}))}}};var de=function(e){V(n,e);var t=q(n);function n(){var e;return D(this,n),(e=t.apply(this,arguments)).supportsSVG=!0,e}return B(n,[{key:"getExpandedRegion",value:function(e){return F(F({},e),{},{start:Math.max(e.start-3,0),end:e.end+3})}}]),n}(l.a),fe=function(e){V(n,e);var t=q(n);function n(){var e;return D(this,n),(e=t.apply(this,arguments)).name="SequencePlugin",e}return B(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new a.a({name:"TwoBitAdapter",configSchema:ce,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return ve})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(p.getFileName)(t);return/\.2bit$/i.test(a)||"TwoBitAdapter"===r?{type:"TwoBitAdapter",twoBitLocation:t}:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"TwoBitAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new a.a({name:"ChromSizesAdapter",configSchema:Z,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return be})).then((function(e){return e.default}))}})})),e.addAdapterType((function(){return new a.a({name:"IndexedFastaAdapter",configSchema:ie,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return we})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(p.getFileName)(t);return/\.(fa|fasta|fas|fna|mfa)$/i.test(a)||"IndexedFastaAdapter"===r?{type:"IndexedFastaAdapter",fastaLocation:t,faiLocation:n||Object(p.makeIndex)(t,".fai")}:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"IndexedFastaAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new a.a({name:"BgzipFastaAdapter",configSchema:Y,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return Ce})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(p.getFileName)(t);return/\.(fa|fasta|fas|fna|mfa)\.b?gz$/i.test(a)||"BgzipFastaAdapter"===r?{type:"BgzipFastaAdapter",faiLocation:Object(p.makeIndex)(t,".fai"),gziLocation:Object(p.makeIndex)(t,".gzi")}:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"BgzipFastaAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new a.a(F({name:"GCContentAdapter",adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}},e.load(se)))})),e.addTrackType((function(){var t=function(e){return Object(m.ConfigurationSchema)("ReferenceSequenceTrack",{adapter:e.pluggableConfigSchemaType("adapter"),displays:C.types.array(e.pluggableConfigSchemaType("display")),metadata:{type:"frozen",description:"anything to add about this track",defaultValue:{}}},{preProcessSnapshot:function(t){var n=JSON.parse(JSON.stringify(t)),r=new Set,a=n.displays,o=void 0===a?[]:a;"placeholderId"!==n.trackId&&(o.forEach((function(e){return e&&r.add(e.type)})),e.getTrackType(n.type).displayTypes.forEach((function(e){r.has(e.name)||o.push({displayId:"".concat(n.trackId,"-").concat(e.name),type:e.name})})));return F(F({},n),{},{displays:o})},explicitIdentifier:"trackId",explicitlyTyped:!0,actions:function(e){return{addDisplayConf:function(t){var n=t.type;if(!n)throw new Error("unknown display type ".concat(n));var r=e.displays.find((function(e){return e&&e.displayId===t.displayId}));if(r)return r;var a=e.displays.push(t);return e.displays[a-1]}}}})}(e);return new u.a({name:"ReferenceSequenceTrack",configSchema:t,stateModel:Object(o.createBaseTrackModel)(e,"ReferenceSequenceTrack",t)})})),e.addDisplayType((function(){var e=function(e){return C.types.compose("LinearReferenceSequenceDisplay",f.a,C.types.model({type:C.types.literal("LinearReferenceSequenceDisplay"),configuration:Object(m.ConfigurationReference)(e),showForward:C.types.optional(C.types.boolean,!0),showReverse:C.types.optional(C.types.boolean,!0),showTranslation:C.types.optional(C.types.boolean,!0),height:180})).views((function(e){var t=e.renderProps;return{renderProps:function(){var n=e.showForward,r=e.showReverse,a=e.showTranslation;return F(F({},t()),{},{rpcDriverName:e.rpcDriverName,config:e.configuration.renderer,showForward:n,showReverse:r,showTranslation:a})},regionCannotBeRendered:function(){var t=Object(w.getContainingView)(e);if(t&&t.bpPerPx>=1)return"Zoom in to see sequence"},get rendererTypeName(){return e.configuration.renderer.type}}})).actions((function(e){return{toggleShowForward:function(){e.showForward=!e.showForward},toggleShowReverse:function(){e.showReverse=!e.showReverse},toggleShowTranslation:function(){e.showTranslation=!e.showTranslation}}})).views((function(e){return{trackMenuItems:function(){return[{label:"Show forward",type:"checkbox",checked:e.showForward,onClick:function(){e.toggleShowForward()}},{label:"Show reverse",type:"checkbox",checked:e.showReverse,onClick:function(){e.toggleShowReverse()}},{label:"Show translation",type:"checkbox",checked:e.showTranslation,onClick:function(){e.toggleShowTranslation()}}]}}}))}(le);return{name:"LinearReferenceSequenceDisplay",configSchema:le,stateModel:e,trackType:"ReferenceSequenceTrack",viewType:"LinearGenomeView",ReactComponent:f.b}})),e.addRendererType((function(){return new de({name:"DivSequenceRenderer",ReactComponent:ae,configSchema:oe,pluginManager:e})}))}}]),n}(d.a);function pe(e,t){return e(t={exports:{}},t.exports),t.exports}var me=pe((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),he=function(e){V(a,e);var t,n,r=q(a);function a(){var e;return D(this,a),(e=r.apply(this,arguments)).windowSize=1e3,e.windowDelta=1e3,e.gcMode="content",e}return B(a,[{key:"configure",value:(n=_(me.mark((function e(){var t,n,r;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(m.readConfObject)(this.config,"sequenceAdapter"),e.next=3,null===(t=this.getSubAdapter)||void 0===t?void 0:t.call(this,n);case 3:if(r=e.sent){e.next=6;break}throw new Error("Error getting subadapter");case 6:return e.abrupt("return",r.dataAdapter);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNames",value:(t=_(me.mark((function e(){var t;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,e.abrupt("return",t.getRefNames());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e,t){var n=this;return this.windowSize=1e3,this.windowDelta=1e3,this.gcMode="content",Object(O.ObservableCreate)(function(){var r=_(me.mark((function r(a){var o,i,l,c,u,s,d,f,p,m,h,g,v,b,y,w,C,E;return me.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.configure();case 2:if(o=r.sent,i=1===n.windowSize?1:n.windowSize/2,l=1===n.windowSize,c=e.start,u=e.end,c=Math.max(0,c-i),!((u+=i)<0||c>u)){r.next=11;break}return a.complete(),r.abrupt("return");case 11:return s=o.getFeatures(F(F({},e),{},{start:c,end:u}),t),r.next=14,s.pipe(Object(S.a)()).toPromise();case 14:for(d=r.sent,f=$(d,1),p=f[0],m=p.get("seq"),h=i;h<m.length-i;h+=n.windowDelta){for(g=l?m[h]:m.slice(h-i,h+i),v=0,b=0,y=0,w=0;w<g.length;w++)"c"===g[w]||"C"===g[w]?v++:"g"!==g[w]&&"G"!==g[w]||b++,"N"!==g[w]&&y++;C=c,E=void 0,"content"===n.gcMode?E=(b+v)/(y||1):"skew"===n.gcMode&&(E=(b-v)/(b+v||1)),a.next(new x.a({uniqueId:"".concat(n.id,"_").concat(C+h),start:C+h,end:C+h+n.windowDelta,score:E}))}a.complete();case 20:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),a}(E.BaseFeatureDataAdapter);he.capabilities=["hasLocalStats"];var ge={__proto__:null,default:he},ve={__proto__:null,default:function(e){V(o,e);var t,n,r,a=q(o);function o(e,t,n){var r;return D(this,o),(r=a.call(this,e,t,n)).chromSizesData=r.initChromSizes(),r.twobit=new T.a({filehandle:Object(j.openLocation)(Object(m.readConfObject)(e,"twoBitLocation"),r.pluginManager)}),r}return B(o,[{key:"initChromSizes",value:(r=_(me.mark((function e(){var t,n,r;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/path/to/default.chrom.sizes"===(t=Object(m.readConfObject)(this.config,"chromSizesLocation")).uri||""===t.uri){e.next=7;break}return n=Object(j.openLocation)(t,this.pluginManager),e.next=5,n.readFile("utf8");case 5:return r=e.sent,e.abrupt("return",Object.fromEntries(null==r?void 0:r.split("\n").filter((function(e){return!!e.trim()})).map((function(e){var t=$(e.split("\t"),2);return[t[0],+t[1]]}))));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRefNames",value:(n=_(me.mark((function e(){var t;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chromSizesData;case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",Object.keys(t));case 5:return e.abrupt("return",this.twobit.getSequenceNames());case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRegions",value:(t=_(me.mark((function e(){var t,n;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chromSizesData;case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",Object.keys(t).map((function(e){return{refName:e,start:0,end:t[e]}})));case 5:return e.next=7,this.twobit.getSequenceSizes();case 7:return n=e.sent,e.abrupt("return",Object.keys(n).map((function(e){return{refName:e,start:0,end:n[e]}})));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=e.refName,r=e.start,a=e.end;return Object(O.ObservableCreate)(function(){var e=_(me.mark((function e(o){var i,l,c;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.twobit.getSequenceSize(n);case 2:return i=e.sent,l=void 0!==i?Math.min(i,a):a,e.next=6,t.twobit.getSequence(n,r,l);case 6:(c=e.sent)&&o.next(new x.a({id:"".concat(n," ").concat(r,"-").concat(l),data:{refName:n,start:r,end:l,seq:c}})),o.complete();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),o}(E.BaseFeatureDataAdapter)},be={__proto__:null,default:function(e){V(a,e);var t,n,r=q(a);function a(e,t,n){var o;D(this,a),o=r.call(this,e,t,n);var i=Object(m.readConfObject)(e,"chromSizesLocation");if(!i)throw new Error("must provide chromSizesLocation");var l=Object(j.openLocation)(i,o.pluginManager);return o.source=l.toString(),o.refSeqs=o.init(l),o}return B(a,[{key:"init",value:(n=_(me.mark((function e(t){var n,r;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readFile("utf8");case 2:if(n=e.sent,r={},n.length){e.next=6;break}throw new Error("Could not read file ".concat(t.toString()));case 6:return n.split("\n").forEach((function(e){if(e.length){var t=$(e.split("\t"),2),n=t[0],a=t[1];r[n]=+a}})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getRegions",value:(t=_(me.mark((function e(){var t;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refSeqs;case 2:return t=e.sent,e.abrupt("return",Object.keys(t).map((function(e){return{refName:e,start:0,end:t[e]}})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(){throw new Error("sequence not available")}},{key:"freeResources",value:function(){}}]),a}(E.BaseAdapter)},ye=function(e){V(r,e);var t,n=q(r);function r(e,t,a){var o,i;D(this,r),(o=n.call(this,e,t,a)).seqCache=new M.a({cache:new L.a({maxSize:200}),fill:(i=_(me.mark((function e(t,n){var r,a,i;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.refName,a=t.start,i=t.end,e.abrupt("return",o.fasta.getSequence(r,a,i,F(F({},t),{},{signal:n})));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})});var l=Object(m.readConfObject)(e,"fastaLocation"),c=Object(m.readConfObject)(e,"faiLocation"),u={fasta:Object(j.openLocation)(l,o.pluginManager),fai:Object(j.openLocation)(c,o.pluginManager)};return o.fasta=new P.IndexedFasta(u),o}return B(r,[{key:"getRefNames",value:function(e){return this.fasta.getSequenceNames(e)}},{key:"getRegions",value:(t=_(me.mark((function e(t){var n;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fasta.getSequenceSizes(t);case 2:return n=e.sent,e.abrupt("return",Object.keys(n).map((function(e){return{refName:e,start:0,end:n[e]}})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e,t){var n=this,r=e.refName,a=e.start,o=e.end;return Object(O.ObservableCreate)(function(){var e=_(me.mark((function e(i){var l,c,u,s,d,f,p,m;return me.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fasta.getSequenceSize(r,t);case 2:for(l=e.sent,c=void 0!==l?Math.min(l,o):o,u=[],128e3,d=o+(128e3-o%128e3),f=s=a-a%128e3;f<d;f+=128e3)p={refName:r,start:f,end:f+128e3},u.push(n.seqCache.get(JSON.stringify(p),p,null==t?void 0:t.signal));return e.next=11,Promise.all(u);case 11:(m=e.sent.join("").slice(a-s).slice(0,o-a))&&i.next(new x.a({id:"".concat(r," ").concat(a,"-").concat(c),data:{refName:r,start:a,end:c,seq:m}})),i.complete();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),r}(E.BaseFeatureDataAdapter),we={__proto__:null,default:ye},Ce={__proto__:null,default:function(e){V(n,e);var t=q(n);function n(e,r,a){var o;D(this,n),o=t.call(this,e,r,a);var i=Object(m.readConfObject)(e,"fastaLocation"),l=Object(m.readConfObject)(e,"faiLocation"),c=Object(m.readConfObject)(e,"gziLocation");if(!i)throw new Error("must provide fastaLocation");if(!l)throw new Error("must provide faiLocation");if(!c)throw new Error("must provide gziLocation");var u={fasta:Object(j.openLocation)(i,o.pluginManager),fai:Object(j.openLocation)(l,o.pluginManager),gzi:Object(j.openLocation)(c,o.pluginManager)};return o.fasta=new P.BgzipIndexedFasta(u),o}return B(n)}(ye)};t.default=fe},1729:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(62)),i=r(n(16)),l=r(n(15)),c=function(e){function t(e){(0,i.default)(this,t),this.submaps=e}return(0,l.default)(t,[{key:"has",value:function(e){var t,n=(0,o.default)(this.submaps.values());try{for(n.s();!(t=n.n()).done;){if(t.value.has(e))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"get",value:function(e){var t,n=(0,o.default)(this.submaps.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.has(e))return r.get(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"values",value:a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,o.default)(this.keys()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,this.get(r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"keys",value:a.default.mark((function(){var e,t,n,r,i,l,c,u,s,d;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Set,t=(0,o.default)(this.submaps.values());try{for(t.s();!(n=t.n()).done;){r=n.value,i=(0,o.default)(r.keys());try{for(i.s();!(l=i.n()).done;)c=l.value,e.add(c)}catch(e){i.e(e)}finally{i.f()}}}catch(e){t.e(e)}finally{t.f()}u=(0,o.default)(e),a.prev=4,u.s();case 6:if((s=u.n()).done){a.next=12;break}return d=s.value,a.next=10,d;case 10:a.next=6;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),u.e(a.t0);case 17:return a.prev=17,u.f(),a.finish(17);case 20:case"end":return a.stop()}}),e,this,[[4,14,17,20]])}))},{key:"find",value:function(e){var t,n=(0,o.default)(this.submaps.values());try{for(n.s();!(t=n.n()).done;){var r,a=t.value,i=(0,o.default)(a.values());try{for(i.s();!(r=i.n()).done;){var l=r.value;if(e(l))return l}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}}},{key:e,value:a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,o.default)(this.keys()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,[r,this.get(r)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,o.default)(this.keys()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,[r,this.get(r)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}]),t}(Symbol.iterator);t.default=c},1730:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RefSequenceResult=void 0;var a=r(n(27)),o=r(n(28)),i=r(n(16)),l=r(n(15)),c=function(){function e(t){(0,i.default)(this,e),this.label=void 0,this.renderingComponent=void 0,this.displayString=void 0,this.matchedAttribute=void 0,this.matchedObject=void 0,this.textSearchAdapter=void 0,this.relevance=void 0,this.trackId=void 0,this.score=void 0,this.locString=void 0,this.label=t.label,this.locString=t.locString,this.renderingComponent=t.renderingComponent,this.displayString=t.displayString,this.matchedAttribute=t.matchedAttribute,this.matchedObject=t.matchedObject,this.textSearchAdapter=t.textSearchAdapter,this.relevance=t.relevance,this.trackId=t.trackId,this.score=t.score||1}return(0,l.default)(e,[{key:"getLabel",value:function(){return this.label}},{key:"getDisplayString",value:function(){return this.displayString||this.label}},{key:"getRenderingComponent",value:function(){return this.renderingComponent}},{key:"getTrackId",value:function(){return this.trackId}},{key:"getScore",value:function(){return this.score}},{key:"updateScore",value:function(e){return this.score=e,this.score}},{key:"getId",value:function(){return"".concat(this.getLabel(),"-").concat(this.getLocation(),"-").concat(this.getTrackId())}},{key:"getLocation",value:function(){return this.locString||this.label}}]),e}();t.default=c;var u=function(e){(0,a.default)(n,e);var t=(0,o.default)(n);function n(e){var r,a;return(0,i.default)(this,n),(a=t.call(this,e)).refName=void 0,a.refName=null!==(r=e.refName)&&void 0!==r?r:"",a}return(0,l.default)(n,[{key:"getLocation",value:function(){return this.refName}}]),n}(c);t.RefSequenceResult=u},1731:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=(0,n(31).makeStyles)((function(e){return{message:{border:"1px solid black",background:"#f88",overflow:"auto",maxHeight:200,margin:e.spacing(1),padding:e.spacing(1)},errorBox:{background:"lightgrey",border:"1px solid black",margin:20}}})),i=function(e){var t=e.error,n=o(),r="".concat(t),i="",l=r.match(/.*at path "(.*)" snapshot `(.*)` is not assignable/);return l&&(r="Failed to load element at ".concat(l[1]),i=l[2]),a.default.createElement("div",{className:n.message},r.slice(0,1e4),i?a.default.createElement("div",null,"... Failed element had snapshot:",a.default.createElement("pre",{className:n.errorBox},JSON.stringify(JSON.parse(i),null,2))):null)};t.default=i},1732:function(e,t,n){"use strict";function r(e){return e.replace(/(.{1,80})/g,"$1\n").trimEnd()}Object.defineProperty(t,"__esModule",{value:!0}),t.formatFastaLines=r,t.formatSeqFasta=function(e){return e.map((function(e){return">".concat(e.header,"\n").concat(r(e.seq))})).join("\n")}},1733:function(e,t,n){"use strict";n.r(t),n.d(t,"VcfFeature",(function(){return Fe}));var r=n(1),a=n.n(r),o=n(43),i=n(162),l=n.n(i),c=n(229),u=n.n(c),s=n(163),d=n(193),f=n.n(d),p=n(194),m=n.n(p),h=n(131),g=n.n(h),v=n(574),b=n(1011),y=n(118),w=n(39),C=n(20),E=n(420),O=n.n(E),k=n(33),x=n(91),S=n(1021),j=n(0),T=n.n(j),P=n(195),R=n(164),M=n(230),I=n(409),L=n(562),A=n(127),F=n(690),N=n(695),_=n(683),D=n(1786),z=n(693),B=n(698),H=n(1019),V=n(692),W=n(685),G=n(684),U=n(718),q=n(1794),$=n(681),K=n(129),J=n.n(K),X=n(569),Y=n(418),Z=n(671),Q=n(74),ee=n.n(Q);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ae(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){re(o,r,a,i,l,"next",e)}function l(e){re(o,r,a,i,l,"throw",e)}i(void 0)}))}}function oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ie(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t,n){return t&&ie(e.prototype,t),n&&ie(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&de(e,t)}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pe(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=se(e);if(t){var a=se(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function he(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=se(e)););return e}function ge(){return(ge="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=he(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||ye(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=function(e){var t=e.jbrequire,n=t("mobx-state-tree").types,r=t("@jbrowse/core/configuration"),a=r.ConfigurationSchema,o=r.ConfigurationReference,i=t("@jbrowse/core/util").getContainingView,l=t("@jbrowse/core/util/tracks").getParentRenderProps,c=a("ChordVariantDisplay",{renderer:n.optional(e.pluggableConfigSchemaType("renderer"),{type:"StructuralVariantChordRenderer"})},{baseConfiguration:b.baseChordDisplayConfig,explicitlyTyped:!0});return{stateModel:n.compose("ChordVariantDisplay",b.BaseChordDisplayModel,n.model({type:n.literal("ChordVariantDisplay"),configuration:o(c)})).views((function(e){return{get rendererTypeName(){return e.configuration.renderer.type},renderProps:function(){var t=i(e);return ne(ne({},l(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,bezierRadius:t.radiusPx*e.bezierRadiusRatio,radius:t.radiusPx,blockDefinitions:this.blockDefinitions,config:e.configuration.renderer,onChordClick:e.onChordClick})}}})),configSchema:c}},Ee=function(e){var t=e.lib,n=e.load,r=t["@jbrowse/core/pluggableElementTypes/DisplayType"],a=n(Ce),o=a.stateModel;return new r({name:"ChordVariantDisplay",configSchema:a.configSchema,stateModel:o,trackType:"VariantTrack",viewType:"CircularView",ReactComponent:Object(b.BaseChordDisplayComponentFactory)(e)})};function Oe(e,t){return e(t={exports:{}},t.exports),t.exports}var ke=Oe((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function xe(e){return C.types.compose("LinearVariantDisplay",Object(v.e)(e),C.types.model({type:C.types.literal("LinearVariantDisplay"),configuration:Object(o.ConfigurationReference)(e)})).actions((function(e){return{selectFeature:function(t){return ae(ke.mark((function n(){var r,a,i,l,c,u,s;return ke.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Object(w.getSession)(e),!Object(w.isSessionModelWithWidgets)(r)){n.next=11;break}return a=r.rpcManager,i=Object(y.getRpcSessionId)(e),l=Object(w.getContainingTrack)(e),c=Object(o.getConf)(l,"adapter"),n.next=8,a.call(i,"CoreGetMetadata",{adapterConfig:c});case 8:u=n.sent,s=r.addWidget("VariantFeatureWidget","variantFeature",{featureData:t.toJSON(),view:Object(w.getContainingView)(e),descriptions:u}),r.showWidget(s);case 11:r.setSelection(t);case 12:case"end":return n.stop()}}),n)})))()}}}))}function Se(e,t){var n=e.region.elided?0:e.region.start,r=e.region.elided?0:e.region.end;return(e.flipped?r-t:t-n)/e.bpPerRadian+e.startRadians}var je=Object(k.observer)((function(e){var t,n,r,i,l=e.feature,c=e.blocksForRefs,u=e.radius,s=e.config,d=e.bezierRadius,f=e.selected,p=e.onClick,m=c[l.get("refName")];if(!m)return null;l.get("INFO")?n=ve(l.get("INFO").SVTYPE||[],1)[0]:l.get("mate")&&(n="mate");var h=null===(t=l.get("ALT"))||void 0===t?void 0:t[0],g=h&&Object(S.b)(h);if(g){var v=g.MatePosition.split(":");r=+v[1],i=c[v[0]]}else if("<TRA>"===h){var b,y,C,E,O=null===(b=l.get("INFO"))||void 0===b||null===(y=b.CHR2)||void 0===y?void 0:y[0],k=null===(C=l.get("INFO"))||void 0===C||null===(E=C.END)||void 0===E?void 0:E[0];r=parseInt(k,10),i=c[O]}else if("mate"===n){var x=l.get("mate"),j=x.refName;r=x.start,i=c[j]}if(i){var T=l.get("start"),P=Se(m,T),R=Se(i,r),M=Object(w.polarToCartesian)(u,P),I=Object(w.polarToCartesian)(u,R),L=Object(w.polarToCartesian)(d,(R+P)/2),A=f?Object(o.readConfObject)(s,"strokeColorSelected",{feature:l}):Object(o.readConfObject)(s,"strokeColor",{feature:l}),F=Object(o.readConfObject)(s,"strokeColorHover",{feature:l});return a.a.createElement("path",{"data-testid":"chord-".concat(l.id()),d:["M"].concat(be(M),["Q"],be(L),be(I)).join(" "),style:{stroke:A},onClick:function(e){return p(l,m.region,i.region,e)},onMouseOver:function(e){f||(e.target.style.stroke=F,e.target.style.strokeWidth=3)},onMouseOut:function(e){f||(e.target.style.stroke=A,e.target.style.strokeWidth=1)}})}return null}));function Te(e){var t,n=e.features,o=e.config,i=e.displayModel,l=e.blockDefinitions,c=e.radius,u=e.bezierRadius,s=e.displayModel.selectedFeatureId,d=e.onChordClick,f=Object(r.useMemo)((function(){var e={};return l.forEach((function(t){(t.region.elided?t.region.regions:[t.region]).forEach((function(n){e[n.refName]=t}))})),e}),[l]),p=[],m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(m.s();!(t=m.n()).done;){var h=ve(t.value,2),g=h[0],v=h[1],b=String(s)===String(v.id());p.push(a.a.createElement(je,{key:g,feature:v,config:o,displayModel:i,radius:c,bezierRadius:u,blocksForRefs:f,selected:b,onClick:d}))}}catch(e){m.e(e)}finally{m.f()}var y="chords-".concat(i.id);return a.a.createElement("g",{id:y,"data-testid":"structuralVariantChordRenderer"},a.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          #".concat(y," > path {\n            cursor: crosshair;\n            fill: none;\n          }\n")}}),p)}Te.propTypes={features:T.a.instanceOf(Map).isRequired,config:x.PropTypes.ConfigSchema.isRequired,displayModel:k.PropTypes.objectOrObservableObject,blockDefinitions:T.a.arrayOf(k.PropTypes.objectOrObservableObject).isRequired,radius:T.a.number.isRequired,bezierRadius:T.a.number.isRequired,selectedFeatureId:T.a.string,onChordClick:T.a.oneOfType([T.a.func,T.a.string])},Te.defaultProps={displayModel:void 0,selectedFeatureId:"",onChordClick:void 0};var Pe=Object(k.observer)(Te),Re=function(e){var t=Object(o.ConfigurationSchema)("StructuralVariantChordRenderer",{strokeColor:{type:"color",description:"the line color of each arc",defaultValue:"rgba(255,133,0,0.32)",contextVariable:["feature"]},strokeColorSelected:{type:"color",description:"the line color of an arc that has been selected",defaultValue:"black",contextVariable:["feature"]},strokeColorHover:{type:"color",description:"the line color of an arc that is being hovered over with the mouse",defaultValue:"#555",contextVariable:["feature"]}},{explicitlyTyped:!0});return new O.a({name:"StructuralVariantChordRenderer",ReactComponent:Pe,configSchema:t,pluginManager:e})},Me=Object(o.ConfigurationSchema)("VariantFeatureWidget",{});function Ie(e){return C.types.model("VariantFeatureWidget",{id:x.ElementId,type:C.types.literal("VariantFeatureWidget"),view:C.types.safeReference(e.pluggableMstType("view","stateModel")),featureData:C.types.frozen(),descriptions:C.types.frozen()}).actions((function(e){return{setFeatureData:function(t){e.featureData=t},clearFeatureData:function(){e.featureData=void 0}}}))}var Le=Object(o.ConfigurationSchema)("VcfTabixAdapter",{vcfGzLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf.gz",locationType:"UriLocation"}},index:Object(o.ConfigurationSchema)("VcfIndex",{indexType:{model:C.types.enumeration("IndexType",["TBI","CSI"]),type:"stringEnum",defaultValue:"TBI"},location:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf.gz.tbi",locationType:"UriLocation"}}})},{explicitlyTyped:!0}),Ae=Object(o.ConfigurationSchema)("VcfAdapter",{vcfLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf",locationType:"UriLocation"}}},{explicitlyTyped:!0}),Fe=function(){function e(t){oe(this,e),this.variant=t.variant,this.parser=t.parser,this.data=this.dataFromVariant(this.variant),this._id=t.id}return le(e,[{key:"get",value:function(e){return"samples"===e?this.variant.SAMPLES:this.data[e]||this.variant[e]}},{key:"set",value:function(){}},{key:"parent",value:function(){}},{key:"children",value:function(){}},{key:"tags",value:function(){return[].concat(be(Object.keys(this.data)),be(Object.keys(this.variant)),["samples"])}},{key:"id",value:function(){return this._id}},{key:"dataFromVariant",value:function(e){var t=e.REF,n=e.ALT,r=e.POS,a=e.CHROM,o=e.INFO,i=e.ID,l=r-1,c=ve(this._getSOTermAndDescription(t,n),2),u=c[0],s=c[1],d=null==n?void 0:n.some((function(e){return"<TRA>"===e}));return{refName:a,start:l,end:(null==n?void 0:n.some((function(e){return-1!==e.indexOf("<")})))&&o.END&&!d?+o.END[0]:l+t.length,description:s,type:u,name:null==i?void 0:i.join(","),aliases:i&&i.length>1?e.ID.slice(1):void 0}}},{key:"_getSOTermAndDescription",value:function(e,t){var n=this;if(!t||t===[])return["remark","no alternative alleles"];var r=new Set,a=new Set;if(t.forEach((function(t){var o=ve(n._getSOAndDescFromAltDefs(e,t),2),i=o[0],l=o[1];if(!i){var c=ve(n._getSOAndDescByExamination(e,t),2);i=c[0],l=c[1]}i&&l&&(r.add(i),a.add(l))})),a.size>1){var o=new Set(be(a).map((function(e){var t=e.split("->");return t[1]?t[0]:e}))),i=be(o).map((function(e){var t=be(a).map((function(t){var n=t.split("-> ");return n[1]&&n[0]===e?n[1]:""})).filter((function(e){return!!e}));return t.length?e+"-> "+t.join(","):be(a).join(",")}));a=new Set(i)}return r.size?[be(r).join(","),be(a).join(",")]:[void 0,void 0]}},{key:"_getSOAndDescFromAltDefs",value:function(t,n){if("string"==typeof n&&!n.startsWith("<"))return[void 0,void 0];var r=e._altTypeToSO[n];if(!r&&this.parser.getMetadata("ALT",n)&&(r="sequence_variant"),r)return[r,n];var a=n.split(":");return a.length>1?this._getSOAndDescFromAltDefs(t,"<".concat(a.slice(0,a.length-1).join(":"),">")):[void 0,void 0]}},{key:"_getSOAndDescByExamination",value:function(e,t){return Object(S.b)(t)?["breakend",t]:1===e.length&&1===t.length?["SNV",this._makeDescriptionString("SNV",e,t)]:"<INS>"===t?["insertion",t]:"<DEL>"===t||"<INV>"===t?["deletion",t]:"<TRA>"===t?["translocation",t]:t.includes("<")?["sv",t]:e.length===t.length?e.split("").reverse().join("")===t?["inversion",this._makeDescriptionString("inversion",e,t)]:["substitution",this._makeDescriptionString("substitution",e,t)]:e.length<=t.length?["insertion",this._makeDescriptionString("insertion",e,t)]:e.length>t.length?["deletion",this._makeDescriptionString("deletion",e,t)]:["indel",this._makeDescriptionString("indel",e,t)]}},{key:"_makeDescriptionString",value:function(e,t,n){return"".concat(e," ").concat(t," -> ").concat(n)}},{key:"toJSON",value:function(){return ne(ne(ne({uniqueId:this._id},this.variant),this.data),{},{samples:this.variant.SAMPLES})}}]),e}();Fe._altTypeToSO={DEL:"deletion",INS:"insertion",DUP:"duplication",INV:"inversion",INVDUP:"inverted duplication",CNV:"copy_number_variation",TRA:"translocation","DUP:TANDEM":"tandem_duplication",NON_REF:"sequence_variant","*":"sequence_variant"};var Ne=function(e){ue(n,e);var t=me(n);function n(){var e;return oe(this,n),(e=t.apply(this,arguments)).name="VariantsPlugin",e}return le(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new l.a({name:"VcfTabixAdapter",configSchema:Le,getAdapterClass:function(){return Promise.resolve().then((function(){return _e})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(y.getFileName)(t),o=n&&Object(y.getFileName)(n);return/\.vcf\.b?gz$/i.test(a)||"VcfTabixAdapter"===r?{type:"VcfTabixAdapter",vcfGzLocation:t,index:{location:n||Object(y.makeIndex)(t,".tbi"),indexType:Object(y.makeIndexType)(o,"CSI","TBI")}}:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"VcfTabixAdapter"===t?"VariantTrack":e(t)}})),e.addAdapterType((function(){return new l.a({name:"VcfAdapter",configSchema:Ae,getAdapterClass:function(){return Promise.resolve().then((function(){return He})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(y.getFileName)(t);return/\.vcf$/i.test(a)||"VcfAdapter"===r?{type:"VcfAdapter",vcfLocation:t}:e(t,n,r)}})),e.addRendererType((function(){return e.jbrequire(Re)})),e.addTrackType((function(){var t=Object(o.ConfigurationSchema)("VariantTrack",{},{baseConfiguration:Object(s.createBaseTrackConfig)(e)});return new f.a({name:"VariantTrack",configSchema:t,stateModel:Object(s.createBaseTrackModel)(e,"VariantTrack",t)})})),e.addDisplayType((function(){return e.jbrequire(Ee)})),e.addDisplayType((function(){var t=function(e){var t=Object(v.d)(e);return Object(o.ConfigurationSchema)("LinearVariantDisplay",{},{baseConfiguration:t,explicitlyTyped:!0})}(e);return new u.a({name:"LinearVariantDisplay",configSchema:t,stateModel:xe(t),trackType:"VariantTrack",viewType:"LinearGenomeView",ReactComponent:v.b})})),e.addWidgetType((function(){return new m.a({name:"VariantFeatureWidget",heading:"Feature details",configSchema:Me,stateModel:Ie(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return Je}))}))})}))}}]),n}(g.a),_e={__proto__:null,default:function(e){ue(c,e);var t,n,r,a,i,l=me(c);function c(){return oe(this,c),l.apply(this,arguments)}return le(c,[{key:"configure",value:(i=ae(ke.mark((function e(){var t,n,r,a,i,l,c=this;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configured||(t=Object(o.readConfObject)(this.config,"vcfGzLocation"),n=Object(o.readConfObject)(this.config,["index","location"]),r=Object(o.readConfObject)(this.config,["index","indexType"]),a=Object(R.openLocation)(t,this.pluginManager),i="CSI"===r,l=new I.TabixIndexedFile({filehandle:a,csiFilehandle:i?Object(R.openLocation)(n,this.pluginManager):void 0,tbiFilehandle:i?void 0:Object(R.openLocation)(n,this.pluginManager),chunkCacheSize:50*Math.pow(2,20),chunkSizeLimit:1e9}),this.configured=l.getHeader().then((function(e){return{filehandle:a,vcf:l,parser:new S.a({header:e})}})).catch((function(e){throw c.configured=void 0,e}))),e.abrupt("return",this.configured);case 2:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getRefNames",value:(a=ae(ke.mark((function e(){var t,n,r,a=arguments;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,this.configure();case 3:return n=e.sent,r=n.vcf,e.abrupt("return",r.getReferenceSequenceNames(t));case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getHeader",value:(r=ae(ke.mark((function e(){var t,n;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.vcf,e.abrupt("return",n.getHeader());case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getMetadata",value:(n=ae(ke.mark((function e(){var t,n;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.parser,e.abrupt("return",n.getMetadata());case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(M.ObservableCreate)(function(){var r=ae(ke.mark((function r(a){var o,i,l,c,u,s;return ke.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.refName,i=e.start,l=e.end,r.next=3,t.configure();case 3:return c=r.sent,u=c.vcf,s=c.parser,r.next=8,u.getLines(o,i,l,ne({lineCallback:function(e,n){a.next(new Fe({variant:s.parseLine(e),parser:s,id:"".concat(t.id,"-vcf-").concat(n)}))}},n));case 8:a.complete();case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),n.signal)}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ge(se(c.prototype),"getFeaturesInMultipleRegions",this);return Object(M.ObservableCreate)(function(){var a=ae(ke.mark((function a(o){var i,l,c,u,s;return ke.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.bytesForRegions(e);case 2:return i=a.sent,a.next=5,t.configure();case 5:return l=a.sent,c=l.filehandle,a.next=9,c.stat();case 9:u=a.sent,(s=Math.round(i/u.size*100))>100&&(s=100),s>60&&console.warn("getFeaturesInMultipleRegions fetching ".concat(s,"% of VCF file, but whole-file streaming not yet implemented")),r.call(t,e,n).subscribe(o);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"bytesForRegions",value:(t=ae(ke.mark((function e(t){var n,r,a,o;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return n=e.sent,r=n.vcf,e.next=6,Promise.all(t.map((function(e){return r.index.blocksForRange(e.refName,e.start,e.end)})));case 6:return a=e.sent,o=[],a.forEach((function(e){e.forEach((function(e){var t=e.minv.blockPosition,n=e.maxv.blockPosition+64e3;o.find((function(e){return e.start<=n&&e.end>=t&&(e.start=Math.min(e.start,t),e.end=Math.max(e.end,n),!0)}))||o.push({start:t,end:n})}))})),e.abrupt("return",o.reduce((function(e,t){return e+t.end-t.start+1}),0));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),c}(P.BaseFeatureDataAdapter)},De=function(e){var t=e.split("\n"),n=[],r=[];return t.forEach((function(e){e.startsWith("#")?n.push(e):e&&r.push(e)})),{header:n.join("\n"),lines:r}};function ze(e){return 31===e[0]&&139===e[1]&&8===e[2]}var Be=function(e){ue(c,e);var t,n,r,a,i,l=me(c);function c(){return oe(this,c),l.apply(this,arguments)}return le(c,[{key:"getHeader",value:(i=ae(ke.mark((function e(){var t,n;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return t=e.sent,n=t.header,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"getMetadata",value:(a=ae(ke.mark((function e(){var t,n,r;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return t=e.sent,n=t.header,r=new S.a({header:n}),e.abrupt("return",r.getMetadata());case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setupP",value:(r=ae(ke.mark((function e(){var t,n,r,a,i,l,c;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.openLocation)(Object(o.readConfObject)(this.config,"vcfLocation"),this.pluginManager).readFile();case 2:if(!ze(t=e.sent)){e.next=9;break}return e.next=6,Object(A.unzip)(t);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=t;case 10:if(!((n=e.t0).length>536870888)){e.next=13;break}throw new Error("Data exceeds maximum string length (512MB)");case 13:return r=(new TextDecoder).decode(n),a=De(r),i=a.header,l=a.lines,c=l.map((function(e,t){var n,r=ve(e.split("\t"),8),a=r[0],o=r[1],i=r[3],l=+o-1;return{line:e,refName:a,start:l,end:+((null===(n=r[7].match(/END=(\d+)/))||void 0===n?void 0:n[1].trim())||l+i.length),id:t}})).reduce((function(e,t){var n=t.refName;return e[n]||(e[n]=new L.a),e[n].insert([t.start,t.end],t),e}),{}),e.abrupt("return",{header:i,intervalTree:c});case 17:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"setup",value:(n=ae(ke.mark((function e(){var t=this;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vcfFeatures||(this.vcfFeatures=this.setupP().catch((function(e){throw t.vcfFeatures=void 0,e}))),e.abrupt("return",this.vcfFeatures);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNames",value:(t=ae(ke.mark((function e(){var t,n;return ke.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.setup();case 3:return t=e.sent,n=t.intervalTree,e.abrupt("return",Object.keys(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(M.ObservableCreate)(function(){var n=ae(ke.mark((function n(r){var a,o,i,l,c,u,s,d;return ke.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=e.start,i=e.end,l=e.refName,n.next=4,t.setup();case 4:c=n.sent,u=c.header,s=c.intervalTree,d=new S.a({header:u}),null===(a=s[l])||void 0===a||a.search([o,i]).forEach((function(e){return r.next(new Fe({variant:d.parseLine(e.line),parser:d,id:"".concat(t.id,"-").concat(e.id)}))})),r.complete(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),n.signal)}},{key:"freeResources",value:function(){}}]),c}(P.BaseFeatureDataAdapter);Be.capabilities=["getFeatures","getRefNames"];var He={__proto__:null,default:Be},Ve=Object(Z.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},block:{display:"block"}}}));function We(e){var t=e.model,n=e.handleClose,o=e.feature,i=e.viewType,l=Ve(),c=ve(Object(r.useState)(!0),2),u=c[0],s=c[1],d=ve(Object(r.useState)(!0),2),f=d[0],p=d[1];return a.a.createElement(F.a,{open:!0,onClose:n},a.a.createElement(N.a,null,"Breakpoint split view options",n?a.a.createElement(_.a,{className:l.closeButton,onClick:function(){n()}},a.a.createElement(ee.a,null)):null),a.a.createElement(D.a,null),a.a.createElement(z.a,null,a.a.createElement(B.a,{className:l.block,control:a.a.createElement(H.a,{checked:u,onChange:function(){return s((function(e){return!e}))}}),label:"Copy tracks into the new view"}),a.a.createElement(B.a,{className:l.block,control:a.a.createElement(H.a,{checked:f,onChange:function(){return p((function(e){return!e}))}}),label:"Mirror tracks vertically in vertically stacked view"})),a.a.createElement(V.a,null,a.a.createElement(W.a,{onClick:function(){var e=t.view,r=Object(w.getSession)(t),a=i.snapshotFromBreakendFeature(o,e);a.views[0].offsetPx-=e.width/2+100,a.views[1].offsetPx-=e.width/2+100,a.featureData=o;var l=Object(C.getSnapshot)(e.tracks);a.views[0].tracks=l,a.views[1].tracks=f?l.slice().reverse():l,r.addView("BreakpointSplitView",a),n()},variant:"contained",color:"primary",autoFocus:!0},"OK"),a.a.createElement(W.a,{onClick:function(){n()},color:"secondary",variant:"contained",autoFocus:!0},"Cancel")))}var Ge=Object(k.observer)(We),Ue=["samples"];function qe(e){var t=ve(Object(r.useState)({}),2),n=t[0],o=t[1],i=ve(Object(r.useState)(!1),2),l=i[0],c=i[1],u=e.feature.samples,s=void 0===u?{}:u,d=Object.entries(s);if(!d.length)return null;var f,p=["sample"].concat(be(Object.keys(d[0][1]))).map((function(e){return{field:e}})),m=[],h=Object.keys(n);try{m=d.map((function(e){return ne(ne({},Object.fromEntries(Object.entries(e[1]).map((function(e){return[e[0],String(e[1])]})))),{},{sample:e[0],id:e[0]})})).filter((function(e){return!h.length||h.every((function(t){var r=e[t],a=n[t];return!a||r.match(new RegExp(a,"i"))}))}))}catch(e){f=e}return a.a.createElement(Y.BaseCard,Object.assign({},e,{title:"Samples"}),f?a.a.createElement(G.a,{color:"error"},"".concat(f)):null,a.a.createElement(B.a,{control:a.a.createElement(H.a,{checked:l,onChange:function(){return c((function(e){return!e}))}}),label:"Show sample filters"}),l?a.a.createElement(a.a.Fragment,null,a.a.createElement(G.a,null,"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"),p.map((function(e){var t=e.field;return a.a.createElement(U.a,{key:"filter-".concat(t),placeholder:"Filter ".concat(t),value:n[t]||"",onChange:function(e){return o(ne(ne({},n),{},ce({},t,e.target.value)))}})}))):null,a.a.createElement("div",{style:{height:600,width:"100%",overflow:"auto"}},a.a.createElement(X.DataGrid,{rows:m,columns:p,rowHeight:20,headerHeight:25,disableSelectionOnClick:!0,disableColumnMenu:!0})))}function $e(e){var t,n=e.model,o=e.locStrings,i=e.feature,l=Object(w.getSession)(n),c=Object(C.getEnv)(l).pluginManager,u=ve(Object(r.useState)(!1),2),s=u[0],d=u[1];try{t=c.getViewType("BreakpointSplitView")}catch(e){}var f=new J.a(i);return a.a.createElement(Y.BaseCard,Object.assign({},e,{title:"Breakends"}),a.a.createElement(G.a,null,"Link to linear view of breakend endpoints"),a.a.createElement("ul",null,o.map((function(e){return a.a.createElement("li",{key:"".concat(JSON.stringify(e))},a.a.createElement(q.a,{href:"#",onClick:function(t){t.preventDefault();var r,a=n.view;a?null===(r=a.navToLocString)||void 0===r||r.call(a,e):l.notify("No view associated with this feature detail panel anymore","warning")}},"LGV - ".concat(e)))}))),t?a.a.createElement("div",null,a.a.createElement(G.a,null,"Launch split views with breakend source and target"),a.a.createElement("ul",null,o.map((function(e){return a.a.createElement("li",{key:"".concat(JSON.stringify(e))},a.a.createElement(q.a,{href:"#",onClick:function(e){e.preventDefault(),d(!0)}},"".concat(i.refName,":").concat(i.start," // ").concat(e," (split view)")))}))),s?a.a.createElement(Ge,{model:n,feature:f,viewType:t,handleClose:function(){d(!1)}}):null):null)}function Ke(e){var t=e.model,n=t.featureData,r=t.descriptions,o=JSON.parse(JSON.stringify(n)),i=fe(o,Ue);return a.a.createElement($.a,{"data-testid":"variant-side-drawer"},a.a.createElement(Y.FeatureDetails,Object.assign({feature:i,descriptions:ne(ne({},{CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:"alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"}),r)},e)),a.a.createElement(D.a,null),"breakend"===o.type?a.a.createElement($e,{feature:o,locStrings:o.ALT.map((function(e){var t;return(null===(t=Object(S.b)(e))||void 0===t?void 0:t.MatePosition)||""})),model:t}):null,"translocation"===o.type?a.a.createElement($e,{feature:o,model:t,locStrings:["".concat(o.INFO.CHR2[0],":").concat(o.INFO.END)]}):null,a.a.createElement(qe,Object.assign({feature:o},e)))}var Je={__proto__:null,default:Object(k.observer)(Ke)};t.default=Ne},1734:function(e,t,n){"use strict";n.r(t),n.d(t,"LinearWiggleDisplayReactComponent",(function(){return Ue})),n.d(t,"Tooltip",(function(){return Ve})),n.d(t,"WiggleBaseRenderer",(function(){return je})),n.d(t,"WiggleRendering",(function(){return Pe})),n.d(t,"YSCALEBAR_LABEL_OFFSET",(function(){return Ke})),n.d(t,"getNiceDomain",(function(){return Le})),n.d(t,"getOrigin",(function(){return Ie})),n.d(t,"getScale",(function(){return Me})),n.d(t,"linearWiggleDisplayModelFactory",(function(){return Ze}));var r=n(162),a=n.n(r),o=n(193),i=n.n(o),l=n(131),c=n.n(l),u=n(43),s=n(163),d=n(229),f=n.n(d),p=n(231),m=n.n(p),h=n(988),g=n(33),v=n(1),b=n.n(v),y=n(128),w=n(39),C=n(1753),E=n(1836),O=n(1819),k=n(20),x=n(574),S=n(118),j=n(45),T=n(1735),P=n(671),R=n(71),M=n(1784),I=n(690),L=n(695),A=n(683),F=n(693),N=n(685),_=n(1822),D=n(265),z=n.n(D),B=n(419),H=n(415),V=n.n(H),W=n(195),G=n(1007),U=n.n(G),q=n(718),$=n(684),K=n(74),J=n.n(K),X=n(421),Y=n(520),Z=n(164),Q=n(230),ee=n(129),te=n.n(ee),ne=n(358),re=n(92),ae=n(998);function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function ce(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){le(o,r,a,i,l,"next",e)}function l(e){le(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&he(e,t)}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var a=me(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ge(this,n)}}function be(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=me(e)););return e}function ye(){return(ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=be(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Ee(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e){return function(e){if(Array.isArray(e))return Oe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ee(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ee(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ee(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function xe(e,t){return e(t={exports:{}},t.exports),t.exports}var Se=xe((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),je=function(e){pe(r,e);var t,n=ve(r);function r(){var e;return ue(this,r),(e=n.apply(this,arguments)).supportsSVG=!0,e}return de(r,[{key:"render",value:(t=ce(Se.mark((function e(t){var n,a,o,i,l,c,u,s,d,f=this;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFeatures(t);case 2:return n=e.sent,a=t.height,o=t.regions,i=t.bpPerPx,l=we(o,1),c=l[0],u=(c.end-c.start)/i,e.next=8,Object(h.renderToAbstractCanvas)(u,a,t,(function(e){return f.draw(e,ie(ie({},t),{},{features:n}))}));case 8:return s=e.sent,e.next=11,ye(me(r.prototype),"render",this).call(this,ie(ie(ie({},t),s),{},{features:n,height:a,width:u}));case 11:return d=e.sent,e.abrupt("return",ie(ie(ie({},d),s),{},{features:n,height:a,width:u}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(m.a);function Te(e){var t=e.regions,n=e.features,r=e.bpPerPx,a=e.width,o=e.height,i=e.onMouseLeave,l=void 0===i?function(){}:i,c=e.onMouseMove,u=void 0===c?function(){}:c,s=e.onFeatureClick,d=void 0===s?function(){}:s,f=we(t,1)[0],p=Object(v.useRef)(null);function m(e){var t=0;p.current&&(t=p.current.getBoundingClientRect().left);var o,i,l=e-t,c=f.reversed?a-l:l,u=f.start+r*c,s=ke(n.values());try{for(s.s();!(i=s.n()).done;){var d=i.value;if(u<=d.get("end")&&u>=d.get("start")){o=d;break}}}catch(e){s.e(e)}finally{s.f()}return o}return b.a.createElement("div",{ref:p,"data-testid":"wiggle-rendering-test",onMouseMove:function(e){var t=m(e.clientX);u(e,t?t.id():void 0)},onClick:function(e){var t=m(e.clientX);d(e,t?t.id():void 0)},onMouseLeave:function(e){return l(e)},role:"presentation",className:"WiggleRendering",style:{overflow:"visible",position:"relative",height:o}},b.a.createElement(y.PrerenderedCanvas,Object.assign({},e)))}var Pe=Object(g.observer)(Te),Re=Object(u.ConfigurationSchema)("BigWigAdapter",{bigWigLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.bw",locationType:"UriLocation"}}},{explicitlyTyped:!0});function Me(e){var t,n=e.domain,r=void 0===n?[]:n,a=e.range,o=void 0===a?[]:a,i=e.scaleType,l=e.pivotValue,c=e.inverted,u=we(r,2),s=u[0],d=u[1];if(void 0===s||void 0===d)throw new Error("invalid domain");if("linear"===i)t=Object(C.a)();else if("log"===i)(t=Object(E.a)()).base(2);else{if("quantize"!==i)throw new Error("undefined scaleType");t=Object(O.a)()}t.domain(void 0!==l?[s,l,d]:[s,d]),t.nice();var f=we(o,2),p=f[0],m=f[1];if(void 0===p||void 0===m)throw new Error("invalid range");return t.range(c?o.slice().reverse():o),t}function Ie(e){return"log"===e?1:0}function Le(e){var t=e.scaleType,n=e.domain,r=we(e.bounds,2),a=r[0],o=r[1],i=we(n,2),l=i[0],c=i[1];if("linear"===t&&(c<0&&(c=0),l>0&&(l=0)),"log"===t&&(0===l||l>1)&&(l=1),void 0===l||void 0===c)throw new Error("invalid domain");void 0!==a&&a!==Number.MIN_VALUE&&(l=a),void 0!==o&&o!==Number.MAX_VALUE&&(c=o);var u=function(e){if("linear"===e)return Object(C.a)();if("log"===e){var t=Object(E.a)();return t.base(2),t}if("quantize"===e)return Object(O.a)();throw new Error("undefined scaleType ".concat(e))}(t);return u.domain([l,c]),u.nice(),u.domain()}var Ae={__proto__:null,getScale:Me,getOrigin:Ie,getNiceDomain:Le},Fe=Object(u.ConfigurationSchema)("WiggleRenderer",{color:{type:"color",description:"the color of track, overrides posColor and negColor",defaultValue:"#f0f"},posColor:{type:"color",description:"the color to use when the score is positive",defaultValue:"blue"},negColor:{type:"color",description:"the color to use when the score is negative",defaultValue:"red"},highlightColor:{type:"color",description:"the color of highlights over the wiggle track",defaultValue:"rgba(255,255,0,0.5)"},clipColor:{type:"color",description:"the color of the clipping marker",defaultValue:"red"},renderType:{type:"stringEnum",model:k.types.enumeration("Rendering type",["xyplot","density","line"]),description:"The type of rendering for wiggle data to use",defaultValue:"xyplot"},filled:{type:"boolean",description:"fill in histogram",defaultValue:!0},bicolorPivot:{type:"stringEnum",model:k.types.enumeration("Scale type",["numeric","mean","z_score","none"]),description:"type of bicolor pivot",defaultValue:"numeric"},bicolorPivotValue:{type:"number",defaultValue:0,description:"value to use for bicolor pivot"},summaryScoreMode:{type:"stringEnum",model:k.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1}},{explicitlyTyped:!0}),Ne=function(e){pe(n,e);var t=ve(n);function n(){return ue(this,n),t.apply(this,arguments)}return de(n,[{key:"draw",value:function(e,t){var n,r,a=t.features,o=t.regions,i=t.bpPerPx,l=t.scaleOpts,c=t.height,s=t.config,d=we(o,1)[0],f=Object(u.readConfObject)(s,"bicolorPivot"),p=Object(u.readConfObject)(s,"bicolorPivotValue"),m=Object(u.readConfObject)(s,"negColor"),h=Object(u.readConfObject)(s,"posColor");"#f0f"===Object(u.readConfObject)(s,"color")?(r=Me(ie(ie({},l),{},"none"!==f?{pivotValue:p,range:[m,"white",h]}:{range:["white",h]})),n=function(e){return r(e.get("score"))}):n=function(e){return Object(u.readConfObject)(s,"color",{feature:e})};var g,v=ke(a.values());try{for(v.s();!(g=v.n()).done;){var b=g.value,y=we(Object(w.featureSpanPx)(b,d,i),2),C=y[0],E=y[1]-C+.3;e.fillStyle=n(b),e.fillRect(C,0,E,c)}}catch(e){v.e(e)}finally{v.f()}}}]),n}(je),_e=Object(u.ConfigurationSchema)("DensityRenderer",{},{baseConfiguration:Fe,explicitlyTyped:!0});function De(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return+(+e).toPrecision(6)}var ze=function(e){return e.toLocaleString("en-US")},Be=Object(P.a)((function(e){return{tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:Object(R.a)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat((t=1.4,Math.round(1e5*t)/1e5),"em"),maxWidth:300,wordWrap:"break-word"},hoverVertical:{background:"#333",border:"none",width:1,height:"100%",top:0,cursor:"default",position:"absolute",pointerEvents:"none"}};var t})),He=b.a.forwardRef((function(e,t){var n=e.feature,r=n.get("start"),a=n.get("end"),o=[n.get("refName"),r===a?ze(r):"".concat(ze(r),"..").concat(ze(a))].filter((function(e){return!!e})).join(":");return void 0!==n.get("summary")?b.a.createElement("div",{ref:t},o,b.a.createElement("br",null),"Max: ",De(n.get("maxScore")),b.a.createElement("br",null),"Avg: ",De(n.get("score")),b.a.createElement("br",null),"Min: ",De(n.get("minScore"))):b.a.createElement("div",{ref:t},o,b.a.createElement("br",null),"".concat(De(n.get("score"))))})),Ve=Object(g.observer)((function(e){var t=e.model,n=e.height,r=e.clientMouseCoord,a=e.offsetMouseCoord,o=e.clientRect,i=e.TooltipContents,l=t.featureUnderMouse,c=we(Object(v.useState)(0),2),u=c[0],s=c[1],d=we(Object(v.useState)(null),2),f=d[0],p=d[1],m=Be(),h=Object(v.useMemo)((function(){return{getBoundingClientRect:function(){var e=r[0]+u/2+20,t=(null==o?void 0:o.top)||0;return{top:t,left:e,bottom:t,right:e,width:0,height:0,x:e,y:t,toJSON:function(){}}}}}),[null==o?void 0:o.top,r,u]),g=Object(_.a)(h,f),y=g.styles,w=g.attributes;return l?b.a.createElement(b.a.Fragment,null,b.a.createElement(M.a,null,b.a.createElement("div",Object.assign({ref:p,className:m.tooltip,style:ie(ie({},y.popper),{},{zIndex:1e5})},w.popper),b.a.createElement(i,{ref:function(e){s((null==e?void 0:e.getBoundingClientRect().width)||0)},feature:l}))),b.a.createElement("div",{className:m.hoverVertical,style:{left:a[0],height:n-2*Ke}})):null})),We=Object(g.observer)((function(e){return b.a.createElement(Ve,Object.assign({TooltipContents:He},e))})),Ge=Object(g.observer)((function(e){var t=e.model,n=e.orientation,r=t.ticks;return b.a.createElement(T.Axis,Object.assign({},r,{format:function(e){return e},style:{orient:"left"===n?T.LEFT:T.RIGHT}}))})),Ue=Object(g.observer)((function(e){var t=e.model,n=t.ready,r=t.stats,a=t.height,o=t.needsScalebar;return b.a.createElement("div",null,b.a.createElement(x.b,Object.assign({},e)),n&&r&&o?b.a.createElement("svg",{style:{position:"absolute",top:0,left:300,pointerEvents:"none",height:a,width:50}},b.a.createElement(Ge,{model:t})):null)})),qe=Object(v.lazy)((function(){return Promise.resolve().then((function(){return lt}))})),$e=Object(v.lazy)((function(){return Promise.resolve().then((function(){return ut}))})),Ke=5,Je=new Map([["xyplot","XYPlotRenderer"],["density","DensityRenderer"],["line","LinePlotRenderer"]]);function Xe(e,t){return Math.log(t)/Math.log(e)}function Ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1.5;return(e>=0?1:-1)*Math.pow(t,1+Math.floor(Xe(t,Math.abs(e))))}var Ze=function(e,t){return k.types.compose("LinearWiggleDisplay",x.a,k.types.model({type:k.types.literal("LinearWiggleDisplay"),configuration:Object(u.ConfigurationReference)(t),selectedRendering:k.types.optional(k.types.string,""),resolution:k.types.optional(k.types.number,1),fill:k.types.maybe(k.types.boolean),color:k.types.maybe(k.types.string),summaryScoreMode:k.types.maybe(k.types.string),rendererTypeNameState:k.types.maybe(k.types.string),scale:k.types.maybe(k.types.string),autoscale:k.types.maybe(k.types.string),displayCrossHatches:k.types.maybe(k.types.boolean),constraints:k.types.optional(k.types.model({max:k.types.maybe(k.types.number),min:k.types.maybe(k.types.number)}),{})})).volatile((function(){return{ready:!1,message:void 0,stats:Object(j.observable)({scoreMin:0,scoreMax:50}),statsFetchInProgress:void 0}})).actions((function(e){return{updateStats:function(t){e.stats.scoreMin=t.scoreMin,e.stats.scoreMax=t.scoreMax,e.ready=!0},setColor:function(t){e.color=t},setLoading:function(t){var n=e.statsFetchInProgress;void 0===n||n.signal.aborted||n.abort(),e.statsFetchInProgress=t},selectFeature:function(t){var n=Object(w.getSession)(e);Object(w.isSelectionContainer)(n)&&n.setSelection(t)},setResolution:function(t){e.resolution=t},setFill:function(t){e.fill=t},toggleLogScale:function(){"log"!==e.scale?e.scale="log":e.scale="linear"},setScaleType:function(t){e.scale=t},setSummaryScoreMode:function(t){e.summaryScoreMode=t},setAutoscale:function(t){e.autoscale=t},setMaxScore:function(t){e.constraints.max=t},setRendererType:function(t){e.rendererTypeNameState=t},setMinScore:function(t){e.constraints.min=t},toggleCrossHatches:function(){e.displayCrossHatches=!e.displayCrossHatches},setCrossHatches:function(t){e.displayCrossHatches=t}}})).views((function(e){return{get TooltipComponent(){return We},get adapterTypeName(){return e.adapterConfig.type},get rendererTypeName(){var t=e.rendererTypeNameState||Object(u.getConf)(e,"defaultRendering"),n=Je.get(t);if(!n)throw new Error("unknown alignments view name ".concat(t));return n},get filters(){},get scaleType(){return e.scale||Object(u.getConf)(e,"scaleType")},get filled(){return void 0!==e.fill?e.fill:Object(u.readConfObject)(this.rendererConfig,"filled")},get maxScore(){var t=e.constraints.max;return void 0!==t?t:Object(u.getConf)(e,"maxScore")},get minScore(){var t=e.constraints.min;return void 0!==t?t:Object(u.getConf)(e,"minScore")},get rendererConfig(){var t=Object(u.getConf)(e,["renderers",this.rendererTypeName])||{};return e.rendererType.configSchema.create(ie(ie({},t),{},{filled:e.fill,scaleType:this.scaleType,displayCrossHatches:e.displayCrossHatches,summaryScoreMode:e.summaryScoreMode,color:e.color}),Object(k.getEnv)(e))}}})).views((function(e){var t=[0,0];return{get summaryScoreModeSetting(){return e.summaryScoreMode||Object(u.readConfObject)(e.rendererConfig,"summaryScoreMode")},get domain(){var n=e.stats,r=e.scaleType,a=e.minScore,o=e.maxScore,i=Le({domain:[n.scoreMin,n.scoreMax],bounds:[a,o],scaleType:r}),l=Object(u.getConf)(e,"headroom")||0;return"log"===r&&i[1]===Number.MIN_VALUE?[0,Number.MIN_VALUE]:(o===Number.MAX_VALUE&&i[1]>1&&(i[1]=Ye(i[1]+l)),a===Number.MIN_VALUE&&i[0]<-1&&(i[0]=Ye(i[0]-l)),JSON.stringify(t)!==JSON.stringify(i)&&(t=i),t)},get needsScalebar(){return"XYPlotRenderer"===e.rendererTypeName||"LinePlotRenderer"===e.rendererTypeName},get scaleOpts(){return{domain:this.domain,stats:e.stats,autoscaleType:this.autoscaleType,scaleType:e.scaleType,inverted:Object(u.getConf)(e,"inverted")}},get canHaveFill(){return"XYPlotRenderer"===e.rendererTypeName},get autoscaleType(){return e.autoscale||Object(u.getConf)(e,"autoscale")},get displayCrossHatchesSetting(){return e.displayCrossHatches||Object(u.readConfObject)(e.rendererConfig,"displayCrossHatches")}}})).views((function(e){return{get ticks(){var t=e.scaleType,n=e.domain,r=e.height,a=Me({scaleType:t,domain:n,range:[r-Ke,Ke],inverted:Object(u.getConf)(e,"inverted")}),o=r<50?2:4;return Object(T.axisPropsFromTickScale)(a,o)}}})).views((function(t){var n=t.renderProps;return{renderProps:function(){return ie(ie({},n()),{},{notReady:!t.ready,rpcDriverName:t.rpcDriverName,displayModel:t,config:t.rendererConfig,scaleOpts:t.scaleOpts,resolution:t.resolution,height:t.height,ticks:t.ticks,displayCrossHatches:t.displayCrossHatches,filters:t.filters})},get adapterCapabilities(){return e.getAdapterType(t.adapterTypeName).adapterCapabilities},get hasResolution(){return this.adapterCapabilities.includes("hasResolution")},get hasGlobalStats(){return this.adapterCapabilities.includes("hasGlobalStats")}}})).views((function(e){var t=e.trackMenuItems;return{trackMenuItems:function(){return[].concat(Ce(t()),Ce(e.hasResolution?[{label:"Resolution",subMenu:[{label:"Finer resolution",onClick:function(){e.setResolution(5*e.resolution)}},{label:"Coarser resolution",onClick:function(){e.setResolution(e.resolution/5)}}]},{label:"Summary score mode",subMenu:["min","max","avg","whiskers"].map((function(t){return{label:t,onClick:function(){return e.setSummaryScoreMode(t)}}}))}]:[]),Ce(e.canHaveFill?[{label:e.filled?"Turn off histogram fill":"Turn on histogram fill",onClick:function(){e.setFill(!e.filled)}}]:[]),[{label:"log"===e.scaleType?"Set linear scale":"Set log scale",onClick:function(){e.toggleLogScale()}},{type:"checkbox",label:"Draw cross hatches",checked:e.displayCrossHatchesSetting,onClick:function(){e.toggleCrossHatches()}}],Ce(Object.keys(Object(u.getConf)(e,"renderers")||{}).length>1?[{label:"Renderer type",subMenu:Ce(Je.keys()).map((function(t){return{label:t,onClick:function(){return e.setRendererType(t)}}}))}]:[]),[{label:"Autoscale type",subMenu:[["local","Local"]].concat(Ce(e.hasGlobalStats?[["global","Global"],["globalsd","Global  3"]]:[]),[["localsd","Local  3"]]).map((function(t){var n=we(t,2),r=n[0];return{label:n[1],onClick:function(){e.setAutoscale(r)}}}))},{label:"Set min/max score",onClick:function(){Object(w.getSession)(e).queueDialog((function(t){return[qe,{model:e,handleClose:t}]}))}},{label:"Set color",onClick:function(){Object(w.getSession)(e).queueDialog((function(t){return[$e,{model:e,handleClose:t}]}))}}])}}})).actions((function(e){var t=e.reload,n=e.renderSvg;function r(e){return a.apply(this,arguments)}function a(){return(a=ce(Se.mark((function t(n){var r,a,o,i,l,c,s,d,f,p,m,h,g,v,b,y,C,E;return Se.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(w.getSession)(e),a=r.rpcManager,o=Object(u.getConf)(e,"numStdDev")||3,i=e.adapterConfig,l=e.autoscaleType,c=Object(S.getRpcSessionId)(e),s=ie({sessionId:c,adapterConfig:i,statusCallback:function(t){Object(k.isAlive)(e)&&e.setMessage(t)}},n),"global"!==l&&"globalsd"!==l){t.next=11;break}return t.next=8,a.call(c,"WiggleGetGlobalStats",s);case 8:return d=t.sent,f=d.scoreMin,p=d.scoreMean,m=d.scoreStdDev,t.abrupt("return","globalsd"===l?ie(ie({},d),{},{scoreMin:f>=0?0:p-o*m,scoreMax:p+o*m}):d);case 11:if("local"!==l&&"localsd"!==l){t.next=18;break}return h=Object(w.getContainingView)(e),g=h.dynamicBlocks,v=h.bpPerPx,t.next=15,a.call(c,"WiggleGetMultiRegionStats",ie(ie({},s),{},{regions:g.contentBlocks.map((function(e){var t=e.start,n=e.end;return ie(ie({},JSON.parse(JSON.stringify(e))),{},{start:Math.floor(t),end:Math.ceil(n)})})),bpPerPx:v}));case 15:return b=t.sent,y=b.scoreMin,C=b.scoreMean,E=b.scoreStdDev,t.abrupt("return","localsd"===l?ie(ie({},b),{},{scoreMin:y>=0?0:C-o*E,scoreMax:C+o*E}):b);case 18:if("zscale"!==l){t.next=20;break}return t.abrupt("return",a.call(c,"WiggleGetGlobalStats",s));case 20:throw new Error("invalid autoscaleType '".concat(l,"'"));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{reload:function(){return ce(Se.mark((function n(){var a,o;return Se.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setError(),a=new AbortController,n.prev=2,n.next=5,r({signal:a.signal,filters:e.filters});case 5:o=n.sent,Object(k.isAlive)(e)&&(e.updateStats(o),t()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),e.setError(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},afterAttach:function(){Object(k.addDisposer)(e,Object(j.autorun)(ce(Se.mark((function t(){var n,a,o;return Se.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=new AbortController,a=Object(w.getContainingView)(e),e.setLoading(n),a.initialized){t.next=6;break}return t.abrupt("return");case 6:if(!(a.bpPerPx>e.maxViewBpPerPx)){t.next=8;break}return t.abrupt("return");case 8:return t.next=10,r({signal:n.signal,filters:e.filters});case 10:o=t.sent,Object(k.isAlive)(e)&&e.updateStats(o),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),!Object(w.isAbortException)(t.t0)&&Object(k.isAlive)(e)&&(console.error(t.t0),e.setError(t.t0));case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),{delay:1e3}))},renderSvg:function(t){return ce(Se.mark((function r(){var a,o,i,l;return Se.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(j.when)((function(){return e.ready&&!!e.regionCannotBeRenderedText}));case 2:return a=e.needsScalebar,o=e.stats,i=Object(w.getContainingView)(e),l=i.offsetPx,r.t0=b.a,r.t1=b.a.Fragment,r.t2=b.a,r.t3={id:"snpcov"},r.next=10,n(t);case 10:return r.t4=r.sent,r.t5=r.t2.createElement.call(r.t2,"g",r.t3,r.t4),r.t6=a&&o?b.a.createElement("g",{transform:"translate(".concat(Math.max(-l,0),")")},b.a.createElement(Ge,{model:e,orientation:"left"})):null,r.abrupt("return",r.t0.createElement.call(r.t0,r.t1,null,r.t5,r.t6));case 14:case"end":return r.stop()}}),r)})))()}}}))},Qe=function(e){pe(n,e);var t=ve(n);function n(){return ue(this,n),t.apply(this,arguments)}return de(n,[{key:"draw",value:function(e,t){var n=t.features,r=t.bpPerPx,a=t.regions,o=t.scaleOpts,i=t.height,l=t.config,c=t.ticks.values,s=t.displayCrossHatches,d=we(a,1)[0],f=(d.end-d.start)/r,p=Ke,m=i-2*p,h=Object(u.readConfObject)(l,"bicolorPivotValue"),g=Object(u.readConfObject)(l,"negColor"),v=Object(u.readConfObject)(l,"posColor"),b=Object(u.readConfObject)(l,"filled"),y=Object(u.readConfObject)(l,"clipColor"),C=Object(u.readConfObject)(l,"highlightColor"),E=Object(u.readConfObject)(l,"summaryScoreMode"),O=Me(ie(ie({},o),{},{range:[0,m]})),k=Ie(o.scaleType),x=we(O.domain(),2),S=x[0],j=x[1],T=function(e){return m-(O(e)||0)+p},P=function(e){return T(k)-T(e)},R="#f0f"===Object(u.readConfObject)(l,"color")?function(e,t){return t<h?g:v}:function(e,t){return Object(u.readConfObject)(l,"color",{feature:e})};e.strokeStyle="grey",e.moveTo(0,T(0)),e.lineTo(f,T(0)),e.stroke();var M,I=S<h&&j>h,L=ke(n.values());try{for(L.s();!(M=L.n()).done;){var A=M.value,F=we(Object(w.featureSpanPx)(A,d,r),2),N=F[0],_=F[1],D=A.get("score"),B=A.get("maxScore"),H=A.get("minScore"),V=D<S,W=D>j,G=_-N+.4,U=A.get("summary");if("max"===E)D=U?B:D,e.fillStyle=R(A,D),e.fillRect(N,T(D),G,b?P(D):1);else if("min"===E)D=U?H:D,e.fillStyle=R(A,D),e.fillRect(N,T(D),G,b?P(D):1);else if("whiskers"===E){var q=R(A,D);U&&(e.fillStyle=I?R(A,B):z()(q).lighten(.6).toString(),e.fillRect(N,T(B),G,b?P(B)-P(D):1)),e.fillStyle=I&&U?z()(R(A,B)).mix(z()(R(A,H))):q,e.fillRect(N,T(D),G,b?P(D)-(U?P(H):0):1),U&&(e.fillStyle=I?R(A,H):z()(q).darken(.6).toString(),e.fillRect(N,T(H),G,b?P(H):1))}else e.fillStyle=R(A,D),e.fillRect(N,T(D),G,b?P(D):1);W?(e.fillStyle=y,e.fillRect(N,0,G,4)):V&&"log"!==o.scaleType&&(e.fillStyle=y,e.fillRect(N,i-4,G,4)),A.get("highlighted")&&(e.fillStyle=C,e.fillRect(N,0,G,m))}}catch(e){L.e(e)}finally{L.f()}s&&(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.8)",c.forEach((function(t){e.beginPath(),e.moveTo(0,Math.round(T(t))),e.lineTo(f,Math.round(T(t))),e.stroke()})))}}]),n}(je),et=Object(u.ConfigurationSchema)("XYPlotRenderer",{},{baseConfiguration:Fe,explicitlyTyped:!0}),tt=function(e){pe(n,e);var t=ve(n);function n(){return ue(this,n),t.apply(this,arguments)}return de(n,[{key:"draw",value:function(e,t){var n,r=t.features,a=t.regions,o=t.bpPerPx,i=t.scaleOpts,l=t.height,c=t.ticks.values,s=t.displayCrossHatches,d=t.config,f=we(a,1)[0],p=(f.end-f.start)/o,m=Ke,h=l-2*m,g=Object(u.readConfObject)(d,"clipColor"),v=Object(u.readConfObject)(d,"highlightColor"),b=Me(ie(ie({},i),{},{range:[0,h]})),y=we(b.domain(),2),C=y[0],E=y[1],O=function(e){return h-b(e)+m},k="#f0f"===Object(u.readConfObject)(d,"color")?function(){return"grey"}:function(e){return Object(u.readConfObject)(d,"color",{feature:e})};e.strokeStyle="grey",e.moveTo(0,O(0)),e.lineTo(p,O(0)),e.stroke();var x,S=ke(r.values());try{for(S.s();!(x=S.n()).done;){var j=x.value,T=we(Object(w.featureSpanPx)(j,f,o),2),P=T[0],R=T[1],M=j.get("score"),I=M<C,L=M>E,A=R-P+.3,F=k(j);e.strokeStyle=F,e.beginPath(),f.reversed?(e.moveTo(R,O(void 0!==n?n:M)),e.lineTo(R,O(M)),e.lineTo(P,O(M))):(e.moveTo(P,O(void 0!==n?n:M)),e.lineTo(P,O(M)),e.lineTo(R,O(M))),e.stroke(),n=M,L?(e.fillStyle=g,e.fillRect(P,0,A,4)):I&&"log"!==i.scaleType&&(e.fillStyle=g,e.fillRect(P,h-4,A,h)),j.get("highlighted")&&(e.fillStyle=v,e.fillRect(P,0,A,h))}}catch(e){S.e(e)}finally{S.f()}s&&(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.8)",c.forEach((function(t){e.beginPath(),e.moveTo(0,Math.round(O(t))),e.lineTo(p,Math.round(O(t))),e.stroke()})))}}]),n}(je),nt=Object(u.ConfigurationSchema)("LinePlotRenderer",{},{baseConfiguration:Fe,explicitlyTyped:!0}),rt=function(e){pe(a,e);var t,n,r=ve(a);function a(){var e;return ue(this,a),(e=r.apply(this,arguments)).name="WiggleGetGlobalStats",e}return de(a,[{key:"deserializeArguments",value:(n=ce(Se.mark((function e(t,n){var r;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(me(a.prototype),"deserializeArguments",this).call(this,t,n);case 2:return r=e.sent,e.abrupt("return",ie(ie({},r),{},{filters:t.filters?new U.a({filters:t.filters}):void 0}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"execute",value:(t=ce(Se.mark((function e(t,n){var r,a,o,i,l;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,a=r.adapterConfig,o=r.sessionId,e.next=6,Object(B.getAdapter)(this.pluginManager,o,a);case 6:if(i=e.sent,!((l=i.dataAdapter)instanceof W.BaseFeatureDataAdapter)){e.next=12;break}if(!l.capabilities.includes("hasGlobalStats")){e.next=11;break}return e.abrupt("return",l.getGlobalStats(r));case 11:throw new Error("Data adapter does not support global stats");case 12:throw new Error("Data adapter not found");case 13:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),a}(V.a),at=function(e){pe(o,e);var t,n,r,a=ve(o);function o(){var e;return ue(this,o),(e=a.apply(this,arguments)).name="WiggleGetMultiRegionStats",e}return de(o,[{key:"deserializeArguments",value:(r=ce(Se.mark((function e(t,n){var r;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(me(o.prototype),"deserializeArguments",this).call(this,t,n);case 2:return r=e.sent,e.abrupt("return",ie(ie({},r),{},{filters:t.filters?new U.a({filters:t.filters}):void 0}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"serializeArguments",value:(n=ce(Se.mark((function e(t,n){var r,a,i,l;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=this.pluginManager.rootModel)||void 0===r||null===(a=r.session)||void 0===a?void 0:a.assemblyManager){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,Object(w.renameRegionsIfNeeded)(i,ie(ie({},t),{},{filters:t.filters&&t.filters.toJSON().filters}));case 5:return l=e.sent,e.abrupt("return",ye(me(o.prototype),"serializeArguments",this).call(this,l,n));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"execute",value:(t=ce(Se.mark((function e(t,n){var r,a,o,i,l,c;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,a=r.regions,o=r.adapterConfig,i=r.sessionId,e.next=6,Object(B.getAdapter)(this.pluginManager,i,o);case 6:if(l=e.sent,!((c=l.dataAdapter)instanceof W.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",c.getMultiRegionStats(a,r));case 10:throw new Error("Data adapter not found");case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),o}(V.a),ot=function(e){pe(n,e);var t=ve(n);function n(){var e;return ue(this,n),(e=t.apply(this,arguments)).name="WigglePlugin",e.exports={LinearWiggleDisplayReactComponent:Ue,XYPlotRendererReactComponent:Pe,XYPlotRenderer:Qe,xyPlotRendererConfigSchema:et,utils:Ae,WiggleBaseRenderer:je,linearWiggleDisplayModelFactory:Ze},e}return de(n,[{key:"install",value:function(e){e.addTrackType((function(){var t=Object(u.ConfigurationSchema)("QuantitativeTrack",{},{baseConfiguration:Object(s.createBaseTrackConfig)(e)});return new i.a({name:"QuantitativeTrack",configSchema:t,stateModel:Object(s.createBaseTrackModel)(e,"QuantitativeTrack",t)})})),e.addDisplayType((function(){var t=function(e){var t=e.getRendererType("XYPlotRenderer").configSchema,n=e.getRendererType("DensityRenderer").configSchema,r=e.getRendererType("LinePlotRenderer").configSchema;return Object(u.ConfigurationSchema)("LinearWiggleDisplay",{autoscale:{type:"stringEnum",defaultValue:"local",model:k.types.enumeration("Autoscale type",["global","local","globalsd","localsd","zscore"]),description:"global/local using their min/max values or w/ standard deviations (globalsd/localsd)"},minScore:{type:"number",defaultValue:Number.MIN_VALUE,description:"minimum value for the y-scale"},maxScore:{type:"number",description:"maximum value for the y-scale",defaultValue:Number.MAX_VALUE},numStdDev:{type:"number",description:"number of standard deviations to use for autoscale types globalsd or localsd",defaultValue:3},scaleType:{type:"stringEnum",model:k.types.enumeration("Scale type",["linear","log"]),description:"The type of scale to use",defaultValue:"linear"},inverted:{type:"boolean",description:"draw upside down",defaultValue:!1},defaultRendering:{type:"stringEnum",model:k.types.enumeration("Rendering",["density","xyplot","line"]),defaultValue:"xyplot"},renderers:Object(u.ConfigurationSchema)("RenderersConfiguration",{DensityRenderer:n,XYPlotRenderer:t,LinePlotRenderer:r})},{baseConfiguration:x.c,explicitlyTyped:!0})}(e);return new f.a({name:"LinearWiggleDisplay",configSchema:t,stateModel:Ze(e,t),trackType:"QuantitativeTrack",viewType:"LinearGenomeView",ReactComponent:Ue})})),e.addAdapterType((function(){return new a.a({name:"BigWigAdapter",configSchema:Re,adapterCapabilities:["hasResolution","hasLocalStats","hasGlobalStats"],getAdapterClass:function(){return Promise.resolve().then((function(){return dt})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(S.getFileName)(t);return/\.(bw|bigwig)$/i.test(a)||"BigWigAdapter"===r?{type:"BigWigAdapter",bigWigLocation:t}:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"BigWigAdapter"===t?"QuantitativeTrack":e(t)}})),e.addRendererType((function(){return new Ne({name:"DensityRenderer",ReactComponent:Pe,configSchema:_e,pluginManager:e})})),e.addRendererType((function(){return new tt({name:"LinePlotRenderer",ReactComponent:Pe,configSchema:nt,pluginManager:e})})),e.addRendererType((function(){return new Qe({name:"XYPlotRenderer",ReactComponent:Pe,configSchema:et,pluginManager:e})})),e.addRpcMethod((function(){return new rt(e)})),e.addRpcMethod((function(){return new at(e)}))}}]),n}(c.a),it=Object(P.a)((function(e){return{root:{},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var lt={__proto__:null,default:function(e){var t=it(),n=e.model,r=e.handleClose,a=n.minScore,o=n.maxScore,i=n.scaleType,l=we(Object(v.useState)("".concat(a!==Number.MIN_VALUE?a:"")),2),c=l[0],u=l[1],s=we(Object(v.useState)("".concat(o!==Number.MAX_VALUE?o:"")),2),d=s[0],f=s[1],p=!(""!==c&&""!==d&&!Number.isNaN(+c)&&!Number.isNaN(+d))||+d>+c,m=!("log"===i&&""!==c&&!Number.isNaN(+c))||+c>0;return b.a.createElement(I.a,{open:!0,onClose:r},b.a.createElement(L.a,null,"Set min/max score for track",b.a.createElement(A.a,{className:t.closeButton,onClick:r},b.a.createElement(J.a,null))),b.a.createElement(F.a,{style:{overflowX:"hidden"}},b.a.createElement("div",{className:t.root},b.a.createElement($.a,null,"Enter min/max score: "),p?null:b.a.createElement($.a,{color:"error"},"Max is greater than or equal to min"),m?null:b.a.createElement($.a,{color:"error"},"Min score should be greater than 0 for log scale"),b.a.createElement(q.a,{value:c,onChange:function(e){u(e.target.value)},placeholder:"Enter min score"}),b.a.createElement(q.a,{value:d,onChange:function(e){f(e.target.value)},placeholder:"Enter max score"}),b.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:20},disabled:!p,onClick:function(){n.setMinScore(""===c||Number.isNaN(+c)?void 0:+c),n.setMaxScore(""===d||Number.isNaN(+d)?void 0:+d),r()}},"Submit"))))}},ct=Object(P.a)((function(e){return{root:{},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var ut={__proto__:null,default:function(e){var t=ct(),n=e.model,r=e.handleClose;return b.a.createElement(I.a,{open:!0,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},b.a.createElement(L.a,{id:"alert-dialog-title"},"Select a color",b.a.createElement(A.a,{"aria-label":"close",className:t.closeButton,onClick:r},b.a.createElement(J.a,null))),b.a.createElement(F.a,{style:{overflowX:"hidden"}},b.a.createElement("div",{className:t.root},b.a.createElement(X.b,{onChange:function(e){n.setColor(function(e){if(e instanceof Object){var t=e.r,n=e.g,r=e.b,a=e.a;return"rgb(".concat(t,",").concat(n,",").concat(r,",").concat(a,")")}return e}(e.rgb))}}),b.a.createElement("br",null),b.a.createElement("div",{style:{margin:20}},b.a.createElement(N.a,{onClick:function(){n.setColor(void 0)},color:"secondary",variant:"contained"},"Restore default from config"),b.a.createElement(N.a,{variant:"contained",color:"primary",type:"submit",onClick:function(){r()}},"Submit")))))}},st=function(e){pe(i,e);var t,n,r,a,o=ve(i);function i(e,t,n){var r;return ue(this,i),(r=o.call(this,e,t,n)).bigwig=new Y.BigWig({filehandle:Object(Z.openLocation)(Object(u.readConfObject)(e,"bigWigLocation"),r.pluginManager)}),r}return de(i,[{key:"setup",value:(a=ce(Se.mark((function e(t){var n,r,a;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t||{}).statusCallback,(r=void 0===n?function(){}:n)("Downloading bigwig header"),e.next=4,this.bigwig.getHeader(t);case 4:return a=e.sent,r(""),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"getRefNames",value:(r=ce(Se.mark((function e(t){var n;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t);case 2:return n=e.sent,e.abrupt("return",Object.keys(n.refsByName));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"refIdToName",value:(n=ce(Se.mark((function e(t){var n;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return n=e.sent,e.abrupt("return",(n.refsByNumber[t]||{name:void 0}).name);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getGlobalStats",value:(t=ce(Se.mark((function e(t){var n;return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t);case 2:return n=e.sent,e.abrupt("return",Object(ae.rectifyStats)(n.totalSummary));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.refName,a=e.start,o=e.end,i=n.bpPerPx,l=void 0===i?0:i,c=n.signal,u=n.resolution,s=void 0===u?1:u,d=n.statusCallback,f=void 0===d?function(){}:d;return Object(Q.ObservableCreate)(function(){var e=ce(Se.mark((function e(i){return Se.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("Downloading bigwig data"),e.next=3,t.bigwig.getFeatureStream(r,a,o,ie(ie({},n),{},{basesPerSpan:l/s}));case 3:e.sent.pipe(Object(ne.a)(),Object(re.a)((function(e){return new te.a({id:"".concat(r,":").concat(e.start,"-").concat(e.end),data:ie(ie({},e),{},{refName:r})})}))).subscribe(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c)}},{key:"freeResources",value:function(){}}]),i}(W.BaseFeatureDataAdapter);st.capabilities=["hasResolution","hasLocalStats","hasGlobalStats"];var dt={__proto__:null,default:st};t.default=ot},1735:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1736);Object.defineProperty(t,"axisPropsFromTickScale",{enumerable:!0,get:function(){return i(r).default}});var a=n(1737);Object.defineProperty(t,"axisPropsFromBandedScale",{enumerable:!0,get:function(){return i(a).default}});var o=n(1738);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Axis",{enumerable:!0,get:function(){return i(o).default}}),Object.defineProperty(t,"TOP",{enumerable:!0,get:function(){return o.TOP}}),Object.defineProperty(t,"RIGHT",{enumerable:!0,get:function(){return o.RIGHT}}),Object.defineProperty(t,"BOTTOM",{enumerable:!0,get:function(){return o.BOTTOM}}),Object.defineProperty(t,"LEFT",{enumerable:!0,get:function(){return o.LEFT}})},1736:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.range(),r=e.ticks(t),a=e.tickFormat(t),o=e.copy();return{range:n,values:r,format:a,position:o}}},1737:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.range(),n=e.domain(),r=e.bandwidth()/2,a=e.copy();a.round()&&(r=Math.round(r));return{range:t,values:n,format:function(e){return String(e)},position:function(e){return a(e)+r}}}},1738:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEFT=t.BOTTOM=t.RIGHT=t.TOP=void 0,t.default=function(e){var t=e.style,n=e.range,r=e.values,a=e.position,p=e.format,m=Object.assign({},f,t),h=m.orient,g=m.tickSizeInner,v=m.tickPadding,b=m.tickSizeOuter,y=m.strokeWidth,w=m.strokeColor,C=m.tickFont,E=m.tickFontSize,O=h===c||h===s?i:l,k=h===c||h===d?-1:1,x=h===u,S=h===d,j=h===c,T=h===s,P=x||S,R=P?"x":"y",M=P?"y":"x",I=y/2,L=n[0]+I,A=n[n.length-1]+I,F=Math.max(g,0)+v;return o.default.createElement("g",{fill:"none",fontSize:E,fontFamily:C,textAnchor:x?"start":S?"end":"middle",strokeWidth:y},o.default.createElement("path",{stroke:w,d:P?"M"+k*b+","+L+"H"+I+"V"+A+"H"+k*b:"M"+L+","+k*b+"V"+I+"H"+A+"V"+k*b}),r.map((function(e,t){var n={stroke:w};n[R+"2"]=k*g,n[M+"1"]=I,n[M+"2"]=I;var r,i={fill:w,dy:j?"0em":T?"0.71em":"0.32em"};return i[""+R]=k*F,i[""+M]=I,o.default.createElement("g",{key:"tick-"+t,opacity:1,transform:(r=e,O(a,a,r))},o.default.createElement("line",n),o.default.createElement("text",i,p(e)))})))};var r,a=n(1),o=(r=a)&&r.__esModule?r:{default:r};function i(e,t,n){var r=e(n);return"translate("+(isFinite(r)?r:t(n))+",0)"}function l(e,t,n){var r=e(n);return"translate(0,"+(isFinite(r)?r:t(n))+")"}var c=t.TOP="TOP",u=t.RIGHT="RIGHT",s=t.BOTTOM="BOTTOM",d=t.LEFT="LEFT",f={orient:s,tickSizeInner:6,tickSizeOuter:6,tickPadding:3,strokeWidth:1,strokeColor:"black",tickFont:"sans-serif",tickFontSize:10}},1739:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.extend((function(){return function(e){return{views:{get snackbarMessages(){return e}},actions:{notify:function(e,t){var n=this;this.pushSnackbarMessage(e,t),"info"!==t&&"success"!==t||setTimeout((function(){n.removeSnackbarMessage(e)}),5e3)},pushSnackbarMessage:function(t,n){return e.push([t,n])},popSnackbarMessage:function(){return e.pop()},removeSnackbarMessage:function(t){var n=e.find((function(e){return e[0]===t}));n&&e.remove(n)}}}}(r.observable.array())}))};var r=n(45)},1740:function(e,t,n){"use strict";(function(e){var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PluginSourceConfigurationSchema=void 0,t.isCJSPluginDefinition=y,t.isESMPluginDefinition=b,t.isUMDPluginDefinition=v;var a=r(n(22)),o=r(n(19)),i=r(n(375)),l=r(n(24)),c=r(n(16)),u=r(n(15)),s=r(n(41)),d=r(n(968)),f=r(n(969)),p=n(43),m=r(n(997)),h=n(39),g=(0,p.ConfigurationSchema)("PluginSource",{name:{type:"string",defaultValue:""},url:{type:"string",defaultValue:""}});function v(e){return(void 0!==e.umdUrl||void 0!==e.url)&&void 0!==e.name}function b(e){return void 0!==e.esmUrl}function y(e){return void 0!==e.cjsUrl}function w(){return"object"===("undefined"==typeof self?"undefined":(0,s.default)(self))&&self.self===self&&self||"object"===(void 0===e?"undefined":(0,s.default)(e))&&e.global===e&&e||this}t.PluginSourceConfigurationSchema=g;var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.default)(this,e),this.definitions=[],this.definitions=JSON.parse(JSON.stringify(t))}var t,r,s,p,g;return(0,u.default)(e,[{key:"loadScript",value:function(e){var t=w();if(!function(e){return Boolean("WorkerGlobalScope"in e)}(t))return(0,d.default)(e);if(t&&t.importScripts)return new Promise((function(n,r){try{t.importScripts(e)}catch(t){return void r(t||new Error("failed to load ".concat(e)))}n()}));throw new Error("cannot figure out how to load external JS scripts in this environment")}},{key:"loadCJSPlugin",value:(g=(0,l.default)(a.default.mark((function e(t){var r,o,i,l,c,u,s,d,p,m,h,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new URL(t.cjsUrl,w().location.href),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.error(e.t0),new Error("Error parsing URL: ".concat(t.cjsUrl));case 8:if("http:"===r.protocol||"https:"===r.protocol){e.next=10;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 10:return o=n(970),i=n(971),l=n(972),c=n(973),u=o.promises,e.next=17,u.realpath(l.tmpdir());case 17:return s=e.sent,e.next=20,u.mkdtemp(i.join(s,"jbrowse-plugin-"));case 20:return d=e.sent,p=void 0,e.prev=22,m=i.join(d,(0,f.default)(r.href)),h=i.relative(".",m),g=new Promise((function(e,t){var n=o.createWriteStream(m);c.get(r.href,(function(t){t.pipe(n),n.on("finish",(function(){e()}))})).on("error",(function(e){o.unlinkSync(m),t(e)}))})),e.next=28,g;case 28:p=require(h);case 29:return e.prev=29,u.rmdir(d,{recursive:!0}),e.finish(29);case 32:if(p){e.next=34;break}throw new Error("Could not load CJS plugin: ".concat(r));case 34:return e.abrupt("return",p);case 35:case"end":return e.stop()}}),e,null,[[0,4],[22,,29,32]])}))),function(e){return g.apply(this,arguments)})},{key:"loadESMPlugin",value:(p=(0,l.default)(a.default.mark((function e(t){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new URL(t.esmUrl,w().location.href),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.error(e.t0),new Error("Error parsing URL: ".concat(t.esmUrl));case 8:if("http:"===r.protocol||"https:"===r.protocol){e.next=10;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 10:return e.next=12,Promise.resolve("".concat(r.href)).then((function(e){return(0,i.default)(n(1741)(e))}));case 12:if(o=e.sent){e.next=15;break}throw new Error("Could not load ESM plugin: ".concat(r));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,null,[[0,4]])}))),function(e){return p.apply(this,arguments)})},{key:"loadUMDPlugin",value:(s=(0,l.default)(a.default.mark((function e(t){var n,r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="url"in t?t.url:t.umdUrl,e.prev=1,r=new URL(n,w().location.href),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),new Error("Error parsing URL: ".concat(n));case 9:if("http:"===r.protocol||"https:"===r.protocol){e.next=11;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 11:return e.next=13,this.loadScript(r.href);case 13:if(o=t.name,i="JBrowsePlugin".concat(o),l=w(),c=l[i]){e.next=19;break}throw new Error("Failed to load UMD bundle for ".concat(o,", ").concat(l.constructor.name,".").concat(i," is undefined"));case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return s.apply(this,arguments)})},{key:"loadPlugin",value:(r=(0,l.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.isElectron||!y(t)){e.next=6;break}return e.next=3,this.loadCJSPlugin(t);case 3:n=e.sent,e.next=23;break;case 6:if(!b(t)){e.next=12;break}return e.next=9,this.loadESMPlugin(t);case 9:n=e.sent,e.next=23;break;case 12:if(!v(t)){e.next=18;break}return e.next=15,this.loadUMDPlugin(t);case 15:n=e.sent,e.next=23;break;case 18:if(h.isElectron||!y(t)){e.next=22;break}throw new Error("Only CommonJS plugin found, but not in a NodeJS environment: ".concat(JSON.stringify(t)));case 22:throw new Error("Could not determine plugin type: ".concat(JSON.stringify(t)));case 23:return e.abrupt("return",n.default);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"installGlobalReExports",value:function(e){e.JBrowseExports=Object.fromEntries(Object.entries(m.default).map((function(e){var t=(0,o.default)(e,2);return[t[0],t[1]]})))}},{key:"load",value:(t=(0,l.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(this.definitions.map(function(){var e=(0,l.default)(a.default.mark((function e(n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadPlugin(n);case 2:return e.t0=e.sent,e.t1=n,e.abrupt("return",{plugin:e.t0,definition:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.default=C}).call(this,n(44))},1741:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1741},1742:function(e,t,n){"use strict";var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.config,n=e.handleClose,r=m(),a=(0,c.useState)(),h=(0,l.default)(a,2),g=h[0],v=h[1],b=(0,c.useState)(),y=(0,l.default)(b,2),w=y[0],C=y[1],E=(0,f.getSession)(t),O=E.rpcManager,k=(0,d.readConfObject)(t);(0,c.useEffect)((function(){var e=new AbortController,n=e.signal,r=!1;return(0,i.default)(o.default.mark((function e(){var a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,d.readConfObject)(t,"adapter"),e.next=4,O.call(t.trackId,"CoreGetInfo",{adapterConfig:a,signal:n});case 4:i=e.sent,r||v(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),r||(console.error(e.t0),C(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){e.abort(),r=!0}}),[t,O]);var x=(0,d.readConfObject)(t,"name");"ReferenceSequenceTrack"===(0,d.readConfObject)(t,"type")&&(x="Reference Sequence",E.assemblies.forEach((function(e){e.sequence===t.configuration&&(x="Reference Sequence (".concat((0,d.readConfObject)(e,"name"),")"))})));var S="string"==typeof g?{header:"<pre>".concat(g.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</pre>")}:g||{};return c.default.createElement(u.Dialog,{open:!0,onClose:n},c.default.createElement(u.DialogTitle,null,x,c.default.createElement(u.IconButton,{className:r.closeButton,onClick:function(){return n()}},c.default.createElement(s.default,null))),c.default.createElement(u.DialogContent,null,c.default.createElement(p.BaseCard,{title:"Configuration"},c.default.createElement(p.Attributes,{attributes:k,omit:["displays","baseUri","refNames"]})),null!==g?c.default.createElement(p.BaseCard,{title:"File info"},w?c.default.createElement(u.Typography,{color:"error"},"".concat(w)):g?c.default.createElement(p.Attributes,{attributes:S}):"Loading file data..."):null))};var o=a(n(22)),i=a(n(24)),l=a(n(19)),c=r(n(1)),u=n(31),s=a(n(74)),d=n(43),f=n(39),p=n(418),m=(0,u.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))},1752:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(568),i=n.n(o),l=n(194),c=n.n(l),u=n(131),s=n.n(u),d=n(163),f=n(43),p=n(39),m=n(20),h=n(164),g=n(118),v=n(91),b=n(33),y=n(671),w=n(719),C=n(690),E=n(695),O=n(683),k=n(693),x=n(684),S=n(692),j=n(685),T=n(1796),P=n(1795),R=n(687),M=n(688),I=n(1794),L=n(1780),A=n(694),F=n(718),N=n(1775),_=n(703),D=n(1774),z=n(1776),B=n(1814),H=n(1810),V=n(1811),W=n(681),G=n(1808),U=n(1812),q=n(1809),$=n(707),K=n(701),J=n(698),X=n(1019),Y=n(1787),Z=n(461),Q=n(1797),ee=n(1806),te=n(1802),ne=n(1803),re=n(1805),ae=n(370),oe=n.n(ae),ie=n(952),le=n.n(ie),ce=n(951),ue=n.n(ce),se=n(74),de=n.n(se),fe=n(948),pe=n.n(fe),me=n(161),he=n(949),ge=n.n(he),ve=n(410),be=n.n(ve),ye=n(950),we=n.n(ye),Ce=n(12),Ee=n(954),Oe=n.n(Ee),ke=n(953),xe=n.n(ke),Se=n(205),je=n.n(Se),Te=n(990),Pe=n.n(Te),Re=n(1010),Me=n(206),Ie=n.n(Me),Le=n(346),Ae=n.n(Le),Fe=n(211),Ne=n.n(Fe),_e=n(955),De=n.n(_e),ze=n(956),Be=n.n(ze),He=n(1727),Ve=n(308),We=n.n(Ve),Ge=n(243),Ue=n.n(Ge),qe=n(144),$e=n.n(qe),Ke=n(227),Je=n.n(Ke),Xe=n(10),Ye=n(199),Ze=n(171),Qe=n(947),et=(n(169),"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function tt(e){cancelAnimationFrame(e.id)}function nt(e,t){var n=et();var r={id:requestAnimationFrame((function a(){et()-n>=t?e.call(null):r.id=requestAnimationFrame(a)}))};return r}var rt=null;function at(e){if(void 0===e&&(e=!1),null===rt||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?rt="positive-descending":(t.scrollLeft=1,rt=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),rt}return rt}var ot=function(e,t){return e};function it(e){var t,n,a=e.getItemOffset,o=e.getEstimatedTotalSize,i=e.getItemSize,l=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,s=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=s(n.props,Object(Ze.default)(Object(Ze.default)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(Ze.default)(Object(Ze.default)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object(Qe.a)((function(e,t,r,a){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:a})})),n._callOnScroll=void 0,n._callOnScroll=Object(Qe.a)((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,o=r.direction,l=r.itemSize,c=r.layout,u=n._getItemStyleCache(d&&l,d&&c,d&&o);if(u.hasOwnProperty(e))t=u[e];else{var s=a(n.props,e,n._instanceProps),f=i(n.props,e,n._instanceProps),p="horizontal"===o||"horizontal"===c,m="rtl"===o,h=p?s:0;u[e]=t={position:"absolute",left:m?void 0:h,right:m?h:void 0,top:p?0:s,height:p?"100%":f,width:p?f:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=Object(Qe.a)((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,a=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===a)return null;var t=n.props.direction,i=a;if("rtl"===t)switch(at()){case"negative":i=-a;break;case"positive-descending":i=o-r-a}return i=Math.max(0,Math.min(i,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,a=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,a-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&tt(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=nt(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}Object(Ye.a)(t,e),t.getDerivedStateFromProps=function(e,t){return lt(e,t),f(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(l(this.props,e,t,r,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var a=this._outerRef;"horizontal"===t||"horizontal"===r?a.scrollLeft=n:a.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,a=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(at()){case"negative":o.scrollLeft=-a;break;case"positive-ascending":o.scrollLeft=a;break;default:var i=o.clientWidth,l=o.scrollWidth;o.scrollLeft=l-i-a}else o.scrollLeft=a;else o.scrollTop=a}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&tt(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,a=e.direction,i=e.height,l=e.innerRef,c=e.innerElementType,u=e.innerTagName,s=e.itemCount,d=e.itemData,f=e.itemKey,p=void 0===f?ot:f,m=e.layout,h=e.outerElementType,g=e.outerTagName,v=e.style,b=e.useIsScrolling,y=e.width,w=this.state.isScrolling,C="horizontal"===a||"horizontal"===m,E=C?this._onScrollHorizontal:this._onScrollVertical,O=this._getRangeToRender(),k=O[0],x=O[1],S=[];if(s>0)for(var j=k;j<=x;j++)S.push(Object(r.createElement)(t,{data:d,key:p(j,d),index:j,isScrolling:b?w:void 0,style:this._getItemStyle(j)}));var T=o(this.props,this._instanceProps);return Object(r.createElement)(h||g||"div",{className:n,onScroll:E,ref:this._outerRefSetter,style:Object(Xe.a)({position:"relative",height:i,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},v)},Object(r.createElement)(c||u||"div",{children:S,ref:l,style:{height:C?"100%":T,pointerEvents:w?"none":void 0,width:C?T:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],a=e[3];this._callOnItemsRendered(t,n,r,a)}if("function"==typeof this.props.onScroll){var o=this.state,i=o.scrollDirection,l=o.scrollOffset,c=o.scrollUpdateWasRequested;this._callOnScroll(i,l,c)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,a=r.isScrolling,o=r.scrollDirection,i=r.scrollOffset;if(0===t)return[0,0,0,0];var l=c(this.props,i,this._instanceProps),s=u(this.props,l,i,this._instanceProps),d=a&&"backward"!==o?1:Math.max(1,n),f=a&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,l-d),Math.max(0,Math.min(t-1,s+f)),l,s]},t}(r.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var lt=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},ct=function(e,t,n){var r=e.itemSize,a=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var i=0;if(o>=0){var l=a[o];i=l.offset+l.size}for(var c=o+1;c<=t;c++){var u=r(c);a[c]={offset:i,size:u},i+=u}n.lastMeasuredIndex=t}return a[t]},ut=function(e,t,n,r,a){for(;r<=n;){var o=r+Math.floor((n-r)/2),i=ct(e,o,t).offset;if(i===a)return o;i<a?r=o+1:i>a&&(n=o-1)}return r>0?r-1:0},st=function(e,t,n,r){for(var a=e.itemCount,o=1;n<a&&ct(e,n,t).offset<r;)n+=o,o*=2;return ut(e,t,Math.min(n,a-1),Math.floor(n/2),r)},dt=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,a=t.estimatedItemSize,o=t.lastMeasuredIndex,i=0;if(o>=n&&(o=n-1),o>=0){var l=r[o];i=l.offset+l.size}return i+(n-o-1)*a},ft=it({getItemOffset:function(e,t,n){return ct(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:dt,getOffsetForIndexAndAlignment:function(e,t,n,r,a){var o=e.direction,i=e.height,l=e.layout,c=e.width,u="horizontal"===o||"horizontal"===l?c:i,s=ct(e,t,a),d=dt(e,a),f=Math.max(0,Math.min(d-u,s.offset)),p=Math.max(0,s.offset-u+s.size);switch("smart"===n&&(n=r>=p-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);case"auto":default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,a=t.lastMeasuredIndex;return(a>0?r[a].offset:0)>=n?ut(e,t,a,0,n):st(e,t,Math.max(0,a),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var a=e.direction,o=e.height,i=e.itemCount,l=e.layout,c=e.width,u="horizontal"===a||"horizontal"===l?c:o,s=ct(e,t,r),d=n+u,f=s.offset+s.size,p=t;p<i-1&&f<d;)p++,f+=ct(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var pt=n(307),mt=n.n(pt),ht=n(946),gt=function(){},vt=function(e,t){return void 0===t&&(t=null),{child:null,isShown:!t||t.public.isOpen&&t.isShown,parent:t,public:e,sibling:null,visited:!1}},bt=function(e,t){return(0,t.getRecordData)(e).data.id},yt=function(e){return function(t,n,r){return r.refresh?function(e,t,n){var r=e.createRecord,a=t.buildingTaskTimeout,o=t.placeholder,i=t.async,l=void 0!==i&&i,c=t.treeWalker,u=l&&void 0!==n.records,s=n.records,d=[],f=new Map,p=a?{timeout:a}:void 0,m=new WeakMap,h=c(),g=h.next().value,v=r(g.data,n,void 0,u?s.get(g.data.id):void 0);f.set(v.public.data.id,v),m.set(v,g);var b=v,y=!0,w=v,C=void 0!==o&&!(null===o&&!n.order),E=C?function(e){return e.timeRemaining()>0}:function(){return!0},O=function e(t){for(;null!==b;){if(!E(t))return void requestIdleCallback(e,p);if(b.visited)b.visited=!1,b=null!==b.sibling?b.sibling:b.parent,w=b;else{var a=h.next(m.get(b)).value;if(void 0===a){y?y=!1:(b.isShown&&d.push(b.public.data.id),b.visited=null!==b.child,b=null!==b.child?b.child:null!==b.sibling?b.sibling:b.parent),w=b;continue}var o=r(a.data,n,y?void 0:b,u?s.get(a.data.id):void 0);f.set(o.public.data.id,o),m.set(o,a),y||w!==b?w.sibling=o:w.child=o,w=o}}C&&n.setState({order:d,records:f,updateRequest:{}})};return C?requestIdleCallback(O,p):O(),void 0!==o&&l&&n.order?n:{order:d,records:f}}(e,t,n):function(e,t){var n=e.order,r=e.records,a=t.opennessState;if("object"!=typeof a)return null;for(var o in a)if(r.has(o)){var i=a[o],l=r.get(o),c="boolean"==typeof i?{open:i}:i,u=c.open,s=c.subtreeCallback,d=void 0===s?gt:s,f=gt,p=gt;l.isShown&&(u?function(){for(var e=n.indexOf(o),t=l;null!==t;){if(null!==t.sibling){t=t.sibling;break}t=t.parent}var r=null===t?n.length-1-e:n.indexOf(t.public.data.id)-1-e,a=[[e+1,r]];f=function(t){if(t.isShown=!t.parent||t.parent.public.isOpen&&t.parent.isShown,t.isShown){var n=a[a.length-1];n.push(t.public.data.id),32770===n.length&&a.push([e+1+32768*a.length,0])}},p=function(){for(var e=0;e<a.length;e++){var t;(t=n).splice.apply(t,a[e])}}}():l.public.isOpen&&function(){var e=n.indexOf(o),t=0;f=function(e){e.isShown&&(t+=1),e.isShown=!e.parent||e.parent.public.isOpen&&e.parent.isShown},p=function(){n.splice(e+1,t)}}());for(var m=l;null!==m;)m.visited?(m.visited=!1,m=m===l?null:null!==m.sibling?m.sibling:m.parent):(m.public.isOpen=m===l?u:m.public.isOpen,d(m.public,l.public),m!==l&&f(m),m.visited=null!==m.child,m=null!==m.child?m.child:m===l?null:null!==m.sibling?m.sibling:m.parent);p()}return{order:n,records:r,updateRequest:{}}}(n,r)}},wt=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).getRecordData=a.getRecordData.bind(mt()(a)),a.state={list:Object(r.createRef)(),recomputeTree:a.recomputeTree.bind(mt()(a)),setState:a.setState.bind(mt()(a))},a}Je()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.listRef,r=void 0===n?null:n,a=e.treeWalker,o=t.computeTree,i=t.list,l=t.order,c=t.treeWalker;return $e()({attachRefs:Object(ht.a)([i,r])},a===c&&l?null:o(e,t,{refresh:!0}),{treeWalker:a})};var n=t.prototype;return n.getItemData=function(){var e=this.props,t=e.children,n=e.itemData;return{component:t,getRecordData:this.getRecordData,treeData:n}},n.getRecordData=function(e){var t=this.state,n=t.order;return t.records.get(n[e]).public},n.recomputeTree=function(e){var t=this;return new Promise((function(n){t.setState((function(n){return n.computeTree(t.props,n,{opennessState:e})}),n)}))},n.scrollTo=function(e){var t;null==(t=this.state.list.current)||t.scrollTo(e)},n.scrollToItem=function(e,t){var n;null==(n=this.state.list.current)||n.scrollToItem(this.state.order.indexOf(e),t)},t}(r.PureComponent);wt.defaultProps={rowComponent:function(e){var t=e.index,n=e.data,r=n.component,o=n.getRecordData,i=n.treeData,l=e.style,c=e.isScrolling,u=o(t);return a.a.createElement(r,Object.assign({isScrolling:c,style:l,treeData:i},u))}};var Ct=wt,Et=(yt({createRecord:function(e,t,n,r){var a=t.recomputeTree;return vt({data:e,isOpen:r?r.public.isOpen:e.isOpenByDefault,setOpen:function(t){var n;return a(((n={})[e.id]=t,n))}},n)}}),yt({createRecord:function(e,t,n,r){var a=t.recomputeTree,o=t.resetAfterId,i=vt({data:e,height:r?r.public.height:e.defaultHeight,isOpen:r?r.public.isOpen:e.isOpenByDefault,resize:function(e,t){i.public.height=e,o(i.public.data.id,t)},setOpen:function(t){var n;return a(((n={})[e.id]=t,n))}},n);return i}})),Ot=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).getItemSize=r.getItemSize.bind(mt()(r)),r.state=$e()({},r.state,{computeTree:Et,resetAfterId:r.resetAfterId.bind(mt()(r))}),r}Je()(t,e);var n=t.prototype;return n.resetAfterId=function(e,t){var n;void 0===t&&(t=!1);var r=this.state,a=r.list,o=r.order;null==(n=a.current)||n.resetAfterIndex(o.indexOf(e),t)},n.recomputeTree=function(t){var n=this;return e.prototype.recomputeTree.call(this,t).then((function(){var e;null==(e=n.state.list.current)||e.resetAfterIndex(0,!0)}))},n.render=function(){var e=this.props,t=(e.children,e.placeholder),n=e.itemSize,r=e.rowComponent,o=(e.treeWalker,Ue()(e,["children","placeholder","itemSize","rowComponent","treeWalker"])),i=this.state,l=i.attachRefs,c=i.order;return t&&0===c.length?t:a.a.createElement(ft,Object.assign({},o,{itemCount:c.length,itemData:this.getItemData(),itemKey:bt,itemSize:null!=n?n:this.getItemSize,ref:l}),r)},n.getItemSize=function(e){return this.getRecordData(e).height},t}(Ct),kt=n(1018),xt=n(128),St=n(957),jt=n.n(St);function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){Ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function It(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Mt(o,r,a,i,l,"next",e)}function l(e){Mt(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Lt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nt(e){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _t(e,t){return(_t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dt(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Nt(e);if(t){var a=Nt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Dt(this,n)}}function Bt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Vt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ht(e){return function(e){if(Array.isArray(e))return Wt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Vt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vt(e,t){if(e){if("string"==typeof e)return Wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Wt(e,t):void 0}}function Wt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Vt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}n.d(t,"AssemblyManager",(function(){return Mn})),n.d(t,"SetDefaultSession",(function(){return Rn}));var Ut=Object(f.ConfigurationSchema)("UCSCTrackHubConnection",{hubTxtLocation:{type:"fileLocation",defaultValue:{uri:"http://mysite.com/path/to/hub.txt",locationType:"UriLocation"},description:"location of the hub file (usually called hub.txt)"},assemblyNames:{type:"stringArray",defaultValue:[],description:"optional list of genomes to import from this track hub, if empty all genomes will be imported"}},{baseConfiguration:d.baseConnectionConfig});function qt(e,t){return e(t={exports:{}},t.exports),t.exports}var $t=qt((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function Kt(){return(Kt=It($t.mark((function e(t){var r,a,o;return $t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(h.openLocation)(t).readFile("utf8");case 3:return r=e.sent,e.next=6,n.e(0).then(n.t.bind(null,1821,7));case 6:return a=e.sent,o=a.HubFile,e.abrupt("return",new o(r));case 11:throw e.prev=11,e.t0=e.catch(0),new Error("Not a valid hub.txt file, got error: '".concat(e.t0,"'"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Jt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=It($t.mark((function e(t){var r,a,o;return $t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.openLocation)(t).readFile("utf8");case 2:return r=e.sent,e.next=5,n.e(0).then(n.t.bind(null,1821,7));case 5:return a=e.sent,o=a.GenomesFile,e.abrupt("return",new o(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=It($t.mark((function e(t){var r,a,o;return $t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(h.openLocation)(t).readFile("utf8");case 2:return r=e.sent,e.next=5,n.e(0).then(n.t.bind(null,1821,7));case 5:return a=e.sent,o=a.TrackDbFile,e.abrupt("return",new o(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qt(e,t,n,r){var a=[];return e.forEach((function(o,i){var l=Array.from(o.keys()),c=["superTrack","compositeTrack","container","view"];if(!l.some((function(e){return c.includes(e)}))){var u=[],s=i;do{if(s=e.get(s).get("parent")){var d=s.split(" ");s=Bt(d,1)[0],u.push(e.get(s))}}while(s);u.reverse();var f=function(e,t,n,r,a){var o=e.get("type");o||(o=r.get(e.get("parent")).get("type"));var i,l,c=o.split(" ")[0];"bam"===c&&e.get("bigDataUrl").toLowerCase().endsWith("cram")&&(c="cram");i=n.uri?{uri:new URL(e.get("bigDataUrl"),n.uri).href,locationType:"UriLocation"}:{localPath:e.get("bigDataUrl"),locationType:"LocalPathLocation"};switch(c){case"bam":return l=n.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),n.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".bai"),n.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".bai"),locationType:"LocalPathLocation"},{type:"AlignmentsTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BamAdapter",bamLocation:i,index:{location:l}}};case"bed":case"bed5FloatScore":case"bedGraph":case"bedRnaElements":return Object(g.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"bigBarChart":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i},renderer:{type:"SvgFeatureRenderer"}};case"bigBed":case"bigGenePred":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i}};case"bigChain":case"bigInteract":case"bigMaf":case"bigPsl":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i},renderer:{type:"SvgFeatureRenderer"}};case"bigWig":return{type:"QuantitativeTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigWigAdapter",bigWigLocation:i}};case"broadPeak":case"coloredExon":return Object(g.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"cram":return l=n.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),n.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".crai"),n.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".crai"),locationType:"LocalPathLocation"},{type:"AlignmentsTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"CramAdapter",cramLocation:i,craiLocation:l,sequenceAdapter:a}};case"gvf":case"ld2":case"narrowPeak":return Object(g.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"bigNarrowPeak":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i}};case"peptideMapping":return Object(g.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"vcfTabix":return l=n.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),n.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".tbi"),n.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".tbi"),locationType:"LocalPathLocation"},{type:"VariantTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"VcfTabixAdapter",vcfGzLocation:i,index:{location:l}}};case"wig":case"wigMaf":return Object(g.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"hic":return{type:"HicTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"HicAdapter",hicLocation:i}};case"halSnake":return Object(g.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);default:return Object(g.generateUnknownTrackConf)(e.get("shortLabel"),c,t)}}(o,u.map((function(e){return e.get("shortLabel")})),t,e,r);f.trackId="ucsc-trackhub-".concat(Object(p.objectHash)(f)),f.assemblyNames=[n],a.push(f)}})),a}function en(e){return m.types.compose("UCSCTrackHubConnection",Object(d.BaseConnectionModelFactory)(e),m.types.model({configuration:Object(f.ConfigurationReference)(Ut),type:m.types.literal("UCSCTrackHubConnection")}).actions((function(e){return{connect:function(){var t=Object(f.getConf)(e,"name"),n=Object(f.getConf)(e,"hubTxtLocation"),r=Object(p.getSession)(e);(function(e){return Kt.apply(this,arguments)})(n).then((function(e){var t=n.uri?{uri:new URL(e.get("genomesFile"),n.uri).href,locationType:"UriLocation"}:{localPath:e.get("genomesFile"),locationType:"LocalPathLocation"};return Promise.all([e,Jt(t)])})).then((function(a){var o,i=Bt(a,2),l=i[0],c=i[1],u=[],s=Gt(c);try{var d=function(){var a=Bt(o.value,2),i=a[0],c=a[1],s=Object(f.getConf)(e,"assemblyNames");if(s.length>0&&!s.includes(i))return"break";var d=r.assemblies.find((function(e){return Object(f.readConfObject)(e,"name")===i}));if(!d)throw new Error('Cannot find assembly for "'.concat(i,'" from the genomes file for connection "').concat(t,'"'));var p=n.uri?{uri:new URL(c.get("trackDb"),new URL(l.get("genomesFile"),n.uri)).href,locationType:"UriLocation"}:{localPath:c.get("trackDb"),locationType:"LocalPathLocation"};u.push(Promise.all([p,Yt(p),i,d]))};for(s.s();!(o=s.n()).done;){if("break"===d())break}}catch(e){s.e(e)}finally{s.f()}return Promise.all([].concat(u))})).then((function(t){var n,r=Gt(t);try{for(r.s();!(n=r.n()).done;){var a=Bt(n.value,4),o=a[0],i=a[1],l=a[2],c=a[3],u=Qt(i,o,l,Object(f.readConfObject)(c,["sequence","adapter"]));e.addTrackConfs(u)}}catch(e){r.e(e)}finally{r.f()}})).catch((function(t){console.error(t),r.notify('There was a problem connecting to the UCSC Track Hub "'.concat(e.name,'". Please make sure you have entered a valid hub.txt file. The error that was thrown is: "').concat(t,'"'),"error"),r.breakConnection(e.configuration)}))}}})))}function tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(e),!0}catch(t){return e.startsWith("/")}}function nn(e){return m.types.model("AddTrackModel",{id:v.ElementId,type:m.types.literal("AddTrackWidget"),view:m.types.safeReference(e.pluggableMstType("view","stateModel"))}).volatile((function(){return{trackSource:"fromFile",trackData:void 0,indexTrackData:void 0,altAssemblyName:"",altTrackName:"",altTrackType:"",adapterHint:""}})).actions((function(e){return{setAdapterHint:function(t){e.adapterHint=t},setTrackSource:function(t){e.trackSource=t},setTrackData:function(t){e.trackData=t},setIndexTrackData:function(t){e.indexTrackData=t},setAssembly:function(t){e.altAssemblyName=t},setTrackName:function(t){e.altTrackName=t},setTrackType:function(t){e.altTrackType=t},clearData:function(){e.trackSource="",e.altTrackName="",e.altTrackType="",e.altAssemblyName="",e.adapterHint="",e.indexTrackData=void 0,e.trackData=void 0}}})).views((function(e){return{get trackAdapter(){var t=e.trackData,n=e.indexTrackData,r=e.adapterHint;return t?Object(g.guessAdapter)(t,n,r,e):void 0},get trackName(){return e.altTrackName||(e.trackData?Object(g.getFileName)(e.trackData):"")},get isFtp(){var t,n,r=e.trackData,a=e.indexTrackData;return!!(null!=a&&null!==(t=a.uri)&&void 0!==t&&t.startsWith("ftp://")||null!=r&&null!==(n=r.uri)&&void 0!==n&&n.startsWith("ftp://"))},get isRelativeTrackUrl(){var t,n=null===(t=e.trackData)||void 0===t?void 0:t.uri;return!!n&&!tn(n)},get isRelativeIndexUrl(){var t,n=null===(t=e.indexTrackData)||void 0===t?void 0:t.uri;return!!n&&!tn(n)},get isRelativeUrl(){return this.isRelativeIndexUrl||this.isRelativeTrackUrl},get trackHttp(){var t,n;return null===(t=e.trackData)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.startsWith("http://")},get indexHttp(){var t,n;return null===(t=e.indexTrackData)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.startsWith("http://")},get wrongProtocol(){return"https:"===window.location.protocol&&(this.trackHttp||this.indexHttp)},get unsupported(){var e;return(null===(e=this.trackAdapter)||void 0===e?void 0:e.type)===g.UNSUPPORTED},get assembly(){var t;return e.altAssemblyName||(null===(t=e.view.assemblyNames)||void 0===t?void 0:t[0])},get trackType(){return e.altTrackType||(this.trackAdapter?Object(g.guessTrackType)(this.trackAdapter.type,e):"")}}})).views((function(e){return{get warningMessage(){return e.isFtp?"Warning: JBrowse cannot access files using the ftp protocol":e.isRelativeUrl?"Warning: one or more of your files do not provide the protocol e.g.\n          https://, please provide an absolute URL unless you are sure a\n          relative URL is intended.":e.wrongProtocol?"Warning: You entered a http:// resources but we cannot access HTTP\n          resources from JBrowse when it is running on https. Please use an\n          https URL for your track, or access the JBrowse app from the http\n          protocol":""}}}))}var rn=Object(f.ConfigurationSchema)("AddTrackWidget",{}),an=m.types.model("AddConnectionModel",{id:v.ElementId,type:m.types.literal("AddConnectionWidget")}),on=Object(f.ConfigurationSchema)("AddConnectionWidget",{}),ln=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!e.find((function(e){return t.includes(e)}))};function cn(e){if(!e.trackId)throw new Error("not a track");return Object(f.readConfObject)(e,"name")||"Reference sequence (".concat(Object(f.readConfObject)(Object(m.getParent)(e),"name"),")")}function un(e,t,n){var r={children:[]},a=e.filterText,o=e.view;return t.filter((function(e){return t=a,r=cn(n=e),o=Object(f.readConfObject)(n,"category")||[],i=t.toLowerCase(),!!r.toLowerCase().includes(i)||o.filter((function(e){return!!e.toLowerCase().includes(i)})).length;var t,n,r,o,i})).forEach((function(e){var t=Ht(Object(f.readConfObject)(e,"category")||[]);e.trackId.endsWith("sessionTrack")&&t.unshift(" Session tracks");for(var a=r,i=function(e){var r=t[e],o=a.children.find((function(e){return e.name===r})),i=t.slice(0,e+1).join(",");if(o)a=o;else{var l={children:[],name:r,id:i,isOpenByDefault:!n.get(i)};a.children.push(l),a=l}},l=0;l<t.length;l++)i(l);a.children.splice(a.children.findIndex((function(e){return e.children.length})),0,{id:e.trackId,name:cn(e),conf:e,checked:!!o.tracks.find((function(t){return t.configuration===e})),children:[]})})),r.children}var sn=function(e){return m.types.model("HierarchicalTrackSelectorWidget",{id:v.ElementId,type:m.types.literal("HierarchicalTrackSelectorWidget"),collapsed:m.types.map(m.types.boolean),filterText:"",view:m.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{setView:function(t){e.view=t},toggleCategory:function(t){e.collapsed.set(t,!e.collapsed.get(t))},clearFilterText:function(){e.filterText=""},setFilterText:function(t){e.filterText=t}}})).views((function(t){return{getRefSeqTrackConf:function(n){var r=Object(p.getSession)(t).assemblyManager.get(n),a=null==r?void 0:r.configuration.sequence,o=e.getViewType(t.view.type);if(a){var i,l=Gt(a.displays);try{var c=function(){var e=i.value;if(o.displayTypes.find((function(t){return t.name===e.type})))return{v:a}};for(l.s();!(i=l.n()).done;){var u=c();if("object"===Rt(u))return u.v}}catch(e){l.e(e)}finally{l.f()}}},trackConfigurations:function(n){if(!t.view)return[];var r=Object(p.getSession)(t),a=r.tracks,o=r.assemblyManager.get(n);if(!o)return[];var i=t.getRefSeqTrackConf(n);return(i?[i]:[]).concat(Ht(a.filter((function(e){var t=Object(f.readConfObject)(e,"assemblyNames"),n=o.allAliases;return ln(n,t)})).filter((function(n){var r=e.getViewType(t.view.type).displayTypes.map((function(e){return e.name})),a=n.displays.map((function(e){return e.type}));return ln(r,a)}))))},get assemblyNames(){return t.view?t.view.assemblyNames:[]},connectionTrackConfigurations:function(n,r){if(!t.view)return[];var a=r.tracks,o=Object(p.getSession)(t).assemblyManager.get(n);return o&&o.initialized?a.filter((function(e){var t=Object(f.readConfObject)(e,"assemblyNames"),n=o.allAliases;return ln(n,t)})).filter((function(n){var r=e.getViewType(t.view.type).displayTypes.map((function(e){return e.name})),a=n.displays.map((function(e){return e.type}));return ln(r,a)})):[]},hierarchy:function(e){var n=this,r=un(t,t.trackConfigurations(e),t.collapsed),a=Object(p.getSession)(t),o=a.connectionInstances.filter((function(t){var n=Object(f.readConfObject)(t.configuration,"assemblyNames");return 0===n.length||n.includes(e)})).map((function(t,r){var o=a.connections[r];return{id:o.connectionId,name:Object(f.readConfObject)(o,"name"),children:n.connectionHierarchy(e,t),state:{expanded:!0}}}));return{name:"Root",id:"Root",children:[{name:"Tracks",id:"Tracks",children:r}].concat(Ht(o))}},connectionHierarchy:function(e,n){return un(t,t.connectionTrackConfigurations(e,n),t.collapsed)},allTracksInCategoryPath:function(e,n,r){var a=n?t.connectionHierarchy(n):t.hierarchy(r);e.forEach((function(e){a=a.get(e)||new Map}));var o={};return a.forEach((function(n,r){n.trackId?o[n.trackId]=n:o=Object.assign(o,t.allTracksInCategoryPath(e.concat([r])))})),o}}}))},dn=Object(f.ConfigurationSchema)("HierarchicalTrackSelectorWidget",{}),fn=Object(y.a)((function(){return{closeDialog:{position:"absolute",right:0,top:0},dialogContainer:{margin:15},lockedPluginTooltip:{marginRight:"0.5rem"}}}));function pn(){var e=fn();return a.a.createElement(w.a,{className:e.lockedPluginTooltip,title:"This plugin was installed by an administrator, you cannot remove it."},a.a.createElement(pe.a,null))}function mn(e){var t=e.onClose,n=e.plugin,r=fn();return a.a.createElement(C.a,{open:!0,onClose:function(){return t()}},a.a.createElement(E.a,null,a.a.createElement(O.a,{className:r.closeDialog,"aria-label":"close-dialog",onClick:function(){return t()}},a.a.createElement(de.a,null))),a.a.createElement(k.a,null,a.a.createElement(x.a,null,"Please confirm that you want to remove ",n,". Note: if any resources in this session still use this plugin, it may cause your session to crash"),a.a.createElement(S.a,null,a.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){window.setTimeout((function(){t(n)}),500)}},"Confirm"),a.a.createElement(j.a,{variant:"contained",color:"secondary",onClick:function(){t()}},"Cancel"))))}function hn(e){var t=e.plugin,n=e.model,o=e.pluginManager,i=Bt(Object(r.useState)(),2),l=i[0],c=i[1],u=Object(p.getSession)(n),s=u.sessionPlugins,d=null==s?void 0:s.some((function(e){return o.pluginMetadata[t.name].url===e.url})),f=Object(m.getParent)(n,3),h=f.jbrowse,g=f.adminMode;return a.a.createElement(a.a.Fragment,null,l?a.a.createElement(mn,{plugin:l,onClose:function(e){if(e){var n=o.pluginMetadata[t.name];g?h.removePlugin(n):Object(me.isSessionWithSessionPlugins)(u)&&u.removeSessionPlugin(n)}c(void 0)}}):null,a.a.createElement(T.a,{key:t.name},g||d?a.a.createElement(O.a,{"aria-label":"removePlugin","data-testid":"removePlugin-".concat(t.name),onClick:function(){return c(t.name)}},a.a.createElement(de.a,null)):a.a.createElement(pn,null),a.a.createElement(x.a,null,t.name)))}var gn=Object(b.observer)(hn);function vn(e){var t=e.pluginManager,n=e.model,r=t.plugins,o=r.filter((function(e){var n;return null===(n=t.pluginMetadata[e.name])||void 0===n?void 0:n.isCore})).map((function(e){return e.name})),i=r.filter((function(e){return!o.includes(e.name)}));return a.a.createElement(P.a,null,i.length?i.filter((function(e){return e.name.toLowerCase().includes(n.filterText.toLowerCase())})).map((function(e){return a.a.createElement(gn,{key:e.name,plugin:e,model:n,pluginManager:t})})):a.a.createElement(x.a,null,"No plugins currently installed"))}var bn=Object(b.observer)(vn),yn=Object(y.a)((function(){return{card:{margin:"1em"},icon:{marginLeft:"0.5em",marginRight:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center",margin:"0.4em 0em"}}}));function wn(e){var t=e.plugin,n=e.model,o=e.adminMode,i=yn(),l=Object(p.getSession)(n),c=Object(m.getEnv)(n).pluginManager,u=Boolean(c.runtimePluginDefinitions.find((function(e){return e.url===t.url}))),s=Bt(Object(r.useState)(!1),2),d=s[0],f=s[1],h=u||d,g=Object(m.getParent)(n,3).jbrowse;return a.a.createElement(R.a,{variant:"outlined",key:t.name,className:i.card},a.a.createElement(M.a,null,a.a.createElement("div",{className:i.dataField},a.a.createElement(x.a,{variant:"h5"},a.a.createElement(I.a,{href:"".concat(t.location,"#readme"),target:"_blank",rel:"noopener"},t.name))),a.a.createElement("div",{className:i.dataField},a.a.createElement(ge.a,{style:{marginRight:"0.5em"}}),a.a.createElement(x.a,null,t.authors.join(", "))),a.a.createElement(x.a,{className:i.bold},"Description:"),a.a.createElement(x.a,null,t.description)),a.a.createElement(L.a,null,a.a.createElement(j.a,{variant:"contained",color:"primary",disabled:h,startIcon:u?a.a.createElement(we.a,null):a.a.createElement(be.a,null),onClick:function(){o?g.addPlugin({name:t.name,url:t.url}):Object(me.isSessionWithSessionPlugins)(l)&&l.addSessionPlugin(t),f(!0)}},u?"Installed":"Install")))}var Cn=Object(b.observer)(wn),En=Object(y.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));function On(e){var t=e.open,n=e.onClose,o=e.model,i=En(),l=Bt(Object(r.useState)(""),2),c=l[0],u=l[1],s=Bt(Object(r.useState)(""),2),d=s[0],f=s[1],p=Bt(Object(r.useState)(""),2),h=p[0],g=p[1],v=Bt(Object(r.useState)(""),2),b=v[0],y=v[1],w=Bt(Object(r.useState)(!1),2),x=w[0],T=w[1];function P(e){var t=e.target,n=t.name,r=t.value;"umdName"===n&&u(r),"umdUrl"===n&&f(r),"esmUrl"===n&&g(r),"cjsUrl"===n&&y(r)}var R=Object(m.getRoot)(o).jbrowse,M=Boolean(c&&d||h||b);function I(){if(M){var e={};c&&d&&(e.name=c,e.umdUrl=d),h&&(e.esmUrl=h),b&&(e.cjsUrl=b),R.addPlugin(e)}}function L(){u(""),f(""),g(""),y(""),n()}return a.a.createElement(C.a,{open:t,onClose:L},a.a.createElement(E.a,null,"Add custom plugin",a.a.createElement(O.a,{size:"medium",className:i.closeButton,onClick:function(){return n()}},a.a.createElement(de.a,null))),a.a.createElement("form",{onSubmit:I},a.a.createElement(k.a,{className:i.dialogContent},a.a.createElement(A.a,null,"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."),a.a.createElement(F.a,{id:"umd-name-input",name:"umdName",label:"Plugin name",variant:"outlined",value:c,onChange:P}),a.a.createElement(F.a,{id:"umd-url-input",name:"umdUrl",label:"Plugin URL",variant:"outlined",value:d,onChange:P}),a.a.createElement(A.a,{onClick:function(){T(!x)}},a.a.createElement(O.a,{className:Object(Ce.default)(i.expand,Ft({},i.expandOpen,x)),"aria-expanded":x,"aria-label":"show more"},a.a.createElement(oe.a,null)),"Advanced options"),a.a.createElement(N.a,{in:x},a.a.createElement("div",{className:i.dialogContent},a.a.createElement(A.a,null,"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."),a.a.createElement(F.a,{id:"esm-url-input",name:"esmUrl",label:"ESM build URL",variant:"outlined",value:h,onChange:P}),a.a.createElement(F.a,{id:"cjs-url-input",name:"cjsUrl",label:"CJS build URL",variant:"outlined",value:b,onChange:P})))),a.a.createElement(S.a,null,a.a.createElement(j.a,{variant:"contained",onClick:L},"Cancel"),a.a.createElement(j.a,{variant:"contained",color:"primary",onClick:I,disabled:!M},"Submit"))))}var kn=Object(b.observer)(On),xn=Object(y.a)((function(e){return{root:{margin:e.spacing(1)},expandIcon:{color:"#fff"},adminBadge:{margin:"0.5em",borderRadius:3,backgroundColor:"#FFB11D",padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"0.5em",display:"flex",justifyContent:"center"}}}));function Sn(e){var t=e.model,n=xn(),o=Bt(Object(r.useState)(),2),i=o[0],l=o[1],c=Bt(Object(r.useState)(),2),u=c[0],s=c[1],d=Bt(Object(r.useState)(!1),2),f=d[0],h=d[1],g=Object(p.getSession)(t).adminMode,v=Object(m.getEnv)(t).pluginManager;return Object(r.useEffect)((function(){var e=new AbortController,t=e.signal;return It($t.mark((function e(){var n,r,a;return $t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jbrowse.org/plugin-store/plugins.json",{signal:t});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.text();case 7:throw r=e.sent,new Error("Failed to fetch plugin data: ".concat(n.status," ").concat(n.statusText," ").concat(r));case 9:return e.next=11,n.json();case 11:a=e.sent,t.aborted||l(a.plugins),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),s(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))(),function(){e.abort()}}),[]),a.a.createElement("div",{className:n.root},g&&a.a.createElement(a.a.Fragment,null,!p.isElectron&&a.a.createElement("div",{className:n.adminBadge},a.a.createElement(ue.a,{style:{marginRight:"0.3em"}}),a.a.createElement(x.a,null,"You are using the ",a.a.createElement("code",null,"admin-server"),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.")),a.a.createElement("div",{className:n.customPluginButton},a.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){return h(!0)}},"Add custom plugin")),a.a.createElement(kn,{open:f,onClose:function(){return h(!1)},model:t})),a.a.createElement(F.a,{label:"Filter plugins",value:t.filterText,onChange:function(e){return t.setFilterText(e.target.value)},fullWidth:!0,InputProps:{endAdornment:a.a.createElement(_.a,{position:"end"},a.a.createElement(O.a,{color:"secondary",onClick:function(){return t.clearFilterText()}},a.a.createElement(le.a,null)))}}),a.a.createElement(D.a,{defaultExpanded:!0},a.a.createElement(z.a,{expandIcon:a.a.createElement(oe.a,{className:n.expandIcon})},a.a.createElement(x.a,{variant:"h5"},"Installed plugins")),a.a.createElement("div",{style:{margin:"1em"}},a.a.createElement(bn,{pluginManager:v,model:t}))),a.a.createElement(D.a,{defaultExpanded:!0},a.a.createElement(z.a,{expandIcon:a.a.createElement(oe.a,{className:n.expandIcon})},a.a.createElement(x.a,{variant:"h5"},"Available plugins")),u?a.a.createElement(x.a,{color:"error"},"".concat(u)):i?i.filter((function(e){return!!(p.isElectron||e.esmUrl||e.url||e.umdUrl)&&e.name.toLowerCase().includes(t.filterText.toLowerCase())})).map((function(e){return a.a.createElement(Cn,{key:e.name,plugin:e,model:t,adminMode:!!g})})):a.a.createElement(x.a,null,"Loading...")))}var jn={__proto__:null,default:Object(b.observer)(Sn)};function Tn(e){return m.types.model("PluginStoreModel",{id:v.ElementId,type:m.types.literal("PluginStoreWidget"),filterText:"",view:m.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{clearFilterText:function(){e.filterText=""},setFilterText:function(t){e.filterText=t}}}))}var Pn=Object(f.ConfigurationSchema)("PluginStoreWidget",{}),Rn=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Ln}))})),Mn=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Wn}))})),In=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(e,"prototype",{value:Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),writable:!1}),t&&_t(e,t)}(l,e);var t,n,a,o=zt(l);function l(){var e;return Lt(this,l),(e=o.apply(this,arguments)).name="DataManagementPlugin",e.exports={AssemblyManager:Mn,SetDefaultSession:Rn},e}return t=l,(n=[{key:"install",value:function(e){e.addConnectionType((function(){return new i.a({name:"UCSCTrackHubConnection",configSchema:Ut,stateModel:en(e),displayName:"UCSC Track Hub",description:"A track or assembly hub in the Track Hub format",url:"//genome.ucsc.edu/goldenPath/help/hgTrackHubHelp.html#Intro"})})),e.addWidgetType((function(){return new c.a({name:"HierarchicalTrackSelectorWidget",heading:"Available tracks",configSchema:dn,stateModel:sn(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return rr}))}))})})),e.addWidgetType((function(){return new c.a({name:"AddTrackWidget",heading:"Add a track",configSchema:rn,stateModel:nn(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return br}))}))})})),e.addWidgetType((function(){return new c.a({name:"AddConnectionWidget",heading:"Add a connection",configSchema:on,stateModel:an,ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return kr}))}))})})),e.addWidgetType((function(){return new c.a({name:"PluginStoreWidget",heading:"Plugin store",configSchema:Pn,stateModel:Tn(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return jn}))}))})}))}},{key:"configure",value:function(e){}}])&&At(t.prototype,n),a&&At(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}(s.a);var Ln={__proto__:null,default:Object(b.observer)((function(e){var t,n=e.rootModel,r=e.onClose;if(!n)return null;if("object"!==Rt(t=n)||!t||!("jbrowse"in t))return console.error("Incorrect rootmodel"),null;var o=n.jbrowse,i=n.session;return a.a.createElement(C.a,{open:!0,onClose:r},a.a.createElement(E.a,null,"Set default session"),a.a.createElement(k.a,null,a.a.createElement(x.a,null,'Select "Set current session as default" to make your current session saved to the config file. You can also hit "Clear default session", which would remove the default session from the config.')),a.a.createElement(S.a,null,a.a.createElement(j.a,{variant:"contained",onClick:function(){o.setDefaultSessionConf({name:"New session"}),r()}},"Clear default session"),a.a.createElement(j.a,{color:"secondary",variant:"contained",onClick:function(){return r()}},"Cancel"),a.a.createElement(j.a,{color:"primary",variant:"contained",onClick:function(){o.setDefaultSessionConf(i),r()}},"Set current session as default")))}))},An=Object(y.a)((function(){return{table:{minWidth:500,minHeight:150},buttonCell:{padding:3},button:{display:"inline-block",padding:3,minHeight:0,minWidth:0}}})),Fn=Object(b.observer)((function(e){var t=e.rootModel,n=e.setIsAssemblyBeingEdited,r=e.setAssemblyBeingEdited,o=An();var i=t.jbrowse.assemblies.map((function(e){var i=Object(f.readConfObject)(e,"name"),l=Object(f.readConfObject)(e,"displayName"),c=Object(f.readConfObject)(e,"aliases");return a.a.createElement(B.a,{key:i},a.a.createElement(H.a,null,i),a.a.createElement(H.a,null,l),a.a.createElement(H.a,null,c?c.toString():""),a.a.createElement(H.a,{className:o.buttonCell},a.a.createElement(O.a,{"data-testid":"".concat(i,"-edit"),className:o.button,onClick:function(){n(!0),r(e)}},a.a.createElement(xe.a,{color:"primary"})),a.a.createElement(O.a,{"data-testid":"".concat(i,"-delete"),className:o.button,onClick:function(){!function(e){t.jbrowse.removeAssemblyConf(e)}(i)}},a.a.createElement(je.a,{color:"error"}))))}));return a.a.createElement(V.a,{component:W.a},a.a.createElement(G.a,{className:o.table},a.a.createElement(U.a,null,a.a.createElement(B.a,null,a.a.createElement(H.a,null,a.a.createElement(x.a,{variant:"h5"},"Name")),a.a.createElement(H.a,null,a.a.createElement(x.a,{variant:"h5"},"Display name")),a.a.createElement(H.a,null,a.a.createElement(x.a,{variant:"h5"},"Aliases")),a.a.createElement(H.a,null,a.a.createElement(x.a,{variant:"h5"},"Actions")))),a.a.createElement(q.a,null,i)))})),Nn=Object(y.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},createButton:{marginTop:"1em",justifyContent:"center"},paperContent:{flex:"auto",margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(1),overflow:"auto"}}})),_n=Object(b.observer)((function(e){var t=e.adapterSelection,n=e.setAdapterSelection,r=e.adapterTypes;return a.a.createElement(F.a,{value:t,label:"Type",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:function(e){n(e.target.value)}},r.map((function(e){return a.a.createElement($.a,{key:e,value:e},e)})))})),Dn=Object(b.observer)((function(e){var t=e.adapterSelection,n=e.fastaLocation,r=e.setFastaLocation,o=e.faiLocation,i=e.setFaiLocation,l=e.gziLocation,c=e.setGziLocation,u=e.twoBitLocation,s=e.setTwoBitLocation,d=e.chromSizesLocation,f=e.setChromSizesLocation;return"IndexedFastaAdapter"===t||"BgzipFastaAdapter"===t?a.a.createElement(K.a,{container:!0,spacing:2},a.a.createElement(K.a,{item:!0},a.a.createElement(Pe.a,{name:"fastaLocation",location:n,setLocation:function(e){return r(e)}})),a.a.createElement(K.a,{item:!0},a.a.createElement(Pe.a,{name:"faiLocation",location:o,setLocation:function(e){return i(e)}})),"BgzipFastaAdapter"===t?a.a.createElement(K.a,{item:!0},a.a.createElement(Pe.a,{name:"gziLocation",location:l,setLocation:function(e){return c(e)}})):null):"TwoBitAdapter"===t?a.a.createElement(K.a,{container:!0,spacing:2},a.a.createElement(K.a,{item:!0},a.a.createElement(Pe.a,{name:"twoBitLocation",location:u,setLocation:function(e){return s(e)}})),a.a.createElement(K.a,{item:!0},a.a.createElement(Pe.a,{name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:d,setLocation:function(e){return f(e)}}))):null})),zn={uri:""},Bn=Object(b.observer)((function(e){var t=e.rootModel,n=e.setFormOpen,o=Nn(),i=["IndexedFastaAdapter","BgzipFastaAdapter","TwoBitAdapter"],l=Bt(Object(r.useState)(""),2),c=l[0],u=l[1],s=Bt(Object(r.useState)(""),2),d=s[0],f=s[1],p=Bt(Object(r.useState)(i[0]),2),m=p[0],h=p[1],g=Bt(Object(r.useState)(zn),2),v=g[0],b=g[1],y=Bt(Object(r.useState)(zn),2),w=y[0],C=y[1],E=Bt(Object(r.useState)(zn),2),O=E[0],k=E[1],x=Bt(Object(r.useState)(zn),2),S=x[0],T=x[1],P=Bt(Object(r.useState)(zn),2),R=P[0],M=P[1];return a.a.createElement("div",{className:o.root},a.a.createElement(W.a,{className:o.paper},a.a.createElement(F.a,{id:"assembly-name",inputProps:{"data-testid":"assembly-name"},label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:c,onChange:function(e){return u(e.target.value)}}),a.a.createElement(F.a,{id:"assembly-name",inputProps:{"data-testid":"assembly-display-name"},label:"Assembly display name",helperText:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:d,onChange:function(e){return f(e.target.value)}}),a.a.createElement(_n,{adapterSelection:m,setAdapterSelection:h,adapterTypes:i}),a.a.createElement("div",{className:o.paperContent},a.a.createElement(Dn,{adapterSelection:m,fastaLocation:v,setFastaLocation:b,faiLocation:w,setFaiLocation:C,gziLocation:O,setGziLocation:k,twoBitLocation:S,setTwoBitLocation:T,chromSizesLocation:R,setChromSizesLocation:M}))),a.a.createElement(K.a,{container:!0,className:o.createButton},a.a.createElement(K.a,{item:!0},a.a.createElement(j.a,{variant:"contained",color:"secondary",startIcon:a.a.createElement(be.a,null),onClick:function(){var e;""===c?t.session.notify("Can't create an assembly without a name"):(n(!1),"IndexedFastaAdapter"===m?e={name:c,displayName:d,sequence:{adapter:{type:"IndexedFastaAdapter",fastaLocation:v,faiLocation:w}}}:"BgzipFastaAdapter"===m?e={name:c,displayName:d,sequence:{adapter:{type:"BgzipFastaAdapter",fastaLocation:v,faiLocation:w,gziLocation:O}}}:"TwoBitAdapter"===m&&(e={name:c,displayName:d,sequence:{adapter:{type:"TwoBitAdapter",twoBitLocation:S,chromSizesLocation:R}}}),t.jbrowse.addAssemblyConf(e),t.session.notify("Successfully added ".concat(c," assembly to JBrowse 2"),"success"))}},"Create new assembly"))))})),Hn=Object(b.observer)((function(e){var t=e.assembly;return a.a.createElement(Re.ConfigurationEditor,{model:{target:t}})})),Vn=Object(y.a)((function(e){return{titleBox:{color:"#fff",backgroundColor:e.palette.primary.main,textAlign:"center"},dialogContent:{width:"100%"},backButton:{color:"#fff",position:"absolute",left:e.spacing(4),top:e.spacing(4)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var Wn={__proto__:null,default:Object(b.observer)((function(e){var t=e.rootModel,n=e.onClose,o=Vn(),i=Bt(Object(r.useState)(!1),2),l=i[0],c=i[1],u=Bt(Object(r.useState)(!1),2),s=u[0],d=u[1],f=Bt(Object(r.useState)(),2),p=f[0],m=f[1],h=!l&&!s;return a.a.createElement(C.a,{open:!0,onClose:function(){return n(!1)}},a.a.createElement(E.a,{className:o.titleBox},h?"Assembly manager":null,l?a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{"aria-label":"back",className:o.backButton,onClick:function(){return c(!1)}},a.a.createElement(Oe.a,null)),"Add new assembly"):null,s?a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{"aria-label":"back",className:o.backButton,onClick:function(){return d(!1)}},a.a.createElement(Oe.a,null)),function(e){if(void 0!==e)return e.name;return null}(p)):null,a.a.createElement(O.a,{"aria-label":"close",className:o.closeButton,onClick:function(){return n(!1)}},a.a.createElement(de.a,null))),a.a.createElement(k.a,null,a.a.createElement("div",{className:o.dialogContent},h?a.a.createElement(Fn,{rootModel:t,setIsAssemblyBeingEdited:d,setAssemblyBeingEdited:m}):null,s?a.a.createElement(Hn,{assembly:p}):null,l?a.a.createElement(Bn,{rootModel:t,setFormOpen:c}):null)),a.a.createElement(S.a,null,h?a.a.createElement(a.a.Fragment,null,a.a.createElement(j.a,{color:"secondary",variant:"contained",onClick:function(){return n(!1)}},"Close"),a.a.createElement(j.a,{variant:"contained",color:"secondary",startIcon:a.a.createElement(be.a,null),onClick:function(){return c(!0)}},"Add new assembly")):null))}))},Gn=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Sr}))})),Un=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Tr}))})),qn=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Mr}))})),$n=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Ar}))})),Kn=Object(y.a)((function(e){var t,n;return{searchBox:{marginBottom:e.spacing(2)},menuIcon:{marginRight:e.spacing(1),marginBottom:0},fab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(6)},compactCheckbox:{padding:0},checkboxLabel:{marginRight:0,"&:hover":{backgroundColor:"#eee"}},accordionBase:{display:"flex"},accordionCard:{padding:3,cursor:"pointer",display:"flex"},nestingLevelMarker:{position:"absolute",borderLeft:"1.5px solid #555"},accordionColor:{background:null===(t=e.palette.tertiary)||void 0===t?void 0:t.main,color:null===(n=e.palette.tertiary)||void 0===n?void 0:n.contrastText,width:"100%",display:"flex",paddingLeft:5},accordionText:{margin:"auto 0"}}})),Jn=function(e){var t=e.data,n=e.isOpen,r=e.style,o=e.setOpen,i=t.isLeaf,l=t.nestingLevel,c=t.checked,u=t.id,s=t.name,d=t.onChange,p=t.toggleCollapse,m=t.conf,h=t.onMoreInfo,g=t.drawerPosition,v=Kn(),b=10*l+(i?10:0),y=s&&(s.endsWith("(Unsupported)")||s.endsWith("(Unknown)")),C=m&&Object(f.readConfObject)(m,["description"])||"";return a.a.createElement("div",{style:r,className:i?void 0:v.accordionBase},new Array(l).fill(0).map((function(e,t){return a.a.createElement("div",{key:"mark-".concat(t),style:{left:10*t+4,height:r.height},className:v.nestingLevelMarker})})),a.a.createElement("div",{className:i?void 0:v.accordionCard,onClick:function(){p(u),o(!n)},style:{marginLeft:b,whiteSpace:"nowrap",width:"100%"}},a.a.createElement("div",{className:i?void 0:v.accordionColor},i?a.a.createElement(a.a.Fragment,null,a.a.createElement(w.a,{title:C,placement:"left"===g?"right":"left"},a.a.createElement(J.a,{className:v.checkboxLabel,control:a.a.createElement(X.a,{className:v.compactCheckbox,checked:c,onChange:function(){return d(u)},color:"primary",disabled:y,inputProps:{"data-testid":"htsTrackEntry-".concat(u)}}),label:s})),a.a.createElement(O.a,{onClick:function(e){return h({target:e.currentTarget,id:u,conf:m})},color:"secondary","data-testid":"htsTrackEntryMenu-".concat(u)},a.a.createElement(De.a,null))):a.a.createElement("div",{className:v.accordionText},a.a.createElement(x.a,null,n?a.a.createElement(Ie.a,null):a.a.createElement(Ae.a,null),s)))))},Xn=function(e,t,n){var r=!!e.conf;return{data:Pt(Pt({defaultHeight:r?22:40,isLeaf:r,isOpenByDefault:!0,nestingLevel:t},e),n),nestingLevel:t,node:e}},Yn=Object(b.observer)((function(e){var t,n=e.height,o=e.tree,i=e.model,l=i.filterText,c=i.view,u=Object(r.useRef)(null),s=Bt(Object(r.useState)(),2),d=s[0],f=s[1],m=Object(p.getSession)(i),h=m.drawerPosition,g=Object(r.useMemo)((function(){return{onChange:function(e){return c.toggleTrack(e)},toggleCollapse:function(e){return i.toggleCategory(e)},onMoreInfo:f,drawerPosition:h}}),[c,i,h]),v=Object(r.useCallback)($t.mark((function e(){var t,n,r,a;return $t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<o.children.length)){e.next=7;break}return e.next=4,Xn(o.children[t],0,g);case 4:t++,e.next=1;break;case 7:return void(e.next=10);case 10:n=e.sent,r=0;case 12:if(!(r<n.node.children.length)){e.next=19;break}return a=n.node.children[r],e.next=16,Xn(a,n.nestingLevel+1,g);case 16:r++,e.next=12;break;case 19:e.next=7;break;case 21:case"end":return e.stop()}}),e)})),[o,g]),b=null==d?void 0:d.conf,y=b&&(null===(t=m.getTrackActionMenuItems)||void 0===t?void 0:t.call(m,b))||[];return Object(r.useEffect)((function(){u.current.recomputeTree({refreshNodes:!0,useDefaultHeight:!0})}),[o,l]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Ot,{ref:u,treeWalker:v,height:n},Jn),a.a.createElement(We.a,{anchorEl:null==d?void 0:d.target,menuItems:y,onMenuItemClick:function(e,t){t(),f(void 0)},open:Boolean(d),onClose:function(){return f(void 0)}}))})),Zn=function(e){var t=e.tree,n=e.model,r=e.offset;return"undefined"==typeof jest?a.a.createElement(He.a,{disableWidth:!0},(function(e){var o=e.height;return a.a.createElement(Yn,{height:o-r,model:n,tree:t})})):a.a.createElement(Yn,{height:9e3,model:n,tree:t})},Qn=function(e){var t=e.overrideDimensions,n=e.children;return t?a.a.createElement("div",{style:Pt({},t)},n):a.a.createElement(a.a.Fragment,null,n)},er=Object(b.observer)((function(e){var t=e.model,n=e.toolbarHeight,o=e.overrideDimensions,i=Kn(),l=Object(p.getSession)(t),c=Bt(Object(r.useState)(null),2),u=c[0],s=c[1];function d(){s(null)}return a.a.createElement(Qn,{overrideDimensions:o},a.a.createElement(nr,{model:t,toolbarHeight:n,overrideDimensions:o}),a.a.createElement(Y.a,{color:"secondary",className:i.fab,onClick:function(e){s(e.currentTarget)}},a.a.createElement(be.a,null)),a.a.createElement(Z.a,{anchorEl:u,open:Boolean(u),onClose:function(){return s(null)}},a.a.createElement($.a,{onClick:function(){d();var e=l.addWidget("AddConnectionWidget","addConnectionWidget");l.showWidget(e)}},"Add connection"),a.a.createElement($.a,{onClick:function(){d();var e=l.addWidget("AddTrackWidget","addTrackWidget",{view:t.view.id});l.showWidget(e)}},"Add track")))})),tr=Object(b.observer)((function(e){var t=e.model,n=e.setHeaderHeight,o=e.setAssemblyIdx,i=e.assemblyIdx,l=Kn(),c=Object(p.getSession)(t),u=Bt(Object(r.useState)(),2),s=u[0],d=u[1],m=Bt(Object(r.useState)(),2),h=m[0],g=m[1],v=Bt(Object(r.useState)(),2),b=v[0],y=v[1],w=Bt(Object(r.useState)(),2),C=w[0],E=w[1],k=Bt(Object(r.useState)(!1),2),x=k[0],S=k[1],j=Bt(Object(r.useState)(!1),2),T=j[0],P=j[1],R=t.assemblyNames,M=R[i];function I(e,t){var n=Object(f.readConfObject)(e,"name"),r=c.prepareToBreakConnection(e);if(r){var a=Bt(r,2),o=a[0],i=a[1];Object.keys(i).length>0?y({connectionConf:e,safelyBreakConnection:o,dereferenceTypeCount:i,name:n}):o()}t&&E({name:n,connectionConf:e})}var L=[{label:"Turn on/off connections...",onClick:function(){return P(!0)}},{label:"Delete connections...",onClick:function(){return S(!0)}}],A=R.length>1?[{label:"Select assembly...",subMenu:R.map((function(e,t){return{label:e,onClick:function(){o(t)}}}))}]:[],N=[{label:"Add track...",onClick:function(){c.showWidget(c.addWidget("AddTrackWidget","addTrackWidget",{view:t.view.id}))}}].concat(A);return a.a.createElement("div",{ref:function(e){return n((null==e?void 0:e.getBoundingClientRect().height)||0)},"data-testid":"hierarchical_track_selector"},a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(O.a,{className:l.menuIcon,onClick:function(e){g(e.currentTarget)}},a.a.createElement(Ne.a,null)),a.a.createElement(O.a,{className:l.menuIcon,onClick:function(e){d(e.currentTarget)}},a.a.createElement(Be.a,null)),a.a.createElement(F.a,{className:l.searchBox,label:"Filter tracks",value:t.filterText,onChange:function(e){return t.setFilterText(e.target.value)},fullWidth:!0,InputProps:{endAdornment:a.a.createElement(_.a,{position:"end"},a.a.createElement(O.a,{color:"secondary",onClick:t.clearFilterText},a.a.createElement(le.a,null)))}})),a.a.createElement(We.a,{anchorEl:s,open:Boolean(s),onMenuItemClick:function(e,t){t(),d(void 0)},onClose:function(){d(void 0)},menuItems:[{label:"Add connection",onClick:function(){c.showWidget(c.addWidget("AddConnectionWidget","addConnectionWidget"))}}].concat(L)}),a.a.createElement(We.a,{anchorEl:h,open:Boolean(h),onMenuItemClick:function(e,t){t(),g(void 0)},onClose:function(){g(void 0)},menuItems:N}),a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},b?a.a.createElement(Gn,{modalInfo:b,setModalInfo:y,session:c}):C?a.a.createElement(Un,{handleClose:function(){E(void 0)},deleteDialogDetails:C,session:c}):null,x?a.a.createElement(qn,{handleClose:function(){return S(!1)},breakConnection:I,session:c}):null,T?a.a.createElement($n,{handleClose:function(){return P(!1)},session:c,breakConnection:I,assemblyName:M}):null))})),nr=Object(b.observer)((function(e){var t=e.model,n=e.toolbarHeight,o=void 0===n?0:n,i=Bt(Object(r.useState)(0),2),l=i[0],c=i[1],u=Bt(Object(r.useState)(0),2),s=u[0],d=u[1],f=t.assemblyNames[l];return f?a.a.createElement(a.a.Fragment,null,a.a.createElement(tr,{model:t,setHeaderHeight:d,setAssemblyIdx:c,assemblyIdx:l}),a.a.createElement(Zn,{tree:t.hierarchy(f),model:t,offset:o+s})):null})),rr={__proto__:null,default:er},ar=Object(y.a)((function(e){return{spacing:{marginBottom:e.spacing(3)}}}));function or(e){var t,n=e.trackAdapter,r=e.trackType,o=ar();return"SNPCoverageAdapter"===n.type?a.a.createElement(x.a,{className:o.spacing},"Selected ",a.a.createElement("code",null,r),". Using adapter"," ",a.a.createElement("code",null,n.type)," with subadapter"," ",a.a.createElement("code",null,null===(t=n.subadapter)||void 0===t?void 0:t.type),". Please enter a track name and, if necessary, update the track type."):a.a.createElement(x.a,{className:o.spacing},"Using adapter ",a.a.createElement("code",null,n.type)," and guessing track type"," ",a.a.createElement("code",null,r),". Please enter a track name and, if necessary, update the track type.")}var ir=Object(b.observer)((function(e){var t,n,r,o=e.model,i=ar(),l=Object(p.getSession)(o),c=o.trackAdapter,u=Object(m.getEnv)(l).pluginManager.getElementTypesInGroup("adapter");return a.a.createElement(F.a,{className:i.spacing,value:"UNKNOWN"!==(null==c?void 0:c.type)?null==c?void 0:c.type:"",label:"adapterType",helperText:"Select an adapter type",select:!0,fullWidth:!0,onChange:function(e){return o.setAdapterHint(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"adapterTypeSelect"}}},u.filter((function(e){var t,n;return!(null!==(t=e.adapterMetadata)&&void 0!==t&&t.hiddenFromGUI||null!==(n=e.adapterMetadata)&&void 0!==n&&n.category)})).map((function(e){var t,n;return a.a.createElement($.a,{key:e.name,value:e.name},null!==(t=e.adapterMetadata)&&void 0!==t&&t.displayName?null===(n=e.adapterMetadata)||void 0===n?void 0:n.displayName:e.name)})),(t=u.filter((function(e){var t;return!(null!==(t=e.adapterMetadata)&&void 0!==t&&t.hiddenFromGUI)})),n="",r=[],t.forEach((function(e){var t,o,i,l,c,u,s,d;null!==(t=e.adapterMetadata)&&void 0!==t&&t.category&&(n!==(null===(o=e.adapterMetadata)||void 0===o?void 0:o.category)&&(n=null===(c=e.adapterMetadata)||void 0===c?void 0:c.category,r.push(a.a.createElement(Q.a,{key:null===(u=e.adapterMetadata)||void 0===u?void 0:u.category,value:null===(s=e.adapterMetadata)||void 0===s?void 0:s.category},null===(d=e.adapterMetadata)||void 0===d?void 0:d.category))),r.push(a.a.createElement($.a,{key:e.name,value:e.name},null!==(i=e.adapterMetadata)&&void 0!==i&&i.displayName?null===(l=e.adapterMetadata)||void 0===l?void 0:l.displayName:e.name)))})),r))}));function lr(e){var t=e.model,n=ar();return a.a.createElement(a.a.Fragment,null,a.a.createElement(x.a,{className:n.spacing},"JBrowse was not able to guess the adapter type for this data, but it may be in the list below. If not, you can"," ",a.a.createElement(I.a,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse to see if they support this data type or"," ",a.a.createElement(I.a,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."),a.a.createElement(ir,{model:t}))}var cr=Object(b.observer)((function(e){var t=e.model,n=ar(),r=Object(p.getSession)(t),o=t.trackType,i=Object(m.getEnv)(r).pluginManager.getElementTypesInGroup("track");return a.a.createElement(F.a,{className:n.spacing,value:o,label:"trackType",helperText:"Select a track type",select:!0,fullWidth:!0,onChange:function(e){t.setTrackType(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"trackTypeSelect"}}},i.map((function(e){var t=e.name;return a.a.createElement($.a,{key:t,value:t},t)})))})),ur=Object(b.observer)((function(e){var t=e.model,n=Object(p.getSession)(t),r=t.assembly;return a.a.createElement(F.a,{value:r,label:"assemblyName",helperText:"Assembly to which the track will be added",select:!0,fullWidth:!0,onChange:function(e){return t.setAssembly(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"assemblyNameSelect"}}},n.assemblies.map((function(e){return Object(f.readConfObject)(e,"name")})).map((function(e){return a.a.createElement($.a,{key:e,value:e},e)})))}));function sr(e){var t=e.model,n=ar(),r=t.trackName,o=t.trackAdapter,i=t.trackType,l=t.warningMessage,c=t.adapterHint;return t.unsupported?a.a.createElement(x.a,{className:n.spacing},"This version of JBrowse cannot display data of this type. It is possible, however, that there is a newer version that can display them. You can"," ",a.a.createElement(I.a,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse or"," ",a.a.createElement(I.a,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."):(null==o?void 0:o.type)===g.UNKNOWN?a.a.createElement(lr,{model:t}):(""===c&&o&&t.setAdapterHint(o.type),null!=o&&o.type?a.a.createElement("div",null,o?a.a.createElement(or,{trackAdapter:o,trackType:i}):null,l?a.a.createElement(x.a,{style:{color:"orange"}},l):null,a.a.createElement(F.a,{className:n.spacing,label:"trackName",helperText:"A name for this track",fullWidth:!0,value:r,onChange:function(e){return t.setTrackName(e.target.value)},inputProps:{"data-testid":"trackNameInput"}}),a.a.createElement(ir,{model:t}),a.a.createElement(cr,{model:t}),a.a.createElement(ur,{model:t})):a.a.createElement(x.a,null,"Could not recognize this data type."))}var dr=Object(b.observer)(sr),fr=Object(y.a)((function(e){return{paper:{display:"flex",flexDirection:"column",padding:e.spacing(1)},spacer:{height:e.spacing(8)}}}));function pr(e){var t=e.model,n=fr(),r=Object(m.getRoot)(t);return a.a.createElement(W.a,{className:n.paper},a.a.createElement(xt.FileSelector,{name:"Main file",description:"",location:t.trackData,setLocation:t.setTrackData,setName:t.setTrackName,rootModel:r}),a.a.createElement("div",{className:n.spacer}),a.a.createElement(xt.FileSelector,{name:"Index file",description:"(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.",location:t.indexTrackData,setLocation:t.setIndexTrackData,setName:t.setTrackName,rootModel:r}))}var mr=Object(b.observer)(pr),hr=Object(y.a)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},stepContent:{margin:e.spacing(1)},alertContainer:{padding:"".concat(e.spacing(2),"px 0px ").concat(e.spacing(2),"px 0px")}}})),gr=["Enter track data","Confirm track type"];function vr(e){var t=e.model,n=Bt(Object(r.useState)(0),2),o=n[0],i=n[1],l=hr(),c=Object(p.getSession)(t),u=t.assembly,s=t.trackAdapter,d=t.trackData,m=t.trackName,h=t.trackType,g=Bt(Object(r.useState)(),2),v=g[0],b=g[1];function y(){return w.apply(this,arguments)}function w(){return(w=It($t.mark((function e(){var n,r;return $t.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o===gr.length-1){e.next=3;break}return i(o+1),e.abrupt("return");case 3:n="".concat(m.toLowerCase().replace(/ /g,"_"),"-").concat(Date.now()).concat(c.adminMode?"":"-sessionTrack"),r=c.assemblyManager.get(u),s&&"UNKNOWN"!==s.type?(c.addTrackConf({trackId:n,type:h,name:m,assemblyNames:[u],adapter:Pt(Pt({},s),{},{sequenceAdapter:Object(f.getConf)(r,["sequence","adapter"])})}),t.view?t.view.showTrack(n):c.notify("Open a new view, or use the track selector in an existing view, to view this track","info"),t.clearData(),c.hideWidget(t)):b("Failed to add track.\nThe configuration of this file is not currently supported.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){b(void 0),i(o-1)}function E(){switch(o){case 0:return!d;case 1:return!(m&&h&&null!=s&&s.type&&u);default:return!0}}return a.a.createElement("div",{className:l.root},a.a.createElement(ee.a,{className:l.stepper,activeStep:o,orientation:"vertical"},gr.map((function(e,n){return a.a.createElement(te.a,{key:e},a.a.createElement(ne.a,null,e),a.a.createElement(re.a,null,function(e){switch(e){case 0:return a.a.createElement(mr,{model:t});case 1:return a.a.createElement(dr,{model:t});default:return a.a.createElement(x.a,null,"Unknown step")}}(n),a.a.createElement("div",{className:l.actionsContainer},a.a.createElement(j.a,{disabled:0===o,onClick:C,className:l.button},"Back"),a.a.createElement(j.a,{disabled:E(),variant:"contained",color:"primary",onClick:y,className:l.button,"data-testid":"addTrackNextButton"},o===gr.length-1?"Add":"Next")),v?a.a.createElement("div",{className:l.alertContainer},a.a.createElement(kt.a,{severity:"error"},v)):null))}))))}var br={__proto__:null,default:Object(b.observer)(vr)},yr=Object(b.observer)((function(e){var t=e.connectionType,n=e.model,o=e.setModelReady,i=t.configEditorComponent||Re.ConfigurationEditor;return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(i,{model:{target:n},setModelReady:o}))}));function wr(e){var t=e.connectionTypeChoices,n=e.connectionType,o=e.setConnectionType;return Object(r.useEffect)((function(){n.name||o(t[0])})),n.name?a.a.createElement("form",{autoComplete:"off"},a.a.createElement(F.a,{value:n.name,label:"connectionType",helperText:n.description?a.a.createElement(a.a.Fragment,null,n.description,n.url?a.a.createElement(O.a,{href:n.url,rel:"noopener noreferrer",target:"_blank",color:"secondary"},a.a.createElement(jt.a,null)):null):null,select:!0,fullWidth:!0,onChange:function(e){o(t.find((function(t){return t.name===e.target.value})))},variant:"outlined"},t.map((function(e){return a.a.createElement($.a,{key:e.name,value:e.name},e.displayName||e.name)})))):null}var Cr=Object(y.a)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)}}})),Er=["Select a Connection Type","Configure Connection"];function Or(e){var t=e.model,n=Bt(Object(r.useState)({}),2),o=n[0],i=n[1],l=Bt(Object(r.useState)({}),2),c=l[0],u=l[1],s=Bt(Object(r.useState)(!0),2),d=s[0],f=s[1],h=Bt(Object(r.useState)(0),2),g=h[0],v=h[1],b=Cr(),y=Object(p.getSession)(t),w=Object(m.getEnv)(y).pluginManager;function C(e){i(e),u(e.configSchema.create({connectionId:"".concat(e.name,"-").concat(Date.now())},Object(m.getEnv)(t)))}function E(){var e;g===Er.length-1?(e=y.addConnectionConf(c),y.makeConnection(e),y.hideWidget(t)):v(g+1)}function O(){v(g-1)}return a.a.createElement("div",{className:b.root},a.a.createElement(ee.a,{className:b.stepper,activeStep:g,orientation:"vertical"},Er.map((function(e){return a.a.createElement(te.a,{key:e},a.a.createElement(ne.a,null,e),a.a.createElement(re.a,null,function(){switch(g){case 0:return a.a.createElement(wr,{connectionTypeChoices:w.getElementTypesInGroup("connection"),connectionType:o,setConnectionType:C});case 1:return a.a.createElement(yr,{connectionType:o,model:c,setModelReady:f});default:return a.a.createElement(x.a,null,"Unknown step")}}(),a.a.createElement("div",{className:b.actionsContainer},a.a.createElement(j.a,{disabled:0===g,onClick:O,className:b.button},"Back"),a.a.createElement(j.a,{disabled:!(0===g&&o.name||1===g&&c&&d),variant:"contained",color:"primary",onClick:E,className:b.button,"data-testid":"addConnectionNext"},g===Er.length-1?"Connect":"Next"))))}))))}Or.propTypes={model:b.PropTypes.observableObject.isRequired};var kr={__proto__:null,default:Object(b.observer)(Or)};function xr(e){var t=e.modalInfo,n=void 0===t?{}:t,r=e.setModalInfo,o=n.name,i=n.dereferenceTypeCount,l=n.safelyBreakConnection;return a.a.createElement(C.a,{open:!0},a.a.createElement(E.a,null,'Close connection "',o,'"'),a.a.createElement(k.a,null,i?a.a.createElement(a.a.Fragment,null,a.a.createElement(A.a,null,"Closing this connection will close:"),a.a.createElement(P.a,null,Object.entries(i).map((function(e){var t=Bt(e,2),n=t[0],r=t[1];return a.a.createElement(T.a,{key:n},"".concat(r," ").concat(n))})))):null,a.a.createElement(A.a,null,"Are you sure you want to close this connection?")),a.a.createElement(S.a,null,a.a.createElement(j.a,{onClick:function(){r()},color:"primary"},"Cancel"),a.a.createElement(j.a,{variant:"contained",onClick:n?function(){l&&l(),r()}:function(){},color:"primary"},"OK")))}var Sr={__proto__:null,default:Object(b.observer)(xr)};function jr(e){var t=e.deleteDialogDetails,n=e.session,r=e.handleClose,o=t.connectionConf,i=t.name;return a.a.createElement(C.a,{open:!0},a.a.createElement(E.a,null,'Delete connection "',i,'"'),a.a.createElement(k.a,null,a.a.createElement(A.a,null,"Are you sure you want to delete this connection?")),a.a.createElement(S.a,null,a.a.createElement(j.a,{onClick:function(){return r()},color:"primary"},"Cancel"),a.a.createElement(j.a,{variant:"contained",color:"primary",onClick:function(){var e;o&&(null===(e=n.deleteConnection)||void 0===e||e.call(n,o));r()}},"OK")))}var Tr={__proto__:null,default:Object(b.observer)(jr)},Pr=Object(y.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},connectionContainer:{margin:e.spacing(4),width:500}}}));function Rr(e){var t=e.session,n=e.handleClose,r=e.breakConnection,o=Pr(),i=t.adminMode,l=t.connections,c=t.sessionConnections;return a.a.createElement(C.a,{open:!0,onClose:n,maxWidth:"lg"},a.a.createElement(E.a,null,"Delete connections",a.a.createElement(O.a,{className:o.closeButton,onClick:function(){return n()}},a.a.createElement(de.a,null))),a.a.createElement(k.a,null,a.a.createElement(x.a,null,"Click the X icon to delete the connection from your config completely"),a.a.createElement("div",{className:o.connectionContainer},l.map((function(e){var t=Object(f.readConfObject)(e,"name");return a.a.createElement("div",{key:"conn-".concat(t)},a.a.createElement(x.a,null,i||null!=c&&c.includes(e)?a.a.createElement(O.a,{onClick:function(){return r(e,!0)}},a.a.createElement(de.a,{color:"error"})):a.a.createElement(w.a,{title:"Unable to delete connection in config file as non-admin user"},a.a.createElement(O.a,null,a.a.createElement(de.a,{color:"disabled"}))),t))})),l.length?null:a.a.createElement(x.a,null,"No connections found"))),a.a.createElement(S.a,null,a.a.createElement(j.a,{onClick:function(){return n()},variant:"contained",color:"primary"},"Close")))}var Mr={__proto__:null,default:Object(b.observer)(Rr)},Ir=Object(y.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},connectionContainer:{width:500,margin:e.spacing(4)}}}));function Lr(e){var t=e.session,n=e.handleClose,r=e.assemblyName,o=e.breakConnection,i=Ir(),l=t.connections,c=t.connectionInstances,u=l.filter((function(e){var t=Object(f.readConfObject)(e,"assemblyNames");return 0===t.length||t.includes(r)}));return a.a.createElement(C.a,{open:!0,onClose:n,maxWidth:"lg"},a.a.createElement(E.a,null,"Turn on/off connections",a.a.createElement(O.a,{className:i.closeButton,onClick:function(){return n()}},a.a.createElement(de.a,null))),a.a.createElement(k.a,null,a.a.createElement(x.a,null,"Use the checkbox to turn on/off connections"),a.a.createElement("div",{className:i.connectionContainer},u.map((function(e){var n=Object(f.readConfObject)(e,"name");return a.a.createElement("div",{key:e.connectionId},a.a.createElement(J.a,{control:a.a.createElement(X.a,{checked:!(null==c||!c.find((function(e){return n===e.name}))),onChange:function(){var n;null!=c&&c.find((function(t){return t.name===Object(f.readConfObject)(e,"name")}))?o(e):null===(n=t.makeConnection)||void 0===n||n.call(t,e)},color:"primary"}),label:n}))})),u.length?null:a.a.createElement(x.a,null,"No connections found for ",r))),a.a.createElement(S.a,null,a.a.createElement(j.a,{onClick:function(){return n()},variant:"contained",color:"primary"},"Close")))}var Ar={__proto__:null,default:Object(b.observer)(Lr)};t.default=In},1820:function(e,t,n){"use strict";function r(e,t){return()=>null}n.d(t,"a",(function(){return r}))},192:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultValue=function(e){if(!(0,r.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue},t.getEnumerationValues=function(e){return o(e).map((function(e){return e.value}))},t.getPropertyType=function(e,t){return e.properties[t]},t.getSubType=a,t.getUnionSubTypes=o,t.resolveLateType=function(e){if(!(0,r.isUnionType)(e)&&!(0,r.isArrayType)(e)&&(0,r.isLateType)(e))return e.getSubType();return e};var r=n(20);function a(e){var t;if((0,r.isOptionalType)(e))t=e._subtype||e.type;else{if(!(0,r.isArrayType)(e)&&!(0,r.isMapType)(e)){if("function"==typeof e.getSubType)return e.getSubType();throw new TypeError("unsupported mst type")}t=e._subtype||e._subType||e.subType}if(!t)throw new Error("failed to get subtype");return t}function o(e){if(!(0,r.isUnionType)(e))throw new TypeError("not an MST union type");var t=e._types||e.types||a(e)._types||a(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}},193:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(27)),l=r(n(28)),c=r(n(130)),u=n(192),s=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,a.default)(this,n),(r=t.call(this,e)).stateModel=void 0,r.configSchema=void 0,r.displayTypes=[],r.stateModel=e.stateModel,r.configSchema=e.configSchema,!r.stateModel)throw new Error("no stateModel defined for track ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema provided for track ".concat(r.name));if(!(0,u.getDefaultValue)(r.configSchema).type){var o=r.configSchema?r.configSchema.name:"UNKNOWN";throw new Error("".concat(o," is not explicitlyTyped"))}return r}return(0,o.default)(n,[{key:"addDisplayType",value:function(e){this.displayTypes.push(e)}}]),n}(c.default);t.default=s},194:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(27)),l=r(n(28)),c=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,o.default)(this,n),(r=t.call(this,e)).heading=void 0,r.configSchema=void 0,r.HeadingComponent=void 0,r.ReactComponent=void 0,r.stateModel=void 0,r.heading=e.heading,r.HeadingComponent=e.HeadingComponent,r.configSchema=e.configSchema,r.stateModel=e.stateModel,r.ReactComponent=e.ReactComponent,!r.ReactComponent)throw new Error("no ReactComponent defined for widget ".concat(r.name));if(!r.stateModel)throw new Error("no stateModel defined for widget ".concat(r.name));return r}return(0,a.default)(n)}(r(n(130)).default);t.default=c},195:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseFeatureDataAdapter=t.BaseAdapter=void 0,t.isFeatureAdapter=function(e){return"getFeatures"in e},t.isRefNameAliasAdapter=function(e){return"getRefNameAliases"in e},t.isRegionsAdapter=function(e){return"getRegions"in e},t.isSequenceAdapter=function(e){return"getRegions"in e&&"getFeatures"in e},t.isTextSearchAdapter=function(e){return"searchIndex"in e};var a=r(n(22)),o=r(n(34)),i=r(n(24)),l=r(n(27)),c=r(n(28)),u=r(n(15)),s=r(n(16)),d=n(165),f=n(54),p=n(20),m=n(230),h=n(39),g=n(412),v=n(998),b=r(n(999)),y=(0,u.default)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,g.ConfigurationSchema)("empty",{}).create(),n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if((0,s.default)(this,e),this.config=t,this.getSubAdapter=n,this.pluginManager=r,this.id=void 0,"undefined"==typeof jest){var a=(0,p.isStateTreeNode)(t)?(0,p.getSnapshot)(t):t;this.id="".concat((0,b.default)(a))}else this.id="test"}));t.BaseAdapter=y,y.capabilities=[];var w=function(e){(0,l.default)(y,e);var t,n,r,p,g,b=(0,c.default)(y);function y(){return(0,s.default)(this,y),b.apply(this,arguments)}return(0,u.default)(y,[{key:"getHeader",value:(g=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return g.apply(this,arguments)})},{key:"getMetadata",value:(p=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})},{key:"getFeaturesInRegion",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,m.ObservableCreate)(function(){var r=(0,i.default)(a.default.mark((function r(o){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.hasDataForRefName(e.refName,n);case 2:i=r.sent,(0,h.checkAbortSignal)(n.signal),i?t.getFeatures(e,n).pipe((0,f.takeUntil)((0,h.observeAbortSignal)(n.signal))).subscribe(o):o.complete();case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=d.merge.apply(void 0,(0,o.default)(e.map((function(e){return(0,m.ObservableCreate)(function(){var r=(0,i.default)(a.default.mark((function r(o){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.hasDataForRefName(e.refName,n);case 2:i=r.sent,(0,h.checkAbortSignal)(n.signal),i?t.getFeatures(e,n).subscribe(o):o.complete();case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}))));return n.signal?r.pipe((0,f.takeUntil)((0,h.observeAbortSignal)(n.signal))):r}},{key:"hasDataForRefName",value:(r=(0,i.default)(a.default.mark((function e(t){var n,r,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.getRefNames(n);case 3:return r=e.sent,e.abrupt("return",r.includes(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getRegionStats",value:(n=(0,i.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getFeatures(t,n),e.abrupt("return",(0,v.scoresToStats)(t,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getMultiRegionStats",value:(t=(0,i.default)(a.default.mark((function e(){var t,n,r,o,i,l,c,u,s,d=this,f=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:[],n=f.length>1?f[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",(0,v.blankStats)());case 4:return e.next=6,Promise.all(t.map((function(e){return d.getRegionStats(e,n)})));case 6:return r=e.sent,o=r.map((function(e){return e.scoreMax})).reduce((function(e,t){return Math.max(e,t)})),i=r.map((function(e){return e.scoreMin})).reduce((function(e,t){return Math.min(e,t)})),l=r.map((function(e){return e.scoreSum})).reduce((function(e,t){return e+t}),0),c=r.map((function(e){return e.scoreSumSquares})).reduce((function(e,t){return e+t}),0),u=r.map((function(e){return e.featureCount})).reduce((function(e,t){return e+t}),0),s=r.map((function(e){return e.basesCovered})).reduce((function(e,t){return e+t}),0),e.abrupt("return",(0,v.rectifyStats)({scoreMin:i,scoreMax:o,featureCount:u,basesCovered:s,scoreSumSquares:c,scoreSum:l}));case 14:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),y}(y);t.BaseFeatureDataAdapter=w},229:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(27)),l=r(n(28)),c=r(n(130)),u=n(192),s=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,o.default)(this,n),(r=t.call(this,e)).stateModel=void 0,r.configSchema=void 0,r.ReactComponent=void 0,r.trackType=void 0,r.viewType=void 0,r.stateModel=e.stateModel,r.configSchema=e.configSchema,r.ReactComponent=e.ReactComponent,r.trackType=e.trackType,r.viewType=e.viewType,!r.stateModel)throw new Error("no stateModel defined for display ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema provided for display ".concat(r.name));if(!r.ReactComponent)throw new Error("no ReactComponent provided for display ".concat(r.name));if(!r.trackType)throw new Error("no trackType provided for display ".concat(r.name));if(!r.viewType)throw new Error("no viewType provided for display ".concat(r.name));if(!(0,u.getDefaultValue)(r.configSchema).type){var a=r.configSchema?r.configSchema.name:"UNKNOWN";throw new Error("".concat(a," is not explicitlyTyped"))}return r}return(0,a.default)(n)}(c.default);t.default=s},230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableCreate=function(e,t){return r.Observable.create((function(t){try{var n=e(t);n&&n.catch&&n.catch((function(e){return t.error(e)}))}catch(e){t.error(e)}})).pipe((0,a.takeUntil)((0,o.observeAbortSignal)(t)))};var r=n(165),a=n(54),o=n(39)},231:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NewFeatureRendererType=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(26)),l=r(n(16)),c=r(n(15)),u=r(n(105)),s=r(n(77)),d=r(n(27)),f=r(n(28)),p=n(54),m=n(39),h=r(n(129)),g=n(419),v=r(n(311)),b=function(e){(0,d.default)(v,e);var t,n,r=(0,f.default)(v);function v(){return(0,l.default)(this,v),r.apply(this,arguments)}return(0,c.default)(v,[{key:"serializeArgsInClient",value:function(e){var t=e.displayModel,n=e.regions,r=(0,i.default)((0,i.default)({},e),{},{displayModel:t&&{id:t.id,selectedFeatureId:t.selectedFeatureId},regions:JSON.parse(JSON.stringify(n))});return(0,u.default)((0,s.default)(v.prototype),"serializeArgsInClient",this).call(this,r)}},{key:"deserializeResultsInClient",value:function(e,t){var n=new Map;e.features.forEach((function(e){var t=h.default.fromJSON(e);n.set(String(t.id()),t)}));var r=(0,u.default)((0,s.default)(v.prototype),"deserializeResultsInClient",this).call(this,(0,i.default)((0,i.default)({},e),{},{features:n}),t);return(0,i.default)((0,i.default)({},r),{},{blockKey:t.blockKey,features:n})}},{key:"serializeResultsInWorker",value:function(e,t){var n=(0,u.default)((0,s.default)(v.prototype),"serializeResultsInWorker",this).call(this,e,t);return(0,i.default)((0,i.default)({},n),{},{features:(0,m.iterMap)(e.features.values(),(function(e){return e.toJSON()}))})}},{key:"getExpandedRegion",value:function(e,t){return e}},{key:"getFeatures",value:(n=(0,o.default)(a.default.mark((function e(t){var n,r,o,l,c,u,s,d,f,h,v=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.regions,o=t.sessionId,l=t.adapterConfig,e.next=3,(0,g.getAdapter)(this.pluginManager,o,l);case 3:if(c=e.sent,u=c.dataAdapter,s=new Map,r&&0!==r.length){e.next=8;break}return e.abrupt("return",s);case 8:return d=r.map((function(e){var t=(0,i.default)({},e);return t.start&&(t.start=Math.floor(t.start)),t.end&&(t.end=Math.ceil(t.end)),t})),f=d[0],h=1===d.length?u.getFeatures(this.getExpandedRegion(f,t),t):u.getFeaturesInMultipleRegions(d,t),e.next=13,h.pipe((0,p.tap)((function(){return(0,m.checkAbortSignal)(n)})),(0,p.filter)((function(e){return v.featurePassesFilters(t,e)})),(0,p.tap)((function(e){var t=e.id();if(!t)throw new Error('invalid feature id "'.concat(t,'"'));s.set(t,e)})),(0,p.ignoreElements)()).toPromise();case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"featurePassesFilters",value:function(e,t){return!e.filters||e.filters.passes(t,e)}},{key:"render",value:(t=(0,o.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.features,e.t0){e.next=5;break}return e.next=4,this.getFeatures(t);case 4:e.t0=e.sent;case 5:return n=e.t0,e.next=8,(0,u.default)((0,s.default)(v.prototype),"render",this).call(this,(0,i.default)((0,i.default)({},t),{},{features:n}));case 8:return r=e.sent,e.abrupt("return",(0,i.default)((0,i.default)({},r),{},{features:n}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),v}(v.default);t.default=b;var y=function(e){(0,d.default)(n,e);var t=(0,f.default)(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n)}(v.default);t.NewFeatureRendererType=y},308:function(e,t,n){"use strict";var r=n(9).default,a=n(14).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(11)),i=r(n(26)),l=r(n(19)),c=a(n(1)),u=n(31),s=r(n(346)),d=r(n(730)),f=r(n(731)),p=r(n(732)),m=r(n(347)),h=n(39),g=["open","onClose","menuItems","onMenuItemClick"],v=(0,u.makeStyles)({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",padding:2,marginRight:-12,display:"inline-flex"}});function b(e){var t,n,r,a=v(),o=e.type;if("checked"in e&&(t=e.checked,n=e.disabled),"subMenu"===o)r=c.default.createElement(s.default,{color:"action"});else if("checkbox"===o)if(t){var i=n?"inherit":"secondary";r=c.default.createElement(d.default,{color:i})}else r=c.default.createElement(f.default,{color:"action"});else if("radio"===o)if(t){var l=n?"inherit":"secondary";r=c.default.createElement(p.default,{color:l})}else r=c.default.createElement(m.default,{color:"action"});return c.default.createElement("div",{className:a.menuItemEndDecoration},r)}var y=c.default.forwardRef((function(e,t){var n=(0,c.useState)(),r=(0,l.default)(n,2),a=r[0],o=r[1],s=(0,c.useState)(),d=(0,l.default)(s,2),f=d[0],p=d[1],m=(0,c.useState)(!1),g=(0,l.default)(m,2),w=g[0],C=g[1],E=(0,c.useState)(),O=(0,l.default)(E,2),k=O[0],x=O[1],S=(0,c.useState)(),j=(0,l.default)(S,2),T=j[0],P=j[1],R=(0,c.useRef)(),M=v(),I=e.menuItems,L=e.onMenuItemClick,A=e.open,F=e.onClose,N=e.anchorEl,_=e.top,D=void 0!==_&&_;(0,c.useEffect)((function(){A||(o(void 0),p(void 0))}),[A]),(0,c.useEffect)((function(){var e,t=A&&Boolean(a);return t&&!w?e=setTimeout((function(){C(!0)}),300):!t&&w&&(e=setTimeout((function(){C(!1)}),300)),function(){clearTimeout(e)}}),[w,A,a]),(0,c.useEffect)((function(){if(N){var e=N.getBoundingClientRect();T&&e.top===T.top&&e.left+e.width===T.left||P({top:e.top,left:e.left+e.width})}else T||P({})}),[T,N]);var z=I.some((function(e){return"subMenu"in e||"checkbox"===e.type||"radio"===e.type})),B=I.some((function(e){return"icon"in e&&e.icon})),H={};z&&(H.paddingRight=48);var V=c.default.createElement(c.default.Fragment,null,c.default.createElement(u.MenuList,{autoFocusItem:A&&!w},I.sort((function(e,t){return(t.priority||0)-(e.priority||0)})).map((function(e,t){if("divider"===e.type)return c.default.createElement(u.Divider,{key:"divider-".concat(t),component:"li"});if("subHeader"===e.type)return c.default.createElement(u.ListSubheader,{key:"subHeader-".concat(e.label,"-").concat(t)},e.label);var n=null,r=null;if(e.icon){var a=e.icon;n=c.default.createElement(u.ListItemIcon,null,c.default.createElement(a,null))}"subMenu"in e?r=c.default.createElement(b,{type:"subMenu"}):"checkbox"!==e.type&&"radio"!==e.type||(r=c.default.createElement(b,{type:e.type,checked:e.checked,disabled:e.disabled}));var i,l="onClick"in e?(i=e.onClick,function(e){L(e,i)}):void 0;return c.default.createElement(u.MenuItem,{key:e.label,style:H,selected:t===k,onClick:l,onMouseMove:function(n){n.currentTarget!==document.activeElement&&(n.currentTarget.focus(),x(t)),"subMenu"in e?f!==t&&(o(n.currentTarget),p(t)):(o(void 0),p(void 0))},onKeyDown:function(n){if("ArrowLeft"===n.key||"Escape"===n.key)F&&F(n,"escapeKeyDown");else if("ArrowUp"===n.key)x(function(e,t){return(0,h.findLastIndex)(e.slice(0,t),(function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}))}(I,t));else if("ArrowDown"===n.key){var r=function(e,t){var n=e.slice(t+1).findIndex((function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}));return-1===n?n:t+1+n}(I,t);x(r)}else"subMenu"in e&&("ArrowRight"!==n.key&&"Enter"!==n.key||(o(n.currentTarget),p(t),C(!0)))},disabled:Boolean(e.disabled)},n,c.default.createElement(u.ListItemText,{primary:e.label,secondary:e.subLabel,inset:B&&!e.icon}),r)}))),I.map((function(e,t){var n=null;return"subMenu"in e&&(n=c.default.createElement(y,{key:e.label,anchorEl:a,open:w&&f===t,onClose:function(){C(!1),o(void 0)},onMenuItemClick:L,menuItems:e.subMenu})),n})));return D?V:c.default.createElement(u.Grow,{in:A,style:{transformOrigin:"0 0 0"},ref:t},c.default.createElement(u.Paper,{elevation:8,ref:R,className:M.paper,style:(0,i.default)({},T)},V))}));var w=function(e){var t=e.open,n=e.onClose,r=e.menuItems,a=e.onMenuItemClick,i=(0,o.default)(e,g);return c.default.createElement(u.Popover,Object.assign({transitionDuration:0,open:t,onClose:n,BackdropProps:{invisible:!0}},i),c.default.createElement(y,{open:t,onClose:n,menuItems:r,onMenuItemClick:a,top:!0}))};t.default=w},309:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(16)),l=r(n(15)),c=r(n(27)),u=r(n(28)),s=r(n(1)),d=n(192),f=function(e){(0,c.default)(r,e);var t,n=(0,u.default)(r);function r(e){var t;if((0,i.default)(this,r),(t=n.call(this,e)).ReactComponent=void 0,t.supportsSVG=!1,t.configSchema=void 0,t.pluginManager=void 0,t.ReactComponent=e.ReactComponent,t.configSchema=e.configSchema,t.pluginManager=e.pluginManager,!t.ReactComponent)throw new Error("no ReactComponent defined for renderer ".concat(t.name));if(!(0,d.getDefaultValue)(t.configSchema).type)throw new Error("".concat(t.name," config schema ").concat(t.configSchema.name," is not explicitlyTyped"));if(!t.pluginManager)throw new Error("no plugin manager defined for renderer ".concat(t.name));return t}return(0,l.default)(r,[{key:"render",value:(t=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{reactElement:s.default.createElement(this.ReactComponent,t,null)});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"freeResources",value:function(){return 0}}]),r}(r(n(130)).default);t.default=f},310:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(27)),l=r(n(28)),c=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,a.default)(this,n),(r=t.call(this,e)).ReactComponent=void 0,r.stateModel=void 0,r.displayTypes=[],r.ReactComponent=e.ReactComponent,r.stateModel=e.stateModel,!r.ReactComponent)throw new Error("no ReactComponent defined for view ".concat(r.name));if(!r.stateModel)throw new Error("no stateModel defined for view ".concat(r.name));return r}return(0,o.default)(n,[{key:"addDisplayType",value:function(e){this.displayTypes.push(e)}}]),n}(r(n(130)).default);t.default=c},311:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(24)),i=r(n(11)),l=r(n(26)),c=r(n(16)),u=r(n(15)),s=r(n(27)),d=r(n(28)),f=r(n(1)),p=n(17),m=n(1006),h=n(20),g=n(39),v=r(n(309)),b=r(n(1007)),y=n(128),w=r(n(1008)),C=["html"],E=function(e){(0,s.default)(E,e);var t,n,r,v=(0,d.default)(E);function E(){return(0,c.default)(this,E),v.apply(this,arguments)}return(0,u.default)(E,[{key:"serializeArgsInClient",value:function(e){return(0,l.default)((0,l.default)({},e),{},{config:(0,h.isStateTreeNode)(e.config)?(0,h.getSnapshot)(e.config):e.config,filters:e.filters&&e.filters.toJSON().filters})}},{key:"deserializeResultsInClient",value:function(e,t){e.html;var n=(0,i.default)(e,C);return t.exportSVG?(0,l.default)((0,l.default)({},e),{},{html:this.supportsSVG?e.html:'<text y="12" fill="black">SVG export not supported for this track</text>'}):(0,l.default)((0,l.default)({},n),{},{reactElement:f.default.createElement(w.default,Object.assign({},t,e,{RenderingComponent:this.ReactComponent}))})}},{key:"deserializeArgsInWorker",value:function(e){var t=(0,l.default)({},e),n=this.configSchema.create(e.config||{},{pluginManager:this.pluginManager});return t.config=n,t.filters=new b.default({filters:e.filters}),t}},{key:"serializeResultsInWorker",value:function(e,t){var n=(0,m.renderToString)(f.default.createElement(p.ThemeProvider,{theme:(0,y.createJBrowseTheme)(t.theme)},e.reactElement));return delete e.reactElement,(0,l.default)((0,l.default)({},e),{},{html:n})}},{key:"renderInClient",value:(r=(0,o.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.call(n.sessionId,"CoreRender",n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"renderInWorker",value:(n=(0,o.default)(a.default.mark((function e(t){var n,r,o,i,l,c,u=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.statusCallback,o=void 0===r?function(){}:r,(0,g.checkAbortSignal)(n),i=this.deserializeArgsInWorker(t),(0,g.checkAbortSignal)(n),e.next=6,(0,g.updateStatus)("Rendering plot",o,(function(){return u.render(i)}));case 6:return l=e.sent,(0,g.checkAbortSignal)(n),e.next=10,(0,g.updateStatus)("Serializing results",o,(function(){return u.serializeResultsInWorker(l,i)}));case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"freeResourcesInClient",value:(t=(0,o.default)(a.default.mark((function e(t,n){var r,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.serializeArgsInClient(n),o=this.freeResources(),e.next=4,t.call(n.sessionId,"CoreFreeResources",r);case 4:return i=e.sent,e.abrupt("return",o+i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),E}(v.default);t.default=E},39:function(e,t,n){"use strict";(function(e){var r=n(14).default,a=n(9).default;Object.defineProperty(t,"__esModule",{value:!0});var o={inDevelopment:!0,inProduction:!0,useDebounce:!0,useDebouncedCallback:!0,findParentThat:!0,springAnimate:!0,findParentThatIs:!0,getSession:!0,getContainingView:!0,getContainingTrack:!0,getContainingDisplay:!0,assembleLocString:!0,parseLocStringOneBased:!0,parseLocString:!0,compareLocs:!0,compareLocStrings:!0,clamp:!0,bpToPx:!0,radToDeg:!0,degToRad:!0,polarToCartesian:!0,cartesianToPolar:!0,featureSpanPx:!0,bpSpanPx:!0,objectFromEntries:!0,iterMap:!0,mergeConfigs:!0,findLastIndex:!0,makeAbortableReaction:!0,renameRegionIfNeeded:!0,renameRegionsIfNeeded:!0,minmax:!0,stringify:!0,isElectron:!0,revcom:!0,complement:!0,blobToDataURL:!0,rIC:!0,measureText:!0,defaultStarts:!0,defaultStops:!0,defaultCodonTable:!0,generateCodonTable:!0,updateStatus:!0,hashCode:!0,objectHash:!0,SimpleFeature:!0,isFeature:!0};Object.defineProperty(t,"SimpleFeature",{enumerable:!0,get:function(){return b.default}}),t.assembleLocString=function(e){var t,n,r=e.assemblyName,a=e.refName,o=e.start,i=e.end,l=r?"{".concat(r,"}"):"";t=void 0!==o?":".concat((o+1).toLocaleString("en-US")):void 0!==i?":1":"";n=void 0!==i?void 0!==o&&o+1===i?"":"..".concat(i.toLocaleString("en-US")):void 0!==o?"..":"";return"".concat(l).concat(a).concat(t).concat(n)},t.blobToDataURL=function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(e){e.target?n(e.target.result):r(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)}))},t.bpSpanPx=N,t.bpToPx=L,t.cartesianToPolar=function(e,t){var n=Math.sqrt(e*e+t*t),r=Math.atan(t/e);return[n,r]},t.clamp=function(e,t,n){if(e<t)return t;if(e>n)return n;return e},t.compareLocStrings=function(e,t,n){var r=R(e,n),a=R(t,n);return M(r,a)},t.compareLocs=M,t.defaultStops=t.defaultStarts=t.defaultCodonTable=t.complement=void 0,t.degToRad=function(e){return e*F%(2*Math.PI)},t.featureSpanPx=function(e,t,n){return N(e.get("start"),e.get("end"),t,n)},t.findLastIndex=function(e,t){var n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1},t.findParentThat=j,t.findParentThatIs=T,t.generateCodonTable=function(e){var t={};return Object.keys(e).forEach((function(n){for(var r=e[n],a=[],o=0;o<3;o++){var i=n.charAt(o);a[o]=[],a[o][0]=i.toUpperCase(),a[o][1]=i.toLowerCase()}for(var l=0;l<2;l++)for(var c=a[0][l],u=0;u<2;u++)for(var s=a[1][u],d=0;d<2;d++){var f=a[2][d];t[c+s+f]=r}})),t},t.getContainingDisplay=function(e){try{return T(e,y.isDisplayModel)}catch(e){throw new Error("no containing display found")}},t.getContainingTrack=function(e){try{return T(e,y.isTrackModel)}catch(e){throw new Error("no containing track found")}},t.getContainingView=function(e){try{return T(e,y.isViewModel)}catch(e){throw new Error("no containing view found")}},t.getSession=function(e){try{return T(e,y.isSessionModel)}catch(e){throw new Error("no session model found!")}},t.hashCode=q,t.isElectron=t.inProduction=t.inDevelopment=void 0,Object.defineProperty(t,"isFeature",{enumerable:!0,get:function(){return b.isFeature}}),t.iterMap=function(e,t,n){var r,a=n?new Array(n):[],o=0,i=(0,u.default)(e);try{for(i.s();!(r=i.n()).done;){var l=r.value;a[o]=t(l),o+=1}}catch(e){i.e(e)}finally{i.f()}return a},t.makeAbortableReaction=function(e,t,n,r,a,o,l){var u;function s(t){(0,w.isAbortException)(t)||((0,p.isAlive)(e)?l(t):console.error(t))}var d=(0,m.reaction)((function(){try{return t(e)}catch(e){return void s(e)}}),function(){var t=(0,c.default)(i.default.mark((function t(r,l){var c,d;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u&&!u.signal.aborted&&u.abort(),(0,p.isAlive)(e)){t.next=3;break}return t.abrupt("return");case 3:return u=new AbortController,a(c=u),t.prev=6,t.next=9,n(r,c.signal,e,l);case 9:d=t.sent,(0,w.checkAbortSignal)(c.signal),(0,p.isAlive)(e)&&o(d),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),c&&!c.signal.aborted&&c.abort(),s(t.t0);case 18:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,n){return t.apply(this,arguments)}}(),r);(0,p.addDisposer)(e,d),(0,p.addDisposer)(e,(function(){u&&!u.signal.aborted&&u.abort()}))},t.measureText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],r=.5279276315789471;return String(e).split("").map((function(e){return e.charCodeAt(0)<n.length?n[e.charCodeAt(0)]:r})).reduce((function(e,t){return t+e}),0)*t},t.mergeConfigs=function(e,t){var n=(0,v.default)(e,t);t.defaultSession?n.defaultSession=t.defaultSession:e.defaultSession&&(n.defaultSession=e.defaultSession);return n},t.minmax=function(e,t){return[Math.min(e,t),Math.max(e,t)]},t.objectFromEntries=void 0,t.objectHash=function(e){return"".concat(q(JSON.stringify(e)))},t.parseLocString=R,t.parseLocStringOneBased=P,t.polarToCartesian=function(e,t){return[e*Math.cos(t),e*Math.sin(t)]},t.rIC=void 0,t.radToDeg=function(e){return e*A%360},t.renameRegionIfNeeded=D,t.renameRegionsIfNeeded=function(e,t){return z.apply(this,arguments)},t.revcom=function(e){return W(e).split("").reverse().join("")},t.springAnimate=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:170,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:26,c=1;o||(o=Math.abs(t-e)/1e3);function u(e){var s=Date.now(),d=e.lastPosition,f=e.lastTime||s,p=e.lastVelocity||0;s>f+64&&(f=s);for(var m=Math.floor(s-f),h=0;h<m;++h){d+=1*(p+=1*((-i*(d-t)+-l*p)/c)/1e3)/1e3}var g=Math.abs(p)<=o,v=0===i||Math.abs(t-d)<=o;g&&v?(n(t),a()):(n(d),r=requestAnimationFrame((function(){return u({lastPosition:d,lastTime:s,lastVelocity:p})})))}return[function(){return u({lastPosition:e})},function(){return cancelAnimationFrame(r)}]},t.stringify=function(e){var t=e.refName,n=e.coord,r=e.oob;return"".concat(t,":").concat(n.toLocaleString("en-US")).concat(r?" (out of bounds)":"")},t.updateStatus=function(e,t,n){return U.apply(this,arguments)},t.useDebounce=function(e,t){var n=(0,g.useState)(e),r=(0,d.default)(n,2),a=r[0],o=r[1];return(0,g.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a},t.useDebouncedCallback=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=(0,g.useRef)(),r=(0,g.useRef)();function a(){r.current&&clearTimeout(r.current)}return(0,g.useEffect)((function(){return a}),[]),function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];n.current=i,a(),r.current=setTimeout((function(){n.current&&e.apply(void 0,(0,s.default)(n.current))}),t)}};var i=a(n(22)),l=a(n(26)),c=a(n(24)),u=a(n(62)),s=a(n(34)),d=a(n(19)),f=a(n(41)),p=n(20),m=n(45),h=a(n(465)),g=n(1),v=a(n(340)),b=r(n(129)),y=n(161);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var w=n(986);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var C=n(1679);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var E=n(987);Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))}));var O=n(564);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var k=n(988);Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))})),Object.fromEntries||h.default.shim();var x="object"===(void 0===e?"undefined":(0,f.default)(e))&&e.env&&!1;t.inDevelopment=x;var S=!x;function j(e,t){if(!(0,p.hasParent)(e))throw new Error("node does not have parent");for(var n=(0,p.getParent)(e);n&&(0,p.isAlive)(n);){if(t(n))return n;if(!(0,p.hasParent)(n))break;n=(0,p.getParent)(n)}throw new Error("no matching node found")}function T(e,t){return j(e,t)}function P(e,t){if(!e)throw new Error("no location string provided, could not parse");var n=(e=e.replace(/\s/,"")).match(/(\{(.+)\})?(.+)/);if(!n)throw new Error('invalid location string: "'.concat(e,'"'));var r=(0,d.default)(n,4),a=r[2],o=r[3];if(!a&&o.startsWith("{}"))throw new Error('no assembly name was provided in location "'.concat(o,'"'));var i=o.lastIndexOf(":");if(-1===i){if(t(o,a))return{assemblyName:a,refName:o};throw new Error('Unknown reference sequence "'.concat(o,'"'))}var l=o.slice(0,i),c=o.slice(i+1);if(t(l,a)&&t(o,a))throw new Error('ambiguous location string: "'.concat(e,'"'));if(t(l,a)){if(!c)return{assemblyName:a,refName:l};var u=c.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/),s=c.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/);if(u){var f=(0,d.default)(u,6),p=f[1],m=f[5];if(void 0!==p&&void 0!==m)return{assemblyName:a,refName:l,start:+p.replace(/,/g,""),end:+m.replace(/,/g,"")}}else{if(!s)throw new Error('could not parse range "'.concat(c,'" on location "').concat(e,'"'));var h=(0,d.default)(s,5),g=h[1],v=h[4];if(void 0!==g)return v?{assemblyName:a,refName:l,start:+g.replace(/,/g,"")}:{assemblyName:a,refName:l,start:+g.replace(/,/g,""),end:+g.replace(/,/g,"")}}}else if(t(o,a))return{assemblyName:a,refName:o};throw new Error('unknown reference sequence name in location "'.concat(e,'"'))}function R(e,t){var n=P(e,t);return"number"==typeof n.start&&(n.start-=1),n}function M(e,t){var n=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(n)return n;var r=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(r)return r;if(void 0!==e.start&&void 0!==t.start){var a=e.start-t.start;if(a)return a}if(void 0!==e.end&&void 0!==t.end){var o=e.end-t.end;if(o)return o}return 0}function I(e){return Math.round(10*e)/10}function L(e,t,n){return t.reversed?I((t.end-e)/n):I((e-t.start)/n)}t.inProduction=S;var A=180/Math.PI,F=Math.PI/180;function N(e,t,n,r){var a=L(e,n,r),o=L(t,n,r);return n.reversed?[o,a]:[a,o]}var _=Object.fromEntries.bind(Object);function D(e,t){if((0,p.isStateTreeNode)(t)&&!(0,p.isAlive)(t))return t;if(t&&e&&e[t.refName]){var n=e[(t=(0,p.isStateTreeNode)(t)?(0,l.default)({},(0,p.getSnapshot)(t)):(0,l.default)({},t)).refName];if(n)return(0,l.default)((0,l.default)({},t),{},{refName:n,originalRefName:t.refName})}return t}function z(){return(z=(0,c.default)(i.default.mark((function e(t,n){var r,a,o,u,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.regions,a=void 0===r?[]:r,o=n.adapterConfig,n.sessionId){e.next=3;break}throw new Error("sessionId is required");case 3:return u=a.map((function(e){return e.assemblyName})),e.t0=Object,e.next=7,Promise.all(u.map(function(){var e=(0,c.default)(i.default.mark((function e(r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,t.getRefNameMapForAdapter(o,r,n);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.t1=e.sent,s=e.t0.fromEntries.call(e.t0,e.t1),e.abrupt("return",(0,l.default)((0,l.default)({},n),{},{regions:a.map((function(e){return D(s[e.assemblyName],e)}))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.objectFromEntries=_;var B=/electron/i.test("undefined"!=typeof navigator?navigator.userAgent:"");t.isElectron=B;var H,V,W=(H=/[ACGT]/gi,V={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"},function(e){return e.replace(H,(function(e){return V[e]||""}))});t.complement=W;var G="undefined"==typeof jest?"undefined"!=typeof window&&window.requestIdleCallback?window.requestIdleCallback:function(e){return setTimeout((function(){return e()}),1)}:function(e){return e()};t.rIC=G;t.defaultStarts=["ATG"];t.defaultStops=["TAA","TAG","TGA"];function U(){return(U=(0,c.default)(i.default.mark((function e(t,n,r){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),e.next=3,r();case 3:return a=e.sent,n(""),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}t.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"}}).call(this,n(68))},412:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationReference=function(e){return c.types.union(c.types.reference(e),e)},t.ConfigurationSchema=function(e,t,n){var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)throw new Error("first arg must be string name of the model that this config schema goes with");var r=t,a=n;n.baseConfiguration&&n.baseConfiguration.jbrowseSchemaDefinition&&(r=(0,i.default)((0,i.default)({},n.baseConfiguration.jbrowseSchemaDefinition),r),delete(a=(0,i.default)((0,i.default)({},n.baseConfiguration.jbrowseSchemaOptions||{}),n)).baseConfiguration);return{schemaDefinition:r,options:a}}(e,t,n),p=r.schemaDefinition,m=r.options,h=function(e,t,n){var r,p={};n.explicitlyTyped&&(p.type=c.types.optional(c.types.literal(e),e));if(n.explicitIdentifier&&n.implicitIdentifier)throw new Error("Cannot have both explicit and implicit identifiers in ".concat(e));n.explicitIdentifier?"string"==typeof n.explicitIdentifier?(p[n.explicitIdentifier]=c.types.identifier,r=n.explicitIdentifier):(p.id=c.types.identifier,r="id"):n.implicitIdentifier&&("string"==typeof n.implicitIdentifier?(p[n.implicitIdentifier]=u.ElementId,r=n.implicitIdentifier):(p.id=u.ElementId,r="id"));var m={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:n}};Object.entries(t).forEach((function(t){var n=(0,o.default)(t,2),r=n[0],a=n[1];if((0,c.isType)(a)&&(0,c.isLateType)(a)||(0,d.isConfigurationSchemaType)(a))p[r]=a;else if("string"==typeof a||"number"==typeof a)m[r]=a;else{if("object"!==(0,l.default)(a))throw new Error('invalid configuration schema definition, "'.concat(r,'" must be either a valid configuration slot definition, a constant, or a nested configuration schema'));if(!a.type)throw new Error("no type set for config slot ".concat(e,".").concat(r));try{p[r]=(0,s.default)(r,a)}catch(t){throw new Error("invalid config slot definition for ".concat(e,".").concat(r,": ").concat(t))}}}));var h=c.types.model("".concat(e,"ConfigurationSchema"),p).actions((function(e){return{setSubschema:function(t,n){if(!(0,d.isConfigurationSchemaType)(p[t]))throw new Error("".concat(t," is not a subschema, cannot replace"));var r=(0,c.isStateTreeNode)(n)?n:p[t].create(n);return e[t]=r,r}}}));Object.keys(m).length&&(h=h.volatile((function(){return m})));n.actions&&(h=h.actions(n.actions));n.views&&(h=h.views(n.views));n.extend&&(h=h.extend(n.extend));var g=r?(0,a.default)({},r,"placeholderId"):{},v=n.explicitlyTyped?(0,i.default)({type:e},g):g,b=(0,c.getSnapshot)(h.create(v));h=h.postProcessSnapshot((function(e){for(var t,n={},r=!0,a=0,i=Object.entries(e);a<i.length;a++){var c=(0,o.default)(i[a],2),u=c[0],s=c[1];r&&("object"===(0,l.default)(b[u])&&"object"===(0,l.default)(s)?JSON.stringify(b[u])!==JSON.stringify(s)&&(r=!1):b[u]!==s&&(r=!1)),void 0!==s&&void 0===m[u]&&(t=s,"object"!==(0,l.default)(t)||Array.isArray(t)||null===t||0!==Object.keys(t).length)&&!f(s)&&(n[u]=s)}return r?{}:n})),n.preProcessSnapshot&&(h=h.preProcessSnapshot(n.preProcessSnapshot));return c.types.optional(h,v)}(e,p,m);return h.isJBrowseConfigurationSchema=!0,h.jbrowseSchemaDefinition=p,h.jbrowseSchemaOptions=m,h};var a=r(n(50)),o=r(n(19)),i=r(n(26)),l=r(n(41)),c=n(20),u=n(91),s=r(n(1672)),d=n(983);function f(e){return Array.isArray(e)&&0===e.length}},413:function(e,t,n){"use strict";n.r(t);var r=n(1018);n.d(t,"default",(function(){return r.a}))},414:function(e,t,n){"use strict";var r=n(1683);n.d(t,"a",(function(){return r.a}))},415:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(19)),i=r(n(41)),l=r(n(62)),c=r(n(26)),u=r(n(24)),s=r(n(16)),d=r(n(15)),f=r(n(27)),p=r(n(28)),m=r(n(130)),h=n(118),g=n(161),v=n(994),b=function(e){(0,f.default)(C,e);var t,n,r,m,b,y,w=(0,p.default)(C);function C(e){var t;return(0,s.default)(this,C),(t=w.call(this,{name:""})).pluginManager=e,t.name="UNKNOWN",t}return(0,d.default)(C,[{key:"serializeArguments",value:(y=(0,u.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,h.getBlobMap)(),e.next=3,this.augmentLocationObjects(t);case 3:return e.abrupt("return",(0,c.default)((0,c.default)({},t),{},{blobMap:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return y.apply(this,arguments)})},{key:"serializeNewAuthArguments",value:(b=(0,u.default)(a.default.mark((function e(t){var n,r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.pluginManager.rootModel,(0,g.isAppRootModel)(n)&&!t.internetAccountPreAuthorization){e.next=3;break}return e.abrupt("return",t);case 3:if(!(r=null==n?void 0:n.findAppropriateInternetAccount(t))){e.next=9;break}return e.next=7,r.getPreAuthorizationInformation(t);case 7:o=e.sent,t.internetAccountPreAuthorization=o;case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return b.apply(this,arguments)})},{key:"deserializeArguments",value:(m=(0,u.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.blobMap&&(0,h.setBlobMap)(t.blobMap),!(r=t.signal)||!(0,v.isRemoteAbortSignal)(r)){e.next=4;break}return e.abrupt("return",(0,c.default)((0,c.default)({},t),{},{signal:(0,v.deserializeAbortSignal)(r)}));case 4:return e.abrupt("return",(0,c.default)((0,c.default)({},t),{},{signal:void 0}));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return m.apply(this,arguments)})},{key:"serializeReturn",value:(r=(0,u.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"deserializeReturn",value:(n=(0,u.default)(a.default.mark((function e(t,n,r){var o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:o=e.sent,e.next=12;break;case 6:if(e.prev=6,e.t0=e.catch(0),!(0,g.isAuthNeededException)(e.t0)){e.next=11;break}throw c=null===(i=this.pluginManager)||void 0===i||null===(l=i.rootModel)||void 0===l?void 0:l.createEphemeralInternetAccount("HTTPBasicInternetAccount-".concat(new URL(e.t0.location.uri).origin),{},e.t0.location),new g.RetryError("Retrying with created internet account",c.internetAccountId);case 11:throw e.t0;case 12:return e.abrupt("return",o);case 13:case"end":return e.stop()}}),e,this,[[0,6]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"augmentLocationObjects",value:(t=(0,u.default)(a.default.mark((function e(t){var n,r,c,u,s,d,f,p,m,h,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.isUriLocation)(t)){e.next=3;break}return e.next=3,this.serializeNewAuthArguments(t);case 3:if(!Array.isArray(t)){e.next=21;break}n=(0,l.default)(t),e.prev=5,n.s();case 7:if((r=n.n()).done){e.next=13;break}return c=r.value,e.next=11,this.augmentLocationObjects(c);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:if("object"!==(0,i.default)(t)||null===t){e.next=51;break}u=0,s=Object.entries(t);case 23:if(!(u<s.length)){e.next=51;break}if(d=(0,o.default)(s[u],2),f=d[0],p=d[1],!Array.isArray(p)){e.next=45;break}m=(0,l.default)(t[f]),e.prev=27,m.s();case 29:if((h=m.n()).done){e.next=35;break}return v=h.value,e.next=33,this.augmentLocationObjects(v);case 33:e.next=29;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(27),m.e(e.t1);case 40:return e.prev=40,m.f(),e.finish(40);case 43:e.next=48;break;case 45:if("object"!==(0,i.default)(p)||null===p){e.next=48;break}return e.next=48,this.augmentLocationObjects(t[f]);case 48:u++,e.next=23;break;case 51:case"end":return e.stop()}}),e,this,[[5,15,18,21],[27,37,40,43]])}))),function(e){return t.apply(this,arguments)})}]),C}(m.default);t.default=b},416:function(e,t,n){"use strict";n.r(t);var r=n(991);n.d(t,"default",(function(){return r.a}))},417:function(e,t,n){"use strict";n.r(t);var r=n(1029);n.d(t,"default",(function(){return r.a}))},418:function(e,t,n){"use strict";var r=n(9).default,a=n(14).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAttributes=t.Attributes=void 0,t.BaseCard=j,t.useStyles=t.default=t.SimpleValue=t.FieldName=t.FeatureDetails=t.BasicValue=t.BaseCoreDetails=void 0;var o=r(n(11)),i=r(n(26)),l=r(n(34)),c=r(n(19)),u=a(n(1)),s=n(780),d=n(31),f=r(n(370)),p=n(17),m=n(569),h=n(33),g=r(n(12)),v=r(n(781)),b=n(43),y=n(39),w=r(n(993)),C=r(n(1696)),E=n(1e3),O=["id"],k=["length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"],x=["name","start","end","strand","refName","description","type"],S=(0,p.makeStyles)((function(e){return{expansionPanelDetails:{display:"block",padding:e.spacing(1)},expandIcon:{color:"#FFFFFF"},field:{display:"flex",flexWrap:"wrap"},fieldDescription:{"&:hover":{background:"yellow"}},fieldName:{wordBreak:"break-all",minWidth:"90px",borderBottom:"1px solid #0003",background:e.palette.grey[200],marginRight:e.spacing(1),padding:e.spacing(.5)},fieldValue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),overflow:"auto"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),background:e.palette.grey[100],border:"1px solid ".concat(e.palette.grey[300]),boxSizing:"border-box",overflow:"auto"}}}));function j(e){var t=e.children,n=e.title,r=e.defaultExpanded,a=void 0===r||r,o=S(),i=(0,u.useState)(a),l=(0,c.default)(i,2),s=l[0],p=l[1];return u.default.createElement(d.Accordion,{expanded:s,onChange:function(){return p((function(e){return!e}))},TransitionProps:{unmountOnExit:!0}},u.default.createElement(d.AccordionSummary,{expandIcon:u.default.createElement(f.default,{className:o.expandIcon})},u.default.createElement(d.Typography,{variant:"button"}," ",n)),u.default.createElement(d.AccordionDetails,{className:o.expansionPanelDetails},t))}t.useStyles=S;var T=function(e){var t=e.description,n=e.name,r=e.prefix,a=void 0===r?[]:r,o=e.width,i=S(),c=[].concat((0,l.default)(a),[n]).join(".");return t?u.default.createElement(d.Tooltip,{title:t,placement:"left"},u.default.createElement("div",{className:(0,g.default)(i.fieldDescription,i.fieldName)},c)):u.default.createElement("div",{className:i.fieldName,style:{width:o}},c)};t.FieldName=T;var P=function(e){var t=e.value,n=S();return u.default.createElement("div",{className:n.fieldValue},u.default.isValidElement(t)?t:u.default.createElement(w.default,{html:(0,v.default)(t)?JSON.stringify(t):String(t)}))};t.BasicValue=P;var R=function(e){var t=e.name,n=e.value,r=e.description,a=e.prefix,o=e.width,i=S();return null!=n?u.default.createElement("div",{className:i.field},u.default.createElement(T,{prefix:a,description:r,name:t,width:o}),u.default.createElement(P,{value:n})):null};t.SimpleValue=R;var M=function(e){var t=e.name,n=e.value,r=e.description,a=e.prefix,o=void 0===a?[]:a,i=S();return u.default.createElement(u.default.Fragment,null,1===n.length?(0,v.default)(n[0])?u.default.createElement(A,{attributes:n[0],prefix:[].concat((0,l.default)(o),[t])}):u.default.createElement("div",{className:i.field},u.default.createElement(T,{prefix:o,description:r,name:t}),u.default.createElement(P,{value:n[0]})):n.every((function(e){return(0,v.default)(e)}))?n.map((function(e,n){return u.default.createElement(A,{key:JSON.stringify(e)+"-"+n,attributes:e,prefix:[].concat((0,l.default)(o),[t+"-"+n])})})):u.default.createElement("div",{className:i.field},u.default.createElement(T,{prefix:o,description:r,name:t}),n.map((function(e,t){return u.default.createElement("div",{key:JSON.stringify(e)+"-"+t,className:i.fieldSubvalue},u.default.createElement(P,{value:e}))}))))};function I(e){var t=e.feature,n=t,r=n.refName,a=n.start,o=n.end,l=n.strand,s={"-1":"-",0:"",1:"+"},d=s[l]?"(".concat(s[l],")"):"",f=(a+1).toLocaleString("en-US"),p=o.toLocaleString("en-US"),m=r?"".concat(r,":"):"",h=(0,i.default)((0,i.default)({},t),{},{length:(o-a).toLocaleString("en-US"),position:"".concat(m).concat(f,"..").concat(p," ").concat(d)});return u.default.createElement(u.default.Fragment,null,["Position","Description","Name","Length","Type"].map((function(e){return[e,h[e.toLowerCase()]]})).filter((function(e){var t=(0,c.default)(e,2)[1];return null!=t})).map((function(e){var t=(0,c.default)(e,2),n=t[0],r=t[1];return u.default.createElement(R,{key:n,name:n,value:r})})))}t.BaseCoreDetails=function(e){return u.default.createElement(j,Object.assign({},e,{title:"Primary data"}),u.default.createElement(I,e))};var L=function(e){var t=e.value,n=e.prefix,r=e.name,a=Object.keys(t[0]).sort(),s=new Set(a);if(t.forEach((function(e){return Object.keys(e).forEach((function(e){return s.add(e)}))})),s.size<a.length+5){var d,f=Object.entries(t).map((function(e){var t=(0,c.default)(e,2),n=t[0],r=t[1],a=r.id,l=(0,o.default)(r,O);return(0,i.default)({id:n,identifier:a},l)}));s.has("id")?(s.delete("id"),d=["identifier"].concat((0,l.default)(s))):d=(0,l.default)(s);var p=d.map((function(e){return{field:e,width:Math.max.apply(Math,(0,l.default)(f.map((function(t){var n=String(t[e]);return Math.min(Math.max((0,y.measureText)(n,14)+50,80),1e3)}))))}}));return u.default.createElement(u.default.Fragment,null,u.default.createElement(T,{prefix:n,name:r}),u.default.createElement("div",{style:{height:20*Math.min(f.length,100)+50+(f.length<100?0:50),width:"100%"}},u.default.createElement(m.DataGrid,{disableSelectionOnClick:!0,rowHeight:20,headerHeight:25,rows:f,rowsPerPageOptions:[],hideFooterRowCount:!0,hideFooterSelectedRowCount:!0,columns:p,hideFooter:f.length<100})))}return null};var A=function e(t){var n=t.attributes,r=t.omit,a=void 0===r?[]:r,o=t.descriptions,i=t.formatter,s=void 0===i?function(e){return e}:i,d=t.prefix,f=void 0===d?[]:d,p=[].concat((0,l.default)(a),k),m=function(e,t){var n=[];return e.forEach((function(e,r){var a=[].concat((0,l.default)(t),[e[0]]).join(".");n.push((0,y.measureText)(a,12))})),Math.ceil(Math.max.apply(Math,n))+10}(Object.entries(n).filter((function(e){var t=(0,c.default)(e,2),n=t[0];return void 0!==t[1]&&!p.includes(n)})),f),h=m<=170?m:170;return u.default.createElement(u.default.Fragment,null,Object.entries(n).filter((function(e){var t=(0,c.default)(e,2),n=t[0];return void 0!==t[1]&&!p.includes(n)})).map((function(t){var n=(0,c.default)(t,2),r=n[0],a=n[1];if(Array.isArray(a)&&a.length>2&&a.every((function(e){return(0,v.default)(e)})))return u.default.createElement(L,{key:r,prefix:f,name:r,value:a});var i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.forEach((function(e){n&&(n=n[e])})),"string"==typeof n?n:"string"==typeof(null===(t=n)||void 0===t?void 0:t.Description)?n.Description:void 0}([].concat((0,l.default)(f),[r]),o);return Array.isArray(a)?u.default.createElement(M,{key:r,name:r,value:a,description:i,prefix:f}):(0,v.default)(a)?u.default.createElement(e,{omit:p,key:r,attributes:a,descriptions:o,prefix:[].concat((0,l.default)(f),[r])}):u.default.createElement(R,{key:r,name:r,value:s(a,r),description:i,prefix:f,width:h})})))};t.Attributes=A;t.BaseAttributes=function(e){var t=e.feature;return u.default.createElement(j,Object.assign({},e,{title:"Attributes"}),u.default.createElement(A,Object.assign({},e,{attributes:t})))};var F=function e(t){var n=t.omit,r=void 0===n?[]:n,a=t.model,o=t.feature,i=t.depth,c=void 0===i?0:i,f=o.name,p=void 0===f?"":f,m=o.id,h=void 0===m?"":m,g=o.type,v=void 0===g?"":g,w=o.subfeatures,O=(0,y.getSession)(a),k=(0,b.getConf)(O,["featureDetails","sequenceTypes"])||["mRNA","transcript"];return u.default.createElement(j,{title:[(0,E.ellipses)(p||h),v].filter((function(e){return!!e})).join(" - ")},u.default.createElement(d.Typography,null,"Core details"),u.default.createElement(I,t),u.default.createElement(d.Divider,null),u.default.createElement(d.Typography,null,"Attributes"),u.default.createElement(A,Object.assign({attributes:o},t,{omit:[].concat((0,l.default)(r),x)})),k.includes(o.type)?u.default.createElement(s.ErrorBoundary,{FallbackComponent:function(e){var t=e.error;return u.default.createElement(d.Typography,{color:"error"},"Failed to fetch sequence for feature: ","".concat(t))}},u.default.createElement(C.default,t)):null,null!=w&&w.length?u.default.createElement(j,{title:"Subfeatures",defaultExpanded:!k.includes(o.type)},w.map((function(t){return u.default.createElement(e,{key:JSON.stringify(t),feature:t,model:a,depth:c+1})}))):null)};t.FeatureDetails=F;var N=(0,h.observer)((function(e){var t=e.model,n=t.featureData;if(!n)return null;var r,a=JSON.parse(JSON.stringify(n));return r=a,0===Object.keys(r).length?null:u.default.createElement(F,{model:t,feature:a})}));t.default=N},419:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.clearAdapterCache=function(){u={}},t.freeAdapterResources=function(e){var t=0,n=Object.keys(e);if(1===n.length&&"sessionId"===n[0]){var r=e.sessionId;Object.entries(u).forEach((function(e){var n=(0,o.default)(e,2),a=n[0],i=n[1];i.sessionIds.delete(r),0===i.sessionIds.size&&(t+=1,delete u[a])}))}else Object.values(u).forEach((function(t){t.dataAdapter.freeResources?(e.regions||(e.region?[e.region]:[])).forEach((function(e){void 0!==e.refName&&t.dataAdapter.freeResources(e)})):console.warn(t.dataAdapter,"does not implement freeResources")}));return t},t.getAdapter=s;var a=r(n(22)),o=r(n(19)),i=r(n(24)),l=r(n(999));function c(e){return"".concat((0,l.default)(e))}var u={};function s(e,t,n){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,n,r){var o,i,l,d,f,p,m,h,g,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c(r),u[o]){e.next=21;break}if(i=(r||{}).type){e.next=5;break}throw new Error("could not determine adapter type from adapter config snapshot");case 5:if(l=t.getAdapterType(i)){e.next=8;break}throw new Error("unknown data adapter type ".concat(i));case 8:if(d=l.configSchema.create(r,{pluginManager:t}),f=s.bind(null,t,n),p=l.AdapterClass,m=l.getAdapterClass,e.t0=p,e.t0){e.next=16;break}return e.next=15,m();case 15:e.t0=e.sent;case 16:if(h=e.t0){e.next=19;break}throw new Error("Failed to get adapter");case 19:g=new h(d,f,t),u[o]={dataAdapter:g,sessionIds:new Set([n])};case 21:return(v=u[o]).sessionIds.add(n),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},420:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(27)),l=r(n(28)),c=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n)}(r(n(231)).default);t.default=c},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={ConfigurationSchema:!0,ConfigurationReference:!0};Object.defineProperty(t,"ConfigurationReference",{enumerable:!0,get:function(){return a.ConfigurationReference}}),Object.defineProperty(t,"ConfigurationSchema",{enumerable:!0,get:function(){return a.ConfigurationSchema}});var a=n(412),o=n(983);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},563:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.stringToJexlExpression=function(e,t){var n="nosig|".concat(e);if(!o[n]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");var r=e.split("jexl:")[1],i=t?t.compile("".concat(r)):(0,a.default)().compile("".concat(r));o[n]=i}return o[n]};var a=r(n(982)),o={}},564:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.createImageBitmap=t.createCanvas=t.PonyfillOffscreenContext=t.PonyfillOffscreenCanvas=t.ImageBitmapType=void 0;var a,o,i,l=r(n(22)),c=r(n(41)),u=r(n(24)),s=r(n(34)),d=r(n(19)),f=r(n(16)),p=r(n(15)),m=r(n(1)),h=r(n(757)),g=r(n(265)),v=r(n(363));t.createCanvas=a,t.createImageBitmap=o,t.ImageBitmapType=i;var b="function"==typeof OffscreenCanvas,y=v.default,w=function(){function e(t,n){(0,f.default)(this,e),this.width=t,this.height=n,this.commands=[],this.currentFont="12px Courier New, monospace"}return(0,p.default)(e,[{key:"strokeStyle",set:function(e){e!==this.currentStrokeStyle&&(this.commands.push({type:"strokeStyle",style:e}),this.currentStrokeStyle=e)}},{key:"fillStyle",set:function(e){e!==this.currentFillStyle&&(this.commands.push({type:"fillStyle",style:e}),this.currentFillStyle=e)}},{key:"font",set:function(e){this.currentFont=e,this.commands.push({type:"font",style:e})}},{key:"arc",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"arc",args:t})}},{key:"arcTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"arcTo",args:t})}},{key:"beginPath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"beginPath",args:t})}},{key:"clearRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"clearRect",args:t})}},{key:"clip",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"clip",args:t})}},{key:"closePath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"closePath",args:t})}},{key:"createLinearGradient",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"createLinearGradient",args:t})}},{key:"createPattern",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"createPattern",args:t})}},{key:"createRadialGradient",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"createRadialGradient",args:t})}},{key:"drawFocusIfNeeded",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"drawFocusIfNeeded",args:t})}},{key:"drawImage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"drawImage",args:t})}},{key:"ellipse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"ellipse",args:t})}},{key:"fill",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"fill",args:t})}},{key:"fillRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];if(!(r>this.width||r+o<0)){var l=Math.max(r,0),c=l+o>this.width?this.width-l:o;this.commands.push({type:"fillRect",args:[l,a,c,i]})}}},{key:"fillText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"fillText",args:t})}},{key:"lineTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"lineTo",args:t})}},{key:"measureText",value:function(e){var t=+this.currentFont.match(/\d+/)[0];return{width:t/2*e.length,height:t}}},{key:"moveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"moveTo",args:t})}},{key:"quadraticCurveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"quadraticCurveTo",args:t})}},{key:"rect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"rect",args:t})}},{key:"restore",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"restore",args:t})}},{key:"rotate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"rotate",args:t})}},{key:"save",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"save",args:t})}},{key:"setLineDash",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"setLineDash",args:t})}},{key:"setTransform",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"setTransform",args:t})}},{key:"scale",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"scale",args:t})}},{key:"stroke",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"stroke",args:t})}},{key:"strokeRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"strokeRect",args:t})}},{key:"strokeText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"strokeText",args:t})}},{key:"transform",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"transform",args:t})}},{key:"translate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"translate",args:t})}}]),e}();function C(e){var t=(0,g.default)(e);return{hex:t.hex(),opacity:t.alpha()}}t.PonyfillOffscreenContext=w;var E=function(){function e(t,n){(0,f.default)(this,e),this.width=t,this.height=n}return(0,p.default)(e,[{key:"getContext",value:function(e){if("2d"!==e)throw new Error("unknown type ".concat(e));return this.context=new w(this.width,this.height),this.context}},{key:"getSerializedSvg",value:function(){var e,t,n,r,a=[],o=[];return this.context.commands.forEach((function(i,l){if("font"===i.type&&i.style){var c=function(e){var t,n=null,r=null,a="normal",o="normal",i="normal",l="normal",c=e.split(/\s+/);e:for(;t=c.shift();)switch(t){case"normal":break;case"italic":case"oblique":a=t;break;case"small-caps":i=t;break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":o=t;break;default:if(!r){var u=t.split("/");r=u[0],u.length>1&&(l=u[1]);break}n=t,c.length&&(n+=" ".concat(c.join(" ")));break e}return{fontStyle:a,fontVariant:i,fontWeight:o,fontSize:r,lineHeight:l,fontFamily:n}}(i.style),u=c.fontStyle,f=c.fontFamily,p=c.fontSize;r={fontStyle:u,fontFamily:f,fontSize:p}}if("fillStyle"===i.type&&i.style&&(e=i.style),"strokeStyle"===i.type&&i.style&&(t=i.style),"fillRect"===i.type){var g=(0,d.default)(i.args,4),v=g[0],b=g[1],y=g[2],w=g[3],E=C(e),O=E.hex,k=E.opacity,x=Math.min(b,b+w),S=Math.abs(w);o.push(m.default.createElement("rect",{key:l,fill:O,fillOpacity:1!==k?k:void 0,x:v.toFixed(3),y:x.toFixed(3),width:y.toFixed(3),height:S.toFixed(3)}))}if("fillText"===i.type){var j=(0,d.default)(i.args,3),T=j[0],P=j[1],R=j[2],M=C(e),I=M.hex,L=M.opacity;o.push(m.default.createElement("text",Object.assign({key:l,fill:I,fillOpacity:1!==L?L:void 0,x:P.toFixed(3),y:R.toFixed(3)},r),T))}if("beginPath"===i.type&&(a=[]),"moveTo"===i.type&&a.push(i.args),"lineTo"===i.type&&a.push(i.args),i.type,"fill"===i.type){for(var A,F=(A=(0,h.default)()).moveTo.apply(A,(0,s.default)(a[0])),N=1;N<a.length;N++){var _;F=(_=F).lineTo.apply(_,(0,s.default)(a[N]))}F.end();var D=C(e),z=D.hex,B=D.opacity;o.push(m.default.createElement("path",{key:l,fill:z,d:F,fillOpacity:1!==B?B:void 0}))}if("stroke"===i.type){for(var H,V=(H=(0,h.default)()).moveTo.apply(H,(0,s.default)(a[0])),W=1;W<a.length;W++){var G;V=(G=V).lineTo.apply(G,(0,s.default)(a[W]))}V.end();var U=C(t),q=U.hex,$=U.opacity;o.push(m.default.createElement("path",{key:l,fill:"none",stroke:q,fillOpacity:1!==$?$:void 0,d:V}))}"rotate"===i.type&&(n=180*i.args[0]/Math.PI)})),n?m.default.createElement("g",{transform:"rotate(".concat(n,")")},[].concat(o)):m.default.createElement(m.default.Fragment,null,[].concat(o))}}]),e}();if(t.PonyfillOffscreenCanvas=E,b)t.createCanvas=a=function(e,t){return new OffscreenCanvas(e,t)},t.createImageBitmap=o=window.createImageBitmap||self.createImageBitmap,t.ImageBitmapType=i=window.ImageBitmap||self.ImageBitmap;else if(y){var O=n(760),k=O.createCanvas,x=O.Image;t.createCanvas=a=k,t.createImageBitmap=o=function(){var e=(0,u.default)(l.default.mark((function e(t){var n,r,a=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length<=1||!(a.length-1)){e.next=2;break}throw new Error("only one-argument uses of createImageBitmap are supported by the node offscreencanvas ponyfill");case 2:return n=t.toDataURL(),r=new x,e.abrupt("return",new Promise((function(e,t){r.onload=function(){return e(r)},r.onerror=t,r.src=n})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ImageBitmapType=i=x}else t.createCanvas=a=function(e,t){return new E(e,t)},t.createImageBitmap=o=function(e){return e.context},t.ImageBitmapType=i=(0,c.default)("StringArray")},565:function(e,t,n){"use strict";var r=n(9).default,a=n(14).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(26)),i=r(n(19)),l=r(n(11)),c=r(n(109)),u=r(n(47)),s=n(17),d=a(n(1)),f=["value","setValue","variant"],p=(0,s.makeStyles)((function(e){return{input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderRadius:e.shape.borderRadius,borderWidth:2}}})),m=d.default.forwardRef((function(e,t){var n=e.value,r=e.setValue,a=e.variant,m=(0,l.default)(e,f),h=(0,d.useState)(),g=(0,i.default)(h,2),v=g[0],b=g[1],y=(0,d.useState)(0),w=(0,i.default)(y,2),C=w[0],E=w[1],O=(0,d.useState)(null),k=(0,i.default)(O,2),x=k[0],S=k[1],j=(0,d.useState)(null),T=(0,i.default)(j,2),P=T[0],R=T[1],M=(0,d.useState)(!1),I=(0,i.default)(M,2),L=I[0],A=I[1];(0,d.useEffect)((function(){L&&(P&&P.blur(),A(!1))}),[L,P]);var F=p(e),N=(0,s.useTheme)(),_=x&&x.clientWidth;_&&_!==C&&E(_);return d.default.createElement("div",Object.assign({},m,{ref:t}),d.default.createElement("div",{style:{position:"relative"}},d.default.createElement(u.default,{ref:function(e){S(e)},component:"span",variant:a,className:F.typography},void 0===v?n:v)),d.default.createElement(c.default,{inputRef:function(e){R(e)},className:F.inputBase,inputProps:{style:(0,o.default)({width:C},a&&"inherit"!==a&&"srOnly"!==a?N.typography[a]:{})},classes:{input:F.input,root:F.inputRoot,focused:F.inputFocused},value:void 0===v?n:v,onChange:function(e){b(e.target.value)},onKeyDown:function(e){"Enter"===e.key?P&&P.blur():"Escape"===e.key&&(b(void 0),A(!0))},onBlur:function(){v&&v!==n&&r(v),b(void 0)}}))}));t.default=m},566:function(e,t,n){"use strict";e.exports=n(1684)},567:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(19)),i=r(n(62)),l=r(n(16)),c=r(n(15)),u=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,l.default)(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return(0,c.default)(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size+=1,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&(this._size-=1),this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:a.default.mark((function e(){var t,n,r,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,i.default)(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=(0,o.default)(n.value,1),l=r[0],e.next=7,l;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:a.default.mark((function e(){var t,n,r,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,i.default)(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=(0,o.default)(n.value,2),l=r[1],e.next=7,l;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:a.default.mark((function e(){var t,n,r,l,c,u,s,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,i.default)(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:l=(0,i.default)(this.oldCache),e.prev=18,l.s();case 20:if((c=l.n()).done){e.next=28;break}if(u=c.value,s=(0,o.default)(u,1),d=s[0],this.cache.has(d)){e.next=26;break}return e.next=26,u;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),l.e(e.t1);case 33:return e.prev=33,l.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=(0,i.default)(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||(t+=1)}}catch(e){n.e(e)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator);t.default=u},568:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(27)),l=r(n(28)),c=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,o.default)(this,n),(r=t.call(this,e)).stateModel=void 0,r.configSchema=void 0,r.displayName=void 0,r.description=void 0,r.url=void 0,r.configEditorComponent=void 0,r.stateModel=e.stateModel,r.configSchema=e.configSchema,r.displayName=e.displayName,r.description=e.description,r.url=e.url,r.configEditorComponent=e.configEditorComponent,!r.stateModel)throw new Error("no stateModel defined for connection ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema defined for connection ".concat(r.name));return r}return(0,a.default)(n)}(r(n(130)).default);t.default=c},569:function(e,t,n){"use strict";n.r(t),function(e,r,a){n.d(t,"DEFAULT_GRID_COL_TYPE_KEY",(function(){return Za})),n.d(t,"DEFAULT_GRID_OPTIONS",(function(){return Cn})),n.d(t,"DEFAULT_GRID_PROPS_FROM_OPTIONS",(function(){return wn})),n.d(t,"DEFAULT_GRID_SLOTS_COMPONENTS",(function(){return Dl})),n.d(t,"DataGrid",(function(){return vc})),n.d(t,"GRID_BOOLEAN_COLUMN_TYPE",(function(){return oo})),n.d(t,"GRID_CELL_CSS_CLASS",(function(){return Ko})),n.d(t,"GRID_CELL_CSS_CLASS_SUFFIX",(function(){return Uo})),n.d(t,"GRID_COLUMN_HEADER_CSS_CLASS",(function(){return qo})),n.d(t,"GRID_COLUMN_HEADER_CSS_CLASS_SUFFIX",(function(){return Wo})),n.d(t,"GRID_COLUMN_HEADER_DRAGGING_CSS_CLASS",(function(){return Zo})),n.d(t,"GRID_COLUMN_HEADER_DROP_ZONE_CSS_CLASS",(function(){return Yo})),n.d(t,"GRID_COLUMN_HEADER_SEPARATOR_RESIZABLE_CSS_CLASS",(function(){return Jo})),n.d(t,"GRID_COLUMN_HEADER_TITLE_CSS_CLASS",(function(){return Xo})),n.d(t,"GRID_CSS_CLASS_PREFIX",(function(){return Ho})),n.d(t,"GRID_DATETIME_COLUMN_TYPE",(function(){return ao})),n.d(t,"GRID_DATETIME_COL_DEF",(function(){return Ga})),n.d(t,"GRID_DATE_COLUMN_TYPE",(function(){return ro})),n.d(t,"GRID_DATE_COL_DEF",(function(){return Wa})),n.d(t,"GRID_DEFAULT_LOCALE_TEXT",(function(){return vn})),n.d(t,"GRID_EXPERIMENTAL_ENABLED",(function(){return Ii})),n.d(t,"GRID_NUMBER_COLUMN_TYPE",(function(){return no})),n.d(t,"GRID_NUMERIC_COL_DEF",(function(){return Aa})),n.d(t,"GRID_ROOT_CSS_CLASS_SUFFIX",(function(){return Vo})),n.d(t,"GRID_ROW_CSS_CLASS",(function(){return $o})),n.d(t,"GRID_ROW_CSS_CLASS_SUFFIX",(function(){return Go})),n.d(t,"GRID_STRING_COLUMN_TYPE",(function(){return to})),n.d(t,"GRID_STRING_COL_DEF",(function(){return Ta})),n.d(t,"GridAddIcon",(function(){return ya})),n.d(t,"GridApiContext",(function(){return Y})),n.d(t,"GridArrowDownwardIcon",(function(){return ia})),n.d(t,"GridArrowUpwardIcon",(function(){return oa})),n.d(t,"GridAutoSizer",(function(){return _o})),n.d(t,"GridBody",(function(){return ii})),n.d(t,"GridCell",(function(){return ti})),n.d(t,"GridCellCheckboxForwardRef",(function(){return Vr})),n.d(t,"GridCellCheckboxRenderer",(function(){return Wr})),n.d(t,"GridCellModes",(function(){return qa})),n.d(t,"GridCheckCircleIcon",(function(){return da})),n.d(t,"GridCheckIcon",(function(){return Oa})),n.d(t,"GridCloseIcon",(function(){return ba})),n.d(t,"GridColumnHeaderItem",(function(){return xo})),n.d(t,"GridColumnHeaderMenu",(function(){return ko})),n.d(t,"GridColumnHeaderSeparator",(function(){return ho})),n.d(t,"GridColumnHeaderSortIcon",(function(){return io})),n.d(t,"GridColumnHeaderTitle",(function(){return mo})),n.d(t,"GridColumnHeadersItemCollection",(function(){return So})),n.d(t,"GridColumnIcon",(function(){return fa})),n.d(t,"GridColumnMenu",(function(){return Ci})),n.d(t,"GridColumnMenuContainer",(function(){return bi})),n.d(t,"GridColumnsContainer",(function(){return Ao})),n.d(t,"GridColumnsHeader",(function(){return Lo})),n.d(t,"GridColumnsMenuItem",(function(){return gi})),n.d(t,"GridColumnsPanel",(function(){return Ai})),n.d(t,"GridDataContainer",(function(){return zo})),n.d(t,"GridDensityTypes",(function(){return bn})),n.d(t,"GridDragIcon",(function(){return Ca})),n.d(t,"GridEditInputCell",(function(){return Zr})),n.d(t,"GridEditModes",(function(){return Ua})),n.d(t,"GridEditSingleSelectCell",(function(){return Ja})),n.d(t,"GridEmptyCell",(function(){return _n})),n.d(t,"GridErrorHandler",(function(){return ci})),n.d(t,"GridEvents",(function(){return o})),n.d(t,"GridFeatureModeConstant",(function(){return yn})),n.d(t,"GridFilterAltIcon",(function(){return ca})),n.d(t,"GridFilterForm",(function(){return Bi})),n.d(t,"GridFilterInputValue",(function(){return Sa})),n.d(t,"GridFilterListIcon",(function(){return la})),n.d(t,"GridFilterMenuItem",(function(){return vi})),n.d(t,"GridFilterPanel",(function(){return Hi})),n.d(t,"GridFooter",(function(){return Xi})),n.d(t,"GridFooterContainer",(function(){return pi})),n.d(t,"GridFooterPlaceholder",(function(){return ui})),n.d(t,"GridHeader",(function(){return Yi})),n.d(t,"GridHeaderCheckbox",(function(){return Xr})),n.d(t,"GridHeaderPlaceholder",(function(){return si})),n.d(t,"GridLinkOperator",(function(){return kn})),n.d(t,"GridLoadIcon",(function(){return wa})),n.d(t,"GridLoadingOverlay",(function(){return Zi})),n.d(t,"GridMenu",(function(){return Oo})),n.d(t,"GridMenuIcon",(function(){return sa})),n.d(t,"GridNoRowsOverlay",(function(){return Qi})),n.d(t,"GridOverlay",(function(){return mi})),n.d(t,"GridOverlays",(function(){return oi})),n.d(t,"GridPagination",(function(){return tl})),n.d(t,"GridPanel",(function(){return _i})),n.d(t,"GridPanelContent",(function(){return Oi})),n.d(t,"GridPanelFooter",(function(){return xi})),n.d(t,"GridPanelHeader",(function(){return ji})),n.d(t,"GridPanelWrapper",(function(){return Ri})),n.d(t,"GridPreferencePanelsValue",(function(){return yo})),n.d(t,"GridPreferencesPanel",(function(){return Di})),n.d(t,"GridRenderingZone",(function(){return Bo})),n.d(t,"GridRoot",(function(){return fi})),n.d(t,"GridRow",(function(){return Qo})),n.d(t,"GridRowCells",(function(){return ni})),n.d(t,"GridRowCount",(function(){return Ki})),n.d(t,"GridRowModes",(function(){return $a})),n.d(t,"GridSaveAltIcon",(function(){return Ea})),n.d(t,"GridScrollArea",(function(){return Vn})),n.d(t,"GridSearchIcon",(function(){return ua})),n.d(t,"GridSelectedRowCount",(function(){return Ji})),n.d(t,"GridSeparatorIcon",(function(){return pa})),n.d(t,"GridStickyContainer",(function(){return ri})),n.d(t,"GridTableRowsIcon",(function(){return ha})),n.d(t,"GridToolbar",(function(){return $i})),n.d(t,"GridToolbarColumnsButton",(function(){return Vi})),n.d(t,"GridToolbarContainer",(function(){return hi})),n.d(t,"GridToolbarDensitySelector",(function(){return Wi})),n.d(t,"GridToolbarExport",(function(){return qi})),n.d(t,"GridToolbarFilterButton",(function(){return Ui})),n.d(t,"GridTripleDotsVerticalIcon",(function(){return va})),n.d(t,"GridViewHeadlineIcon",(function(){return ma})),n.d(t,"GridViewStreamIcon",(function(){return ga})),n.d(t,"GridViewport",(function(){return ai})),n.d(t,"GridWindow",(function(){return No})),n.d(t,"HideGridColMenuItem",(function(){return yi})),n.d(t,"MAX_PAGE_SIZE",(function(){return hc})),n.d(t,"SUBMIT_FILTER_STROKE_TIME",(function(){return xa})),n.d(t,"SortGridMenuItems",(function(){return wi})),n.d(t,"activeGridFilterItemsSelector",(function(){return ur})),n.d(t,"allGridColumnsFieldsSelector",(function(){return ee})),n.d(t,"allGridColumnsSelector",(function(){return ne})),n.d(t,"arSD",(function(){return Vl})),n.d(t,"bgBG",(function(){return Wl})),n.d(t,"checkGridRowIdIsValid",(function(){return ei})),n.d(t,"convertGridRowsPropToState",(function(){return Ol})),n.d(t,"csCZ",(function(){return Gl})),n.d(t,"deDE",(function(){return Ul})),n.d(t,"elGR",(function(){return ql})),n.d(t,"enUS",(function(){return $l})),n.d(t,"esES",(function(){return Kl})),n.d(t,"filterGridColumnLookupSelector",(function(){return dr})),n.d(t,"filterGridItemsCounterSelector",(function(){return sr})),n.d(t,"filterGridStateSelector",(function(){return cr})),n.d(t,"filterableGridColumnsIdsSelector",(function(){return ie})),n.d(t,"filterableGridColumnsSelector",(function(){return oe})),n.d(t,"frFR",(function(){return Jl})),n.d(t,"getGridColDef",(function(){return eo})),n.d(t,"getGridDateOperators",(function(){return Da})),n.d(t,"getGridDefaultColumnTypes",(function(){return Qa})),n.d(t,"getGridNumericColumnOperators",(function(){return La})),n.d(t,"getGridStringOperators",(function(){return ja})),n.d(t,"getInitialGridColumnReorderState",(function(){return En})),n.d(t,"getInitialGridColumnResizeState",(function(){return On})),n.d(t,"getInitialGridColumnsState",(function(){return gn})),n.d(t,"getInitialGridFilterState",(function(){return xn})),n.d(t,"getInitialGridRenderingState",(function(){return Pn})),n.d(t,"getInitialGridRowState",(function(){return jn})),n.d(t,"getInitialGridSortingState",(function(){return Tn})),n.d(t,"getInitialGridState",(function(){return Rn})),n.d(t,"getInitialVisibleGridRowsState",(function(){return Sn})),n.d(t,"gridCheckboxSelectionColDef",(function(){return Ia})),n.d(t,"gridClasses",(function(){return Nn})),n.d(t,"gridColumnLookupSelector",(function(){return te})),n.d(t,"gridColumnMenuStateSelector",(function(){return Er})),n.d(t,"gridColumnReorderDragColSelector",(function(){return Gn})),n.d(t,"gridColumnReorderSelector",(function(){return Wn})),n.d(t,"gridColumnResizeSelector",(function(){return Un})),n.d(t,"gridColumnsMetaSelector",(function(){return ae})),n.d(t,"gridColumnsSelector",(function(){return Q})),n.d(t,"gridColumnsTotalWidthSelector",(function(){return ce})),n.d(t,"gridDateFormatter",(function(){return Ha})),n.d(t,"gridDateTimeFormatter",(function(){return Va})),n.d(t,"gridEditRowsStateSelector",(function(){return Do})),n.d(t,"gridFocusCellSelector",(function(){return pr})),n.d(t,"gridFocusColumnHeaderSelector",(function(){return mr})),n.d(t,"gridFocusStateSelector",(function(){return fr})),n.d(t,"gridPaginatedVisibleSortedGridRowIdsSelector",(function(){return Ur})),n.d(t,"gridPaginationSelector",(function(){return Gr})),n.d(t,"gridPanelClasses",(function(){return Ni})),n.d(t,"gridPreferencePanelStateSelector",(function(){return vo})),n.d(t,"gridResizingColumnFieldSelector",(function(){return qn})),n.d(t,"gridRowCountSelector",(function(){return Kn})),n.d(t,"gridRowsLookupSelector",(function(){return Jn})),n.d(t,"gridRowsStateSelector",(function(){return $n})),n.d(t,"gridScrollbarStateSelector",(function(){return Io})),n.d(t,"gridSelectionStateSelector",(function(){return qr})),n.d(t,"gridSortColumnLookupSelector",(function(){return nr})),n.d(t,"gridSortModelSelector",(function(){return tr})),n.d(t,"gridTabIndexCellSelector",(function(){return gr})),n.d(t,"gridTabIndexColumnHeaderSelector",(function(){return vr})),n.d(t,"gridTabIndexStateSelector",(function(){return hr})),n.d(t,"gridViewportSizeStateSelector",(function(){return bo})),n.d(t,"itIT",(function(){return Xl})),n.d(t,"jaJP",(function(){return Yl})),n.d(t,"nlNL",(function(){return Zl})),n.d(t,"plPL",(function(){return ec})),n.d(t,"plPLGrid",(function(){return Ql})),n.d(t,"ptBR",(function(){return tc})),n.d(t,"renderEditInputCell",(function(){return Qr})),n.d(t,"renderEditSingleSelectCell",(function(){return Xa})),n.d(t,"ruRU",(function(){return rc})),n.d(t,"ruRUGrid",(function(){return nc})),n.d(t,"selectedGridRowsCountSelector",(function(){return $r})),n.d(t,"selectedGridRowsSelector",(function(){return Kr})),n.d(t,"selectedIdsLookupSelector",(function(){return Jr})),n.d(t,"skSK",(function(){return oc})),n.d(t,"skSKGrid",(function(){return ac})),n.d(t,"sortedGridRowIdsSelector",(function(){return Qn})),n.d(t,"sortedGridRowsSelector",(function(){return er})),n.d(t,"trTR",(function(){return ic})),n.d(t,"ukUA",(function(){return cc})),n.d(t,"ukUAGrid",(function(){return lc})),n.d(t,"unorderedGridRowIdsSelector",(function(){return Xn})),n.d(t,"unorderedGridRowModelsSelector",(function(){return Yn})),n.d(t,"useApi",(function(){return gl})),n.d(t,"useDataGridComponent",(function(){return mc})),n.d(t,"useGridApi",(function(){return Mn})),n.d(t,"useGridApiMethod",(function(){return hn})),n.d(t,"useGridApiRef",(function(){return Il})),n.d(t,"useGridColumnMenu",(function(){return nl})),n.d(t,"useGridColumnReorder",(function(){return rl})),n.d(t,"useGridColumnResize",(function(){return Al})),n.d(t,"useGridColumns",(function(){return ol})),n.d(t,"useGridComponents",(function(){return zl})),n.d(t,"useGridContainerProps",(function(){return vl})),n.d(t,"useGridControlState",(function(){return il})),n.d(t,"useGridEditRows",(function(){return xl})),n.d(t,"useGridFilter",(function(){return cl})),n.d(t,"useGridFocus",(function(){return ul})),n.d(t,"useGridKeyboard",(function(){return sl})),n.d(t,"useGridKeyboardNavigation",(function(){return dl})),n.d(t,"useGridLogger",(function(){return mn})),n.d(t,"useGridLoggerFactory",(function(){return pn})),n.d(t,"useGridPage",(function(){return hl})),n.d(t,"useGridPageSize",(function(){return yl})),n.d(t,"useGridParamsApi",(function(){return Cl})),n.d(t,"useGridPreferencesPanel",(function(){return wl})),n.d(t,"useGridReducer",(function(){return ll})),n.d(t,"useGridRows",(function(){return kl})),n.d(t,"useGridScroll",(function(){return Rl})),n.d(t,"useGridScrollFn",(function(){return fl})),n.d(t,"useGridSelection",(function(){return Sl})),n.d(t,"useGridSelector",(function(){return Ln})),n.d(t,"useGridSlotComponentProps",(function(){return Bl})),n.d(t,"useGridSorting",(function(){return jl})),n.d(t,"useGridState",(function(){return In})),n.d(t,"useGridVirtualization",(function(){return Tl})),n.d(t,"useNativeEventListener",(function(){return bl})),n.d(t,"visibleGridColumnsLengthSelector",(function(){return le})),n.d(t,"visibleGridColumnsSelector",(function(){return re})),n.d(t,"visibleGridRowCountSelector",(function(){return lr})),n.d(t,"visibleGridRowsStateSelector",(function(){return rr})),n.d(t,"visibleSortedGridRowIdsSelector",(function(){return ir})),n.d(t,"visibleSortedGridRowsAsArraySelector",(function(){return or})),n.d(t,"visibleSortedGridRowsSelector",(function(){return ar}));var o,i,l=n(1),c=n.n(l),u=n(12),s=n(1026),d=n(17),f=n(71),p=n(67),m=n(119),h=n(51),g=n(76),v=n(247),b=n(245),y=n(35),w=n(99),C=n(132),E=n(1827),O=n(1773),k=n(696),x=n(718),S=n(1019),j=n(1024),T=n(707),P=n(1779),R=n(683),M=n(719),I=n(1783),L=n(1791),A=n(681),F=n(1801),N=n(1800),_=n(1799),D=n(1807),z=n(685),B=n(698),H=n(1785),V=n(697),W=n(1793),G=n(705),U=n(1782),q=n(1835),$=n(776),K=n(0),J=n.n(K),X=n(1820);(i=o||(o={})).resize="resize",i.debouncedResize="debouncedResize",i.componentError="componentError",i.unmount="unmount",i.cellModeChange="cellModeChange",i.cellClick="cellClick",i.cellDoubleClick="cellDoubleClick",i.cellMouseDown="cellMouseDown",i.cellMouseUp="cellMouseUp",i.cellOver="cellOver",i.cellOut="cellOut",i.cellEnter="cellEnter",i.cellLeave="cellLeave",i.cellKeyDown="cellKeyDown",i.cellBlur="cellBlur",i.cellFocus="cellFocus",i.cellFocusIn="cellFocusIn",i.cellFocusOut="cellFocusOut",i.cellDragStart="cellDragStart",i.cellDragEnter="cellDragEnter",i.cellDragOver="cellDragOver",i.cellDragEnd="cellDragEnd",i.editCellPropsChange="editCellPropsChange",i.cellEditCommit="cellEditCommit",i.cellEditStart="cellEditStart",i.cellEditStop="cellEditStop",i.rowEditStart="rowEditStart",i.rowEditStop="rowEditStop",i.rowEditCommit="rowEditCommit",i.cellNavigationKeyDown="cellNavigationKeyDown",i.rowClick="rowClick",i.rowDoubleClick="rowDoubleClick",i.rowOver="rowOver",i.rowOut="rowOut",i.rowEnter="rowEnter",i.rowLeave="rowLeave",i.editRowsModelChange="editRowsModelChange",i.columnHeaderBlur="columnHeaderBlur",i.columnHeaderFocus="columnHeaderFocus",i.columnHeaderNavigationKeyDown="columnHeaderNavigationKeyDown",i.columnHeaderKeyDown="columnHeaderKeyDown",i.columnHeaderClick="columnHeaderClick",i.columnHeaderDoubleClick="columnHeaderDoubleClick",i.columnHeaderOver="columnHeaderOver",i.columnHeaderOut="columnHeaderOut",i.columnHeaderEnter="columnHeaderEnter",i.columnHeaderLeave="columnHeaderLeave",i.columnHeaderDragStart="columnHeaderDragStart",i.columnHeaderDragOver="columnHeaderDragOver",i.columnHeaderDragEnter="columnHeaderDragEnter",i.columnHeaderDragEnd="columnHeaderDragEnd",i.selectionChange="selectionChange",i.pageChange="pageChange",i.pageSizeChange="pageSizeChange",i.rowsScroll="rowsScroll",i.rowsScrollEnd="rowsScrollEnd",i.columnSeparatorMouseDown="columnSeparatorMouseDown",i.columnResize="columnResize",i.columnWidthChange="columnWidthChange",i.columnResizeStart="columnResizeStart",i.columnResizeStop="columnResizeStop",i.columnOrderChange="columnOrderChange",i.rowsUpdate="rowsUpdate",i.rowsSet="rowsSet",i.rowsClear="rowsClear",i.columnsChange="columnsChange",i.sortModelChange="sortModelChange",i.filterModelChange="filterModelChange",i.stateChange="stateChange",i.columnVisibilityChange="columnVisibilityChange",i.viewportRowsChange="viewportRowsChange";const Y=l.createContext(void 0);function Z(){const e=l.useContext(Y);if(void 0===e)throw new Error(["Material-UI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid or DataGridPro parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}const Q=e=>e.columns,ee=e=>e.columns.all,te=e=>e.columns.lookup,ne=Object(s.a)(ee,te,(e,t)=>e.map(e=>t[e])),re=Object(s.a)(ne,e=>e.filter(e=>null!=e.field&&!e.hide)),ae=Object(s.a)(re,e=>{const t=[];return{totalWidth:e.reduce((e,n)=>(t.push(e),e+n.computedWidth),0),positions:t}}),oe=Object(s.a)(ne,e=>e.filter(e=>e.filterable)),ie=Object(s.a)(oe,e=>e.map(e=>e.field)),le=Object(s.a)(re,e=>e.length),ce=Object(s.a)(ae,e=>e.totalWidth);function ue(e,t){return e===t||e!=e&&t!=t}function se(e,t){for(var n=e.length;n--;)if(ue(e[n][0],t))return n;return-1}var de=Array.prototype.splice;function fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fe.prototype.clear=function(){this.__data__=[],this.size=0},fe.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():de.call(t,n,1),--this.size,0))},fe.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},fe.prototype.has=function(e){return se(this.__data__,e)>-1},fe.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var pe="object"==typeof e&&e&&e.Object===Object&&e,me="object"==typeof self&&self&&self.Object===Object&&self,he=pe||me||Function("return this")(),ge=he.Symbol,ve=Object.prototype,be=ve.hasOwnProperty,ye=ve.toString,we=ge?ge.toStringTag:void 0,Ce=Object.prototype.toString,Ee=ge?ge.toStringTag:void 0;function Oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ee&&Ee in Object(e)?function(e){var t=be.call(e,we),n=e[we];try{e[we]=void 0;var r=!0}catch(e){}var a=ye.call(e);return r&&(t?e[we]=n:delete e[we]),a}(e):function(e){return Ce.call(e)}(e)}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){if(!ke(e))return!1;var t=Oe(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Se,je=he["__core-js_shared__"],Te=(Se=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+Se:"",Pe=Function.prototype.toString;function Re(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Me=/^\[object .+?Constructor\]$/,Ie=Function.prototype,Le=Object.prototype,Ae=Ie.toString,Fe=Le.hasOwnProperty,Ne=RegExp("^"+Ae.call(Fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _e(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ke(e)||(t=e,Te&&Te in t))&&(xe(e)?Ne:Me).test(Re(e));var t}(n)?n:void 0}var De=_e(he,"Map"),ze=_e(Object,"create"),Be=Object.prototype.hasOwnProperty,He=Object.prototype.hasOwnProperty;function Ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function We(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ue(e){var t=this.__data__=new fe(e);this.size=t.size}function qe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ge;++t<n;)this.add(e[t])}function $e(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ke(e,t,n,r,a,o){var i=1&n,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var s=-1,d=!0,f=2&n?new qe:void 0;for(o.set(e,t),o.set(t,e);++s<l;){var p=e[s],m=t[s];if(r)var h=i?r(m,p,s,t,e,o):r(p,m,s,e,t,o);if(void 0!==h){if(h)continue;d=!1;break}if(f){if(!$e(t,(function(e,t){if(i=t,!f.has(i)&&(p===e||a(p,e,n,r,o)))return f.push(t);var i}))){d=!1;break}}else if(p!==m&&!a(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}Ve.prototype.clear=function(){this.__data__=ze?ze(null):{},this.size=0},Ve.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ve.prototype.get=function(e){var t=this.__data__;if(ze){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Be.call(t,e)?t[e]:void 0},Ve.prototype.has=function(e){var t=this.__data__;return ze?void 0!==t[e]:He.call(t,e)},Ve.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ze&&void 0===t?"__lodash_hash_undefined__":t,this},Ge.prototype.clear=function(){this.size=0,this.__data__={hash:new Ve,map:new(De||fe),string:new Ve}},Ge.prototype.delete=function(e){var t=We(this,e).delete(e);return this.size-=t?1:0,t},Ge.prototype.get=function(e){return We(this,e).get(e)},Ge.prototype.has=function(e){return We(this,e).has(e)},Ge.prototype.set=function(e,t){var n=We(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ue.prototype.clear=function(){this.__data__=new fe,this.size=0},Ue.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ue.prototype.get=function(e){return this.__data__.get(e)},Ue.prototype.has=function(e){return this.__data__.has(e)},Ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!De||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ge(r)}return n.set(e,t),this.size=n.size,this},qe.prototype.add=qe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},qe.prototype.has=function(e){return this.__data__.has(e)};var Je=he.Uint8Array;function Xe(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ye(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ze=ge?ge.prototype:void 0,Qe=Ze?Ze.valueOf:void 0,et=Array.isArray,tt=Object.prototype.propertyIsEnumerable,nt=Object.getOwnPropertySymbols,rt=nt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i)&&(o[a++]=i)}return o}(nt(e),(function(t){return tt.call(e,t)})))}:function(){return[]};function at(e){return null!=e&&"object"==typeof e}function ot(e){return at(e)&&"[object Arguments]"==Oe(e)}var it=Object.prototype,lt=it.hasOwnProperty,ct=it.propertyIsEnumerable,ut=ot(function(){return arguments}())?ot:function(e){return at(e)&&lt.call(e,"callee")&&!ct.call(e,"callee")},st="object"==typeof exports&&exports&&!exports.nodeType&&exports,dt=st&&"object"==typeof r&&r&&!r.nodeType&&r,ft=dt&&dt.exports===st?he.Buffer:void 0,pt=(ft?ft.isBuffer:void 0)||function(){return!1},mt=/^(?:0|[1-9]\d*)$/;function ht(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&mt.test(e))&&e>-1&&e%1==0&&e<t}function gt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var bt,yt="object"==typeof exports&&exports&&!exports.nodeType&&exports,wt=yt&&"object"==typeof r&&r&&!r.nodeType&&r,Ct=wt&&wt.exports===yt&&pe.process,Et=function(){try{return Ct&&Ct.binding&&Ct.binding("util")}catch(e){}}(),Ot=Et&&Et.isTypedArray,kt=Ot?(bt=Ot,function(e){return bt(e)}):function(e){return at(e)&&gt(e.length)&&!!vt[Oe(e)]},xt=Object.prototype.hasOwnProperty;var St=Object.prototype,jt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Tt=Object.prototype.hasOwnProperty;function Pt(e){return null!=(t=e)&&gt(t.length)&&!xe(t)?function(e,t){var n=et(e),r=!n&&ut(e),a=!n&&!r&&pt(e),o=!n&&!r&&!a&&kt(e),i=n||r||a||o,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(var u in e)!t&&!xt.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ht(u,c))||l.push(u);return l}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||St))return jt(e);var t,n,r=[];for(var a in Object(e))Tt.call(e,a)&&"constructor"!=a&&r.push(a);return r}(e);var t}function Rt(e){return function(e,t,n){var r=t(e);return et(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Pt,rt)}var Mt=Object.prototype.hasOwnProperty,It=_e(he,"DataView"),Lt=_e(he,"Promise"),At=_e(he,"Set"),Ft=_e(he,"WeakMap"),Nt=Re(It),_t=Re(De),Dt=Re(Lt),zt=Re(At),Bt=Re(Ft),Ht=Oe;(It&&"[object DataView]"!=Ht(new It(new ArrayBuffer(1)))||De&&"[object Map]"!=Ht(new De)||Lt&&"[object Promise]"!=Ht(Lt.resolve())||At&&"[object Set]"!=Ht(new At)||Ft&&"[object WeakMap]"!=Ht(new Ft))&&(Ht=function(e){var t=Oe(e),n="[object Object]"==t?e.constructor:void 0,r=n?Re(n):"";if(r)switch(r){case Nt:return"[object DataView]";case _t:return"[object Map]";case Dt:return"[object Promise]";case zt:return"[object Set]";case Bt:return"[object WeakMap]"}return t});var Vt=Ht,Wt="[object Object]",Gt=Object.prototype.hasOwnProperty;function Ut(e,t,n,r,a){return e===t||(null==e||null==t||!at(e)&&!at(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var i=et(e),l=et(t),c=i?"[object Array]":Vt(e),u=l?"[object Array]":Vt(t),s=(c="[object Arguments]"==c?Wt:c)==Wt,d=(u="[object Arguments]"==u?Wt:u)==Wt,f=c==u;if(f&&pt(e)){if(!pt(t))return!1;i=!0,s=!1}if(f&&!s)return o||(o=new Ue),i||kt(e)?Ke(e,t,n,r,a,o):function(e,t,n,r,a,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Je(e),new Je(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ue(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Xe;case"[object Set]":var c=1&r;if(l||(l=Ye),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);var s=Ke(l(e),l(t),r,a,o,i);return i.delete(e),s;case"[object Symbol]":if(Qe)return Qe.call(e)==Qe.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=s&&Gt.call(e,"__wrapped__"),m=d&&Gt.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,g=m?t.value():t;return o||(o=new Ue),a(h,g,n,r,o)}}return!!f&&(o||(o=new Ue),function(e,t,n,r,a,o){var i=1&n,l=Rt(e),c=l.length;if(c!=Rt(t).length&&!i)return!1;for(var u=c;u--;){var s=l[u];if(!(i?s in t:Mt.call(t,s)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=i;++u<c;){var m=e[s=l[u]],h=t[s];if(r)var g=i?r(h,m,s,t,e,o):r(m,h,s,e,t,o);if(!(void 0===g?m===h||a(m,h,n,r,o):g)){f=!1;break}p||(p="constructor"==s)}if(f&&!p){var v=e.constructor,b=t.constructor;v==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,o))}(e,t,n,r,Ut,a))}function qt(e,t){return Ut(e,t)}function $t(e){return Object(m.a)(e)}const Kt="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;function Jt(e,t,n){const r={};return Object.keys(e).forEach(a=>{r[a]=e[a].reduce((e,r)=>(r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e),[]).join(" ")}),r}const Xt={active:"Mui-active",checked:"Mui-checked",disabled:"Mui-disabled",error:"Mui-error",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",expanded:"Mui-expanded",selected:"Mui-selected"};function Yt(e,t){return Xt[t]||`${e}-${t}`}function Zt(e,t){const n={};return t.forEach(t=>{n[t]=Yt(e,t)}),n}function Qt(e){return"function"==typeof e}function en(e){return e.type||e.mode}function tn(){return"fade"in d?"fade"in d&&"alpha"in d?"v4.12":"v4":"v5"}function nn(e,t){var n,r,a;return(null===(n=d)||void 0===n?void 0:n.alpha)?null===(r=d)||void 0===r?void 0:r.alpha(e,t):null===(a=d)||void 0===a?void 0:a.fade(e,t)}function rn(){var e,t,n;return(null===(e=d)||void 0===e?void 0:e.createTheme)?null===(t=d)||void 0===t?void 0:t.createTheme():null===(n=d)||void 0===n?void 0:n.createMuiTheme()}function an(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}function on(e){return Yt("MuiDataGrid",e)}function ln(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const cn=an()&&null!=window.localStorage.getItem("DEBUG"),un=()=>{},sn={debug:un,info:un,warn:un,error:un},dn=["debug","info","warn","error"];function fn(e,t,n=console){const r=dn.indexOf(t);if(-1===r)throw new Error(`Material-UI: Log level ${t} not recognized.`);return dn.reduce((t,a,o)=>(t[a]=o>=r?(...t)=>{const[r,...o]=t;n[a](`Material-UI: ${e} - ${r}`,...o)}:un,t),{})}function pn(e,t){e.current.getLogger=l.useCallback(e=>cn?fn(e,"debug",t.logger):t.logLevel?fn(e,t.logLevel.toString(),t.logger):sn,[t.logLevel,t.logger])}function mn(e,t){const n=l.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}function hn(e,t,n){const r=mn(e,"useGridApiMethod"),a=l.useRef(t),[o]=l.useState(Object.keys(t)),i=l.useCallback(()=>{e.current&&o.forEach(t=>{e.current.hasOwnProperty(t)||(r.debug(`Adding ${n}.${t} to apiRef`),e.current[t]=(...e)=>a.current[t](...e))})},[o,n,e,r]);l.useEffect(()=>{a.current=t},[t]),l.useEffect(()=>{i()},[i]),i()}const gn=()=>({all:[],lookup:{}}),vn={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>1!==e?e+" active filters":e+" active filter",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelOperators:"Operators",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>1!==e?e+" active filters":e+" active filter",columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>1!==e?e.toLocaleString()+" rows selected":e.toLocaleString()+" row selected",footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",booleanCellTrueLabel:"true",booleanCellFalseLabel:"false",MuiTablePagination:{}};var bn;!function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"}(bn||(bn={}));const yn={client:"client",server:"server"},wn={columnBuffer:2,density:bn.Standard,filterMode:yn.client,headerHeight:56,paginationMode:yn.client,rowHeight:52,rowsPerPageOptions:[25,50,100],scrollEndThreshold:80,sortingMode:yn.client,sortingOrder:["asc","desc",null],logger:console,logLevel:"error",editMode:"cell"},Cn=Object.assign(Object.assign({},wn),{localeText:vn});function En(){return{dragCol:""}}function On(){return{resizingColumnField:""}}var kn;!function(e){e.And="and",e.Or="or"}(kn||(kn={}));const xn=()=>({items:[],linkOperator:kn.And}),Sn=()=>({visibleRowsLookup:{}}),jn=()=>({idRowsLookup:{},allRows:[],totalRowCount:0});function Tn(){return{sortedRows:[],sortModel:[]}}const Pn=()=>({realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0}),Rn=()=>({rows:{idRowsLookup:{},allRows:[],totalRowCount:0},editRows:{},pagination:{page:0,pageCount:0,rowCount:0,pageSize:100},options:Cn,isScrolling:!1,columns:{all:[],lookup:{}},columnReorder:{dragCol:""},columnResize:{resizingColumnField:""},rendering:{realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0},containerSizes:null,scrollBar:{hasScrollX:!1,hasScrollY:!1,sizes:{x:0,y:0}},viewportSizes:{width:0,height:1},sorting:{sortedRows:[],sortModel:[]},focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null},selection:[],filter:xn(),columnMenu:{open:!1},preferencePanel:{open:!1},visibleRows:{visibleRowsLookup:{}},density:{value:bn.Standard,rowHeight:52,headerHeight:56}}),Mn=e=>{const t=mn(e,"useGridApi"),[,n]=l.useState();e.current.state||(t.info("Initialising state."),e.current.state=Rn(),e.current.forceUpdate=n);const r=l.useCallback(()=>e.current.state,[e]),a=l.useCallback(t=>{let r;r=Qt(t)?t(e.current.state):t,e.current.state=r,n(()=>r),e.current.publishEvent(o.stateChange,r)},[e]);return hn(e,{getState:r,setState:a},"GridStateApi"),e.current},In=e=>{Mn(e);const t=l.useCallback(()=>e.current.forceUpdate(()=>e.current.state),[e]),n=l.useCallback(t=>{const n=t(e.current.state);if(e.current.state===n)return!1;const{ignoreSetState:r,postUpdate:a}=e.current.applyControlStateConstraint(n);return r||(e.current.state=n,e.current.publishEvent&&e.current.publishEvent(o.stateChange,n)),a(),!r},[e]);return[e.current.state,n,t]},Ln=(e,t)=>{const[n]=In(e);return t(n)},An=e=>e.rendering,Fn=Object(s.a)(An,e=>e.realScroll),Nn=Zt("MuiDataGrid",["root","row","row--editing","cell","withBorder","cell--editing","cell--editable","cell--withRenderer","cell--textLeft","cell--textCenter","cell--textRight","columnHeader","columnHeader--dragging","columnHeaderWrapper","scrollArea","scrollArea--left","scrollArea--right","columnsContainer","toolbarContainer","overlay","main","dataContainer","window","windowContainer","viewport","autoHeight","columnHeaderCheckbox","cellCheckbox","columnHeader--sorted","columnHeader--sortable","columnHeader--moving","columnHeader--numeric","columnHeader--alignLeft","columnHeader--alignCenter","columnHeader--alignRight","columnHeaderDraggableContainer","columnHeaderTitle","iconButtonContainer","sortIcon","filterIcon","menuIcon","menuIconButton","columnHeaderTitleContainer","columnSeparator","columnSeparator--resizable","iconSeparator","menuOpen","columnHeaderWrapper","editInputCell","editBooleanCell","booleanCell","checkboxInput","rowCount","selectedRowCount","footerContainer","columnHeaderDropZone","columnHeaderDraggableContainer","renderingZone"]),_n=l.memo((function({width:e,height:t}){return e&&t?l.createElement("div",{style:{minWidth:e,maxWidth:e,lineHeight:t-1+"px",minHeight:t,maxHeight:t},className:Nn.cell}):null}));var Dn;function zn(e,t,n,r){const a=mn(e,"useGridApiEventHandler");l.useEffect(()=>{if(n&&t){const a=(e,t,r)=>{t.defaultMuiPrevented||n(e,t,r)};return e.current.subscribeEvent(t,a,r)}},[e,a,t,n,r])}!function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"}(Dn||(Dn={}));const Bn={isFirst:!0};function Hn(e,t,n){zn(e,t,n,Bn)}const Vn=l.memo((function(e){const{scrollDirection:t}=e,n=l.useRef(null),r=Z(),a=l.useRef(),[i,c]=l.useState(!1),s=l.useRef({left:0,top:0}),d=l.useCallback(e=>{s.current=e},[]),f=l.useCallback(e=>{let o;if("left"===t)o=e.clientX-n.current.getBoundingClientRect().right;else{if("right"!==t)throw new Error("wrong dir");o=Math.max(1,e.clientX-n.current.getBoundingClientRect().left)}o=1.5*(o-1)+1,clearTimeout(a.current),a.current=setTimeout(()=>{r.current.scroll({left:s.current.left+o,top:s.current.top})})},[t,r]);l.useEffect(()=>()=>{clearTimeout(a.current)},[]);const p=l.useCallback(()=>{c(e=>!e)},[]);return zn(r,o.rowsScroll,d),zn(r,o.columnHeaderDragStart,p),zn(r,o.columnHeaderDragEnd,p),i?l.createElement("div",{ref:n,className:Object(u.default)(Nn.scrollArea,Nn["scrollArea--"+t]),onDragOver:f}):null})),Wn=e=>e.columnReorder,Gn=Object(s.a)(Wn,e=>e.dragCol),Un=e=>e.columnResize,qn=Object(s.a)(Un,e=>e.resizingColumnField),$n=e=>e.rows,Kn=Object(s.a)($n,e=>e&&e.totalRowCount),Jn=Object(s.a)($n,e=>e&&e.idRowsLookup),Xn=Object(s.a)($n,e=>e.allRows),Yn=Object(s.a)($n,e=>e.allRows.map(t=>e.idRowsLookup[t])),Zn=e=>e.sorting,Qn=Object(s.a)(Zn,Xn,(e,t)=>e.sortedRows.length?e.sortedRows:t),er=Object(s.a)(Qn,Jn,(e,t)=>{const n=new Map;return e.forEach(e=>{n.set(e,t[e])}),n}),tr=Object(s.a)(Zn,e=>e.sortModel),nr=Object(s.a)(tr,e=>e.reduce((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t),{})),rr=e=>e.visibleRows,ar=Object(s.a)(rr,er,(e,t)=>{const n=new Map;return t.forEach((t,r)=>{!1!==e.visibleRowsLookup[r]&&n.set(r,t)}),n}),or=Object(s.a)(ar,e=>[...e.entries()]),ir=Object(s.a)(ar,e=>[...e.keys()]),lr=Object(s.a)(rr,Kn,(e,t)=>null==e.visibleRows?t:e.visibleRows.length),cr=e=>e.filter,ur=Object(s.a)(cr,te,(e,t)=>{var n;return null===(n=e.items)||void 0===n?void 0:n.filter(e=>{var n,r;if(!e.columnField)return!1;const a=t[e.columnField];if(!(null==a?void 0:a.filterOperators)||0===(null===(n=null==a?void 0:a.filterOperators)||void 0===n?void 0:n.length))return!1;const o=a.filterOperators.find(t=>t.value===e.operatorValue);return!!o&&(!o.InputComponent||null!=e.value&&""!==(null===(r=e.value)||void 0===r?void 0:r.toString()))})}),sr=Object(s.a)(ur,e=>e.length),dr=Object(s.a)(ur,e=>e.reduce((e,t)=>(e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e),{})),fr=e=>e.focus,pr=Object(s.a)(fr,e=>e.cell),mr=Object(s.a)(fr,e=>e.columnHeader),hr=e=>e.tabIndex,gr=Object(s.a)(hr,e=>e.cell),vr=Object(s.a)(hr,e=>e.columnHeader),br=e=>e.density,yr=Object(s.a)(br,e=>e.value),wr=Object(s.a)(br,e=>e.rowHeight),Cr=Object(s.a)(br,e=>e.headerHeight),Er=e=>e.columnMenu,Or=e=>e.options,kr=e=>"Escape"===e,xr=e=>"Enter"===e,Sr=e=>"Tab"===e,jr=e=>" "===e,Tr=e=>0===e.indexOf("Arrow"),Pr=e=>"Home"===e||"End"===e,Rr=e=>0===e.indexOf("Page"),Mr=e=>"Delete"===e||"Backspace"===e,Ir=/^(\p{L}|\p{M}\p{L}|\p{M}|\p{N}|\p{Z}|\p{S}|\p{P})$/iu,Lr=e=>Ir.test(e),Ar=["Enter","Escape","Tab"],Fr=["Enter","Tab"],Nr=e=>Fr.indexOf(e)>-1,_r=e=>Pr(e)||Tr(e)||Rr(e)||jr(e),Dr=e=>!!e.key,zr=e=>Sr(e)||kr(e),Br=l.createContext(void 0),Hr=()=>{const e=l.useContext(Br);if(!e)throw new Error("Material-UI: useGridRootProps should only be used inside the DataGrid/DataGridPro component.");return e},Vr=l.forwardRef((function(e,t){var n;const{field:r,id:a,value:i,tabIndex:c,hasFocus:u}=e,s=Z(),d=Hr(),f=l.useRef(null),p=Object(h.a)(f,t),m=s.current.getCellElement(a,r);l.useLayoutEffect(()=>{0===c&&m&&(m.tabIndex=-1)},[m,c]),l.useLayoutEffect(()=>{u&&f.current&&f.current.querySelector("input").focus()},[u]);const g=l.useCallback(t=>{jr(t.key)&&t.stopPropagation(),_r(t.key)&&!t.shiftKey&&s.current.publishEvent(o.cellNavigationKeyDown,e,t)},[s,e]),v=null==s?void 0:s.current.components.Checkbox,b=!d.isRowSelectable||d.isRowSelectable(s.current.getRowParams(a));return l.createElement(v,Object.assign({ref:p,tabIndex:c,checked:!!i,onChange:e=>{s.current.selectRow(a,e.target.checked,!0)},onClick:e=>{e.stopPropagation()},className:Nn.checkboxInput,color:"primary",inputProps:{"aria-label":"Select Row checkbox"},onKeyDown:g,disabled:!b},null===(n=null==s?void 0:s.current.componentsProps)||void 0===n?void 0:n.checkbox))})),Wr=l.memo(Vr),Gr=e=>e.pagination,Ur=Object(s.a)(Gr,ir,(e,t)=>{const n=e.page*e.pageSize,r=n+e.pageSize;return t.slice(n,r)}),qr=e=>e.selection,$r=Object(s.a)(qr,e=>e.length),Kr=Object(s.a)(qr,Jn,(e,t)=>new Map(e.map(e=>[e,t[e]]))),Jr=Object(s.a)(qr,e=>e.reduce((e,t)=>(e[t]=t,e),{})),Xr=l.forwardRef((function(e,t){var n;const[,r]=l.useState(!1),a=Z(),i=Hr(),c=Ln(a,vr),u=Ln(a,$r),s=Ln(a,Kn),d=u>0&&u!==s,f=u>0&&u===s||d,p=null!==c&&c.field===e.field?0:-1;l.useLayoutEffect(()=>{const t=a.current.getColumnHeaderElement(e.field);0===p&&t&&(t.tabIndex=-1)},[p,a,e.field]);const m=l.useCallback(t=>{jr(t.key)&&t.stopPropagation(),_r(t.key)&&!t.shiftKey&&a.current.publishEvent(o.columnHeaderNavigationKeyDown,e,t)},[a,e]),h=l.useCallback(()=>{r(e=>!e)},[]);l.useEffect(()=>null==a?void 0:a.current.subscribeEvent(o.selectionChange,h),[a,h]);const g=null==a?void 0:a.current.components.Checkbox;return l.createElement(g,Object.assign({ref:t,indeterminate:d,checked:f,onChange:e=>{const t=e.target.checked,n=i.checkboxSelectionVisibleOnly&&i.pagination?Ur(a.current.state):ir(a.current.state);a.current.selectRows(n,t,!e.target.indeterminate)},className:Nn.checkboxInput,color:"primary",inputProps:{"aria-label":"Select All Rows checkbox"},tabIndex:p,onKeyDown:m},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.checkbox))}));function Yr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Zr(e){const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:u,isEditable:s,tabIndex:d,hasFocus:f,getValue:p}=e,m=Yr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),h=l.useRef(),[g,v]=l.useState(n),b=l.useCallback(e=>{const n=e.target.value;v(n),a.setEditCellValue({id:t,field:o,value:n},e)},[a,o,t]);return l.useEffect(()=>{v(n)},[n]),Kt(()=>{f&&h.current.focus()},[f]),l.createElement(k.a,Object.assign({inputRef:h,className:Nn.editInputCell,fullWidth:!0,type:"number"===c.type?c.type:"text",value:g||"",onChange:b},m))}const Qr=e=>l.createElement(Zr,Object.assign({},e)),ea=(e,t)=>{const n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},ta=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,na=new Intl.Collator,ra=(e,t)=>{const n=ta(e,t);return null!==n?n:Number(e)-Number(t)},aa=(e,t)=>{const n=ta(e,t);return null!==n?n:e>t?1:e<t?-1:0},oa=Object(g.a)(l.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ia=Object(g.a)(l.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),la=Object(g.a)(l.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),ca=Object(g.a)(l.createElement("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),ua=Object(g.a)(l.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),sa=Object(g.a)(l.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),da=Object(g.a)(l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),fa=Object(g.a)(l.createElement("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),pa=Object(g.a)(l.createElement("path",{d:"M11 19V5h2v14z"}),"Separator"),ma=Object(g.a)(l.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),ha=Object(g.a)(l.createElement("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),ga=Object(g.a)(l.createElement("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),va=Object(g.a)(l.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),ba=Object(g.a)(l.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ya=Object(g.a)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),wa=Object(g.a)(l.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Ca=Object(g.a)(l.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Ea=Object(g.a)(l.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Oa=Object(g.a)(l.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),ka=({valueOptions:e})=>(e?["",...e]:[""]).map(e=>"object"==typeof e?l.createElement("option",{key:e.value,value:e.value},e.label):l.createElement("option",{key:e,value:e},e)),xa=500;function Sa(e){const{item:t,applyValue:n,type:r,apiRef:a}=e,o=Yr(e,["item","applyValue","type","apiRef"]),i=l.useRef(),[c,u]=l.useState(t.value||""),[s,d]=l.useState(!1),f=Object(v.a)(),p="singleSelect"===r?{select:!0,SelectProps:{native:!0},children:ka(a.current.getColumn(t.columnField))}:{},m=l.useCallback(e=>{let o=e.target.value;if("singleSelect"===r){const e=a.current.getColumn(t.columnField);o=e.valueOptions.map(e=>"object"==typeof e?e.value:e).find(e=>String(e)===o)}clearTimeout(i.current),u(o),d(!0),i.current=setTimeout(()=>{n(Object.assign(Object.assign({},t),{value:o})),d(!1)},500)},[a,n,t,r]);l.useEffect(()=>()=>{clearTimeout(i.current)},[]),l.useEffect(()=>{u(t.value||"")},[t.value]);const h=s?{endAdornment:l.createElement(wa,null)}:o.InputProps;return l.createElement(x.a,Object.assign({id:f,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:c,onChange:m,type:r||"text",variant:"standard",InputProps:h,InputLabelProps:{shrink:!0}},p,o))}const ja=()=>[{value:"contains",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(ln(e.value),"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Sa},{value:"equals",getApplyFilterFn:e=>{if(!e.value)return null;const t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:n})=>0===t.compare(e.value,n&&n.toString()||"")},InputComponent:Sa},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(`^${ln(e.value)}.*$`,"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Sa},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(`.*${ln(e.value)}$`,"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Sa},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>""===e||null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>""!==e&&null!=e}],Ta={width:100,minWidth:50,hide:!1,sortable:!0,resizable:!0,filterable:!0,sortComparator:(e,t)=>{const n=ta(e,t);return null!==n?n:"string"==typeof e?na.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:ja(),renderEditCell:Qr},Pa=l.memo(e=>{const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:u,isEditable:s,hasFocus:d,tabIndex:f,getValue:p}=e,m=Yr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"]),h=l.useMemo(()=>n?a.components.BooleanCellTrueIcon:a.components.BooleanCellFalseIcon,[a.components.BooleanCellFalseIcon,a.components.BooleanCellTrueIcon,n]);return l.createElement(h,Object.assign({fontSize:"small",className:Nn.booleanCell,titleAccess:a.getLocaleText(n?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(n)},m))});function Ra(e){const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:s,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:h}=e,g=Yr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),b=l.useRef(null),y=Object(v.a)(),[w,C]=l.useState(n),E=l.useCallback(e=>{const n=e.target.checked;C(n),a.setEditCellValue({id:t,field:o,value:n},e)},[a,o,t]);return l.useEffect(()=>{C(n)},[n]),Kt(()=>{h&&b.current.focus()},[h]),l.createElement("label",Object.assign({htmlFor:y,className:Object(u.default)(Nn.editBooleanCell,p)},g),l.createElement(S.a,{id:y,inputRef:b,checked:Boolean(w),onChange:E,size:"small"}))}const Ma=Object.assign(Object.assign({},Ta),{type:"boolean",align:"center",headerAlign:"center",renderCell:e=>l.createElement(Pa,Object.assign({},e)),renderEditCell:e=>l.createElement(Ra,Object.assign({},e)),sortComparator:ra,valueFormatter:function({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")},filterOperators:[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t="true"===e.value;return({value:e})=>Boolean(e)===t},InputComponent:function(e){const{item:t,applyValue:n,apiRef:r}=e,a=Yr(e,["item","applyValue","apiRef"]),[o,i]=l.useState(t.value||""),c=l.useCallback(e=>{const r=e.target.value;i(r),n(Object.assign(Object.assign({},t),{value:r}))},[n,t]);return l.useEffect(()=>{i(t.value||"")},[t.value]),l.createElement(x.a,Object.assign({label:r.current.getLocaleText("filterPanelInputLabel"),value:o,onChange:c,variant:"standard",select:!0,SelectProps:{native:!0},InputLabelProps:{shrink:!0}},a),l.createElement("option",{value:""},r.current.getLocaleText("filterValueAny")),l.createElement("option",{value:"true"},r.current.getLocaleText("filterValueTrue")),l.createElement("option",{value:"false"},r.current.getLocaleText("filterValueFalse")))}}]}),Ia=Object.assign(Object.assign({},Ma),{field:"__check__",type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,valueGetter:e=>void 0!==Jr(e.api.state)[e.id],renderHeader:e=>l.createElement(Xr,Object.assign({},e)),renderCell:e=>l.createElement(Wr,Object.assign({},e)),cellClassName:Nn.cellCheckbox,headerClassName:Nn.columnHeaderCheckbox}),La=()=>[{label:"=",value:"=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)===e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)!==e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)>e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)>=e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)<e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)<=e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>null!=e}],Aa=Object.assign(Object.assign({},Ta),{type:"number",align:"right",headerAlign:"right",sortComparator:ra,valueParser:e=>Number(e),valueFormatter:({value:e})=>e&&function(e){return"number"==typeof e}(e)&&e.toLocaleString()||e,filterOperators:La()}),Fa=/(\d+)-(\d+)-(\d+)/,Na=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function _a(e,t,n,r){if(!e.value)return null;const[a,o,i,l,c]=e.value.match(n?Na:Fa).slice(1).map(Number),u=new Date(a,o-1,i,l||0,c||0).getTime();return({value:e})=>{if(!e)return!1;const a=e instanceof Date?e:new Date(e.toString());if(r)return t(a.getTime(),u);const o=(e instanceof Date?new Date(a):a).setHours(n?a.getHours():0,n?a.getMinutes():0,0,0);return t(o,u)}}const Da=e=>[{value:"is",getApplyFilterFn:t=>_a(t,(e,t)=>e===t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>_a(t,(e,t)=>e!==t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>_a(t,(e,t)=>e>t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>_a(t,(e,t)=>e>=t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>_a(t,(e,t)=>e<t,e,!e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>_a(t,(e,t)=>e<=t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>null!=e}];function za(e){const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:u,isEditable:s,tabIndex:d,hasFocus:f,getValue:p}=e,m=Yr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),h=l.useRef(),[g,v]=l.useState(n),b=l.useCallback(e=>{const n=e.target.value;if(v(n),""===n)return void a.setEditCellValue({id:t,field:o,value:null},e);const[r,i]=n.split("T"),[l,c,u]=r.split("-"),s=new Date;if(s.setFullYear(Number(l)),s.setMonth(Number(c)-1),s.setDate(Number(u)),s.setHours(0,0,0,0),i){const[e,t]=i.split(":");s.setHours(Number(e),Number(t),0,0)}a.setEditCellValue({id:t,field:o,value:s},e)},[a,o,t]),y="dateTime"===c.type;l.useEffect(()=>{v(n)},[n]),Kt(()=>{f&&h.current.focus()},[f]);let w=g||"";if(g instanceof Date){const e=g.getTimezoneOffset();w=new Date(g.getTime()-60*e*1e3).toISOString().substr(0,y?16:10)}return l.createElement(k.a,Object.assign({inputRef:h,fullWidth:!0,className:Nn.editInputCell,type:y?"datetime-local":"date",value:w,onChange:b},m))}const Ba=e=>l.createElement(za,Object.assign({},e));function Ha({value:e}){return e instanceof Date?e.toLocaleDateString():e}function Va({value:e}){return e instanceof Date?e.toLocaleString():e}const Wa=Object.assign(Object.assign({},Ta),{type:"date",sortComparator:aa,valueFormatter:Ha,filterOperators:Da(),renderEditCell:Ba}),Ga=Object.assign(Object.assign({},Ta),{type:"dateTime",sortComparator:aa,valueFormatter:Va,filterOperators:Da(!0),renderEditCell:Ba});var Ua,qa,$a;!function(e){e.Cell="cell",e.Row="row"}(Ua||(Ua={})),function(e){e.Edit="edit",e.View="view"}(qa||(qa={})),function(e){e.Edit="edit",e.View="view"}($a||($a={}));const Ka=e=>"object"==typeof e?l.createElement(T.a,{key:e.value,value:e.value},e.label):l.createElement(T.a,{key:e,value:e},e);function Ja(e){var t;const{id:n,value:r,formattedValue:a,api:o,field:i,row:c,colDef:u,cellMode:s,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:h}=e,g=Yr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),v=l.useRef(),b=Hr(),[y,w]=l.useState("cell"===b.editMode);return Kt(()=>{h&&v.current.querySelector('[role="button"]').focus()},[h]),l.createElement(j.a,Object.assign({ref:v,value:r,onChange:e=>{w(!1),o.setEditCellValue({id:n,field:i,value:e.target.value},e),e.key||"cell"!==b.editMode||(o.commitCellChange({id:n,field:i},e),o.setCellMode(n,i,"view"))},open:y,onOpen:()=>{w(!0)},MenuProps:{onClose:(e,t)=>{b.editMode!==Ua.Row?("backdropClick"===t||kr(e.key))&&o.setCellMode(n,i,"view"):w(!1)}},fullWidth:!0},g),null===(t=u.valueOptions)||void 0===t?void 0:t.map(Ka))}const Xa=e=>l.createElement(Ja,Object.assign({},e)),Ya=Object.assign(Object.assign({},Ta),{type:"singleSelect",renderEditCell:Xa,filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:({value:t})=>"object"==typeof t?e.value===t.value:e.value===t,InputComponent:Sa,InputComponentProps:{type:"singleSelect"}},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:({value:t})=>"object"==typeof t?e.value!==t.value:e.value!==t,InputComponent:Sa,InputComponentProps:{type:"singleSelect"}}]}),Za="__default__",Qa=()=>{const e={string:Ta,number:Aa,date:Wa,dateTime:Ga,boolean:Ma,singleSelect:Ya};return e.__default__=Ta,e},eo=(e,t)=>t?e[t]:e.__default__,to="string",no="number",ro="date",ao="dateTime",oo="boolean",io=l.memo((function(e){const{direction:t,index:n}=e,r=Z(),a=r.current.components.ColumnUnsortedIcon;if(null==t&&null===a)return null;const o=l.createElement(R.a,{tabIndex:-1,"aria-label":r.current.getLocaleText("columnHeaderSortIconLabel"),title:r.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},function(e,t){let n=e.ColumnUnsortedIcon;return"asc"===t?n=e.ColumnSortedAscendingIcon:"desc"===t&&(n=e.ColumnSortedDescendingIcon),l.createElement(n,{fontSize:"small",className:Nn.sortIcon})}(r.current.components,t));return l.createElement("div",{className:Nn.iconButtonContainer},null!=n&&l.createElement(P.a,{badgeContent:n,color:"default"},o),null==n&&o)}));function lo(e,t){return e.closest("."+t)}function co(e){return null!=e&&e.classList.contains(Nn.columnHeader)}function uo(e){const t=e.getAttribute("data-field"),n=lo(e,"MuiDataGrid-root");if(!n)throw new Error("Material-UI: The root element is not found.");return n.querySelectorAll(`.${Nn.cell}[data-field="${t}"]`)}function so(e){return e.replace(/["\\]/g,"\\$&")}function fo(e,t){return e.querySelector(`.${Nn.row}[data-id="${so(String(t))}"]`)}const po=l.forwardRef((function(e,t){const{className:n}=e,r=Yr(e,["className"]);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.columnHeaderTitle,n)},r))}));function mo(e){const{label:t,description:n,columnWidth:r}=e,a=l.useRef(null),[o,i]=l.useState("");return l.useEffect(()=>{if(!n&&a&&a.current){const n=(e=a.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;i(n?t:"")}var e},[a,r,n,t]),l.createElement(M.a,{title:n||o},l.createElement(po,{ref:a},t))}const ho=l.memo((function(e){const{resizable:t,resizing:n,height:r}=e,a=Yr(e,["resizable","resizing","height"]),o=Z(),i=Hr(),c=o.current.components.ColumnResizeIcon,s=l.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]);return l.createElement("div",Object.assign({className:Object(u.default)(Nn.columnSeparator,{[Nn["columnSeparator--resizable"]]:t,"Mui-resizing":n}),style:{minHeight:r,opacity:i.showColumnRightBorder?0:1}},a,{onClick:s}),l.createElement(c,{className:Nn.iconSeparator}))})),go=l.memo(e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:a,iconButtonRef:o}=e,i=Z(),c=i.current.components.ColumnMenuIcon,s=l.useCallback(e=>{e.preventDefault(),e.stopPropagation(),i.current.toggleColumnMenu(t.field)},[i,t.field]);return l.createElement("div",{className:Object(u.default)(Nn.menuIcon,{[Nn.menuOpen]:n})},l.createElement(R.a,{ref:o,tabIndex:-1,className:Nn.menuIconButton,"aria-label":i.current.getLocaleText("columnMenuLabel"),title:i.current.getLocaleText("columnMenuLabel"),size:"small",onClick:s,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:a},l.createElement(c,{fontSize:"small"})))}),vo=e=>e.preferencePanel,bo=e=>e.viewportSizes;var yo;function wo(e){const{counter:t}=e,n=Z(),r=n.current.components.ColumnFilteredIcon,a=l.useCallback(e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:r}=vo(n.current.state);t&&r===yo.filters?n.current.hideFilterPanel():n.current.showFilterPanel()},[n]);if(!t)return null;const o=l.createElement(R.a,{onClick:a,color:"default","aria-label":n.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1},l.createElement(r,{className:Nn.filterIcon,fontSize:"small"}));return l.createElement(M.a,{title:n.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},l.createElement("div",{className:Nn.iconButtonContainer},t>1&&l.createElement(P.a,{badgeContent:t,color:"default"},o),1===t&&o))}!function(e){e.filters="filters",e.columns="columns"}(yo||(yo={}));const Co=Object(E.a)(e=>({root:{zIndex:e.zIndex.modal,"& .MuiDataGrid-gridMenuList":{outline:0}}}),{name:"MuiGridMenu",defaultTheme:rn()}),Eo={"bottom-start":"top left","bottom-end":"top right"},Oo=e=>{const{open:t,target:n,onClickAway:r,children:a,position:o}=e,i=Yr(e,["open","target","onClickAway","children","position"]),c=l.useRef(n),u=l.useRef(t),s=Co();return l.useEffect(()=>{u.current&&c.current&&c.current.focus(),u.current=t,c.current=n},[t,n]),l.createElement(F.a,Object.assign({className:s.root,open:t,anchorEl:n,transition:!0,placement:o},i),({TransitionProps:e,placement:t})=>l.createElement(I.a,{onClickAway:r},l.createElement(L.a,Object.assign({},e,{style:{transformOrigin:Eo[t]}}),l.createElement(A.a,null,a))))};function ko({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:a,open:o,target:i}){const c=Z(),u=null==c?void 0:c.current.getColumn(a),s=l.useCallback(e=>{e.stopPropagation(),null==c||c.current.hideColumnMenu()},[c]);return i?l.createElement(Oo,{placement:"bottom-"+("right"===u.align?"start":"end"),open:o,target:i,onClickAway:s},l.createElement(n,Object.assign({currentColumn:u,hideMenu:s,open:o,id:e,labelledby:t},r))):null}function xo(e){var t;const{column:n,columnMenuOpen:r,colIndex:a,headerHeight:i,isDragging:c,isResizing:s,sortDirection:d,sortIndex:f,options:p,filterItemsCounter:m,hasFocus:h,tabIndex:g}=e,b=Z(),y=l.useRef(null),w=Object(v.a)(),C=Object(v.a)(),E=l.useRef(null),{classes:O,disableColumnReorder:k,showColumnRightBorder:x,disableColumnResize:S,disableColumnMenu:j,disableColumnFilter:T}=p,P=null!=d,R="number"===n.type;let M=null;n.renderHeader&&b.current&&(M=n.renderHeader(b.current.getColumnHeaderParams(n.field)));const I=l.useCallback(e=>t=>b.current.publishEvent(e,b.current.getColumnHeaderParams(n.field),t),[b,n.field]),L=l.useMemo(()=>({onClick:I(o.columnHeaderClick),onDoubleClick:I(o.columnHeaderDoubleClick),onMouseOver:I(o.columnHeaderOver),onMouseOut:I(o.columnHeaderOut),onMouseEnter:I(o.columnHeaderEnter),onMouseLeave:I(o.columnHeaderLeave),onKeyDown:I(o.columnHeaderKeyDown),onFocus:I(o.columnHeaderFocus),onBlur:I(o.columnHeaderBlur)}),[I]),A=l.useMemo(()=>({onDragStart:I(o.columnHeaderDragStart),onDragEnter:I(o.columnHeaderDragEnter),onDragOver:I(o.columnHeaderDragOver),onDragEnd:I(o.columnHeaderDragEnd)}),[I]),F=l.useMemo(()=>({onMouseDown:I(o.columnSeparatorMouseDown)}),[I]),N=[null==O?void 0:O.columnHeader];if(n.headerClassName){const e=Qt(n.headerClassName)?n.headerClassName({field:n.field,colDef:n}):n.headerClassName;N.push(e)}const _=Object(u.default)("center"===n.headerAlign&&Nn["columnHeader--alignCenter"],"right"===n.headerAlign&&Nn["columnHeader--alignRight"],{[Nn["columnHeader--sortable"]]:n.sortable,[Nn["columnHeader--moving"]]:c,[Nn["columnHeader--sorted"]]:P,[Nn["columnHeader--numeric"]]:R,[Nn.withBorder]:x},...N),D=n.computedWidth;let z;null!=d&&(z={"aria-sort":"asc"===d?"ascending":"descending"});const B=!j&&!n.disableColumnMenu&&l.createElement(go,{column:n,columnMenuId:w,columnMenuButtonId:C,open:r,iconButtonRef:E}),H=l.createElement(l.Fragment,null,!T&&l.createElement(wo,{counter:m}),n.sortable&&!n.hideSortIcons&&l.createElement(io,{direction:d,index:f}));return l.useLayoutEffect(()=>{const e=b.current.state.columnMenu;if(h&&!e.open){const e=y.current.querySelector('[tabindex="0"]');e?e.focus():y.current.focus()}}),l.createElement("div",Object.assign({ref:y,className:_,key:n.field,"data-field":n.field,style:{width:D,minWidth:D,maxWidth:D},role:"columnheader",tabIndex:g,"aria-colindex":a+1},z,L),l.createElement("div",Object.assign({className:Nn.columnHeaderDraggableContainer,draggable:!k&&!n.disableReorder},A),l.createElement("div",{className:Nn.columnHeaderTitleContainer},M||l.createElement(mo,{label:n.headerName||n.field,description:n.description,columnWidth:D}),H),B),l.createElement(ho,Object.assign({resizable:!S&&!!n.resizable,resizing:s,height:i},F)),l.createElement(ko,{columnMenuId:w,columnMenuButtonId:C,field:n.field,open:r,target:E.current,ContentComponent:b.current.components.ColumnMenu,contentComponentProps:null===(t=b.current.componentsProps)||void 0===t?void 0:t.columnMenu}))}function So(e){const{columns:t}=e,n=Z(),r=Ln(n,Or),a=Ln(n,nr),o=Ln(n,dr),i=Ln(n,Gn),c=Ln(n,qn),u=Ln(n,mr),s=Ln(n,An).renderContext,d=Ln(n,vr),f=Ln(n,gr),p=Ln(n,Cr),m=Ln(n,Er),h=t.map((e,t)=>{const n=(h=t,null==s?h:h+s.firstColIdx);var h;const g=0===n,v=!(null===d&&null===f),b=null!==d&&d.field===e.field||g&&!v?0:-1,y=null!==u&&u.field===e.field,w=m.open&&m.field===e.field;return l.createElement(xo,Object.assign({key:e.field},a[e.field],{columnMenuOpen:w,filterItemsCounter:o[e.field]&&o[e.field].length,options:r,headerHeight:p,isDragging:e.field===i,column:e,colIndex:n,isResizing:c===e.field,hasFocus:y,tabIndex:b}))});return l.createElement(l.Fragment,null,h)}const jo=e=>e.containerSizes,To=e=>e.viewportSizes,Po=e=>e.scrollBar,Ro=Object(s.a)(jo,e=>null==e?null:e.dataContainerSizes),Mo=Object(s.a)(jo,e=>null==e?0:e.dataContainerSizes.height),Io=e=>e.scrollBar,Lo=l.forwardRef((function(e,t){var n;const r=Z(),a=Ln(r,re),o=Ln(r,jo),i=Ln(r,Cr),c=Ln(r,An).renderContext,{hasScrollX:s}=Ln(r,Io),d=Ln(r,Gn),f=Object(u.default)(Nn.columnHeaderWrapper,{scroll:s,[Nn.columnHeaderDropZone]:d}),p=l.useMemo(()=>null==c?[]:a.slice(c.firstColIdx,c.lastColIdx+1),[a,c]);return l.createElement(l.Fragment,null,l.createElement(Vn,{scrollDirection:"left"}),l.createElement("div",{ref:t,className:f,"aria-rowindex":1,role:"row",style:{minWidth:null===(n=null==o?void 0:o.totalSizes)||void 0===n?void 0:n.width}},l.createElement(_n,{width:null==c?void 0:c.leftEmptyWidth,height:i}),l.createElement(So,{columns:p}),l.createElement(_n,{width:null==c?void 0:c.rightEmptyWidth,height:i})),l.createElement(Vn,{scrollDirection:"right"}))})),Ao=l.forwardRef((function(e,t){const{className:n,style:r}=e,a=Yr(e,["className","style"]),o=Z(),i=Ln(o,Cr);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.columnsContainer,n)},a,{style:Object.assign({minHeight:i,maxHeight:i,lineHeight:i+"px"},r)}))}));function Fo(e){return l.createElement("div",{className:Nn.main},e.children)}const No=l.forwardRef((function(e,t){const{className:n,size:r}=e,a=Yr(e,["className","size"]),o=Z(),i=Hr(),c=Ln(o,Cr),s=Ln(o,wr),d=Ln(o,Mo);l.useEffect(()=>{o.current.resize()},[o]);const f=l.useMemo(()=>i.autoHeight?c+(d<s?2*s:d):r.height,[i.autoHeight,d,c,s,r.height]);return l.createElement("div",{className:Nn.windowContainer,style:{width:r.width,height:f}},l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.window,n)},a,{style:{top:c,overflowY:i.autoHeight?"hidden":"auto"}})))}));const _o=l.forwardRef((function(e,t){const{children:n,defaultHeight:r=null,defaultWidth:a=null,disableHeight:o=!1,disableWidth:i=!1,nonce:c,onResize:u,style:s}=e,d=Yr(e,["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"]),[f,p]=l.useState({height:r,width:a}),m=l.useRef(null),g=l.useRef(null),v=$t(()=>{if(g.current){const e=g.current.offsetHeight||0,t=g.current.offsetWidth||0,n=Object(b.a)(g.current).getComputedStyle(g.current),r=parseInt(n.paddingLeft,10)||0,a=parseInt(n.paddingRight,10)||0,l=e-(parseInt(n.paddingTop,10)||0)-(parseInt(n.paddingBottom,10)||0),c=t-r-a;(!o&&f.height!==l||!i&&f.width!==c)&&(p({height:l,width:c}),u&&u({height:l,width:c}))}});Kt(()=>{var e;if(g.current=m.current.parentElement,!g)return;const t=Object(b.a)(null!==(e=g.current)&&void 0!==e?e:void 0),n=function(e,t){var n=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},r=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var r=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach((function(t){t.call(r,e)})))}))}},a=!1,o="",i="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(void 0!==u.style.animationName&&(a=!0),!1===a)for(var s=0;s<l.length;s++)if(void 0!==u.style[l[s]+"AnimationName"]){o="-"+l[s].toLowerCase()+"-",i=c[s],a=!0;break}var d="@"+o+"keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } ",f=o+"animation: 1ms resizeanim; ";return{addResizeListener:function(a,o){if(!a.__resizeTriggers__){var l=a.ownerDocument,c=t.getComputedStyle(a);c&&"static"==c.position&&(a.style.position="relative"),function(t){if(!t.getElementById("muiDetectElementResize")){var n=(d||"")+".Mui-resizeTriggers { "+(f||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="muiDetectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(t.createTextNode(n)),r.appendChild(a)}}(l),a.__resizeLast__={},a.__resizeListeners__=[],(a.__resizeTriggers__=l.createElement("div")).className="Mui-resizeTriggers",a.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',a.appendChild(a.__resizeTriggers__),n(a),a.addEventListener("scroll",r,!0),i&&(a.__resizeTriggers__.__animationListener__=function(e){"resizeanim"==e.animationName&&n(a)},a.__resizeTriggers__.addEventListener(i,a.__resizeTriggers__.__animationListener__))}a.__resizeListeners__.push(o)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",r,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(i,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(c,t);return n.addResizeListener(g.current,v),v(),()=>{n.removeResizeListener(g.current,v)}},[c,v]);const y={overflow:"visible"},w={};o||(y.height=0,w.height=f.height),i||(y.width=0,w.width=f.width);const C=Object(h.a)(m,t);return l.createElement("div",Object.assign({ref:C,style:Object.assign(Object.assign({},y),s)},d),null===f.height&&null===f.width?null:n(w))})),Do=e=>e.editRows;function zo(e){const{className:t}=e,n=Yr(e,["className"]),r=Z(),a=Ln(r,Ro),o={minWidth:null==a?void 0:a.width,minHeight:null==a?void 0:a.height};return l.createElement("div",Object.assign({className:Object(u.default)(Nn.dataContainer,t),style:o},n))}const Bo=l.forwardRef((function(e,t){const{height:n,width:r,children:a}=e;return l.createElement("div",{ref:t,className:Nn.renderingZone,style:{maxHeight:n,width:r}},a)})),Ho="MuiDataGrid",Vo="root",Wo="columnHeader",Go="row",Uo="cell",qo="MuiDataGrid-columnHeader",$o="MuiDataGrid-row",Ko="MuiDataGrid-cell",Jo="MuiDataGrid-columnSeparator--resizable",Xo="MuiDataGrid-columnHeaderTitleContainer",Yo="MuiDataGrid-columnHeaderDropZone",Zo="MuiDataGrid-columnHeader--dragging";function Qo(e){const{selected:t,id:n,rowIndex:r,children:a}=e,i=r+2,c=Z(),s=Ln(c,wr),{classes:d,getRowClassName:f,editMode:p}=Ln(c,Or),m=l.useCallback(e=>t=>{(1!==t.target.nodeType||t.currentTarget.contains(t.target))&&c.current.getRow(n)&&c.current.publishEvent(e,null==c?void 0:c.current.getRowParams(n),t)},[c,n]),h=l.useMemo(()=>({onClick:m(o.rowClick),onDoubleClick:m(o.rowDoubleClick),onMouseOver:m(o.rowOver),onMouseOut:m(o.rowOut),onMouseEnter:m(o.rowEnter),onMouseLeave:m(o.rowLeave)}),[m]),g={maxHeight:s,minHeight:s},v=Qt(f)&&f(c.current.getRowParams(n)),b=Object(u.default)(v,null==d?void 0:d.row,{"Mui-selected":t,"MuiDataGrid-row--editing":c.current.getRowMode(n)===$a.Edit,"MuiDataGrid-row--editable":p===Ua.Row});return l.createElement("div",Object.assign({key:n,"data-id":n,"data-rowindex":r,role:"row",className:b,"aria-rowindex":i,"aria-selected":t,style:g},h),a)}function ei(e,t,n){if(null==e)throw new Error(["Material-UI: The data grid component requires all rows to have a unique id property.",n||"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"));return!0}const ti=l.memo((function(e){const{align:t,className:n,children:r,colIndex:a,cellMode:i,field:c,formattedValue:s,hasFocus:d,height:f,isEditable:p,isSelected:m,rowIndex:h,rowId:g,showRightBorder:v,tabIndex:b,value:C,width:E}=e,O=null==s?C:s,k=l.useRef(null),x=Z(),S=Object(u.default)(n,""+Nn["cell--text"+Object(y.a)(t)],{[""+Nn.withBorder]:v,[""+Nn["cell--editable"]]:p}),j=l.useCallback(e=>t=>{if(t.relatedTarget&&t.currentTarget.contains(t.relatedTarget))return;const n=x.current.getCellParams(g,c||"");x.current.publishEvent(e,n,t)},[x,c,g]),T=l.useCallback(e=>t=>{const n=x.current.getCellParams(g,c||"");x.current.publishEvent(e,n,t)},[x,c,g]),P=l.useCallback(e=>t=>{if(1===t.target.nodeType&&!t.currentTarget.contains(t.target))return;if(!x.current.getRow(g))return;const n=x.current.getCellParams(g,c||"");x.current.publishEvent(e,n,t)},[x,c,g]),R=l.useMemo(()=>({onClick:P(o.cellClick),onDoubleClick:P(o.cellDoubleClick),onMouseDown:P(o.cellMouseDown),onMouseUp:T(o.cellMouseUp),onMouseOver:P(o.cellOver),onMouseOut:P(o.cellOut),onMouseEnter:P(o.cellEnter),onMouseLeave:P(o.cellLeave),onKeyDown:P(o.cellKeyDown),onBlur:j(o.cellBlur),onFocus:P(o.cellFocus),onDragStart:P(o.cellDragStart),onDragEnter:P(o.cellDragEnter),onDragOver:P(o.cellDragOver)}),[P,j,T]),M={minWidth:E,maxWidth:E,lineHeight:f-1+"px",minHeight:f,maxHeight:f};return l.useLayoutEffect(()=>{if(!d||i===qa.Edit)return;const e=Object(w.a)(x.current.rootElementRef.current);if(k.current&&!k.current.contains(e.activeElement)){const e=k.current.querySelector('[tabindex="0"]');e?e.focus():k.current.focus()}}),l.createElement("div",Object.assign({ref:k,className:S,role:"cell","data-value":C,"data-field":c,"data-rowindex":h,"data-colindex":a,"data-rowselected":m,"data-editable":p,"data-mode":i,"aria-colindex":a+1,style:M,tabIndex:"view"!==i&&p?-1:b},R),null!=r?r:null==O?void 0:O.toString())})),ni=l.memo((function(e){const{columns:t,firstColIdx:n,hasScrollX:r,hasScrollY:a,height:o,id:i,getCellClassName:c,lastColIdx:s,rowIndex:d,cellFocus:f,cellTabIndex:p,showCellRightBorder:m,isSelected:h,editRowState:g,cellClassName:v}=e,b=Yr(e,["columns","firstColIdx","hasScrollX","hasScrollY","height","id","getCellClassName","lastColIdx","rowIndex","cellFocus","cellTabIndex","showCellRightBorder","isSelected","editRowState","cellClassName"]),y=Z(),w=t.slice(n,s+1).map((l,s)=>{const w=n+s,C=w===t.length-1,E=C?!(C&&r&&!a||e.extendRowFullWidth):m,O=y.current.getCellParams(i,l.field),k=[v];l.cellClassName&&k.push(Object(u.default)(Qt(l.cellClassName)?l.cellClassName(O):l.cellClassName));const x=g&&g[l.field];let S=null;if(null==x&&l.renderCell&&(S=l.renderCell(Object.assign(Object.assign({},O),{api:y.current})),k.push(Nn["cell--withRenderer"])),null!=x&&l.renderEditCell){const e=Object.assign(Object.assign(Object.assign({},O),x),{api:y.current});S=l.renderEditCell(e),k.push(Nn["cell--editing"])}return c&&k.push(c(O)),Object.assign({value:O.value,field:l.field,width:l.computedWidth,rowId:i,height:o,showRightBorder:E,formattedValue:O.formattedValue,align:l.align||"left",rowIndex:d,cellMode:O.cellMode,colIndex:w,children:S,isEditable:O.isEditable,isSelected:h,hasFocus:null!==f&&f.id===i&&f.field===l.field,tabIndex:null!==p&&p.id===i&&p.field===l.field&&"view"===O.cellMode?0:-1,className:Object(u.default)(k)},b)});return l.createElement(l.Fragment,null,w.map(e=>l.createElement(ti,Object.assign({key:e.field},e))))}));function ri(e){const{height:t,width:n,children:r}=e;return l.createElement("div",{className:Nn.viewport,style:{minWidth:n,maxWidth:n,maxHeight:t}},r)}const ai=l.forwardRef((function(e,t){const n=Z(),r=Hr(),a=Ln(n,Or),o=Ln(n,jo),i=Ln(n,To),c=Ln(n,Po),u=Ln(n,re),s=Ln(n,An),d=Ln(n,pr),f=Ln(n,gr),p=Ln(n,Jr),m=Ln(n,or),h=Ln(n,wr),g=Ln(n,Do);return l.createElement(zo,null,l.createElement(ri,Object.assign({},i),l.createElement(Bo,Object.assign({ref:t},(null==o?void 0:o.renderingZone)||{width:0,height:0}),null==s.renderContext?null:m.slice(s.renderContext.firstRowIdx,s.renderContext.lastRowIdx).map(([e,t],n)=>{var o;return l.createElement(Qo,{key:e,id:e,selected:void 0!==p[e],rowIndex:s.renderContext.firstRowIdx+n},l.createElement(_n,{width:s.renderContext.leftEmptyWidth,height:h}),l.createElement(ni,{columns:u,row:t,id:e,height:h,firstColIdx:s.renderContext.firstColIdx,lastColIdx:s.renderContext.lastColIdx,hasScrollX:c.hasScrollX,hasScrollY:c.hasScrollY,showCellRightBorder:!!r.showCellRightBorder,extendRowFullWidth:!r.disableExtendRowFullWidth,rowIndex:s.renderContext.firstRowIdx+n,cellFocus:d,cellTabIndex:f,isSelected:void 0!==p[e],editRowState:g[e],cellClassName:null===(o=a.classes)||void 0===o?void 0:o.cell,getCellClassName:r.getCellClassName}),l.createElement(_n,{width:s.renderContext.rightEmptyWidth,height:h}))}))))}));function oi(){var e,t,n;const r=Z(),a=Hr(),o=Ln(r,Kn),i=Ln(r,lr),c=!a.loading&&0===o,u=!a.loading&&o>0&&0===i;return c?l.createElement(r.current.components.NoRowsOverlay,Object.assign({},null===(e=a.componentsProps)||void 0===e?void 0:e.noRowsOverlay)):u?l.createElement(r.current.components.NoResultsOverlay,Object.assign({},null===(t=a.componentsProps)||void 0===t?void 0:t.noResultsOverlay)):a.loading?l.createElement(r.current.components.LoadingOverlay,Object.assign({},null===(n=a.componentsProps)||void 0===n?void 0:n.loadingOverlay)):null}function ii(e){const{children:t}=e,n=Z(),r=Hr(),a=l.useRef(null),i=l.useRef(null),c=l.useRef(null),u=l.useRef(null);n.current.columnHeadersContainerElementRef=i,n.current.columnHeadersElementRef=a,n.current.windowRef=c,n.current.renderingZoneRef=u;const s=l.useCallback(e=>n.current.publishEvent(o.resize,e),[n]);return l.createElement(Fo,null,l.createElement(oi,null),l.createElement(Ao,{ref:i},l.createElement(Lo,{ref:a})),l.createElement(_o,{nonce:r.nonce,disableHeight:r.autoHeight,onResize:s},e=>l.createElement(No,{ref:c,size:e},l.createElement(ai,{ref:u}))),t)}class li extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.api.current&&(this.logError(e),this.props.api.current.showError({error:e,errorInfo:t}))}logError(e,t){this.props.logger.error(`An unexpected error occurred. Error: ${e&&e.message}. `,e,t)}render(){var e;return this.props.hasError||(null===(e=this.state)||void 0===e?void 0:e.hasError)?this.props.render(this.props.componentProps||this.state):this.props.children}}function ci(e){const{children:t}=e,n=Z(),r=mn(n,"GridErrorHandler"),a=Hr(),[o]=In(n);return l.createElement(li,{hasError:null!=o.error,componentProps:o.error,api:n,logger:r,render:e=>{var t;return l.createElement(Fo,null,l.createElement(n.current.components.ErrorOverlay,Object.assign({},e,null===(t=a.componentsProps)||void 0===t?void 0:t.errorOverlay)))}},t)}function ui(){var e;const t=Z(),n=Hr(),r=l.useRef(null);return t.current.footerRef=r,n.hideFooter?null:l.createElement("div",{ref:r},l.createElement(t.current.components.Footer,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.footer)))}function si(){var e;const t=Z(),n=Hr(),r=l.useRef(null);return t.current.headerRef=r,l.createElement("div",{ref:r},l.createElement(t.current.components.Header,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.header)))}const di=Object(E.a)(e=>{const t="light"===en(e.palette)?Object(f.j)(nn(e.palette.divider,1),.88):Object(f.b)(nn(e.palette.divider,1),.68),n={root:Object.assign(Object.assign({flex:1,boxSizing:"border-box",position:"relative",border:"1px solid "+t,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2),{outline:"none",height:"100%",display:"flex",flexDirection:"column",["&."+Nn.autoHeight]:{height:"auto"},["& ."+Nn.main]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& ."+Nn.overlay]:{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:nn(e.palette.background.default,e.palette.action.disabledOpacity)},["& ."+Nn.toolbarContainer]:{display:"flex",alignItems:"center",padding:"4px 4px 0"},["& ."+Nn.columnsContainer]:{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",flexDirection:"column",borderBottom:"1px solid "+t},["& ."+Nn.scrollArea]:{position:"absolute",top:0,zIndex:101,width:20,bottom:0},["& ."+Nn["scrollArea--left"]]:{left:0},["& ."+Nn["scrollArea--right"]]:{right:0},["& ."+Nn.columnHeaderWrapper]:{display:"flex",width:"100%",alignItems:"center",overflow:"hidden"},[`& .${Nn.columnHeader}, & .${Nn.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${Nn.columnHeader}:focus-within, & .${Nn.cell}:focus-within`]:{outline:`solid ${nn(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${Nn.columnHeader}:focus, & .${Nn.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${Nn.columnHeaderCheckbox}, & .${Nn.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},["& ."+Nn.columnHeader]:{position:"relative",display:"flex",alignItems:"center"},[`& .${Nn.columnHeader}:not(.${Nn["columnHeader--sorted"]}) .${Nn.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${Nn.columnHeader}:not(.${Nn["columnHeader--sorted"]}):hover .${Nn.sortIcon}`]:{opacity:.5},["& ."+Nn.columnHeaderTitleContainer]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",padding:"0 6px"},[`& .${Nn.sortIcon}, & .${Nn.filterIcon}`]:{fontSize:"inherit"},["& ."+Nn["columnHeader--sortable"]]:{cursor:"pointer"},[`& .${Nn["columnHeader--alignCenter"]} .${Nn.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${Nn["columnHeader--alignRight"]} .${Nn.columnHeaderDraggableContainer}, & .${Nn["columnHeader--alignRight"]} .${Nn.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${Nn["columnHeader--alignCenter"]} .${Nn.menuIcon}, & .${Nn["columnHeader--alignRight"]} .${Nn.menuIcon}`]:{marginRight:"auto",marginLeft:-6},["& ."+Nn.columnHeaderTitle]:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium},["& ."+Nn["columnHeader--moving"]]:{backgroundColor:e.palette.action.hover},["& ."+Nn.columnSeparator]:{position:"absolute",right:-12,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},["& ."+Nn["columnSeparator--resizable"]]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},"&.Mui-resizing":{color:e.palette.text.primary}},["& ."+Nn.iconSeparator]:{color:"inherit"},["& ."+Nn.menuIcon]:{visibility:"hidden",fontSize:20,marginRight:-6,display:"flex",alignItems:"center"},[`& .${Nn.columnHeader}:hover .${Nn.menuIcon}, .${Nn.menuOpen}`]:{visibility:"visible"},[`& .${Nn.columnHeaderWrapper}.scroll .${Nn.columnHeader}:last-child`]:{borderRight:"none"},["& ."+Nn.dataContainer]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& ."+Nn.window]:{position:"absolute",bottom:0,left:0,right:0,overflowX:"auto"},["& ."+Nn.viewport]:{position:"sticky",top:0,left:0,display:"flex",flexDirection:"column",overflow:"hidden"},["& ."+Nn.row]:{display:"flex",width:"fit-content","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},["& ."+Nn.cell]:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderBottom:"1px solid "+t},[`& .${Nn.cell}.${Nn["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},["& ."+Nn["row--editing"]]:{boxShadow:e.shadows[2]},[`& .${Nn["row--editing"]} .${Nn.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},["& ."+Nn.editInputCell]:Object.assign(Object.assign({},e.typography.body2),{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),["& ."+Nn.editBooleanCell]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${Nn.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${Nn.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${Nn.columnHeaderWrapper} .${Nn.cell}`]:{borderBottom:"none"},["& ."+Nn["cell--withRenderer"]]:{display:"flex",alignItems:"center"},["& ."+Nn.withBorder]:{borderRight:"1px solid "+t},["& ."+Nn["cell--textLeft"]]:{textAlign:"left"},[`& .${Nn["cell--textLeft"]}.${Nn["cell--withRenderer"]}, & .${Nn["cell--textLeft"]}.${Nn["cell--editing"]}`]:{justifyContent:"flex-start"},["& ."+Nn["cell--textRight"]]:{textAlign:"right"},[`& .${Nn["cell--textRight"]}.${Nn["cell--withRenderer"]}, & .${Nn["cell--textRight"]}.${Nn["cell--editing"]}`]:{justifyContent:"flex-end"},["& ."+Nn["cell--textCenter"]]:{textAlign:"center"},[`& .${Nn["cell--textCenter"]}.${Nn["cell--withRenderer"]}, & .${Nn["cell--textCenter"]}.${Nn["cell--editing"]}`]:{justifyContent:"center"},[`& .${Nn.rowCount}, & .${Nn.selectedRowCount}`]:{alignItems:"center",display:"flex",margin:e.spacing(0,2)},["& ."+Nn.footerContainer]:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,["& ."+Nn.selectedRowCount]:{visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}},[`& .${Nn.columnHeaderDropZone} .${Nn.columnHeaderDraggableContainer}`]:{cursor:"move"},["& ."+Nn.columnHeaderDraggableContainer]:{display:"flex",width:"100%"},["& ."+Nn["columnHeader--dragging"]]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity}})};if("dark"===en(e.palette)){const e="#202022",t="#585859",r="#838384";n.root=Object.assign(Object.assign({},n.root),{scrollbarColor:`${t} ${e}`,"& *::-webkit-scrollbar":{backgroundColor:e},"& *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:t,minHeight:24,border:"3px solid "+e},"& *::-webkit-scrollbar-thumb:focus":{backgroundColor:r},"& *::-webkit-scrollbar-thumb:active":{backgroundColor:r},"& *::-webkit-scrollbar-thumb:hover":{backgroundColor:r},"& *::-webkit-scrollbar-corner":{backgroundColor:e}})}return n},{name:"MuiDataGrid",defaultTheme:rn()}),fi=l.forwardRef((function(e,t){var n;const r=di(),a=Z(),o=Hr(),{children:i,className:c}=e,s=Yr(e,["children","className"]),d=Ln(a,le),[f]=In(a),p=Ln(a,Or),m=l.useRef(null),g=Object(h.a)(m,t);return a.current.rootElementRef=m,l.createElement(N.a,null,l.createElement("div",Object.assign({ref:g,className:Object(u.default)(r.root,null===(n=p.classes)||void 0===n?void 0:n.root,o.className,c,{[Nn.autoHeight]:o.autoHeight}),role:"grid","aria-colcount":d,"aria-rowcount":f.rows.totalRowCount,"aria-multiselectable":!o.disableMultipleSelection,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"],style:o.style},s),i))})),pi=l.forwardRef((function(e,t){const{className:n}=e,r=Yr(e,["className"]);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.footerContainer,n)},r))})),mi=l.forwardRef((function(e,t){const{className:n,style:r}=e,a=Yr(e,["className","style"]),o=Z(),i=Ln(o,Cr);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.overlay,n),style:Object.assign({top:i},r)},a))})),hi=l.forwardRef((function(e,t){const{className:n,children:r}=e,a=Yr(e,["className","children"]);return r?l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.toolbarContainer,n)},a),r):null})),gi=e=>{const{onClick:t}=e,n=Z(),r=Hr(),a=l.useCallback(e=>{t(e),n.current.showPreferences(yo.columns)},[n,t]);return r.disableColumnSelector?null:l.createElement(T.a,{onClick:a},n.current.getLocaleText("columnMenuShowColumns"))},vi=e=>{const{column:t,onClick:n}=e,r=Z(),a=Hr(),o=l.useCallback(e=>{n(e),r.current.showFilterPanel(null==t?void 0:t.field)},[r,null==t?void 0:t.field,n]);return a.disableColumnFilter||!(null==t?void 0:t.filterable)?null:l.createElement(T.a,{onClick:o},r.current.getLocaleText("columnMenuFilter"))},bi=l.forwardRef((function(e,t){const{hideMenu:n,currentColumn:r,open:a,id:o,labelledby:i,className:c,children:s}=e,d=Yr(e,["hideMenu","currentColumn","open","id","labelledby","className","children"]),f=l.useCallback(e=>{Sr(e.key)&&e.preventDefault(),zr(e.key)&&n()},[n]);return l.createElement(_.a,Object.assign({id:o,ref:t,className:Object(u.default)("MuiDataGrid-gridMenuList",c),"aria-labelledby":i,onKeyDown:f,autoFocus:a},d),s)})),yi=e=>{const{column:t,onClick:n}=e,r=Z(),a=Hr(),o=l.useRef(),i=l.useCallback(e=>{n(e),o.current=setTimeout(()=>{r.current.setColumnVisibility(null==t?void 0:t.field,!1)},100)},[r,null==t?void 0:t.field,n]);return l.useEffect(()=>()=>clearTimeout(o.current),[]),a.disableColumnSelector?null:l.createElement(T.a,{onClick:i},r.current.getLocaleText("columnMenuHideColumn"))},wi=e=>{const{column:t,onClick:n}=e,r=Z(),a=Ln(r,tr),o=l.useMemo(()=>{if(!t)return null;const e=a.find(e=>e.field===t.field);return null==e?void 0:e.sort},[t,a]),i=l.useCallback(e=>{n(e);const a=e.currentTarget.getAttribute("data-value")||null;null==r||r.current.sortColumn(t,a)},[r,t,n]);return t&&t.sortable?l.createElement(l.Fragment,null,l.createElement(T.a,{onClick:i,disabled:null==o},r.current.getLocaleText("columnMenuUnsort")),l.createElement(T.a,{onClick:i,"data-value":"asc",disabled:"asc"===o},r.current.getLocaleText("columnMenuSortAsc")),l.createElement(T.a,{onClick:i,"data-value":"desc",disabled:"desc"===o},r.current.getLocaleText("columnMenuSortDesc"))):null},Ci=l.forwardRef((function(e,t){const{hideMenu:n,currentColumn:r}=e;return l.createElement(bi,Object.assign({ref:t},e),l.createElement(wi,{onClick:n,column:r}),l.createElement(vi,{onClick:n,column:r}),l.createElement(yi,{onClick:n,column:r}),l.createElement(gi,{onClick:n,column:r}))})),Ei=Object(E.a)(()=>({root:{display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400}}),{name:"MuiGridPanelContent"});function Oi(e){const t=Ei(),{className:n}=e,r=Yr(e,["className"]);return l.createElement("div",Object.assign({className:Object(u.default)(t.root,n)},r))}const ki=Object(E.a)(()=>({root:{padding:4,display:"flex",justifyContent:"space-between"}}),{name:"MuiGridPanelFooter"});function xi(e){const t=ki(),{className:n}=e,r=Yr(e,["className"]);return l.createElement("div",Object.assign({className:Object(u.default)(t.root,n)},r))}const Si=Object(E.a)(e=>({root:{padding:e.spacing(1)}}),{name:"MuiDataGridPanelHeader",defaultTheme:rn()});function ji(e){const t=Si(),{className:n}=e,r=Yr(e,["className"]);return l.createElement("div",Object.assign({className:Object(u.default)(t.root,n)},r))}const Ti=Object(E.a)(()=>({root:{display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}}),{name:"MuiGridPanelWrapper"}),Pi=()=>!0;function Ri(e){const t=Ti(),{className:n}=e,r=Yr(e,["className"]),a=tn().startsWith("v4")?{getDoc:()=>document}:{};return l.createElement(H.a,Object.assign({open:!0,disableEnforceFocus:!0,isEnabled:Pi},a),l.createElement("div",Object.assign({tabIndex:-1,className:Object(u.default)(t.root,n)},r)))}let Mi=!1;void 0!==a&&void 0!==a.env.GRID_EXPERIMENTAL_ENABLED&&an()&&window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED")?Mi="true"===window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED"):void 0!==a&&(Mi="true"===a.env.GRID_EXPERIMENTAL_ENABLED);const Ii=Mi,Li=Object(E.a)({container:{padding:"8px 0px 8px 8px"},column:{display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},switch:{marginRight:4},dragIcon:{justifyContent:"flex-end"}},{name:"MuiDataGridColumnsPanel"});function Ai(){const e=Li(),t=Z(),n=l.useRef(null),r=Ln(t,ne),a=Hr(),[o,i]=l.useState(""),c=l.useCallback(e=>{const{name:n}=e.target,r=t.current.getColumn(n);t.current.setColumnVisibility(n,!!r.hide)},[t]),u=l.useCallback(e=>{t.current.updateColumns(r.map(t=>(t.hide=e,t)))},[t,r]),s=l.useCallback(()=>u(!1),[u]),d=l.useCallback(()=>u(!0),[u]),f=l.useCallback(e=>{i(e.target.value)},[]),p=l.useMemo(()=>o?r.filter(e=>e.field.toLowerCase().indexOf(o.toLowerCase())>-1||e.headerName&&e.headerName.toLowerCase().indexOf(o.toLowerCase())>-1):r,[r,o]);return l.useEffect(()=>{n.current.focus()},[]),l.createElement(Ri,null,l.createElement(ji,null,l.createElement(x.a,{label:t.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:t.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:n,value:o,onChange:f,variant:"standard",fullWidth:!0})),l.createElement(Oi,null,l.createElement("div",{className:e.container},p.map(n=>l.createElement("div",{key:n.field,className:e.column},l.createElement(B.a,{control:l.createElement(D.a,{className:e.switch,checked:!n.hide,onClick:c,name:n.field,color:"primary",size:"small"}),label:n.headerName||n.field}),!a.disableColumnReorder&&Ii&&l.createElement(R.a,{draggable:!0,className:e.dragIcon,"aria-label":t.current.getLocaleText("columnsPanelDragIconLabel"),title:t.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0},l.createElement(Ca,null)))))),l.createElement(xi,null,l.createElement(z.a,{onClick:d,color:"primary"},t.current.getLocaleText("columnsPanelHideAllButton")),l.createElement(z.a,{onClick:s,color:"primary"},t.current.getLocaleText("columnsPanelShowAllButton"))))}const Fi=Object(E.a)(e=>({root:{zIndex:e.zIndex.modal},paper:{backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}}),{name:"MuiGridPanel",defaultTheme:rn()}),Ni=Zt("MuiGridPanel",["root","paper"]),_i=l.forwardRef((function(e,t){var n;const{children:r,className:a,open:o}=e,i=Yr(e,["children","className","open"]),c=Fi(i),s=Z(),d=l.useCallback(()=>{s.current.hidePreferences()},[s]),f=l.useCallback(e=>{kr(e.key)&&s.current.hidePreferences()},[s]),p=null===(n=null==s?void 0:s.current.columnHeadersContainerElementRef)||void 0===n?void 0:n.current;return p?l.createElement(F.a,Object.assign({ref:t,placement:"bottom-start",className:Object(u.default)(a,c.root),open:o,anchorEl:p,modifiers:"v5"===tn()?[{name:"flip",enabled:!1}]:{flip:{enabled:!1}}},i),l.createElement(I.a,{onClickAway:d},l.createElement(A.a,{className:c.paper,elevation:8,onKeyDown:f},r))):null})),Di=l.forwardRef((function(e,t){var n,r,a;const o=Z(),i=Ln(o,ne),c=Hr(),u=Ln(o,vo),s=u.openedPanelValue===yo.columns,d=!u.openedPanelValue||!s,f=o.current.components.ColumnsPanel,p=o.current.components.FilterPanel,m=o.current.components.Panel;return l.createElement(m,Object.assign({ref:t,open:i.length>0&&u.open},null===(n=null==o?void 0:o.current.componentsProps)||void 0===n?void 0:n.panel,e),!c.disableColumnSelector&&s&&l.createElement(f,Object.assign({},null===(r=null==o?void 0:o.current.componentsProps)||void 0===r?void 0:r.columnsPanel)),!c.disableColumnFilter&&d&&l.createElement(p,Object.assign({},null===(a=null==o?void 0:o.current.componentsProps)||void 0===a?void 0:a.filterPanel)))})),zi=Object(E.a)({root:{display:"flex",justifyContent:"space-around",padding:8},linkOperatorSelect:{minWidth:60},columnSelect:{width:150},operatorSelect:{width:120},filterValueInput:{width:190},closeIcon:{flexShrink:0,justifyContent:"flex-end",marginRight:6,marginBottom:2}},{name:"MuiGridFilterForm"});function Bi(e){var t,n;const{item:r,hasMultipleFilters:a,deleteFilter:o,applyFilterChanges:i,multiFilterOperator:c,showMultiFilterOperators:u,disableMultiFilterOperator:s,applyMultiFilterOperatorChanges:d}=e,f=zi(),p=Z(),m=Ln(p,oe),h=Object(v.a)(),g=Object(v.a)(),b=Object(v.a)(),w=Object(v.a)(),C=Object(v.a)(),E=Object(v.a)(),O=l.useCallback(()=>r.columnField?p.current.getColumn(r.columnField):null,[p,r]),k=l.useCallback(()=>{var e;const t=O();return r.operatorValue&&t?null===(e=t.filterOperators)||void 0===e?void 0:e.find(e=>e.value===r.operatorValue):null},[r,O]),x=l.useCallback(e=>{const t=e.target.value,n=p.current.getColumn(t).filterOperators[0];i(Object.assign(Object.assign({},r),{value:void 0,columnField:t,operatorValue:n.value}))},[p,i,r]),S=l.useCallback(e=>{const t=e.target.value;i(Object.assign(Object.assign({},r),{operatorValue:t}))},[i,r]),T=l.useCallback(e=>{const t=e.target.value===kn.And.toString()?kn.And:kn.Or;d(t)},[d]),P=l.useCallback(()=>{o(r)},[o,r]),M=k();return l.createElement("div",{className:f.root},l.createElement(V.a,{variant:"standard",className:f.closeIcon},l.createElement(R.a,{"aria-label":p.current.getLocaleText("filterPanelDeleteIconLabel"),title:p.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:P,size:"small"},l.createElement(ba,{fontSize:"small"}))),l.createElement(V.a,{variant:"standard",className:f.linkOperatorSelect,style:{display:a?"block":"none",visibility:u?"visible":"hidden"}},l.createElement(W.a,{htmlFor:h,id:g},p.current.getLocaleText("filterPanelOperators")),l.createElement(j.a,{labelId:g,id:h,value:c,onChange:T,disabled:!!s,native:!0},l.createElement("option",{key:kn.And.toString(),value:kn.And.toString()},p.current.getLocaleText("filterPanelOperatorAnd")),l.createElement("option",{key:kn.Or.toString(),value:kn.Or.toString()},p.current.getLocaleText("filterPanelOperatorOr")))),l.createElement(V.a,{variant:"standard",className:f.columnSelect},l.createElement(W.a,{htmlFor:b,id:w},p.current.getLocaleText("filterPanelColumns")),l.createElement(j.a,{labelId:w,id:b,value:r.columnField||"",onChange:x,native:!0},m.map(e=>l.createElement("option",{key:e.field,value:e.field},e.headerName||e.field)))),l.createElement(V.a,{variant:"standard",className:f.operatorSelect},l.createElement(W.a,{htmlFor:C,id:E},p.current.getLocaleText("filterPanelOperators")),l.createElement(j.a,{labelId:E,id:C,value:r.operatorValue,onChange:S,native:!0},null===(n=null===(t=O())||void 0===t?void 0:t.filterOperators)||void 0===n?void 0:n.map(e=>l.createElement("option",{key:e.value,value:e.value},e.label||p.current.getLocaleText("filterOperator"+Object(y.a)(e.value)))))),l.createElement(V.a,{variant:"standard",className:f.filterValueInput},(null==M?void 0:M.InputComponent)?l.createElement(M.InputComponent,Object.assign({apiRef:p,item:r,applyValue:i},M.InputComponentProps)):null))}function Hi(){const e=Z(),[t]=In(e),n=Hr(),r=l.useMemo(()=>t.filter.items.length>1,[t.filter.items.length]),a=l.useCallback(t=>{e.current.upsertFilter(t)},[e]),o=l.useCallback(t=>{e.current.applyFilterLinkOperator(t)},[e]),i=l.useCallback(()=>{e.current.upsertFilter({})},[e]),c=l.useCallback(t=>{e.current.deleteFilter(t)},[e]);return l.useEffect(()=>{0===t.filter.items.length&&i()},[i,t.filter.items.length]),l.createElement(Ri,null,l.createElement(Oi,null,t.filter.items.map((e,n)=>l.createElement(Bi,{key:null==e.id?n:e.id,item:e,applyFilterChanges:a,deleteFilter:c,hasMultipleFilters:r,showMultiFilterOperators:n>0,multiFilterOperator:t.filter.linkOperator,disableMultiFilterOperator:1!==n,applyMultiFilterOperatorChanges:o}))),!n.disableMultipleColumnsFiltering&&l.createElement(xi,null,l.createElement(z.a,{onClick:i,startIcon:l.createElement(ya,null),color:"primary"},e.current.getLocaleText("filterPanelAddFilter"))))}const Vi=l.forwardRef((function(e,t){const{onClick:n}=e,r=Yr(e,["onClick"]),a=Z(),o=Hr(),i=a.current.components.ColumnSelectorIcon,{open:c,openedPanelValue:u}=Ln(a,vo);return o.disableColumnSelector?null:l.createElement(z.a,Object.assign({ref:t,size:"small",color:"primary","aria-label":a.current.getLocaleText("toolbarColumnsLabel"),startIcon:l.createElement(i,null)},r,{onClick:e=>{c&&u===yo.columns?a.current.hidePreferences():a.current.showPreferences(yo.columns),null==n||n(e)}}),a.current.getLocaleText("toolbarColumns"))})),Wi=l.forwardRef((function(e,t){const{onClick:n}=e,r=Yr(e,["onClick"]),a=Z(),o=Hr(),i=Ln(a,yr),c=Object(v.a)(),u=Object(v.a)(),[s,d]=l.useState(null),f=a.current.components.DensityCompactIcon,p=a.current.components.DensityStandardIcon,m=a.current.components.DensityComfortableIcon,h=[{icon:l.createElement(f,null),label:a.current.getLocaleText("toolbarDensityCompact"),value:bn.Compact},{icon:l.createElement(p,null),label:a.current.getLocaleText("toolbarDensityStandard"),value:bn.Standard},{icon:l.createElement(m,null),label:a.current.getLocaleText("toolbarDensityComfortable"),value:bn.Comfortable}],g=l.useCallback(()=>{switch(i){case bn.Compact:return l.createElement(f,null);case bn.Comfortable:return l.createElement(m,null);default:return l.createElement(p,null)}},[i,f,m,p]),b=()=>d(null);if(o.disableDensitySelector)return null;const y=h.map((e,t)=>l.createElement(T.a,{key:t,onClick:()=>{return t=e.value,a.current.setDensity(t),void d(null);var t},selected:e.value===i},l.createElement(G.a,null,e.icon),e.label));return l.createElement(l.Fragment,null,l.createElement(z.a,Object.assign({ref:t,color:"primary",size:"small",startIcon:g(),"aria-label":a.current.getLocaleText("toolbarDensityLabel"),"aria-expanded":s?"true":void 0,"aria-haspopup":"menu","aria-labelledby":u,id:c},r,{onClick:e=>{d(e.currentTarget),null==n||n(e)}}),a.current.getLocaleText("toolbarDensity")),l.createElement(Oo,{open:Boolean(s),target:s,onClickAway:b,position:"bottom-start"},l.createElement(_.a,{id:u,className:"MuiDataGrid-gridMenuList","aria-labelledby":c,onKeyDown:e=>{Sr(e.key)&&e.preventDefault(),zr(e.key)&&b()},autoFocusItem:Boolean(s)},y)))})),Gi=Object(E.a)(e=>({list:{margin:e.spacing(1,1,.5),padding:e.spacing(0,1)}}),{name:"MuiGridToolbarFilterButton",defaultTheme:rn()}),Ui=l.forwardRef((function(e,t){const{componentsProps:n={}}=e,r=Yr(e,["componentsProps"]),a=n.button||{},o=Gi(),i=Z(),c=Hr(),u=Ln(i,sr),s=Ln(i,ur),d=Ln(i,te),f=Ln(i,vo),p=l.useMemo(()=>f.open?i.current.getLocaleText("toolbarFiltersTooltipHide"):0===u?i.current.getLocaleText("toolbarFiltersTooltipShow"):l.createElement("div",null,i.current.getLocaleText("toolbarFiltersTooltipActive")(u),l.createElement("ul",{className:o.list},s.map((e,t)=>Object.assign({},d[e.columnField]&&l.createElement("li",{key:t},`${d[e.columnField].headerName||e.columnField}\n                  ${(e=>d[e.columnField].filterOperators.find(t=>t.value===e.operatorValue).label||i.current.getLocaleText("filterOperator"+Object(y.a)(e.operatorValue)).toString())(e)}\n                  ${e.value}`))))),[i,f.open,u,s,d,o]);if(c.disableColumnFilter)return null;const m=i.current.components.OpenFilterButtonIcon;return l.createElement(M.a,Object.assign({title:p,enterDelay:1e3},r),l.createElement(z.a,Object.assign({ref:t,size:"small",color:"primary","aria-label":i.current.getLocaleText("toolbarFiltersLabel"),startIcon:l.createElement(P.a,{badgeContent:u,color:"primary"},l.createElement(m,null))},a,{onClick:e=>{var t;const{open:n,openedPanelValue:r}=f;n&&r===yo.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),null===(t=a.onClick)||void 0===t||t.call(a,e)}}),i.current.getLocaleText("toolbarFilters")))})),qi=l.forwardRef((function(e,t){const{csvOptions:n,onClick:r}=e,a=Yr(e,["csvOptions","onClick"]),o=Z(),i=Object(v.a)(),c=Object(v.a)(),[u,s]=l.useState(null),d=o.current.components.ExportIcon,f=[];f.push({label:o.current.getLocaleText("toolbarExportCSV"),format:"csv",formatOptions:n});const p=()=>s(null),m=e=>()=>{"csv"===e.format&&o.current.exportDataAsCsv(e.formatOptions),s(null)};return l.createElement(l.Fragment,null,l.createElement(z.a,Object.assign({ref:t,color:"primary",size:"small",startIcon:l.createElement(d,null),"aria-expanded":u?"true":void 0,"aria-label":o.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-labelledby":c,id:i},a,{onClick:e=>{s(e.currentTarget),null==r||r(e)}}),o.current.getLocaleText("toolbarExport")),l.createElement(Oo,{open:Boolean(u),target:u,onClickAway:p,position:"bottom-start"},l.createElement(_.a,{id:c,className:"MuiDataGrid-gridMenuList","aria-labelledby":i,onKeyDown:e=>{Sr(e.key)&&e.preventDefault(),zr(e.key)&&p()},autoFocusItem:Boolean(u)},f.map((e,t)=>l.createElement(T.a,{key:t,onClick:m(e)},e.label)))))})),$i=l.forwardRef((function(e,t){const n=Hr();return n.disableColumnFilter&&n.disableColumnSelector&&n.disableDensitySelector?null:l.createElement(hi,Object.assign({ref:t},e),l.createElement(Vi,null),l.createElement(Ui,null),l.createElement(Wi,null),l.createElement(qi,null))})),Ki=l.forwardRef((function(e,t){const{className:n,rowCount:r,visibleRowCount:a}=e,o=Yr(e,["className","rowCount","visibleRowCount"]),i=Z();if(0===r)return null;const c=a<r?i.current.getLocaleText("footerTotalVisibleRows")(a,r):r.toLocaleString();return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.rowCount,n)},o),i.current.getLocaleText("footerTotalRows")," ",c)})),Ji=l.forwardRef((function(e,t){const{className:n,selectedRowCount:r}=e,a=Yr(e,["className","selectedRowCount"]),o=Z().current.getLocaleText("footerRowSelected")(r);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.selectedRowCount,n)},a),o)})),Xi=l.forwardRef((function(e,t){var n;const r=Z(),a=Hr(),o=Ln(r,Kn),i=Ln(r,$r),c=Ln(r,Gr),u=Ln(r,lr),s=!a.hideFooterSelectedRowCount&&i>0?l.createElement(Ji,{selectedRowCount:i}):l.createElement("div",null),d=a.hideFooterRowCount||a.pagination?null:l.createElement(Ki,{rowCount:o,visibleRowCount:u}),f=!!a.pagination&&null!=c.pageSize&&!a.hideFooterPagination&&(null==r?void 0:r.current.components.Pagination),p=f&&l.createElement(f,Object.assign({},null===(n=null==r?void 0:r.current.componentsProps)||void 0===n?void 0:n.pagination));return l.createElement(pi,Object.assign({ref:t},e),s,d,p)})),Yi=l.forwardRef((function(e,t){var n,r;const a=Z(),o=null==a?void 0:a.current.components.PreferencesPanel,i=o&&l.createElement(o,Object.assign({},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.preferencesPanel)),c=null==a?void 0:a.current.components.Toolbar,u=c&&l.createElement(c,Object.assign({},null===(r=null==a?void 0:a.current.componentsProps)||void 0===r?void 0:r.toolbar));return l.createElement("div",Object.assign({ref:t},e),i,u)})),Zi=l.forwardRef((function(e,t){return l.createElement(mi,Object.assign({ref:t},e),l.createElement(U.a,null))})),Qi=l.forwardRef((function(e,t){const n=Z().current.getLocaleText("noRowsLabel");return l.createElement(mi,Object.assign({ref:t},e),n)})),el=Object(E.a)(e=>({selectLabel:{display:"none",[e.breakpoints.up("md")]:{display:"block"}},caption:{"&[id]":{display:"none",[e.breakpoints.up("md")]:{display:"block"}}},input:{display:"none",[e.breakpoints.up("md")]:{display:"inline-flex"}}}),{defaultTheme:rn()}),tl=l.forwardRef((function(e,t){var n;const r=el(),a=Z(),o=Hr(),i=Ln(a,Gr),c=l.useMemo(()=>Math.floor(i.rowCount/(i.pageSize||1)),[i.rowCount,i.pageSize]),u=l.useCallback(e=>{const t=Number(e.target.value);a.current.setPageSize(t)},[a]),s=l.useCallback((e,t)=>{a.current.setPage(t)},[a]);return l.createElement(q.a,Object.assign({ref:t,classes:Object.assign(Object.assign({},"v5"===tn()?{selectLabel:r.selectLabel}:{caption:r.caption}),{input:r.input}),component:"div",count:i.rowCount,page:i.page<=c?i.page:c,rowsPerPageOptions:(null===(n=o.rowsPerPageOptions)||void 0===n?void 0:n.includes(i.pageSize))?o.rowsPerPageOptions:[],rowsPerPage:i.pageSize},a.current.getLocaleText("MuiTablePagination"),"v4"!==tn()?{onPageChange:s,onRowsPerPageChange:u}:{onChangePage:s,onChangeRowsPerPage:u},e))})),nl=e=>{const t=mn(e,"useGridColumnMenu"),[n,r,a]=In(e),i=l.useCallback(n=>{t.debug("Opening Column Menu"),r(e=>Object.assign(Object.assign({},e),{columnMenu:{open:!0,field:n}})),e.current.hidePreferences(),a()},[e,a,t,r]),c=l.useCallback(()=>{t.debug("Hiding Column Menu"),r(e=>Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1,field:void 0})})),a()},[a,t,r]),u=l.useCallback(e=>{t.debug("Toggle Column Menu"),n.columnMenu.open&&n.columnMenu.field===e?c():i(e)},[t,i,c,n]),s=l.useCallback(()=>{r(e=>e.columnMenu.open?Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1})}):e)},[r]);l.useEffect(()=>{n.isScrolling&&c()},[n.isScrolling,c]),hn(e,{showColumnMenu:i,hideColumnMenu:c,toggleColumnMenu:u},"ColumnMenuApi"),zn(e,o.columnResizeStart,s)},rl=(e,t)=>{const n=mn(e,"useGridColumnReorder"),[,r,a]=In(e),i=Ln(e,Gn),c=l.useRef(null),u=l.useRef({x:0,y:0}),s=l.useRef(null),d=l.useRef();l.useEffect(()=>()=>{clearTimeout(d.current)},[]);const f=l.useCallback((o,i)=>{t.disableColumnReorder||o.colDef.disableReorder||(n.debug("Start dragging col "+o.field),c.current=i.currentTarget,c.current.classList.add(Nn["columnSeparator--dragging"]),r(e=>Object.assign(Object.assign({},e),{columnReorder:Object.assign(Object.assign({},e.columnReorder),{dragCol:o.field})})),a(),d.current=setTimeout(()=>{c.current.classList.remove(Nn["columnSeparator--dragging"])}),s.current=e.current.getColumnIndex(o.field,!1))},[t.disableColumnReorder,n,r,a,e]),p=l.useCallback((e,t)=>{t.preventDefault()},[]),m=l.useCallback((t,r)=>{if(!i)return;n.debug("Dragging over col "+t.field),r.preventDefault();const a={x:r.clientX,y:r.clientY};if(t.field!==i&&(l=a,(o=u.current).x!==l.x||o.y!==l.y)){const n=e.current.getColumnIndex(t.field,!1),r=e.current.getColumnIndex(t.field,!0),o=e.current.getColumn(t.field),l=e.current.getColumnIndex(i,!1),c=e.current.getVisibleColumns().length,s=!o.disableReorder||r>0&&r<c-1,d=((e,t)=>e.x<=t.x?"right":"left")(u.current,a),f="left"===d&&n<l,p="right"===d&&l<n;s&&(f||p)&&e.current.setColumnIndex(i,n),u.current=a}var o,l},[e,i,n]),h=l.useCallback((o,l)=>{!t.disableColumnReorder&&i&&(n.debug("End dragging col"),l.preventDefault(),clearTimeout(d.current),c.current=null,"none"===l.dataTransfer.dropEffect&&(e.current.setColumnIndex(o.field,s.current),s.current=null),r(e=>Object.assign(Object.assign({},e),{columnReorder:Object.assign(Object.assign({},e.columnReorder),{dragCol:""})})),a())},[t.disableColumnReorder,n,r,a,e,i]);zn(e,o.columnHeaderDragStart,f),zn(e,o.columnHeaderDragEnter,p),zn(e,o.columnHeaderDragOver,m),zn(e,o.columnHeaderDragEnd,h),zn(e,o.cellDragEnter,p),zn(e,o.cellDragOver,m),zn(e,o.cellDragEnd,h)};const al=(e,t)=>{var n,r;const a={all:[...null!==(n=null==t?void 0:t.all)&&void 0!==n?n:[]],lookup:Object.assign({},null!==(r=null==t?void 0:t.lookup)&&void 0!==r?r:{})};return e.forEach(e=>{null==a.lookup[e.field]?(a.lookup[e.field]=e,a.all.push(e.field)):a.lookup[e.field]=Object.assign(Object.assign({},a.lookup[e.field]),e)}),a};function ol(e,t){const n=mn(e,"useGridColumns"),[r,a,i]=In(e),c=Ln(e,ae),u=Ln(e,ne),s=Ln(e,re),d=l.useCallback((t,r=!0)=>{n.debug("Updating columns state."),a(e=>Object.assign(Object.assign({},e),{columns:t})),i(),r&&e.current.publishEvent(o.columnsChange,t.all)},[n,a,i,e]),f=l.useCallback(t=>e.current.state.columns.lookup[t],[e]),p=l.useCallback(()=>u,[u]),m=l.useCallback(()=>s,[s]),h=l.useCallback(()=>c,[c]),g=l.useCallback((e,t=!0)=>t?s.findIndex(t=>t.field===e):u.findIndex(t=>t.field===e),[u,s]),v=l.useCallback(e=>{const t=g(e);return c.positions[t]},[c.positions,g]),b=l.useCallback((t,r)=>{n.debug("updating GridColumns with new state");const a=e.current.state.viewportSizes.width;let o=t.all.map(e=>t.lookup[e]);o=function(e,t){let n=0,r=t;const a=e.map(e=>{var t,a;const o=Object.assign({},e);if(e.hide)o.computedWidth=0;else{const e=null!==(t=o.minWidth)&&void 0!==t?t:Ta.minWidth;if(o.flex&&o.flex>0)n+=o.flex,o.computedWidth=e;else{const t=Math.max(null!==(a=o.width)&&void 0!==a?a:Ta.width,e);r-=t,o.computedWidth=t}}return o});if(n>0&&r>0){const e=r/n;for(let t=0;t<a.length;t+=1){const n=a[t];!n.hide&&n.flex&&n.flex>0&&(a[t].computedWidth=Math.max(e*n.flex,n.computedWidth))}}return a}(o,a);const i={all:o.map(e=>e.field),lookup:o.reduce((e,t)=>(e[t.field]=t,e),{})};d(i,r)},[e,n,d]),y=l.useCallback(t=>{const n=al(t,e.current.state.columns);b(n,!1)},[e,b]),w=l.useCallback(e=>y([e]),[y]),C=l.useCallback((t,n)=>{const r=f(t),a=Object.assign(Object.assign({},r),{hide:!n});y([a]),e.current.publishEvent(o.columnVisibilityChange,{field:t,colDef:a,isVisible:n})},[e,f,y]),E=l.useCallback((t,a)=>{const i=r.columns.all.findIndex(e=>e===t);if(i===a)return;n.debug(`Moving column ${t} to index ${a}`);const l={field:t,element:e.current.getColumnHeaderElement(t),colDef:e.current.getColumn(t),targetIndex:a,oldIndex:i};e.current.publishEvent(o.columnOrderChange,l);const c=[...r.columns.all];c.splice(a,0,c.splice(i,1)[0]),d(Object.assign(Object.assign({},r.columns),{all:c}))},[e,r.columns,n,d]),O=l.useCallback((t,r)=>{n.debug(`Updating column ${t} width to ${r}`);const a=e.current.getColumn(t),i=Object.assign(Object.assign({},a),{width:r});e.current.updateColumns([i]),e.current.publishEvent(o.columnWidthChange,{element:e.current.getColumnHeaderElement(t),colDef:i,width:r})},[e,n]);hn(e,{getColumn:f,getAllColumns:p,getColumnIndex:g,getColumnPosition:v,getVisibleColumns:m,getColumnsMeta:h,updateColumn:w,updateColumns:y,setColumnVisibility:C,setColumnIndex:E,setColumnWidth:O},"ColApi"),l.useEffect(()=>{n.info("GridColumns have changed, new length "+t.columns.length);const r=function(e,t={},n,r){const a=function(e,t){const n=Object.assign(Object.assign({},e),t),r={};return Object.entries(n).forEach(([e,t])=>{t=Object.assign(Object.assign({},n[t.extendType||"__default__"]),t),r[e]=t}),r}(Qa(),t),o=e.map(e=>Object.assign(Object.assign({},eo(a,e.type)),e));return r?[Object.assign(Object.assign({},Ia),{headerName:n("checkboxSelectionHeaderName")}),...o]:o}(t.columns,t.columnTypes,e.current.getLocaleText,t.checkboxSelection),a=al(r);b(a)},[n,e,b,t.columns,t.columnTypes,t.checkboxSelection]),l.useEffect(()=>{n.debug("GridColumns gridState.viewportSizes.width, changed "+r.viewportSizes.width),b(e.current.state.columns)},[e,b,r.viewportSizes.width,n]),Hn(e,o.columnVisibilityChange,t.onColumnVisibilityChange)}function il(e,t){const n=c.a.useRef({}),r=c.a.useCallback(e=>{const{stateId:t,stateSelector:r}=e,a=Yr(e,["stateId","stateSelector"]);n.current[t]=Object.assign(Object.assign({},a),{stateId:t,stateSelector:r||(e=>e[t])})},[]),a=c.a.useCallback(r=>{let a=!1;const o=[],i=n.current;if(Object.keys(i).forEach(t=>{const n=i[t],l=n.stateSelector(e.current.state),c=n.stateSelector(r);c!==l&&c!==n.propModel&&o.push(n.stateId),void 0!==n.propModel&&c!==n.propModel&&(a=!0)}),o.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${o[0]}, therefore, you're not allowed to update ${o.join(", ")} in the same transaction.`);return{ignoreSetState:a,postUpdate:()=>{o.forEach(n=>{const a=i[n],o=i[n].stateSelector(r);if(a.propOnChange){const n=t.signature===Dn.DataGridPro?{api:e.current}:{};a.propOnChange(o,n)}e.current.publishEvent(a.changeEvent,o)})}}},[e,t.signature]);hn(e,{updateControlState:r,applyControlStateConstraint:a},"controlStateApi")}const ll=(e,t,n,r)=>{const a=Mn(e),[o,i,c]=In(e),u=l.useCallback(e=>{void 0===o[t]&&(o[t]=r),i(r=>{const a=Object.assign({},r);return a[t]=n(r[t],e),a}),c()},[c,o,r,n,i,t]),s=l.useRef(u);l.useEffect(()=>{s.current=u},[u]);const d=l.useCallback(e=>s.current(e),[]);return{gridState:o,dispatch:d,gridApi:a}},cl=(e,t)=>{const n=mn(e,"useGridFilter"),[r,a,i]=In(e),c=Ln(e,ie),u=l.useCallback(()=>{n.debug("clearing filtered rows"),a(e=>Object.assign(Object.assign({},e),{visibleRows:{visibleRowsLookup:{}}}))},[n,a]),s=l.useCallback((t,r=kn.And)=>{if(!t.columnField||!t.operatorValue)return;const o=e.current.getColumn(t.columnField);if(!o)return;const l=o.valueParser?o.valueParser(t.value):t.value,c=Object.assign(Object.assign({},t),{value:l});n.debug(`Filtering column: ${c.columnField} ${c.operatorValue} ${c.value} `);const u=o.filterOperators;if(!(null==u?void 0:u.length))throw new Error(`Material-UI: No filter operators found for column '${o.field}'.`);const s=u.find(e=>e.value===c.operatorValue);if(!s)throw new Error(`Material-UI: No filter operator found for column '${o.field}' and operator value '${c.operatorValue}'.`);const d=s.getApplyFilterFn(c,o);"function"==typeof d&&(a(t=>{const n=Object.assign({},t.visibleRows.visibleRowsLookup);return er(t).forEach((t,a)=>{const o=e.current.getCellParams(a,c.columnField),i=d(o);null==n[a]?n[a]=i:n[a]=r===kn.And?n[a]&&i:n[a]||i}),Object.assign(Object.assign({},t),{visibleRows:Object.assign(Object.assign({},t.visibleRows),{visibleRowsLookup:n,visibleRows:Object.entries(n).filter(([,e])=>e).map(([e])=>e)})})}),i())},[e,i,n,a]),d=l.useCallback(()=>{if(t.filterMode===yn.server)return void i();u();const{items:n,linkOperator:r}=e.current.state.filter;n.forEach(t=>{e.current.applyFilter(t,r)}),i()},[e,u,i,t.filterMode]),f=l.useCallback(r=>{n.debug("Upserting filter"),a(n=>{const a=[...n.filter.items],o=Object.assign({},r),i=a.findIndex(e=>e.id===o.id);if(1===a.length&&qt(a[0],{})?a[0]=o:-1===i?a.push(o):a[i]=o,null==o.id&&(o.id=Math.round(1e5*Math.random())),null==o.columnField&&(o.columnField=c[0]),null!=o.columnField&&null==o.operatorValue){const t=e.current.getColumn(o.columnField);o.operatorValue=t&&t.filterOperators[0].value}return t.disableMultipleColumnsFiltering&&a.length>1&&(a.length=1),Object.assign(Object.assign({},n),{filter:Object.assign(Object.assign({},n.filter),{items:a})})}),d()},[n,a,e,d,t.disableMultipleColumnsFiltering,c]),p=l.useCallback(t=>{n.debug(`Deleting filter on column ${t.columnField} with value ${t.value}`),a(e=>{const n=[...e.filter.items.filter(e=>e.id!==t.id)];return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{items:n})})}),0===e.current.state.filter.items.length&&e.current.upsertFilter({}),d()},[e,d,n,a]),m=l.useCallback(t=>{if(n.debug("Displaying filter panel"),t){const n=r.filter.items.length>0?r.filter.items[r.filter.items.length-1]:null;n&&n.columnField===t||e.current.upsertFilter({columnField:t})}e.current.showPreferences(yo.filters)},[e,r.filter.items,n]),h=l.useCallback(()=>{n.debug("Hiding filter panel"),null==e||e.current.hidePreferences()},[e,n]),g=l.useCallback((e=kn.And)=>{n.debug("Applying filter link operator"),a(t=>Object.assign(Object.assign({},t),{filter:Object.assign(Object.assign({},t.filter),{linkOperator:e})})),d()},[d,n,a]),v=l.useCallback(()=>{u(),n.debug("Clearing filter model"),a(e=>Object.assign(Object.assign({},e),{filter:xn()}))},[u,n,a]),b=l.useCallback(e=>{v(),n.debug("Setting filter model"),g(e.linkOperator),e.items.forEach(e=>f(e))},[g,v,n,f]),y=l.useCallback(()=>ar(e.current.state),[e]);hn(e,{applyFilterLinkOperator:g,applyFilters:d,applyFilter:s,deleteFilter:p,upsertFilter:f,setFilterModel:b,showFilterPanel:m,hideFilterPanel:h,getVisibleRowModels:y},"FilterApi"),l.useEffect(()=>{e.current&&(n.debug("Rows prop changed, applying filters"),u(),e.current.applyFilters())},[e,u,n,t.rows]);const w=l.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const t=e.current.state.filter,r=ie(e.current.state);n.debug("GridColumns changed, applying filters"),t.items.forEach(t=>{r.find(e=>e===t.columnField)||e.current.deleteFilter(t)}),e.current.applyFilters()},[e,n]);l.useEffect(()=>{e.current.updateControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:e=>e.filter,changeEvent:o.filterModelChange})},[e,t.filterModel,t.onFilterModelChange]),l.useEffect(()=>{if(void 0!==t.filterModel&&t.filterModel.items.length>1&&t.filterModel.items.find(e=>null==e.id))throw new Error("The 'id' field is required on filterModel.items when you use multiple filters.");const r=e.current.state.filter;void 0!==t.filterModel&&t.filterModel!==r&&(n.debug("filterModel prop changed, applying filters"),a(e=>Object.assign(Object.assign({},e),{filter:t.filterModel||xn()})),e.current.applyFilters())},[e,n,t.filterModel,a]),zn(e,o.rowsSet,e.current.applyFilters),zn(e,o.rowsUpdate,e.current.applyFilters),zn(e,o.columnsChange,w)},ul=(e,t)=>{const n=mn(e,"useGridFocus"),[,r,a]=In(e),i=l.useRef(null),c=l.useCallback((t,i)=>{e.current.getRow(t)&&(r(e=>(n.debug(`Focusing on cell with id=${t} and field=${i}`),Object.assign(Object.assign({},e),{tabIndex:{cell:{id:t,field:i},columnHeader:null},focus:{cell:{id:t,field:i},columnHeader:null}}))),a(),e.current.publishEvent(o.cellFocusIn,e.current.getCellParams(t,i)))},[e,a,n,r]),u=l.useCallback((t,i)=>{const{cell:l}=e.current.state.focus;l&&e.current.publishEvent(o.cellFocusOut,e.current.getCellParams(l.id,l.field),i),r(e=>(n.debug("Focusing on column header with colIndex="+t),Object.assign(Object.assign({},e),{tabIndex:{columnHeader:{field:t},cell:null},focus:{columnHeader:{field:t},cell:null}}))),a()},[e,a,n,r]),s=l.useCallback(({id:t,field:n})=>{e.current.setCellFocus(t,n)},[e]),d=l.useCallback((t,n)=>{"Enter"===n.key||"Tab"===n.key||_r(n.key)||e.current.setCellFocus(t.id,t.field)},[e]),f=l.useCallback(({field:t},n)=>{n.target===n.currentTarget&&e.current.setColumnHeaderFocus(t,n)},[e]),p=l.useCallback(()=>{n.debug("Clearing focus"),r(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}}))},[n,r]),m=l.useCallback(e=>{i.current=e},[]),h=l.useCallback(t=>{const n=i.current;i.current=null;const{cell:l}=e.current.state.focus;if(!l)return void(n&&e.current.setCellFocus(n.id,n.field));if((null==n?void 0:n.id)===l.id&&(null==n?void 0:n.field)===l.field)return;const c=e.current.getCellElement(l.id,l.field);(null==c?void 0:c.contains(t.target))||e.current.getRow(l.id)&&(e.current.publishEvent(o.cellFocusOut,e.current.getCellParams(l.id,l.field),t),n?e.current.setCellFocus(n.id,n.field):(r(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})),a()))},[e,a,r]),g=l.useCallback(t=>{if("view"===t.cellMode)return;const{cell:n}=e.current.state.focus;(null==n?void 0:n.id)===t.id&&(null==n?void 0:n.field)===t.field||e.current.setCellFocus(t.id,t.field)},[e]);hn(e,{setCellFocus:c,setColumnHeaderFocus:u},"GridFocusApi"),l.useEffect(()=>{const{cell:t}=e.current.state.focus;t&&(e.current.getRow(t.id)||r(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})))},[e,r,t.rows]),l.useEffect(()=>{const t=Object(w.a)(e.current.rootElementRef.current);return t.addEventListener("click",h),()=>{t.removeEventListener("click",h)}},[e,h]),zn(e,o.columnHeaderBlur,p),zn(e,o.cellDoubleClick,s),zn(e,o.cellMouseUp,m),zn(e,o.cellKeyDown,d),zn(e,o.cellModeChange,g),zn(e,o.columnHeaderFocus,f)},sl=e=>{const t=mn(e,"useGridKeyboard"),n=l.useCallback((n,r)=>{const a=lo(r.target,Nn.row),i=Number(a.getAttribute("data-rowindex"));let l=i;const c=[...e.current.getSelectedRows().keys()];if(c.length>0){const t=c.map(t=>e.current.getRowIndex(t)),n=t.map(e=>Math.abs(i-e)),r=Math.max(...n);l=t[n.indexOf(r)]}e.current.publishEvent(o.cellNavigationKeyDown,n,r);const u=e.current.state.focus.cell,s=e.current.getRowIndex(u.id),d=Array(Math.abs(s-l)+1).fill(s>l?l:s);t.debug("Selecting rows "),e.current.selectRows(d,!0,!0)},[t,e]),r=l.useCallback((t,r)=>{if(1===r.target.nodeType&&(null==(a=r.target)||!a.classList.contains(Nn.cell)))return;var a;const i=e.current.getCellParams(t.id,t.field);if(i.cellMode!==qa.Edit){if(jr(r.key)&&r.shiftKey)return r.preventDefault(),void e.current.selectRow(i.id);if(!_r(r.key)||r.shiftKey)return _r(r.key)&&r.shiftKey?(r.preventDefault(),void n(i,r)):void("c"===r.key.toLowerCase()&&(r.ctrlKey||r.metaKey)||"a"===r.key.toLowerCase()&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),e.current.selectRows(e.current.getAllRowIds(),!0)));e.current.publishEvent(o.cellNavigationKeyDown,i,r)}},[e,n]),a=l.useCallback((t,n)=>{co(n.target)&&(jr(n.key)&&co(n.target)&&n.preventDefault(),!_r(n.key)||jr(n.key)||n.shiftKey?xr(n.key)&&(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field):e.current.publishEvent(o.columnHeaderNavigationKeyDown,t,n))},[e]);zn(e,o.cellKeyDown,r),zn(e,o.columnHeaderKeyDown,a)},dl=(e,t)=>{const n=mn(e,"useGridKeyboardNavigation"),r=Ln(e,Gr),a=Ln(e,Kn),i=Ln(e,le),c=Ln(e,jo),u=Ln(e,or),s=e=>xr(e.key)?"ArrowDown":Sr(e.key)?e.shiftKey?"ArrowLeft":"ArrowRight":e.key,d=l.useCallback((o,l)=>{l.preventDefault();const d=e.current.getColumnIndex(o.field),f=u.findIndex(([e])=>e===o.id),p=s(l),m=l.ctrlKey||l.metaKey||l.shiftKey;let h,g=a;if(t.pagination&&a>r.pageSize&&(g=r.pageSize*(r.page+1)),Tr(p))h=((e,t)=>{if(!Tr(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return Object.assign(Object.assign({},t),{colIndex:t.colIndex-1});case"ArrowRight":return Object.assign(Object.assign({},t),{colIndex:t.colIndex+1});case"ArrowUp":return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex-1});default:return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex+1})}})(p,{colIndex:d,rowIndex:f});else if(Pr(p)){const e="Home"===p?0:i-1;if(m){let n=0;n=0===e?t.pagination?g-r.pageSize:0:g-1,h={colIndex:e,rowIndex:n}}else h={colIndex:e,rowIndex:f}}else{if(!Rr(p)&&!jr(p))throw new Error("Material-UI. Key not mapped to navigation behavior.");h={colIndex:d,rowIndex:f+(p.indexOf("Down")>-1||jr(p)?c.viewportPageSize:-1*c.viewportPageSize)}}if(h.rowIndex<0){const t=e.current.getVisibleColumns()[h.colIndex].field;return void e.current.setColumnHeaderFocus(t,l)}h.rowIndex=h.rowIndex>=g&&g>0?g-1:h.rowIndex,h.colIndex=h.colIndex<=0?0:h.colIndex,h.colIndex=h.colIndex>=i?i-1:h.colIndex,n.debug(`Navigating to next cell row ${h.rowIndex}, col ${h.colIndex}`),e.current.scrollToIndexes(h);const v=e.current.getVisibleColumns()[h.colIndex].field,[b]=u[h.rowIndex];e.current.setCellFocus(b,v)},[e,u,a,t.pagination,r.pageSize,r.page,i,n,c]),f=l.useCallback((t,r)=>{let a;r.preventDefault();const o=e.current.getColumnIndex(t.field),l=s(r);if(Tr(l))a=((e,t)=>{if(!Tr(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return{colIndex:t.colIndex-1};case"ArrowRight":return{colIndex:t.colIndex+1};case"ArrowDown":return null;default:return Object.assign({},t)}})(l,{colIndex:o});else{if(!Pr(l)){if(Rr(l)){if(l.indexOf("Down")>-1){const t=e.current.getVisibleColumns()[o].field,n=e.current.getRowIdFromRowIndex(c.viewportPageSize-1);e.current.setCellFocus(n,t)}return}throw new Error("Material-UI. Key not mapped to navigation behavior.")}a={colIndex:"Home"===l?0:i-1}}if(!a){const t=e.current.getVisibleColumns()[o].field,[n]=u[0];return void e.current.setCellFocus(n,t)}a.colIndex=Math.max(0,a.colIndex),a.colIndex=a.colIndex>=i?i-1:a.colIndex,n.debug("Navigating to next column row "+a.colIndex),e.current.scrollToIndexes(a);const d=e.current.getVisibleColumns()[a.colIndex].field;e.current.setColumnHeaderFocus(d,r)},[e,i,c,n,u]);zn(e,o.cellNavigationKeyDown,d),zn(e,o.columnHeaderNavigationKeyDown,f)};function fl(e,t,n){const r=mn(e,"useGridScrollFn"),a=l.useRef();return[l.useCallback(e=>{var o;e.left===(null===(o=a.current)||void 0===o?void 0:o.left)&&e.top===a.current.top||t&&t.current&&(r.debug(`Moving ${t.current.className} to: ${e.left}-${e.top}`),t.current.style.transform=`translate3d(${-e.left}px, ${-e.top}px, 0px)`,n.current.style.transform=`translate3d(${-e.left}px, 0px, 0px)`,a.current=e)},[t,r,n])]}const pl=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,ml=e=>e.pageCount?Object.assign(Object.assign({},e),{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,hl=(e,t)=>{const n=mn(e,"useGridPage"),[,r,a]=In(e),i=Ln(e,lr),c=l.useCallback(e=>{n.debug("Setting page to "+e),r(t=>Object.assign(Object.assign({},t),{pagination:ml(Object.assign(Object.assign({},t.pagination),{page:e}))})),a()},[r,a,n]);l.useEffect(()=>{e.current.updateControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:e=>e.pagination.page,changeEvent:o.pageChange})},[e,t.page,t.onPageChange]),l.useEffect(()=>{r(e=>{const n=void 0!==t.rowCount?t.rowCount:i,r=pl(n,e.pagination.pageSize),a=null==t.page?e.pagination.page:t.page;return Object.assign(Object.assign({},e),{pagination:ml(Object.assign(Object.assign({},e.pagination),{page:a,rowCount:n,pageCount:r}))})}),a()},[r,a,i,t.rowCount,t.page,e]);const u=l.useCallback(e=>{r(t=>{const n=pl(t.pagination.rowCount,e);return Object.assign(Object.assign({},t),{pagination:ml(Object.assign(Object.assign({},t.pagination),{pageCount:n,page:t.pagination.page}))})}),a()},[r,a]);zn(e,o.pageSizeChange,u),hn(e,{setPage:c},"GridPageApi")};function gl(e,t){const n=mn(e,"useApi"),r=l.useCallback((n,r,a={})=>{if(a.defaultMuiPrevented=!1,a&&(e=>void 0!==e.isPropagationStopped)(a)&&a.isPropagationStopped())return;const o=t.signature===Dn.DataGridPro?{api:e.current}:{};e.current.emit(n,r,a,o)},[e,t.signature]),a=l.useCallback((t,r,a)=>{n.debug(`Binding ${t} event`),e.current.on(t,r,a);const o=e.current;return()=>{n.debug(`Clearing ${t} event`),o.removeListener(t,r)}},[e,n]),i=l.useCallback(t=>{e.current.publishEvent(o.componentError,t)},[e]);l.useEffect(()=>{n.debug("Initializing grid api.");const t=e.current;return()=>{n.info("Unmounting Grid component. Clearing all events listeners."),t.emit(o.unmount),t.removeAllListeners()}},[n,e]),hn(e,{subscribeEvent:a,publishEvent:r,showError:i},"GridCoreApi")}const vl=(e,t)=>{var n,r;const a=mn(e,"useGridContainerProps"),[i,c,u]=In(e),s=l.useRef({width:0,height:0}),d=Ln(e,wr),f=Ln(e,ce),p=Ln(e,lr),m=Ln(e,Gr),h=e.current.windowRef,g=null===(r=null===(n=e.current)||void 0===n?void 0:n.rootElementRef)||void 0===r?void 0:r.current,v=!!f,b=l.useMemo(()=>{if(null!=t.scrollbarSize)return t.scrollbarSize;if(!v||!g)return 0;const e=function(e,t){const n=e.createElement("div");n.style.width="99px",n.style.height="99px",n.style.position="absolute",n.style.overflow="scroll",n.className="scrollDiv",t.appendChild(n);const r=n.offsetWidth-n.clientWidth;return t.removeChild(n),r}(Object(w.a)(g),g);return a.debug(`Detected scroll bar size ${e}.`),e},[g,a,t.scrollbarSize,v]),y=l.useCallback(()=>{if(a.debug("Calculating virtual row count."),t.pagination&&(!t.autoPageSize||t.pageSize)){const e=p-m.page*m.pageSize;return e>m.pageSize?m.pageSize:e}return p},[a,t.autoPageSize,t.pagination,t.pageSize,m.page,m.pageSize,p]),C=l.useCallback(e=>{a.debug("Calculating scrollbar sizes.");let n=f>s.current.width;const r={y:0,x:n?b:0};if(0===e)return{hasScrollX:n,hasScrollY:!1,sizes:r};const o=e*d,i=!t.autoPageSize&&!t.autoHeight&&o+r.x>s.current.height;return r.y=i?b:0,n=f+r.y>s.current.width,r.x=n?b:0,a.debug(`Scrollbar size on axis x: ${r.x}, y: ${r.y}`),{hasScrollX:n,hasScrollY:i,sizes:r}},[a,f,t.autoPageSize,t.autoHeight,d,b]),E=l.useCallback((e,n)=>{if(!(null==h?void 0:h.current))return null;a.debug("Calculating container sizes.");const r=h.current.getBoundingClientRect();return s.current={width:r.width,height:r.height},a.debug(`window Size - W: ${s.current.width} H: ${s.current.height} `),{width:s.current.width-n.sizes.y,height:t.autoHeight?e*d:s.current.height-n.sizes.x}},[a,t.autoHeight,d,h]),O=l.useCallback((e,n,r)=>{if(!h||!h.current||0===f||Number.isNaN(f))return null;const o=e*d-s.current.height>2*d&&!t.disableVirtualization;if(t.autoPageSize||t.autoHeight||!o){const o=Math.floor(n.height/d),i=r.hasScrollY||e<o?e:o,l=Math.max(i*d+(t.autoHeight?r.sizes.x:0),1),c={isVirtualized:!1,virtualRowsCount:i,renderingZonePageSize:i,viewportPageSize:i,totalSizes:{width:f,height:l},dataContainerSizes:{width:f,height:l},renderingZoneScrollHeight:l-n.height,renderingZone:{width:f,height:l},windowSizes:s.current,lastPage:1};return a.debug("Fixed container props",c),c}const i=Math.floor(n.height/d),l=i>0?Math.ceil(e/i)-1:0,c=2*i,u=c*d,p=u-n.height;let m=l*p+n.height;const g=e%i;g>0&&(m=m-p+g*d);const v={isVirtualized:o,virtualRowsCount:e,viewportPageSize:i,totalSizes:{width:f,height:m},dataContainerSizes:{width:f,height:m},renderingZonePageSize:c,renderingZone:{width:f,height:u},renderingZoneScrollHeight:p,windowSizes:s.current,lastPage:l};return a.debug("virtualized container props",v),v},[h,f,d,t.autoPageSize,t.autoHeight,t.disableVirtualization,a]),k=l.useCallback((e,t)=>{let n=!1;c(r=>(n=e(r),n?t(r):r)),n&&u()},[u,c]),x=l.useCallback(()=>{a.debug("Refreshing container sizes");const e=y(),t=C(e),n=E(e,t);if(!n)return;k(e=>e.scrollBar!==t,e=>Object.assign(Object.assign({},e),{scrollBar:t})),k(e=>e.viewportSizes!==n,e=>Object.assign(Object.assign({},e),{viewportSizes:n}));const r=O(e,n,t);k(e=>!qt(e.containerSizes,r),e=>Object.assign(Object.assign({},e),{containerSizes:r}))},[O,C,E,y,a,k]);l.useEffect(()=>{x()},[i.columns,t.hideFooter,x,p]),zn(e,o.debouncedResize,x)},bl=(e,t,n,r,a)=>{const i=mn(e,"useNativeEventListener"),[c,u]=l.useState(!1),s=l.useRef(r),d=l.useCallback(e=>s.current&&s.current(e),[]);l.useEffect(()=>{s.current=r},[r]),l.useEffect(()=>{let r;if(r=Qt(t)?t():t&&t.current?t.current:null,r&&d&&n&&!c){i.debug(`Binding native ${n} event`),r.addEventListener(n,d,a);const t=r;u(!0);const l=()=>{i.debug(`Clearing native ${n} event`),t.removeEventListener(n,d,a)};e.current.subscribeEvent(o.unmount,l)}},[t,d,n,c,i,a,e])},yl=(e,t)=>{const n=mn(e,"useGridPageSize"),[,r,a]=In(e),i=Ln(e,lr),c=Ln(e,jo),u=l.useCallback(e=>{n.debug("Setting page size to "+e),r(t=>Object.assign(Object.assign({},t),{pagination:Object.assign(Object.assign({},t.pagination),{pageSize:e})})),a()},[r,a,n]);l.useEffect(()=>{e.current.updateControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:e=>e.pagination.pageSize,changeEvent:o.pageSizeChange})},[e,t.pageSize,t.onPageSizeChange]),l.useEffect(()=>{const n=null==c?void 0:c.viewportPageSize,i=e.current.state.pagination.pageSize;let l=i;null!=t.pageSize?l=t.pageSize:t.autoPageSize&&(l=null!=n?n:0),l!==i&&(t.autoPageSize&&e.current.publishEvent(o.pageSizeChange,n),r(e=>Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{pageSize:l})})),a())},[e,r,a,i,t.autoPageSize,t.pageSize,null==c?void 0:c.viewportPageSize]),hn(e,{setPageSize:u},"GridPageSizeApi")},wl=e=>{const t=mn(e,"useGridPreferencesPanel"),[,n,r]=In(e),a=l.useRef(),o=l.useRef(),i=l.useCallback(()=>{t.debug("Hiding Preferences Panel"),n(e=>Object.assign(Object.assign({},e),{preferencePanel:{open:!1}})),r()},[r,t,n]),c=l.useCallback(()=>{o.current=setTimeout(()=>clearTimeout(a.current),0)},[]),u=l.useCallback(()=>{a.current=setTimeout(i,100)},[i]);hn(e,{showPreferences:l.useCallback(e=>{t.debug("Opening Preferences Panel"),c(),n(t=>Object.assign(Object.assign({},t),{preferencePanel:Object.assign(Object.assign({},t.preferencePanel),{open:!0,openedPanelValue:e})})),r()},[c,r,t,n]),hidePreferences:u},"ColumnMenuApi"),l.useEffect(()=>()=>{clearTimeout(a.current),clearTimeout(o.current)},[])};function Cl(e){const t=l.useCallback(t=>({field:t,colDef:e.current.getColumn(t)}),[e]),n=l.useCallback(t=>{const n=e.current.getRow(t);if(!n)throw new Error(`No row with id #${t} found`);return{id:t,columns:e.current.getAllColumns(),row:n,getValue:e.current.getCellValue}},[e]),r=l.useCallback((t,n)=>{const r=e.current.getRow(t);if(!r)throw new Error(`No row with id #${t} found`);const a=pr(e.current.state),o=gr(e.current.state);return{id:t,field:n,row:r,value:r[n],colDef:e.current.getColumn(n),cellMode:e.current.getCellMode(t,n),getValue:e.current.getCellValue,api:e.current,hasFocus:null!==a&&a.field===n&&a.id===t,tabIndex:o&&o.field===n&&o.id===t?0:-1}},[e]),a=l.useCallback((t,n)=>{const r=e.current.getColumn(n),a=e.current.getCellValue(t,n),o=e.current.getRow(t);if(!o)throw new Error(`No row with id #${t} found`);const i=pr(e.current.state),l=gr(e.current.state),c={id:t,field:n,row:o,colDef:r,cellMode:e.current.getCellMode(t,n),getValue:e.current.getCellValue,hasFocus:null!==i&&i.field===n&&i.id===t,tabIndex:l&&l.field===n&&l.id===t?0:-1,value:a,formattedValue:a};return r.valueFormatter&&(c.formattedValue=r.valueFormatter(Object.assign(Object.assign({},c),{api:e.current}))),c.isEditable=r&&e.current.isCellEditable(c),c},[e]),o=l.useCallback((t,n)=>{const a=e.current.getColumn(n);if(!a||!a.valueGetter){const r=e.current.getRow(t);if(!r)throw new Error(`No row with id #${t} found`);return r[n]}return a.valueGetter(r(t,n))},[e,r]),i=l.useCallback(t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(`[role="columnheader"][data-field="${so(t)}"]`)}(e.current.rootElementRef.current,t):null,[e]),c=l.useCallback(t=>e.current.rootElementRef.current?fo(e.current.rootElementRef.current,t):null,[e]),u=l.useCallback((t,n)=>e.current.rootElementRef.current?function(e,{id:t,field:n}){const r=fo(e,t);return r?r.querySelector(`.${Nn.cell}[data-field="${so(n)}"]`):null}(e.current.rootElementRef.current,{id:t,field:n}):null,[e]);hn(e,{getCellValue:o,getCellParams:a,getCellElement:u,getRowParams:n,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:i},"GridParamsApi")}function El(e,t,n){const r=t?t(e):e.id;return ei(r,e,n),r}function Ol(e,t,n){const r=Object.assign(Object.assign({},{idRowsLookup:{},allRows:[],totalRowCount:0}),{totalRowCount:t&&t>e.length?t:e.length});return e.forEach(e=>{const t=El(e,n);r.allRows.push(t),r.idRowsLookup[t]=e}),r}const kl=(e,t)=>{const n=mn(e,"useGridRows"),[,r,a]=In(e),i=Ln(e,$n),c=l.useRef(),u=l.useCallback(e=>{null==c.current&&(c.current=setTimeout(()=>{n.debug("Updating component"),c.current=null,e&&e(),a()},100))},[n,a]),s=l.useRef(i);l.useEffect(()=>()=>clearTimeout(c.current),[]),l.useEffect(()=>{r(e=>(s.current=Ol(t.rows,t.rowCount,t.getRowId),Object.assign(Object.assign({},e),{rows:s.current})))},[t.getRowId,t.rows,t.rowCount,r]);const d=l.useCallback(t=>e.current.getSortedRowIds?e.current.getSortedRowIds().indexOf(t):e.current.state.rows.allRows.indexOf(t),[e]),f=l.useCallback(t=>e.current.getSortedRowIds?e.current.getSortedRowIds()[t]:e.current.state.rows.allRows[t],[e]),p=l.useCallback(t=>{var n;return null!==(n=e.current.state.rows.idRowsLookup[t])&&void 0!==n?n:null},[e]),m=l.useCallback(a=>{n.debug("updating all rows, new length "+a.length),s.current.allRows.length>0&&e.current.publishEvent(o.rowsClear);const i=[],l=a.reduce((e,n)=>{const r=El(n,t.getRowId);return e[r]=n,i.push(r),e},{}),c=t.rowCount&&t.rowCount>i.length?t.rowCount:i.length;s.current={idRowsLookup:l,allRows:i,totalRowCount:c},r(e=>Object.assign(Object.assign({},e),{rows:s.current})),u(()=>e.current.publishEvent(o.rowsSet))},[n,r,u,e,t.getRowId,t.rowCount]),h=l.useCallback(n=>{const a=n.reduce((e,n)=>{const r=El(n,t.getRowId,"A row was provided without id when calling updateRows():");return e[r]=null!=e[r]?Object.assign(Object.assign({},e[r]),n):n,e},{}),i=[],l=[];let c=null;if(Object.entries(a).forEach(([e,t])=>{if("delete"===t._action)return void l.push(e);const n=p(e);n?(c||(c=Object.assign({},s.current.idRowsLookup)),c[e]=Object.assign(Object.assign({},n),t)):i.push(t)}),c&&(s.current.idRowsLookup=c,r(e=>Object.assign(Object.assign({},e),{rows:Object.assign({},s.current)}))),l.length>0||i.length>0){l.forEach(e=>{delete s.current.idRowsLookup[e]});const e=[...Object.values(s.current.idRowsLookup),...i];m(e)}u(()=>e.current.publishEvent(o.rowsUpdate))},[e,u,p,t.getRowId,r,m]),g=l.useCallback(()=>new Map(e.current.state.rows.allRows.map(t=>[t,e.current.state.rows.idRowsLookup[t]])),[e]),v=l.useCallback(()=>e.current.state.rows.totalRowCount,[e]),b=l.useCallback(()=>e.current.state.rows.allRows,[e]);hn(e,{getRowIndex:d,getRowIdFromRowIndex:f,getRow:p,getRowModels:g,getRowsCount:v,getAllRowIds:b,setRows:m,updateRows:h},"GridRowApi")};function xl(e,t){const n=mn(e,"useGridEditRows"),[,r,a]=In(e),i=l.useRef(null),c=l.useRef(null),u=Ln(e,ne),s=(n,r)=>{n.cellMode!==qa.View&&(t.editMode===Ua.Row?(c.current=null,i.current=setTimeout(()=>{var t;if((null===(t=c.current)||void 0===t?void 0:t.id)!==n.id){e.current.commitRowChange(n.id,r);const t=e.current.getRowParams(n.id);e.current.publishEvent(o.rowEditStop,t,r)}})):(e.current.commitCellChange(n,r),e.current.publishEvent(o.cellEditStop,n,r)))},d=l.useCallback(e=>{c.current=e},[]),f=$t((e,t)=>{s(e,t)}),p=$t(t=>{const{cell:n}=e.current.state.focus;if(!n)return;const r=e.current.getCellParams(n.id,n.field);s(r,t)}),m=l.useCallback((t,i,l)=>{const c=e.current.getCellMode(t,i)===qa.Edit;l===qa.Edit&&c||l===qa.View&&!c||(n.debug(`Switching cell id: ${t} field: ${i} to mode: ${l}`),r(n=>{const r=Object.assign({},n.editRows);return r[t]=Object.assign({},r[t]),l===qa.Edit?r[t][i]={value:e.current.getCellValue(t,i)}:(delete r[t][i],Object.keys(r[t]).length||delete r[t]),Object.assign(Object.assign({},n),{editRows:r})}),a(),e.current.publishEvent(o.cellModeChange,{id:t,field:i,mode:l,api:e.current}))},[e,a,n,r]),h=l.useCallback((t,n)=>{const o=e.current.getRowMode(t)===$a.Edit;n===$a.Edit&&o||n===$a.View&&!o||(r(r=>{const a=Object.assign({},r.editRows);return n===$a.Edit?(a[t]={},u.forEach(n=>{const r=e.current.getCellParams(t,n.field);r.isEditable&&(a[t][n.field]={value:r.value})})):delete a[t],Object.assign(Object.assign({},r),{editRows:a})}),a())},[e,u,a,r]),g=l.useCallback(n=>t.editMode===Ua.Cell?$a.View:e.current.state.editRows[n]?$a.Edit:$a.View,[e,t.editMode]),v=l.useCallback((t,n)=>{const r=e.current.state.editRows;return r[t]&&r[t][n]?qa.Edit:qa.View},[e]),b=l.useCallback(e=>!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(e)),[t.isCellEditable]),y=l.useCallback((t,n)=>{const r={id:t.id,field:t.field,props:{value:t.value}};e.current.publishEvent(o.editCellPropsChange,r,n)},[e]),w=l.useCallback(t=>{const{id:o,field:i,props:l}=t;n.debug(`Setting cell props on id: ${o} field: ${i}`),r(t=>{const n=e.current.getColumn(i),r=n.valueParser?n.valueParser(l.value,e.current.getCellParams(o,i)):l.value,a=Object.assign({},t.editRows);return a[o]=Object.assign({},t.editRows[o]),a[o][i]=Object.assign(Object.assign({},l),{value:r}),Object.assign(Object.assign({},t),{editRows:a})}),a()},[e,a,n,r]),C=l.useCallback(e=>{w(e)},[w]),E=l.useCallback(e=>{n.debug("Setting row model"),r(t=>Object.assign(Object.assign({},t),{editRows:e})),a()},[a,n,r]),O=l.useCallback(()=>e.current.state.editRows,[e]),k=l.useCallback((t,n)=>{const{id:r,field:a}=t,i=e.current.getEditRowsModel();if(!i[r]||!i[r][a])throw new Error(`Material-UI: Cell at id: ${r} and field: ${a} is not in edit mode.`);const{error:l,value:c}=i[r][a];if(!l){const r=Object.assign(Object.assign({},t),{value:c});return e.current.publishEvent(o.cellEditCommit,r,n),!0}return!1},[e]),x=l.useCallback(r=>{if(t.editMode===Ua.Row)throw new Error("Material-UI: You can't commit changes when the edit mode is 'row'.");const{id:a,field:o}=r,i=e.current.getEditRowsModel(),{value:l}=i[a][o];n.debug(`Setting cell id: ${a} field: ${o} to value: ${null==l?void 0:l.toString()}`);const c=e.current.getRow(a),u=Object.assign(Object.assign({},c),{[o]:l});e.current.updateRows([u])},[e,n,t.editMode]),S=l.useCallback((n,r)=>{if(t.editMode===Ua.Cell)throw new Error("Material-UI: You can't commit changes when the edit mode is 'cell'.");const a=e.current.getEditRowsModel()[n];if(!a)throw new Error(`Material-UI: Row at id: ${n} is not being editted.`);return!Object.values(a).some(e=>!!e.error)&&(e.current.publishEvent(o.rowEditCommit,n,r),!0)},[e,t.editMode]),j=l.useCallback((e,t)=>{e.isEditable&&(m(e.id,e.field,qa.Edit),Dr(t)&&Lr(t.key)&&w({id:e.id,field:e.field,props:{value:""}}))},[w,m]),T=l.useCallback(t=>{e.current.setRowMode(t.id,$a.Edit)},[e]),P=l.useCallback((t,n)=>{e.current.setRowMode(t.id,$a.View),"Enter"===n.key&&e.current.publishEvent(o.cellNavigationKeyDown,t,n)},[e]),R=l.useCallback(t=>{const n=e.current.getEditRowsModel()[t];if(!n)throw new Error(`Material-UI: Row at id: ${t} is not being editted.`);const r=e.current.getRow(t),a=Object.assign({},r);Object.keys(n).forEach(e=>{a[e]=n[e].value}),e.current.updateRows([a])},[e]),M=l.useCallback((e,t)=>{const n=t.detail>1;e.isEditable&&e.cellMode===qa.View&&n&&t.preventDefault()},[]),I=l.useCallback((n,r)=>{const{id:a,field:i,cellMode:l,isEditable:c}=n;if(!c)return;const u=l===qa.Edit;if(t.editMode===Ua.Row){const t=e.current.getRowParams(n.id);return void(u?"Enter"===r.key?(e.current.commitRowChange(n.id),e.current.publishEvent(o.rowEditStop,t,r)):"Escape"===r.key&&e.current.publishEvent(o.rowEditStop,t,r):"Enter"===r.key&&e.current.publishEvent(o.rowEditStart,t,r))}const s=r.ctrlKey||r.metaKey||r.altKey;var d;if(!u&&(d=r.key,xr(d)||Mr(d)||Lr(d))&&!s&&e.current.publishEvent(o.cellEditStart,n,r),!u&&Mr(r.key)&&(e.current.setEditCellValue({id:a,field:i,value:""}),e.current.commitCellChange({id:a,field:i},r),e.current.publishEvent(o.cellEditStop,n,r)),u&&Nr(r.key)){const t={id:a,field:i};if(!e.current.commitCellChange(t,r))return}u&&(e=>Ar.indexOf(e)>-1)(r.key)&&e.current.publishEvent(o.cellEditStop,n,r)},[e,t.editMode]),L=l.useCallback((t,n)=>{m(t.id,t.field,qa.View),n&&Dr(n)&&(Nr(n.key)?e.current.publishEvent(o.cellNavigationKeyDown,t,n):("Escape"===n.key||Mr(n.key))&&e.current.setCellFocus(t.id,t.field))},[e,m]),A=l.useCallback((n,r)=>{if(n.isEditable)if(t.editMode===Ua.Row){const t=e.current.getRowParams(n.id);e.current.publishEvent(o.rowEditStart,t,r)}else e.current.publishEvent(o.cellEditStart,n,r)},[e,t.editMode]);zn(e,o.cellKeyDown,I),zn(e,o.cellMouseDown,M),zn(e,o.cellDoubleClick,A),zn(e,o.cellFocusOut,f),zn(e,o.cellFocusIn,d),zn(e,o.columnHeaderDragStart,p),zn(e,o.editCellPropsChange,C),zn(e,o.cellEditStart,j),zn(e,o.cellEditStop,L),zn(e,o.cellEditCommit,x),zn(e,o.rowEditStart,T),zn(e,o.rowEditStop,P),zn(e,o.rowEditCommit,R),Hn(e,o.editCellPropsChange,t.onEditCellPropsChange),Hn(e,o.cellEditCommit,t.onCellEditCommit),Hn(e,o.cellEditStart,t.onCellEditStart),Hn(e,o.cellEditStop,t.onCellEditStop),Hn(e,o.rowEditCommit,t.onRowEditCommit),Hn(e,o.rowEditStart,t.onRowEditStart),Hn(e,o.rowEditStop,t.onRowEditStop),hn(e,{setCellMode:m,getCellMode:v,setRowMode:h,getRowMode:g,isCellEditable:b,commitCellChange:k,commitRowChange:S,setEditRowsModel:E,getEditRowsModel:O,setEditCellValue:y},"EditRowApi"),l.useEffect(()=>{e.current.updateControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:e=>e.editRows,changeEvent:o.editRowsModelChange})},[e,t.editRowsModel,t.onEditRowsModelChange]),l.useEffect(()=>{const n=e.current.state.editRows;void 0!==t.editRowsModel&&t.editRowsModel!==n&&e.current.setEditRowsModel(t.editRowsModel||{})},[e,t.editRowsModel])}const Sl=(e,t)=>{const n=mn(e,"useGridSelection"),[,r,a]=In(e),i=Ln(e,Or),c=Ln(e,Jn),u=l.useMemo(()=>null==t.selectionModel||Array.isArray(t.selectionModel)?t.selectionModel:[t.selectionModel],[t.selectionModel]),{checkboxSelection:s,disableMultipleSelection:d,disableSelectionOnClick:f,isRowSelectable:p}=i,m=l.useCallback(()=>Kr(e.current.state),[e]),h=l.useCallback(t=>{const{id:o,allowMultipleOverride:i,isSelected:l,isMultipleKey:c}=t;p&&!p(e.current.getRowParams(o))||(n.debug("Selecting row "+o),r(e=>{let t=Jr(e);if(i||!d&&c||s)(null==l?void 0===t[o]:l)?t[o]=o:delete t[o];else{const e=null==l?!c||void 0===t[o]:l;t={},e&&(t[o]=o)}return Object.assign(Object.assign({},e),{selection:Object.values(t)})}),a())},[p,d,e,n,s,a,r]),g=l.useCallback((t,n=!0,r=!1)=>{const a=e.current.getRow(t);a&&h({id:t,row:a,allowMultipleOverride:r,isSelected:n})},[e,h]),v=l.useCallback((t,n=!0,o=!1)=>{const i=p?t.filter(t=>p(e.current.getRowParams(t))):t;d&&i.length>1&&!s||(r(e=>{const t=o?{}:Jr(e);return i.forEach(e=>{n?t[e]=e:void 0!==t[e]&&delete t[e]}),Object.assign(Object.assign({},e),{selection:Object.values(t)})}),a())},[p,d,s,r,a,e]),b=l.useCallback(t=>{e.current.state.selection!==t&&r(e=>Object.assign(Object.assign({},e),{selection:t}))},[r,e]),y=l.useCallback((e,t)=>{f||h({id:e.id,row:e.row,isMultipleKey:t.metaKey||t.ctrlKey})},[f,h]);zn(e,o.rowClick,y),hn(e,{selectRow:g,getSelectedRows:m,selectRows:v,setSelectionModel:b},"GridSelectionApi"),l.useEffect(()=>{e.current.updateControlState({stateId:"selection",propModel:u,propOnChange:t.onSelectionModelChange,stateSelector:qr,changeEvent:o.selectionChange})},[e,t.onSelectionModelChange,u]),l.useEffect(()=>{r(e=>{const t=qr(e),n=Jr(e);let r=!1;return t.forEach(e=>{c[e]||(delete n[e],r=!0)}),r?Object.assign(Object.assign({},e),{selection:Object.values(n)}):e}),a()},[c,e,r,a]),l.useEffect(()=>{void 0!==u&&e.current.setSelectionModel(u)},[e,u,r]),l.useEffect(()=>{r(t=>{const n=[...t.selection],r=Jr(t);let a=!1;return n.forEach(t=>{!p||p(e.current.getRowParams(t))||(delete r[t],a=!0)}),a?Object.assign(Object.assign({},t),{selection:Object.values(r)}):t}),a()},[e,r,a,p])},jl=(e,t)=>{const n=mn(e,"useGridSorting"),[r,a,i]=In(e),c=Ln(e,Kn),u=l.useCallback((e,t)=>{const n=r.sorting.sortModel.findIndex(t=>t.field===e);let a=[...r.sorting.sortModel];return n>-1?t?a.splice(n,1,t):a.splice(n,1):a=[...r.sorting.sortModel,t],a},[r.sorting.sortModel]),s=l.useCallback((e,n)=>{const a=r.sorting.sortModel.find(t=>t.field===e.field);if(a){const e=void 0===n?ea(t.sortingOrder,a.sort):n;return null==e?void 0:Object.assign(Object.assign({},a),{sort:e})}return{field:e.field,sort:void 0===n?ea(t.sortingOrder):n}},[r.sorting.sortModel,t.sortingOrder]),d=l.useCallback((t,n)=>({id:t,field:n,value:e.current.getCellValue(t,n),api:e.current}),[e]),f=l.useCallback(e=>(t,n)=>e.reduce((e,r,a)=>{if(0!==e)return e;const{comparator:o}=r,i=t[a],l=n[a];return o(i.value,l.value,i,l)},0),[]),p=l.useCallback(t=>t.map(t=>{const n=e.current.getColumn(t.field);if(!n)throw new Error(`Error sorting: column with field '${t.field}' not found. `);const r="desc"===t.sort?(e,t,r,a)=>-1*n.sortComparator(e,t,r,a):n.sortComparator;return{field:n.field,comparator:r}}),[e]),m=l.useCallback(()=>{let r=e.current.getAllRowIds();if(t.sortingMode===yn.server)return n.debug("Skipping sorting rows as sortingMode = server"),void a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:r})}));const o=e.current.state.sorting.sortModel;if(o.length>0){const e=p(o);n.debug("Sorting rows with ",o),r=r.map(t=>e.map(e=>d(t,e.field))).sort(f(e)).map(e=>e[0].id)}a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:r})})),i()},[e,n,d,a,i,p,f,t.sortingMode]),h=l.useCallback(t=>{a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:t})})),i(),e.current.applySorting()},[a,i,e]),g=l.useCallback((e,n,r)=>{if(!e.sortable)return;const a=s(e,n);let o;o=!r||t.disableMultipleColumnsSorting?a?[a]:[]:u(e.field,a),h(o)},[u,h,s,t.disableMultipleColumnsSorting]),v=l.useCallback(({colDef:e},t)=>{const n=t.shiftKey||t.metaKey||t.ctrlKey;g(e,void 0,n)},[g]),b=l.useCallback(({colDef:e},t)=>{!xr(t.key)||t.ctrlKey||t.metaKey||g(e,void 0,t.shiftKey)},[g]),y=l.useCallback(()=>{a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:[]})}))},[a]),w=l.useCallback(()=>r.sorting.sortModel,[r.sorting.sortModel]),C=l.useCallback(()=>Object.values(er(e.current.state)),[e]),E=l.useCallback(()=>Qn(e.current.state),[e]),O=l.useCallback(()=>{a(e=>{const t=e.sorting.sortModel,n=ne(e);let r=t;return t.length>0&&(r=t.reduce((e,t)=>(n.find(e=>e.field===t.field)&&e.push(t),e),[])),Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:r})})})},[a]);zn(e,o.columnHeaderClick,v),zn(e,o.columnHeaderKeyDown,b),zn(e,o.rowsSet,e.current.applySorting),zn(e,o.rowsClear,y),zn(e,o.rowsUpdate,e.current.applySorting),zn(e,o.columnsChange,O),hn(e,{getSortModel:w,getSortedRows:C,getSortedRowIds:E,setSortModel:h,sortColumn:g,applySorting:m},"GridSortApi"),l.useEffect(()=>{e.current.applySorting()},[e,t.rows]),l.useEffect(()=>{c>0&&(n.debug("row changed, applying sortModel"),e.current.applySorting())},[c,e,n]),l.useEffect(()=>{e.current.updateControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:e=>e.sorting.sortModel,changeEvent:o.sortModelChange})},[e,t.sortModel,t.onSortModelChange]),l.useEffect(()=>{const n=e.current.state.sorting.sortModel;void 0!==t.sortModel&&t.sortModel!==n&&h(t.sortModel)},[t.sortModel,e,h])};const Tl=(e,t)=>{var n;const r=mn(e,"useGridVirtualization"),a=e.current.columnHeadersElementRef,i=e.current.windowRef,c=e.current.renderingZoneRef,[u,s,d]=In(e),f=Ln(e,Gr),p=Ln(e,Kn),m=Ln(e,re),h=Ln(e,ae),g=l.useRef(null),v=l.useRef(null),b=l.useRef(0),[y]=fl(e,c,a),w=l.useCallback(e=>{let t=!1;return s(n=>{const r=Object.assign(Object.assign({},n.rendering),e);return qt(n.rendering,r)?n:(t=!0,Object.assign(Object.assign({},n),{rendering:r}))}),t},[s]),C=l.useCallback(n=>{if(null==e.current.state.containerSizes)return null;let r=0;t.pagination&&null!=f.pageSize&&"client"===t.paginationMode&&(r=f.pageSize*f.page);const a=n*e.current.state.containerSizes.viewportPageSize+r;let o=a+e.current.state.containerSizes.renderingZonePageSize;const i=e.current.state.containerSizes.virtualRowsCount+r;return o>i&&(o=i),{page:n,firstRowIdx:a,lastRowIdx:o}},[e,t.pagination,f.pageSize,t.paginationMode,f.page]),E=l.useCallback(()=>null==e.current.state.containerSizes?null:Object.assign(Object.assign(Object.assign({},g.current),C(e.current.state.rendering.virtualPage)),{paginationCurrentPage:f.page,pageSize:f.pageSize}),[g,C,e,f.page,f.pageSize]),O=l.useCallback(()=>{const e=E();w({renderContext:e})&&(r.debug("reRender: trigger rendering"),d())},[E,r,d,w]),k=l.useCallback(e=>function e(t,n,r=0,a=n.length){if(n.length<=0)return-1;if(r>=a)return r;const o=r+Math.floor((a-r)/2);return t<=n[o]?e(t,n,r,o):e(t,n,o+1,a)}(e,h.positions),[h.positions]),x=l.useCallback(e=>m.length?m[k(e)]:null,[k,m]),S=l.useCallback((n,a)=>{var o,i,l,c;if(!n)return!1;v.current=n;const u=n.windowSizes.width;b.current=a,r.debug(`GridColumns from ${null===(o=x(a))||void 0===o?void 0:o.field} to ${null===(i=x(a+u))||void 0===i?void 0:i.field}`);const s=k(a),d=k(a+u),f=(null===(l=null==g?void 0:g.current)||void 0===l?void 0:l.firstColIdx)||0,p=(null===(c=null==g?void 0:g.current)||void 0===c?void 0:c.lastColIdx)||0,y=t.columnBuffer,w=y>1?y-1:y,C=Math.abs(s-w-f),E=Math.abs(d+w-p);r.debug(`Column buffer: ${y}, tolerance: ${w}`),r.debug(`Previous values  => first: ${f}, last: ${p}`),r.debug(`Current displayed values  => first: ${s}, last: ${d}`),r.debug(`Difference with first: ${C} and last: ${E} `);const O=m.length>0?m.length-1:0,S=s-y>=0?s-y:0,j={leftEmptyWidth:h.positions[S],rightEmptyWidth:0,firstColIdx:S,lastColIdx:d+y>=O?O:d+y};return e.current.state.scrollBar.hasScrollX?j.rightEmptyWidth=h.totalWidth-h.positions[j.lastColIdx]-m[j.lastColIdx].computedWidth:t.disableExtendRowFullWidth||(j.rightEmptyWidth=e.current.state.viewportSizes.width-h.totalWidth),qt(j,g.current)?(r.debug("No rendering needed on columns"),!1):(g.current=j,r.debug("New columns state to render",j),!0)},[e,h.positions,h.totalWidth,x,k,r,t.columnBuffer,t.disableExtendRowFullWidth,m]),j=l.useCallback((n=!1)=>{if(t.disableVirtualization)return;const a=e.current.state,l=a.containerSizes;if(!i||!i.current||!l)return;const c=a.scrollBar,{scrollLeft:u,scrollTop:s}=i.current;r.debug(`Handling scroll Left: ${u} Top: ${s}`);let d=S(l,u);const p=u,m=a.containerSizes.renderingZoneScrollHeight,h=a.rendering.virtualPage,g=m>0?Math.floor(s/m):0,v=s%m,b={left:c.hasScrollX?p:0,top:l.isVirtualized?v:s};l.isVirtualized&&h!==g?(w({virtualPage:g}),r.debug(`Changing page from ${h} to ${g}`),d=!0):(!l.isVirtualized&&h>0&&(r.debug("Virtualization disabled, setting virtualPage to 0"),w({virtualPage:0})),y(b)),w({renderingZoneScroll:b,realScroll:{left:i.current.scrollLeft,top:i.current.scrollTop}}),e.current.publishEvent(o.rowsScroll,b);const C=a.rendering.renderContext&&a.rendering.renderContext.paginationCurrentPage!==f.page;(n||d||C)&&O()},[e,r,f.page,O,y,w,S,i,t.disableVirtualization]),T=l.useCallback(()=>{y({left:0,top:0}),w({virtualPage:0}),i&&i.current&&(i.current.scrollTop=0,i.current.scrollLeft=0),w({renderingZoneScroll:{left:0,top:0}})},[y,w,i]),P=l.useRef(null),R=l.useCallback(()=>{t.disableVirtualization||i.current.scrollLeft<0||i.current.scrollTop<0||(P.current||s(e=>Object.assign(Object.assign({},e),{isScrolling:!0})),clearTimeout(P.current),P.current=setTimeout(()=>{P.current=null,s(e=>Object.assign(Object.assign({},e),{isScrolling:!1})),d()},300),e.current.updateViewport&&e.current.updateViewport())},[t.disableVirtualization,i,e,s,d]),M=l.useCallback(()=>u.containerSizes,[u.containerSizes]),I=l.useCallback(()=>u.rendering.renderContext||void 0,[u.rendering.renderContext]);Kt(()=>{t.disableVirtualization||c&&c.current&&(r.debug("applying scrollTop ",u.rendering.renderingZoneScroll.top),y(u.rendering.renderingZoneScroll))}),hn(e,{getContainerPropsState:M,getRenderContextState:I,updateViewport:j},"GridVirtualizationApi"),l.useEffect(()=>{var t;(null===(t=u.rendering.renderContext)||void 0===t?void 0:t.paginationCurrentPage)!==f.page&&e.current.updateViewport&&(r.debug(`State paginationState.page changed to ${f.page}. `),e.current.updateViewport(!0),T())},[e,f.page,null===(n=u.rendering.renderContext)||void 0===n?void 0:n.paginationCurrentPage,r,T]),l.useEffect(()=>(e.current.updateViewport&&(r.debug(`totalRowCount has changed to ${p}, updating viewport.`),e.current.updateViewport(!0)),()=>{clearTimeout(P.current)}),[r,p,u.viewportSizes,u.scrollBar,u.containerSizes,e]),bl(e,i,"scroll",R,{passive:!0});const L=l.useCallback(()=>{r.debug("Clearing previous renderedColRef"),g.current=null},[r,g]);zn(e,o.columnsChange,L),zn(e,o.debouncedResize,L)};function Pl(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:a}=e,o=a+r;return o-t>n?o-t:a<n?a:void 0}const Rl=(e,t)=>{const n=mn(e,"useGridScroll"),r=e.current.columnHeadersElementRef,a=e.current.windowRef,o=Ln(e,wr),i=Ln(e,Gr),c=Ln(e,Kn),u=Ln(e,re),s=Ln(e,ae),d=l.useCallback(r=>{if(0===c||0===u.length)return!1;n.debug(`Scrolling to cell at row ${r.rowIndex}, col: ${r.colIndex} `);const l={};if(null!=r.colIndex&&(l.left=Pl({clientHeight:a.current.clientWidth,scrollTop:a.current.scrollLeft,offsetHeight:u[r.colIndex].computedWidth,offsetTop:s.positions[r.colIndex]})),null!=r.rowIndex){const e=t.pagination?r.rowIndex-i.page*i.pageSize:r.rowIndex;l.top=Pl({clientHeight:a.current.clientHeight,scrollTop:a.current.scrollTop,offsetHeight:o,offsetTop:o*e})}return(void 0!==typeof l.left||void 0!==typeof l.top)&&(e.current.scroll(l),!0)},[c,u,n,e,t.pagination,i.page,i.pageSize,a,s.positions,o]),f=l.useCallback(e=>{a.current&&null!=e.left&&r.current&&(r.current.scrollLeft=e.left,a.current.scrollLeft=e.left,n.debug("Scrolling left: "+e.left)),a.current&&null!=e.top&&(a.current.scrollTop=e.top,n.debug("Scrolling top: "+e.top)),n.debug("Scrolling, updating container, and viewport")},[a,r,n]),p=l.useCallback(()=>Fn(e.current.getState()),[e]);hn(e,{scroll:f,scrollToIndexes:d,getScrollPosition:p},"GridScrollApi");const m=l.useCallback(e=>{e.target.scrollLeft=0,e.target.scrollTop=0},[]);bl(e,()=>{var t,n,r;return null===(r=null===(n=null===(t=e.current)||void 0===t?void 0:t.renderingZoneRef)||void 0===n?void 0:n.current)||void 0===r?void 0:r.parentElement},"scroll",m),bl(e,()=>{var t,n;return null===(n=null===(t=e.current)||void 0===t?void 0:t.columnHeadersContainerElementRef)||void 0===n?void 0:n.current},"scroll",m)};class Ml extends class{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(e,t){Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t)}removeListener(e,t){if(Array.isArray(this.events[e])){const n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}}removeAllListeners(e){e?Array.isArray(this.events[e])&&(this.events[e]=[]):this.events={}}emit(e,...t){if(Array.isArray(this.events[e])){const n=this.events[e].slice(),r=n.length;for(let e=0;e<r;e+=1)n[e].apply(this,t)}}once(e,t){const n=this;this.on(e,(function r(...a){n.removeListener(e,r),t.apply(n,a)}))}}{on(e,t,n){Array.isArray(this.events[e])||(this.events[e]=[]),n&&n.isFirst?this.events[e].splice(0,0,t):this.events[e].push(t)}}function Il(...e){const t=e[0],n=l.useRef(new Ml);return l.useImperativeHandle(t,()=>n.current,[n]),n}function Ll(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}const Al=(e,t)=>{const n=mn(e,"useGridColumnResize"),[,r,a]=In(e),i=l.useRef(),c=l.useRef(),u=l.useRef(),s=l.useRef(),d=l.useRef(),f=l.useRef(),p=e=>{n.debug(`Updating width to ${e} for col ${i.current.field}`),i.current.computedWidth=e,i.current.width=e,i.current.flex=void 0,c.current.style.width=e+"px",c.current.style.minWidth=e+"px",c.current.style.maxWidth=e+"px",u.current.forEach(t=>{const n=t;n.style.width=e+"px",n.style.minWidth=e+"px",n.style.maxWidth=e+"px"})},m=$t(t=>{C(),e.current.updateColumn(i.current),clearTimeout(d.current),d.current=setTimeout(()=>{var n;e.current.publishEvent(o.columnResizeStop,null,t),e.current.publishEvent(o.columnWidthChange,{element:c.current,colDef:i.current,width:null===(n=i.current)||void 0===n?void 0:n.computedWidth},t)}),n.debug(`Updating col ${i.current.field} with new width: ${i.current.width}`)}),h=$t(t=>{var n;if(0===t.buttons)return void m(t);let r=s.current+t.clientX-c.current.getBoundingClientRect().left;r=Math.max(null===(n=i.current)||void 0===n?void 0:n.minWidth,r),p(r),e.current.publishEvent(o.columnResize,{element:c.current,colDef:i.current,width:r},t)}),g=$t(({colDef:t},r)=>{var a;if(0!==r.button)return;if(!r.currentTarget.classList.contains(Nn["columnSeparator--resizable"]))return;r.preventDefault(),c.current=lo(r.currentTarget,Nn.columnHeader),n.debug("Start Resize on col "+t.field),e.current.publishEvent(o.columnResizeStart,{field:t.field},r),i.current=t,c.current=null===(a=e.current.columnHeadersElementRef)||void 0===a?void 0:a.current.querySelector(`[data-field="${t.field}"]`),u.current=uo(c.current);const l=Object(w.a)(e.current.rootElementRef.current);l.body.style.cursor="col-resize",s.current=i.current.computedWidth-(r.clientX-c.current.getBoundingClientRect().left),l.addEventListener("mousemove",h),l.addEventListener("mouseup",m)}),v=$t(t=>{Ll(t,f.current)&&(C(),e.current.updateColumn(i.current),clearTimeout(d.current),d.current=setTimeout(()=>{e.current.publishEvent(o.columnResizeStop,null,t)}),n.debug(`Updating col ${i.current.field} with new width: ${i.current.width}`))}),b=$t(t=>{var n;const r=Ll(t,f.current);if(!r)return;if("mousemove"===t.type&&0===t.buttons)return void v(t);let a=s.current+r.x-c.current.getBoundingClientRect().left;a=Math.max(null===(n=i.current)||void 0===n?void 0:n.minWidth,a),p(a),e.current.publishEvent(o.columnResize,{element:c.current,colDef:i.current,width:a},t)}),y=$t(t=>{var r;if(!lo(t.target,Nn["columnSeparator--resizable"]))return;t.preventDefault();const a=t.changedTouches[0];null!=a&&(f.current=a.identifier),c.current=lo(t.target,Nn.columnHeader);const l=c.current.getAttribute("data-field"),d=e.current.getColumn(l);n.debug("Start Resize on col "+d.field),e.current.publishEvent(o.columnResizeStart,{field:l},t),i.current=d,c.current=function(e,t){return e.querySelector(`[data-field="${t}"]`)}(null===(r=e.current.columnHeadersElementRef)||void 0===r?void 0:r.current,d.field),u.current=uo(c.current),s.current=i.current.computedWidth-(a.clientX-c.current.getBoundingClientRect().left);const p=Object(w.a)(t.currentTarget);p.addEventListener("touchmove",b),p.addEventListener("touchend",v)}),C=l.useCallback(()=>{const t=Object(w.a)(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",h),t.removeEventListener("mouseup",m),t.removeEventListener("touchmove",b),t.removeEventListener("touchend",v)},[e,h,m,b,v]),E=l.useCallback(({field:e})=>{r(t=>Object.assign(Object.assign({},t),{columnResize:Object.assign(Object.assign({},t.columnResize),{resizingColumnField:e})})),a()},[r,a]),O=l.useCallback(()=>{r(e=>Object.assign(Object.assign({},e),{columnResize:Object.assign(Object.assign({},e.columnResize),{resizingColumnField:""})})),a()},[r,a]);l.useEffect(()=>()=>{clearTimeout(d.current),C()},[e,y,C]),bl(e,()=>{var t,n;return null===(n=null===(t=e.current)||void 0===t?void 0:t.columnHeadersElementRef)||void 0===n?void 0:n.current},"touchstart",y,{passive:!1}),zn(e,o.columnSeparatorMouseDown,g),zn(e,o.columnResizeStart,E),zn(e,o.columnResizeStop,O),Hn(e,o.columnResize,t.onColumnResize),Hn(e,o.columnWidthChange,t.onColumnWidthChange)},Fl=l.memo((function(e){const t=Z(),n=Hr(),[r]=n.sortingOrder,a="asc"===r?null==t?void 0:t.current.components.ColumnSortedAscendingIcon:null==t?void 0:t.current.components.ColumnSortedDescendingIcon;return a?l.createElement(a,Object.assign({},e)):null})),Nl=l.forwardRef((function(e,t){const{message:n}=e,r=Yr(e,["message"]),a=Z().current.getLocaleText("errorOverlayDefaultLabel");return l.createElement(mi,Object.assign({ref:t},r),n||a)})),_l=l.forwardRef((function(e,t){const n=Z().current.getLocaleText("noResultsOverlayLabel");return l.createElement(mi,Object.assign({ref:t},e),n)})),Dl={BooleanCellFalseIcon:ba,BooleanCellTrueIcon:Oa,Checkbox:S.a,ColumnFilteredIcon:ca,ColumnMenu:Ci,ColumnMenuIcon:va,ColumnResizeIcon:pa,ColumnSelectorIcon:fa,ColumnSortedAscendingIcon:oa,ColumnSortedDescendingIcon:ia,ColumnsPanel:Ai,ColumnUnsortedIcon:Fl,DensityComfortableIcon:ga,DensityCompactIcon:ma,DensityStandardIcon:ha,ErrorOverlay:Nl,ExportIcon:Ea,FilterPanel:Hi,Footer:Xi,Header:Yi,LoadingOverlay:Zi,NoResultsOverlay:_l,NoRowsOverlay:Qi,OpenFilterButtonIcon:la,Pagination:tl,Panel:_i,PreferencesPanel:Di},zl=(e,t)=>{const n=l.useMemo(()=>{var e,n;return{BooleanCellTrueIcon:t.components&&t.components.BooleanCellTrueIcon||Dl.BooleanCellTrueIcon,BooleanCellFalseIcon:t.components&&t.components.BooleanCellFalseIcon||Dl.BooleanCellFalseIcon,ColumnFilteredIcon:t.components&&t.components.ColumnFilteredIcon||Dl.ColumnFilteredIcon,ColumnMenuIcon:t.components&&t.components.ColumnMenuIcon||Dl.ColumnMenuIcon,ColumnResizeIcon:t.components&&t.components.ColumnResizeIcon||Dl.ColumnResizeIcon,ColumnSelectorIcon:t.components&&t.components.ColumnSelectorIcon||Dl.ColumnSelectorIcon,ColumnUnsortedIcon:void 0===(null===(e=t.components)||void 0===e?void 0:e.ColumnUnsortedIcon)?Dl.ColumnUnsortedIcon:null===(n=t.components)||void 0===n?void 0:n.ColumnUnsortedIcon,ColumnSortedAscendingIcon:t.components&&t.components.ColumnSortedAscendingIcon||Dl.ColumnSortedAscendingIcon,ColumnSortedDescendingIcon:t.components&&t.components.ColumnSortedDescendingIcon||Dl.ColumnSortedDescendingIcon,DensityComfortableIcon:t.components&&t.components.DensityComfortableIcon||Dl.DensityComfortableIcon,DensityCompactIcon:t.components&&t.components.DensityCompactIcon||Dl.DensityCompactIcon,DensityStandardIcon:t.components&&t.components.DensityStandardIcon||Dl.DensityStandardIcon,ExportIcon:t.components&&t.components.ExportIcon||Dl.ExportIcon,OpenFilterButtonIcon:t.components&&t.components.OpenFilterButtonIcon||Dl.OpenFilterButtonIcon,Checkbox:t.components&&t.components.Checkbox||Dl.Checkbox,ColumnMenu:t.components&&t.components.ColumnMenu||Dl.ColumnMenu,ErrorOverlay:t.components&&t.components.ErrorOverlay||Dl.ErrorOverlay,Footer:t.components&&t.components.Footer||Dl.Footer,Header:t.components&&t.components.Header||Dl.Header,Toolbar:t.components&&t.components.Toolbar,PreferencesPanel:t.components&&t.components.PreferencesPanel||Dl.PreferencesPanel,LoadingOverlay:t.components&&t.components.LoadingOverlay||Dl.LoadingOverlay,NoResultsOverlay:t.components&&t.components.NoResultsOverlay||Dl.NoResultsOverlay,NoRowsOverlay:t.components&&t.components.NoRowsOverlay||Dl.NoRowsOverlay,Pagination:t.components&&t.components.Pagination||Dl.Pagination,FilterPanel:t.components&&t.components.FilterPanel||Dl.FilterPanel,ColumnsPanel:t.components&&t.components.ColumnsPanel||Dl.ColumnsPanel,Panel:t.components&&t.components.Panel||Dl.Panel}},[t.components]);e.current.components=n,e.current.componentsProps=t.componentsProps},Bl=()=>{const e=Z(),t=Ln(e,Or),n=Ln(e,Yn),r=Ln(e,re),[a]=In(e);return l.useMemo(()=>({state:a,rows:n,columns:r,options:t,apiRef:e,rootElement:e.current.rootElementRef}),[a,n,r,t,e])},Hl=(e,t)=>{var n,r;return"v5"===tn()?{components:{MuiDataGrid:{defaultProps:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(n=null==t?void 0:t.components)||void 0===n?void 0:n.MuiTablePagination.defaultProps)||{}})}}}}:{props:{MuiDataGrid:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(r=null==t?void 0:t.props)||void 0===r?void 0:r.MuiTablePagination)||{}})}}}},Vl=Hl({noRowsLabel:"  ",noResultsOverlayLabel:"    .",errorOverlayDefaultLabel:" .",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>e+"  ",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"  CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:" ",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:"",filterOperatorAfter:" ",filterOperatorOnOrAfter:"  ",filterOperatorBefore:"",filterOperatorOnOrBefore:"  ",filterOperatorIsEmpty:"",filterOperatorIsNotEmpty:" ",filterValueAny:"",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"  ASC",columnMenuSortDesc:"  DESC",columnHeaderFiltersTooltipActive:e=>e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>e.toLocaleString()+"  ",footerTotalRows:" :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()}  ${t.toLocaleString()}`,checkboxSelectionHeaderName:"",booleanCellTrueLabel:"",booleanCellFalseLabel:""},$.enUS),Wl=Hl({noRowsLabel:" ",errorOverlayDefaultLabel:" .",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:"   ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>e+"  ",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:"  ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:" ",filterOperatorAfter:" ",filterOperatorOnOrAfter:"   ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"   ",filterPanelInputLabel:"",filterPanelInputPlaceholder:"  ",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"   ",columnMenuSortDesc:"   ",columnHeaderFiltersTooltipActive:e=>e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?e.toLocaleString()+"  ":e.toLocaleString()+"  ",footerTotalRows:" R:"},$.bgBG),Gl=Hl({noRowsLabel:"dn zznamy",noResultsOverlayLabel:"Nenali se adn vsledky.",errorOverlayDefaultLabel:"Stala sa nepedvdan chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn",toolbarDensityStandard:"Standartn",toolbarDensityComfortable:"Komfortn",toolbarColumns:"Sloupce",toolbarColumnsLabel:"Vybrat sloupec",toolbarFilters:"Filtry",toolbarFiltersLabel:"Zobrazit filtry",toolbarFiltersTooltipHide:"Skrt filtry",toolbarFiltersTooltipShow:"Zobrazit filtry",toolbarFiltersTooltipActive:e=>{let t="aktivnch filtr";return e>1&&e<5?t="aktivn filtry":1===e&&(t="aktivn filtr"),`${e} ${t}`},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Sthnout jako CSV",columnsPanelTextFieldLabel:"Najt sloupec",columnsPanelTextFieldPlaceholder:"Nzev sloupce",columnsPanelDragIconLabel:"Uspodat sloupce",columnsPanelShowAllButton:"Zobrazit ve",columnsPanelHideAllButton:"Skrt ve",filterPanelAddFilter:"Pidat filtr",filterPanelDeleteIconLabel:"Odstranit",filterPanelOperators:"Opertory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Nebo",filterPanelColumns:"Sloupce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtru",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn se",filterOperatorStartsWith:"zan s",filterOperatorEndsWith:"kon na",filterOperatorIs:"je",filterOperatorNot:"nen",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na nebo po",filterOperatorBefore:"je ped",filterOperatorOnOrBefore:"je na nebo dve",filterValueAny:"jakkoliv",filterValueTrue:"ano",filterValueFalse:"ne",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazit sloupce",columnMenuFilter:"Filtr",columnMenuHideColumn:"Skrt",columnMenuUnsort:"Zruit filtry",columnMenuSortAsc:"Seadit vzestupn",columnMenuSortDesc:"Seadit sestupn",columnHeaderFiltersTooltipActive:e=>{let t="aktivnch filtr";return e>1&&e<5?t="aktivn filtry":1===e&&(t="aktivn filtr"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobrazit filtry",columnHeaderSortIconLabel:"Filtrovat",footerRowSelected:e=>{let t="vybranch zznam";return e>1&&e<5?t="vybran zznamy":1===e&&(t="vybran zznam"),`${e} ${t}`},footerTotalRows:"Celkem dk:",checkboxSelectionHeaderName:"Vbr dku",booleanCellTrueLabel:"ano",booleanCellFalseLabel:"ne"},$.csCZ),Ul=Hl({noRowsLabel:"Keine Eintrge",noResultsOverlayLabel:"Keine Ergebnisse gefunden.",errorOverlayDefaultLabel:"Ein unerwarteter Fehler ist aufgetreten.",toolbarDensity:"Zeilenhhe",toolbarDensityLabel:"Zeilenhhe",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Breit",toolbarColumns:"Spalten",toolbarColumnsLabel:"Zeige Spaltenauswahl",toolbarFilters:"Filter",toolbarFiltersLabel:"Zeige Filter",toolbarFiltersTooltipHide:"Verberge Filter",toolbarFiltersTooltipShow:"Zeige Filter",toolbarFiltersTooltipActive:e=>1!==e?e+" aktive Filter":e+" aktiver Filter",toolbarExport:"Exportieren",toolbarExportLabel:"Exportieren",toolbarExportCSV:"Download als CSV",columnsPanelTextFieldLabel:"Finde Spalte",columnsPanelTextFieldPlaceholder:"Spaltenberschrift",columnsPanelDragIconLabel:"Spalte umsortieren",columnsPanelShowAllButton:"Zeige alle",columnsPanelHideAllButton:"Verberge alle",filterPanelAddFilter:"Filter hinzufgen",filterPanelDeleteIconLabel:"Lschen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"Und",filterPanelOperatorOr:"Oder",filterPanelColumns:"Spalten",filterPanelInputLabel:"Wert",filterPanelInputPlaceholder:"Wert filtern",filterOperatorContains:"beinhaltet",filterOperatorEquals:"ist gleich",filterOperatorStartsWith:"beginnt mit",filterOperatorEndsWith:"endet mit",filterOperatorIs:"ist",filterOperatorNot:"ist nicht",filterOperatorOnOrAfter:"ist an oder nach",filterOperatorBefore:"ist vor",filterOperatorOnOrBefore:"ist an oder vor",filterOperatorAfter:"ist nach",filterOperatorIsEmpty:"ist leer",filterOperatorIsNotEmpty:"ist nicht leer",columnMenuLabel:"Men",columnMenuShowColumns:"Zeige alle Spalten",columnMenuFilter:"Filter",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Sortierung deaktivieren",columnMenuSortAsc:"Sortiere aufsteigend",columnMenuSortDesc:"Sortiere absteigend",columnHeaderFiltersTooltipActive:e=>1!==e?e+" aktive Filter":e+" aktiver Filter",columnHeaderFiltersLabel:"Zeige Filter",columnHeaderSortIconLabel:"Sortieren",footerRowSelected:e=>1!==e?e.toLocaleString()+" Eintrge ausgewhlt":e.toLocaleString()+" Eintrag ausgewhlt",footerTotalRows:"Gesamt:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} von ${t.toLocaleString()}`},$.deDE),ql=Hl({noRowsLabel:"  ",errorOverlayDefaultLabel:"  .",toolbarDensity:" ",toolbarDensityLabel:" ",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"  CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:" ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:" ",filterOperatorAfter:" ",filterOperatorOnOrAfter:"   ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"   ",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"   ",columnMenuSortDesc:"   ",columnHeaderFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?e.toLocaleString()+"  ":e.toLocaleString()+"  ",footerTotalRows:" :"}),$l=Hl(vn,$.enUS),Kl=Hl({noRowsLabel:"Sin filas",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:e=>e>1?e+" filtros activos":e+" filtro activo",toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",columnsPanelTextFieldLabel:"Columna de bsqueda",columnsPanelTextFieldPlaceholder:"Ttulo de columna",columnsPanelDragIconLabel:"Reorder columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"est vaco",filterOperatorIsNotEmpty:"no esta vaco",columnMenuLabel:"Men",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar ASC",columnMenuSortDesc:"Ordenar DESC",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtros activos":e+" filtro activo",columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>e>1?e.toLocaleString()+" filas seleccionadas":e.toLocaleString()+" fila seleccionada",footerTotalRows:"Filas Totales:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`},$.esES),Jl=Hl({noRowsLabel:"Pas de rsultats",noResultsOverlayLabel:"Aucun rsultat.",errorOverlayDefaultLabel:"Une erreur est apparue.",toolbarDensity:"Densit",toolbarDensityLabel:"Densit",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Cacher les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:e=>e>1?e+" filtres actifs":e+" filtre actif",toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"Tlcharger en CSV",columnsPanelTextFieldLabel:"Chercher colonne",columnsPanelTextFieldPlaceholder:"Titre de la colonne",columnsPanelDragIconLabel:"Rorganiser la colonne",columnsPanelShowAllButton:"Tout afficher",columnsPanelHideAllButton:"Tout cacher",filterPanelAddFilter:"Ajouter un filtre",filterPanelDeleteIconLabel:"Supprimer",filterPanelOperators:"Oprateurs",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonnes",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorEquals:"gal ",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorOnOrAfter:"gal ou postrieur",filterOperatorAfter:"postrieur",filterOperatorOnOrBefore:"gal ou antrieur",filterOperatorBefore:"antrieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",columnMenuLabel:"Menu",columnMenuShowColumns:"Afficher les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Cacher",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtres actifs":e+" filtre actif",columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:e=>e>1?e.toLocaleString()+" lignes slectionnes":e.toLocaleString()+" ligne slectionne",footerTotalRows:"Lignes totales :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} sur ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Slection"},$.frFR),Xl=Hl({noRowsLabel:"Nessun record",noResultsOverlayLabel:"Nessun record trovato.",errorOverlayDefaultLabel:"Si  verificato un errore.",toolbarDensity:"Densit",toolbarDensityLabel:"Densit",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonne",toolbarColumnsLabel:"Seleziona le colonne",toolbarFilters:"Filtri",toolbarFiltersLabel:"Mostra i filtri",toolbarFiltersTooltipHide:"Nascondi i filtri",toolbarFiltersTooltipShow:"Mostra i filtri",toolbarFiltersTooltipActive:e=>e>1?e+" filtri attivi":e+" filtro attivo",columnsPanelTextFieldLabel:"Cerca colonna",columnsPanelTextFieldPlaceholder:"Titolo della colonna",columnsPanelDragIconLabel:"Riordina la colonna",columnsPanelShowAllButton:"Mostra tutto",columnsPanelHideAllButton:"Nascondi tutto",filterPanelAddFilter:"Aggiungi un filtro",filterPanelDeleteIconLabel:"Rimuovi",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"E (and)",filterPanelOperatorOr:"O (or)",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valore",filterPanelInputPlaceholder:"Filtra il valore",filterOperatorContains:"contiene",filterOperatorEquals:"uguale a",filterOperatorStartsWith:"comincia per",filterOperatorEndsWith:"termina per",filterOperatorIs:"uguale a",filterOperatorNot:"diversa da",filterOperatorOnOrAfter:"a partire dal",filterOperatorAfter:"dopo il",filterOperatorOnOrBefore:"fino al",filterOperatorBefore:"prima del",filterOperatorIsEmpty:" vuoto",filterOperatorIsNotEmpty:"non  vuoto",columnMenuLabel:"Menu",columnMenuShowColumns:"Mostra le colonne",columnMenuFilter:"Filtra",columnMenuHideColumn:"Nascondi",columnMenuUnsort:"Annulla l'ordinamento",columnMenuSortAsc:"Ordinamento crescente",columnMenuSortDesc:"Ordinamento decrescente",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtri attivi":e+" filtro attivo",columnHeaderFiltersLabel:"Mostra i filtri",columnHeaderSortIconLabel:"Ordina",footerRowSelected:e=>e>1?e.toLocaleString()+" record selezionati":e.toLocaleString()+" record selezionato",footerTotalRows:"Record totali :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} di ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleziona"},$.itIT),Yl=Hl({noRowsLabel:"",errorOverlayDefaultLabel:"",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:"",toolbarFilters:"",toolbarFiltersLabel:"",toolbarFiltersTooltipHide:"",toolbarFiltersTooltipShow:"",toolbarFiltersTooltipActive:e=>e+"",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"CSV",columnsPanelTextFieldLabel:"",columnsPanelTextFieldPlaceholder:"...",columnsPanelDragIconLabel:"",columnsPanelShowAllButton:"",columnsPanelHideAllButton:"",filterPanelAddFilter:"",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:"...",filterOperatorContains:"...",filterOperatorEquals:"...",filterOperatorStartsWith:"...",filterOperatorEndsWith:"...",filterOperatorIs:"...",filterOperatorNot:"...",filterOperatorAfter:"...",filterOperatorOnOrAfter:"...",filterOperatorBefore:"...",filterOperatorOnOrBefore:"...",columnMenuLabel:"",columnMenuShowColumns:"",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:"",columnMenuSortAsc:"",columnMenuSortDesc:"",columnHeaderFiltersTooltipActive:e=>e+"",columnHeaderFiltersLabel:"",columnHeaderSortIconLabel:"",footerRowSelected:e=>e+"",footerTotalRows:":"},$.jaJP),Zl=Hl({noRowsLabel:"Geen resultaten.",errorOverlayDefaultLabel:"Er deed zich een fout voor.",toolbarDensity:"Grootte",toolbarDensityLabel:"Grootte",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Normaal",toolbarDensityComfortable:"Breed",toolbarColumns:"Kolommen",toolbarColumnsLabel:"Kies kolommen",toolbarFilters:"Filters",toolbarFiltersLabel:"Toon filters",toolbarFiltersTooltipHide:"Verberg filters",toolbarFiltersTooltipShow:"Toon filters",toolbarFiltersTooltipActive:e=>e>1?e+" actieve filters":e+" filter actief",columnsPanelTextFieldLabel:"Zoek kolom",columnsPanelTextFieldPlaceholder:"Kolomtitel",columnsPanelDragIconLabel:"Kolom herschikken",columnsPanelShowAllButton:"Alles tonen",columnsPanelHideAllButton:"Alles verbergen",filterPanelAddFilter:"Filter toevoegen",filterPanelDeleteIconLabel:"Verwijderen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"En",filterPanelOperatorOr:"Of",filterPanelColumns:"Kolommen",filterPanelInputLabel:"Waarde",filterPanelInputPlaceholder:"Filter waarde",filterOperatorContains:"bevat",filterOperatorEquals:"gelijk aan",filterOperatorStartsWith:"begint met",filterOperatorEndsWith:"eindigt met",filterOperatorIs:"is",filterOperatorNot:"is niet",filterOperatorOnOrAfter:"is gelijk of er voor",filterOperatorAfter:"is voor",filterOperatorOnOrBefore:"is gelijk of er na",filterOperatorBefore:"is na",columnMenuLabel:"Menu",columnMenuShowColumns:"Toon kolommen",columnMenuFilter:"Filteren",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Annuleer sortering",columnMenuSortAsc:"Oplopend sorteren",columnMenuSortDesc:"Aflopend sorteren",columnHeaderFiltersTooltipActive:e=>e>1?e+" actieve filters":e+" filter actief",columnHeaderFiltersLabel:"Toon filters",columnHeaderSortIconLabel:"Sorteren",footerRowSelected:e=>e>1?e.toLocaleString()+" rijen geselecteerd":e.toLocaleString()+" rij geselecteerd",footerTotalRows:"Totaal:"},$.nlNL),Ql={noRowsLabel:"Brak danych",errorOverlayDefaultLabel:"Wystpi bd.",toolbarDensity:"Wysoko rzdu",toolbarDensityLabel:"Wysoko rzdu",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfort",toolbarColumns:"Kolumny",toolbarColumnsLabel:"Zaznacz kolumny",toolbarFilters:"Filtry",toolbarFiltersLabel:"Poka filtry",toolbarFiltersTooltipHide:"Ukryj filtry",toolbarFiltersTooltipShow:"Poka filtry",toolbarFiltersTooltipActive:e=>"Liczba aktywnych filtrw: "+e,toolbarExport:"Eksportuj",toolbarExportLabel:"Eksportuj",toolbarExportCSV:"Pobierz jako plik CSV",columnsPanelTextFieldLabel:"Znajd kolumn",columnsPanelTextFieldPlaceholder:"Tytu kolumny",columnsPanelDragIconLabel:"Zmie kolejno kolumn",columnsPanelShowAllButton:"Poka wszystko",columnsPanelHideAllButton:"Ukryj wszystko",filterPanelAddFilter:"Dodaj filtr",filterPanelDeleteIconLabel:"Usu",filterPanelOperators:"Operator",filterPanelOperatorAnd:"I",filterPanelOperatorOr:"Lub",filterPanelColumns:"Kolumny",filterPanelInputLabel:"Warto",filterPanelInputPlaceholder:"Filtrowana warto",filterOperatorContains:"zawiera",filterOperatorEquals:"rwna si",filterOperatorStartsWith:"zaczyna si od",filterOperatorEndsWith:"koczy si na",filterOperatorIs:"rwna si",filterOperatorNot:"rne",filterOperatorAfter:"wiksze ni",filterOperatorOnOrAfter:"wiksze lub rwne",filterOperatorBefore:"mniejsze ni",filterOperatorOnOrBefore:"mniejsze lub rwne",columnMenuLabel:"Menu",columnMenuShowColumns:"Poka wszystkie kolumny",columnMenuFilter:"Filtr",columnMenuHideColumn:"Ukryj",columnMenuUnsort:"Anuluj sortowanie",columnMenuSortAsc:"Sortuj rosnco",columnMenuSortDesc:"Sortuj malejco",columnHeaderFiltersTooltipActive:e=>"Liczba aktywnych filtrw: "+e,columnHeaderFiltersLabel:"Poka filtry",columnHeaderSortIconLabel:"Sortuj",footerRowSelected:e=>"Liczba wybranych wierszy: "+e.toLocaleString(),footerTotalRows:"czna liczba wierszy:"},ec=Hl(Ql,$.plPL),tc=Hl({noRowsLabel:"Nenhuma linha",noResultsOverlayLabel:"Nenhum resultado encontrado.",errorOverlayDefaultLabel:"Ocorreu um erro.",toolbarDensity:"Densidade",toolbarDensityLabel:"Densidade",toolbarDensityCompact:"Compacto",toolbarDensityStandard:"Padro",toolbarDensityComfortable:"Confortvel",toolbarColumns:"Colunas",toolbarColumnsLabel:"Exibir seletor de colunas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Exibir filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Exibir filtros",toolbarFiltersTooltipActive:e=>`${e} ${1!==e?"filtros":"filtro"} ${1!==e?"ativos":"ativo"}`,toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Baixar como CSV",columnsPanelTextFieldLabel:"Localizar coluna",columnsPanelTextFieldPlaceholder:"Ttulo da coluna",columnsPanelDragIconLabel:"Reordenar Coluna",columnsPanelShowAllButton:"Mostrar todas",columnsPanelHideAllButton:"Ocultar todas",filterPanelAddFilter:"Adicionar filtro",filterPanelDeleteIconLabel:"Excluir",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"E",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colunas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Filtrar valor",filterOperatorContains:"contm",filterOperatorEquals:" igual a",filterOperatorStartsWith:"comea com",filterOperatorEndsWith:"termina com",filterOperatorIs:"",filterOperatorNot:"no ",filterOperatorOnOrAfter:"em ou aps",filterOperatorBefore:"antes de",filterOperatorOnOrBefore:"em ou antes de",filterOperatorAfter:"aps",filterOperatorIsEmpty:"est vazio",filterOperatorIsNotEmpty:"no est vazio",columnMenuLabel:"Menu",columnMenuShowColumns:"Exibir colunas",columnMenuFilter:"Filtrar",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desfazer ordenao",columnMenuSortAsc:"Ordenar do menor para o maior",columnMenuSortDesc:"Ordenar do maior para o menor",columnHeaderFiltersTooltipActive:e=>`${e} ${1!==e?"filtros":"filtro"} ${1!==e?"ativos":"ativo"}`,columnHeaderFiltersLabel:"Exibir Filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>1!==e?e.toLocaleString()+" linhas selecionadas":e.toLocaleString()+" linha selecionada",footerTotalRows:"Total de linhas:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleo",booleanCellTrueLabel:"sim",booleanCellFalseLabel:"no"},$.ptBR),nc={noRowsLabel:" ",errorOverlayDefaultLabel:" .",toolbarDensity:" ",toolbarDensityLabel:" ",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>{let t=" ";const n=e%10;return n>1&&n<5?t=" ":1===n&&(t=" "),`${e} ${t}`},toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"   CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:" ",filterOperatorAfter:" ",filterOperatorOnOrAfter:"  ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"  ",filterValueAny:"",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"  ",columnMenuSortDesc:"  ",columnHeaderFiltersTooltipActive:e=>{let t=" ";const n=e%10;return n>1&&n<5?t=" ":1===n&&(t=" "),`${e} ${t}`},columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>{let t=" ";const n=e%10;return n>1&&n<5?t=" ":1===n&&(t=" "),`${e} ${t}`},footerTotalRows:" :",checkboxSelectionHeaderName:" ",booleanCellTrueLabel:"",booleanCellFalseLabel:""},rc=Hl(nc,$.ruRU),ac={noRowsLabel:"iadne zznamy",noResultsOverlayLabel:"Nenali sa adne vsledky.",errorOverlayDefaultLabel:"Stala sa nepredvdan chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn",toolbarDensityStandard:"tandartn",toolbarDensityComfortable:"Komfortn",toolbarColumns:"Stpce",toolbarColumnsLabel:"Vybra stpce",toolbarFilters:"Filtre",toolbarFiltersLabel:"Zobrazi filtre",toolbarFiltersTooltipHide:"Skry filtre ",toolbarFiltersTooltipShow:"Zobrazi filtre",toolbarFiltersTooltipActive:e=>{let t="aktvnych filtrov";return e>1&&e<5?t="aktvne filtre":1===e&&(t="aktvny filter"),`${e} ${t}`},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stiahnu ako CSV",columnsPanelTextFieldLabel:"Njs stpec",columnsPanelTextFieldPlaceholder:"Nzov stpca",columnsPanelDragIconLabel:"Usporiad stpce",columnsPanelShowAllButton:"Zobrazi vetko",columnsPanelHideAllButton:"Skry vetko",filterPanelAddFilter:"Prida filter",filterPanelDeleteIconLabel:"Odstrni",filterPanelOperators:"Opertory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Alebo",filterPanelColumns:"Stpce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtra",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn sa",filterOperatorStartsWith:"zana s",filterOperatorEndsWith:"kon na",filterOperatorIs:"je",filterOperatorNot:"nie je",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na alebo po",filterOperatorBefore:"je pred",filterOperatorOnOrBefore:"je na alebo skr",filterValueAny:"akkovek",filterValueTrue:"no",filterValueFalse:"nie",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazi stpce",columnMenuFilter:"Filter",columnMenuHideColumn:"Skry",columnMenuUnsort:"Zrui filtre",columnMenuSortAsc:"Zoradi vzostupne",columnMenuSortDesc:"Zoradi zostupne",columnHeaderFiltersTooltipActive:e=>{let t="aktvnych filtrov";return e>1&&e<5?t="aktvne filtre":1===e&&(t="aktvny filter"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobrazi filtre",columnHeaderSortIconLabel:"Filtrova",footerRowSelected:e=>{let t="vybranch zznamov";return e>1&&e<5?t="vybran zznamy":1===e&&(t="vybran zznam"),`${e} ${t}`},footerTotalRows:"Riadkov spolu:",checkboxSelectionHeaderName:"Vber riadku",booleanCellTrueLabel:"no",booleanCellFalseLabel:"nie"},oc=Hl(ac,$.skSK),ic=Hl({noRowsLabel:"Satr yok",errorOverlayDefaultLabel:"Bir hata olutu.",toolbarDensity:"Younluk",toolbarDensityLabel:"Younluk",toolbarDensityCompact:"Sk",toolbarDensityStandard:"Standart",toolbarDensityComfortable:"Rahat",toolbarColumns:"Stunlar",toolbarColumnsLabel:"Stun se",toolbarFilters:"Filtreler",toolbarFiltersLabel:"Filtreleri gster",toolbarFiltersTooltipHide:"Filtreleri gizle",toolbarFiltersTooltipShow:"Filtreleri gster",toolbarFiltersTooltipActive:e=>e+" aktif filtre",toolbarExport:"Da aktar",toolbarExportLabel:"Da aktar",toolbarExportCSV:"CSV olarak aktar",columnsPanelTextFieldLabel:"Stun ara",columnsPanelTextFieldPlaceholder:"Stun ad",columnsPanelDragIconLabel:"Stunlar yeniden srala",columnsPanelShowAllButton:"Hepsini gster",columnsPanelHideAllButton:"Hepsini gizle",filterPanelAddFilter:"Filtre Ekle",filterPanelDeleteIconLabel:"Kaldr",filterPanelOperators:"Operatr",filterPanelOperatorAnd:"Ve",filterPanelOperatorOr:"Veya",filterPanelColumns:"Stunlar",filterPanelInputLabel:"Deer",filterPanelInputPlaceholder:"Filtre deeri",filterOperatorContains:"ierir",filterOperatorEquals:"eittir",filterOperatorStartsWith:"ile balar",filterOperatorEndsWith:"ile biter",filterOperatorIs:"eittir",filterOperatorNot:"eit deildir",filterOperatorAfter:"byk",filterOperatorOnOrAfter:"byk eit",filterOperatorBefore:"kk",filterOperatorOnOrBefore:"kk eit",filterOperatorIsEmpty:"bo",filterOperatorIsNotEmpty:"dolu",columnMenuLabel:"Men",columnMenuShowColumns:"Stunlar gster",columnMenuFilter:"Filtre uygula",columnMenuHideColumn:"Gizle",columnMenuUnsort:"Sralama",columnMenuSortAsc:"Srala - Artan",columnMenuSortDesc:"Srala - Azalan",columnHeaderFiltersTooltipActive:e=>e+" filtre aktif",columnHeaderFiltersLabel:"Filtreleri gster",columnHeaderSortIconLabel:"Srala",footerRowSelected:e=>e.toLocaleString()+" satr seildi",footerTotalRows:"Toplam Satr:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`},$.trTR),lc={noRowsLabel:" ",errorOverlayDefaultLabel:" .",toolbarDensity:" ",toolbarDensityLabel:" ",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"   CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:"",filterOperatorAfter:" ",filterOperatorOnOrAfter:"  ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"  ",filterValueAny:"-",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"  ",columnMenuSortDesc:"  ",columnHeaderFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?e.toLocaleString()+"  ":e.toLocaleString()+"  ",footerTotalRows:" :",checkboxSelectionHeaderName:" ",booleanCellTrueLabel:"",booleanCellFalseLabel:""},cc=Hl(lc,$.ukUA),uc=({apiRef:e,props:t,children:n})=>l.createElement(Br.Provider,{value:t},l.createElement(Y.Provider,{value:e},n)),sc=(e,t)=>{if("string"==typeof e){const n=e.replace(/"/g,'""');return n.includes(t)?`"${n}"`:n}return e};function dc(e){const{columns:t,rows:n,selectedRowIds:r,getCellParams:a,delimiterCharacter:o,includeHeaders:i=!0}=e;let l=[...n.keys()];r.length&&(l=l.filter(e=>r.includes(e)));const c=l.reduce((e,n)=>`${e}${function(e,t,n,r){const a=[];return t.forEach(t=>t.field!==Ia.field&&a.push(sc(n(e,t.field).formattedValue,r))),a}(n,t,a,o).join(o)}\r\n`,"").trim();return i?`${t.filter(e=>e.field!==Ia.field).map(e=>sc(e.headerName||e.field,o)).join(o)+"\r\n"}${c}`.trim():c}function fc(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function pc(e,t){switch(t.type){case"options::UPDATE":return function(e,t){return t=function(e){const t=Object.assign({},e);return Object.keys(e).forEach(n=>{e.hasOwnProperty(n)&&void 0===e[n]&&delete t[n]}),t}(t),Object.assign(Object.assign({},e),t)}(e,t.payload);default:throw new Error(`Material-UI: Action ${t.type} not found.`)}}const mc=(e,t)=>{pn(e,t),gl(e,t),function(e,t){const[,n]=In(e),r=l.useCallback(e=>{n(t=>Object.assign(Object.assign({},t),{error:e}))},[n]);l.useEffect(()=>{r(t.error)},[r,t.error]),zn(e,o.componentError,r)}(e,t),il(e,t),function(e,t){const n=mn(e,"useOptionsProp"),r=l.useMemo(()=>Object.assign(Object.assign({},t),{classes:Jt({root:["root"],columnHeader:["columnHeader"],row:["row"],cell:["cell"]},on,t.classes),localeText:Object.assign(Object.assign({},vn),t.localeText)}),[t]),{gridState:a,dispatch:o}=ll(e,"options",pc,Object.assign({},Cn)),i=l.useCallback(e=>{n.debug("updating options state."),o({type:"options::UPDATE",payload:e})},[o,n]);l.useEffect(()=>{i(r)},[r,i]),a.options}(e,t),function(e,t){Hn(e,o.columnHeaderClick,t.onColumnHeaderClick),Hn(e,o.columnHeaderDoubleClick,t.onColumnHeaderDoubleClick),Hn(e,o.columnHeaderOver,t.onColumnHeaderOver),Hn(e,o.columnHeaderOut,t.onColumnHeaderOut),Hn(e,o.columnHeaderEnter,t.onColumnHeaderEnter),Hn(e,o.columnHeaderLeave,t.onColumnHeaderLeave),Hn(e,o.columnOrderChange,t.onColumnOrderChange),Hn(e,o.cellClick,t.onCellClick),Hn(e,o.cellDoubleClick,t.onCellDoubleClick),Hn(e,o.cellOver,t.onCellOver),Hn(e,o.cellOut,t.onCellOut),Hn(e,o.cellEnter,t.onCellEnter),Hn(e,o.cellLeave,t.onCellLeave),Hn(e,o.cellKeyDown,t.onCellKeyDown),Hn(e,o.cellBlur,t.onCellBlur),Hn(e,o.cellFocusOut,t.onCellFocusOut),Hn(e,o.rowDoubleClick,t.onRowDoubleClick),Hn(e,o.rowClick,t.onRowClick),Hn(e,o.rowOver,t.onRowOver),Hn(e,o.rowOut,t.onRowOut),Hn(e,o.rowEnter,t.onRowEnter),Hn(e,o.rowLeave,t.onRowLeave),Hn(e,o.componentError,t.onError),Hn(e,o.stateChange,t.onStateChange)}(e,t),(e=>{const{localeText:t}=Ln(e,Or);hn(e,{getLocaleText:l.useCallback(e=>{if(null==t[e])throw new Error(`Missing translation for key ${e}.`);return t[e]},[t])},"LocaleTextApi")})(e),function(e,t){const n=mn(e,"useResizeContainer"),r=l.useRef(!1),a=l.useCallback(()=>{var t;n.debug("resizing..."),e.current.publishEvent(o.debouncedResize,null===(t=e.current.state.containerSizes)||void 0===t?void 0:t.windowSizes)},[e,n]);hn(e,{resize:a},"GridEventsApi");const i=l.useMemo(()=>Object(C.a)(a,60),[a]),c=l.useCallback(e=>{const a=/jsdom/.test(window.navigator.userAgent);0!==e.height||r.current||t.autoHeight||a||(n.warn(["The parent of the grid has an empty height.","You need to make sure the container has an intrinsic height.","The grid displays with a height of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),r.current=!0),0!==e.width||r.current||a||(n.warn(["The parent of the grid has an empty width.","You need to make sure the container has an intrinsic width.","The grid displays with a width of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),r.current=!0),i()},[t.autoHeight,i,n,a]);l.useEffect(()=>()=>{n.info("canceling resize..."),i.clear()},[n,i]),l.useEffect(()=>{n.info("canceling resize..."),i.clear()},[t.rows,i,n]),zn(e,o.resize,c),Hn(e,o.debouncedResize,t.onResize)}(e,t),ol(e,t),Cl(e),kl(e,t),xl(e,t),ul(e,t),sl(e),dl(e,t),Sl(e,t),jl(e,t),nl(e),wl(e),cl(e,t),vl(e,t),((e,t)=>{const n=mn(e,"useDensity"),[,r,a]=In(e),o=l.useCallback((e,t,n)=>{switch(e){case bn.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*n)};case bn.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*n)};default:return{value:e,headerHeight:t,rowHeight:n}}},[]),i=l.useCallback((e,i=t.headerHeight,l=t.rowHeight)=>{n.debug("Set grid density to "+e),r(t=>Object.assign(Object.assign({},t),{density:Object.assign(Object.assign({},t.density),o(e,i,l))})),a()},[n,r,a,o,t.headerHeight,t.rowHeight]);l.useEffect(()=>{i(t.density,t.headerHeight,t.rowHeight)},[i,t.density,t.rowHeight,t.headerHeight]),hn(e,{setDensity:i},"GridDensityApi")})(e,t),Rl(e,t),((e,t)=>{const n=e.current.windowRef,r=e.current.columnHeadersElementRef,a=e.current.renderingZoneRef,[o,i,c]=In(e),[u]=fl(e,a,r),s=Ln(e,Gr),d=Ln(e,re),f=l.useCallback(()=>{if(!o.containerSizes||!(null==n?void 0:n.current))return;let e=0;const{page:r,pageSize:a}=s;t.pagination&&"client"===t.paginationMode&&(e=a*r);const l={firstRowIdx:e,lastRowIdx:e+o.containerSizes.virtualRowsCount,firstColIdx:0,lastColIdx:d.length>0?d.length-1:0},u={top:n.current.scrollTop,left:n.current.scrollLeft};i(e=>Object.assign(Object.assign({},e),{rendering:Object.assign(Object.assign({},e.rendering),{virtualPage:0,renderContext:l,realScroll:u,renderingZoneScroll:u})})),c()},[o.containerSizes,s,t.pagination,t.paginationMode,i,c,d.length,n]);l.useEffect(()=>{t.disableVirtualization&&f()},[t.disableVirtualization,f]);const p=l.useCallback(()=>{if(!t.disableVirtualization||!(null==n?void 0:n.current))return;const{scrollLeft:e,scrollTop:r}=n.current;u({top:r,left:e}),f()},[t.disableVirtualization,u,n,f]);bl(e,n,"scroll",p,{passive:!0})})(e,t),Tl(e,t),Al(e,t),yl(e,t),hl(e,t),(e=>{const t=mn(e,"useGridCsvExport"),n=Ln(e,re),r=Ln(e,ne),a=Ln(e,ar),o=Ln(e,qr),i=l.useCallback(i=>{let l;return t.debug("Get data as CSV"),l=(null==i?void 0:i.fields)?i.fields.map(e=>r.find(t=>t.field===e)).filter(e=>!!e):((null==i?void 0:i.allColumns)?r:n).filter(e=>!e.disableExport),dc({columns:l,rows:a,selectedRowIds:o,getCellParams:e.current.getCellParams,delimiterCharacter:(null==i?void 0:i.delimiter)||","})},[t,n,r,a,o,e]),c=l.useCallback(e=>{t.debug("Export data as CSV");const n=i(e);!function(e,t="csv",n=document.title){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),n=document.createElement("a");return n.href=t,n.download=r,n.click(),void setTimeout(()=>{URL.revokeObjectURL(t)})}throw new Error("exportAs not supported")}(new Blob([(null==e?void 0:e.utf8WithBom)?new Uint8Array([239,187,191]):"",n],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)},[t,i]);hn(e,{getDataAsCsv:i,exportDataAsCsv:c},"GridCsvExportApi")})(e),((e,t)=>{const n=Ln(e,jo),r=Ln(e,re),a=l.useRef(!1),i=Ln(e,An),c=l.useRef(null),u=l.useCallback(i=>{if(!n)return;const l=i.top+n.windowSizes.height+t.scrollEndThreshold;if(l<n.dataContainerSizes.height&&(a.current=!1),l>=n.dataContainerSizes.height&&!a.current){const t={visibleColumns:r,viewportPageSize:n.viewportPageSize,virtualRowsCount:n.virtualRowsCount};e.current.publishEvent(o.rowsScrollEnd,t),a.current=!0}},[e,t.scrollEndThreshold,r,n]),s=l.useCallback(()=>{const t=e.current.getScrollPosition();u(t)},[e,u]);l.useEffect(()=>{const t=i.renderContext;if(t){if(!c.current||t.firstRowIdx!==c.current.firstRowIndex||t.lastRowIdx!==c.current.lastRowIndex){const n={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx};e.current.publishEvent(o.viewportRowsChange,n)}c.current={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx}}},[e,t.onViewportRowsChange,i]),zn(e,o.rowsScroll,s),Hn(e,o.rowsScrollEnd,t.onRowsScrollEnd),Hn(e,o.viewportRowsChange,t.onViewportRowsChange)})(e,t),(e=>{const t=Ln(e,re),n=l.useCallback((n=!1)=>{const r=e.current.getSelectedRows(),a=t.filter(e=>e.field!==Ia.field);if(0===r.size||0===a.length)return;const o=dc({columns:t,rows:r,selectedRowIds:[],includeHeaders:n,getCellParams:e.current.getCellParams,delimiterCharacter:"\t"});navigator.clipboard?navigator.clipboard.writeText(o).catch(()=>{fc(o)}):fc(o)},[e,t]),r=l.useCallback(t=>{var n;const r=t.ctrlKey||t.metaKey||t.altKey;"c"===t.key.toLowerCase()&&r&&""===(null===(n=window.getSelection())||void 0===n?void 0:n.toString())&&e.current.copySelectedRowsToClipboard(t.altKey)},[e]);bl(e,e.current.rootElementRef,"keydown",r),hn(e,{copySelectedRowsToClipboard:n},"GridClipboardApi")})(e),zl(e,t),function(e,{state:t}){const[,n,r]=In(e),a=mn(e,"useStateProp");l.useEffect(()=>{null!=t&&e.current.state!==t&&(a.debug("Overriding state with props.state"),n(e=>Object.assign(Object.assign({},e),t)),r())},[e,r,a,t,n])}(e,t),function(e){const[t]=In(e),n=mn(e,"useRenderInfoLog");if(null!=t.rendering.renderContext){const{page:e,firstColIdx:r,lastColIdx:a,firstRowIdx:o,lastRowIdx:i}=t.rendering.renderContext;n.info(`Rendering, page: ${e}, col: ${r}-${a}, row: ${o}-${i}`)}}(e)},hc=100,gc=l.forwardRef((function(e,t){const n=(e=>{if(e.pageSize>100)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=function({props:e,name:t}){const n=Object(p.a)();return l.useMemo(()=>{const r=Object.assign({},e),a=Object(O.a)({theme:n,name:t,props:r}),o=a.theme||n,i="rtl"===o.direction;return Object.assign({theme:o,isRtl:i},a)},[e,t,n])}({props:e,name:"MuiDataGrid"});return l.useMemo(()=>Object.assign(Object.assign({},t),{apiRef:void 0,disableColumnResize:!0,disableColumnReorder:!0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,pagination:!0,onRowsScrollEnd:void 0,onViewportRowsChange:void 0,checkboxSelectionVisibleOnly:!1,signature:"DataGrid"}),[t])})(e),r=Il();return mc(r,n),l.createElement(uc,{apiRef:r,props:n},l.createElement(fi,{ref:t},l.createElement(ci,null,l.createElement(si,null),l.createElement(ii,null),l.createElement(ui,null))))}));gc.defaultProps=wn;const vc=l.memo(gc);vc.propTypes={apiRef:Object(X.a)(J.a.any,e=>null!=e.apiRef?new Error(["Material-UI: `apiRef` is not a valid prop.","GridApiRef is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),checkboxSelectionVisibleOnly:Object(X.a)(J.a.bool,e=>e.checkboxSelectionVisibleOnly?new Error(["Material-UI: `<DataGrid checkboxSelectionVisibleOnly={true} />` is not a valid prop.","Selecting all columns only on the current page is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),columns:Object(X.a)(J.a.array.isRequired,e=>e.columns&&e.columns.some(e=>e.resizable)?new Error(["Material-UI: `column.resizable = true` is not a valid prop.","Column resizing is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableColumnReorder:Object(X.a)(J.a.bool,e=>!1===e.disableColumnReorder?new Error(["Material-UI: `<DataGrid disableColumnReorder={false} />` is not a valid prop.","Column reordering is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableColumnResize:Object(X.a)(J.a.bool,e=>!1===e.disableColumnResize?new Error(["Material-UI: `<DataGrid disableColumnResize={false} />` is not a valid prop.","Column resizing is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleColumnsFiltering:Object(X.a)(J.a.bool,e=>!1===e.disableMultipleColumnsFiltering?new Error(["Material-UI: `<DataGrid disableMultipleColumnsFiltering={false} />` is not a valid prop.","Only single column sorting is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleColumnsSorting:Object(X.a)(J.a.bool,e=>!1===e.disableMultipleColumnsSorting?new Error(["Material-UI: `<DataGrid disableMultipleColumnsSorting={false} />` is not a valid prop.","Only single column sorting is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleSelection:Object(X.a)(J.a.bool,e=>!1===e.disableMultipleSelection?new Error(["Material-UI: `<DataGrid disableMultipleSelection={false} />` is not a valid prop.","Only single column selection is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),filterModel:Object(X.a)(J.a.any,e=>null!=e.filterModel&&e.filterModel.items.length>1?new Error(["Material-UI: `<DataGrid filterModel={model} />` is not a valid prop. `model.items` has more than 1 item.","Only single filter is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),onRowsScrollEnd:Object(X.a)(J.a.any,e=>null!=e.onRowsScrollEnd?new Error(["Material-UI: `onRowsScrollEnd` is not a valid prop.","onRowsScrollEnd is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),onViewportRowsChange:Object(X.a)(J.a.any,e=>null!=e.onViewportRowsChange?new Error(["Material-UI: `onViewportRowsChange` is not a valid prop.","onViewportRowsChange is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),pageSize:Object(X.a)(J.a.number,e=>e.pageSize&&e.pageSize>100?new Error([`Material-UI: \`<DataGrid pageSize={${e.pageSize}} />\` is not a valid prop.`,"Only page size below 100 is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),pagination:e=>!1===e.pagination?new Error(["Material-UI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to the DataGridPro component to disable the pagination."].join("\n")):null,rows:J.a.array.isRequired,scrollEndThreshold:Object(X.a)(J.a.number,e=>e.scrollEndThreshold?new Error([`Material-UI: \`<DataGrid scrollEndThreshold={${e.scrollEndThreshold}} />\` is not a valid prop.`,"scrollEndThreshold is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),selectionModel:Object(X.a)(J.a.oneOfType([J.a.number,J.a.string,J.a.array]),e=>!e.checkboxSelection&&Array.isArray(e.selectionModel)&&e.selectionModel.length>1?new Error([`Material-UI: \`<DataGrid selectionModel={${JSON.stringify(e.selectionModel)}} />\` is not a valid prop.`,"selectionModel can only be of 1 item in DataGrid.","","You need to upgrade to the DataGridPro component to unlock multiple selection."].join("\n")):null)}}.call(this,n(44),n(270)(e),n(68))},570:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.InterRegionPaddingBlock=t.ElidedBlock=t.ContentBlock=t.BlockSet=t.BaseBlock=void 0;var a=r(n(27)),o=r(n(28)),i=r(n(26)),l=r(n(16)),c=r(n(15)),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,l.default)(this,e),this.blocks=t}return(0,c.default)(e,[{key:"push",value:function(e){if(e instanceof f&&this.blocks.length){var t=this.blocks[this.blocks.length-1];if(t instanceof f)return void t.push(e)}this.blocks.push(e)}},{key:"getBlocks",value:function(){return this.blocks}},{key:"getRegions",value:function(){return this.blocks.map((function(e){return e.toRegion()}))}},{key:"map",value:function(e,t){return this.blocks.map(e,t)}},{key:"forEach",value:function(e,t){return this.blocks.forEach(e,t)}},{key:"length",get:function(){return this.blocks.length}},{key:"totalWidthPx",get:function(){return this.blocks.length?this.blocks.map((function(e){return e.widthPx})).reduce((function(e,t){return e+t})):0}},{key:"totalWidthPxWithoutBorders",get:function(){return this.blocks.length?this.blocks.filter((function(e){return"boundary"!==e.variant})).map((function(e){return e.widthPx})).reduce((function(e,t){return e+t})):0}},{key:"offsetPx",get:function(){return this.blocks.length?this.blocks[0].offsetPx:0}},{key:"contentBlocks",get:function(){return this.blocks.filter((function(e){return e instanceof d}))}},{key:"totalBp",get:function(){return this.contentBlocks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)}}]),e}();t.BlockSet=u;var s=function(){function e(t){(0,l.default)(this,e),this.regionNumber=void 0,this.reversed=void 0,this.refName=void 0,this.start=void 0,this.end=void 0,this.assemblyName=void 0,this.key=void 0,this.offsetPx=void 0,this.widthPx=0,this.variant=void 0,this.isLeftEndOfDisplayedRegion=void 0,Object.assign(this,t),this.assemblyName=t.assemblyName,this.refName=t.refName,this.start=t.start,this.end=t.end,this.key=t.key,this.offsetPx=t.offsetPx}return(0,c.default)(e,[{key:"renameReference",value:function(e){return this.refName&&e!==this.refName?new this.constructor((0,i.default)((0,i.default)({},this),{},{refName:e})):this}},{key:"toRegion",value:function(){return{refName:this.refName,start:this.start,end:this.end,assemblyName:this.assemblyName,reversed:this.reversed}}}]),e}();t.BaseBlock=s;var d=function(e){(0,a.default)(n,e);var t=(0,o.default)(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n)}(s);t.ContentBlock=d;var f=function(e){(0,a.default)(n,e);var t=(0,o.default)(n);function n(e){var r;return(0,l.default)(this,n),(r=t.call(this,e)).widthPx=void 0,r.elidedBlockCount=0,r.widthPx=e.widthPx,r}return(0,c.default)(n,[{key:"push",value:function(e){this.elidedBlockCount+=1,e&&(this.refName="",this.start=0,this.end=0,this.widthPx+=e.widthPx)}}]),n}(s);t.ElidedBlock=f;var p=function(e){(0,a.default)(n,e);var t=(0,o.default)(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n)}(s);t.InterRegionPaddingBlock=p},571:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),o=r(n(62)),i=r(n(16)),l=r(n(15)),c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(this,e),this.SubLayoutClass=t,this.subLayouts=new Map,this.subLayoutConstructorArgs={},this.subLayouts=new Map,this.subLayoutConstructorArgs=n}return(0,l.default)(e,[{key:"getSublayout",value:function(e){var t=this.subLayouts.get(e);return void 0===t?(t=new this.SubLayoutClass(this.subLayoutConstructorArgs),this.subLayouts.set(e,t),t):t}},{key:"addRect",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return this.getSublayout(e).addRect(t,n,r,a,o)}},{key:"discardRange",value:function(e,t,n){var r=this.subLayouts.get(e);return r&&r.discardRange(t,n)}},{key:"toJSON",value:function(){var e,t={},n=(0,o.default)(this.subLayouts.entries());try{for(n.s();!(e=n.n()).done;){var r=(0,a.default)(e.value,2),i=r[0],l=r[1];t[i]=l.toJSON()}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}();t.default=c},572:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(19)),o=r(n(16)),i=r(n(15)),l=n(39),c=r(n(788)),u=function(){function e(t){var n=t.rectangles,r=t.totalHeight,i=t.maxHeightReached;(0,o.default)(this,e),this.rectangles=void 0,this.totalHeight=void 0,this.maxHeightReached=void 0,this.rbush=void 0,this.rectangles=new Map(Object.entries(n)),this.totalHeight=r,this.maxHeightReached=i,this.rbush=new c.default;for(var l=0,u=Object.entries(n);l<u.length;l++){var s=(0,a.default)(u[l],2),d=s[0],f=s[1];this.rbush.insert({minX:f[0],minY:f[1],maxX:f[2],maxY:f[3],name:d})}}return(0,i.default)(e,[{key:"addRect",value:function(e){var t=this.rectangles.get(e);if(!t)throw new Error("id ".concat(e," not found in precomputed feature layout"));return t[1]}},{key:"getRectangles",value:function(){return this.rectangles}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"collides",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getByCoord",value:function(e,t){var n={minX:e,minY:t,maxX:e+1,maxY:t+1};return this.rbush.collides(n)?this.rbush.search(n)[0].name:void 0}},{key:"getByID",value:function(e){return this.rectangles.get(e)}},{key:"addRectToBitmap",value:function(e,t){throw new Error("Method not implemented.")}},{key:"discardRange",value:function(e,t){throw new Error("Method not implemented.")}},{key:"serializeRegion",value:function(e){throw new Error("Method not implemented.")}},{key:"toJSON",value:function(){return{rectangles:(0,l.objectFromEntries)(this.rectangles),totalHeight:this.totalHeight,maxHeightReached:!1}}}]),e}();t.default=u},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contrastingTextColor=function(e){return o(e)>.5?"black":"white"},t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=(0,a.namedColorToHex)(e);return(0,r.emphasize)(n||e,t)},Object.defineProperty(t,"isNamedColor",{enumerable:!0,get:function(){return a.isNamedColor}}),t.makeContrasting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=(0,a.namedColorToHex)(e)||e,l=(0,a.namedColorToHex)(t)||t,c=o(l),u=(0,r.getContrastRatio)(i,l),s=i,d=.05;for(;u<n;)i=c>.5?(0,r.darken)(s,d):(0,r.lighten)(s,d),d+=.05,u=(0,r.getContrastRatio)(i,l);return i},Object.defineProperty(t,"namedColorToHex",{enumerable:!0,get:function(){return a.namedColorToHex}});var r=n(244),a=n(1710);function o(e){var t=(0,a.namedColorToHex)(e);return(0,r.getLuminance)(t||e)}},574:function(e,t,n){"use strict";n.d(t,"a",(function(){return sn})),n.d(t,"b",(function(){return Yt})),n.d(t,"c",(function(){return _t})),n.d(t,"d",(function(){return Xr})),n.d(t,"e",(function(){return Jr}));var r=n(1),a=n.n(r),o=n(43),i=n(163),l=n(193),c=n.n(l),u=n(229),s=n.n(u),d=n(310),f=n.n(d),p=n(131),m=n.n(p),h=n(39),g=n(830),v=n.n(g),b=n(1729),y=n.n(b),w=n(129),C=n(118),E=n(685),O=n(684),k=n(501),x=n.n(k),S=n(45),j=n(20),T=n(671),P=n(71),R=n(1784),M=n(67),I=n(719),L=n(1798),A=n(1801),F=n(718),N=n(1782),_=n(703),D=n(683),z=n(690),B=n(695),H=n(693),V=n(698),W=n(1019),G=n(692),U=n(1786),q=n(699),$=n(689),K=n(701),J=n(1811),X=n(681),Y=n(1808),Z=n(1812),Q=n(1814),ee=n(1810),te=n(1809),ne=n(128),re=n(33),ae=n(1822),oe=n(570),ie=n(91),le=n(161),ce=n(819),ue=n.n(ce),se=n(412),de=n(1002),fe=n.n(de),pe=n(1003),me=n.n(pe),he=n(1001),ge=n.n(he),ve=n(814),be=n.n(ve),ye=n(815),we=n(1012),Ce=n(828),Ee=n.n(Ce),Oe=n(502),ke=n.n(Oe),xe=n(829),Se=n.n(xe),je=n(826),Te=n.n(je),Pe=n(827),Re=n.n(Pe),Me=n(378),Ie=n.n(Me),Le=n(1006),Ae=n(0),Fe=n.n(Ae),Ne=n(12),_e=n(1730),De=n.n(_e),ze=n(820),Be=n.n(ze),He=n(1028),Ve=n(376),We=n.n(Ve),Ge=n(74),Ue=n.n(Ge),qe=n(822),$e=n.n(qe),Ke=n(821),Je=n.n(Ke),Xe=n(1834),Ye=n(377),Ze=n.n(Ye),Qe=n(345),et=n.n(Qe),tt=n(823),nt=n.n(tt),rt=n(817),at=n.n(rt),ot=n(244),it=n(1013),lt=n.n(it),ct=n(1731),ut=n.n(ct),st=n(824),dt=n.n(st),ft=n(308),pt=n.n(ft),mt=n(284),ht=n.n(mt),gt=n(1732),vt=n(825),bt=n.n(vt);function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){St(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Et(o,r,a,i,l,"next",e)}function l(e){Et(o,r,a,i,l,"throw",e)}i(void 0)}))}}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function St(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tt(e,t){return(Tt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Rt(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Mt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var a=jt(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Rt(this,n)}}function It(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||At(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lt(e){return function(e){if(Array.isArray(e))return Ft(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||At(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function At(e,t){if(e){if("string"==typeof e)return Ft(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ft(e,t):void 0}}function Ft(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Nt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=At(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}var _t=Object(o.ConfigurationSchema)("BaseLinearDisplay",{maxDisplayedBpPerPx:{type:"number",description:"maximum bpPerPx that is displayed in the view",defaultValue:Number.MAX_VALUE}},{explicitIdentifier:"displayId"});function Dt(e,t){return e(t={exports:{}},t.exports),t.exports}var zt=Dt((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var v=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(v,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},b(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(v),l(v,i,"Generator"),l(v,a,(function(){return this})),l(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;E(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),Bt=Object(T.a)((function(e){return{contentBlock:{position:"relative",minHeight:"100%",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden"},elidedBlock:{minHeight:"100%",boxSizing:"border-box",backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"},interRegionPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.text.primary},boundaryPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.action.disabledBackground}}})),Ht=Object(re.observer)((function(e){var t=e.block,n=e.children,r=Bt(),o=t.widthPx;return a.a.createElement("div",{style:{width:o},className:r.contentBlock},n)}));function Vt(e){var t=e.width,n=Bt();return a.a.createElement("div",{className:n.elidedBlock,style:{width:t}})}function Wt(e){var t=e.boundary,n=e.width,r=e.style,o=void 0===r?{}:r,i=Bt();return a.a.createElement("div",{style:wt(wt({},o),{},{width:n}),className:t?i.boundaryPaddingBlock:i.interRegionPaddingBlock})}var Gt=Object(T.a)({linearBlocks:{whiteSpace:"nowrap",textAlign:"left",position:"absolute",minHeight:"100%",display:"flex"},heightOverflowed:{position:"absolute",color:"rgb(77,77,77)",borderBottom:"2px solid rgb(77,77,77)",textShadow:"white 0px 0px 1px",whiteSpace:"nowrap",width:"100%",fontWeight:"bold",textAlign:"center",zIndex:2e3,boxSizing:"border-box"}}),Ut=Object(re.observer)((function(e){var t=e.model,n=Gt(),r=t.blockDefinitions,o=t.blockState;return a.a.createElement(a.a.Fragment,null,r.map((function(e){if(e instanceof oe.ContentBlock){var r=o.get(e.key);return a.a.createElement(Ht,{block:e,key:"".concat(t.id,"-").concat(e.key)},r&&r.ReactComponent?a.a.createElement(r.ReactComponent,{model:r}):null,r&&r.maxHeightReached?a.a.createElement("div",{className:n.heightOverflowed,style:{top:r.layout.getTotalHeight()-16,pointerEvents:"none",height:16}},"Max height reached"):null)}if(e instanceof oe.ElidedBlock)return a.a.createElement(Vt,{key:"".concat(t.id,"-").concat(e.key),width:e.widthPx});if(e instanceof oe.InterRegionPaddingBlock)return a.a.createElement(Wt,{key:e.key,width:e.widthPx,style:{background:"none"},boundary:"boundary"===e.variant});throw new Error("invalid block type ".concat(Ct(e)))})))}));function qt(e){var t=e.model,n=Gt(),r=t.blockDefinitions,o=Object(h.getContainingView)(t);return a.a.createElement("div",{"data-testid":"Blockset",className:n.linearBlocks,style:{left:r.offsetPx-o.offsetPx}},a.a.createElement(Ut,{model:t}))}qt.propTypes={model:re.PropTypes.observableObject.isRequired};var $t=Object(re.observer)(qt);var Kt=Object(T.a)((function(e){return{display:{position:"relative",whiteSpace:"nowrap",textAlign:"left",width:"100%",minHeight:"100%"},tooltip:{pointerEvents:"none",backgroundColor:Object(P.a)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(10),lineHeight:"".concat((t=1.4,Math.round(1e5*t)/1e5),"em"),maxWidth:300,wordWrap:"break-word"}};var t})),Jt=a.a.forwardRef((function(e,t){var n=e.message;return a.a.createElement("div",{ref:t},n)})),Xt=Object(re.observer)((function(e){var t=e.model,n=e.clientMouseCoord,i=Kt(),l=t.featureUnderMouse,c=It(Object(r.useState)(0),2),u=c[0],s=c[1],d=It(Object(r.useState)(null),2),f=d[0],p=d[1],m=Object(r.useMemo)((function(){return{getBoundingClientRect:function(){var e=n[0]+u/2+20,t=n[1];return{top:t,left:e,bottom:t,right:e,width:0,height:0,x:e,y:t,toJSON:function(){}}}}}),[n,u]),h=Object(ae.a)(m,f),g=h.styles,v=h.attributes,b=l?Object(o.getConf)(t,"mouseover",{feature:l}):void 0;return l&&b?a.a.createElement(R.a,null,a.a.createElement("div",Object.assign({ref:p,className:i.tooltip,style:wt(wt({},g.popper),{},{zIndex:1e5})},v.popper),a.a.createElement(Jt,{ref:function(e){return s((null==e?void 0:e.getBoundingClientRect().width)||0)},message:b}))):null})),Yt=Object(re.observer)((function(e){var t=Kt(),n=Object(M.a)(),i=Object(r.useRef)(null),l=It(Object(r.useState)(),2),c=l[0],u=l[1],s=It(Object(r.useState)([0,0]),2),d=s[0],f=s[1],p=It(Object(r.useState)([0,0]),2),m=p[0],h=p[1],g=It(Object(r.useState)(),2),v=g[0],b=g[1],y=e.model,w=e.children,C=y.TooltipComponent,E=y.DisplayMessageComponent,O=y.contextMenuItems,k=y.height,x=y.setContextMenuFeature;return a.a.createElement("div",{ref:i,"data-testid":"display-".concat(Object(o.getConf)(y,"displayId")),className:t.display,onContextMenu:function(e){e.preventDefault(),v?b(void 0):i.current&&b([e.clientX,e.clientY])},onMouseMove:function(e){if(i.current){var t=i.current.getBoundingClientRect();f([e.clientX-t.left,e.clientY-t.top]),h([e.clientX,e.clientY]),u(t)}},role:"presentation"},E?a.a.createElement(E,{model:y}):a.a.createElement($t,Object.assign({},e)),w,a.a.createElement(C,{model:y,height:k,offsetMouseCoord:d,clientMouseCoord:m,clientRect:c,mouseCoord:d}),a.a.createElement(ne.Menu,{open:Boolean(v)&&Boolean(O().length),onMenuItemClick:function(e,t){t(),b(void 0)},onClose:function(){b(void 0),x(void 0)},TransitionProps:{onExit:function(){b(void 0),x(void 0)}},anchorReference:"anchorPosition",anchorPosition:v?{top:v[1],left:v[0]}:void 0,style:{zIndex:n.zIndex.tooltip},menuItems:O(),"data-testid":"base_linear_display_context_menu"}))})),Zt=Object(T.a)((function(e){return{loading:{paddingLeft:"0.6em",backgroundColor:e.palette.action.disabledBackground,backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.5) 5px, rgba(255,255,255,.5) 10px)",height:"100%",width:"100%",pointerEvents:"none",textAlign:"center"},blockMessage:{width:"100%",background:e.palette.action.disabledBackground,padding:e.spacing(2),pointerEvents:"none",textAlign:"center"},blockError:{padding:e.spacing(2),width:"100%",whiteSpace:"normal",color:e.palette.error.main,overflowY:"auto"},blockReactNodeMessage:{width:"100%",background:e.palette.action.disabledBackground,padding:e.spacing(2),textAlign:"center"},dots:{"&::after":{display:"inline-block",animation:"$ellipsis 1.5s infinite",content:'"."',width:"1em",textAlign:"left"}},"@keyframes ellipsis":{"0%":{content:'"."'},"33%":{content:'".."'},"66%":{content:'"..."'}}}}));function Qt(e){var t=e.children;return a.a.createElement("div",{style:{display:"flex"}},t,t)}var en=Object(re.observer)((function(e){var t=e.model,n=It(Object(r.useState)(!1),2),o=n[0],i=n[1],l=Zt();Object(r.useEffect)((function(){var e=!1,t=setTimeout((function(){e||i(!0)}),300);return function(){clearTimeout(t),e=!0}}),[]);var c=t.status,u=Object(j.getParent)(t,2).message||c;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement("div",{className:l.loading},a.a.createElement(O.a,{className:l.dots,variant:"body2"},u?"".concat(u):"Loading")):null)}));function tn(e){var t=e.messageContent,n=Zt();return a.a.isValidElement(t)?a.a.createElement("div",{className:n.blockReactNodeMessage},t):a.a.createElement(O.a,{variant:"body2",className:n.blockMessage},t)}function nn(e){var t=e.error,n=e.reload,r=e.displayHeight,o=Zt();return a.a.createElement("div",{className:o.blockError,style:{height:r}},n?a.a.createElement(E.a,{"data-testid":"reload_button",onClick:n,startIcon:a.a.createElement(ue.a,null)},"Reload"):null,a.a.createElement(O.a,{color:"error",variant:"body2",display:"inline"},"".concat(t)))}var rn=Object(re.observer)((function(e){var t=e.model;return t.error?a.a.createElement(Qt,null,a.a.createElement(nn,{error:t.error,reload:t.reload,displayHeight:Object(C.getParentRenderProps)(t).displayModel.height})):t.message?a.a.createElement(Qt,null,a.a.createElement(tn,{messageContent:t.message})):t.filled?t.reactElement:a.a.createElement(Qt,null,a.a.createElement(en,{model:t}))})),an=j.types.model("BlockState",{key:j.types.string,region:ie.Region,reloadFlag:0,isLeftEndOfDisplayedRegion:!1,isRightEndOfDisplayedRegion:!1}).volatile((function(){return{renderInProgress:void 0,filled:!1,reactElement:void 0,features:void 0,layout:void 0,status:"",error:void 0,message:void 0,maxHeightReached:!1,ReactComponent:rn,renderProps:void 0}})).actions((function(e){var t;return{doReload:function(){e.reloadFlag=e.reloadFlag+1},afterAttach:function(){var t=Object(h.getContainingDisplay)(e);Object(h.makeAbortableReaction)(e,on,ln,{name:"".concat(t.id,"/").concat(Object(h.assembleLocString)(e.region)," rendering"),delay:t.renderDelay,fireImmediately:!0},this.setLoading,this.setRendered,this.setError)},setStatus:function(t){e.status=t},setLoading:function(n){void 0!==t&&(t.signal.aborted||t.abort()),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,t=n},setMessage:function(n){t&&!t.signal.aborted&&t.abort(),e.filled=!1,e.message=n,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,t=void 0},setRendered:function(n){if(n){var r=n.reactElement,a=n.features,o=n.layout,i=n.maxHeightReached,l=n.renderProps;e.filled=!0,e.message=void 0,e.reactElement=r,e.features=a,e.layout=o,e.error=void 0,e.maxHeightReached=i,e.renderProps=l,t=void 0}},setError:function(n){console.error(n),t&&!t.signal.aborted&&t.abort(),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.maxHeightReached=!1,e.error=n,e.renderProps=void 0,t=void 0,Object(le.isRetryException)(n)&&this.reload()},reload:function(){e.renderInProgress=void 0,e.filled=!1,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.message=void 0,e.maxHeightReached=!1,e.ReactComponent=rn,e.renderProps=void 0,Object(j.getParent)(e,2).reload()},beforeDestroy:function(){t&&!t.signal.aborted&&t.abort();var n=Object(h.getContainingDisplay)(e),r=Object(h.getSession)(e).rpcManager,a=n.rendererType,o=on(Object(j.cast)(e)).renderArgs;o&&a.freeResourcesInClient(r,JSON.parse(JSON.stringify(o))).catch((function(e){console.warn("Error while destroying block",e)}))}}}));function on(e,t){try{var n=t||Object(h.getContainingDisplay)(e),r=Object(h.getSession)(n),a=r.assemblyManager,i=r.rpcManager,l=n.adapterConfig,c=n.rendererType,u=n.error,s=n.parentTrack,d=Object(C.getTrackAssemblyNames)(s),f=e.region.assemblyName;if(!d.includes(f)&&!d.find((function(e){var t;return null===(t=a.get(e))||void 0===t?void 0:t.hasName(f)})))throw new Error("region assembly (".concat(f,") does not match track assemblies (").concat(d,")"));var p=n.renderProps(),m=p.config;Object(o.readConfObject)(m);var g=Object(C.getRpcSessionId)(n);return{rendererType:c,rpcManager:i,renderProps:p,cannotBeRenderedReason:n.regionCannotBeRendered(e.region),displayError:u,renderArgs:{statusCallback:function(t){Object(j.isAlive)(e)&&e.setStatus(t)},assemblyName:e.region.assemblyName,regions:[e.region],adapterConfig:l,rendererType:c.name,sessionId:g,blockKey:e.key,reloadFlag:e.reloadFlag,timeout:1e6}}}catch(e){return{displayError:e}}}function ln(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=Ot(zt.mark((function e(t,n,r){var a,o,i,l,c,u,s,d,f,p,m;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.rendererType,o=t.renderProps,i=t.rpcManager,l=t.renderArgs,c=t.cannotBeRenderedReason,u=t.displayError,Object(j.isAlive)(r)){e.next=3;break}return e.abrupt("return",void 0);case 3:if(!u){e.next=6;break}return r.setError(u),e.abrupt("return",void 0);case 6:if(!c){e.next=9;break}return r.setMessage(c),e.abrupt("return",void 0);case 9:if(!o.notReady){e.next=11;break}return e.abrupt("return",void 0);case 11:return e.next=13,a.renderInClient(i,wt(wt(wt({},l),o),{},{signal:n}));case 13:return s=e.sent,d=s.reactElement,f=s.features,p=s.layout,m=s.maxHeightReached,e.abrupt("return",{reactElement:d,features:f,layout:p,maxHeightReached:m});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var un=["blockState"],sn=j.types.compose("BaseLinearDisplay",i.BaseDisplay,j.types.model({height:j.types.optional(j.types.refinement("displayHeight",j.types.number,(function(e){return e>=20})),100),blockState:j.types.map(an),userBpPerPxLimit:j.types.maybe(j.types.number)})).volatile((function(){return{message:"",featureIdUnderMouse:void 0,contextMenuFeature:void 0,scrollTop:0}})).views((function(e){return{get blockType(){return"staticBlocks"},get blockDefinitions(){var t=this.blockType,n=Object(h.getContainingView)(e);if(!n.initialized)throw new Error("view not initialized yet");return n[t]}}})).views((function(e){return{get maxViewBpPerPx(){return e.userBpPerPxLimit||Object(o.getConf)(e,"maxDisplayedBpPerPx")},get renderDelay(){return 50},get TooltipComponent(){return Xt},get selectedFeatureId(){if(Object(j.isAlive)(e)){var t=Object(h.getSession)(e).selection;if(Object(w.isFeature)(t))return t.id()}},get DisplayMessageComponent(){}}})).views((function(e){return{get features(){var t,n=[],r=Nt(e.blockState.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;a&&a.features&&n.push(a.features)}}catch(e){r.e(e)}finally{r.f()}return new y.a(n)},get featureUnderMouse(){return e.featureIdUnderMouse?this.features.get(e.featureIdUnderMouse):void 0},getFeatureOverlapping:function(t,n,r){var a,o;return null===(a=e.blockState.get(t))||void 0===a||null===(o=a.layout)||void 0===o?void 0:o.getByCoord(n,r)},getFeatureByID:function(t,n){var r,a;return null===(r=e.blockState.get(t))||void 0===r||null===(a=r.layout)||void 0===a?void 0:a.getByID(n)},searchFeatureByID:function(t){var n;return e.blockState.forEach((function(e){var r,a=null==e||null===(r=e.layout)||void 0===r?void 0:r.getByID(t);a&&(n=a)})),n}}})).actions((function(e){return{afterAttach:function(){var t=this,n=Object(S.autorun)((function(){var n={};Object(h.getContainingView)(e).initialized&&(e.blockDefinitions.contentBlocks.forEach((function(r){n[r.key]=!0,e.blockState.has(r.key)||t.addBlock(r.key,r)})),e.blockState.forEach((function(e,r){n[r]||t.deleteBlock(r)})))}));Object(j.addDisposer)(e,n)},setHeight:function(t){return e.height=t>20?t:20,e.height},resizeHeight:function(t){var n=e.height;return this.setHeight(e.height+t)-n},setScrollTop:function(t){e.scrollTop=t},setUserBpPerPxLimit:function(t){e.userBpPerPxLimit=t},setMessage:function(t){e.message=t},addBlock:function(t,n){e.blockState.set(t,an.create({key:t,region:n.toRegion()}))},deleteBlock:function(t){e.blockState.delete(t)},selectFeature:function(t){var n=Object(h.getSession)(e);if(Object(h.isSessionModelWithWidgets)(n)){var r=n.addWidget("BaseFeatureWidget","baseFeature",{featureData:t.toJSON(),view:Object(h.getContainingView)(e)});n.showWidget(r)}Object(h.isSelectionContainer)(n)&&n.setSelection(t)},clearFeatureSelection:function(){Object(h.getSession)(e).clearSelection()},setFeatureIdUnderMouse:function(t){e.featureIdUnderMouse=t},reload:function(){Lt(e.blockState.values()).map((function(e){return e.doReload()}))},setContextMenuFeature:function(t){e.contextMenuFeature=t}}})).views((function(e){return{regionCannotBeRenderedText:function(t){var n=Object(h.getContainingView)(e);return n&&n.bpPerPx>e.maxViewBpPerPx?"Zoom in to see features":""},regionCannotBeRendered:function(t){var n=Object(h.getContainingView)(e);if(n&&n.bpPerPx>e.maxViewBpPerPx)return a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{component:"span",variant:"body2"},"Zoom in to see features or"," "),a.a.createElement(E.a,{"data-testid":"reload_button",onClick:function(){e.setUserBpPerPxLimit(n.bpPerPx),e.reload()},variant:"outlined"},"Force Load"),a.a.createElement(O.a,{component:"span",variant:"body2"},"(force load may be slow)"))},trackMenuItems:function(){return[]},contextMenuItems:function(){return e.contextMenuFeature?[{label:"Open feature details",icon:x.a,onClick:function(){e.contextMenuFeature&&e.selectFeature(e.contextMenuFeature)}}]:[]},renderProps:function(){return wt(wt({},Object(C.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,onFeatureClick:function(t,n){var r=n||e.featureIdUnderMouse;if(r){var a=e.features.get(r);e.selectFeature(a)}else e.clearFeatureSelection()},onClick:function(){e.clearFeatureSelection()},onFeatureContextMenu:function(t,n){var r=n||e.featureIdUnderMouse;r?e.setContextMenuFeature(e.features.get(r)):e.clearFeatureSelection()},onMouseMove:function(t,n){e.setFeatureIdUnderMouse(n)},onMouseLeave:function(t){e.setFeatureIdUnderMouse(void 0)},onContextMenu:function(){e.setContextMenuFeature(void 0),e.clearFeatureSelection()}})}}})).actions((function(e){return{renderSvg:function(t){return Ot(zt.mark((function n(){var r,o,i,l,c,u,s,d;return zt.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.height,o=e.id,i=t.overrideHeight,l=Object(h.getContainingView)(e),c=l.offsetPx,u=l.roundedDynamicBlocks,s=l.width,n.next=6,Promise.all(u.map((function(n){var r=an.create({key:n.key,region:n}),o=e.regionCannotBeRenderedText(n)||e.regionCannotBeRendered(n);if(o)return{reactElement:a.a.createElement(a.a.Fragment,null,a.a.createElement("rect",{x:0,y:0,width:s,height:20,fill:"#aaa"}),a.a.createElement("text",{x:0,y:15},o))};var i=on(r,e),l=i.rpcManager,c=i.renderArgs,u=i.renderProps;return i.rendererType.renderInClient(l,wt(wt(wt({},c),u),{},{exportSVG:t}))})));case 6:return d=n.sent,n.abrupt("return",a.a.createElement(a.a.Fragment,null,d.map((function(e,t){var n=u[t].offsetPx-c,l="clip-".concat("undefined"==typeof jest?o:"jest","-").concat(t);return a.a.createElement(a.a.Fragment,{key:"frag-".concat(t)},a.a.createElement("defs",null,a.a.createElement("clipPath",{id:l},a.a.createElement("rect",{x:0,y:0,width:s,height:i||r}))),a.a.createElement("g",{transform:"translate(".concat(n," 0)")},a.a.createElement("g",{clipPath:"url(#".concat(l,")")},a.a.isValidElement(e.reactElement)?e.reactElement:a.a.createElement("g",{dangerouslySetInnerHTML:{__html:e.html}}))))}))));case 8:case"end":return n.stop()}}),n)})))()}}})).postProcessSnapshot((function(e){return Pt(e,un)}));function dn(e){return j.types.compose("LinearBareDisplay",sn,j.types.model({type:j.types.literal("LinearBareDisplay"),configuration:Object(se.ConfigurationReference)(e)})).views((function(e){var t=e.renderProps;return{renderProps:function(){return wt(wt(wt({},t()),Object(C.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,config:e.configuration.renderer})},get rendererTypeName(){return e.configuration.renderer.type}}}))}function fn(e,t,n){for(var r=t*(e=Math.abs(e)),a=parseInt(Number(r).toExponential().split(/e/i)[1],10),o=Math.pow(10,a);o<r&&!((o*=2)>=r);)o*=2.5;var i=(o=Math.max(o,5))/e,l=0;return!(o%10)&&i/10>=n?l=o/10:!(o%5)&&i/5>=n?l=o/5:!(o%2)&&i/2>=n&&(l=o/2),{majorPitch:o,minorPitch:l}}function pn(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=fn(n,60,15),i=e,l=t;if(null===i||null===l)return[];if(n<0){var c=[l,i];i=c[0],l=c[1]}i-=Math.abs(20*n)-1,l+=Math.abs(20*n)+1;for(var u=o.minorPitch||o.majorPitch,s=0,d=[],f=Math.ceil(i/u)*u;f<l;f+=u)a&&f%(2*o.majorPitch)?(d.push({type:"minor",base:f-1,index:s}),s+=1):!r||f%(2*o.majorPitch)||(d.push({type:"major",base:f-1,index:s}),s+=1);return d}var mn=Object(T.a)((function(){return{majorTickLabel:{fontSize:"11px"},majorTick:{stroke:"#555"},minorTick:{stroke:"#999"}}}));function hn(e){var t=e.start,n=e.end,r=e.bpPerPx,o=e.reversed,i=e.major,l=e.minor,c=mn(),u=pn(t,n,r,i,l);return a.a.createElement(a.a.Fragment,null,u.map((function(e){var i=(o?n-e.base:e.base-t)/r;return a.a.createElement("line",{key:e.base,x1:i,x2:i,y1:0,y2:"major"===e.type?6:4,strokeWidth:1,stroke:"major"===e.type?"#555":"#999",className:"major"===e.type?c.majorTick:c.minorTick,"data-bp":e.base})})),u.filter((function(e){return"major"===e.type})).map((function(e){var i=(o?n-e.base:e.base-t)/r;return a.a.createElement("text",{x:i-3,y:18,key:"label-".concat(e.base),style:{fontSize:"11px"},className:c.majorTickLabel},function e(t){return t<999?String(t):"".concat(e(~~(t/1e3)),",").concat("00".concat(~~(t%1e3)).substr(-3,3))}(e.base+1))})))}hn.propTypes={start:Fe.a.number.isRequired,end:Fe.a.number.isRequired,bpPerPx:Fe.a.number.isRequired,reversed:Fe.a.bool,major:Fe.a.bool,minor:Fe.a.bool},hn.defaultProps={reversed:!1,major:!0,minor:!0};var gn=Object(re.observer)(hn),vn=Object(T.a)((function(e){var t=e.palette,n=t.tertiary,r=t.primary;return{rubberBand:{height:"100%",background:n?Object(P.a)(n.main,.7):Object(P.a)(r.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:n?n.contrastText:r.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}})),bn=Object(re.observer)((function(e){var t,n=e.model,r=e.open,o=e.guideX,i=e.overview,l=vn(),c=n.cytobandOffset,u=Object(h.getSession)(n).assemblyManager,s=i.pxToBp(o-c),d=u.get(s.assemblyName),f=null==d||null===(t=d.cytobands)||void 0===t?void 0:t.find((function(e){return s.coord>e.get("start")&&s.coord<e.get("end")&&s.refName===d.getCanonicalRefName(e.get("refName"))}));return a.a.createElement(I.a,{open:r,placement:"top",title:[Object(h.stringify)(s),null==f?void 0:f.get("name")].join(" "),arrow:!0},a.a.createElement("div",{className:l.guide,style:{left:o}}))}));function yn(e){var t=e.model,n=e.overview,o=e.ControlComponent,i=void 0===o?a.a.createElement("div",null):o,l=t.cytobandOffset,c=It(Object(r.useState)(),2),u=c[0],s=c[1],d=It(Object(r.useState)(),2),f=d[0],p=d[1],m=It(Object(r.useState)(),2),g=m[0],v=m[1],b=Object(r.useRef)(null),y=Object(r.useRef)(null),w=vn(),C=void 0!==u;function E(e){e.preventDefault(),e.stopPropagation(),b.current&&s(e.clientX-b.current.getBoundingClientRect().left)}function k(e){b.current&&v(e.clientX-b.current.getBoundingClientRect().left)}function x(){v(void 0)}if(Object(r.useEffect)((function(){function e(e){var t=b.current;if(t&&C){var n=e.clientX-t.getBoundingClientRect().left;p(n)}}function r(){if(b.current&&void 0!==u&&void 0!==f&&Math.abs(f-u)>3&&t.zoomToDisplayedRegions(n.pxToBp(u-l),n.pxToBp(f-l)),b.current&&void 0!==u&&void 0===f){var e=n.pxToBp(u-l);t.centerAt(Math.round(e.coord),e.refName,e.index)}s(void 0),p(void 0),void 0!==u&&v(void 0)}function a(e){"Escape"===e.key&&(s(void 0),p(void 0))}return C?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",r,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",r,!0),window.removeEventListener("keydown",a,!0)}):function(){}}),[C,f,u,t,n,l]),void 0===u)return a.a.createElement("div",{style:{position:"relative"}},void 0!==g?a.a.createElement(bn,{model:t,open:!C,overview:n,guideX:g}):null,a.a.createElement("div",{className:w.rubberBandControl,role:"presentation",ref:b,onMouseDown:E,onMouseOut:x,onMouseMove:k},i));var S,j,T=u||0,P=0;if(void 0!==u&&void 0!==f&&(T=f<u?f:u,P=f-u),u&&(S=n.pxToBp(u-l),j=n.pxToBp(u+P-l),f&&f<u)){var R=[j,S];S=R[0],j=R[1]}return a.a.createElement("div",{style:{position:"relative"}},y.current?a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{className:w.popover,classes:{paper:w.paper},open:!0,anchorEl:y.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(O.a,null,S?Object(h.stringify)(S):"")),a.a.createElement(L.a,{className:w.popover,classes:{paper:w.paper},open:!0,anchorEl:y.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(O.a,null,j?Object(h.stringify)(j):""))):null,a.a.createElement("div",{ref:y,className:w.rubberBand,style:{left:T,width:Math.abs(P),height:Gr}}),a.a.createElement("div",{"data-testid":"rubberBand_controls",className:w.rubberBandControl,role:"presentation",ref:b,onMouseDown:E,onMouseOut:x,onMouseMove:k},i))}yn.propTypes={model:re.PropTypes.objectOrObservableObject.isRequired,overview:re.PropTypes.objectOrObservableObject.isRequired,ControlComponent:Fe.a.node},yn.defaultProps={ControlComponent:a.a.createElement("div",null)};var wn=Object(re.observer)(yn),Cn=Object(T.a)((function(e){return{scaleBar:{height:Gr},scaleBarBorder:{border:"1px solid"},scaleBarContig:{backgroundColor:e.palette.background.default,position:"absolute",top:0,height:Gr},scaleBarContigForward:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M-.1 0L6 4.5L-.1 9' fill='none' stroke='%23ddd'/%3E%3C/svg%3E\")",backgroundRepeat:"repeat"},scaleBarContigReverse:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M6 0L0 4.5L6 9' fill='none' stroke='%23ddd'/%3E%3C/svg%3E\")",backgroundRepeat:"repeat"},scaleBarRefName:{position:"absolute",fontWeight:"bold",pointerEvents:"none",zIndex:100},scaleBarLabel:{height:Gr,width:1,position:"absolute",display:"flex",justifyContent:"center",pointerEvents:"none"},scaleBarVisibleRegion:{position:"absolute",height:Gr,pointerEvents:"none",zIndex:100,border:"1px solid"},overview:{height:Wr,position:"relative"},overviewSvg:{width:"100%",position:"absolute"}}})),En=Object(re.observer)((function(e){var t=e.model,n=e.overview,r=e.useOffset,o=void 0===r||r,i=Object(M.a)(),l=Number(o),c=t.interRegionPaddingWidth,u=t.offsetPx,s=t.dynamicBlocks,d=t.cytobandOffset,f=s.contentBlocks,p=s.totalWidthPxWithoutBorders,m=i.palette,h=m.tertiary,g=m.primary,v=h?h.light:g.light;if(!f.length)return null;var b=f[0],y=f[f.length-1],w=(n.bpToPx(wt(wt({},b),{},{coord:b.reversed?b.end:b.start}))||0)+d*l,C=(n.bpToPx(wt(wt({},y),{},{coord:y.reversed?y.start:y.end}))||0)+d*l,E=Math.max(0,-u),O=E+p+f.length*c/2,k=[[E,Wr],[O,Wr],[C,0],[w,0]];return a.a.createElement("polygon",{points:k.toString(),fill:Object(P.a)(v,.3),stroke:Object(P.a)(v,.8)})}));function On(e,t,n,r,a){return"M"+e+","+t+"h"+(n-a)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(r-2*a)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(a-n)+"z"}var kn={gneg:"rgb(227,227,227)",gpos25:"rgb(142,142,142)",gpos50:"rgb(85,85,85)",gpos100:"rgb(0,0,0)",gpos75:"rgb(57,57,57)",gvar:"rgb(0,0,0)",stalk:"rgb(127,127,127)",acen:"#800"},xn=Object(re.observer)((function(e){var t,n=e.overview,r=e.block,o=e.assembly,i=r.offsetPx,l=null==o||null===(t=o.cytobands)||void 0===t?void 0:t.map((function(e){return{refName:o.getCanonicalRefName(e.get("refName")),start:e.get("start"),end:e.get("end"),type:e.get("type")}})).filter((function(e){return e.refName===r.refName})).map((function(e){var t=e.refName,r=e.start,a=e.end,o=e.type;return[n.bpToPx({refName:t,coord:r}),n.bpToPx({refName:t,coord:a}),o]})),c=!0;return l?a.a.createElement("g",{transform:"translate(-".concat(i,")")},l.map((function(e,t){var n,r,o,i,u,s=It(e,3),d=s[0],f=s[1],p=s[2],m="".concat(d,"-").concat(f,"-").concat(p);return"acen"===p&&c?(c=!1,a.a.createElement("polygon",{key:m,points:[[d,0],[f,Gr/2],[d,Gr]].toString(),fill:kn[p]})):"acen"!==p||c?0===t?a.a.createElement("path",{key:m,d:(n=Math.min(d,f),r=0,o=Math.abs(f-d),i=Gr,u=8,"M"+(n+u)+","+r+"h"+(o-u)+"v"+i+"h"+(u-o)+"a"+u+","+u+" 0 0 1 "+-u+","+-u+"v"+(2*u-i)+"a"+u+","+u+" 0 0 1 "+u+","+-u+"z"),fill:kn[p]}):t===l.length-1?a.a.createElement("path",{key:m,d:On(Math.min(d,f),0,Math.abs(f-d)-2,Gr,8),fill:kn[p]}):a.a.createElement("rect",{key:m,x:Math.min(d,f),y:0,width:Math.abs(f-d),height:Gr,fill:kn[p]}):a.a.createElement("polygon",{key:m,points:[[d,Gr/2],[f,0],[f,Gr]].toString(),fill:kn[p]})}))):null})),Sn=Object(re.observer)((function(e){for(var t=e.scale,n=e.model,r=e.block,o=e.overview,i=Cn(),l=n.cytobandOffset,c=n.showCytobands,u=r.start,s=r.end,d=r.reversed,f=r.refName,p=r.assemblyName,m=fn(t,120,15).majorPitch,g=Object(h.getSession)(n).assemblyManager.get(p),v=null==g?void 0:g.getRefNameColor(f),b=[],y=0;y<Math.floor((s-u)/m);y++){var w=(y+1)*m;b.push(d?s-w:u+w)}return a.a.createElement("div",null,a.a.createElement(O.a,{style:{left:r.offsetPx+3,color:c?"black":v},className:i.scaleBarRefName},f),a.a.createElement("div",{className:Object(Ne.default)(i.scaleBarContig,c?void 0:d?i.scaleBarContigReverse:i.scaleBarContigForward,c?void 0:i.scaleBarBorder),style:{left:r.offsetPx+l,width:r.widthPx,borderColor:v}},c?null:b.map((function(e,n){return a.a.createElement(O.a,{key:"".concat(JSON.stringify(r),"-").concat(e,"-").concat(n),className:i.scaleBarLabel,variant:"body2",style:{left:(n+1)*m/t,pointerEvents:"none",color:v}},e.toLocaleString("en-US"))})),c?a.a.createElement("svg",{style:{width:"100%"}},a.a.createElement(xn,{overview:o,assembly:g,block:r})):null))})),jn=Object(re.observer)((function(e){var t=e.model,n=e.scale,r=e.overview,o=Cn(),i=Object(M.a)(),l=t.dynamicBlocks,c=t.showCytobands,u=t.cytobandOffset,s=l.contentBlocks,d=r.dynamicBlocks,f=i.palette,p=f.tertiary,m=f.primary,h=p?p.light:m.light;if(!s.length)return null;var g=s[0],v=r.bpToPx(wt(wt({},g),{},{coord:g.reversed?g.end:g.start}))||0,b=s[s.length-1],y=r.bpToPx(wt(wt({},b),{},{coord:b.reversed?b.start:b.end}))||0,w=c?"#f00":h,C=c?.1:.3;return a.a.createElement("div",{className:o.scaleBar},a.a.createElement("div",{className:o.scaleBarVisibleRegion,style:{width:y-v,left:v+u,background:Object(P.a)(w,C),borderColor:w}}),d.map((function(e,i){return e instanceof oe.ContentBlock?a.a.createElement(Sn,{scale:n,block:e,model:t,overview:r,key:"".concat(JSON.stringify(e),"-").concat(i)}):a.a.createElement("div",{key:"".concat(JSON.stringify(e),"-").concat(i),className:o.scaleBarContig,style:{width:e.widthPx,left:e.offsetPx,backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"}})})))}));function Tn(e){var t=e.model,n=e.children,r=Cn(),o=t.totalBp,i=t.width,l=t.cytobandOffset,c=t.displayedRegions,u=ge.a.create({displayedRegions:JSON.parse(JSON.stringify(c)),interRegionPaddingWidth:0,minimumBlockWidth:t.minimumBlockWidth}),s=i-l;u.setVolatileWidth(s),u.showAllRegions();var d=o/(s-2*(c.length-1));return a.a.createElement("div",null,a.a.createElement(wn,{model:t,overview:u,ControlComponent:a.a.createElement(jn,{model:t,overview:u,scale:d})}),a.a.createElement("div",{className:r.overview},a.a.createElement("svg",{height:Wr,className:r.overviewSvg},a.a.createElement(En,{model:t,overview:u})),n))}var Pn=Object(re.observer)(Tn);function Rn(e){var t=e.model,n=e.fontSize,r=t.offsetPx,o=t.dynamicBlocks,i=o.totalWidthPxWithoutBorders,l=function(e){return Math.floor(e/1e6)>0?"".concat(parseFloat((e/1e6).toPrecision(3)),"Mbp"):Math.floor(e/1e3)>0?"".concat(parseFloat((e/1e3).toPrecision(3)),"Kbp"):"".concat(Math.floor(e),"bp")}(o.totalBp),c=Math.max(-r,0),u=c+i;return a.a.createElement(a.a.Fragment,null,a.a.createElement("line",{x1:c,x2:u,y1:10,y2:10,stroke:"black"}),a.a.createElement("line",{x1:c,x2:c,y1:5,y2:15,stroke:"black"}),a.a.createElement("line",{x1:u,x2:u,y1:5,y2:15,stroke:"black"}),a.a.createElement("text",{x:c+(u-c)/2,y:2*n,textAnchor:"middle",fontSize:n},l))}function Mn(e){var t=e.model,n=e.fontSize,r=e.width,o=t.dynamicBlocks.contentBlocks,i=t.offsetPx,l=t.bpPerPx,c=o.length<5;return a.a.createElement(a.a.Fragment,null,a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip-ruler"},a.a.createElement("rect",{x:0,y:0,width:r,height:20}))),o.map((function(e){var t=e.key,r=e.start,o=e.end,u=e.reversed,s=e.offsetPx,d=e.refName,f=s-i;return a.a.createElement("g",{key:"".concat(t),transform:"translate(".concat(f," 0)")},a.a.createElement("text",{x:f/l,y:n,fontSize:n},d),c?a.a.createElement("g",{transform:"translate(0 20)",clipPath:"url(#clip-ruler)"},a.a.createElement(gn,{start:r,end:o,bpPerPx:l,reversed:u})):a.a.createElement("line",{strokeWidth:1,stroke:"black",x1:r/l,x2:o/l,y1:20,y2:20}))})))}var In=function(e){return e.reduce((function(e,t){return e+t.displays[0].height+20+20}),0)},Ln=function(e){var t=e.model,n=t.width,r=t.assemblyNames,o=t.showCytobands,i=t.displayedRegions,l=Object(h.getSession)(t).assemblyManager,c=r.length>1?"":r[0],u=l.get(c),s=ge.a.create({displayedRegions:JSON.parse(JSON.stringify(i)),interRegionPaddingWidth:0,minimumBlockWidth:t.minimumBlockWidth}),d=t.dynamicBlocks.contentBlocks;s.setVolatileWidth(n),s.showAllRegions();var f=s.dynamicBlocks.contentBlocks[0],p=d[0],m=s.bpToPx(wt(wt({},p),{},{coord:p.reversed?p.end:p.start}))||0,g=d[d.length-1],v=s.bpToPx(wt(wt({},g),{},{coord:g.reversed?g.start:g.end}))||0,b=o?100:0;return a.a.createElement("g",{id:"header"},a.a.createElement("text",{x:0,y:15,fontSize:15},c),o?a.a.createElement("g",{transform:"translate(0 ".concat(50,")")},a.a.createElement(xn,{overview:s,assembly:u,block:f}),a.a.createElement("rect",{stroke:"red",fill:"rgb(255,0,0,0.1)",width:Math.max(v-m,.5),height:Gr-1,x:m,y:.5}),a.a.createElement("g",{transform:"translate(0,".concat(Gr,")")},a.a.createElement(En,{overview:s,model:t,useOffset:!1}))):null,a.a.createElement("g",{transform:"translate(0 ".concat(15+b,")")},a.a.createElement(Rn,{model:t,fontSize:15})),a.a.createElement("g",{transform:"translate(0 ".concat(50+b,")")},a.a.createElement(Mn,{model:t,fontSize:15,width:n})))},An=function(e){var t=e.model,n=e.height,r=t.dynamicBlocks,o=t.offsetPx,i=t.interRegionPaddingWidth;return a.a.createElement(a.a.Fragment,null,r.contentBlocks.slice(1).map((function(e){return a.a.createElement("rect",{key:e.key,x:e.offsetPx-o-i,width:i,y:0,height:n,stroke:"none",fill:"grey"})})))};function Fn(e){var t=e.displayResults,n=e.model,r=e.offset;return a.a.createElement(a.a.Fragment,null,t.map((function(e){var t=e.track,i=e.result,l=r,c=Object(o.getConf)(t,"name")||"Reference sequence (".concat(Object(o.readConfObject)(Object(j.getParent)(t.configuration),"name"),")"),u=t.displays[0];return r+=u.height+20+20,a.a.createElement("g",{key:t.configuration.trackId,transform:"translate(0 ".concat(l,")")},a.a.createElement("text",{fontSize:15,x:Math.max(-n.offsetPx,0)},c),a.a.createElement("g",{transform:"translate(0 ".concat(20,")")},i,a.a.createElement(An,{model:n,height:u.height})))})))}function Nn(e,t){return _n.apply(this,arguments)}function _n(){return(_n=Ot(zt.mark((function e(t,n){var r,o,i,l,c,u,s;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(S.when)((function(){return t.initialized}));case 2:return r=t.width,o=t.tracks,i=t.showCytobands,l=50,c=90+(i?100:0)+20,u=In(o)+c,e.next=8,Promise.all(o.map(function(){var e=Ot(zt.mark((function e(t){var r,a;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.displays[0],e.next=3,Object(S.when)((function(){return void 0===r.ready||r.ready}));case 3:return e.next=5,r.renderSvg(n);case 5:return a=e.sent,e.abrupt("return",{track:t,result:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return s=e.sent,e.abrupt("return",Object(Le.renderToStaticMarkup)(a.a.createElement("svg",{width:r,height:u,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,r+2*l,u].toString()},a.a.createElement("rect",{width:r+2*l,height:u,fill:"white"}),a.a.createElement("g",{stroke:"none",transform:"translate(".concat(l," ").concat(15,")")},a.a.createElement(Ln,{model:t}),a.a.createElement(Fn,{model:t,displayResults:s,offset:c})))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e,n,r){return n===r.findIndex((function(n){return t(n)===t(e)}))}))}var zn=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Zr}))}));var Bn=function(e){var t=e.style;return a.a.createElement(A.a,Object.assign({},e,{style:{width:"fit-content",minWidth:Math.min(+((null==t?void 0:t.width)||0),200),background:"white"},placement:"bottom-start"}))};function Hn(e){var t=e.model,n=e.onSelect,o=e.assemblyName,i=e.style,l=e.fetchResults,c=e.value,u=e.minWidth,s=void 0===u?200:u,d=e.TextFieldProps,f=void 0===d?{}:d,p=Object(h.getSession)(t),m=p.assemblyManager,g=It(Object(r.useState)(!1),2),v=g[0],b=g[1],y=It(Object(r.useState)(!0),2),w=y[0],C=y[1],E=It(Object(r.useState)(!1),2),k=E[0],x=E[1],S=It(Object(r.useState)(""),2),j=S[0],T=S[1],P=It(Object(r.useState)(""),2),R=P[0],M=P[1],I=It(Object(r.useState)(),2),L=I[0],A=I[1],z=Object(h.useDebounce)(j,300),B=t.coarseVisibleLocStrings,H=t.hasDisplayedRegions,V=o?m.get(o):void 0,W=(null==V?void 0:V.regions)||[],G=Object(r.useMemo)((function(){return W.map((function(e){return{result:new _e.RefSequenceResult({refName:e.refName,label:e.refName,matchedAttribute:"refName"})}}))}),[W]);Object(r.useEffect)((function(){var e=!0;return Ot(zt.mark((function t(){var n;return zt.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==z&&o){t.next=3;break}return t.abrupt("return");case 3:return C(!1),t.next=6,l(z);case 6:n=t.sent,e&&(A(Dn(n,(function(e){return e.getDisplayString()})).map((function(e){return{result:e}}))),C(!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),e&&p.notify("".concat(t.t0),"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))(),function(){e=!1}}),[o,l,z,p,t]);var U=B||c||"",q=Math.min(Math.max(Object(h.measureText)(U,16)+45,s),550);return a.a.createElement(a.a.Fragment,null,a.a.createElement(He.a,{id:"refNameAutocomplete-".concat(t.id),"data-testid":"autocomplete",disableListWrap:!0,disableClearable:!0,PopperComponent:Bn,disabled:!o,freeSolo:!0,includeInputInList:!0,selectOnFocus:!0,style:wt(wt({},i),{},{width:q}),value:U,loading:!w,inputValue:R,onInputChange:function(e,t){return M(t)},loadingText:"loading results",open:v,onOpen:function(){return b(!0)},onClose:function(){b(!1),C(!0),H&&(T(""),A(void 0))},onChange:function(e,t){t&&o&&(n("string"==typeof t?new De.a({label:t}):t.result),M(U))},options:null!=L&&L.length?L:G,getOptionDisabled:function(e){return"limitOption"===(null==e?void 0:e.group)},filterOptions:function(e,t){var n=function(e,t){return e.filter((function(e){var n=e.result;return n.getLabel().toLowerCase().includes(t)||n.matchedObject}))}(e,t.inputValue.toLocaleLowerCase());return[].concat(Lt(n.slice(0,100)),Lt(n.length>100?[{group:"limitOption",result:new De.a({label:"keep typing for more results"})}]:[]))},renderInput:function(e){var t=f.helperText,n=f.InputProps,r=void 0===n?{}:n;return a.a.createElement(F.a,Object.assign({onBlur:function(){M(U)}},e,f,{helperText:t,InputProps:wt(wt(wt({},e.InputProps),r),{},{endAdornment:a.a.createElement(a.a.Fragment,null,0===W.length?a.a.createElement(N.a,{color:"inherit",size:20}):a.a.createElement(_.a,{position:"end",style:{marginRight:7}},a.a.createElement(Be.a,null),a.a.createElement(D.a,{onClick:function(){return x(!0)}},a.a.createElement(We.a,null))),e.InputProps.endAdornment)}),placeholder:"Search for location",onChange:function(e){T(e.target.value)}}))},renderOption:function(e){var t=e.result,n=t.getRenderingComponent();return n&&a.a.isValidElement(n)?n:a.a.createElement(O.a,{noWrap:!0},t.getDisplayString())},getOptionLabel:function(e){return("string"==typeof e?e:e.result.getLabel())||""}}),k?a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(zn,{handleClose:function(){return x(!1)}})):null)}var Vn=Object(re.observer)(Hn),Wn=Object(T.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Gn(e){var t,n=e.model,o=e.handleClose,i="undefined"!=typeof OffscreenCanvas,l=It(Object(r.useState)(i),2),c=l[0],u=l[1],s=It(Object(r.useState)(!1),2),d=s[0],f=s[1],p=It(Object(r.useState)(),2),m=p[0],h=p[1],g=Wn();return a.a.createElement(z.a,{open:!0,onClose:o},a.a.createElement(B.a,null,"Export SVG",a.a.createElement(D.a,{className:g.closeButton,onClick:o},a.a.createElement(Ue.a,null))),a.a.createElement(H.a,null,m?a.a.createElement("div",{style:{color:"red"}},"".concat(m)):d?a.a.createElement("div",null,a.a.createElement(N.a,{size:20,style:{marginRight:20}}),a.a.createElement(O.a,{display:"inline"},"Creating SVG")):null,i?a.a.createElement(V.a,{control:a.a.createElement(W.a,{checked:c,onChange:function(){return u((function(e){return!e}))}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):a.a.createElement(O.a,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),a.a.createElement(G.a,null,a.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){return o()}},"Cancel"),a.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",onClick:(t=Ot(zt.mark((function e(){return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),h(void 0),e.prev=2,e.next=5,n.exportSvg({rasterizeLayers:c});case 5:o(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),h(e.t0);case 12:return e.prev=12,f(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])}))),function(){return t.apply(this,arguments)})},"Submit")))}var Un=Object(T.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function qn(e){var t=e.model,n=e.handleClose,r=Un();return a.a.createElement(z.a,{maxWidth:"xl",open:!0,onClose:n},a.a.createElement(B.a,null,"Reference sequence",n?a.a.createElement(D.a,{className:r.closeButton,onClick:function(){n()}},a.a.createElement(Ue.a,null)):null),a.a.createElement(U.a,null),a.a.createElement(H.a,null,a.a.createElement(O.a,null,"Are you sure you want to return to the import form? This will lose your current view")),a.a.createElement(G.a,null,a.a.createElement(E.a,{onClick:function(){t.clearView(),n()},variant:"contained",color:"primary",autoFocus:!0},"OK"),a.a.createElement(E.a,{onClick:function(){n()},color:"secondary",variant:"contained",autoFocus:!0},"Cancel")))}var $n=Object(re.observer)(qn),Kn=Object(T.a)({container:{display:"flex",flexDirection:"row",alignItems:"center"},slider:{width:70}});function Jn(e){var t=e.model,n=Kn(),o=t.maxBpPerPx,i=t.minBpPerPx,l=t.bpPerPx,c=t.scaleFactor,u=It(Object(r.useState)(100*-Math.log2(l)),2),s=u[0],d=u[1];return Object(r.useEffect)((function(){d(100*-Math.log2(l))}),[d,l]),a.a.createElement("div",{className:n.container},a.a.createElement(D.a,{"data-testid":"zoom_out",onClick:function(){t.zoom(2*l)},disabled:l>=o-1e-4||1!==c,color:"secondary"},a.a.createElement(Ze.a,null)),a.a.createElement(Xe.a,{className:n.slider,value:s,min:100*-Math.log2(o),max:100*-Math.log2(i),onChange:function(e,t){return d(t)},onChangeCommitted:function(){return t.zoomTo(Math.pow(2,-s/100))},disabled:1!==c}),a.a.createElement(D.a,{"data-testid":"zoom_in",onClick:function(){t.zoom(t.bpPerPx/2)},disabled:l<=i+1e-4||1!==c,color:"secondary"},a.a.createElement(Ie.a,null)))}var Xn=Object(re.observer)(Jn),Yn=Object(T.a)((function(e){return{headerBar:{height:Wr,display:"flex"},headerForm:{flexWrap:"nowrap",marginRight:7},spacer:{flexGrow:1},input:{},headerRefName:{minWidth:100},panButton:{background:Object(P.a)(e.palette.background.paper,.8),height:32,margin:7},bp:{display:"flex",alignItems:"center",marginLeft:5},toggleButton:{height:44,border:"none",margin:e.spacing(.5)},buttonSpacer:{marginRight:e.spacing(2)}}})),Zn=Object(re.observer)((function(e){var t=e.model,n=Yn();return a.a.createElement(E.a,{onClick:t.activateTrackSelector,className:n.toggleButton,title:"Open track selector",value:"track_select",color:"secondary"},a.a.createElement(we.TrackSelector,{className:n.buttonSpacer}))}));function Qn(e){var t=e.model,n=Yn();return a.a.createElement(a.a.Fragment,null,a.a.createElement(E.a,{variant:"outlined",className:n.panButton,onClick:function(){return t.slide(-.9)}},a.a.createElement(Je.a,null)),a.a.createElement(E.a,{variant:"outlined",className:n.panButton,onClick:function(){return t.slide(.9)}},a.a.createElement($e.a,null)))}var er=Object(re.observer)((function(e){var t=e.model,n=Yn(),r=t.coarseTotalBp;return a.a.createElement(O.a,{variant:"body2",color:"textSecondary",className:n.bp},"".concat(Math.round(r).toLocaleString("en-US")," bp"))})),tr=Object(re.observer)((function(e){var t=e.model,n=Yn(),r=Object(M.a)(),o=Object(h.getSession)(t),i=o.textSearchManager,l=o.assemblyManager,c=t.assemblyNames,u=t.rankSearchResults,s=c[0],d=l.get(s),f=t.searchScope(s);function p(e,t){return m.apply(this,arguments)}function m(){return(m=Ot(zt.mark((function e(t,n){var r,a,o;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||console.warn("No text search manager"),e.next=3,null==i?void 0:i.search({queryString:t,searchType:n},f,u);case 3:return a=e.sent,o=null==d||null===(r=d.allRefNames)||void 0===r?void 0:r.filter((function(e){return e.startsWith(t)})).map((function(e){return new De.a({label:e})})).slice(0,10),e.abrupt("return",Dn([].concat(Lt(o||[]),Lt(a||[])),(function(e){return e.getId()})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){return(g=Ot(zt.mark((function e(n){var r,a,i,l,c;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getTrackId(),a=n.getLocation(),i=n.getLabel(),e.prev=3,null==d||null===(l=d.allRefNames)||void 0===l||!l.includes(a)){e.next=8;break}t.navToLocString(a),e.next=19;break;case 8:return e.next=10,p(i,"exact");case 10:if(!((c=e.sent)&&c.length>1)){e.next=16;break}return t.setSearchResults(c,i.toLowerCase()),e.abrupt("return");case 16:1===(null==c?void 0:c.length)&&(a=c[0].getLocation(),r=c[0].getTrackId());case 17:t.navToLocString(a,s),r&&t.showTrack(r);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(e.t0),o.notify("".concat(e.t0),"warning");case 25:case"end":return e.stop()}}),e,null,[[3,21]])})))).apply(this,arguments)}var v=a.a.createElement("div",{className:n.headerBar},a.a.createElement(Zn,{model:t}),a.a.createElement("div",{className:n.spacer}),a.a.createElement(q.a,{row:!0,className:n.headerForm},a.a.createElement(Qn,{model:t}),a.a.createElement(Vn,{onSelect:function(e){return g.apply(this,arguments)},assemblyName:s,fetchResults:p,model:t,TextFieldProps:{variant:"outlined",className:n.headerRefName,style:{margin:7,minWidth:"175px"},InputProps:{style:{padding:0,height:32,background:Object(P.a)(r.palette.background.paper,.8)}}}})),a.a.createElement(er,{model:t}),a.a.createElement(Xn,{model:t}),a.a.createElement("div",{className:n.spacer}));return t.hideHeaderOverview?v:a.a.createElement(Pn,{model:t},v)})),nr=Object(T.a)((function(e){return{root:{background:Object(P.a)(e.palette.background.paper,.8),"&:hover":{background:e.palette.background.paper},transition:e.transitions.create(["background"],{duration:e.transitions.duration.shortest})},trackName:{margin:"0 auto",width:"90%",fontSize:"0.8rem",pointerEvents:"none"},dragHandle:{cursor:"grab",color:"#135560"},dragHandleIcon:{display:"inline-block",verticalAlign:"middle",pointerEvents:"none"},iconButton:{padding:e.spacing(1)}}})),rr=a.a.forwardRef((function(e,t){var n,r=nr(),i=It(a.a.useState(null),2),l=i[0],c=i[1],u=e.track,s=e.className,d=Object(h.getContainingView)(u),f=Object(h.getSession)(u),p=u.configuration,m=Object(o.getConf)(u,"trackId"),g=function(){c(null)},v=Object(o.getConf)(u,"name");"ReferenceSequenceTrack"===Object(o.getConf)(u,"type")&&(v="Reference Sequence",f.assemblies.forEach((function(e){e.sequence===p&&(v="Reference Sequence (".concat(Object(o.readConfObject)(e,"name"),")"))})));var b=u.trackMenuItems();return a.a.createElement(a.a.Fragment,null,a.a.createElement(X.a,{ref:t,className:Object(Ne.default)(s,r.root)},a.a.createElement("span",{draggable:!0,className:r.dragHandle,onDragStart:function(e){var t=e.target;t.parentNode&&(e.dataTransfer.setDragImage(t.parentNode,20,20),d.setDraggingTrackId(u.id))},onDragEnd:function(){d.setDraggingTrackId(void 0)},"data-testid":"dragHandle-".concat(d.id,"-").concat(m)},a.a.createElement(nt.a,{className:r.dragHandleIcon})),a.a.createElement(D.a,{onClick:function(){return d.hideTrack(m)},className:r.iconButton,title:"close this track",color:"secondary"},a.a.createElement(Ue.a,null)),a.a.createElement(O.a,{variant:"body1",component:"span",className:r.trackName},v),a.a.createElement(D.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},className:r.iconButton,color:"secondary","data-testid":"track_menu_icon",disabled:!b.length},a.a.createElement(et.a,null))),a.a.createElement(ne.Menu,{anchorEl:l,onMenuItemClick:function(e,t){t(),g()},open:Boolean(l),onClose:g,menuItems:[].concat(Lt(null===(n=f.getTrackActionMenuItems)||void 0===n?void 0:n.call(f,p)),Lt(b)).sort((function(e,t){return(t.priority||0)-(e.priority||0)}))}))})),ar=Object(re.observer)(rr),or=Object(T.a)((function(e){return{root:{},resizeHandle:{height:qr,boxSizing:"border-box",position:"relative",zIndex:2},overlay:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",zIndex:3,borderRadius:e.shape.borderRadius},renderingComponentContainer:{position:"absolute",left:-1,height:"100%",width:"100%"},trackLabel:{zIndex:3,margin:e.spacing(1)},trackLabelInline:{position:"relative",display:"inline-block"},trackLabelOverlap:{position:"absolute"},trackRenderingContainer:{overflowY:"auto",overflowX:"hidden",whiteSpace:"nowrap",position:"relative",background:"none",zIndex:2,boxSizing:"content-box"}}}));function ir(e){var t=or(),n=e.model,i=e.track,l=i.displays[0],c=n.horizontalScroll,u=n.draggingTrackId,s=n.moveTrack,d=l.height,f=Object(h.getContainingView)(l),p=Object(o.getConf)(i,"trackId"),m=Object(r.useRef)(null);Object(r.useEffect)((function(){return m.current&&(n.trackRefs[p]=m.current),function(){delete n.trackRefs[p]}}),[n.trackRefs,p]);var g=Object(h.useDebouncedCallback)((function(){void 0!==u&&Object(j.isAlive)(l)&&u!==l.id&&s(u,i.id)}),100),v=l.RenderingComponent,b=l.DisplayBlurb,y=void 0!==u&&u!==l.id;return a.a.createElement("div",{className:t.root},"hidden"!==f.trackLabels?a.a.createElement(ar,{track:i,className:Object(Ne.default)(t.trackLabel,"overlapping"===f.trackLabels?t.trackLabelOverlap:t.trackLabelInline)}):null,a.a.createElement(X.a,{variant:"outlined",className:t.trackRenderingContainer,style:{height:d},onScroll:function(e){var t=e.target;l.setScrollTop(t.scrollTop)},onDragEnter:g,"data-testid":"trackRenderingContainer-".concat(f.id,"-").concat(p),role:"presentation"},a.a.createElement("div",{ref:m,className:t.renderingComponentContainer,style:{transform:"scaleX(".concat(n.scaleFactor,")")}},a.a.createElement(v,{model:l,blockState:{},onHorizontalScroll:c})),b?a.a.createElement("div",{style:{position:"absolute",left:0,top:l.height-20}}," ",a.a.createElement(b,{model:l})):null),a.a.createElement("div",{className:t.overlay,style:{height:l.height,background:y?"rgba(0, 0, 0, 0.4)":void 0},onDragEnter:g}),a.a.createElement(ne.ResizeHandle,{onDrag:l.resizeHeight,className:t.resizeHandle}))}var lr=Object(re.observer)(ir),cr=Object(T.a)((function(e){return{rubberBand:{height:"100%",background:e.palette.tertiary?Object(ot.alpha)(e.palette.tertiary.main,.7):Object(ot.alpha)(e.palette.primary.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:e.palette.tertiary?e.palette.tertiary.contrastText:e.palette.primary.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}})),ur=Object(re.observer)((function(e){var t=e.model,n=e.coordX,r=cr();return a.a.createElement(I.a,{open:!0,placement:"top",title:Object(h.stringify)(t.pxToBp(n)),arrow:!0},a.a.createElement("div",{className:r.guide,style:{left:n,background:"red"}}))}));function sr(e){var t=e.model,n=e.ControlComponent,o=void 0===n?a.a.createElement("div",null):n,i=It(Object(r.useState)(),2),l=i[0],c=i[1],u=It(Object(r.useState)(),2),s=u[0],d=u[1],f=It(Object(r.useState)(),2),p=f[0],m=f[1],g=It(Object(r.useState)(),2),v=g[0],b=g[1],y=Object(r.useRef)(null),w=Object(r.useRef)(null),C=cr(),E=void 0!==l&&void 0===p,k=t.setOffsets,x=t.pxToBp;function S(e){e.preventDefault(),e.stopPropagation();var t=e.clientX-e.target.getBoundingClientRect().left;c(t),d(t)}function j(e){var t=e.target;b(e.clientX-t.getBoundingClientRect().left)}function T(){b(void 0),t.setOffsets(void 0,void 0)}function P(){m(void 0),c(void 0),d(void 0)}Object(r.useEffect)((function(){function e(e){if(y.current&&E){var t=e.clientX-y.current.getBoundingClientRect().left;d(t)}}function t(e){if(void 0!==l&&y.current){var t=e.clientX,n=e.clientY,r=t-y.current.getBoundingClientRect().left;m({offsetX:r,clientX:t,clientY:n});var a=function(e){if(void 0!==l){var t=l,n=e;if(n<t){var r=[n,t];t=r[0],n=r[1]}return{leftOffset:x(t),rightOffset:x(n)}}}(r),o=a.leftOffset,i=a.rightOffset;k(o,i),b(void 0)}}return E?(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}):function(){}}),[l,E,p,k,x]),Object(r.useEffect)((function(){!E&&void 0!==s&&void 0!==l&&Math.abs(s-l)<=3&&P()}),[E,s,l,t.bpPerPx]);var R=Boolean(p);if(void 0===l)return a.a.createElement(a.a.Fragment,null,void 0!==v?a.a.createElement(ur,{model:t,coordX:v}):null,a.a.createElement("div",{"data-testid":"rubberBand_controls",className:C.rubberBandControl,role:"presentation",ref:y,onMouseDown:S,onMouseOut:T,onMouseMove:j},o));var M=p?p.offsetX:s||0,I=M<l?M:l,A=Math.abs(M-l),F=t.pxToBp(I),N=t.pxToBp(I+A),_=Math.ceil(A*t.bpPerPx);return a.a.createElement(a.a.Fragment,null,w.current?a.a.createElement(a.a.Fragment,null,a.a.createElement(L.a,{className:C.popover,classes:{paper:C.paper},open:!0,anchorEl:w.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(O.a,null,Object(h.stringify)(F))),a.a.createElement(L.a,{className:C.popover,classes:{paper:C.paper},open:!0,anchorEl:w.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(O.a,null,Object(h.stringify)(N)))):null,a.a.createElement("div",{ref:w,className:C.rubberBand,style:{left:I,width:A}},a.a.createElement(O.a,{variant:"h6",className:C.rubberBandText},_.toLocaleString("en-US")," bp")),a.a.createElement("div",{"data-testid":"rubberBand_controls",className:C.rubberBandControl,role:"presentation",ref:y,onMouseDown:S,onMouseOut:T,onMouseMove:j},o),p?a.a.createElement(ne.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:p.clientX,top:p.clientY},onMenuItemClick:function(e,t){t(),P()},open:R,onClose:P,menuItems:t.rubberBandMenuItems()}):null)}sr.propTypes={model:re.PropTypes.objectOrObservableObject.isRequired,ControlComponent:Fe.a.node},sr.defaultProps={ControlComponent:a.a.createElement("div",null)};var dr=Object(re.observer)(sr),fr=["model","style","className"],pr=Object(T.a)((function(e){return{scaleBarContainer:{overflow:"hidden",position:"relative"},scaleBarZoomContainer:{position:"relative",zIndex:1},scaleBar:{position:"absolute",display:"flex",pointerEvents:"none"},majorTickLabel:{fontSize:"11px",zIndex:1,background:e.palette.background.paper,lineHeight:"normal",pointerEvents:"none"},tick:{position:"absolute",width:0,display:"flex",justifyContent:"center",pointerEvents:"none"},refLabel:{fontSize:"11px",position:"absolute",left:"2px",top:"-1px",fontWeight:"bold",lineHeight:"normal",zIndex:1,pointerEvents:"none",background:e.palette.background.paper}}})),mr=Object(re.observer)((function(e){var t=e.model,n=pr(),r=0;return t.staticBlocks.forEach((function(e,n){e.offsetPx-t.offsetPx<0&&(r=n)})),a.a.createElement(a.a.Fragment,null,t.staticBlocks.map((function(e,o){return e instanceof oe.ContentBlock&&(e.isLeftEndOfDisplayedRegion||o===r)?a.a.createElement(O.a,{key:"refLabel-".concat(e.key,"-").concat(o),style:{left:o===r?Math.max(0,-t.offsetPx):e.offsetPx-t.offsetPx-1,paddingLeft:o===r?0:1},className:n.refLabel,"data-testid":"refLabel-".concat(e.refName)},e.refName):null})))})),hr=Object(re.observer)((function(e){var t=e.model,n=pr();return a.a.createElement(a.a.Fragment,null,t.staticBlocks.map((function(e,r){if(e instanceof oe.ContentBlock){var o=pn(e.start,e.end,t.bpPerPx,!0,!1);return a.a.createElement(Ht,{key:"".concat(e.key,"-").concat(r),block:e},o.map((function(r){if("major"===r.type){var o=(e.reversed?e.end-r.base:r.base-e.start)/t.bpPerPx,i=(r.base+1).toLocaleString("en-US");return a.a.createElement("div",{key:r.base,className:n.tick,style:{left:o}},i?a.a.createElement(O.a,{className:n.majorTickLabel},i):null)}return null})))}return e instanceof oe.ElidedBlock?a.a.createElement(Vt,{key:e.key,width:e.widthPx}):e instanceof oe.InterRegionPaddingBlock?a.a.createElement(Wt,{key:e.key,width:e.widthPx,style:{background:"none"},boundary:"boundary"===e.variant}):null})))})),gr=a.a.forwardRef((function(e,t){var n=e.model,r=e.style,o=e.className,i=Pt(e,fr),l=pr(),c=n.staticBlocks.offsetPx-n.offsetPx;return a.a.createElement(X.a,Object.assign({"data-resizer":"true",className:Object(Ne.default)(l.scaleBarContainer,o),variant:"outlined",ref:t,style:r},i),a.a.createElement("div",{className:l.scaleBarZoomContainer,style:{transform:1!==n.scaleFactor?"scaleX(".concat(n.scaleFactor,")"):void 0}},a.a.createElement("div",{className:l.scaleBar,style:wt({left:c-1,width:n.staticBlocks.totalWidthPx},r)},a.a.createElement(hr,{model:n}))),a.a.createElement(mr,{model:n}))})),vr=Object(re.observer)(gr),br=Object(T.a)((function(e){return{verticalGuidesZoomContainer:{position:"absolute",height:"100%",width:"100%",zIndex:1,pointerEvents:"none"},verticalGuidesContainer:{position:"absolute",height:"100%",zIndex:1,pointerEvents:"none",display:"flex"},tick:{position:"absolute",height:"100%",width:1},majorTick:{background:e.palette.text.hint},minorTick:{background:e.palette.divider}}})),yr=Object(re.observer)((function(e){var t=e.model,n=br();return a.a.createElement(a.a.Fragment,null,t.staticBlocks.map((function(e,r){if(e instanceof oe.ContentBlock){var o=pn(e.start,e.end,t.bpPerPx);return a.a.createElement(Ht,{key:"".concat(e.key,"-").concat(r),block:e},o.map((function(r){var o=(e.reversed?e.end-r.base:r.base-e.start)/t.bpPerPx;return a.a.createElement("div",{key:r.base,className:Object(Ne.default)(n.tick,"major"===r.type||"labeledMajor"===r.type?n.majorTick:n.minorTick),style:{left:o}})})))}return e instanceof oe.ElidedBlock?a.a.createElement(Vt,{key:e.key,width:e.widthPx}):e instanceof oe.InterRegionPaddingBlock?a.a.createElement(Wt,{key:e.key,width:e.widthPx,boundary:"boundary"===e.variant}):null})))}));function wr(e){var t=e.model,n=br(),r=t.staticBlocks.offsetPx-t.offsetPx;return a.a.createElement("div",{className:n.verticalGuidesZoomContainer,style:{transform:1!==t.scaleFactor?"scaleX(".concat(t.scaleFactor,")"):void 0}},a.a.createElement("div",{className:n.verticalGuidesContainer,style:{left:r,width:t.staticBlocks.totalWidthPx}},a.a.createElement(yr,{model:t})))}var Cr=Object(re.observer)(wr),Er=Object(T.a)((function(){return{centerLineContainer:{background:"transparent",height:"100%",zIndex:5,position:"absolute",border:"1px black dashed",borderTop:"none",borderBottom:"none",pointerEvents:"none"},centerLineText:{position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",fontWeight:"bold"}}}));function Or(e){var t=e.model,n=t.bpPerPx,o=t.centerLineInfo,i=t.trackHeights,l=t.tracks,c=t.width,u=Object(r.useRef)(null),s=Er(),d=c/2;return l.length?a.a.createElement("div",{"data-testid":"centerline_container",className:s.centerLineContainer,role:"presentation",ref:u,style:{left:"".concat(d,"px"),width:Math.max(1/n,1)}},o&&a.a.createElement("div",{"data-testid":"centerline_text",className:s.centerLineText,role:"presentation",style:{left:Math.max(1/n,1)+5,top:i}},o.refName,":"," ",Math.max(Math.round(o.offset)+1,0))):null}Or.propTypes={model:re.PropTypes.objectOrObservableObject.isRequired};var kr=Object(re.observer)(Or),xr=Object(T.a)((function(e){return{tracksContainer:{position:"relative",borderRadius:e.shape.borderRadius,overflow:"hidden"},spacer:{position:"relative",height:qr}}}));function Sr(e){var t=e.children,n=e.model,o=xr(),i=Object(r.useRef)(0),l=Object(r.useRef)(!1),c=Object(r.useRef)(),u=Object(r.useRef)(null),s=Object(r.useRef)(0),d=It(Object(r.useState)(!1),2),f=d[0],p=d[1];return Object(r.useEffect)((function(){var e=function(){};function t(e){e.preventDefault();var t=e.clientX-s.current;t&&(l.current||(l.current=!0,window.requestAnimationFrame((function(){n.horizontalScroll(-t),l.current=!1,s.current=e.clientX}))))}function r(){s.current=0,f&&p(!1)}return f&&(window.addEventListener("mousemove",t,!0),window.addEventListener("mouseup",r,!0),e=function(){window.removeEventListener("mousemove",t,!0),window.removeEventListener("mouseup",r,!0)}),e}),[n,f,s]),Object(r.useEffect)((function(){var e=u.current;function t(e){var t=at()(e);!0===e.ctrlKey?(e.preventDefault(),i.current+=t.pixelY/500,n.setScaleFactor(i.current<0?1-i.current:1/(1+i.current)),c.current&&clearTimeout(c.current),c.current=setTimeout((function(){n.setScaleFactor(1),n.zoomTo(i.current>0?n.bpPerPx*(1+i.current):n.bpPerPx/(1-i.current)),i.current=0}),300)):(Math.abs(t.pixelX)>Math.abs(2*t.pixelY)&&e.preventDefault(),i.current+=t.pixelX,l.current||(l.current=!0,window.requestAnimationFrame((function(){n.horizontalScroll(i.current),i.current=0,l.current=!1}))))}return e?(e.addEventListener("wheel",t),function(){e.removeEventListener("wheel",t)}):function(){}}),[n]),a.a.createElement("div",{ref:u,role:"presentation",className:o.tracksContainer,onMouseDown:function(e){var t=e.target;t.draggable||t.dataset.resizer||0===e.button&&(s.current=e.clientX,p(!0))},onMouseUp:function(e){e.preventDefault(),p(!1)},onMouseLeave:function(e){e.preventDefault()}},a.a.createElement(Cr,{model:n}),n.showCenterLine?a.a.createElement(kr,{model:n}):null,a.a.createElement(dr,{model:n,ControlComponent:a.a.createElement(vr,{model:n,style:{height:Ur,boxSizing:"border-box"}})}),a.a.createElement("div",{className:o.spacer}),t)}var jr=Object(re.observer)(Sr),Tr=Object(r.lazy)((function(){return Promise.resolve().then((function(){return zr}))})),Pr=Object(T.a)((function(e){return{importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)}}})),Rr=Object(re.observer)((function(e){var t,n=e.model,o=Pr(),i=Object(h.getSession)(n),l=i.assemblyNames,c=i.assemblyManager,u=i.textSearchManager,s=n.rankSearchResults,d=n.isSearchDialogDisplayed,f=n.error,p=It(Object(r.useState)(l[0]),2),m=p[0],g=p[1],v=It(Object(r.useState)(f),2),b=v[0],y=v[1],w=n.searchScope(m),C=c.get(m),O=l.length?null==C?void 0:C.error:"No configured assemblies",k=(null==C?void 0:C.regions)||[],x=O||b,S=It(Object(r.useState)(),2),j=S[0],T=S[1],P=j||new De.a({label:null===(t=k[0])||void 0===t?void 0:t.refName}),R=null==P?void 0:P.getLocation();function M(e,t){return I.apply(this,arguments)}function I(){return(I=Ot(zt.mark((function e(t,n){var r,a,o;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u||console.warn("No text search manager"),e.next=3,null==u?void 0:u.search({queryString:t,searchType:n},w,s);case 3:return a=e.sent,o=null==C||null===(r=C.allRefNames)||void 0===r?void 0:r.filter((function(e){return e.startsWith(t)})).map((function(e){return new De.a({label:e})})).slice(0,10),e.abrupt("return",[].concat(Lt(o||[]),Lt(a||[])));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(){return(L=Ot(zt.mark((function e(t){var r,a,o,l;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:if(r=P.getTrackId(),a=t||P.getLocation()||"",e.prev=4,null==C||null===(o=C.allRefNames)||void 0===o||!o.includes(a)){e.next=9;break}n.navToLocString(a,m),e.next=20;break;case 9:return e.next=11,M(t,"exact");case 11:if(!((l=e.sent)&&l.length>1)){e.next=17;break}return n.setSearchResults(l,t.toLowerCase()),e.abrupt("return");case 17:1===(null==l?void 0:l.length)&&(a=l[0].getLocation(),r=l[0].getTrackId());case 18:n.navToLocString(a,m),r&&n.showTrack(r);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),console.error(e.t0),i.notify("".concat(e.t0),"warning");case 26:case"end":return e.stop()}}),e,null,[[4,22]])})))).apply(this,arguments)}return a.a.createElement("div",null,x?a.a.createElement(ut.a,{error:x}):null,a.a.createElement($.a,{className:o.importFormContainer},a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(K.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.a.createElement(K.a,{item:!0},a.a.createElement(lt.a,{onChange:function(e){y(void 0),g(e)},session:i,selected:m})),a.a.createElement(K.a,{item:!0},m?x?a.a.createElement(Ue.a,{style:{color:"red"}}):R?a.a.createElement(Vn,{fetchResults:M,model:n,assemblyName:O?void 0:m,value:R,minWidth:270,onSelect:function(e){return T(e)},TextFieldProps:{margin:"normal",variant:"outlined",helperText:"Enter sequence name, feature name, or location"}}):a.a.createElement(N.a,{role:"progressbar",size:20,disableShrink:!0}):null),a.a.createElement(K.a,{item:!0}),a.a.createElement(K.a,{item:!0},a.a.createElement(E.a,{type:"submit",disabled:!R,className:o.button,onClick:function(){n.setError(void 0),R&&function(e){L.apply(this,arguments)}(R)},variant:"contained",color:"primary"},"Open"),a.a.createElement(E.a,{disabled:!R,className:o.button,onClick:function(){n.setError(void 0),n.showAllRegionsInAssembly(m)},variant:"contained",color:"secondary"},"Show all regions in assembly"))))),d?a.a.createElement(Tr,{model:n,optAssemblyName:m,handleClose:function(){return n.setSearchResults(void 0,void 0)}}):null)})),Mr=Object(re.observer)((function(e){var t=e.model,n=t.bpPerPx,o=t.maxBpPerPx,i=t.minBpPerPx,l=t.scaleFactor,c=It(Object(r.useState)(),2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(X.a,{style:{background:"#aaa7"}},a.a.createElement(D.a,{color:"secondary",onClick:function(e){s(e.currentTarget)}},a.a.createElement(dt.a,null)),a.a.createElement(D.a,{"data-testid":"zoom_out",onClick:function(){t.zoom(2*n)},disabled:n>=o-1e-4||1!==l,color:"secondary"},a.a.createElement(Ze.a,null)),a.a.createElement(D.a,{"data-testid":"zoom_in",onClick:function(){t.zoom(t.bpPerPx/2)},disabled:n<=i+1e-4||1!==l,color:"secondary"},a.a.createElement(Ie.a,null))),a.a.createElement(pt.a,{anchorEl:u,open:Boolean(u),onMenuItemClick:function(e,t){t(),s(void 0)},onClose:function(){s(void 0)},menuItems:t.menuItems()}))})),Ir=Object(T.a)((function(e){return{loadingMessage:{padding:e.spacing(5)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}}}));function Lr(e,t,n){return Ar.apply(this,arguments)}function Ar(){return(Ar=Ot(zt.mark((function e(t,n,r){var a,i,l,c,u,s,d,f,p;return zt.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(h.getSession)(t),i=t.leftOffset,l=t.rightOffset,i&&l){e.next=4;break}throw new Error("no offsets on model to use for range");case 4:if(i.assemblyName===l.assemblyName){e.next=6;break}throw new Error("not able to fetch sequences from multiple assemblies");case 6:if(c=a.rpcManager,u=a.assemblyManager,s=i.assemblyName||l.assemblyName||"",d=u.get(s)){e.next=11;break}throw new Error("assembly ".concat(s," not found"));case 11:return f=Object(o.getConf)(d,["sequence","adapter"]),"getSequence",e.next=15,Promise.all(n.map((function(e){return c.call("getSequence","CoreGetFeatures",{adapterConfig:f,region:e,sessionId:"getSequence",signal:r})})));case 15:return p=e.sent,e.abrupt("return",p.map((function(e){return e[0]})));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fr(e){var t=e.model,n=e.handleClose,o=Ir(),i=Object(h.getSession)(t),l=It(Object(r.useState)(),2),c=l[0],u=l[1],s=It(Object(r.useState)(),2),d=s[0],f=s[1],p=Boolean(void 0===d),m=t.leftOffset,g=t.rightOffset,v=Object(r.useMemo)((function(){return t.getSelectedRegions(m,g)}),[t,m,g]);Object(r.useEffect)((function(){var e=!0,n=new AbortController;return Ot(zt.mark((function r(){var a;return zt.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(v.length>0)){r.next=8;break}return r.next=4,Lr(t,v,n.signal);case 4:a=r.sent,e&&f(Object(gt.formatSeqFasta)(a.filter((function(e){return!!e})).map((function(e){var t=e.get("seq"),n=e.get("refName"),r=e.get("start")+1,a=e.get("end"),o="".concat(n,":").concat(r,"-").concat(a);if((null==t?void 0:t.length)!==a-r+1)throw new Error("".concat(o," returned ").concat(t.length.toLocaleString()," bases, but should have returned ").concat((a-r).toLocaleString()));return{header:o,seq:t}})))),r.next=9;break;case 8:throw new Error("Selected region is out of bounds");case 9:r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0),e&&u(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))(),function(){n.abort(),e=!1}}),[t,i,v,f]);var b=!!d&&d.length>1e6;return a.a.createElement(z.a,{"data-testid":"sequence-dialog",maxWidth:"xl",open:!0,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(B.a,{id:"alert-dialog-title"},"Reference sequence",n?a.a.createElement(D.a,{"data-testid":"close-seqDialog",className:o.closeButton,onClick:function(){n(),t.setOffsets(void 0,void 0)}},a.a.createElement(Ue.a,null)):null),a.a.createElement(U.a,null),a.a.createElement(H.a,null,c?a.a.createElement(O.a,{color:"error"},"".concat(c)):null,p&&!c?a.a.createElement($.a,null,"Retrieving reference sequence...",a.a.createElement(N.a,{style:{marginLeft:10},size:20,disableShrink:!0})):null,a.a.createElement(F.a,{"data-testid":"rubberband-sequence",variant:"outlined",multiline:!0,rows:5,disabled:b,className:o.dialogContent,fullWidth:!0,value:b?"Reference sequence too large to display, use the download FASTA button":d,InputProps:{readOnly:!0,classes:{input:o.textAreaFont}}})),a.a.createElement(G.a,null,a.a.createElement(E.a,{onClick:function(){ht()(d||""),i.notify("Copied to clipboard","success")},disabled:p||!!c||b,color:"primary",startIcon:a.a.createElement(we.ContentCopy,null)},"Copy to clipboard"),a.a.createElement(E.a,{onClick:function(){var e=new Blob([d||""],{type:"text/x-fasta;charset=utf-8"});Object(ye.saveAs)(e,"jbrowse_ref_seq.fa")},disabled:p||!!c,color:"primary",startIcon:a.a.createElement(bt.a,null)},"Download FASTA"),a.a.createElement(E.a,{onClick:n,color:"primary",autoFocus:!0},"Close")))}var Nr=Object(re.observer)(Fr),_r=Object(T.a)((function(e){return{dialogContent:{width:"80em"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Dr(e){var t,n,r=e.model,o=e.optAssemblyName,i=e.handleClose,l=_r(),c=Object(h.getSession)(r),u=Object(j.getEnv)(c).pluginManager,s=c.assemblyManager,d=o;r.displayedRegions.length>0&&(d=null===(n=r.displayedRegions[0])||void 0===n?void 0:n.assemblyName);if(!d)throw new Error("Assembly name not found");var f=s.get(d);if(!f)throw new Error("assembly ".concat(d," not found"));if(!f.regions)throw new Error("assembly ".concat(d," regions not loaded"));var p=f.regions;function m(e){if(e){var t,n=u.pluggableConfigSchemaType("track"),a=Object(j.resolveIdentifier)(n,Object(j.getRoot)(r),e);if(a)return null===(t=a.name)||void 0===t?void 0:t.value}return""}return a.a.createElement(z.a,{open:!0,maxWidth:"xl",onClose:i},a.a.createElement(B.a,null,"Search results",i?a.a.createElement(D.a,{"data-testid":"close-resultsDialog",className:l.closeButton,onClick:function(){i()}},a.a.createElement(Ue.a,null)):null),a.a.createElement(U.a,null),a.a.createElement(H.a,null,null!==(t=r.searchResults)&&void 0!==t&&t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,null,"Showing results for ",a.a.createElement("b",null,r.searchQuery)),a.a.createElement(J.a,{component:X.a},a.a.createElement(Y.a,null,a.a.createElement(Z.a,null,a.a.createElement(Q.a,null,a.a.createElement(ee.a,null,"Name"),a.a.createElement(ee.a,{align:"right"},"Location"),a.a.createElement(ee.a,{align:"right"},"Track"),a.a.createElement(ee.a,{align:"right"}))),a.a.createElement(te.a,null,r.searchResults.map((function(e){return a.a.createElement(Q.a,{key:"".concat(e.getId())},a.a.createElement(ee.a,{component:"th",scope:"row"},e.getLabel()),a.a.createElement(ee.a,{align:"right"},e.getLocation()),a.a.createElement(ee.a,{align:"right"},m(e.getTrackId())||"N/A"),a.a.createElement(ee.a,{align:"right"},a.a.createElement(E.a,{onClick:function(){!function(e){try{var t=p.find((function(t){return e===t.refName}));t?(r.setDisplayedRegions([t]),r.showAllRegions()):r.navToLocString(e,d)}catch(e){console.warn(e),c.notify("".concat(e),"warning")}}(e.getLocation());var t=e.getTrackId();t&&r.showTrack(t),i()},disabled:!m(e.getTrackId()),color:"primary",variant:"contained"},"Go")))})))))):a.a.createElement(O.a,null,"No results found for ",a.a.createElement("b",null,r.searchQuery))),a.a.createElement(U.a,null),a.a.createElement(G.a,null,a.a.createElement(E.a,{onClick:function(){return i()},color:"primary"},"Cancel")))}var zr={__proto__:null,useStyles:_r,default:Dr},Br=Object(T.a)((function(e){return{note:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},dots:{"&::after":{display:"inline-block",animation:"$ellipsis 1.5s infinite",content:'"."',width:"1em",textAlign:"left"}},"@keyframes ellipsis":{"0%":{content:'"."'},"33%":{content:'".."'},"66%":{content:'"..."'}}}})),Hr={__proto__:null,default:Object(re.observer)((function(e){var t=e.model,n=t.tracks,r=t.error,o=t.hideHeader,i=t.initialized,l=t.hasDisplayedRegions,c=Br();return i||r?!l||r?a.a.createElement(Rr,{model:t}):a.a.createElement("div",{style:{position:"relative"}},t.seqDialogDisplayed?a.a.createElement(Nr,{model:t,handleClose:function(){t.setSequenceDialogOpen(!1)}}):null,t.isSearchDialogDisplayed?a.a.createElement(Dr,{model:t,handleClose:function(){t.setSearchResults(void 0,void 0)}}):null,o?a.a.createElement("div",{style:{position:"absolute",right:0,zIndex:1001}},a.a.createElement(Mr,{model:t})):a.a.createElement(tr,{model:t}),a.a.createElement(jr,{model:t},n.length?n.map((function(e){return a.a.createElement(lr,{key:e.id,model:t,track:e})})):a.a.createElement(X.a,{variant:"outlined",className:c.note},a.a.createElement(O.a,null,"No tracks active."),a.a.createElement(E.a,{variant:"contained",color:"primary",onClick:t.activateTrackSelector,style:{zIndex:1e3},startIcon:a.a.createElement(we.TrackSelector,null)},"Open track selector")))):a.a.createElement(O.a,{className:c.dots,variant:"h5"},"Loading")}))};function Vr(e){if(!e.length)return"";var t=e.every((function(t){return t.assemblyName===e[0].assemblyName}));return e.map((function(e){return Object(h.assembleLocString)(wt(wt({},e),{},{start:Math.round(e.start),end:Math.round(e.end),assemblyName:t?void 0:e.assemblyName}))})).join(";")}var Wr=48,Gr=20,Ur=17,qr=3;function $r(e){return j.types.compose(i.BaseViewModel,j.types.model("LinearGenomeView",{id:ie.ElementId,type:j.types.literal("LinearGenomeView"),offsetPx:0,bpPerPx:1,displayedRegions:j.types.array(ie.Region),tracks:j.types.array(e.pluggableMstType("track","stateModel")),hideHeader:!1,hideHeaderOverview:!1,trackSelectorType:j.types.optional(j.types.enumeration(["hierarchical"]),"hierarchical"),trackLabels:"overlapping",showCenterLine:!1,showCytobandsSetting:!0})).volatile((function(){return{volatileWidth:void 0,minimumBlockWidth:3,draggingTrackId:void 0,volatileError:void 0,afterDisplayedRegionsSetCallbacks:[],scaleFactor:1,trackRefs:{},coarseDynamicBlocks:[],coarseTotalBp:0,leftOffset:void 0,rightOffset:void 0,searchResults:void 0,searchQuery:void 0,seqDialogDisplayed:!1}})).views((function(e){return{get width(){if(void 0===e.volatileWidth)throw new Error("width undefined, make sure to check for model.initialized");return e.volatileWidth},get interRegionPaddingWidth(){return 2}}})).views((function(e){return{get assemblyErrors(){var t=Object(h.getSession)(e).assemblyManager;return this.assemblyNames.map((function(e){var n;return null===(n=t.get(e))||void 0===n?void 0:n.error})).filter((function(e){return!!e})).join(", ")},get assembliesInitialized(){var t=Object(h.getSession)(e).assemblyManager;return this.assemblyNames.every((function(e){var n;return null===(n=t.get(e))||void 0===n?void 0:n.initialized}))},get initialized(){return void 0!==e.volatileWidth&&this.assembliesInitialized},get hasDisplayedRegions(){return e.displayedRegions.length>0},get isSearchDialogDisplayed(){return void 0!==e.searchResults},get scaleBarHeight(){return Ur+qr},get headerHeight(){return e.hideHeader?0:e.hideHeaderOverview?Wr:Wr+Gr},get trackHeights(){return e.tracks.map((function(e){return e.displays[0].height})).reduce((function(e,t){return e+t}),0)},get trackHeightsWithResizeHandles(){return this.trackHeights+e.tracks.length*qr},get height(){return this.trackHeightsWithResizeHandles+this.headerHeight+this.scaleBarHeight},get totalBp(){var t=0;return e.displayedRegions.forEach((function(e){t+=e.end-e.start})),t},get maxBpPerPx(){return this.totalBp/(.9*e.width)},get minBpPerPx(){return.02},get error(){return e.volatileError||this.assemblyErrors},get maxOffset(){return this.displayedRegionsTotalPx-10},get minOffset(){return 30-e.width},get displayedRegionsTotalPx(){return this.totalBp/e.bpPerPx},renderProps:function(){return wt(wt({},Object(C.getParentRenderProps)(e)),{},{bpPerPx:e.bpPerPx,highResolutionScaling:Object(o.getConf)(Object(h.getSession)(e),"highResolutionScaling")})},get assemblyNames(){return Lt(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))))},searchScope:function(t){return{assemblyName:t,includeAggregateIndexes:!0,tracks:e.tracks}},bpToPx:function(t){var n=t.refName,r=t.coord,a=t.regionNumber,o=0,i=e.interRegionPaddingWidth*e.bpPerPx,l=e.minimumBlockWidth*e.bpPerPx,c=e.displayedRegions.findIndex((function(t,c){var u=t.end-t.start;return n===t.refName&&r>=t.start&&r<=t.end&&(!a||a===c)?(o+=t.reversed?t.end-r:r-t.start,!0):(u>l&&o/e.bpPerPx>=0&&o/e.bpPerPx<e.width?o+=u+i:o+=u,!1)}));if(e.displayedRegions[c])return{index:c,offsetPx:Math.round(o/e.bpPerPx)}},pxToBp:function(t){var n=0,r=(e.offsetPx+t)*e.bpPerPx,a=e.displayedRegions.length;if(r<0){var o=e.displayedRegions[0],i=r;return wt(wt({},Object(j.getSnapshot)(o)),{},{oob:!0,coord:o.reversed?Math.floor(o.end-i)+1:Math.floor(o.start+i)+1,offset:i,index:0})}for(var l=e.interRegionPaddingWidth*e.bpPerPx,c=e.minimumBlockWidth*e.bpPerPx,u=0;u<e.displayedRegions.length;u+=1){var s=e.displayedRegions[u],d=s.end-s.start,f=r-n;if(d+n>r&&n<=r)return wt(wt({},Object(j.getSnapshot)(s)),{},{oob:!1,offset:f,coord:s.reversed?Math.floor(s.end-f)+1:Math.floor(s.start+f)+1,index:u});s.end-s.start>c&&f/e.bpPerPx>0&&f/e.bpPerPx<e.width?n+=d+l:n+=d}if(r>=n){var p=e.displayedRegions[a-1],m=r-n+(p.end-p.start);return wt(wt({},Object(j.getSnapshot)(p)),{},{oob:!0,offset:m,coord:p.reversed?Math.floor(p.end-m)+1:Math.floor(p.start+m)+1,index:a-1})}return{coord:0,index:0,refName:"",oob:!0,assemblyName:"",offset:0,start:0,end:0,reversed:!1}},getTrack:function(t){return e.tracks.find((function(e){return e.configuration.trackId===t}))},rankSearchResults:function(t){var n=e.tracks.map((function(e){return e.configuration.trackId}));return t.forEach((function(e){n!==[]&&n.includes(e.trackId)&&e.updateScore(e.getScore()+1)})),t},rewriteOnClicks:function(t,n){var r=this;n.forEach((function(n){if("subMenu"in n&&r.rewriteOnClicks(t,n.subMenu),"onClick"in n){var a=n.onClick;n.onClick=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.tracks.forEach((function(e){e.type===t&&a.apply(e,[e].concat(r))}))}}}))},get trackTypeActions(){var t=this,n=new Map;return e.tracks.forEach((function(e){if(!n.get(e.type)){var r=be()(e.viewMenuActions);t.rewriteOnClicks(e.type,r),n.set(e.type,r)}})),n},get centerLineInfo(){return e.displayedRegions.length?this.pxToBp(e.width/2):void 0}}})).actions((function(t){return{setShowCytobands:function(e){t.showCytobandsSetting=e},setWidth:function(e){t.volatileWidth=e},setError:function(e){t.volatileError=e},toggleHeader:function(){t.hideHeader=!t.hideHeader},toggleHeaderOverview:function(){t.hideHeaderOverview=!t.hideHeaderOverview},scrollTo:function(e){var n=Object(h.clamp)(e,t.minOffset,t.maxOffset);return t.offsetPx=n,n},zoomTo:function(e){var n=Object(h.clamp)(e,t.minBpPerPx,t.maxBpPerPx);if(n===t.bpPerPx)return n;var r=t.bpPerPx;if(t.bpPerPx=n,Math.abs(r-n)<1e-6)return console.warn("zoomTo bpPerPx rounding error"),r;var a=t.width;return this.scrollTo(Math.round((t.offsetPx+a/2)*r/n-a/2)),n},setOffsets:function(e,n){t.leftOffset=e,t.rightOffset=n},setSearchResults:function(e,n){t.searchResults=e,t.searchQuery=n},setSequenceDialogOpen:function(e){t.seqDialogDisplayed=e},setNewView:function(e,t){this.zoomTo(e),this.scrollTo(t)},horizontallyFlip:function(){t.displayedRegions=Object(j.cast)(t.displayedRegions.slice().reverse().map((function(e){return wt(wt({},e),{},{reversed:!e.reversed})}))),this.scrollTo(t.totalBp/t.bpPerPx-t.offsetPx-t.width)},showTrack:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.pluggableConfigSchemaType("track"),i=Object(j.resolveIdentifier)(o,Object(j.getRoot)(t),n);if(!i)throw new Error("Could not resolve identifier");var l=e.getTrackType(null==i?void 0:i.type);if(!l)throw new Error("unknown track type ".concat(i.type));var c=e.getViewType(t.type),u=c.displayTypes.map((function(e){return e.name})),s=i.displays.find((function(e){return u.includes(e.type)}));if(!s)throw new Error("could not find a compatible display for view type ".concat(t.type));var d=t.tracks.filter((function(e){return e.configuration===i}));if(0===d.length){var f=l.stateModel.create(wt(wt({},r),{},{type:i.type,configuration:i,displays:[wt({type:s.type,configuration:s},a)]}));return t.tracks.push(f),f}return d[0]},hideTrack:function(n){var r=e.pluggableConfigSchemaType("track"),a=Object(j.resolveIdentifier)(r,Object(j.getRoot)(t),n),o=t.tracks.filter((function(e){return e.configuration===a}));return Object(S.transaction)((function(){return o.forEach((function(e){return t.tracks.remove(e)}))})),o.length}}})).actions((function(e){return{moveTrack:function(t,n){var r=e.tracks.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("Track ID ".concat(t," not found"));var a=e.tracks.findIndex((function(e){return e.id===n}));if(-1===a)throw new Error("Track ID ".concat(n," not found"));var o=Object(j.getSnapshot)(e.tracks[r]);e.tracks.splice(r,1),e.tracks.splice(a,0,o)},closeView:function(){var t=Object(h.getContainingView)(e);t?Object(h.isViewContainer)(t)&&t.removeView(e):Object(h.getSession)(e).removeView(e)},toggleTrack:function(t){e.hideTrack(t)||e.showTrack(t)},setTrackLabels:function(t){e.trackLabels=t},toggleCenterLine:function(){e.showCenterLine=!e.showCenterLine},setDisplayedRegions:function(t){e.displayedRegions=Object(j.cast)(t),e.zoomTo(e.bpPerPx)},activateTrackSelector:function(){if("hierarchical"===e.trackSelectorType){var t=Object(h.getSession)(e);if(Object(h.isSessionModelWithWidgets)(t)){var n=t.addWidget("HierarchicalTrackSelectorWidget","hierarchicalTrackSelector",{view:e});return t.showWidget(n),n}}throw new Error("invalid track selector type ".concat(e.trackSelectorType))},navToLocString:function(t,n){var r=Object(h.getSession)(e).assemblyManager,a=r.isValidRefName,o=t.split(";");if(e.displayedRegions.length>1){var i=o.map((function(e){return Object(h.parseLocString)(e,a)}));this.navToMultiple(i)}else{var l=n,c="";0!==e.displayedRegions.length&&(l=e.displayedRegions[0].assemblyName,c=e.displayedRegions[0].refName);var u=l&&r.get(l);if(!u)throw new Error("Could not find assembly ".concat(l));var s=u.regions;if(!s)throw new Error("Regions for assembly ".concat(l," not yet loaded"));if(o.length>1)throw new Error("Navigating to multiple locations is not allowed when viewing a whole chromosome");var d=Object(h.parseLocString)(o[0],(function(e){return a(e,l)})),f=!1;if(d.assemblyName&&d.assemblyName!==l){var p=r.get(d.assemblyName);if(!p)throw new Error("Could not find assembly ".concat(d.assemblyName));u=p,f=!0;var m=p.regions;if(!m)throw new Error("Regions for assembly ".concat(d.assemblyName," not yet loaded"));s=m}var g=u.getCanonicalRefName(d.refName);if(!g)throw new Error("Could not find refName ".concat(d.refName," in ").concat(u.name));if(f||g!==c){var v=s.find((function(e){return e.refName===g}));if(!v)throw new Error("Could not find refName ".concat(d.refName," in ").concat(u.name));this.setDisplayedRegions([v])}var b=s.find((function(e){return e.refName===g}));if(b){var y,w,C=Object(h.clamp)(null!==(y=null==d?void 0:d.start)&&void 0!==y?y:0,0,b.end),E=Object(h.clamp)(null!==(w=null==d?void 0:d.end)&&void 0!==w?w:b.end,0,b.end);this.navTo(wt(wt({},d),{},{start:C,end:E}))}}},navTo:function(e){this.navToMultiple([e])},navToMultiple:function(t){var n=t[0],r=n.refName,a=n.start,o=n.end,i=n.assemblyName,l=void 0===i?e.assemblyNames[0]:i;if(void 0!==a&&void 0!==o&&a>o)throw new Error('start "'.concat(a+1,'" is greater than end "').concat(o,'"'));var c=Object(h.getSession)(e).assemblyManager.get(l);if(c){var u=c.getCanonicalRefName(r);u&&(r=u)}for(var s,d=a,f=o,p=!1,m=function(e){if(r===e.refName){if(p=!0,void 0===d&&(d=e.start),void 0===f&&(f=e.end),d>=e.start&&d<=e.end&&f<=e.end&&f>=e.start)return!0;d=a,f=o}return!1},g=Object(h.findLastIndex)(e.displayedRegions,m);s!==g;)try{var v=s;if(s=e.displayedRegions.slice(void 0===v?0:v+1).findIndex(m),void 0!==v&&(s+=v+1),!p)throw new Error('could not find a region with refName "'.concat(r,'"'));if(void 0===d)throw new Error('could not find a region with refName "'.concat(r,'" that contained an end position ').concat(f));if(void 0===f)throw new Error('could not find a region with refName "'.concat(r,'" that contained a start position ').concat(d+1));if(-1===s)throw new Error('could not find a region that completely contained "'.concat(Object(h.assembleLocString)(n),'"'));if(1===t.length){var b=e.displayedRegions[s];return void this.moveTo({index:s,offset:b.reversed?b.end-f:d-b.start},{index:s,offset:b.reversed?b.end-d:f-b.start})}for(var y=0,w=0,C=0;y<t.length;y++){var E=t[y],O=e.displayedRegions[s+y];if(w=E.start||O.start,C=E.end||O.end,E.refName!==O.refName)throw new Error("Entered location ".concat(Object(h.assembleLocString)(E)," does not match with displayed regions"));if(y>0)if(!(O.reversed?C===O.end:w===O.start))throw new Error("".concat(O.reversed?"End":"Start"," of region ").concat(Object(h.assembleLocString)(E)," should be ").concat((O.reversed?O.end:O.start+1).toLocaleString("en-US"),", but it is not"));if(!(y===t.length-1))if(!(O.reversed?w===O.start:C===O.end))throw new Error("".concat(O.reversed?"Start":"End"," of region ").concat(Object(h.assembleLocString)(E)," should be ").concat((O.reversed?O.start+1:O.end).toLocaleString("en-US"),", but it is not"))}y-=1;var k=e.displayedRegions[s],x=e.displayedRegions[s+y];return void this.moveTo({index:s,offset:k.reversed?k.end-f:d-k.start},{index:s+y,offset:x.reversed?x.end-w:C-x.start})}catch(e){if(s===g)throw e}},zoomToDisplayedRegions:function(t,n){if(void 0!==t&&void 0!==n){if(t.refName===n.refName&&t.index===n.index&&n.offset<t.offset||t.index>n.index){var r=[n,t];t=r[0],n=r[1]}var a={start:t.start,end:t.end,index:t.index,offset:t.offset},o={start:n.start,end:n.end,index:n.index,offset:n.offset};if(a&&o)this.moveTo(a,o);else Object(h.getSession)(e).notify("No regions found to navigate to","warning")}},getSelectedRegions:function(t,n){var r=ge.a.create(wt(wt({},Object(j.getSnapshot)(e)),{},{interRegionPaddingWidth:e.interRegionPaddingWidth}));return r.setVolatileWidth(e.width),r.zoomToDisplayedRegions(t,n),r.dynamicBlocks.contentBlocks.map((function(e){return wt(wt({},e),{},{start:Math.floor(e.start),end:Math.ceil(e.end)})}))},afterDisplayedRegionsSet:function(t){e.afterDisplayedRegionsSetCallbacks.push(t)},moveTo:function(t,n){var r=0;if(t.index===n.index)r+=n.offset-t.offset;else{var a=e.displayedRegions[t.index];if(r+=a.end-a.start-t.offset,n.index-t.index>=2)for(var o=t.index+1;o<n.index;o+=1)r+=e.displayedRegions[o].end-e.displayedRegions[o].start;r+=n.offset}var i=r/(e.width-e.interRegionPaddingWidth*(n.index-t.index)),l=e.zoomTo(i),c=0;i<l&&(c=(l-i)*e.width/2);for(var u=-c,s=0;s<e.displayedRegions.length;s+=1){var d=e.displayedRegions[s];if(t.index===s){u+=t.offset;break}u+=d.end-d.start}e.scrollTo(Math.round(u/e.bpPerPx)+e.interRegionPaddingWidth*t.index)},horizontalScroll:function(t){var n=e.offsetPx;return e.scrollTo(e.offsetPx+t)-n},centerAt:function(t,n,r){var a=e.bpToPx({refName:n,coord:t,regionNumber:r});a&&e.scrollTo(Math.round(a.offsetPx-e.width/2))},center:function(){var t=e.totalBp/2;e.scrollTo(Math.round(t/e.bpPerPx-e.width/2))},showAllRegions:function(){e.zoomTo(e.maxBpPerPx),this.center()},showAllRegionsInAssembly:function(t){var n=Object(h.getSession)(e),r=n.assemblyManager;if(!t){var a=Lt(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))));if(a.length>1)return void n.notify("Can't perform this with multiple assemblies currently");t=It(a,1)[0]}var o=r.get(t);if(o){var i=o.regions;i&&(this.setDisplayedRegions(i),e.zoomTo(e.maxBpPerPx),this.center())}},setDraggingTrackId:function(t){e.draggingTrackId=t},setScaleFactor:function(t){e.scaleFactor=t}}})).actions((function(e){var t=function(){};return{slide:function(n){var r=It(Object(h.springAnimate)(e.offsetPx,e.offsetPx+e.width*n,e.scrollTo),2),a=r[0],o=r[1];t(),t=o,a()}}})).actions((function(e){var t=function(){};return{zoom:function(n){if(e.zoomTo(e.bpPerPx),!(n<e.bpPerPx&&e.bpPerPx===e.minBpPerPx||n>e.bpPerPx&&e.bpPerPx===e.maxBpPerPx)){var r=e.bpPerPx/n,a=It(Object(h.springAnimate)(1,r,e.setScaleFactor,(function(){e.zoomTo(n),e.setScaleFactor(1)})),2),o=a[0],i=a[1];t(),t=i,o()}}}})).views((function(e){return{get canShowCytobands(){return 1===e.displayedRegions.length&&this.anyCytobandsExist},get showCytobands(){return this.canShowCytobands&&e.showCytobandsSetting},get anyCytobandsExist(){var t=Object(h.getSession)(e).assemblyManager;return e.assemblyNames.some((function(e){var n,r;return null===(n=t.get(e))||void 0===n||null===(r=n.cytobands)||void 0===r?void 0:r.length}))},get cytobandOffset(){return this.showCytobands?Object(h.measureText)(e.displayedRegions[0].refName,12)+15:0}}})).views((function(e){var t,n="";return{menuItems:function(){var t,n=e.canShowCytobands,r=e.showCytobands,a=[{label:"Return to import form",onClick:function(){Object(h.getSession)(e).queueDialog((function(t){return[$n,{model:e,handleClose:t}]}))},icon:Te.a},{label:"Export SVG",icon:Re.a,onClick:function(){Object(h.getSession)(e).queueDialog((function(t){return[Gn,{model:e,handleClose:t}]}))}},{label:"Open track selector",onClick:e.activateTrackSelector,icon:we.TrackSelector},{label:"Horizontally flip",icon:Ee.a,onClick:e.horizontallyFlip},{type:"divider"},{label:"Show all regions in assembly",icon:ke.a,onClick:e.showAllRegionsInAssembly},{label:"Show center line",icon:ke.a,type:"checkbox",checked:e.showCenterLine,onClick:e.toggleCenterLine},{label:"Show header",icon:ke.a,type:"checkbox",checked:!e.hideHeader,onClick:e.toggleHeader},{label:"Show header overview",icon:ke.a,type:"checkbox",checked:!e.hideHeaderOverview,onClick:e.toggleHeaderOverview,disabled:e.hideHeader},{label:"Track labels",icon:Se.a,subMenu:[{label:"Overlapping",icon:ke.a,type:"radio",checked:"overlapping"===e.trackLabels,onClick:function(){return e.setTrackLabels("overlapping")}},{label:"Offset",icon:ke.a,type:"radio",checked:"offset"===e.trackLabels,onClick:function(){return e.setTrackLabels("offset")}},{label:"Hidden",icon:ke.a,type:"radio",checked:"hidden"===e.trackLabels,onClick:function(){return e.setTrackLabels("hidden")}}]}].concat(Lt(n?[{label:r?"Hide ideogram":"Show ideograms",onClick:function(){e.setShowCytobands(!r)}}]:[])),o=Nt(e.trackTypeActions.entries());try{for(o.s();!(t=o.n()).done;){var i=It(t.value,2),l=i[0],c=i[1];c.length&&(a.push({type:"divider"},{type:"subHeader",label:l}),c.forEach((function(e){a.push(e)})))}}catch(e){o.e(e)}finally{o.f()}return a},get staticBlocks(){var r=me()(e),a=JSON.stringify(r);return n!==a&&(t=r,n=a),t},get dynamicBlocks(){return fe()(e)},get roundedDynamicBlocks(){return this.dynamicBlocks.contentBlocks.map((function(e){return wt(wt({},e),{},{start:Math.floor(e.start),end:Math.ceil(e.end)})}))},get visibleLocStrings(){return Vr(this.dynamicBlocks.contentBlocks)},get coarseVisibleLocStrings(){return Vr(e.coarseDynamicBlocks)}}})).actions((function(e){return{clearView:function(){e.setDisplayedRegions([]),e.tracks.clear(),e.scrollTo(0),e.zoomTo(10)},setCoarseDynamicBlocks:function(t){e.coarseDynamicBlocks=t.contentBlocks,e.coarseTotalBp=t.totalBp},afterAttach:function(){var t=this;Object(j.addDisposer)(e,Object(S.autorun)((function(){e.initialized&&t.setCoarseDynamicBlocks(e.dynamicBlocks)}),{delay:150}))}}})).actions((function(e){return{exportSvg:function(){var t=arguments;return Ot(zt.mark((function n(){var r,a,o;return zt.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,Nn(e,r);case 3:a=n.sent,o=new Blob([a],{type:"image/svg+xml"}),Object(ye.saveAs)(o,"image.svg");case 6:case"end":return n.stop()}}),n)})))()}}})).views((function(e){return{rubberBandMenuItems:function(){return[{label:"Zoom to region",icon:Ie.a,onClick:function(){var t=e.leftOffset,n=e.rightOffset;t&&n&&e.moveTo(t,n)}},{label:"Get sequence",icon:x.a,onClick:function(){e.setSequenceDialogOpen(!0)}}]}}}))}var Kr=Object(r.lazy)((function(){return Promise.resolve().then((function(){return ta}))})),Jr=function(e){return j.types.compose("LinearBasicDisplay",sn,j.types.model({type:j.types.literal("LinearBasicDisplay"),trackShowLabels:j.types.maybe(j.types.boolean),trackShowDescriptions:j.types.maybe(j.types.boolean),trackDisplayMode:j.types.maybe(j.types.string),trackMaxHeight:j.types.maybe(j.types.number),configuration:Object(o.ConfigurationReference)(e)})).views((function(e){return{get rendererTypeName(){return Object(o.getConf)(e,["renderer","type"])},get showLabels(){var t=Object(o.getConf)(e,["renderer","showLabels"]);return void 0!==e.trackShowLabels?e.trackShowLabels:t},get showDescriptions(){var t=Object(o.getConf)(e,["renderer","showLabels"]);return void 0!==e.trackShowDescriptions?e.trackShowDescriptions:t},get maxHeight(){var t=Object(o.getConf)(e,["renderer","maxHeight"]);return void 0!==e.trackMaxHeight?e.trackMaxHeight:t},get displayMode(){var t=Object(o.getConf)(e,["renderer","displayMode"]);return void 0!==e.trackDisplayMode?e.trackDisplayMode:t},get rendererConfig(){var t=Object(o.getConf)(e,["renderer"])||{};return e.rendererType.configSchema.create(wt(wt({},t),{},{showLabels:this.showLabels,showDescriptions:this.showDescriptions,displayMode:this.displayMode,maxHeight:this.maxHeight}),Object(j.getEnv)(e))}}})).actions((function(e){return{toggleShowLabels:function(){e.trackShowLabels=!e.showLabels},toggleShowDescriptions:function(){e.trackShowDescriptions=!e.showDescriptions},setDisplayMode:function(t){e.trackDisplayMode=t},setMaxHeight:function(t){e.trackMaxHeight=t}}})).views((function(e){var t=e.trackMenuItems,n=e.renderProps;return{renderProps:function(){var t=e.rendererConfig;return wt(wt({},n()),{},{config:t})},trackMenuItems:function(){return[].concat(Lt(t()),[{label:"Show labels",icon:ke.a,type:"checkbox",checked:e.showLabels,onClick:function(){e.toggleShowLabels()}},{label:"Show descriptions",icon:ke.a,type:"checkbox",checked:e.showDescriptions,onClick:function(){e.toggleShowDescriptions()}},{label:"Display mode",icon:ke.a,subMenu:["compact","reducedRepresentation","normal","collapse"].map((function(t){return{label:t,onClick:function(){e.setDisplayMode(t)}}}))},{label:"Set max height",onClick:function(){Object(h.getSession)(e).queueDialog((function(t){return[Kr,{model:e,handleClose:t}]}))}}])}}}))};function Xr(e){return Object(o.ConfigurationSchema)("LinearBasicDisplay",{mouseover:{type:"string",description:"what to display in a given mouseover",defaultValue:"jexl:get(feature,'name')",contextVariable:["feature"]},renderer:e.pluggableConfigSchemaType("renderer"),maxDisplayedBpPerPx:{type:"number",description:"maximum bpPerPx that is displayed in the view",defaultValue:1e3}},{baseConfiguration:_t,explicitlyTyped:!0})}m.a;var Yr=Object(T.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var Zr={__proto__:null,useStyles:Yr,default:function(e){var t=e.handleClose,n=Yr();return a.a.createElement(z.a,{open:!0,maxWidth:"xl",onClose:t},a.a.createElement(B.a,null,"Using the search box",t?a.a.createElement(D.a,{"data-testid":"close-resultsDialog",className:n.closeButton,onClick:function(){t()}},a.a.createElement(Ue.a,null)):null),a.a.createElement(U.a,null),a.a.createElement(H.a,null,a.a.createElement("h3",null,"Searching"),a.a.createElement("ul",null,a.a.createElement("li",null,"Jump to a feature or reference sequence by typing its name in the location box and pressing Enter."),a.a.createElement("li",null,"Jump to a specific region by typing the region into the location box as: ",a.a.createElement("code",null,"ref:start..end")," or ",a.a.createElement("code",null,"ref:start-end"),". Commas are allowed in the start and end coordinates.")),a.a.createElement("h3",null,"Example Searches"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"BRCA")," - searches for the feature named BRCA"),a.a.createElement("li",null,a.a.createElement("code",null,"chr4")," - jumps to chromosome 4"),a.a.createElement("li",null,a.a.createElement("code",null,"chr4:79,500,000..80,000,000")," - jumps the region on chromosome 4 between 79.5Mb and 80Mb."))),a.a.createElement(U.a,null),a.a.createElement(G.a,null,a.a.createElement(E.a,{onClick:function(){return t()},color:"primary"},"Close")))}},Qr=Object(T.a)((function(e){return{root:{width:500},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},field:{margin:e.spacing(2)}}}));function ea(e){var t=e.model,n=e.handleClose,o=Qr(),i=t.maxHeight,l=void 0===i?"":i,c=It(Object(r.useState)("".concat(l)),2),u=c[0],s=c[1];return a.a.createElement(z.a,{open:!0,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(B.a,{id:"alert-dialog-title"},"Filter options",a.a.createElement(D.a,{"aria-label":"close",className:o.closeButton,onClick:n},a.a.createElement(Ue.a,null))),a.a.createElement(H.a,null,a.a.createElement("div",{className:o.root},a.a.createElement(O.a,null,"Set max height for the track"),a.a.createElement(F.a,{value:u,onChange:function(e){s(e.target.value)},placeholder:"Enter max score"}),a.a.createElement(E.a,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:20},onClick:function(){t.setMaxHeight(""===u||Number.isNaN(+u)?void 0:+u),n()}},"Submit"))))}var ta={__proto__:null,default:Object(re.observer)(ea)}},578:function(e,t,n){"use strict";n.r(t);var r=n(1018),a=n(10),o=n(11),i=n(1),l=(n(0),n(13)),c=n(684),u=n(12),s=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.default)(e,["classes","className"]);return i.createElement(c.a,Object(a.a)({gutterBottom:!0,component:"div",ref:t,className:Object(u.default)(n.root,r)},l))})),d=Object(l.a)((function(e){return{root:{fontWeight:e.typography.fontWeightMedium,marginTop:-2}}}),{name:"MuiAlertTitle"})(s),f=n(1028),p=n(414),m=(n(566),n(1831)),h={small:-16,medium:null},g=i.forwardRef((function(e,t){var n=e.children,r=e.classes,l=e.className,c=e.max,s=void 0===c?5:c,d=e.spacing,f=void 0===d?"medium":d,p=Object(o.default)(e,["children","classes","className","max","spacing"]),g=s<2?2:s,v=i.Children.toArray(n).filter((function(e){return i.isValidElement(e)})),b=v.length>g?v.length-g+1:0,y=f&&void 0!==h[f]?h[f]:-f;return i.createElement("div",Object(a.a)({className:Object(u.default)(r.root,l),ref:t},p),v.slice(0,v.length-b).map((function(e,t){return i.cloneElement(e,{className:Object(u.default)(e.props.className,r.avatar),style:Object(a.a)({zIndex:v.length-t,marginLeft:0===t?void 0:y},e.props.style)})})),b?i.createElement(m.a,{className:r.avatar,style:{zIndex:0,marginLeft:y}},"+",b):null)})),v=Object(l.a)((function(e){return{root:{display:"flex"},avatar:{border:"2px solid ".concat(e.palette.background.default),marginLeft:-8,"&:first-child":{marginLeft:0}}}}),{name:"MuiAvatarGroup"})(g),b=n(34),y=n(19),w=n(133);function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,n=void 0===t?1:t,r=e.componentName,i=void 0===r?"usePagination":r,l=e.count,c=void 0===l?1:l,u=e.defaultPage,s=void 0===u?1:u,d=e.disabled,f=void 0!==d&&d,p=e.hideNextButton,m=void 0!==p&&p,h=e.hidePrevButton,g=void 0!==h&&h,v=e.onChange,C=e.page,E=e.showFirstButton,O=void 0!==E&&E,k=e.showLastButton,x=void 0!==k&&k,S=e.siblingCount,j=void 0===S?1:S,T=Object(o.default)(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),P=Object(w.a)({controlled:C,default:s,name:i,state:"page"}),R=Object(y.default)(P,2),M=R[0],I=R[1],L=function(e,t){C||I(t),v&&v(e,t)},A=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},F=A(1,Math.min(n,c)),N=A(Math.max(c-n+1,n+1),c),_=Math.max(Math.min(M-j,c-n-2*j-1),n+2),D=Math.min(Math.max(M+j,n+2*j+2),N[0]-2),z=[].concat(Object(b.default)(O?["first"]:[]),Object(b.default)(g?[]:["previous"]),Object(b.default)(F),Object(b.default)(_>n+2?["start-ellipsis"]:n+1<c-n?[n+1]:[]),Object(b.default)(A(_,D)),Object(b.default)(D<c-n-1?["end-ellipsis"]:c-n>n?[c-n]:[]),Object(b.default)(N),Object(b.default)(m?[]:["next"]),Object(b.default)(x?["last"]:[])),B=function(e){switch(e){case"first":return 1;case"previous":return M-1;case"next":return M+1;case"last":return c;default:return null}},H=z.map((function(e){return"number"==typeof e?{onClick:function(t){L(t,e)},type:"page",page:e,selected:e===M,disabled:f,"aria-current":e===M?"true":void 0}:{onClick:function(t){L(t,B(e))},type:e,page:B(e),selected:!1,disabled:f||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?M>=c:M<=1)}}));return Object(a.a)({items:H},T)}var E=n(71),O=n(67),k=n(1825),x=n(76),S=Object(x.a)(i.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),j=Object(x.a)(i.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),T=Object(x.a)(i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),P=Object(x.a)(i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),R=n(35),M=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.color,c=void 0===l?"standard":l,s=e.component,d=e.disabled,f=void 0!==d&&d,p=e.page,m=e.selected,h=void 0!==m&&m,g=e.shape,v=void 0===g?"round":g,b=e.size,y=void 0===b?"medium":b,w=e.type,C=void 0===w?"page":w,E=e.variant,x=void 0===E?"text":E,M=Object(o.default)(e,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),I=("rtl"===Object(O.a)().direction?{previous:P,next:T,last:S,first:j}:{previous:T,next:P,first:S,last:j})[C];return"start-ellipsis"===C||"end-ellipsis"===C?i.createElement("div",{ref:t,className:Object(u.default)(n.root,n.ellipsis,f&&n.disabled,"medium"!==y&&n["size".concat(Object(R.a)(y))])},""):i.createElement(k.a,Object(a.a)({ref:t,component:s,disabled:f,focusVisibleClassName:n.focusVisible,className:Object(u.default)(n.root,n.page,n[x],n[v],r,"standard"!==c&&n["".concat(x).concat(Object(R.a)(c))],f&&n.disabled,h&&n.selected,"medium"!==y&&n["size".concat(Object(R.a)(y))])},M),"page"===C&&p,I?i.createElement(I,{className:n.icon}):null)})),I=Object(l.a)((function(e){return{root:Object(a.a)({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:Object(E.a)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat(Object(E.a)(e.palette.primary.main,.5)),backgroundColor:Object(E.a)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Object(E.a)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat(Object(E.a)(e.palette.secondary.main,.5)),backgroundColor:Object(E.a)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Object(E.a)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}}),{name:"MuiPaginationItem"})(M);function L(e,t,n){return"page"===e?"".concat(n?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}var A=i.forwardRef((function(e,t){e.boundaryCount;var n=e.classes,r=e.className,l=e.color,c=void 0===l?"standard":l,s=(e.count,e.defaultPage,e.disabled,e.getItemAriaLabel),d=void 0===s?L:s,f=(e.hideNextButton,e.hidePrevButton,e.onChange,e.page,e.renderItem),p=void 0===f?function(e){return i.createElement(I,e)}:f,m=e.shape,h=void 0===m?"round":m,g=(e.showFirstButton,e.showLastButton,e.siblingCount,e.size),v=void 0===g?"medium":g,b=e.variant,y=void 0===b?"text":b,w=Object(o.default)(e,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),E=C(Object(a.a)({},e,{componentName:"Pagination"})).items;return i.createElement("nav",Object(a.a)({"aria-label":"pagination navigation",className:Object(u.default)(n.root,r),ref:t},w),i.createElement("ul",{className:n.ul},E.map((function(e,t){return i.createElement("li",{key:t},p(Object(a.a)({},e,{color:c,"aria-label":d(e.type,e.page,e.selected),shape:h,size:v,variant:y})))}))))})),F=Object(l.a)({root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}},{name:"MuiPagination"})(A),N=n(247),_=n(200),D=n(51),z=Object(x.a)(i.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function B(e,t){if(null==e)return e;var n,r=Math.round(e/t)*t;return Number(r.toFixed((n=t.toString().split(".")[1])?n.length:0))}function H(e){e.value;var t=Object(o.default)(e,["value"]);return i.createElement("span",t)}var V=i.createElement(z,{fontSize:"inherit"});function W(e){return"".concat(e," Star").concat(1!==e?"s":"")}var G=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.defaultValue,c=void 0===l?null:l,s=e.disabled,d=void 0!==s&&s,f=e.emptyIcon,p=e.emptyLabelText,m=void 0===p?"Empty":p,h=e.getLabelText,g=void 0===h?W:h,v=e.icon,b=void 0===v?V:v,C=e.IconContainerComponent,E=void 0===C?H:C,k=e.max,x=void 0===k?5:k,S=e.name,j=e.onChange,T=e.onChangeActive,P=e.onMouseLeave,M=e.onMouseMove,I=e.precision,L=void 0===I?1:I,A=e.readOnly,F=void 0!==A&&A,z=e.size,G=void 0===z?"medium":z,U=e.value,q=Object(o.default)(e,["classes","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"]),$=Object(N.a)(S),K=Object(w.a)({controlled:U,default:c,name:"Rating"}),J=Object(y.default)(K,2),X=J[0],Y=J[1],Z=B(X,L),Q=Object(O.a)(),ee=i.useState({hover:-1,focus:-1}),te=ee[0],ne=te.hover,re=te.focus,ae=ee[1],oe=Z;-1!==ne&&(oe=ne),-1!==re&&(oe=re);var ie=Object(_.a)(),le=ie.isFocusVisible,ce=ie.onBlurVisible,ue=ie.ref,se=i.useState(!1),de=se[0],fe=se[1],pe=i.useRef(),me=Object(D.a)(ue,pe),he=Object(D.a)(me,t),ge=function(e){var t=parseFloat(e.target.value);Y(t),j&&j(e,t)},ve=function(e){0===e.clientX&&0===e.clientY||(ae({hover:-1,focus:-1}),Y(null),j&&parseFloat(e.target.value)===Z&&j(e,null))},be=function(e){le(e)&&fe(!0);var t=parseFloat(e.target.value);ae((function(e){return{hover:e.hover,focus:t}})),T&&re!==t&&T(e,t)},ye=function(e){if(-1===ne){!1!==de&&(fe(!1),ce());ae((function(e){return{hover:e.hover,focus:-1}})),T&&-1!==re&&T(e,-1)}},we=function(e,t){var r="".concat($,"-").concat(String(e.value).replace(".","-")),o=i.createElement(E,{value:e.value,className:Object(u.default)(n.icon,e.filled?n.iconFilled:n.iconEmpty,e.hover&&n.iconHover,e.focus&&n.iconFocus,e.active&&n.iconActive)},f&&!e.filled?f:b);return F?i.createElement("span",Object(a.a)({key:e.value},t),o):i.createElement(i.Fragment,{key:e.value},i.createElement("label",Object(a.a)({className:n.label,htmlFor:r},t),o,i.createElement("span",{className:n.visuallyhidden},g(e.value))),i.createElement("input",{onFocus:be,onBlur:ye,onChange:ge,onClick:ve,disabled:d,value:e.value,id:r,type:"radio",name:$,checked:e.checked,className:n.visuallyhidden}))};return i.createElement("span",Object(a.a)({ref:he,onMouseMove:function(e){M&&M(e);var t,n=pe.current,r=n.getBoundingClientRect(),a=r.right,o=r.left,i=n.firstChild.getBoundingClientRect().width;t="rtl"===Q.direction?(a-e.clientX)/(i*x):(e.clientX-o)/(i*x);var l=B(x*t+L/2,L);l=function(e,t,n){return e<t?t:e>n?n:e}(l,L,x),ae((function(e){return e.hover===l&&e.focus===l?e:{hover:l,focus:l}})),fe(!1),T&&ne!==l&&T(e,l)},onMouseLeave:function(e){P&&P(e);ae({hover:-1,focus:-1}),T&&-1!==ne&&T(e,-1)},className:Object(u.default)(n.root,r,"medium"!==G&&n["size".concat(Object(R.a)(G))],d&&n.disabled,de&&n.focusVisible,F&&n.readOnly),role:F?"img":null,"aria-label":F?g(oe):null},q),Array.from(new Array(x)).map((function(e,t){var r=t+1;if(L<1){var a=Array.from(new Array(1/L));return i.createElement("span",{key:r,className:Object(u.default)(n.decimal,r===Math.ceil(oe)&&(-1!==ne||-1!==re)&&n.iconActive)},a.map((function(e,t){var n=B(r-1+(t+1)*L,L);return we({value:n,filled:n<=oe,hover:n<=ne,focus:n<=re,checked:n===Z},{style:a.length-1===t?{}:{width:n===oe?"".concat((t+1)*L*100,"%"):"0%",overflow:"hidden",zIndex:1,position:"absolute"}})})))}return we({value:r,active:r===oe&&(-1!==ne||-1!==re),filled:r<=oe,hover:r<=ne,focus:r<=re,checked:r===Z})})),!F&&!d&&null==Z&&i.createElement(i.Fragment,null,i.createElement("input",{value:"",id:"".concat($,"-empty"),type:"radio",name:$,defaultChecked:!0,className:n.visuallyhidden}),i.createElement("label",{className:n.pristine,htmlFor:"".concat($,"-empty")},i.createElement("span",{className:n.visuallyhidden},m))))})),U=Object(l.a)((function(e){return{root:{display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#ffb400",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent","&$disabled":{opacity:.5,pointerEvents:"none"},"&$focusVisible $iconActive":{outline:"1px solid #999"}},sizeSmall:{fontSize:e.typography.pxToRem(18)},sizeLarge:{fontSize:e.typography.pxToRem(30)},readOnly:{pointerEvents:"none"},disabled:{},focusVisible:{},visuallyhidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,color:"#000",overflow:"hidden",padding:0,position:"absolute",top:20,width:1},pristine:{"input:focus + &":{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}},label:{cursor:"inherit"},icon:{display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},iconEmpty:{color:e.palette.action.disabled},iconFilled:{},iconHover:{},iconFocus:{},iconActive:{transform:"scale(1.2)"},decimal:{position:"relative"}}}),{name:"MuiRating"})(G),q=i.forwardRef((function(e,t){var n=e.animation,r=void 0===n?"pulse":n,l=e.classes,c=e.className,s=e.component,d=void 0===s?"span":s,f=e.height,p=e.variant,m=void 0===p?"text":p,h=e.width,g=Object(o.default)(e,["animation","classes","className","component","height","variant","width"]),v=Boolean(g.children);return i.createElement(d,Object(a.a)({ref:t,className:Object(u.default)(l.root,l[m],c,v&&[l.withChildren,!h&&l.fitContent,!f&&l.heightAuto],!1!==r&&l[r])},g,{style:Object(a.a)({width:h,height:f},g.style)}))})),$=Object(l.a)((function(e){return{root:{display:"block",backgroundColor:Object(E.a)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(q),K=n(107),J=n(1816),X=n(1787),Y=n(173);function Z(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}var Q=i.forwardRef((function(e,t){var n=e.ariaLabel,r=e.FabProps,l=(r=void 0===r?{}:r).ref,c=Object(o.default)(r,["ref"]),s=e.children,d=e.classes,f=e.className,p=e.direction,m=void 0===p?"up":p,h=e.hidden,g=void 0!==h&&h,v=e.icon,b=e.onBlur,y=e.onClose,w=e.onFocus,C=e.onKeyDown,E=e.onMouseEnter,O=e.onMouseLeave,k=e.onOpen,x=e.open,S=(e.openIcon,e.TransitionComponent),j=void 0===S?J.a:S,T=e.transitionDuration,P=void 0===T?{enter:K.b.enteringScreen,exit:K.b.leavingScreen}:T,M=e.TransitionProps,I=Object(o.default)(e,["ariaLabel","FabProps","children","classes","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"]),L=i.useRef();i.useEffect((function(){return function(){clearTimeout(L.current)}}),[]);var A=i.useRef(0),F=i.useRef(),N=i.useRef([]);N.current=[N.current[0]];var _=i.useCallback((function(e){N.current[0]=e}),[]),z=Object(D.a)(l,_),B=function(e,t){return function(n){N.current[e+1]=n,t&&t(n)}};i.useEffect((function(){x||(A.current=0,F.current=void 0)}),[x]);var H=function(e){"mouseleave"===e.type&&O&&O(e),"blur"===e.type&&b&&b(e),clearTimeout(L.current),y&&("blur"===e.type?(e.persist(),L.current=setTimeout((function(){y(e,"blur")}))):y(e,"mouseLeave"))},V=function(e){"mouseenter"===e.type&&E&&E(e),"focus"===e.type&&w&&w(e),clearTimeout(L.current),k&&!x&&(e.persist(),L.current=setTimeout((function(){k(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])})))},W=n.replace(/^[^a-z]+|[^\w:.-]+/gi,""),G=i.Children.toArray(s).filter((function(e){return i.isValidElement(e)})),U=G.map((function(e,t){var n=e.props.FabProps,r=(n=void 0===n?{}:n).ref,l=Object(o.default)(n,["ref"]);return i.cloneElement(e,{FabProps:Object(a.a)({},l,{ref:B(t,r)}),delay:30*(x?t:G.length-t),open:x,id:"".concat(W,"-action-").concat(t)})}));return i.createElement("div",Object(a.a)({className:Object(u.default)(d.root,d["direction".concat(Object(R.a)(m))],f),ref:t,role:"presentation",onKeyDown:function(e){C&&C(e);var t,n,r,a=e.key.replace("Arrow","").toLowerCase(),o=F.current,i=void 0===o?a:o;if("Escape"!==e.key){if(Z(a)===Z(i)&&void 0!==Z(a)){e.preventDefault();var l=a===i?1:-1,c=(t=A.current+l,n=0,r=N.current.length-1,t<n?n:t>r?r:t);N.current[c].focus(),A.current=c,F.current=i}}else y&&(N.current[0].focus(),y(e,"escapeKeyDown"))},onBlur:H,onFocus:V,onMouseEnter:V,onMouseLeave:H},I),i.createElement(j,Object(a.a)({in:!g,timeout:P,unmountOnExit:!0},M),i.createElement(X.a,Object(a.a)({color:"primary","aria-label":n,"aria-haspopup":"true","aria-expanded":x,"aria-controls":"".concat(W,"-actions")},c,{onClick:function(e){c.onClick&&c.onClick(e),clearTimeout(L.current),x?y&&y(e,"toggle"):k&&k(e,"toggle")},className:Object(u.default)(d.fab,c.className),ref:z}),i.isValidElement(v)&&Object(Y.a)(v,["SpeedDialIcon"])?i.cloneElement(v,{open:x}):v)),i.createElement("div",{id:"".concat(W,"-actions"),role:"menu","aria-orientation":Z(m),className:Object(u.default)(d.actions,!x&&d.actionsClosed)},U))})),ee=Object(l.a)((function(e){return{root:{zIndex:e.zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},fab:{pointerEvents:"auto"},directionUp:{flexDirection:"column-reverse","& $actions":{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}},directionDown:{flexDirection:"column","& $actions":{flexDirection:"column",marginTop:-32,paddingTop:48}},directionLeft:{flexDirection:"row-reverse","& $actions":{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}},directionRight:{flexDirection:"row","& $actions":{flexDirection:"row",marginLeft:-32,paddingLeft:48}},actions:{display:"flex",pointerEvents:"auto"},actionsClosed:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}}),{name:"MuiSpeedDial"})(Q),te=n(719),ne=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.delay,c=void 0===l?0:l,s=e.FabProps,d=void 0===s?{}:s,f=e.icon,p=e.id,m=e.open,h=e.TooltipClasses,g=e.tooltipOpen,v=void 0!==g&&g,b=e.tooltipPlacement,y=void 0===b?"left":b,w=e.tooltipTitle,C=Object(o.default)(e,["classes","className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"]),E=i.useState(v),O=E[0],k=E[1],x={transitionDelay:"".concat(c,"ms")},S=i.createElement(X.a,Object(a.a)({size:"small",className:Object(u.default)(n.fab,r,!m&&n.fabClosed),tabIndex:-1,role:"menuitem","aria-describedby":"".concat(p,"-label")},d,{style:Object(a.a)({},x,d.style)}),f);return v?i.createElement("span",Object(a.a)({id:p,ref:t,className:Object(u.default)(n.staticTooltip,n["tooltipPlacement".concat(Object(R.a)(y))],!m&&n.staticTooltipClosed)},C),i.createElement("span",{style:x,id:"".concat(p,"-label"),className:n.staticTooltipLabel},w),S):i.createElement(te.a,Object(a.a)({id:p,ref:t,title:w,placement:y,onClose:function(){k(!1)},onOpen:function(){k(!0)},open:m&&O,classes:h},C),S)})),re=Object(l.a)((function(e){return{fab:{margin:8,color:e.palette.text.secondary,backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:Object(E.d)(e.palette.background.paper,.15)},transition:"".concat(e.transitions.create("transform",{duration:e.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},fabClosed:{opacity:0,transform:"scale(0)"},staticTooltip:{position:"relative",display:"flex","& $staticTooltipLabel":{transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1}},staticTooltipClosed:{"& $staticTooltipLabel":{opacity:0,transform:"scale(0.5)"}},staticTooltipLabel:Object(a.a)({position:"absolute"},e.typography.body1,{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[1],color:e.palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}),tooltipPlacementLeft:{alignItems:"center","& $staticTooltipLabel":{transformOrigin:"100% 50%",right:"100%",marginRight:8}},tooltipPlacementRight:{alignItems:"center","& $staticTooltipLabel":{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}}),{name:"MuiSpeedDialAction"})(ne),ae=Object(x.a)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),oe=i.forwardRef((function(e,t){var n=e.className,r=e.classes,l=e.icon,c=e.open,s=e.openIcon,d=Object(o.default)(e,["className","classes","icon","open","openIcon"]),f=Object(u.default)(r.icon,c&&[r.iconOpen,s&&r.iconWithOpenIconOpen]),p=Object(u.default)(r.openIcon,c&&r.openIconOpen);function m(e,t){return i.isValidElement(e)?i.cloneElement(e,{className:t}):e}return i.createElement("span",Object(a.a)({className:Object(u.default)(r.root,n),ref:t},d),s?m(s,p):null,l?m(l,f):i.createElement(ae,{className:f}))}));oe.muiName="SpeedDialIcon";var ie=Object(l.a)((function(e){return{root:{height:24},icon:{transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short})},iconOpen:{transform:"rotate(45deg)"},iconWithOpenIconOpen:{opacity:0},openIcon:{position:"absolute",transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},openIconOpen:{transform:"rotate(0deg)",opacity:1}}}),{name:"MuiSpeedDialIcon"})(oe),le=i.createContext(null);function ce(e){var t,n,r,a=e.children,o=e.value,l=(t=i.useState(null),n=t[0],r=t[1],i.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),n),c=i.useMemo((function(){return{idPrefix:l,value:o}}),[l,o]);return i.createElement(le.Provider,{value:c},a)}function ue(){return i.useContext(le)}function se(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(t)}function de(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(t)}var fe=n(1826),pe=i.forwardRef((function(e,t){var n=e.children,r=Object(o.default)(e,["children"]),l=ue();if(null===l)throw new TypeError("No TabContext provided");var c=i.Children.map(n,(function(e){return i.cloneElement(e,{"aria-controls":se(l,e.props.value),id:de(l,e.props.value)})}));return i.createElement(fe.a,Object(a.a)({},r,{ref:t,value:l.value}),c)})),me=i.forwardRef((function(e,t){var n=e.children,r=e.className,l=e.classes,c=e.value,s=Object(o.default)(e,["children","className","classes","value"]),d=ue();if(null===d)throw new TypeError("No TabContext provided");var f=se(d,c),p=de(d,c);return i.createElement("div",Object(a.a)({"aria-labelledby":p,className:Object(u.default)(l.root,r),hidden:c!==d.value,id:f,ref:t,role:"tabpanel"},s),c===d.value&&n)})),he=Object(l.a)((function(e){return{root:{padding:e.spacing(3)}}}),{name:"MuiTabPanel"})(me);var ge=i.createContext({}),ve=i.forwardRef((function(e,t){var n=e.align,r=void 0===n?"left":n,l=e.classes,c=e.className,s=Object(o.default)(e,["align","classes","className"]);return i.createElement(ge.Provider,{value:{align:r}},i.createElement("ul",Object(a.a)({className:Object(u.default)(l.root,l["align".concat(Object(R.a)(r))],c),ref:t},s)))})),be=Object(l.a)((function(){return{root:{display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1},alignLeft:{},alignRight:{},alignAlternate:{}}}),{name:"MuiTimeline"})(ve),ye=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.default)(e,["classes","className"]);return i.createElement("span",Object(a.a)({className:Object(u.default)(n.root,r),ref:t},l))})),we=Object(l.a)((function(e){return{root:{width:2,backgroundColor:e.palette.grey[400],flexGrow:1}}}),{name:"MuiTimelineConnector"})(ye);var Ce=i.createContext({}),Ee=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.default)(e,["classes","className"]),c=i.useContext(ge).align,s=void 0===c?"left":c,d=i.useContext(Ce).classes,f=void 0===d?{}:d;return i.createElement("div",Object(a.a)({className:Object(u.default)(n.root,f.content,n["align".concat(Object(R.a)(s))],r),ref:t},l))})),Oe=Object(l.a)((function(){return{root:{flex:1,padding:"6px 16px"},alignRight:{textAlign:"right"}}}),{name:"MuiTimelineContent"})(Ee),ke=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.color,c=void 0===l?"grey":l,s=e.variant,d=void 0===s?"default":s,f=Object(o.default)(e,["classes","className","color","variant"]);return i.createElement("span",Object(a.a)({className:Object(u.default)(n.root,r,"inherit"!==c&&n["".concat(d).concat(Object(R.a)(c))]),ref:t},f))})),xe=Object(l.a)((function(e){return{root:{display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:e.shadows[2],marginTop:8,marginBottom:8},defaultGrey:{borderColor:"transparent",color:e.palette.grey[50],backgroundColor:e.palette.grey[400]},outlinedGrey:{boxShadow:"none",color:e.palette.grey.contrastText,borderColor:e.palette.grey[400],backgroundColor:"transparent"},defaultPrimary:{borderColor:"transparent",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},outlinedPrimary:{boxShadow:"none",backgroundColor:"transparent",borderColor:e.palette.primary.main},defaultSecondary:{borderColor:"transparent",color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},outlinedSecondary:{boxShadow:"none",backgroundColor:"transparent",borderColor:e.palette.secondary.main}}}),{name:"MuiTimelineDot"})(ke),Se=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.default)(e,["classes","className"]),c=i.useContext(ge).align,s=void 0===c?"left":c,d=!1;return i.Children.forEach(e.children,(function(e){Object(Y.a)(e,["TimelineOppositeContent"])&&(d=!0)})),i.createElement(Ce.Provider,{value:{classes:{content:n.content,oppositeContent:n.oppositeContent}}},i.createElement("li",Object(a.a)({className:Object(u.default)(n.root,n["align".concat(Object(R.a)(s))],r,!d&&n.missingOppositeContent),ref:t},l)))})),je=Object(l.a)((function(){return{root:{listStyle:"none",display:"flex",position:"relative",minHeight:70},alignLeft:{},alignRight:{flexDirection:"row-reverse"},alignAlternate:{"&:nth-child(even)":{flexDirection:"row-reverse","& $content":{textAlign:"right"},"& $oppositeContent":{textAlign:"left"}}},missingOppositeContent:{"&:before":{content:'""',flex:1,padding:"6px 16px"}},content:{},oppositeContent:{}}}),{name:"MuiTimelineItem"})(Se),Te=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.default)(e,["classes","className"]),c=i.useContext(ge).align,s=void 0===c?"left":c,d=i.useContext(Ce).classes,f=void 0===d?{}:d;return i.createElement("div",Object(a.a)({className:Object(u.default)(n.root,f.oppositeContent,n["align".concat(Object(R.a)(s))],r),ref:t},l))}));Te.muiName="TimelineOppositeContent";var Pe=Object(l.a)((function(){return{root:{padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},alignRight:{textAlign:"left"}}}),{name:"MuiTimelineOppositeContent"})(Te),Re=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.default)(e,["classes","className"]);return i.createElement("div",Object(a.a)({className:Object(u.default)(n.root,r),ref:t},l))})),Me=Object(l.a)((function(){return{root:{display:"flex",flexDirection:"column",flex:0,alignItems:"center"}}}),{name:"MuiTimelineSeparator"})(Re),Ie=n(991),Le=n(1029),Ae=n(1775);var Fe=i.createContext({}),Ne=i.forwardRef((function(e,t){var n=e.children,r=e.classes,l=e.className,s=e.collapseIcon,d=e.endIcon,f=e.expandIcon,p=e.icon,m=e.label,h=e.nodeId,g=e.onClick,v=e.onLabelClick,b=e.onIconClick,y=e.onFocus,w=e.onKeyDown,C=e.onMouseDown,E=e.TransitionComponent,k=void 0===E?Ae.a:E,x=e.TransitionProps,S=Object(o.default)(e,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),j=i.useContext(Fe),T=j.icons,P=j.focus,R=j.focusFirstNode,M=j.focusLastNode,I=j.focusNextNode,L=j.focusPreviousNode,A=j.focusByFirstCharacter,F=j.selectNode,N=j.selectRange,_=j.selectNextNode,z=j.selectPreviousNode,B=j.rangeSelectToFirst,H=j.rangeSelectToLast,V=j.selectAllNodes,W=j.expandAllSiblings,G=j.toggleExpansion,U=j.isExpanded,q=j.isFocused,$=j.isSelected,K=j.isTabbable,J=j.multiSelect,X=j.getParent,Y=j.mapFirstChar,Z=j.addNodeToNodeMap,Q=j.removeNodeFromNodeMap,ee=i.useRef(null),te=i.useRef(null),ne=Object(D.a)(ee,t),re=p,ae=Boolean(Array.isArray(n)?n.length:n),oe=!!U&&U(h),ie=!!q&&q(h),le=!!K&&K(h),ce=!!$&&$(h),ue=T||{},se=Object(O.a)();re||(ae?(re=oe?s||ue.defaultCollapseIcon:f||ue.defaultExpandIcon)||(re=ue.defaultParentIcon):re=d||ue.defaultEndIcon);var de,fe=function(e){return ae&&(oe?I(h):G(e)),!0},pe=function(e){if(oe)return G(e,h),!0;var t=X(h);return!!t&&(P(t),!0)};return i.useEffect((function(){if(Z){var e=[];i.Children.forEach(n,(function(t){i.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),Z(h,e)}}),[n,h,Z]),i.useEffect((function(){if(Q)return function(){Q(h)}}),[h,Q]),i.useEffect((function(){Y&&m&&Y(h,te.current.textContent.substring(0,1).toLowerCase())}),[Y,h,m]),i.useEffect((function(){ie&&ee.current.focus()}),[ie]),J?de=ce:ce&&(de=!0),i.createElement("li",Object(a.a)({className:Object(u.default)(r.root,l,oe&&r.expanded,ce&&r.selected),role:"treeitem",onKeyDown:function(e){var t=!1,n=e.key;if(!e.altKey&&e.currentTarget===e.target){var r,a=e.ctrlKey||e.metaKey;switch(n){case" ":ee.current===e.currentTarget&&(t=J&&e.shiftKey?N(e,{end:h}):J?F(e,h,!0):F(e,h)),e.stopPropagation();break;case"Enter":ee.current===e.currentTarget&&ae&&(G(e),t=!0),e.stopPropagation();break;case"ArrowDown":J&&e.shiftKey&&_(e,h),I(h),t=!0;break;case"ArrowUp":J&&e.shiftKey&&z(e,h),L(h),t=!0;break;case"ArrowRight":t="rtl"===se.direction?pe(e):fe(e);break;case"ArrowLeft":t="rtl"===se.direction?fe(e):pe(e);break;case"Home":J&&a&&e.shiftKey&&B(e,h),R(),t=!0;break;case"End":J&&a&&e.shiftKey&&H(e,h),M(),t=!0;break;default:"*"===n?(W(e,h),t=!0):J&&a&&"a"===n.toLowerCase()?t=V(e):!a&&!e.shiftKey&&((r=n)&&1===r.length&&r.match(/\S/))&&(A(h,n),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),w&&w(e)}},onFocus:function(e){ie||e.currentTarget!==e.target||P(h),y&&y(e)},"aria-expanded":ae?oe:null,"aria-selected":de,ref:ne,tabIndex:le?0:-1},S),i.createElement("div",{className:r.content,onClick:function(e){ie||P(h);var t=J&&(e.shiftKey||e.ctrlKey||e.metaKey);!ae||e.defaultPrevented||t&&U(h)||G(e,h),t?e.shiftKey?N(e,{end:h}):F(e,h,!0):F(e,h),g&&g(e)},onMouseDown:function(e){(e.shiftKey||e.ctrlKey||e.metaKey)&&e.preventDefault(),C&&C(e)},ref:te},i.createElement("div",{onClick:b,className:r.iconContainer},re),i.createElement(c.a,{onClick:v,component:"div",className:r.label},m)),n&&i.createElement(k,Object(a.a)({unmountOnExit:!0,className:r.group,in:oe,component:"ul",role:"group"},x),n))})),_e=Object(l.a)((function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:Object(E.a)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:Object(E.a)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"MuiTreeItem"})(Ne);var De=function(e,t,n){for(var r=t;r<e.length;r+=1)if(n===e[r])return r;return-1},ze=[],Be=[],He=i.forwardRef((function(e,t){var n=e.children,r=e.classes,l=e.className,c=e.defaultCollapseIcon,s=e.defaultEndIcon,d=e.defaultExpanded,f=void 0===d?ze:d,p=e.defaultExpandIcon,m=e.defaultParentIcon,h=e.defaultSelected,g=void 0===h?Be:h,v=e.disableSelection,b=void 0!==v&&v,C=e.multiSelect,E=void 0!==C&&C,O=e.expanded,k=e.onNodeSelect,x=e.onNodeToggle,S=e.selected,j=Object(o.default)(e,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),T=i.useState(null),P=T[0],R=T[1],M=i.useState(null),I=M[0],L=M[1],A=i.useRef({}),F=i.useRef({}),N=i.useRef([]),_=Object(w.a)({controlled:O,default:f,name:"TreeView",state:"expanded"}),D=Object(y.default)(_,2),z=D[0],B=D[1],H=Object(w.a)({controlled:S,default:g,name:"TreeView",state:"selected"}),V=Object(y.default)(H,2),W=V[0],G=V[1],U=i.useCallback((function(e){return!!Array.isArray(z)&&-1!==z.indexOf(e)}),[z]),q=i.useCallback((function(e){return Array.isArray(W)?-1!==W.indexOf(e):W===e}),[W]),$=function(e){var t=N.current.indexOf(e);return-1!==t&&t+1<N.current.length?N.current[t+1]:null},K=function(e){var t=N.current.indexOf(e);return-1!==t&&t-1>=0?N.current[t-1]:null},J=function(){return N.current[N.current.length-1]},X=function(){return N.current[0]},Y=function(e){e&&(R(e),L(e))},Z=i.useRef(null),Q=i.useRef(!1),ee=i.useRef([]),te=function(e,t){var n=W,r=t.start,a=t.next,o=t.current;a&&o&&(-1===ee.current.indexOf(o)&&(ee.current=[]),Q.current?-1!==ee.current.indexOf(a)?(n=n.filter((function(e){return e===r||e!==o})),ee.current=ee.current.filter((function(e){return e===r||e!==o}))):(n.push(a),ee.current.push(a)):(n.push(a),ee.current.push(o,a)),k&&k(e,n),G(n))},ne=function(e,t){var n=W,r=t.start,a=t.end;Q.current&&(n=W.filter((function(e){return-1===ee.current.indexOf(e)})));var o=function(e,t){var n=N.current.indexOf(e),r=N.current.indexOf(t),a=Math.min(n,r),o=Math.max(n,r);return N.current.slice(a,o+1)}(r,a);ee.current=o;var i=n.concat(o);i=i.filter((function(e,t){return i.indexOf(e)===t})),k&&k(e,i),G(i)},re=function(e,t){var n=[];n=-1!==W.indexOf(t)?W.filter((function(e){return e!==t})):[t].concat(W),k&&k(e,n),G(n)},ae=function(e,t){var n=E?[t]:t;k&&k(e,n),G(n)},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.start,a=void 0===r?Z.current:r,o=t.end,i=t.current;return n?te(e,{start:a,next:o,current:i}):ne(e,{start:a,end:o}),Q.current=!0,!0},ie=i.useCallback((function(e){var t=A.current[e],n=[];return t&&(n.push(e),t.children&&(n.concat(t.children),t.children.forEach((function(e){n.concat(ie(e))})))),n}),[]),le=i.useCallback((function(e){var t=Object(a.a)({},F.current);e.forEach((function(e){t[e]&&delete t[e]})),F.current=t}),[]),ce=i.useCallback((function(e){var t=ie(e);le(t);var n=Object(a.a)({},A.current);t.forEach((function(e){var t=n[e];if(t){if(t.parent){var r=n[t.parent];if(r&&r.children){var o=r.children.filter((function(t){return t!==e}));n[t.parent]=Object(a.a)({},r,{children:o})}}delete n[e]}})),A.current=n,L((function(t){return t===e?null:t}))}),[ie,le]),ue=i.useRef([]),se=i.useState(!1),de=se[0],fe=se[1];i.useEffect((function(){var e=[];i.Children.forEach(n,(function(t){i.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!0;return!1}(ue.current,e)&&(A.current[-1]={parent:null,children:e},e.forEach((function(e,t){0===t&&R(e)})),N.current=A.current[-1].children,ue.current=e,fe(!0))}),[n]),i.useEffect((function(){de&&(N.current=function e(t){for(var n=[],r=0;r<t.length;r+=1){var a=t[r];n.push(a);var o=A.current[a].children;U(a)&&o&&(n=n.concat(e(o)))}return n}(A.current[-1].children))}),[z,de,U,n]);var pe=function(){return!1};return i.createElement(Fe.Provider,{value:{icons:{defaultCollapseIcon:c,defaultExpandIcon:p,defaultParentIcon:m,defaultEndIcon:s},focus:Y,focusFirstNode:function(){return Y(X())},focusLastNode:function(){return Y(J())},focusNextNode:function(e){return Y($(e))},focusPreviousNode:function(e){return Y(K(e))},focusByFirstCharacter:function(e,t){var n,r,a=t.toLowerCase(),o=[],i=[];Object.keys(F.current).forEach((function(e){var t=F.current[e],n=A.current[e];(!n.parent||U(n.parent))&&(o.push(e),i.push(t))})),(n=o.indexOf(e)+1)===A.current.length&&(n=0),-1===(r=De(i,n,a))&&(r=De(i,0,a)),r>-1&&Y(o[r])},expandAllSiblings:function(e,t){var n,r=A.current[t],a=A.current[r.parent];a?n=a.children.filter((function(e){return!U(e)})):n=A.current[-1].children.filter((function(e){return!U(e)}));var o=z.concat(n);n.length>0&&(B(o),x&&x(e,o))},toggleExpansion:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;-1!==z.indexOf(n)?(t=z.filter((function(e){return e!==n})),R((function(e){var t=A.current[e];return e&&(t&&t.parent?t.parent.id:null)===n?n:e}))):t=[n].concat(z),x&&x(e,t),B(t)},isExpanded:U,isFocused:function(e){return I===e},isSelected:q,selectNode:b?pe:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!t&&(n?re(e,t):ae(e,t),Z.current=t,Q.current=!1,ee.current=[],!0)},selectRange:b?pe:oe,selectNextNode:b?pe:function(e,t){return oe(e,{end:$(t),current:t},!0)},selectPreviousNode:b?pe:function(e,t){return oe(e,{end:K(t),current:t},!0)},rangeSelectToFirst:b?pe:function(e,t){Z.current||(Z.current=t);var n=Q.current?Z.current:t;return oe(e,{start:n,end:X()})},rangeSelectToLast:b?pe:function(e,t){Z.current||(Z.current=t);var n=Q.current?Z.current:t;return oe(e,{start:n,end:J()})},selectAllNodes:b?pe:function(e){return oe(e,{start:X(),end:J()})},isTabbable:function(e){return P===e},multiSelect:E,getParent:function(e){return A.current[e].parent},mapFirstChar:function(e,t){F.current[e]=t},addNodeToNodeMap:function(e,t){var n=A.current[e];A.current[e]=Object(a.a)({},n,{children:t,id:e}),t.forEach((function(t){var n=A.current[t];A.current[t]=Object(a.a)({},n,{parent:e,id:t})}))},removeNodeFromNodeMap:ce}},i.createElement("ul",Object(a.a)({role:"tree","aria-multiselectable":E,className:Object(u.default)(r.root,l),ref:t},j),n))})),Ve=Object(l.a)({root:{padding:0,margin:0,listStyle:"none"}},{name:"MuiTreeView"})(He),We=n(1683);n.d(t,"Alert",(function(){return r.a})),n.d(t,"AlertTitle",(function(){return d})),n.d(t,"Autocomplete",(function(){return f.a})),n.d(t,"createFilterOptions",(function(){return p.a})),n.d(t,"AvatarGroup",(function(){return v})),n.d(t,"Pagination",(function(){return F})),n.d(t,"usePagination",(function(){return C})),n.d(t,"PaginationItem",(function(){return I})),n.d(t,"Rating",(function(){return U})),n.d(t,"Skeleton",(function(){return $})),n.d(t,"SpeedDial",(function(){return ee})),n.d(t,"SpeedDialAction",(function(){return re})),n.d(t,"SpeedDialIcon",(function(){return ie})),n.d(t,"TabContext",(function(){return ce})),n.d(t,"useTabContext",(function(){return ue})),n.d(t,"getPanelId",(function(){return se})),n.d(t,"getTabId",(function(){return de})),n.d(t,"TabList",(function(){return pe})),n.d(t,"TabPanel",(function(){return he})),n.d(t,"Timeline",(function(){return be})),n.d(t,"TimelineConnector",(function(){return we})),n.d(t,"TimelineContent",(function(){return Oe})),n.d(t,"TimelineDot",(function(){return xe})),n.d(t,"TimelineItem",(function(){return je})),n.d(t,"TimelineOppositeContent",(function(){return Pe})),n.d(t,"TimelineSeparator",(function(){return Me})),n.d(t,"ToggleButton",(function(){return Ie.a})),n.d(t,"ToggleButtonGroup",(function(){return Le.a})),n.d(t,"TreeItem",(function(){return _e})),n.d(t,"TreeView",(function(){return Ve})),n.d(t,"useAutocomplete",(function(){return We.b}))},8:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n(1),a=n.n(r),o=n(1670),i=n(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var a=p(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,r,i=d(l);function l(){return c(this,l),i.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.assembly,r=e.tracks,i=e.defaultSession,l=e.aggregateTextSearchAdapters,c=e.configuration,u=Object(o.createViewState)({assembly:n,tracks:r,defaultSession:i,aggregateTextSearchAdapters:l,configuration:c});return a.a.createElement("div",{id:t},a.a.createElement(o.JBrowseCircularGenomeView,{viewState:u}))}}])&&u(t.prototype,n),r&&u(t,r),l}(r.Component);m.defaultProps=i.b,m.propTypes=i.c},91:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.UriLocationRaw=t.UriLocation=t.Region=t.PropTypes=t.NoAssemblyRegion=t.LocalPathLocation=t.FileLocation=t.ElementId=t.BlobLocation=void 0;var a=r(n(26)),o=r(n(11)),i=r(n(343)),l=n(20),c=r(n(0)),u=n(33),s=["baseUri"],d=["locationType"],f=l.types.optional(l.types.identifier,i.default.generate);t.ElementId=f;var p={Region:c.default.shape({refName:c.default.string.isRequired,start:c.default.number.isRequired,end:c.default.number.isRequired}),ConfigSchema:u.PropTypes.objectOrObservableObject,Feature:c.default.shape({get:c.default.func.isRequired,id:c.default.func.isRequired})};t.PropTypes=p;var m=l.types.model("NoAssemblyRegion",{refName:l.types.string,start:l.types.number,end:l.types.number,reversed:l.types.optional(l.types.boolean,!1)}).actions((function(e){return{setRefName:function(t){e.refName=t}}}));t.NoAssemblyRegion=m;var h=l.types.compose("Region",m,l.types.model({assemblyName:l.types.string}));t.Region=h;var g=l.types.model("LocalPathLocation",{locationType:l.types.literal("LocalPathLocation"),localPath:l.types.string});t.LocalPathLocation=g;var v=l.types.model("BlobLocation",{locationType:l.types.literal("BlobLocation"),name:l.types.string,blobId:l.types.string});t.BlobLocation=v;var b=l.types.model("UriLocation",{locationType:l.types.literal("UriLocation"),uri:l.types.string,baseUri:l.types.maybe(l.types.string),internetAccountId:l.types.maybe(l.types.string),internetAccountPreAuthorization:l.types.maybe(l.types.model("InternetAccountPreAuthorization",{internetAccountType:l.types.string,authInfo:l.types.frozen()}))});t.UriLocationRaw=b;var y=l.types.snapshotProcessor(b,{postProcessor:function(e){var t=e.baseUri,n=(0,o.default)(e,s);return t?e:n}});t.UriLocation=y;var w=l.types.snapshotProcessor(l.types.union(g,y,v),{preProcessor:function(e){if(e){var t=e.locationType,n=(0,o.default)(e,d);if(!t){var r=n.uri,i=n.localPath,l=n.blob,c="";return void 0!==r?c="UriLocation":void 0!==i?c="LocalPathLocation":void 0!==l&&(c="BlobLocation"),(0,a.default)((0,a.default)({},n),{},{locationType:c})}return e}}});t.FileLocation=w},982:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new a.default.Jexl;return e.addFunction("get",(function(e,t){return e.get(t)})),e.addFunction("parent",(function(e){return e.parent()})),e.addFunction("id",(function(e){return e.id()})),e.addFunction("cast",(function(e){return e})),e.addFunction("log",(function(e){return console.log(e),e})),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(function(e,t){return e.split(t)})),e.addFunction("charAt",(function(e,t){return e.charAt(t)})),e.addFunction("charCodeAt",(function(e,t){return e.charCodeAt(t)})),e.addFunction("codePointAt",(function(e,t){return e.codePointAt(t)})),e.addFunction("startsWith",(function(e,t,n){return e.startsWith(t,n)})),e.addFunction("endsWith",(function(e,t,n){return e.endsWith(t,n)})),e.addFunction("padEnd",(function(e,t,n){return e.padEnd(t,n)})),e.addFunction("padStart",(function(e,t,n){return e.padStart(t,n)})),e.addFunction("repeat",(function(e,t){return e.repeat(t)})),e.addFunction("replace",(function(e,t,n){return e.replace(t,n)})),e.addFunction("replaceAll",(function(e,t,n){return e.replaceAll(t,n)})),e.addFunction("slice",(function(e,t,n){return e.slice(t,n)})),e.addFunction("startsWith",(function(e,t,n){return e.startsWith(t,n)})),e.addFunction("substring",(function(e,t,n){return e.substring(t,n)})),e.addFunction("toLowerCase",(function(e){return e.toLowerCase()})),e.addFunction("toUpperCase",(function(e){return e.toUpperCase()})),e.addFunction("trim",(function(e){e.trim()})),e.addFunction("trimEnd",(function(e){return e.trimEnd()})),e.addFunction("trimStart",(function(e){return e.trimStart()})),e.addFunction("getTag",(function(e,t){var n=e.get("tags");return n?n[t]:e.get(t)})),e.addBinaryOp("&",15,(function(e,t){return e&t})),e};var a=r(n(722))},983:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.getConf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new TypeError("must provide a model object");var r=e,a=r.configuration;if(d(a))return c(a,t,n);throw new TypeError("cannot getConf on this model, it has no configuration")},t.getTypeNamesFromExplicitlyTypedUnion=function e(t){if((0,i.isType)(t)&&(t=(0,l.resolveLateType)(t),(0,i.isUnionType)(t))){var n=[];return(0,l.getUnionSubTypes)(t).forEach((function(t){t=(0,l.resolveLateType)(t);var r=e(t);r.length||(r=[(0,l.getDefaultValue)(t).type]);if(!r[0])throw new Error("invalid config schema type ".concat(t));n.push.apply(n,(0,o.default)(r))})),n}return[]},t.isBareConfigurationSchemaType=u,t.isConfigurationModel=d,t.isConfigurationSchemaType=s,t.isConfigurationSlotType=function(e){return"object"===(0,a.default)(e)&&null!==e&&"isJBrowseConfigurationSlot"in e},t.readConfObject=c;var a=r(n(41)),o=r(n(34)),i=n(20),l=n(192);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new TypeError("must provide conf object to read");if(!t)return JSON.parse(JSON.stringify((0,i.getSnapshot)(e)));if("string"==typeof t){var r=e[t];if(!r&&(0,i.isStateTreeNode)(e)&&(0,i.isMapType)((0,i.getType)(e))&&(r=e.get(t)),!r)return;if(r.expr){var a=r.expr.evalSync(n);return(0,i.isStateTreeNode)(a)?JSON.parse(JSON.stringify((0,i.getSnapshot)(a))):a}return(0,i.isStateTreeNode)(r)?JSON.parse(JSON.stringify((0,i.getSnapshot)(r))):r}var o=t[0];if(t.length>1){var l=t.slice(1),u=e[o];if(!u&&(0,i.isStateTreeNode)(e)&&(0,i.isMapType)((0,i.getType)(e))&&(u=e.get(o)),!u)return;return c(u,l,n)}return c(e,o,n)}function u(e){if((0,i.isType)(e)){if((0,i.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema")))return!0;if((0,i.isLateType)(e))return!0}return!1}function s(e){return!!(0,i.isType)(e)&&(!!u(e)||((0,i.isUnionType)(e)?(0,l.getUnionSubTypes)(e).every((function(e){return s(e)||"undefined"===e.name})):!(!(0,i.isOptionalType)(e)||!s((0,l.getSubType)(e)))||(!(!(0,i.isArrayType)(e)||!s((0,l.getSubType)(e)))||!(!(0,i.isMapType)(e)||!s((0,l.getSubType)(e))))))}function d(e){return(0,i.isStateTreeNode)(e)&&s((0,i.getType)(e))}},984:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LogoFull=function(e){var t=e.variant;return a.default.createElement("svg",{viewBox:"0 0 641 175"},a.default.createElement(l,{variant:t}),a.default.createElement(i,{variant:t}))},t.Logomark=function(e){var t=e.variant;return a.default.createElement("svg",{viewBox:"0 0 175 175"},a.default.createElement(i,{variant:t}))};var a=r(n(1));function o(e){return"black"===e?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:"white"===e?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function i(e){var t=o(e.variant);return a.default.createElement(a.default.Fragment,null,a.default.createElement("path",{style:{fill:t.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),a.default.createElement("path",{style:{fill:t.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),a.default.createElement("path",{style:{fill:t.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),a.default.createElement("path",{style:{fill:t.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),a.default.createElement("path",{style:{fill:t.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"}))}function l(e){var t=o(e.variant);return a.default.createElement("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:t.midnight}},a.default.createElement("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),a.default.createElement("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),a.default.createElement("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),a.default.createElement("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),a.default.createElement("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),a.default.createElement("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),a.default.createElement("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"}))}},985:function(e,t,n){"use strict";var r=n(9).default,a=n(14).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(19)),i=r(n(11)),l=a(n(1)),c=n(17),u=r(n(12)),s=["onDrag","vertical","flexbox","className"],d=(0,c.makeStyles)({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});var f=function(e){var t,n=e.onDrag,r=e.vertical,a=void 0!==r&&r,c=e.flexbox,f=void 0!==c&&c,p=e.className,m=(0,i.default)(e,s),h=(0,l.useState)(!1),g=(0,o.default)(h,2),v=g[0],b=g[1],y=(0,l.useRef)(0),w=d();return(0,l.useEffect)((function(){function e(e){e.preventDefault();var t=a?e.clientX:e.clientY,r=t-y.current;r&&(n(r),y.current=t)}function t(){b(!1)}return v?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",t,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",t,!0)}):function(){}}),[v,n,a]),t=f?a?w.flexbox_verticalHandle:w.flexbox_horizontalHandle:a?w.verticalHandle:w.horizontalHandle,l.default.createElement("div",Object.assign({"data-resizer":"true",onMouseDown:function(e){e.preventDefault(),y.current=a?e.clientX:e.clientY,b(!0)},role:"presentation",className:(0,u.default)(t,p)},m))};t.default=f},986:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.abortBreakPoint=function(e){return h.apply(this,arguments)},t.checkAbortSignal=p,t.isAbortException=function(e){return e instanceof Error&&("AbortError"===e.name||"ERR_ABORTED"===e.code||!!e.message.match(/\b(aborted|AbortError)\b/i))},t.makeAbortError=g,t.observeAbortSignal=function(e){if(!e)return d.Observable.create();return(0,d.fromEvent)(e,"abort")};var a=r(n(22)),o=r(n(24)),i=r(n(15)),l=r(n(16)),c=r(n(27)),u=r(n(28)),s=r(n(424)),d=n(165),f=function(e){(0,c.default)(n,e);var t=(0,u.default)(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).code=void 0,e}return(0,i.default)(n)}((0,s.default)(Error));function p(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw g()}}function m(e){return new Promise((function(t){return setTimeout(t,e)}))}function h(){return(h=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(1);case 2:p(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){if("undefined"!=typeof DOMException)return new DOMException("aborted","AbortError");var e=new f("aborted");return e.code="ERR_ABORTED",e}},987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesIntersect2=function(e,t,n,r){return t>n&&e<r},t.intersection2=function(e,t,n,r){if(t>n&&e<r&&r-n&&t-e)return e>n?t<r?[e,t]:[e,r]:t<r?[n,t]:[n,r];return[]},t.isContainedWithin=function(e,t,n,r){return n<=e&&r>=t}},988:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.renderToAbstractCanvas=function(e,t,n,r){return u.apply(this,arguments)};var a=r(n(22)),o=r(n(24)),i=r(n(1)),l=n(564),c=n(39);function u(){return(u=(0,o.default)(a.default.mark((function e(t,n,r,o){var u,s,d,f,p,m,h,g,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.exportSVG,s=r.highResolutionScaling,d=void 0===s?1:s,!u||u.rasterizeLayers){e.next=7;break}return f=new l.PonyfillOffscreenCanvas(t,n),p=f.getContext("2d"),e.next=6,o(p);case 6:return e.abrupt("return",{reactElement:f.getSerializedSvg()});case 7:if(!u||!u.rasterizeLayers){e.next=32;break}return 4,m=(0,l.createCanvas)(Math.ceil(4*t),4*n),(h=m.getContext("2d")).scale(4,4),e.next=14,o(h);case 14:if(e.t0=i.default,e.t1=t,e.t2=n,!m.convertToBlob){e.next=27;break}return e.t4=c.blobToDataURL,e.next=21,m.convertToBlob({type:"image/png"});case 21:return e.t5=e.sent,e.next=24,(0,e.t4)(e.t5);case 24:e.t3=e.sent,e.next=28;break;case 27:e.t3=m.toDataURL();case 28:return e.t6=e.t3,e.t7={width:e.t1,height:e.t2,xlinkHref:e.t6},e.t8=e.t0.createElement.call(e.t0,"image",e.t7),e.abrupt("return",{reactElement:e.t8});case 32:return g=(0,l.createCanvas)(Math.ceil(t*d),n*d),(v=g.getContext("2d")).scale(d,d),e.next=37,o(v);case 37:return e.next=39,(0,l.createImageBitmap)(g);case 39:return e.t9=e.sent,e.abrupt("return",{imageData:e.t9});case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},989:function(e,t,n){"use strict";var r=n(1),a=n(76);t.a=Object(a.a)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},990:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1682)).default;t.default=a},991:function(e,t,n){"use strict";var r=n(11),a=n(10),o=n(1),i=(n(0),n(12)),l=n(71),c=n(13),u=n(1825),s=n(35),d=o.forwardRef((function(e,t){var n=e.children,l=e.classes,c=e.className,d=e.disabled,f=void 0!==d&&d,p=e.disableFocusRipple,m=void 0!==p&&p,h=e.onChange,g=e.onClick,v=e.selected,b=e.size,y=void 0===b?"medium":b,w=e.value,C=Object(r.default)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return o.createElement(u.a,Object(a.a)({className:Object(i.default)(l.root,c,f&&l.disabled,v&&l.selected,"medium"!==y&&l["size".concat(Object(s.a)(y))]),disabled:f,focusRipple:!m,ref:t,onClick:function(e){g&&(g(e,w),e.isDefaultPrevented())||h&&h(e,w)},onChange:h,value:w,"aria-pressed":v},C),o.createElement("span",{className:l.label},n))}));t.a=Object(c.a)((function(e){return{root:Object(a.a)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat(Object(l.a)(e.palette.action.active,.12)),color:Object(l.a)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:Object(l.a)(e.palette.action.active,.12),"&:hover":{backgroundColor:Object(l.a)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:Object(l.a)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:Object(l.a)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(d)},992:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(72)),o=r(n(110)),i=r(n(135)),l=r(n(136)),c=r(n(266)),u=r(n(180)),s=r(n(1));t.default=function(e){var t=e.onClose,n=e.open,r=e.onFactoryReset;function d(e){"reset"===e&&r(),t()}return s.default.createElement(o.default,{open:n,onClose:function(){return d()}},s.default.createElement(i.default,{id:"alert-dialog-title"},"Reset"),s.default.createElement(l.default,null,s.default.createElement(c.default,{id:"alert-dialog-description"},"Are you sure you want to reset? This will restore the default configuration.")),s.default.createElement(u.default,null,s.default.createElement(a.default,{onClick:function(){return d()},color:"primary"},"Cancel"),s.default.createElement(a.default,{onClick:function(){return d("reset")},color:"primary",variant:"contained"},"OK")))}},993:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.html,n=c(t)?t:(0,o.default)(t);return a.default.createElement("div",{dangerouslySetInnerHTML:{__html:i.default.sanitize(n)}})},t.isHTML=c;var a=r(n(1)),o=r(n(767)),i=r(n(768)),l=new RegExp(["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","td","tfoot","th","thead","tr","u","ul"].map((function(e){return"<".concat(e,"\\b[^>]*>")})).join("|"),"i");function c(e){return l.test(e)}},994:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeAbortSignal=function(e){var t=e.abortSignalId,n=l.get(t);n||(n=new AbortController,l.set(t,n));return n.signal},t.isRemoteAbortSignal=function(e){return"object"===(0,a.default)(e)&&null!==e&&"abortSignalId"in e&&"number"==typeof e.abortSignalId},t.remoteAbort=c,t.remoteAbortRpcHandler=function(){return{signalAbort:c}},t.serializeAbortSignal=function(e,t){var n=i.get(e);n||(o+=1,i.set(e,o),n=o,e.addEventListener("abort",(function(){var n=i.get(e);void 0!==n&&t("signalAbort",n)})));return{abortSignalId:n}};var a=r(n(41)),o=0,i=new WeakMap;var l=new Map;function c(e){var t=e.signalId,n=l.get(t);n&&n.abort()}},995:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(27)),l=r(n(28)),c=r(n(130)),u=n(192),s=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,o.default)(this,n),(r=t.call(this,e)).stateModel=void 0,r.configSchema=void 0,r.stateModel=e.stateModel,r.configSchema=e.configSchema,!r.stateModel)throw new Error("no stateModel defined for internet account type ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema provided for internet account type ".concat(r.name));if(!(0,u.getDefaultValue)(r.configSchema).type){var a=r.configSchema?r.configSchema.name:"UNKNOWN";throw new Error("".concat(a," is not explicitlyTyped"))}return r}return(0,a.default)(n)}(c.default);t.default=s},996:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(27)),l=r(n(28)),c=function(e){(0,i.default)(n,e);var t=(0,l.default)(n);function n(e){var r;if((0,o.default)(this,n),(r=t.call(this,e)).AdapterClass=void 0,r.configSchema=void 0,r.description=void 0,r.description=e.description,r.configSchema=e.configSchema,r.AdapterClass=e.AdapterClass,!r.AdapterClass)throw new Error("no AdapterClass defined for adapter type ".concat(r.name));return r}return(0,a.default)(n)}(r(n(130)).default);t.default=c},997:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1695)).default;t.default=a},998:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.blankStats=function(){return{scoreMin:0,scoreMax:0,scoreMean:0,scoreStdDev:0,scoreSum:0,scoreSumSquares:0,featureCount:0,featureDensity:0,basesCovered:0}},t.calcPerBaseStats=function(e,t){var n=e.start,r=e.end,a=[],o=t.sort((function(e,t){return e.get("start")-t.get("start")})),i=n,l=0,c=0;for(;i<r;){for(;l<o.length&&i>=o[l].get("end");)l+=1;var u=o[l];u&&i>=u.get("start")&&i<u.get("end")?a[c]=u.get("score"):a[c]=0,c+=1,i+=1}return a},t.calcStdFromSums=c,t.rectifyStats=u,t.scoresToStats=function(e,t){return s.apply(this,arguments)};var a=r(n(22)),o=r(n(24)),i=r(n(26)),l=n(54);function c(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return 0===n?0:(a?r=t/n-e*e/(n*n):(r=t-e*e/n,n>1&&(r/=n-1)),r<0?0:Math.sqrt(r))}function u(e){return(0,i.default)((0,i.default)({},e),{},{scoreMean:(e.scoreSum||0)/(e.featureCount||e.basesCovered||1),scoreStdDev:c(e.scoreSum,e.scoreSumSquares,e.featureCount||e.basesCovered),featureDensity:(e.featureCount||1)/e.basesCovered})}function s(){return(s=(0,o.default)(a.default.mark((function e(t,n){var r,o,i,c,s,d,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.start,o=t.end,e.next=3,n.pipe((0,l.reduce)((function(e,t){var n=t.get("score");return e.scoreMax=Math.max(e.scoreMax,t.get("summary")?t.get("maxScore"):n),e.scoreMin=Math.min(e.scoreMin,t.get("summary")?t.get("minScore"):n),e.scoreSum+=n,e.scoreSumSquares+=n*n,e.featureCount+=1,e}),{scoreMin:Number.MAX_VALUE,scoreMax:Number.MIN_VALUE,scoreSum:0,scoreSumSquares:0,featureCount:0})).toPromise();case 3:return i=e.sent,c=i.scoreMin,s=i.scoreMax,d=i.scoreSum,f=i.scoreSumSquares,p=i.featureCount,e.abrupt("return",u({scoreMax:s,scoreMin:c,scoreSum:d,scoreSumSquares:f,featureCount:p,basesCovered:o-r+1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},999:function(e,t,n){"use strict";var r=n(9).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Object.keys(t),i=0;i<r.length;i++){var l=r[i];if(n.length>5e3)break;"object"===(0,a.default)(t[l])&&t[l]?n+=e(t[l],n):n+="".concat(l,"-").concat(t[l],";")}return(0,o.hashCode)(n)};var a=r(n(41)),o=n(39)}}]);
//# sourceMappingURL=async-CircularGenomeView.js.map
//# sourceMappingURL=async-CircularGenomeView.js.map