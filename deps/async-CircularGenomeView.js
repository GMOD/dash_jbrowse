/*! For license information please see async-CircularGenomeView.js.LICENSE.txt */
(window.webpackJsonpdash_jbrowse=window.webpackJsonpdash_jbrowse||[]).push([[1],{100:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RemoteFileWithRangeCache",{enumerable:!0,get:function(){return c.RemoteFileWithRangeCache}}),t.getFetcher=function(e,t){if(!(0,s.isUriLocation)(e))throw new Error("Not a valid UriLocation: ".concat(JSON.stringify(e)));var r=g(e,t);if(r)return r.getFetcher(e);return h},t.openLocation=function(e,t){if(!e)throw new Error("must provide a location to openLocation");if(function(e){return"localPath"in e}(e)){if(!e.localPath)throw new Error("No local path provided");if(u.default||f.isElectron)return new l.LocalFile(e.localPath);throw new Error("can't use local files in the browser")}if(function(e){return"blobId"in e}(e)){var r=(0,d.getBlob)(e.blobId);if(!r)throw new Error('file ("'.concat(e.name,'") was opened locally from a previous session. To restore it, go to track settings and reopen the file'));return new l.BlobFile(r)}if((0,s.isUriLocation)(e)){if(!e.uri)throw new Error("No URI provided");var n=e.baseUri?m(m({},e),{},{uri:new URL(e.uri,e.baseUri).href}):e;if(t){var a=g(e,t);if(a)return a.openLocation(n)}return new c.RemoteFileWithRangeCache(n.uri,{fetch:h})}throw new Error("invalid fileLocation")};var a=n(r(19)),o=n(r(21)),i=n(r(10)),l=r(92),u=n(r(324)),c=r(2071),s=r(130),d=r(64),f=r(32);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){var r=t.rootModel;if(r&&(0,s.isAppRootModel)(r))return r.findAppropriateInternetAccount(e);if(e.internetAccountPreAuthorization){if(!e.internetAccountPreAuthorization.authInfo.token)throw new Error("Failed to obtain token from internet account. Try reloading the page");return t.getInternetAccountType(e.internetAccountPreAuthorization.internetAccountType).stateModel.create({type:e.internetAccountPreAuthorization.internetAccountType,configuration:e.internetAccountPreAuthorization.authInfo.configuration})}}function h(e,t){return v.apply(this,arguments)}function v(){return(v=(0,o.default)(a.default.mark((function e(t,r){var n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,r);case 2:if(401!==(n=e.sent).status){e.next=7;break}if(!(o=n.headers.get("WWW-Authenticate"))||!o.includes("Basic")){e.next=7;break}throw new s.AuthNeededError("Accessing HTTPBasic resource without authentication",t.toString());case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},114:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(10)),l=(0,a.default)((function e(t){(0,o.default)(this,e),(0,i.default)(this,"name",""),this.name=t.name}));t.default=l},115:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(15)),o=n(r(16)),i=n(r(10)),l=function(){function e(){(0,a.default)(this,e),(0,i.default)(this,"name",void 0),(0,i.default)(this,"url",void 0),(0,i.default)(this,"version",void 0),(0,i.default)(this,"configurationSchema",void 0)}return(0,o.default)(e,[{key:"install",value:function(e){}},{key:"configure",value:function(e){}}]),e}();t.default=l},116:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableCreate=function(e,t){return n.Observable.create((function(t){try{var r=e(t);r&&r.catch&&r.catch((function(e){return t.error(e)}))}catch(e){t.error(e)}})).pipe((0,a.takeUntil)((0,o.observeAbortSignal)(t)))};var n=r(144),a=r(52),o=r(32)},130:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0});var a={isViewContainer:!0,isSessionModel:!0,isSessionModelWithConfigEditing:!0,isSessionWithAddTracks:!0,isSessionModelWithWidgets:!0,isSessionWithSessionPlugins:!0,isSelectionContainer:!0,isViewModel:!0,isTrackModel:!0,isDisplayModel:!0,isTrackViewModel:!0,isAppRootModel:!0,isAbstractMenuManager:!0,isUriLocation:!0,AuthNeededError:!0,RetryError:!0,isAuthNeededException:!0,isRetryException:!0};t.RetryError=t.AuthNeededError=void 0,t.isAbstractMenuManager=function(e){return"object"===(0,f.default)(e)&&null!==e&&"appendMenu"in e&&"appendToSubMenu"in e},t.isAppRootModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"isAssemblyEditing"in e&&"findAppropriateInternetAccount"in e},t.isAuthNeededException=function(e){return e instanceof Error&&("AuthNeededError"===e.name||void 0!==e.url)},t.isDisplayModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"configuration"in e&&e.configuration.displayId},t.isRetryException=function(e){return"RetryError"===e.name||void 0!==e.internetAccountId},t.isSelectionContainer=function(e){return"object"===(0,f.default)(e)&&null!==e&&"selection"in e&&"setSelection"in e},t.isSessionModel=h,t.isSessionModelWithConfigEditing=function(e){return h(e)&&"editConfiguration"in e},t.isSessionModelWithWidgets=function(e){return h(e)&&"widgets"in e},t.isSessionWithAddTracks=function(e){return h(e)&&"addTrackConf"in e},t.isSessionWithSessionPlugins=function(e){return h(e)&&"sessionPlugins"in e},t.isTrackModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"configuration"in e&&e.configuration.trackId},t.isTrackViewModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"showTrack"in e&&"hideTrack"in e},t.isUriLocation=function(e){return"object"===(0,f.default)(e)&&null!==e&&"locationType"in e&&"uri"in e},t.isViewContainer=function(e){return(0,p.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e},t.isViewModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"width"in e&&"setWidth"in e};var o=n(r(16)),i=n(r(15)),l=n(r(30)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=n(r(180)),f=n(r(11)),p=r(17),m=r(2041);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function h(e){return"object"===(0,f.default)(e)&&null!==e&&"rpcManager"in e&&"configuration"in e}Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var v=function(e){(0,u.default)(r,e);var t=g(r);function r(e,n){var a;return(0,i.default)(this,r),(a=t.call(this,e)).message=e,a.url=n,a.name="AuthNeededError",Object.setPrototypeOf((0,l.default)(a),r.prototype),a}return(0,o.default)(r)}((0,d.default)(Error));t.AuthNeededError=v;var y=function(e){(0,u.default)(r,e);var t=g(r);function r(e,n){var a;return(0,i.default)(this,r),(a=t.call(this,e)).message=e,a.internetAccountId=n,a.name="RetryError",a}return(0,o.default)(r)}((0,d.default)(Error));t.RetryError=y},131:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.RESIZE_HANDLE_HEIGHT=t.INTER_REGION_PADDING_WIDTH=t.HEADER_OVERVIEW_HEIGHT=t.HEADER_BAR_HEIGHT=void 0,Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(t,"RefNameAutocomplete",{enumerable:!0,get:function(){return R.default}}),t.SPACING=t.SCALE_BAR_HEIGHT=void 0,Object.defineProperty(t,"SearchBox",{enumerable:!0,get:function(){return D.default}}),t.WIDGET_HEIGHT=void 0,Object.defineProperty(t,"renderToSvg",{enumerable:!0,get:function(){return T.renderToSvg}}),t.stateModelFactory=function(e){return y.types.compose(s.BaseViewModel,y.types.model("LinearGenomeView",{id:d.ElementId,type:y.types.literal("LinearGenomeView"),offsetPx:0,bpPerPx:1,displayedRegions:y.types.array(d.Region),tracks:y.types.array(e.pluggableMstType("track","stateModel")),hideHeader:!1,hideHeaderOverview:!1,hideNoTracksActive:!1,trackSelectorType:y.types.optional(y.types.enumeration(["hierarchical"]),"hierarchical"),trackLabels:y.types.optional(y.types.string,(function(){return B("lgv-trackLabels")||"overlapping"})),showCenterLine:y.types.optional(y.types.boolean,(function(){var e=B("lgv-showCenterLine");return null!=e&&!!+e})),showCytobandsSetting:y.types.optional(y.types.boolean,(function(){var e=B("lgv-showCytobands");return null==e||!!+e}))})).volatile((function(){return{volatileWidth:void 0,minimumBlockWidth:3,draggingTrackId:void 0,volatileError:void 0,afterDisplayedRegionsSetCallbacks:[],scaleFactor:1,trackRefs:{},coarseDynamicBlocks:[],coarseTotalBp:0,leftOffset:void 0,rightOffset:void 0,searchResults:void 0,searchQuery:void 0,seqDialogDisplayed:!1}})).views((function(e){return{get width(){if(void 0===e.volatileWidth)throw new Error("width undefined, make sure to check for model.initialized");return e.volatileWidth},get interRegionPaddingWidth(){return 2},get assemblyNames(){return(0,l.default)(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))))}}})).views((function(e){return{get assemblyErrors(){var t=(0,p.getSession)(e).assemblyManager;return e.assemblyNames.map((function(e){var r;return null===(r=t.get(e))||void 0===r?void 0:r.error})).filter((function(e){return!!e})).join(", ")},get assembliesInitialized(){var t=(0,p.getSession)(e).assemblyManager;return e.assemblyNames.every((function(e){var r;return null===(r=t.get(e))||void 0===r?void 0:r.initialized}))},get initialized(){return void 0!==e.volatileWidth&&this.assembliesInitialized},get hasDisplayedRegions(){return e.displayedRegions.length>0},get isSearchDialogDisplayed(){return void 0!==e.searchResults},get scaleBarHeight(){return 20},get headerHeight(){return e.hideHeader?0:e.hideHeaderOverview?48:68},get trackHeights(){return e.tracks.map((function(e){return e.displays[0].height})).reduce((function(e,t){return e+t}),0)},get trackHeightsWithResizeHandles(){return this.trackHeights+3*e.tracks.length},get height(){return this.trackHeightsWithResizeHandles+this.headerHeight+this.scaleBarHeight},get totalBp(){return e.displayedRegions.reduce((function(e,t){return e+t.end-t.start}),0)},get maxBpPerPx(){return this.totalBp/(.9*e.width)},get minBpPerPx(){return.02},get error(){return e.volatileError||this.assemblyErrors},get maxOffset(){return this.displayedRegionsTotalPx-10},get minOffset(){return 30-e.width},get displayedRegionsTotalPx(){return this.totalBp/e.bpPerPx},renderProps:function(){return L(L({},(0,h.getParentRenderProps)(e)),{},{bpPerPx:e.bpPerPx,highResolutionScaling:(0,c.getConf)((0,p.getSession)(e),"highResolutionScaling")})},searchScope:function(t){return{assemblyName:t,includeAggregateIndexes:!0,tracks:e.tracks}},bpToPx:function(t){var r=t.refName,n=t.coord,a=t.regionNumber;return(0,p.viewBpToPx)({refName:r,coord:n,regionNumber:a,self:e})},pxToBp:function(t){var r=0,n=(e.offsetPx+t)*e.bpPerPx,a=e.displayedRegions.length;if(n<0){var o=e.displayedRegions[0],i=n;return L(L({},(0,y.getSnapshot)(o)),{},{oob:!0,coord:o.reversed?Math.floor(o.end-i)+1:Math.floor(o.start+i)+1,offset:i,index:0})}for(var l=e.interRegionPaddingWidth*e.bpPerPx,u=e.minimumBlockWidth*e.bpPerPx,c=0;c<e.displayedRegions.length;c+=1){var s=e.displayedRegions[c],d=s.end-s.start,f=n-r;if(d+r>n&&r<=n)return L(L({},(0,y.getSnapshot)(s)),{},{oob:!1,offset:f,coord:s.reversed?Math.floor(s.end-f)+1:Math.floor(s.start+f)+1,index:c});s.end-s.start>u&&f/e.bpPerPx>0&&f/e.bpPerPx<e.width?r+=d+l:r+=d}if(n>=r){var p=e.displayedRegions[a-1],m=n-r+(p.end-p.start);return L(L({},(0,y.getSnapshot)(p)),{},{oob:!0,offset:m,coord:p.reversed?Math.floor(p.end-m)+1:Math.floor(p.start+m)+1,index:a-1})}return{coord:0,index:0,refName:"",oob:!0,assemblyName:"",offset:0,start:0,end:0,reversed:!1}},getTrack:function(t){return e.tracks.find((function(e){return e.configuration.trackId===t}))},rankSearchResults:function(t){var r=e.tracks.map((function(e){return e.configuration.trackId}));return t.forEach((function(e){r.includes(e.trackId)&&e.updateScore(e.getScore()+1)})),t},rewriteOnClicks:function(t,r){var n=this;r.forEach((function(r){if("subMenu"in r&&n.rewriteOnClicks(t,r.subMenu),"onClick"in r){var a=r.onClick;r.onClick=function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.tracks.forEach((function(e){e.type===t&&a.apply(e,[e].concat(n))}))}}}))},get trackTypeActions(){var t=this,r=new Map;return e.tracks.forEach((function(e){if(!r.get(e.type)){var n=(0,w.default)(e.viewMenuActions);t.rewriteOnClicks(e.type,n),r.set(e.type,n)}})),r},get centerLineInfo(){return e.displayedRegions.length?this.pxToBp(e.width/2):void 0}}})).actions((function(t){return{setShowCytobands:function(e){t.showCytobandsSetting=e,localStorage.setItem("lgv-showCytobands","".concat(+e))},setWidth:function(e){t.volatileWidth=e},setError:function(e){t.volatileError=e},toggleHeader:function(){t.hideHeader=!t.hideHeader},toggleHeaderOverview:function(){t.hideHeaderOverview=!t.hideHeaderOverview},toggleNoTracksActive:function(){t.hideNoTracksActive=!t.hideNoTracksActive},scrollTo:function(e){var r=(0,p.clamp)(e,t.minOffset,t.maxOffset);return t.offsetPx=r,r},zoomTo:function(e){var r=(0,p.clamp)(e,t.minBpPerPx,t.maxBpPerPx);if(r===t.bpPerPx)return r;var n=t.bpPerPx;if(t.bpPerPx=r,Math.abs(n-r)<1e-6)return console.warn("zoomTo bpPerPx rounding error"),n;var a=t.width;return this.scrollTo(Math.round((t.offsetPx+a/2)*n/r-a/2)),r},setOffsets:function(e,r){t.leftOffset=e,t.rightOffset=r},setSearchResults:function(e,r){t.searchResults=e,t.searchQuery=r},setSequenceDialogOpen:function(e){t.seqDialogDisplayed=e},setNewView:function(e,t){this.zoomTo(e),this.scrollTo(t)},horizontallyFlip:function(){t.displayedRegions=(0,y.cast)(t.displayedRegions.slice().reverse().map((function(e){return L(L({},e),{},{reversed:!e.reversed})}))),this.scrollTo(t.totalBp/t.bpPerPx-t.offsetPx-t.width)},showTrack:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.pluggableConfigSchemaType("track"),i=(0,y.resolveIdentifier)(o,(0,y.getRoot)(t),r);if(!i)throw new Error('Could not resolve identifier "'.concat(r,'"'));var l=e.getTrackType(null==i?void 0:i.type);if(!l)throw new Error("Unknown track type ".concat(i.type));var u=e.getViewType(t.type),c=u.displayTypes.map((function(e){return e.name})),s=i.displays.find((function(e){return c.includes(e.type)}));if(!s)throw new Error("Could not find a compatible display for view type ".concat(t.type));var d=t.tracks.filter((function(e){return e.configuration===i}));if(0===d.length){var f=l.stateModel.create(L(L({},n),{},{type:i.type,configuration:i,displays:[L({type:s.type,configuration:s},a)]}));return t.tracks.push(f),f}return d[0]},hideTrack:function(r){var n=e.pluggableConfigSchemaType("track"),a=(0,y.resolveIdentifier)(n,(0,y.getRoot)(t),r),o=t.tracks.filter((function(e){return e.configuration===a}));return(0,v.transaction)((function(){return o.forEach((function(e){return t.tracks.remove(e)}))})),o.length}}})).actions((function(e){return{moveTrack:function(t,r){var n=e.tracks.findIndex((function(e){return e.id===t}));if(-1===n)throw new Error("Track ID ".concat(t," not found"));var a=e.tracks.findIndex((function(e){return e.id===r}));if(-1===a)throw new Error("Track ID ".concat(r," not found"));var o=(0,y.getSnapshot)(e.tracks[n]);e.tracks.splice(n,1),e.tracks.splice(a,0,o)},closeView:function(){var t=(0,p.getContainingView)(e);t?(0,p.isViewContainer)(t)&&t.removeView(e):(0,p.getSession)(e).removeView(e)},toggleTrack:function(t){e.hideTrack(t)||e.showTrack(t)},setTrackLabels:function(t){e.trackLabels=t,localStorage.setItem("lgv-trackLabels",t)},toggleCenterLine:function(){e.showCenterLine=!e.showCenterLine,localStorage.setItem("lgv-showCenterLine","".concat(+e.showCenterLine))},setDisplayedRegions:function(t){e.displayedRegions=(0,y.cast)(t),e.zoomTo(e.bpPerPx)},activateTrackSelector:function(){if("hierarchical"===e.trackSelectorType){var t=(0,p.getSession)(e);if((0,p.isSessionModelWithWidgets)(t)){var r=t.addWidget("HierarchicalTrackSelectorWidget","hierarchicalTrackSelector",{view:e});return t.showWidget(r),r}}throw new Error("invalid track selector type ".concat(e.trackSelectorType))},navToLocString:function(t,r){var n,a,o=e.assemblyNames,l=(0,p.getSession)(e).assemblyManager,u=l.isValidRefName,c=r||o[0],s=t.split(/(\s+)/).map((function(e){return e.trim()})).filter((function(e){return!!e}));try{a=s.map((function(e){return(0,p.parseLocString)(e,(function(e){return u(e,c)}))}))}catch(e){var d=(0,i.default)(s,3),f=d[0],m=d[1],g=d[2];if(!("".concat(e).match(/Unknown reference sequence/)&&Number.isInteger(+m)&&Number.isInteger(+g)))throw e;a=[(0,p.parseLocString)(f+":"+m+".."+g,(function(e){return u(e,c)}))]}var h=null===(n=a)||void 0===n?void 0:n.map((function(e){var t=e.assemblyName||c,r=l.get(t),n=e.refName;if(!r)throw new Error("assembly ".concat(t," not found"));var a=r.regions;if(!a)throw new Error("regions not loaded yet for ".concat(t));var o=r.getCanonicalRefName(e.refName);if(!o)throw new Error("Could not find refName ".concat(n," in ").concat(r.name));var i=a.find((function(e){return e.refName===o}));if(!i)throw new Error("Could not find refName ".concat(n," in ").concat(t));return L(L({},e),{},{assemblyName:t,parentRegion:i})}));if(1===h.length){var v=h[0];this.setDisplayedRegions([L({reversed:v.reversed},v.parentRegion)]);var y=v.start,b=v.end,w=v.parentRegion;this.navTo(L(L({},v),{},{start:(0,p.clamp)(null!=y?y:0,0,w.end),end:(0,p.clamp)(null!=b?b:w.end,0,w.end)}))}else this.setDisplayedRegions(h.map((function(e){return void 0===e.start?e.parentRegion:e}))),this.showAllRegions()},navTo:function(e){this.navToMultiple([e])},navToMultiple:function(t){var r=t[0],n=r.refName,a=r.start,o=r.end,i=r.assemblyName,l=void 0===i?e.assemblyNames[0]:i;if(void 0!==a&&void 0!==o&&a>o)throw new Error('start "'.concat(a+1,'" is greater than end "').concat(o,'"'));var u=(0,p.getSession)(e).assemblyManager.get(l);if(u){var c=u.getCanonicalRefName(n);c&&(n=c)}for(var s,d=a,f=o,m=!1,g=function(e){if(n===e.refName){if(m=!0,void 0===d&&(d=e.start),void 0===f&&(f=e.end),d>=e.start&&d<=e.end&&f<=e.end&&f>=e.start)return!0;d=a,f=o}return!1},h=(0,p.findLastIndex)(e.displayedRegions,g);s!==h;)try{var v=s;if(s=e.displayedRegions.slice(void 0===v?0:v+1).findIndex(g),void 0!==v&&(s+=v+1),!m)throw new Error('could not find a region with refName "'.concat(n,'"'));if(void 0===d)throw new Error('could not find a region with refName "'.concat(n,'" that contained an end position ').concat(f));if(void 0===f)throw new Error('could not find a region with refName "'.concat(n,'" that contained a start position ').concat(d+1));if(-1===s)throw new Error('could not find a region that completely contained "'.concat((0,p.assembleLocString)(r),'"'));if(1===t.length){var y=e.displayedRegions[s];return void this.moveTo({index:s,offset:y.reversed?y.end-f:d-y.start},{index:s,offset:y.reversed?y.end-d:f-y.start})}for(var b=0,w=0,O=0;b<t.length;b++){var C=t[b],k=e.displayedRegions[s+b];if(w=C.start||k.start,O=C.end||k.end,C.refName!==k.refName)throw new Error("Entered location ".concat((0,p.assembleLocString)(C)," does not match with displayed regions"))}b-=1;var E=e.displayedRegions[s],S=e.displayedRegions[s+b];return void this.moveTo({index:s,offset:E.reversed?E.end-f:d-E.start},{index:s+b,offset:S.reversed?S.end-w:O-S.start})}catch(e){if(s===h)throw e}},zoomToDisplayedRegions:function(t,r){if(void 0!==t&&void 0!==r){if(t.refName===r.refName&&t.index===r.index&&r.offset<t.offset||t.index>r.index){var n=[r,t];t=n[0],r=n[1]}var a={start:t.start,end:t.end,index:t.index,offset:t.offset},o={start:r.start,end:r.end,index:r.index,offset:r.offset};if(a&&o)this.moveTo(a,o);else(0,p.getSession)(e).notify("No regions found to navigate to","warning")}},getSelectedRegions:function(t,r){var n=b.default.create(L(L({},(0,y.getSnapshot)(e)),{},{interRegionPaddingWidth:e.interRegionPaddingWidth}));return n.setVolatileWidth(e.width),n.zoomToDisplayedRegions(t,r),n.dynamicBlocks.contentBlocks.map((function(e){return L(L({},e),{},{start:Math.floor(e.start),end:Math.ceil(e.end)})}))},afterDisplayedRegionsSet:function(t){e.afterDisplayedRegionsSetCallbacks.push(t)},moveTo:function(t,r){var n=0;if(t.index===r.index)n+=r.offset-t.offset;else{var a=e.displayedRegions[t.index];if(n+=a.end-a.start-t.offset,r.index-t.index>=2)for(var o=t.index+1;o<r.index;o+=1)n+=e.displayedRegions[o].end-e.displayedRegions[o].start;n+=r.offset}var i=n/(e.width-e.interRegionPaddingWidth*(r.index-t.index)),l=e.zoomTo(i),u=0;i<l&&(u=(l-i)*e.width/2);for(var c=-u,s=0;s<e.displayedRegions.length;s+=1){var d=e.displayedRegions[s];if(t.index===s){c+=t.offset;break}c+=d.end-d.start}e.scrollTo(Math.round(c/e.bpPerPx)+e.interRegionPaddingWidth*t.index)},horizontalScroll:function(t){var r=e.offsetPx;return e.scrollTo(e.offsetPx+t)-r},centerAt:function(t,r,n){var a=e.bpToPx({refName:r,coord:t,regionNumber:n});a&&e.scrollTo(Math.round(a.offsetPx-e.width/2))},center:function(){var t=e.totalBp/2;e.scrollTo(Math.round(t/e.bpPerPx-e.width/2))},showAllRegions:function(){e.zoomTo(e.maxBpPerPx),this.center()},showAllRegionsInAssembly:function(t){var r=(0,p.getSession)(e),n=r.assemblyManager;if(!t){var a=(0,l.default)(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))));if(a.length>1)return void r.notify("Can't perform this with multiple assemblies currently");t=(0,i.default)(a,1)[0]}var o=n.get(t);if(o){var u=o.regions;u&&(this.setDisplayedRegions(u),e.zoomTo(e.maxBpPerPx),this.center())}},setDraggingTrackId:function(t){e.draggingTrackId=t},setScaleFactor:function(t){e.scaleFactor=t}}})).actions((function(e){var t=function(){};return{slide:function(r){var n=(0,p.springAnimate)(e.offsetPx,e.offsetPx+e.width*r,e.scrollTo),a=(0,i.default)(n,2),o=a[0],l=a[1];t(),t=l,o()}}})).actions((function(e){var t=function(){};return{zoom:function(r){if(e.zoomTo(e.bpPerPx),!(r<e.bpPerPx&&e.bpPerPx===e.minBpPerPx||r>e.bpPerPx&&e.bpPerPx===e.maxBpPerPx)){var n=e.bpPerPx/r,a=(0,p.springAnimate)(1,n,e.setScaleFactor,(function(){e.zoomTo(r),e.setScaleFactor(1)})),o=(0,i.default)(a,2),l=o[0],u=o[1];t(),t=u,l()}}}})).views((function(e){return{get canShowCytobands(){return 1===e.displayedRegions.length&&this.anyCytobandsExist},get showCytobands(){return this.canShowCytobands&&e.showCytobandsSetting},get anyCytobandsExist(){var t=(0,p.getSession)(e).assemblyManager;return e.assemblyNames.some((function(e){var r,n;return null===(r=t.get(e))||void 0===r||null===(n=r.cytobands)||void 0===n?void 0:n.length}))},get cytobandOffset(){return this.showCytobands?(0,p.measureText)(e.displayedRegions[0].refName,12)+15:0}}})).views((function(e){return{menuItems:function(){var t,r=e.canShowCytobands,n=e.showCytobands,a=[{label:"Return to import form",onClick:function(){(0,p.getSession)(e).queueDialog((function(t){return[f.ReturnToImportFormDialog,{model:e,handleClose:t}]}))},icon:P.default},{label:"Export SVG",icon:x.default,onClick:function(){(0,p.getSession)(e).queueDialog((function(t){return[I.default,{model:e,handleClose:t}]}))}},{label:"Open track selector",onClick:e.activateTrackSelector,icon:C.TrackSelector},{label:"Horizontally flip",icon:k.default,onClick:e.horizontallyFlip},{type:"divider"},{label:"Show all regions in assembly",icon:E.default,onClick:e.showAllRegionsInAssembly},{label:"Show center line",icon:E.default,type:"checkbox",checked:e.showCenterLine,onClick:e.toggleCenterLine},{label:"Show header",icon:E.default,type:"checkbox",checked:!e.hideHeader,onClick:e.toggleHeader},{label:"Show header overview",icon:E.default,type:"checkbox",checked:!e.hideHeaderOverview,onClick:e.toggleHeaderOverview,disabled:e.hideHeader},{label:"Show no tracks active button",icon:E.default,type:"checkbox",checked:!e.hideNoTracksActive,onClick:e.toggleNoTracksActive},{label:"Track labels",icon:S.default,subMenu:[{label:"Overlapping",icon:E.default,type:"radio",checked:"overlapping"===e.trackLabels,onClick:function(){return e.setTrackLabels("overlapping")}},{label:"Offset",icon:E.default,type:"radio",checked:"offset"===e.trackLabels,onClick:function(){return e.setTrackLabels("offset")}},{label:"Hidden",icon:E.default,type:"radio",checked:"hidden"===e.trackLabels,onClick:function(){return e.setTrackLabels("hidden")}}]}].concat((0,l.default)(r?[{label:n?"Hide ideogram":"Show ideograms",onClick:function(){e.setShowCytobands(!n)}}]:[])),o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}(e.trackTypeActions.entries());try{for(o.s();!(t=o.n()).done;){var u=(0,i.default)(t.value,2),c=u[0],s=u[1];s.length&&(a.push({type:"divider"},{type:"subHeader",label:c}),s.forEach((function(e){a.push(e)})))}}catch(e){o.e(e)}finally{o.f()}return a}}})).views((function(e){var t,r="";return{get staticBlocks(){var n=(0,g.default)(e),a=JSON.stringify(n);return r!==a&&(t=n,r=a),t},get dynamicBlocks(){return(0,m.default)(e)},get roundedDynamicBlocks(){return this.dynamicBlocks.contentBlocks.map((function(e){return L(L({},e),{},{start:Math.floor(e.start),end:Math.ceil(e.end)})}))},get visibleLocStrings(){return N(this.dynamicBlocks.contentBlocks)},get coarseVisibleLocStrings(){return N(e.coarseDynamicBlocks)}}})).actions((function(e){return{clearView:function(){e.setDisplayedRegions([]),e.tracks.clear(),e.scrollTo(0),e.zoomTo(10)},setCoarseDynamicBlocks:function(t){e.coarseDynamicBlocks=t.contentBlocks,e.coarseTotalBp=t.totalBp},afterAttach:function(){var t=this;(0,y.addDisposer)(e,(0,v.autorun)((function(){e.initialized&&t.setCoarseDynamicBlocks(e.dynamicBlocks)}),{delay:150}))}}})).actions((function(e){return{exportSvg:function(){var t=arguments;return(0,o.default)(a.default.mark((function r(){var n,o,i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=t.length>0&&void 0!==t[0]?t[0]:{},r.next=3,(0,T.renderToSvg)(e,n);case 3:o=r.sent,i=new Blob([o],{type:"image/svg+xml"}),(0,O.saveAs)(i,n.filename||"image.svg");case 6:case"end":return r.stop()}}),r)})))()}}})).views((function(e){return{rubberBandMenuItems:function(){return[{label:"Zoom to region",icon:j.default,onClick:function(){var t=e.leftOffset,r=e.rightOffset;t&&r&&e.moveTo(t,r)}},{label:"Get sequence",icon:M.default,onClick:function(){e.setSequenceDialogOpen(!0)}}]}}}))};var a=n(r(19)),o=n(r(21)),i=n(r(12)),l=n(r(33)),u=n(r(10)),c=r(29),s=r(99),d=r(72),f=r(84),p=r(32),m=n(r(917)),g=n(r(918)),h=r(64),v=r(42),y=r(17),b=n(r(364)),w=n(r(334)),O=r(341),C=r(208),k=n(r(779)),E=n(r(271)),S=n(r(780)),P=n(r(781)),x=n(r(782)),j=n(r(141)),M=n(r(270)),T=r(2166),R=n(r(527)),D=n(r(936)),I=n(r(2170)),A=n(r(937));function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e){if(!e.length)return"";var t=e.every((function(t){return t.assemblyName===e[0].assemblyName}));return e.map((function(e){return(0,p.assembleLocString)(L(L({},e),{},{start:Math.round(e.start),end:Math.round(e.end),assemblyName:t?void 0:e.assemblyName}))})).join(" ")}t.HEADER_BAR_HEIGHT=48;t.HEADER_OVERVIEW_HEIGHT=20;t.SCALE_BAR_HEIGHT=17;t.RESIZE_HANDLE_HEIGHT=3;t.INTER_REGION_PADDING_WIDTH=2;t.SPACING=7;function B(e){return"undefined"!=typeof localStorage?localStorage.getItem(e):void 0}t.WIDGET_HEIGHT=32},142:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(16)),l=n(r(15)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(10));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var m=function(e){(0,c.default)(r,e);var t=p(r);function r(e){var n;if((0,l.default)(this,r),n=t.call(this,e),(0,f.default)((0,u.default)(n),"AdapterClass",void 0),(0,f.default)((0,u.default)(n),"getAdapterClass",void 0),(0,f.default)((0,u.default)(n),"configSchema",void 0),(0,f.default)((0,u.default)(n),"adapterCapabilities",void 0),(0,f.default)((0,u.default)(n),"adapterMetadata",void 0),"AdapterClass"in e)n.AdapterClass=e.AdapterClass,n.getAdapterClass=(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.AdapterClass);case 1:case"end":return t.stop()}}),t)})));else{if(!("getAdapterClass"in e))throw new Error("no AdapterClass or getAdapterClass is defined for adapter type ".concat(n.name));n.getAdapterClass=e.getAdapterClass}return n.configSchema=e.configSchema,n.adapterCapabilities=e.adapterCapabilities||[],n.adapterMetadata=e.adapterMetadata,n}return(0,i.default)(r)}(n(r(114)).default);t.default=m},143:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseLinearDisplay",{enumerable:!0,get:function(){return E.BaseLinearDisplay}}),Object.defineProperty(t,"BaseLinearDisplayComponent",{enumerable:!0,get:function(){return E.BaseLinearDisplayComponent}}),Object.defineProperty(t,"RefNameAutocomplete",{enumerable:!0,get:function(){return P.RefNameAutocomplete}}),Object.defineProperty(t,"SearchBox",{enumerable:!0,get:function(){return P.SearchBox}}),Object.defineProperty(t,"baseLinearDisplayConfigSchema",{enumerable:!0,get:function(){return E.baseLinearDisplayConfigSchema}}),t.default=void 0,Object.defineProperty(t,"linearBareDisplayConfigSchemaFactory",{enumerable:!0,get:function(){return S.configSchemaFactory}}),Object.defineProperty(t,"linearBasicDisplayConfigSchemaFactory",{enumerable:!0,get:function(){return x.configSchema}}),Object.defineProperty(t,"linearBasicDisplayModelFactory",{enumerable:!0,get:function(){return x.modelFactory}}),Object.defineProperty(t,"renderToSvg",{enumerable:!0,get:function(){return P.renderToSvg}});var o=n(r(19)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(1),g=r(42),h=r(29),v=r(99),y=n(r(167)),b=n(r(205)),w=n(r(282)),O=n(r(115)),C=r(32),k=n(r(776)),E=r(284),S=r(2163),P=r(131),x=r(2184);function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(j=function(e){return e?r:t})(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var T=function(e){(0,s.default)(n,e);var t=M(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,p.default)((0,c.default)(e),"name","LinearGenomeViewPlugin"),(0,p.default)((0,c.default)(e),"exports",{BaseLinearDisplayComponent:E.BaseLinearDisplayComponent,BaseLinearDisplay:E.BaseLinearDisplay,baseLinearDisplayConfigSchema:E.baseLinearDisplayConfigSchema}),e}return(0,u.default)(n,[{key:"install",value:function(e){e.addTrackType((function(){var t=(0,h.ConfigurationSchema)("FeatureTrack",{},{baseConfiguration:(0,v.createBaseTrackConfig)(e),explicitIdentifier:"trackId"});return new y.default({name:"FeatureTrack",configSchema:t,stateModel:(0,v.createBaseTrackModel)(e,"FeatureTrack",t)})})),e.addTrackType((function(){var t=(0,h.ConfigurationSchema)("BasicTrack",{},{baseConfiguration:(0,v.createBaseTrackConfig)(e),explicitIdentifier:"trackId"});return new y.default({name:"BasicTrack",configSchema:t,stateModel:(0,v.createBaseTrackModel)(e,"BasicTrack",t)})})),e.addDisplayType((function(){var t=(0,S.configSchemaFactory)(e);return new b.default({name:"LinearBareDisplay",configSchema:t,stateModel:(0,S.stateModelFactory)(t),trackType:"BasicTrack",viewType:"LinearGenomeView",ReactComponent:E.BaseLinearDisplayComponent})})),e.addDisplayType((function(){var t=(0,x.configSchema)(e);return new b.default({name:"LinearBasicDisplay",configSchema:t,stateModel:(0,x.modelFactory)(t),trackType:"FeatureTrack",viewType:"LinearGenomeView",ReactComponent:E.BaseLinearDisplayComponent})})),e.addViewType((function(){return new w.default({name:"LinearGenomeView",stateModel:(0,P.stateModelFactory)(e),ReactComponent:(0,m.lazy)((function(){return Promise.resolve().then((function(){return function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=j(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(937))}))}))})})),e.addToExtensionPoint("LaunchView-LinearGenomeView",function(){var e=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,l,u,c,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.session,n=t.assembly,a=t.loc,i=t.tracks,l=void 0===i?[]:i,e.prev=1,u=r.assemblyManager,c=r.addView("LinearGenomeView",{}),e.next=6,(0,g.when)((function(){return!!c.volatileWidth}));case 6:if(n){e.next=8;break}throw new Error("No assembly provided when launching linear genome view");case 8:return e.next=10,u.waitForAssembly(n);case 10:if(e.sent){e.next=13;break}throw new Error('Assembly "'.concat(n,'" not found when launching linear genome view'));case 13:if(c.navToLocString(a,n),s=[],l.forEach((function(e){try{c.showTrack(e)}catch(t){if(!"".concat(t).match("Could not resolve identifier"))throw t;s.push(e)}})),!s.length){e.next=18;break}throw new Error("Could not resolve identifiers: ".concat(s.join(",")));case 18:e.next=24;break;case 20:throw e.prev=20,e.t0=e.catch(1),r.notify("".concat(e.t0),"error"),e.t0;case 24:case"end":return e.stop()}}),e,null,[[1,20]])})));return function(t){return e.apply(this,arguments)}}())}},{key:"configure",value:function(e){(0,C.isAbstractMenuManager)(e.rootModel)&&e.rootModel.appendToSubMenu(["Add"],{label:"Linear genome view",icon:k.default,onClick:function(e){e.addView("LinearGenomeView",{})}})}}]),n}(O.default);t.default=T},166:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultValue=function(e){if(!(0,n.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue},t.getEnumerationValues=function(e){return o(e).map((function(e){return e.value}))},t.getPropertyType=function(e,t){return e.properties[t]},t.getSubType=a,t.getUnionSubTypes=o,t.resolveLateType=function(e){if(!(0,n.isUnionType)(e)&&!(0,n.isArrayType)(e)&&(0,n.isLateType)(e))return e.getSubType();return e};var n=r(17);function a(e){var t;if((0,n.isOptionalType)(e))t=e._subtype||e.type;else{if(!(0,n.isArrayType)(e)&&!(0,n.isMapType)(e)){if("function"==typeof e.getSubType)return e.getSubType();throw new TypeError("unsupported mst type")}t=e._subtype||e._subType||e.subType}if(!t)throw new Error("failed to get subtype");return t}function o(e){if(!(0,n.isUnionType)(e))throw new TypeError("not an MST union type");var t=e._types||e.types||a(e)._types||a(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}},167:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(15)),o=n(r(16)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10)),d=n(r(114)),f=r(166);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var m=function(e){(0,l.default)(r,e);var t=p(r);function r(e){var n;if((0,a.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"stateModel",void 0),(0,s.default)((0,i.default)(n),"configSchema",void 0),(0,s.default)((0,i.default)(n),"displayTypes",[]),n.stateModel=e.stateModel,n.configSchema=e.configSchema,!n.stateModel)throw new Error("no stateModel defined for track ".concat(n.name));if(!n.configSchema)throw new Error("no configSchema provided for track ".concat(n.name));if(!(0,f.getDefaultValue)(n.configSchema).type){var o=n.configSchema?n.configSchema.name:"UNKNOWN";throw new Error("".concat(o," is not explicitlyTyped"))}return n}return(0,o.default)(r,[{key:"addDisplayType",value:function(e){this.displayTypes.push(e)}}]),r}(d.default);t.default=m},168:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var f=function(e){(0,l.default)(r,e);var t=d(r);function r(e){var n;if((0,o.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"heading",void 0),(0,s.default)((0,i.default)(n),"configSchema",void 0),(0,s.default)((0,i.default)(n),"HeadingComponent",void 0),(0,s.default)((0,i.default)(n),"ReactComponent",void 0),(0,s.default)((0,i.default)(n),"stateModel",void 0),n.heading=e.heading,n.HeadingComponent=e.HeadingComponent,n.configSchema=e.configSchema,n.stateModel=e.stateModel,n.ReactComponent=e.ReactComponent,!n.ReactComponent)throw new Error("no ReactComponent defined for widget ".concat(n.name));if(!n.stateModel)throw new Error("no stateModel defined for widget ".concat(n.name));return n}return(0,a.default)(r)}(n(r(114)).default);t.default=f},2032:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"JBrowseCircularGenomeView",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"createModel",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"createViewState",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"loadPlugins",{enumerable:!0,get:function(){return l.default}});var a=n(r(2033)),o=n(r(909)),i=n(r(2242)),l=n(r(2243))},2033:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(2034))},2034:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),i=r(14),l=r(17),u=r(29),c=r(84),s=r(23),d=n(r(376)),f=n(r(2052)),p=n(r(2053));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var g=(0,s.makeStyles)((function(){return{avoidParentStyle:{all:"initial"}}})),h=(0,i.observer)((function(e){var t=e.viewState,r=g(),n=t.session,a=n.view,i=(0,l.getEnv)(n).pluginManager.getViewType(a.type);if(!i)throw new Error("unknown view type ".concat(a.type));var m=i.ReactComponent,h=(0,c.createJBrowseTheme)((0,u.readConfObject)(t.config.configuration,"theme"));return o.default.createElement(s.ThemeProvider,{theme:h},o.default.createElement("div",{className:r.avoidParentStyle},o.default.createElement(d.default,null,o.default.createElement(p.default,{key:"view-".concat(a.id),view:a},o.default.createElement(o.Suspense,{fallback:o.default.createElement("div",null,"Loading...")},o.default.createElement(m,{model:a,session:n}))),o.default.createElement(f.default,{session:n}))))}));t.default=h},2035:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t.description,n=void 0===r?"":r,l=t.model,s=t.type,d=t.defaultValue,m=t.contextVariable,g=void 0===m?[]:m;if(!s)throw new Error("type name required");l||(l=u[s]);if(!l)throw new Error('no builtin config slot type "'.concat(s,"\", and no 'model' param provided"));if(void 0===d)throw new Error("no 'defaultValue' provided");var h="".concat(e.charAt(0).toUpperCase()).concat(e.slice(1),"ConfigSlot"),v=o.types.model(h,{name:o.types.literal(e),description:o.types.literal(n),type:o.types.literal(s),value:o.types.optional(o.types.union(p,l),d)}).volatile((function(){return{contextVariable:g}})).views((function(e){return{get isCallback(){return String(e.value).startsWith("jexl:")}}})).views((function(e){return{get expr(){if(e.isCallback){var t=(0,o.getEnv)(e).pluginManager;return t||"undefined"!=typeof jest||console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,i.stringToJexlExpression)(String(e.value),null==t?void 0:t.jexl)}return{evalSync:function(){return e.value}}},get valueJSON(){var t;if(!e.isCallback)return(t=e.value)&&t.toJSON?t.toJSON():'"'.concat(t,'"')}}})).preProcessSnapshot((function(t){return"object"===(0,a.default)(t)&&t.name===e?t:{name:e,description:n,type:s,value:t}})).postProcessSnapshot((function(e){return"object"===(0,a.default)(e.value)?JSON.stringify(e.value)!==JSON.stringify(d)?e.value:void 0:e.value!==d?e.value:void 0})).actions((function(e){return{set:function(t){e.value=t},reset:function(){e.value=d},convertToCallback:function(){e.isCallback||(e.value="jexl:".concat(e.valueJSON||"''"))},convertToValue:function(){if(e.isCallback){try{var t=e.expr.evalSync();if(void 0!==t)return void(e.value=t)}catch(e){}if(e.value=d,e.isCallback){if(!(s in c))throw new Error("no fallbackDefault defined for type ".concat(s));e.value=c[s]}}}}}));f[s]&&(v=v.extend(f[s]));var y=o.types.optional(v,{name:e,type:s,description:n,value:d});return Object.defineProperty(y,"isJBrowseConfigurationSlot",{value:!0}),y};var a=n(r(11)),o=r(17),i=r(512),l=r(72);var u={stringArray:o.types.array(o.types.string),stringArrayMap:o.types.map(o.types.array(o.types.string)),numberMap:o.types.map(o.types.number),boolean:o.types.boolean,color:o.types.refinement("Color",o.types.string,(function(){return!0})),integer:o.types.integer,number:o.types.number,string:o.types.string,text:o.types.string,fileLocation:l.FileLocation,frozen:o.types.frozen()},c={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},s=function(e){return{views:{get valueJSON(){return e.value}}}},d=function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}}}},f={fileLocation:d,number:s,integer:s,boolean:s,frozen:d,stringArray:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t){e.value.push(t)},removeAtIndex:function(t){e.value.splice(t,1)},setAtIndex:function(t,r){e.value[t]=r}}}},stringArrayMap:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t,r){e.value.set(t,r)},remove:function(t){e.value.delete(t)},addToKey:function(t,r){var n=e.value.get(t);if(!n)throw new Error("".concat(t," not found"));n.push(r)},removeAtKeyIndex:function(t,r){var n=e.value.get(t);if(!n)throw new Error("".concat(t," not found"));n.splice(r,1)},setAtKeyIndex:function(t,r,n){var a=e.value.get(t);if(!a)throw new Error("".concat(t," not found"));a[r]=n}}}},numberMap:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t,r){e.value.set(t,r)},remove:function(t){e.value.delete(t)}}}}},p=o.types.refinement("JexlString",o.types.string,(function(e){return e.startsWith("jexl:")}))},2036:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createJBrowseDefaultOverrides=p,t.createJBrowseDefaultProps=f,t.createJBrowseTheme=function(e){var t,r;if(!e)return(0,i.createTheme)(m);null!==(t=e.palette)&&void 0!==t&&t.tertiary&&(e=c(c({},e),{},{palette:c(c({},e.palette),{},{tertiary:s.palette.augmentColor(e.palette.tertiary)})}));null!==(r=e.palette)&&void 0!==r&&r.quaternary&&(e=c(c({},e),{},{palette:c(c({},e.palette),{},{quaternary:s.palette.augmentColor(e.palette.quaternary)})}));return e=c(c({},e),{},{props:(0,l.default)({MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},e.props||{}),overrides:(0,l.default)(p(e.palette),e.overrides||{})}),(0,i.createTheme)((0,l.default)(m,e))},t.jbrowseDefaultPalette=t.jbrowseBaseTheme=void 0;var a=n(r(10)),o=r(210),i=r(34),l=(r(613),n(r(301)));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=(0,i.createTheme)(),d={primary:{main:"#0D233F"},secondary:{main:"#721E63"},tertiary:s.palette.augmentColor({main:"#135560"}),quaternary:s.palette.augmentColor({main:"#FFB11D"}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:s.palette.augmentColor(o.green),C:s.palette.augmentColor(o.blue),G:s.palette.augmentColor(o.amber),T:s.palette.augmentColor(o.red)}};function f(){return{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(d,e);return{MuiIconButton:{colorSecondary:{color:t.tertiary.main}},MuiButton:{textSecondary:{color:t.tertiary.main}},MuiFab:{secondary:{backgroundColor:t.quaternary.main}},MuiLink:{root:{color:t.tertiary.main}},MuiAccordion:{root:{margin:0,"&$expanded":{margin:0}}},MuiAccordionSummary:{root:{backgroundColor:t.tertiary.main+" !important",width:"100%","&$expanded":{minHeight:0,color:t.tertiary.contrastText,backgroundColor:t.tertiary.main},minHeight:0},content:{"&$expanded":{margin:"8px 8px"},margin:"8px 8px",color:t.tertiary.contrastText}},MuiMenuItem:{root:{paddingTop:3,paddingBottom:3}},MuiListItemIcon:{root:{minWidth:32}},MuiListItemText:{inset:{paddingLeft:32}}}}t.jbrowseDefaultPalette=d;var m={palette:d,typography:{fontSize:12},spacing:4,props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},overrides:p()};t.jbrowseBaseTheme=m},2037:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=n(r(661)),c=r(14),s=r(17),d=r(29),f=n(r(2038)),p=n(r(2040)),m=n(r(514)),g=r(900),h=n(r(2043)),v=n(r(2044));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var b=(0,l.makeStyles)((function(e){return{"@global":{html:{"font-family":"Roboto"},"*":{"scrollbar-width":"auto","scrollbar-color":"rgba(0,0,0,.5) rgba(128,128,128)"},"*::-webkit-scrollbar":{"-webkit-appearance":"none",width:"12px"},"*::-webkit-scrollbar-thumb":{"background-color":"rgba(0,0,0,.5)","-webkit-box-shadow":"0 0 1px rgba(255,255,255,.5)"}},root:{display:"grid",height:"100vh",width:"100%"},fabLeft:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},fabRight:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuBarAndComponents:{gridColumn:"main",display:"grid",gridTemplateRows:"[menubar] min-content [components] auto",height:"100vh"},menuBar:{gridRow:"menubar"},components:{overflowY:"auto",gridRow:"components"},appBar:{flexGrow:1},grow:{flexGrow:1},inputBase:{color:e.palette.primary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.primary.light}},inputFocused:{borderColor:e.palette.secondary.main,backgroundColor:e.palette.primary.light},selectPaper:{padding:e.spacing(4)}}})),w=(0,c.observer)((function(e){var t=e.session.configuration,r=(0,d.readConfObject)(t,"logoPath");return null!=r&&r.uri?i.default.createElement("img",{src:r.uri,alt:"Custom logo"}):i.default.createElement(g.LogoFull,{variant:"white"})})),O=(0,c.observer)((function(e){var t,r,n=e.session,a=e.HeaderButtons,c=void 0===a?i.default.createElement("div",null):a,d=b(),g=(0,s.getEnv)(n).pluginManager,y=g.getElementTypeRecord("view").all(),O=(0,i.useState)(null===(t=y[0])||void 0===t?void 0:t.name),C=(0,o.default)(O,2),k=C[0],E=C[1],S=n.visibleWidget,P=n.drawerWidth,x=n.minimized,j=n.activeWidgets,M=n.savedSessionNames,T=n.name,R=n.menus,D=n.views,I=n.drawerPosition;var A,_=S&&!x;return"right"===I?A=["[main] 1fr",_?"[drawer] ".concat(P,"px"):void 0]:"left"===I&&(A=[_?"[drawer] ".concat(P,"px"):void 0,"[main] 1fr"]),i.default.createElement("div",{className:d.root,style:{gridTemplateColumns:null===(r=A)||void 0===r?void 0:r.filter((function(e){return!!e})).join(" ")}},_&&"left"===I?i.default.createElement(f.default,{session:n}):null,n.DialogComponent?i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null)},i.default.createElement(n.DialogComponent,n.DialogProps)):null,i.default.createElement("div",{className:d.menuBarAndComponents},i.default.createElement("div",{className:d.menuBar},i.default.createElement(l.AppBar,{className:d.appBar,position:"static"},i.default.createElement(l.Toolbar,null,R.map((function(e){return i.default.createElement(p.default,{key:e.label,menuTitle:e.label,menuItems:e.menuItems,session:n})})),i.default.createElement("div",{className:d.grow}),i.default.createElement(l.Tooltip,{title:"Rename Session",arrow:!0},i.default.createElement(m.default,{value:T,setValue:function(e){null!=M&&M.includes(e)?n.notify('Cannot rename session to "'.concat(e,'", a saved session with that name already exists'),"warning"):n.renameCurrentSession(e)},variant:"body1",classes:{inputBase:d.inputBase,inputRoot:d.inputRoot,inputFocused:d.inputFocused}})),c,i.default.createElement("div",{className:d.grow}),i.default.createElement("div",{style:{width:150,maxHeight:48}},i.default.createElement(w,{session:n}))))),i.default.createElement("div",{className:d.components},D.length?D.map((function(e){var t=g.getViewType(e.type);if(!t)throw new Error("unknown view type ".concat(e.type));var r=t.ReactComponent;return i.default.createElement(v.default,{key:"view-".concat(e.id),view:e,onClose:function(){return n.removeView(e)}},i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null,"Loading...")},i.default.createElement(r,{model:e,session:n,getTrackType:g.getTrackType})))})):i.default.createElement(l.Paper,{className:d.selectPaper},i.default.createElement(l.Typography,null,"Select a view to launch"),i.default.createElement(l.Select,{value:k,onChange:function(e){return E(e.target.value)}},y.map((function(e){var t=e.name;return i.default.createElement(l.MenuItem,{key:t,value:t},t)}))),i.default.createElement(l.Button,{onClick:function(){n.addView(k,{})},variant:"contained",color:"primary"},"Launch view")),i.default.createElement("div",{style:{height:300}}))),j.size>0&&x?i.default.createElement(l.Tooltip,{title:"Open drawer widget"},i.default.createElement(l.Fab,{className:"right"===I?d.fabRight:d.fabLeft,color:"primary","data-testid":"drawer-maximize",onClick:function(){return n.showWidgetDrawer()}},i.default.createElement(u.default,null))):null,_&&"right"===I?i.default.createElement(f.default,{session:n}):null,i.default.createElement(h.default,{session:n}))}));t.default=O},2038:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=r(14),c=r(17),s=n(r(109)),d=n(r(40)),f=n(r(669)),p=n(r(305)),m=n(r(2039));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,l.makeStyles)((function(e){return{drawerActions:{float:"right","&:hover":{backgroundColor:(0,l.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},drawerToolbar:{paddingLeft:e.spacing(2)},spacer:{flexGrow:1},drawerSelect:{color:e.palette.secondary.contrastText},drawerLoading:{margin:e.spacing(2)},dropDownIcon:{color:e.palette.secondary.contrastText},header:{background:e.palette.secondary.main}}})),v=(0,u.observer)((function(e){var t=e.session,r=e.setToolbarHeight,n=(0,c.getEnv)(t).pluginManager,a=t.visibleWidget,u=t.activeWidgets,m=t.drawerPosition,g=h(),v=i.default.useState(null),y=(0,o.default)(v,2),b=y[0],w=y[1];return i.default.createElement(l.AppBar,{position:"sticky",className:g.header,ref:function(e){return r((null==e?void 0:e.getBoundingClientRect().height)||0)}},i.default.createElement(l.Toolbar,{disableGutters:!0,className:g.drawerToolbar},i.default.createElement(l.Select,{value:null==a?void 0:a.id,"data-testid":"widget-drawer-selects",className:g.drawerSelect,classes:{icon:g.dropDownIcon},renderValue:function(e){var r=t.activeWidgets.get(e);if(!r)return i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},"Unknown widget");var a=n.getWidgetType(r.type),o=a.HeadingComponent,u=a.heading;return o?i.default.createElement(o,{model:r}):i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},u)},onChange:function(e){var r=t.activeWidgets.get(e.target.value);r||t.notify("Widget not found "+e.target.value,"warning"),t.showWidget(r)}},Array.from(u.values()).map((function(e){var r=n.getWidgetType(e.type),a=r.HeadingComponent,o=r.heading;return i.default.createElement(l.MenuItem,{"data-testid":"widget-drawer-selects-item-".concat(e.type),key:e.id,value:e.id},a?i.default.createElement(a,{model:e}):i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},o),i.default.createElement(l.ListItemSecondaryAction,null,i.default.createElement(l.IconButton,{"data-testid":"".concat(e.type,"-drawer-delete"),color:"inherit","aria-label":"Delete",onClick:function(){t.hideWidget(e)}},i.default.createElement(s.default,null))))}))),i.default.createElement("div",{className:g.spacer}),i.default.createElement("div",null,i.default.createElement(l.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:function(e){return w(e.currentTarget)}},i.default.createElement(p.default,null)),i.default.createElement(l.Tooltip,{title:"Minimize drawer"},i.default.createElement(l.IconButton,{"data-testid":"drawer-minimize",color:"inherit",onClick:function(){t.notify("Drawer minimized, click button on ".concat(m," side of screen to re-open"),"info"),t.minimizeWidgetDrawer()}},i.default.createElement(f.default,null))),i.default.createElement(l.Tooltip,{title:"Close drawer"},i.default.createElement(l.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:function(){t.hideWidget(a)}},i.default.createElement(d.default,null))))),i.default.createElement(l.Menu,{anchorEl:b,open:Boolean(b),onClose:function(){return w(null)}},["left","right"].map((function(e){return i.default.createElement(l.MenuItem,{key:e,selected:"option"===m,onClick:function(){t.setDrawerPosition(e),w(null)}},e)}))))})),y=(0,u.observer)((function(e){var t=e.session,r=t.visibleWidget,n=(0,c.getEnv)(t).pluginManager,a=r?n.getWidgetType(r.type).ReactComponent:null,l=(0,i.useState)(0),u=(0,o.default)(l,2),s=u[0],d=u[1];return i.default.createElement(m.default,{session:t},i.default.createElement(v,{session:t,setToolbarHeight:d}),i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null,"Loading...")},i.default.createElement(a,{model:r,session:t,toolbarHeight:s})))}));t.default=y},2039:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=n(r(53)),i=r(34),l=r(14),u=n(r(901)),c=(0,i.makeStyles)((function(e){return{paper:{overflowY:"auto",height:"100%",zIndex:e.zIndex.drawer,outline:"none",background:e.palette.background.default},resizeHandle:{width:4,position:"fixed",top:0,zIndex:e.zIndex.drawer+1}}}));var s=(0,l.observer)((function(e){var t=e.children,r=e.session,n=r.drawerPosition,i=r.drawerWidth,l=c();return a.default.createElement(o.default,{className:l.paper,elevation:16,square:!0},"right"===n?a.default.createElement(u.default,{onDrag:r.resizeDrawer,className:l.resizeHandle,vertical:!0}):null,t,"left"===n?a.default.createElement(u.default,{onDrag:r.resizeDrawer,className:l.resizeHandle,style:{left:i},vertical:!0}):null)}));t.default=s},204:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItemEndDecoration=C,t.default=void 0;var o=n(r(36)),i=n(r(45)),l=n(r(10)),u=n(r(12)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),s=r(23),d=n(r(306)),f=n(r(671)),p=n(r(672)),m=n(r(673)),g=n(r(307)),h=r(32),v=["open","onClose","menuItems","onMenuItemClick"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(0,s.makeStyles)({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{padding:0,margin:0,height:16}});function C(e){var t,r,n,a=O(),o=e.type;if("checked"in e&&(t=e.checked,r=e.disabled),"subMenu"===o)n=c.default.createElement(d.default,{color:"action"});else if("checkbox"===o)if(t){var i=r?"inherit":"secondary";n=c.default.createElement(f.default,{color:i})}else n=c.default.createElement(p.default,{color:"action"});else if("radio"===o)if(t){var l=r?"inherit":"secondary";n=c.default.createElement(m.default,{color:l})}else n=c.default.createElement(g.default,{color:"action"});return c.default.createElement("div",{className:a.menuItemEndDecoration},n)}var k=c.default.forwardRef((function(e,t){var r=(0,c.useState)(),n=(0,u.default)(r,2),a=n[0],o=n[1],i=(0,c.useState)(),l=(0,u.default)(i,2),d=l[0],f=l[1],p=(0,c.useState)(!1),m=(0,u.default)(p,2),g=m[0],v=m[1],y=(0,c.useState)(),b=(0,u.default)(y,2),E=b[0],S=b[1],P=(0,c.useState)(),x=(0,u.default)(P,2),j=x[0],M=x[1],T=(0,c.useRef)(),R=O(),D=e.menuItems,I=e.onMenuItemClick,A=e.open,_=e.onClose,F=e.anchorEl,L=e.top,N=void 0!==L&&L;(0,c.useEffect)((function(){A||(o(void 0),f(void 0))}),[A]),(0,c.useEffect)((function(){var e,t=A&&Boolean(a);return t&&!g?e=setTimeout((function(){v(!0)}),300):!t&&g&&(e=setTimeout((function(){v(!1)}),300)),function(){clearTimeout(e)}}),[g,A,a]),(0,c.useEffect)((function(){if(F){var e=F.getBoundingClientRect();j&&e.top===j.top&&e.left+e.width===j.left||M({top:e.top,left:e.left+e.width})}else j||M({})}),[j,F]);var B=D.some((function(e){return"icon"in e&&e.icon})),z={};var H=c.default.createElement(c.default.Fragment,null,c.default.createElement(s.MenuList,{autoFocusItem:A&&!g},D.sort((function(e,t){return(t.priority||0)-(e.priority||0)})).map((function(e,t){if("divider"===e.type)return c.default.createElement(s.Divider,{key:"divider-".concat(t),component:"li"});if("subHeader"===e.type)return c.default.createElement(s.ListSubheader,{key:"subHeader-".concat(e.label,"-").concat(t)},e.label);var r=null,n=null;if(e.icon){var a=e.icon;r=c.default.createElement(s.ListItemIcon,null,c.default.createElement(a,null))}"subMenu"in e?n=c.default.createElement(C,{type:"subMenu"}):"checkbox"!==e.type&&"radio"!==e.type||(n=c.default.createElement(C,{type:e.type,checked:e.checked,disabled:e.disabled}));var i,l="onClick"in e?(i=e.onClick,function(e){I(e,i)}):void 0;return c.default.createElement(s.MenuItem,{key:e.label,style:z,selected:t===E,onClick:l,onMouseMove:function(r){r.currentTarget!==document.activeElement&&(r.currentTarget.focus(),S(t)),"subMenu"in e?d!==t&&(o(r.currentTarget),f(t)):(o(void 0),f(void 0))},onKeyDown:function(r){if("ArrowLeft"===r.key||"Escape"===r.key)_&&_(r,"escapeKeyDown");else if("ArrowUp"===r.key)S(function(e,t){return(0,h.findLastIndex)(e.slice(0,t),(function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}))}(D,t));else if("ArrowDown"===r.key){var n=function(e,t){var r=e.slice(t+1).findIndex((function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}));return-1===r?r:t+1+r}(D,t);S(n)}else"subMenu"in e&&("ArrowRight"!==r.key&&"Enter"!==r.key||(o(r.currentTarget),f(t),v(!0)))},disabled:Boolean(e.disabled)},r,c.default.createElement(s.ListItemText,{primary:e.label,secondary:e.subLabel,inset:B&&!e.icon}),c.default.createElement("div",{style:{flexGrow:1,minWidth:10}}),n)}))),D.map((function(e,t){var r=null;return"subMenu"in e&&(r=c.default.createElement(k,{key:e.label,anchorEl:a,open:g&&d===t,onClose:function(){v(!1),o(void 0)},onMenuItemClick:I,menuItems:e.subMenu})),r})));return N?H:c.default.createElement(s.Grow,{in:A,style:{transformOrigin:"0 0 0"},ref:t},c.default.createElement(s.Paper,{elevation:8,ref:T,className:R.paper,style:w({},j)},H))}));var E=function(e){var t=e.open,r=e.onClose,n=e.menuItems,a=e.onMenuItemClick,l=(0,i.default)(e,v);return c.default.createElement(s.Popover,(0,o.default)({transitionDuration:0,open:t,onClose:r,BackdropProps:{invisible:!0}},l),c.default.createElement(k,{open:t,onClose:r,menuItems:n,onMenuItemClick:a,top:!0}))};t.default=E},2040:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=r(34),c=n(r(178)),s=r(14),d=n(r(0)),f=n(r(204));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var m=(0,u.makeStyles)((function(e){return{root:{display:"flex"},buttonRoot:{"&:hover":{backgroundColor:(0,u.alpha)(e.palette.primary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}));function g(e){var t=e.menuTitle,r=e.session,n=e.menuItems,a=(0,i.useState)(!1),u=(0,o.default)(a,2),s=u[0],d=u[1],p=(0,i.useRef)(null),g=m();function h(){d(!1)}return i.default.createElement("div",{className:g.root},i.default.createElement(l.Button,{ref:p,onClick:function(){d(!s)},color:"inherit","data-testid":"dropDownMenuButton",classes:{root:g.buttonRoot}},t,i.default.createElement(c.default,null)),i.default.createElement(f.default,{anchorEl:p.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},onMenuItemClick:function(e,t){t(r),h()},open:s,onClose:h,menuItems:n}))}g.propTypes={menuTitle:d.default.string.isRequired,menuItems:s.PropTypes.arrayOrObservableArray.isRequired,session:s.PropTypes.objectOrObservableObject.isRequired};var h=(0,s.observer)(g);t.default=h},2041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2042:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.when=u,t.whenPresent=function(e){return c.apply(this,arguments)};var a=n(r(19)),o=n(r(21)),i=r(42),l=r(902);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.timeout,n=t.signal,a=t.name;return new Promise((function(t,o){var u,c=!1,s=(0,i.when)(e),d=function(){};r&&(u=setTimeout((function(){c||(c=!0,s.cancel(),o(new Error("timed out waiting for ".concat(a||"whenPresent"))))}),r),d=function(){return u&&clearTimeout(u)}),n&&n.addEventListener("abort",(function(){c||(c=!0,s.cancel(),d(),o((0,l.makeAbortError)()))})),s.then((function(){c||(c=!0,d(),t(!0))})).catch((function(e){c||(c=!0,d(),o(e))}))}))}function c(){return(c=(0,o.default)(a.default.mark((function e(t){var r,n=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:{},e.next=3,u((function(){var e=t();return null!=e}),r);case 3:return e.abrupt("return",t());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2043:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=n(r(40)),c=n(r(240));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,r(14).observer)((function(e){var t=e.session,r=(0,i.useState)(!1),n=(0,o.default)(r,2),a=n[0],s=n[1],d=(0,i.useState)(),f=(0,o.default)(d,2),p=f[0],m=f[1],g=t.popSnackbarMessage,h=t.snackbarMessages,v=h.length?h[h.length-1]:null;(0,i.useEffect)((function(){var e;return p?v?p[0]!==v[0]&&(s(!1),e=setTimeout((function(){m(v),s(!0)}),100)):m(void 0):v&&(m(v),s(!0)),function(){clearTimeout(e)}}),[v,p]);var y=function(e,t){"clickaway"!==t&&(g(),s(!1))},b=p||[],w=(0,o.default)(b,3),O=w[0],C=w[1],k=w[2];return i.default.createElement(l.Snackbar,{open:a&&!!O,onClose:y},i.default.createElement(c.default,{onClose:y,action:k?i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Button,{color:"inherit",onClick:function(e){k.onClick(),y()}},k.name),i.default.createElement(l.IconButton,{"aria-label":"close",color:"inherit",onClick:y},i.default.createElement(u.default,null))):null,severity:C||"warning"},O))}));t.default=d},2044:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(10)),i=n(r(36)),l=n(r(12)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(23),s=r(14),d=r(17),f=n(r(325)),p=n(r(40)),m=n(r(186)),g=n(r(514)),h=n(r(204));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=(0,c.makeStyles)((function(e){return{viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(.5)},icon:{color:e.palette.secondary.contrastText},grow:{flexGrow:1},iconRoot:{"&:hover":{backgroundColor:(0,c.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},input:{paddingBottom:0,paddingTop:2},inputBase:{color:e.palette.secondary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.secondary.light}},inputFocused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.secondary.light}}})),O=(0,s.observer)((function(e){var t=e.model,r=e.IconButtonProps,n=e.IconProps,a=(0,u.useState)(),o=(0,l.default)(a,2),s=o[0],d=o[1],f=t.menuItems,p="function"==typeof f?f():f;return null!=p&&p.length?u.default.createElement(u.default.Fragment,null,u.default.createElement(c.IconButton,(0,i.default)({},r,{"aria-label":"more","aria-controls":"view-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},"data-testid":"view_menu_icon"}),u.default.createElement(m.default,n)),u.default.createElement(h.default,{anchorEl:s,open:Boolean(s),onMenuItemClick:function(e,t){t(),d(void 0)},onClose:function(){d(void 0)},menuItems:t.menuItems()})):null})),C=(0,s.observer)((function(e){var t=e.view,r=e.onClose,n=e.style,a=e.children,o=w(),i=(0,c.useTheme)().spacing(1),s=(0,f.default)(),m=(0,l.default)(s,2),h=m[0],v=m[1].width;(0,u.useEffect)((function(){v&&(0,d.isAlive)(t)&&t.setWidth(v-2*i)}),[i,t,v]);var y=(0,u.useRef)(null);return(0,u.useEffect)((function(){var e,t;null===(e=y.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{block:"center"})}),[]),u.default.createElement(c.Paper,{ref:h,elevation:12,className:o.viewContainer,style:b(b({},n),{},{padding:"0px ".concat(i,"px ").concat(i,"px")})},u.default.createElement("div",{ref:y,style:{display:"flex"}},u.default.createElement(O,{model:t,IconButtonProps:{classes:{root:o.iconRoot},edge:"start"},IconProps:{className:o.icon}}),u.default.createElement("div",{className:o.grow}),u.default.createElement(c.Tooltip,{title:"Rename view",arrow:!0},u.default.createElement(g.default,{value:t.displayName||(t.assemblyNames?t.assemblyNames.join(","):"Untitled view"),setValue:function(e){t.setDisplayName(e)},variant:"body2",classes:{input:o.input,inputBase:o.inputBase,inputRoot:o.inputRoot,inputFocused:o.inputFocused}})),u.default.createElement("div",{className:o.grow}),u.default.createElement(c.IconButton,{"data-testid":"close_view",classes:{root:o.iconRoot},edge:"end",onClick:r},u.default.createElement(p.default,{className:o.icon}))),u.default.createElement(c.Paper,null,a))}));t.default=C},2045:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(14),i=r(34),l=r(23),u=n(r(40)),c=(0,i.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var s=(0,o.observer)((function(e){var t=e.model,r=e.handleClose,n=c();return a.default.createElement(l.Dialog,{maxWidth:"xl",open:!0,onClose:r},a.default.createElement(l.DialogTitle,null,"Reference sequence",r?a.default.createElement(l.IconButton,{className:n.closeButton,onClick:function(){return r()}},a.default.createElement(u.default,null)):null),a.default.createElement(l.Divider,null),a.default.createElement(l.DialogContent,null,a.default.createElement(l.Typography,null,"Are you sure you want to return to the import form? This will lose your current view")),a.default.createElement(l.DialogActions,null,a.default.createElement(l.Button,{onClick:function(){t.clearView(),r()},variant:"contained",color:"primary",autoFocus:!0},"OK"),a.default.createElement(l.Button,{onClick:function(){return r()},color:"secondary",variant:"contained"},"Cancel")))}));t.default=s},2046:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(33)),i=n(r(36)),l=n(r(10)),u=n(r(12)),c=n(r(45)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),d=r(23),f=r(209),p=r(14),m=r(130),g=n(r(178)),h=n(r(2047)),v=n(r(2048)),y=["title","children"];function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=e.title,r=e.children,n=(0,c.default)(e,y);return s.default.createElement(d.Tooltip,{title:t||""},s.default.createElement(f.ToggleButton,n,r))}function k(e,t){return"string"==typeof e&&e.length>t?"".concat(e.substring(0,t),""):e}var E=(0,p.observer)((function(e){var t=e.location,r=e.name,n=e.description,a=e.rootModel,l=e.setLocation,c=!t||(0,m.isUriLocation)(t)?"url":"file",p=(0,s.useState)(t&&"internetAccountId"in t&&t.internetAccountId?t.internetAccountId:c),y=(0,u.default)(p,2),b=y[0],w=y[1],E=(0,m.isAppRootModel)(a)?a.internetAccounts.slice():[],S=(0,s.useState)(E.slice(0,2)),P=(0,u.default)(S,2),x=P[0],j=P[1],M=(0,s.useState)(E.slice(2)),T=(0,u.default)(M,2),R=T[0],D=T[1],I=(0,s.useState)(null),A=(0,u.default)(I,2),_=A[0],F=A[1],L=E.find((function(e){return e.internetAccountId===b})),N=function(e){l(O(O({},e),{},{internetAccountId:L?L.internetAccountId:void 0}))};t&&L&&(0,m.isUriLocation)(t)&&t.internetAccountId!==L.internetAccountId&&N(t);var B=s.default.createElement(v.default,(0,i.default)({},e,{setLocation:N,label:null==L?void 0:L.selectorLabel}));if("file"===b&&(B=s.default.createElement(h.default,e)),null!=L&&L.SelectorComponent){var z=L.SelectorComponent;B=s.default.createElement(z,(0,i.default)({},e,{setLocation:N}))}return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Box,{display:"flex"},s.default.createElement(d.InputLabel,{shrink:!0},r)),s.default.createElement(d.Box,{display:"flex",flexDirection:"row"},s.default.createElement(d.Box,null,s.default.createElement(f.ToggleButtonGroup,{value:b,exclusive:!0,onChange:function(e,r){r&&w(r),(0,m.isUriLocation)(t)&&N(t)},"aria-label":"file, url, or account picker"},new URLSearchParams(window.location.search).get("adminKey")?null:s.default.createElement(f.ToggleButton,{value:"file","aria-label":"local file"},"File"),s.default.createElement(f.ToggleButton,{value:"url","aria-label":"url"},"URL"),x.map((function(e){var t=e.internetAccountId,r=e.toggleContents,n=e.name;return s.default.createElement(C,{key:t,value:t,"aria-label":n,title:n},"string"==typeof r?k(r,5):r||k(n,5))})),R.length?s.default.createElement(f.ToggleButton,{onClick:function(e){return F(e.target)},selected:!1},"More",s.default.createElement(g.default,null)):null),s.default.createElement(d.Menu,{open:Boolean(_),anchorEl:_,onClose:function(){return F(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},null==R?void 0:R.map((function(e,t){return s.default.createElement(d.MenuItem,{key:e.internetAccountId,value:e.internetAccountId,onClick:function(){var r=x[x.length-1];j([].concat((0,o.default)(x.slice(0,x.length-1)),[e])),D([r].concat((0,o.default)(R.slice(0,t)),(0,o.default)(R.slice(t+1)))),w(e.internetAccountId),F(null)}},e.name)}))))),B,s.default.createElement(d.FormHelperText,null,n))}));t.default=E},2047:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(23),i=r(32),l=r(64);function u(e){return"blobId"in e}var c=(0,o.makeStyles)((function(e){return{filename:{marginLeft:e.spacing(1)}}}));var s=function(e){var t=c(),r=e.location,n=e.setLocation,s=r&&(u(r)&&r.name||function(e){return"localPath"in e}(r)&&r.localPath),d=r&&u(r)&&!(0,l.getBlob)(r.blobId);return a.default.createElement(o.Box,{display:"flex",flexDirection:"row",alignItems:"center"},a.default.createElement(o.Box,null,a.default.createElement(o.FormControl,{fullWidth:!0},a.default.createElement(o.Button,{variant:"outlined",component:"label"},"Choose File",a.default.createElement("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target,r=t&&t.files&&t.files[0];r&&(i.isElectron?n({localPath:r.path,locationType:"LocalPathLocation"}):n((0,l.storeBlobLocation)({blob:r})))}})))),a.default.createElement(o.Box,null,a.default.createElement(o.Typography,{component:"span",className:t.filename,color:s?"initial":"textSecondary"},s||"No file chosen"),d?a.default.createElement(o.Typography,{color:"error"},"(need to reload)"):null))};t.default=s},2048:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(23),i=r(14),l=r(130);var u=(0,i.observer)((function(e){var t=e.location,r=e.setLocation,n=e.label;return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.TextField,{fullWidth:!0,variant:"outlined",inputProps:{"data-testid":"urlInput"},defaultValue:t&&(0,l.isUriLocation)(t)?t.uri:"",label:n||"Enter URL",onChange:function(e){r({uri:e.target.value.trim(),locationType:"UriLocation"})}}))}));t.default=u},2049:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(10)),i=n(r(0)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(513);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e){var t=e.width,r=e.height,n=e.highResolutionScaling,a=e.style,o=e.imageData,i=e.blockKey,c=e.showSoftClip,s=(0,l.useRef)(null);(0,l.useEffect)((function(){if(o){var e=s.current;if(e){var t=e.getContext("2d");t&&(0,u.drawImageOntoCanvasContext)(o,t)}}}),[o]);var f=i?"_"+i:"",p="prerendered_canvas".concat(c?"_softclipped":"").concat(f);return l.default.createElement("canvas",{"data-testid":p,ref:s,width:t*n,height:r*n,style:d({width:t,height:r},a)})}f.propTypes={height:i.default.number.isRequired,width:i.default.number.isRequired,highResolutionScaling:i.default.number,style:i.default.objectOf(i.default.any),imageData:i.default.any},f.defaultProps={imageData:void 0,highResolutionScaling:1,style:{}};var p=f;t.default=p},205:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10)),d=n(r(114)),f=r(166);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var m=function(e){(0,l.default)(r,e);var t=p(r);function r(e){var n;if((0,o.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"stateModel",void 0),(0,s.default)((0,i.default)(n),"configSchema",void 0),(0,s.default)((0,i.default)(n),"ReactComponent",void 0),(0,s.default)((0,i.default)(n),"trackType",void 0),(0,s.default)((0,i.default)(n),"viewType",void 0),n.stateModel=e.stateModel,n.configSchema=e.configSchema,n.ReactComponent=e.ReactComponent,n.trackType=e.trackType,n.viewType=e.viewType,!n.stateModel)throw new Error("no stateModel defined for display ".concat(n.name));if(!n.configSchema)throw new Error("no configSchema provided for display ".concat(n.name));if(!n.ReactComponent)throw new Error("no ReactComponent provided for display ".concat(n.name));if(!n.trackType)throw new Error("no trackType provided for display ".concat(n.name));if(!n.viewType)throw new Error("no viewType provided for display ".concat(n.name));if(!(0,f.getDefaultValue)(n.configSchema).type){var a=n.configSchema?n.configSchema.name:"UNKNOWN";throw new Error("".concat(a," is not explicitlyTyped"))}return n}return(0,a.default)(r)}(d.default);t.default=m},2050:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=r(14),c=r(29);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,l.makeStyles)({hoverLabel:{border:"1px solid black",position:"absolute",background:"#fffa",pointerEvents:"none",zIndex:1e4}}),f=(0,u.observer)((function(e){var t=e.offsetX,r=e.offsetY,n=e.configuration,a=e.feature,l=e.timeout,u=void 0===l?300:l,s=d(),f=(0,i.useState)(!1),p=(0,o.default)(f,2),m=p[0],g=p[1];if((0,i.useEffect)((function(){var e=setTimeout((function(){return g(!0)}),u);return function(){return clearTimeout(e)}})),a&&m){var h=(0,c.readConfObject)(n,"mouseover",{feature:a});return i.default.createElement("div",{className:s.hoverLabel,style:{left:t,top:r}},h)}return null}));t.default=f},2051:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=n(r(70)),l=n(r(104)),u=n(r(156)),c=n(r(124)),s=n(r(123)),d=n(r(0)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),p=n(r(906));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var g=function(e){var t=e.onFactoryReset,r=e.resetButtonText,n=(0,f.useState)(!1),a=(0,o.default)(n,2),l=a[0],u=a[1];return f.default.createElement(f.default.Fragment,null,f.default.createElement(i.default,{"data-testid":"fatal-error",color:"primary",variant:"contained",onClick:function(){return u(!0)}},r),f.default.createElement(p.default,{onClose:function(){return u(!1)},open:l,onFactoryReset:t}))};g.propTypes={onFactoryReset:d.default.func.isRequired,resetButtonText:d.default.string.isRequired};var h=function(e){var t=e.componentStack,r=e.error,n=e.onFactoryReset,a=e.resetButtonText;return f.default.createElement(l.default,{open:!0},f.default.createElement(s.default,{style:{backgroundColor:"#e88"}},"Fatal error"),f.default.createElement(c.default,null,f.default.createElement("pre",null,r.toString(),t)),f.default.createElement(u.default,null,f.default.createElement(i.default,{color:"secondary",variant:"contained",onClick:function(){return window.location.reload()}},"Refresh"),f.default.createElement(g,{onFactoryReset:n,resetButtonText:a})))};h.propTypes={componentStack:d.default.string,error:d.default.shape({}),onFactoryReset:d.default.func.isRequired,resetButtonText:d.default.string},h.defaultProps={error:{message:"No error message provided"},componentStack:"",resetButtonText:"Factory Reset"};var v=h;t.default=v},2052:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),i=r(23),l=r(14),u=r(17),c=n(r(376));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,i.makeStyles)({paper:{overflow:"auto"}}),f=(0,l.observer)((function(e){var t=e.session,r=t.visibleWidget;if(!r)return o.default.createElement(i.AppBar,{position:"relative"},o.default.createElement(i.Toolbar,null));var n=(0,u.getEnv)(t).pluginManager.getWidgetType(r.type),a=n.ReactComponent,l=n.HeadingComponent,s=n.heading;return o.default.createElement(o.default.Fragment,null,o.default.createElement(i.AppBar,{position:"static"},o.default.createElement(i.Toolbar,null,l?o.default.createElement(l,{model:r}):o.default.createElement(i.Typography,{variant:"h6"},s))),r&&a?o.default.createElement(o.Suspense,{fallback:o.default.createElement("div",null,"Loading...")},o.default.createElement(c.default,null,o.default.createElement(a,{model:r,session:t,overrideDimensions:{height:5*window.innerHeight/8,width:800}}))):null)})),p=(0,l.observer)((function(e){var t=e.session,r=d(),n=t.visibleWidget,a=t.hideAllWidgets;return o.default.createElement(i.Dialog,{open:Boolean(n),onClose:a,maxWidth:"xl"},o.default.createElement(i.Paper,{className:r.paper},o.default.createElement(f,{session:t})))}));t.default=p},2053:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(36)),i=n(r(12)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(23),c=n(r(186)),s=r(14),d=r(17),f=n(r(325)),p=r(84),m=r(32);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,u.makeStyles)((function(e){return{viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(1)},icon:{color:e.palette.secondary.contrastText},displayName:{marginTop:2,color:e.palette.secondary.contrastText},grow:{flexGrow:1},iconRoot:{"&:hover":{backgroundColor:(0,u.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}})),v=(0,s.observer)((function(e){var t,r=e.model,n=e.IconButtonProps,a=e.IconProps,s=(0,l.useState)(),d=(0,i.default)(s,2),f=d[0],m=d[1];return null!==(t=r.menuItems())&&void 0!==t&&t.length?l.default.createElement(l.default.Fragment,null,l.default.createElement(u.IconButton,(0,o.default)({},n,{"aria-label":"more","aria-controls":"view-menu","aria-haspopup":"true",onClick:function(e){return m(e.currentTarget)},"data-testid":"view_menu_icon"}),l.default.createElement(c.default,a)),l.default.createElement(p.Menu,{anchorEl:f,open:Boolean(f),onMenuItemClick:function(e,t){t(),m(void 0)},onClose:function(){return m(void 0)},menuItems:r.menuItems()})):null})),y=(0,s.observer)((function(e){var t=e.view,r=e.children,n=h(),a=(0,u.useTheme)(),o=(0,m.getSession)(t),c=(0,f.default)(),s=(0,i.default)(c,2),g=s[0],y=s[1].width,b=a.spacing(1);return(0,l.useEffect)((function(){y&&(0,d.isAlive)(t)&&t.setWidth(y-2*b)}),[b,t,y]),l.default.createElement(u.Paper,{elevation:12,ref:g,className:n.viewContainer,style:{padding:"0px ".concat(b,"px ").concat(b,"px")}},o.DialogComponent?l.default.createElement(l.Suspense,{fallback:l.default.createElement("div",null)},l.default.createElement(o.DialogComponent,o.DialogProps)):null,l.default.createElement("div",{style:{display:"flex"}},l.default.createElement(v,{model:t,IconButtonProps:{classes:{root:n.iconRoot},edge:"start"},IconProps:{className:n.icon}}),l.default.createElement("div",{className:n.grow}),t.displayName?l.default.createElement(u.Typography,{variant:"body2",className:n.displayName},t.displayName):null,l.default.createElement("div",{className:n.grow}),l.default.createElement("div",{style:{width:20,height:20}},l.default.createElement(p.Logomark,{variant:"white"}))),l.default.createElement(u.Paper,null,r))}));t.default=y},2054:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new l.default([].concat((0,o.default)(d.default),(0,o.default)(e)).map((function(e){return new e})));t.createPluggableElements();var r=(0,p.default)(t),n=(0,i.assemblyConfigSchemaFactory)(t),a=(0,i.default)(n,t);return{model:s.types.model("ReactCircularGenomeView",{config:(0,f.default)(t,n),session:r,assemblyManager:a}).volatile((function(){return{error:void 0}})).actions((function(e){return{setSession:function(t){e.session=(0,s.cast)(t)},renameCurrentSession:function(t){if(e.session){var r=JSON.parse(JSON.stringify((0,s.getSnapshot)(e.session)));r.name=t,this.setSession(r)}},setError:function(t){e.error=t}}})).views((function(e){return{get jbrowse(){return e.config},get pluginManager(){return t}}})).volatile((function(e){return{rpcManager:new u.default(t,e.config.configuration.rpc,{MainThreadRpcDriver:{}}),textSearchManager:new c.default(t)}})),pluginManager:t}};var o=n(r(33)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(2055)),l=n(r(2059)),u=n(r(925)),c=n(r(2088)),s=r(17),d=n(r(2089)),f=n(r(943)),p=n(r(944));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}},2055:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assemblyConfigSchemaFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(2056)),o=n(r(2058))},2056:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,d.default)(e,t);return u.types.model({assemblies:u.types.array(r)}).views((function(e){return{get:function(t){return e.assemblies.find((function(e){return e.hasName(t)}))},get assemblyNamesList(){return this.assemblyList.map((function(e){return e.name}))},get assemblyList(){var t=(0,u.getParent)(e),r=t.jbrowse.assemblies,n=t.session,a=(n=void 0===n?{}:n).sessionAssemblies,o=void 0===a?[]:a;return[].concat((0,i.default)(r),(0,i.default)(o))},get rpcManager(){return(0,u.getParent)(e).rpcManager},get pluginManager(){return(0,u.getParent)(e).pluginManager},get allPossibleRefNames(){var t,r=[],n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}(e.assemblies);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(!a.allRefNames)return;r=r.concat(a.allRefNames)}}catch(e){n.e(e)}finally{n.f()}return r}}})).views((function(e){return{waitForAssembly:function(t){return(0,o.default)(a.default.mark((function r(){var n;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=2;break}throw new Error("no assembly name supplied to waitForAssembly");case 2:if(!(n=e.get(t))){r.next=9;break}return r.next=6,(0,c.when)((function(){return Boolean(n.regions&&n.refNameAliases)||!!n.error}));case 6:if(!n.error){r.next=8;break}throw n.error;case 8:return r.abrupt("return",n);case 9:return r.abrupt("return",void 0);case 10:case"end":return r.stop()}}),r)})))()},getRefNameMapForAdapter:function(e,t,r){var n=this;return(0,o.default)(a.default.mark((function o(){var i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=5;break}return a.next=3,n.waitForAssembly(t);case 3:return i=a.sent,a.abrupt("return",null==i?void 0:i.getRefNameMapForAdapter(e,r));case 5:return a.abrupt("return",{});case 6:case"end":return a.stop()}}),o)})))()},getReverseRefNameMapForAdapter:function(e,t,r){var n=this;return(0,o.default)(a.default.mark((function o(){var i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t){a.next=5;break}return a.next=3,n.waitForAssembly(t);case 3:return i=a.sent,a.abrupt("return",null==i?void 0:i.getReverseRefNameMapForAdapter(e,r));case 5:return a.abrupt("return",{});case 6:case"end":return a.stop()}}),o)})))()},isValidRefName:function(t,r){if(r){var n=e.get(r);if(n)return n.isValidRefName(t);throw new Error("isValidRefName for ".concat(r," failed, assembly does not exist"))}if(!e.allPossibleRefNames)throw new Error("isValidRefName not available, assemblyManager has not yet finished loading. If you are looking for a refname in a specific assembly, pass assembly argument");return e.allPossibleRefNames.includes(t)}}})).actions((function(e){return{removeAssembly:function(t){e.assemblies.remove(t)},afterAttach:function(){var t=this;(0,u.addDisposer)(e,(0,l.reaction)((function(){return e.assemblyList}),(function(r){e.assemblies.forEach((function(e){e.configuration||t.removeAssembly(e)})),r.forEach((function(r){-1===e.assemblies.findIndex((function(e){return e.name===(0,s.readConfObject)(r,"name")}))&&t.addAssembly(r)}))}),{fireImmediately:!0,name:"assemblyManagerAfterAttach"}))},addAssembly:function(t){e.assemblies.push({configuration:t})},replaceAssembly:function(t,r){e.assemblies[t]=(0,u.cast)({configuration:r})}}}))};var a=n(r(19)),o=n(r(21)),i=n(r(33)),l=r(42),u=r(17),c=r(32),s=r(29),d=n(r(2057));function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},2057:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=new f.default({cache:new g.default({maxSize:1e3}),fill:function(e,t,r){return(0,c.default)(i.default.mark((function n(){var a,o,l;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.adapterConf,o=e.self,l=e.options,n.abrupt("return",w(o,a,y(y({},l),{},{statusCallback:r}),t));case 2:case"end":return n.stop()}}),n)})))()}});return d.types.model({configuration:d.types.safeReference(e)}).volatile((function(){return{error:void 0,regions:void 0,refNameAliases:void 0,cytobands:void 0}})).views((function(e){return{get initialized(){return!!e.refNameAliases},get name(){return(0,p.getConf)(e,"name")},get aliases(){return(0,p.getConf)(e,"aliases")},hasName:function(e){return this.allAliases.includes(e)},get allAliases(){return[this.name].concat((0,l.default)(this.aliases))},get refNames(){var t;return null===(t=e.regions)||void 0===t?void 0:t.map((function(e){return e.refName}))},get allRefNames(){return e.refNameAliases?Object.keys(e.refNameAliases):void 0},get rpcManager(){return(0,d.getParent)(e,2).rpcManager},get refNameColors(){var t=(0,p.getConf)(e,"refNameColors");return 0===t.length?b:t}}})).views((function(e){return{getCanonicalRefName:function(t){if(!e.refNameAliases)throw new Error("aliases not loaded, we expect them to be loaded before getCanonicalRefName can be called");return e.refNameAliases[t]},getRefNameColor:function(t){var r,n=null===(r=e.refNames)||void 0===r?void 0:r.findIndex((function(e){return e===t}));if(void 0!==n&&-1!==n)return e.refNameColors[n%e.refNameColors.length]},isValidRefName:function(t){if(!e.refNameAliases)throw new Error("isValidRefName cannot be called yet, the assembly has not finished loading");return!!this.getCanonicalRefName(t)}}})).actions((function(e){return{setLoading:function(){},setLoaded:function(e){var t=e.adapterRegionsWithAssembly,r=e.refNameAliases,n=e.cytobands;this.setRegions(t),this.setRefNameAliases(r),this.setCytobands(n)},setError:function(t){console.error(t),e.error=t},setRegions:function(t){e.regions=t},setRefNameAliases:function(t){e.refNameAliases=t},setCytobands:function(t){e.cytobands=t},afterAttach:function(){(0,m.makeAbortableReaction)(e,function(e){return function(t){if(t.configuration){var r=t.configuration,n=r.sequence,a=r.refNameAliases,o=r.cytobands,i=n.adapter,l=null==a?void 0:a.adapter,u=null==o?void 0:o.adapter;return{sequenceAdapterConfig:i,assemblyName:t.name,refNameAliasesAdapterConfig:l,cytobandAdapterConfig:u,pluginManager:e}}}}(t),k,{name:"".concat(e.name," assembly loading"),fireImmediately:!0},this.setLoading,this.setLoaded,this.setError)}}})).views((function(e){return{getAdapterMapEntry:function(t,n){n.signal;var a=n.statusCallback,i=(0,o.default)(n,h);if(!n.sessionId)throw new Error("sessionId is required");var l=function(e){return(0,s.default)(e)}(t);return r.get(l,{adapterConf:t,self:e,options:i},void 0,a)},getRefNameMapForAdapter:function(e,t){var r=this;return(0,c.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&t.sessionId){n.next=2;break}throw new Error("sessionId is required");case 2:return n.next=4,r.getAdapterMapEntry(e,t);case 4:return a=n.sent,n.abrupt("return",a.forwardMap);case 6:case"end":return n.stop()}}),n)})))()},getReverseRefNameMapForAdapter:function(e,t){var r=this;return(0,c.default)(i.default.mark((function n(){var a;return i.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.getAdapterMapEntry(e,t);case 2:return a=n.sent,n.abrupt("return",a.reverseMap);case 4:case"end":return n.stop()}}),n)})))()}}}))};var a=n(r(12)),o=n(r(45)),i=n(r(19)),l=n(r(33)),u=n(r(10)),c=n(r(21)),s=n(r(708)),d=r(17),f=n(r(87)),p=r(29),m=r(32),g=n(r(517)),h=["signal","statusCallback"];function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var b=["rgb(153, 102, 0)","rgb(102, 102, 0)","rgb(153, 153, 30)","rgb(204, 0, 0)","rgb(255, 0, 0)","rgb(255, 0, 204)","rgb(165, 132, 132)","rgb(204, 122, 0)","rgb(178, 142, 0)","rgb(153, 153, 0)","rgb(122, 153, 0)","rgb(0, 165, 0)","rgb(53, 128, 0)","rgb(0, 0, 204)","rgb(96, 145, 242)","rgb(107, 142, 178)","rgb(0, 165, 165)","rgb(122, 153, 153)","rgb(153, 0, 204)","rgb(204, 51, 255)","rgb(173, 130, 216)","rgb(102, 102, 102)","rgb(145, 145, 145)","rgb(142, 142, 142)","rgb(142, 142, 107)","rgb(96, 163, 48)"];function w(e,t,r,n){return O.apply(this,arguments)}function O(){return(O=(0,c.default)(i.default.mark((function e(t,r,n,o){var l,u,c,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.sessionId,e.next=3,(0,m.when)((function(){return Boolean(t.regions&&t.refNameAliases)}),{signal:o,name:"when assembly ready"});case 3:return e.next=5,t.rpcManager.call(l,"CoreGetRefNames",y({adapterConfig:r,signal:o},n),{timeout:1e6});case 5:if(u=e.sent,t.refNameAliases){e.next=9;break}throw new Error("error loading assembly ".concat(t.name,"'s refNameAliases"));case 9:return c=Object.fromEntries(u.map((function(e){return C(e),[t.getCanonicalRefName(e),e]}))),s=Object.fromEntries(Object.entries(c).map((function(e){var t=(0,a.default)(e,2),r=t[0];return[t[1],r]}))),e.abrupt("return",{forwardMap:c,reverseMap:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){if(!e.match(/[0-9A-Za-z!#$%&+./:;?@^_|~-][0-9A-Za-z!#$%&*+./:;=?@^_|~-]*/))throw new Error('Encountered invalid refName: "'.concat(e,'"'))}function k(e,t){return E.apply(this,arguments)}function E(){return(E=(0,c.default)(i.default.mark((function e(t,r){var n,a,o,l,u,c,s,d,f,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return n=t.sequenceAdapterConfig,a=t.assemblyName,o=t.refNameAliasesAdapterConfig,l=t.cytobandAdapterConfig,u=t.pluginManager,e.next=5,M(n,u,r);case 5:return c=e.sent,s=c.map((function(e){return C(e.refName),y(y({},e),{},{assemblyName:a})})),d={},e.next=10,S(o,u,r);case 10:return f=e.sent,e.next=13,x(l,u);case 13:return p=e.sent,f.forEach((function(e){var t=e.refName;e.aliases.forEach((function(e){C(e),d[e]=t}))})),s.forEach((function(e){d[e.refName]=e.refName})),e.abrupt("return",{adapterRegionsWithAssembly:s,refNameAliases:d,cytobands:p});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e,t,r){return P.apply(this,arguments)}function P(){return(P=(0,c.default)(i.default.mark((function e(t,r,n){var a,o,l,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.getAdapterType(t.type),e.next=3,null===(a=o.getAdapterClass)||void 0===a?void 0:a.call(o);case 3:return l=e.sent,u=new l(t,void 0,r),e.abrupt("return",u.getRefNameAliases({signal:n}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t){return j.apply(this,arguments)}function j(){return(j=(0,c.default)(i.default.mark((function e(t,r){var n,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getAdapterType(t.type),e.next=3,n.getAdapterClass();case 3:return a=e.sent,o=new a(t,void 0,r),e.abrupt("return",o.getData());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(e,t,r){return T.apply(this,arguments)}function T(){return(T=(0,c.default)(i.default.mark((function e(t,r,n){var a,o,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.getAdapterType(t.type),e.next=3,a.getAdapterClass();case 3:return o=e.sent,l=new o(t,void 0,r),e.abrupt("return",l.getRegions({signal:n}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2058:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(29);t.default=function(e){return(0,n.ConfigurationSchema)("BaseAssembly",{aliases:{type:"stringArray",defaultValue:[],description:"Other possible names for the assembly"},sequence:e.getTrackType("ReferenceSequenceTrack").configSchema,refNameColors:{type:"stringArray",defaultValue:[],description:"Define custom colors for each reference sequence. Will cycle through this list if there are not enough colors for every sequence."},refNameAliases:(0,n.ConfigurationSchema)("RefNameAliases",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:function(e){return e.adapter?e:{adapter:{type:"RefNameAliasAdapter"}}}}),cytobands:(0,n.ConfigurationSchema)("Cytoband",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:function(e){return e.adapter?e:{adapter:{type:"CytobandAdapter"}}}}),displayName:{type:"string",defaultValue:"",description:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)" while the assembly name may just be "hg38"'}},{explicitIdentifier:"name"})}},2059:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(33)),l=n(r(12)),u=n(r(15)),c=n(r(16)),s=n(r(10)),d=r(17),f=n(r(281)),p=n(r(142)),m=n(r(167)),g=n(r(205)),h=n(r(282)),v=n(r(168)),y=n(r(518)),b=n(r(362)),w=n(r(911)),O=n(r(912)),C=r(29),k=n(r(115)),E=n(r(913)),S=n(r(2082)),P=n(r(898));function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M=function(){function e(){(0,u.default)(this,e),(0,s.default)(this,"phaseCallbacks",new Map),(0,s.default)(this,"phaseOrder",[]);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this.phaseOrder=r}return(0,c.default)(e,[{key:"add",value:function(e,t){if(!this.phaseOrder.includes(e))throw new Error("unknown phase ".concat(e));var r=this.phaseCallbacks.get(e);r||(r=[],this.phaseCallbacks.set(e,r)),r.push(t)}},{key:"run",value:function(){var e=this;this.phaseOrder.forEach((function(t){var r;null===(r=e.phaseCallbacks.get(t))||void 0===r||r.forEach((function(e){return e()}))}))}}]),e}(),T=function(){function e(t,r){(0,u.default)(this,e),this.typeName=t,this.baseClass=r,(0,s.default)(this,"registeredTypes",{})}return(0,c.default)(e,[{key:"add",value:function(e,t){this.registeredTypes[e]=t}},{key:"has",value:function(e){return e in this.registeredTypes}},{key:"get",value:function(e){if(!this.has(e))throw new Error("".concat(this.typeName," '").concat(e,"' not found, perhaps its plugin is not loaded or its plugin has not added it."));return this.registeredTypes[e]}},{key:"all",value:function(){return Object.values(this.registeredTypes)}}]),e}(),R=function(){function e(){var t=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,u.default)(this,e),(0,s.default)(this,"plugins",[]),(0,s.default)(this,"jexl",(0,P.default)()),(0,s.default)(this,"pluginMetadata",{}),(0,s.default)(this,"runtimePluginDefinitions",[]),(0,s.default)(this,"elementCreationSchedule",new M("renderer","adapter","text search adapter","display","track","connection","view","widget","rpc method","internet account")),(0,s.default)(this,"rendererTypes",new T("RendererType",f.default)),(0,s.default)(this,"adapterTypes",new T("AdapterType",p.default)),(0,s.default)(this,"textSearchAdapterTypes",new T("TextSearchAdapterType",O.default)),(0,s.default)(this,"trackTypes",new T("TrackType",m.default)),(0,s.default)(this,"displayTypes",new T("DisplayType",g.default)),(0,s.default)(this,"connectionTypes",new T("ConnectionType",y.default)),(0,s.default)(this,"viewTypes",new T("ViewType",h.default)),(0,s.default)(this,"widgetTypes",new T("WidgetType",v.default)),(0,s.default)(this,"rpcMethods",new T("RpcMethodType",b.default)),(0,s.default)(this,"internetAccountTypes",new T("InternetAccountType",w.default)),(0,s.default)(this,"configured",!1),(0,s.default)(this,"rootModel",void 0),(0,s.default)(this,"extensionPoints",new Map),(0,s.default)(this,"jbrequireCache",new Map),(0,s.default)(this,"lib",E.default),(0,s.default)(this,"load",(function(e){return t.jbrequireCache.has(e)||t.jbrequireCache.set(e,e(t)),t.jbrequireCache.get(e)})),(0,s.default)(this,"jbrequire",(function(e){if("string"==typeof e){var r=t.lib[e];if(!r)throw new TypeError("No jbrequire re-export defined for package '".concat(e,"'. If this package must be shared between plugins, add it to ReExports.js. If it does not need to be shared, just import it normally."));return r}if("function"==typeof e)return t.load(e);if(e.default)return t.jbrequire(e.default);throw new TypeError("lib passed to jbrequire must be either a string or a function")})),this.addPlugin({plugin:new S.default,metadata:{isCore:!0}}),r.forEach((function(e){t.addPlugin(e)}))}var t;return(0,c.default)(e,[{key:"pluginConfigurationSchemas",value:function(){var e={};return this.plugins.forEach((function(t){t.configurationSchema&&(e[t.name]=t.configurationSchema)})),e}},{key:"addPlugin",value:function(e){if(this.configured)throw new Error("JBrowse already configured, cannot add plugins");var t=e instanceof k.default?[e,{}]:[e.plugin,e.metadata],r=(0,l.default)(t,2),n=r[0],a=r[1],o=void 0===a?{}:a;if(this.plugins.includes(n))throw new Error("plugin already installed");return this.pluginMetadata[n.name]=o,"definition"in e&&this.runtimePluginDefinitions.push(e.definition),n.install(this),this.plugins.push(n),this}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"hasPlugin",value:function(e){return void 0!==this.getPlugin(e)}},{key:"createPluggableElements",value:function(){return this.elementCreationSchedule&&(this.elementCreationSchedule.run(),delete this.elementCreationSchedule),this}},{key:"setRootModel",value:function(e){this.rootModel=e}},{key:"configure",value:function(){var e=this;if(this.configured)throw new Error("already configured");return this.plugins.forEach((function(t){return t.configure(e)})),this.configured=!0,this}},{key:"getElementTypeRecord",value:function(e){switch(e){case"adapter":return this.adapterTypes;case"text search adapter":return this.textSearchAdapterTypes;case"connection":return this.connectionTypes;case"widget":return this.widgetTypes;case"renderer":return this.rendererTypes;case"display":return this.displayTypes;case"track":return this.trackTypes;case"view":return this.viewTypes;case"rpc method":return this.rpcMethods;case"internet account":return this.internetAccountTypes;default:throw new Error("invalid element type '".concat(e,"'"))}}},{key:"addElementType",value:function(e,t){var r=this;if("function"!=typeof t)throw new Error("must provide a callback function that returns the new type object");var n=this.getElementTypeRecord(e);return this.elementCreationSchedule&&this.elementCreationSchedule.add(e,(function(){var a=t(r);if(!a.name)throw new Error("cannot add a ".concat(e," with no name"));if(n.has(a.name))throw new Error("".concat(e," ").concat(a.name," already registered, cannot register it again"));a=r.evaluateExtensionPoint("Core-extendPluggableElement",a),n.add(a.name,a)})),this}},{key:"getElementType",value:function(e,t){return this.getElementTypeRecord(e).get(t)}},{key:"getElementTypesInGroup",value:function(e){return this.getElementTypeRecord(e).all()}},{key:"pluggableMstType",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.types.maybe(d.types.null),n=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,d.isType)(e)&&(0,d.isModelType)(e)}));return 0===n.length?(console.warn("No JBrowse pluggable types found matching ('".concat(e,"','").concat(t,"')")),r):d.types.union.apply(d.types,(0,i.default)(n))}},{key:"pluggableConfigSchemaType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"configSchema",r=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,C.isBareConfigurationSchemaType)(e)}));return 0===r.length&&r.push((0,C.ConfigurationSchema)("Null",{})),d.types.union.apply(d.types,(0,i.default)(r))}},{key:"getRendererType",value:function(e){return this.rendererTypes.get(e)}},{key:"getRendererTypes",value:function(){return this.rendererTypes.all()}},{key:"getAdapterType",value:function(e){return this.adapterTypes.get(e)}},{key:"getTextSearchAdapterType",value:function(e){return this.textSearchAdapterTypes.get(e)}},{key:"getTrackType",value:function(e){return this.trackTypes.get(e)}},{key:"getDisplayType",value:function(e){return this.displayTypes.get(e)}},{key:"getViewType",value:function(e){return this.viewTypes.get(e)}},{key:"getWidgetType",value:function(e){return this.widgetTypes.get(e)}},{key:"getConnectionType",value:function(e){return this.connectionTypes.get(e)}},{key:"getRpcMethodType",value:function(e){return this.rpcMethods.get(e)}},{key:"getInternetAccountType",value:function(e){return this.internetAccountTypes.get(e)}},{key:"addRendererType",value:function(e){return this.addElementType("renderer",e)}},{key:"addAdapterType",value:function(e){return this.addElementType("adapter",e)}},{key:"addTextSearchAdapterType",value:function(e){return this.addElementType("text search adapter",e)}},{key:"addTrackType",value:function(e){var t=this;return this.addElementType("track",(function(){var r=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.trackType!==r.name||r.displayTypes.includes(e)||r.addDisplayType(e)})),r}))}},{key:"addDisplayType",value:function(e){return this.addElementType("display",e)}},{key:"addViewType",value:function(e){var t=this;return this.addElementType("view",(function(){var r=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.viewType!==r.name||r.displayTypes.includes(e)||r.addDisplayType(e)})),r}))}},{key:"addWidgetType",value:function(e){return this.addElementType("widget",e)}},{key:"addConnectionType",value:function(e){return this.addElementType("connection",e)}},{key:"addRpcMethod",value:function(e){return this.addElementType("rpc method",e)}},{key:"addInternetAccountType",value:function(e){return this.addElementType("internet account",e)}},{key:"addToExtensionPoint",value:function(e,t){var r=this.extensionPoints.get(e);r||(r=[],this.extensionPoints.set(e,r)),r.push(t)}},{key:"evaluateExtensionPoint",value:function(e,t){var r=this.extensionPoints.get(e),n=t;if(r){var a,o=x(r);try{for(o.s();!(a=o.n()).done;){var i=a.value;try{n=i(n)}catch(e){console.error(e)}}}catch(e){o.e(e)}finally{o.f()}}return n}},{key:"evaluateAsyncExtensionPoint",value:(t=(0,o.default)(a.default.mark((function e(t,r){var n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.extensionPoints.get(t),o=r,!n){e.next=27;break}i=x(n),e.prev=4,i.s();case 6:if((l=i.n()).done){e.next=19;break}return u=l.value,e.prev=8,e.next=11,u(o);case 11:o=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.error(e.t0);case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(4),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",o);case 28:case"end":return e.stop()}}),e,this,[[4,21,24,27],[8,14]])}))),function(e,r){return t.apply(this,arguments)})}]),e}();t.default=R},206:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.InterRegionPaddingBlock=t.ElidedBlock=t.ContentBlock=t.BlockSet=t.BaseBlock=void 0;var a=n(r(30)),o=n(r(25)),i=n(r(26)),l=n(r(24)),u=n(r(10)),c=n(r(15)),s=n(r(16));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.default)(this,e),this.blocks=t}return(0,s.default)(e,[{key:"push",value:function(e){if(e instanceof v&&this.blocks.length){var t=this.blocks[this.blocks.length-1];if(t instanceof v)return void t.push(e)}this.blocks.push(e)}},{key:"getBlocks",value:function(){return this.blocks}},{key:"getRegions",value:function(){return this.blocks.map((function(e){return e.toRegion()}))}},{key:"map",value:function(e,t){return this.blocks.map(e,t)}},{key:"forEach",value:function(e,t){return this.blocks.forEach(e,t)}},{key:"length",get:function(){return this.blocks.length}},{key:"totalWidthPx",get:function(){return this.blocks.length?this.blocks.map((function(e){return e.widthPx})).reduce((function(e,t){return e+t})):0}},{key:"totalWidthPxWithoutBorders",get:function(){return this.blocks.length?this.blocks.filter((function(e){return"boundary"!==e.variant})).map((function(e){return e.widthPx})).reduce((function(e,t){return e+t})):0}},{key:"offsetPx",get:function(){return this.blocks.length?this.blocks[0].offsetPx:0}},{key:"contentBlocks",get:function(){return this.blocks.filter((function(e){return e instanceof h}))}},{key:"totalBp",get:function(){return this.contentBlocks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)}}]),e}();t.BlockSet=m;var g=function(){function e(t){(0,c.default)(this,e),(0,u.default)(this,"regionNumber",void 0),(0,u.default)(this,"reversed",void 0),(0,u.default)(this,"refName",void 0),(0,u.default)(this,"start",void 0),(0,u.default)(this,"end",void 0),(0,u.default)(this,"assemblyName",void 0),(0,u.default)(this,"key",void 0),(0,u.default)(this,"offsetPx",void 0),(0,u.default)(this,"widthPx",0),(0,u.default)(this,"variant",void 0),(0,u.default)(this,"isLeftEndOfDisplayedRegion",void 0),Object.assign(this,t),this.assemblyName=t.assemblyName,this.refName=t.refName,this.start=t.start,this.end=t.end,this.key=t.key,this.offsetPx=t.offsetPx}return(0,s.default)(e,[{key:"renameReference",value:function(e){return this.refName&&e!==this.refName?new this.constructor(p(p({},this),{},{refName:e})):this}},{key:"toRegion",value:function(){return{refName:this.refName,start:this.start,end:this.end,assemblyName:this.assemblyName,reversed:this.reversed}}}]),e}();t.BaseBlock=g;var h=function(e){(0,o.default)(r,e);var t=d(r);function r(){return(0,c.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r)}(g);t.ContentBlock=h;var v=function(e){(0,o.default)(r,e);var t=d(r);function r(e){var n;return(0,c.default)(this,r),n=t.call(this,e),(0,u.default)((0,a.default)(n),"widthPx",void 0),(0,u.default)((0,a.default)(n),"elidedBlockCount",0),n.widthPx=e.widthPx,n}return(0,s.default)(r,[{key:"push",value:function(e){this.elidedBlockCount+=1,e&&(this.refName="",this.start=0,this.end=0,this.widthPx+=e.widthPx)}}]),r}(g);t.ElidedBlock=v;var y=function(e){(0,o.default)(r,e);var t=d(r);function r(){return(0,c.default)(this,r),t.apply(this,arguments)}return(0,s.default)(r)}(g);t.InterRegionPaddingBlock=y},2060:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(1)),i=ke(r(6)),l=ke(r(42)),u=ke(r(17)),c=ke(r(14)),s=n(r(0)),d=ke(r(34)),f=ke(r(23)),p=ke(r(46)),m=n(r(126)),g=ke(r(209)),h=ke(r(519)),v=n(r(225)),y=n(r(70)),b=n(r(247)),w=n(r(248)),O=n(r(249)),C=n(r(157)),k=n(r(250)),E=n(r(104)),S=n(r(188)),P=n(r(121)),x=n(r(158)),j=n(r(189)),M=n(r(251)),T=n(r(252)),R=n(r(56)),D=n(r(253)),I=n(r(190)),A=n(r(159)),_=n(r(254)),F=n(r(187)),L=n(r(96)),N=n(r(255)),B=n(r(227)),z=n(r(127)),H=n(r(256)),W=n(r(191)),V=n(r(83)),G=n(r(137)),U=n(r(54)),q=n(r(257)),$=n(r(258)),K=ke(r(90)),J=ke(r(363)),Y=n(r(364)),X=ke(r(2062)),Z=n(r(282)),Q=n(r(142)),ee=n(r(205)),te=n(r(167)),re=n(r(168)),ne=ke(r(99)),ae=ke(r(283)),oe=n(r(366)),ie=ke(r(919)),le=ke(r(207)),ue=ke(r(281)),ce=ke(r(29)),se=n(r(115)),de=ke(r(84)),fe=ke(r(32)),pe=ke(r(522)),me=ke(r(2076)),ge=ke(r(64)),he=ke(r(100)),ve=ke(r(166)),ye=ke(r(116)),be=ke(r(2080)),we=ke(r(72)),Oe=n(r(2081));function Ce(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(Ce=function(e){return e?r:t})(e)}function ke(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=Ce(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var Ee={mobx:l,"mobx-state-tree":u,react:o.default,"react-dom":i,"mobx-react":c,"prop-types":s.default,"@material-ui/core":f,"@material-ui/core/SvgIcon":m.default,"@material-ui/core/utils":p,"@material-ui/lab":g,"@mui/x-data-grid":h,"@material-ui/data-grid":h,"@material-ui/core/colors":be,"@material-ui/core/styles":d,"@material-ui/core/Box":v.default,"@material-ui/core/Button":y.default,"@material-ui/core/ButtonGroup":b.default,"@material-ui/core/Card":w.default,"@material-ui/core/CardContent":O.default,"@material-ui/core/Container":k.default,"@material-ui/core/Checkbox":C.default,"@material-ui/core/Dialog":E.default,"@material-ui/core/FormGroup":j.default,"@material-ui/core/FormLabel":S.default,"@material-ui/core/FormControl":P.default,"@material-ui/core/FormControlLabel":x.default,"@material-ui/core/Grid":M.default,"@material-ui/core/Icon":T.default,"@material-ui/core/IconButton":R.default,"@material-ui/core/InputAdornment":D.default,"@material-ui/core/LinearProgress":I.default,"@material-ui/core/ListItemIcon":A.default,"@material-ui/core/ListItemText":_.default,"@material-ui/core/Menu":F.default,"@material-ui/core/MenuItem":L.default,"@material-ui/core/RadioGroup":B.default,"@material-ui/core/Radio":N.default,"@material-ui/core/Select":z.default,"@material-ui/core/Snackbar":H.default,"@material-ui/core/SnackbarContent":W.default,"@material-ui/core/TextField":V.default,"@material-ui/core/Tooltip":G.default,"@material-ui/core/Typography":U.default,"@material-ui/lab/ToggleButton":q.default,"@material-ui/lab/ToggleButtonGroup":$.default,"@jbrowse/core/Plugin":se.default,"@jbrowse/core/pluggableElementTypes":X,"@jbrowse/core/pluggableElementTypes/ViewType":Z.default,"@jbrowse/core/pluggableElementTypes/AdapterType":Q.default,"@jbrowse/core/pluggableElementTypes/DisplayType":ee.default,"@jbrowse/core/pluggableElementTypes/TrackType":te.default,"@jbrowse/core/pluggableElementTypes/WidgetType":re.default,"@jbrowse/core/pluggableElementTypes/models":ne,"@jbrowse/core/pluggableElementTypes/renderers/ServerSideRendererType":ae,"@jbrowse/core/pluggableElementTypes/renderers/CircularChordRendererType":oe.default,"@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType":ie,"@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType":le,"@jbrowse/core/pluggableElementTypes/renderers/RendererType":ue,"@jbrowse/core/configuration":ce,"@jbrowse/core/util/types/mst":we,"@jbrowse/core/ui":de,"@jbrowse/core/util":fe,"@jbrowse/core/util/color":pe,"@jbrowse/core/util/layouts":me,"@jbrowse/core/util/tracks":ge,"@jbrowse/core/util/Base1DViewModel":Y.default,"@jbrowse/core/util/io":he,"@jbrowse/core/util/mst-reflection":ve,"@jbrowse/core/util/rxjs":ye,"@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail":J,"@jbrowse/core/data_adapters/BaseAdapter":K};Oe.default.forEach((function(e){if(!(e in Ee))throw new Error("ReExports/modules is missing ".concat(e))}));var Se=Ee;t.default=Se},2061:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.SequencePanel=void 0,t.default=function(e){var t,r=e.model,n=e.feature,a=w(),u=n,c=null===(t=u.subfeatures)||void 0===t?void 0:t.find((function(e){return"CDS"===e.type})),h=(0,s.useRef)(null),v=(0,f.useInView)(),y=v.ref,b=v.inView,O=(0,s.useState)(),C=(0,l.default)(O,2),k=C[0],S=C[1],P=(0,s.useState)(),x=(0,l.default)(P,2),j=x[0],M=x[1],T=(0,s.useState)(c?"cds":"cdna"),R=(0,l.default)(T,2),D=R[0],I=R[1],A=(0,s.useState)(!1),_=(0,l.default)(A,2),F=_[0],L=_[1],N=(0,s.useState)(!1),B=(0,l.default)(N,2),z=B[0],H=B[1];(0,s.useEffect)((function(){var e,t=!1;if(!r||!b)return function(){};var a=(0,m.getSession)(r),u=a.assemblyManager,c=a.rpcManager,s=(null===(e=r.view)||void 0===e?void 0:e.assemblyNames)||[],d=(0,l.default)(s,1)[0];function f(e,t,r){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(o.default.mark((function e(t,r,n){var a,i,s,f,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.waitForAssembly(d);case 2:if(a=e.sent){e.next=5;break}throw new Error("assembly not found");case 5:return"getSequence",e.next=8,c.call("getSequence","CoreGetFeatures",{adapterConfig:(0,g.getConf)(a,["sequence","adapter"]),sessionId:"getSequence",regions:[{start:t,end:r,refName:a.getCanonicalRefName(n)}]});case 8:if(i=e.sent,s=i,f=(0,l.default)(s,1),p=f[0]){e.next=12;break}throw new Error("sequence not found for feature with refName:".concat(n));case 12:return e.abrupt("return",p.get("seq"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.default)(o.default.mark((function e(){var r,a,i,l,u,c,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(r=n).start,i=r.end,l=r.refName,e.next=4,f(a,i,l);case 4:return u=e.sent,e.next=7,f(Math.max(0,a-500),a,l);case 7:return c=e.sent,e.next=10,f(i,i+500,l);case 10:s=e.sent,t||S({seq:u,upstream:c,downstream:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),M(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))(),function(){t=!0}}),[n,b,r]);var W=!k;return s.default.createElement("div",{ref:y},s.default.createElement(d.Select,{value:D,onChange:function(e){return I(e.target.value)}},c?s.default.createElement(d.MenuItem,{value:"cds"},"CDS"):null,c?s.default.createElement(d.MenuItem,{value:"protein"},"Protein"):null,s.default.createElement(d.MenuItem,{value:"gene"},"Gene w/ introns"),s.default.createElement(d.MenuItem,{value:"gene_collapsed_intron"},"Gene w/ 10bp of intron"),s.default.createElement(d.MenuItem,{value:"gene_updownstream"},"Gene w/ 500bp up+down stream"),s.default.createElement(d.MenuItem,{value:"gene_updownstream_collapsed_intron"},"Gene w/ 500bp up+down stream w/ 10bp intron"),s.default.createElement(d.MenuItem,{value:"cdna"},"cDNA")),s.default.createElement(d.Button,{className:a.button,type:"button",variant:"contained",onClick:function(){var e=h.current;e&&((0,p.default)(e.textContent||"",{format:"text/plain"}),L(!0),setTimeout((function(){return L(!1)}),1e3))}},F?"Copied to clipboard!":"Copy as plaintext"),s.default.createElement(d.Tooltip,{title:"Note that 'Copy as HTML' can retain the colors but cannot be pasted into some programs like notepad that only expect plain text"},s.default.createElement(d.Button,{className:a.button,type:"button",variant:"contained",onClick:function(){var e=h.current;e&&((0,p.default)(e.innerHTML,{format:"text/html"}),H(!0),setTimeout((function(){return H(!1)}),1e3))}},z?"Copied to clipboard!":"Copy as HTML")),s.default.createElement("div",{"data-testid":"feature_sequence"},j?s.default.createElement(d.Typography,{color:"error"},"".concat(j)):W?s.default.createElement("div",null,"Loading gene sequence..."):k?s.default.createElement(E,{ref:h,feature:u,mode:D,sequence:k}):s.default.createElement("div",null,"No sequence found")))};var o=n(r(19)),i=n(r(21)),l=n(r(12)),u=n(r(10)),c=n(r(33)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),d=r(23),f=r(719),p=n(r(139)),m=r(32),g=r(29),h=r(916);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=(0,d.makeStyles)((function(e){return{button:{margin:e.spacing(1)}}}));function O(e){var t=e.cds,r=e.sequence;return s.default.createElement("span",{style:{background:"rgb(220,220,180)"}},(0,h.stitch)(t,r))}function C(e){for(var t=e.cds,r=e.sequence,n=e.codonTable,a=(0,h.stitch)(t,r),o="",i=0;i<a.length;i+=3)o+=n[a.slice(i,i+3)]||"&";return s.default.createElement("span",{style:{background:"rgb(220,160,220)"}},o)}function k(e){var t=e.utr,r=e.cds,n=e.exons,a=e.sequence,o=e.upstream,i=e.downstream,l=e.includeIntrons,u=e.collapseIntron,d=r.length?[].concat((0,c.default)(r),(0,c.default)(t)).sort((function(e,t){return e.start-t.start})):n;return s.default.createElement(s.default.Fragment,null,o?s.default.createElement("span",{style:{background:"rgba(250,200,200)"}},o):null,d.filter((function(e){return e.start!==e.end})).map((function(e,t){var r,n=a.slice(e.end,null===(r=d[t+1])||void 0===r?void 0:r.start);return s.default.createElement(s.default.Fragment,{key:JSON.stringify(e)},s.default.createElement("span",{style:{background:"CDS"===e.type?"rgb(220,220,180)":"rgb(200,240,240)"}},a.slice(e.start,e.end)),l&&t<d.length-1?s.default.createElement("span",{style:{background:void 0}},u&&n.length>20?"".concat(n.slice(0,10),"...").concat(n.slice(-10)):n):null)})),i?s.default.createElement("span",{style:{background:"rgba(250,200,200)"}},i):null)}var E=s.default.forwardRef((function(e,t){var r=e.feature,n=e.mode,a=e.sequence,o=a.seq,i=a.upstream,l=void 0===i?"":i,u=a.downstream,c=void 0===u?"":u,d=r.subfeatures,f=(0,m.generateCodonTable)(m.defaultCodonTable);if(!d)return null;var p=d.sort((function(e,t){return e.start-t.start})).map((function(e){return b(b({},e),{},{start:e.start-r.start,end:e.end-r.start})})),g=(0,h.dedupe)(p.filter((function(e){return"CDS"===e.type}))),v=(0,h.dedupe)(p.filter((function(e){return e.type.match(/utr/i)}))),y=(0,h.dedupe)(p.filter((function(e){return"exon"===e.type})));if(!v.length&&g.length&&y.length&&(v=(0,h.calculateUTRs)(g,y)),-1===r.strand){var w=[(0,m.revcom)(o),(0,m.revcom)(c),(0,m.revcom)(l)];o=w[0],l=w[1],c=w[2],g=(0,h.revlist)(g,o.length),y=(0,h.revlist)(y,o.length),v=(0,h.revlist)(v,o.length)}return s.default.createElement("div",{ref:t,"data-testid":"sequence_panel"},s.default.createElement("div",{style:{fontFamily:"monospace",wordWrap:"break-word",maxWidth:600}},">".concat(r.name||r.id||"unknown","-").concat(n,"\n"),"cds"===n?s.default.createElement(O,{cds:g,sequence:o}):"cdna"===n?s.default.createElement(k,{exons:y,cds:g,utr:v,sequence:o}):"protein"===n?s.default.createElement(C,{cds:g,codonTable:f,sequence:o}):"gene"===n?s.default.createElement(k,{exons:y,cds:g,utr:v,sequence:o,includeIntrons:!0}):"gene_collapsed_intron"===n?s.default.createElement(k,{exons:y,cds:g,sequence:o,utr:v,includeIntrons:!0,collapseIntron:!0}):"gene_updownstream"===n?s.default.createElement(k,{exons:y,cds:g,sequence:o,utr:v,upstream:l,downstream:c,includeIntrons:!0}):"gene_updownstream_collapsed_intron"===n?s.default.createElement(k,{exons:y,cds:g,sequence:o,utr:v,upstream:l,downstream:c,includeIntrons:!0,collapseIntron:!0}):s.default.createElement("div",null,"Unknown type")))}));t.SequencePanel=E},2062:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0});var a={AdapterType:!0,ConnectionType:!0,RendererType:!0,WidgetType:!0,TrackType:!0,DisplayType:!0,ViewType:!0,RpcMethodType:!0,InternetAccountType:!0,TextSearchAdapterType:!0};Object.defineProperty(t,"AdapterType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ConnectionType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"DisplayType",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"InternetAccountType",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"RendererType",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"RpcMethodType",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"TextSearchAdapterType",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"TrackType",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ViewType",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"WidgetType",{enumerable:!0,get:function(){return u.default}});var o=n(r(142)),i=n(r(518)),l=n(r(281)),u=n(r(168)),c=n(r(167)),s=n(r(205)),d=n(r(282)),f=n(r(362)),p=n(r(911)),m=n(r(912)),g=r(2063);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}));var h=r(99);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}))},2063:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BoxRendererType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CircularChordRendererType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ComparativeServerSideRendererType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"FeatureRendererType",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"RendererType",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ServerSideRenderedContent",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ServerSideRendererType",{enumerable:!0,get:function(){return s.default}});var a=n(r(919)),o=n(r(366)),i=n(r(2065)),l=n(r(207)),u=n(r(281)),c=n(r(923)),s=n(r(283))},2064:function(e,t,r){"use strict";var n=r(726),a=r(1);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=60106,l=60107,u=60108,c=60114,s=60109,d=60110,f=60112,p=60113,m=60120,g=60115,h=60116,v=60121,y=60117,b=60119,w=60129,O=60131;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;i=C("react.portal"),l=C("react.fragment"),u=C("react.strict_mode"),c=C("react.profiler"),s=C("react.provider"),d=C("react.context"),f=C("react.forward_ref"),p=C("react.suspense"),m=C("react.suspense_list"),g=C("react.memo"),h=C("react.lazy"),v=C("react.block"),y=C("react.fundamental"),b=C("react.scope"),w=C("react.debug_trace_mode"),O=C("react.legacy_hidden")}function k(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case i:return"Portal";case c:return"Profiler";case u:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case d:return(e.displayName||"Context")+".Consumer";case s:return(e._context.displayName||"Context")+".Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return k(e.type);case v:return k(e._render);case h:t=e._payload,e=e._init;try{return k(e(t))}catch(e){}}return null}var E=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S={};function P(e,t){for(var r=0|e._threadCount;r<=t;r++)e[r]=e._currentValue2,e._threadCount=r+1}for(var x=new Uint16Array(16),j=0;15>j;j++)x[j]=j+1;x[15]=0;var M=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T=Object.prototype.hasOwnProperty,R={},D={};function I(e){return!!T.call(D,e)||!T.call(R,e)&&(M.test(e)?D[e]=!0:(R[e]=!0,!1))}function A(e,t,r,n,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new A(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new A(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new A(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new A(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new A(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new A(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new A(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new A(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new A(e,5,!1,e.toLowerCase(),null,!1,!1)}));var F=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(F,L);_[t]=new A(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(F,L);_[t]=new A(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(F,L);_[t]=new A(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new A(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new A("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new A(e,1,!1,e.toLowerCase(),null,!0,!0)}));var N=/["'&<>]/;function B(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=N.exec(e);if(t){var r,n="",a=0;for(r=t.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==r&&(n+=e.substring(a,r)),a=r+1,n+=t}e=a!==r?n+e.substring(a,r):n}return e}function z(e,t){var r,n=_.hasOwnProperty(e)?_[e]:null;return(r="style"!==e)&&(r=null!==n?0===n.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),r||function(e,t,r,n){if(null==t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,n,!1)?"":null!==n?(e=n.attributeName,3===(r=n.type)||4===r&&!0===t?e+'=""':(n.sanitizeURL&&(t=""+t),e+'="'+B(t)+'"')):I(e)?e+'="'+B(t)+'"':""}var H="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},W=null,V=null,G=null,U=!1,q=!1,$=null,K=0;function J(){if(null===W)throw Error(o(321));return W}function Y(){if(0<K)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function X(){return null===G?null===V?(U=!1,V=G=Y()):(U=!0,G=V):null===G.next?(U=!1,G=G.next=Y()):(U=!0,G=G.next),G}function Z(e,t,r,n){for(;q;)q=!1,K+=1,G=null,r=e(t,n);return Q(),r}function Q(){W=null,q=!1,V=null,K=0,G=$=null}function ee(e,t){return"function"==typeof t?t(e):t}function te(e,t,r){if(W=J(),G=X(),U){var n=G.queue;if(t=n.dispatch,null!==$&&void 0!==(r=$.get(n))){$.delete(n),n=G.memoizedState;do{n=e(n,r.action),r=r.next}while(null!==r);return G.memoizedState=n,[n,t]}return[G.memoizedState,t]}return e=e===ee?"function"==typeof t?t():t:void 0!==r?r(t):t,G.memoizedState=e,e=(e=G.queue={last:null,dispatch:null}).dispatch=ne.bind(null,W,e),[G.memoizedState,e]}function re(e,t){if(W=J(),t=void 0===t?null:t,null!==(G=X())){var r=G.memoizedState;if(null!==r&&null!==t){var n=r[1];e:if(null===n)n=!1;else{for(var a=0;a<n.length&&a<t.length;a++)if(!H(t[a],n[a])){n=!1;break e}n=!0}if(n)return r[0]}}return e=e(),G.memoizedState=[e,t],e}function ne(e,t,r){if(!(25>K))throw Error(o(301));if(e===W)if(q=!0,e={action:r,next:null},null===$&&($=new Map),void 0===(r=$.get(t)))$.set(t,e);else{for(t=r;null!==t.next;)t=t.next;t.next=e}}function ae(){}var oe=null,ie={readContext:function(e){var t=oe.threadID;return P(e,t),e[t]},useContext:function(e){J();var t=oe.threadID;return P(e,t),e[t]},useMemo:re,useReducer:te,useRef:function(e){W=J();var t=(G=X()).memoizedState;return null===t?(e={current:e},G.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return re((function(){return e}),t)},useImperativeHandle:ae,useEffect:ae,useDebugValue:ae,useDeferredValue:function(e){return J(),e},useTransition:function(){return J(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(oe.identifierPrefix||"")+"R:"+(oe.uniqueID++).toString(36)},useMutableSource:function(e,t){return J(),t(e._source)}},le="http://www.w3.org/1999/xhtml";function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ce={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=n({menuitem:!0},ce),de={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var pe=/([A-Z])/g,me=/^ms-/,ge=a.Children.toArray,he=E.ReactCurrentDispatcher,ve={listing:!0,pre:!0,textarea:!0},ye=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,be={},we={};var Oe=Object.prototype.hasOwnProperty,Ce={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function ke(e,t){if(void 0===e)throw Error(o(152,k(t)||"Component"))}function Ee(e,t,r){function i(a,i){var l=i.prototype&&i.prototype.isReactComponent,u=function(e,t,r,n){if(n&&("object"==typeof(n=e.contextType)&&null!==n))return P(n,r),n[r];if(e=e.contextTypes){for(var a in r={},e)r[a]=t[a];t=r}else t=S;return t}(i,t,r,l),c=[],s=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){s=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}};if(l){if(l=new i(a.props,u,d),"function"==typeof i.getDerivedStateFromProps){var f=i.getDerivedStateFromProps.call(null,a.props,l.state);null!=f&&(l.state=n({},l.state,f))}}else if(W={},l=i(a.props,u,d),null==(l=Z(i,a.props,l,u))||null==l.render)return void ke(e=l,i);if(l.props=a.props,l.context=u,l.updater=d,void 0===(d=l.state)&&(l.state=d=null),"function"==typeof l.UNSAFE_componentWillMount||"function"==typeof l.componentWillMount)if("function"==typeof l.componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&l.UNSAFE_componentWillMount(),c.length){d=c;var p=s;if(c=null,s=!1,p&&1===d.length)l.state=d[0];else{f=p?d[0]:l.state;var m=!0;for(p=p?1:0;p<d.length;p++){var g=d[p];null!=(g="function"==typeof g?g.call(l,f,a.props,u):g)&&(m?(m=!1,f=n({},f,g)):n(f,g))}l.state=f}}else c=null;if(ke(e=l.render(),i),"function"==typeof l.getChildContext&&"object"==typeof(a=i.childContextTypes)){var h=l.getChildContext();for(var v in h)if(!(v in a))throw Error(o(108,k(i)||"Unknown",v))}h&&(t=n({},t,h))}for(;a.isValidElement(e);){var l=e,u=l.type;if("function"!=typeof u)break;i(l,u)}return{child:e,context:t}}var Se=function(){function e(e,t,r){a.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=a.isValidElement(e)?[e]:ge(e)):e=ge(e),e={type:null,domNamespace:le,children:e,childIndex:0,context:S,footer:""};var n=x[0];if(0===n){var i=x,u=2*(n=i.length);if(!(65536>=u))throw Error(o(304));var c=new Uint16Array(u);for(c.set(i),(x=c)[0]=n+1,i=n;i<u-1;i++)x[i]=i+1;x[u-1]=0}else x[0]=x[n];this.threadID=n,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=r&&r.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;x[e]=x[0],x[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,r=e.type._context,n=this.threadID;P(r,n);var a=r[n];this.contextStack[t]=r,this.contextValueStack[t]=a,r[n]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],r=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=r},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=oe;oe=this;var r=he.current;he.current=ie;try{for(var n=[""],a=!1;n[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;x[i]=x[0],x[0]=i;break}var l=this.stack[this.stack.length-1];if(a||l.childIndex>=l.children.length){var u=l.footer;if(""!==u&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===l.type)this.currentSelectValue=null;else if(null!=l.type&&null!=l.type.type&&l.type.type.$$typeof===s)this.popProvider(l.type);else if(l.type===p){this.suspenseDepth--;var c=n.pop();if(a){a=!1;var d=l.fallbackFrame;if(!d)throw Error(o(303));this.stack.push(d),n[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}n[this.suspenseDepth]+=c}n[this.suspenseDepth]+=u}else{var f=l.children[l.childIndex++],m="";try{m+=this.render(f,l.context,l.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(o(294));throw e}n.length<=this.suspenseDepth&&n.push(""),n[this.suspenseDepth]+=m}}return n[0]}finally{he.current=r,oe=t,Q()}},t.render=function(e,t,r){if("string"==typeof e||"number"==typeof e)return""===(r=""+e)?"":this.makeStaticMarkup?B(r):this.previousWasTextNode?"\x3c!-- --\x3e"+B(r):(this.previousWasTextNode=!0,B(r));if(e=(t=Ee(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((r=e.$$typeof)===i)throw Error(o(257));throw Error(o(258,r.toString()))}return e=ge(e),this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),""}var v=e.type;if("string"==typeof v)return this.renderDOM(e,t,r);switch(v){case O:case w:case u:case c:case m:case l:return e=ge(e.props.children),this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case p:throw Error(o(294));case b:throw Error(o(343))}if("object"==typeof v&&null!==v)switch(v.$$typeof){case f:W={};var C=v.render(e.props,e.ref);return C=Z(v.render,e.props,C,e.ref),C=ge(C),this.stack.push({type:null,domNamespace:r,children:C,childIndex:0,context:t,footer:""}),"";case g:return e=[a.createElement(v.type,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),"";case s:return r={type:e,domNamespace:r,children:v=ge(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(r),"";case d:v=e.type,C=e.props;var k=this.threadID;return P(v,k),v=ge(C.children(v[k])),this.stack.push({type:e,domNamespace:r,children:v,childIndex:0,context:t,footer:""}),"";case y:throw Error(o(338));case h:return v=(C=(v=e.type)._init)(v._payload),e=[a.createElement(v,n({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:r,children:e,childIndex:0,context:t,footer:""}),""}throw Error(o(130,null==v?v:typeof v,""))},t.renderDOM=function(e,t,r){var i=e.type.toLowerCase();if(r===le&&ue(i),!be.hasOwnProperty(i)){if(!ye.test(i))throw Error(o(65,i));be[i]=!0}var l=e.props;if("input"===i)l=n({type:void 0},l,{defaultChecked:void 0,defaultValue:void 0,value:null!=l.value?l.value:l.defaultValue,checked:null!=l.checked?l.checked:l.defaultChecked});else if("textarea"===i){var u=l.value;if(null==u){u=l.defaultValue;var c=l.children;if(null!=c){if(null!=u)throw Error(o(92));if(Array.isArray(c)){if(!(1>=c.length))throw Error(o(93));c=c[0]}u=""+c}null==u&&(u="")}l=n({},l,{value:void 0,children:""+u})}else if("select"===i)this.currentSelectValue=null!=l.value?l.value:l.defaultValue,l=n({},l,{value:void 0});else if("option"===i){c=this.currentSelectValue;var s=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l.children);if(null!=c){var d=null!=l.value?l.value+"":s;if(u=!1,Array.isArray(c)){for(var f=0;f<c.length;f++)if(""+c[f]===d){u=!0;break}}else u=""+c===d;l=n({selected:void 0,children:void 0},l,{selected:u,children:s})}}if(u=l){if(se[i]&&(null!=u.children||null!=u.dangerouslySetInnerHTML))throw Error(o(137,i));if(null!=u.dangerouslySetInnerHTML){if(null!=u.children)throw Error(o(60));if("object"!=typeof u.dangerouslySetInnerHTML||!("__html"in u.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=u.style&&"object"!=typeof u.style)throw Error(o(62))}u=l,c=this.makeStaticMarkup,s=1===this.stack.length,d="<"+e.type;e:if(-1===i.indexOf("-"))f="string"==typeof u.is;else switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":f=!1;break e;default:f=!0}for(O in u)if(Oe.call(u,O)){var p=u[O];if(null!=p){if("style"===O){var m=void 0,g="",h="";for(m in p)if(p.hasOwnProperty(m)){var v=0===m.indexOf("--"),y=p[m];if(null!=y){if(v)var b=m;else if(b=m,we.hasOwnProperty(b))b=we[b];else{var w=b.replace(pe,"-$1").toLowerCase().replace(me,"-ms-");b=we[b]=w}g+=h+b+":",h=m,g+=v=null==y||"boolean"==typeof y||""===y?"":v||"number"!=typeof y||0===y||de.hasOwnProperty(h)&&de[h]?(""+y).trim():y+"px",h=";"}}p=g||null}m=null,f?Ce.hasOwnProperty(O)||(m=I(m=O)&&null!=p?m+'="'+B(p)+'"':""):m=z(O,p),m&&(d+=" "+m)}}c||s&&(d+=' data-reactroot=""');var O=d;u="",ce.hasOwnProperty(i)?O+="/>":(O+=">",u="</"+e.type+">");e:{if(null!=(c=l.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"==typeof(c=l.children)||"number"==typeof c){c=B(c);break e}c=null}return null!=c?(l=[],ve.hasOwnProperty(i)&&"\n"===c.charAt(0)&&(O+="\n"),O+=c):l=ge(l.children),e=e.type,r=null==r||"http://www.w3.org/1999/xhtml"===r?ue(e):"http://www.w3.org/2000/svg"===r&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":r,this.stack.push({domNamespace:r,type:i,children:l,childIndex:0,context:t,footer:u}),this.previousWasTextNode=!1,O},e}();t.renderToNodeStream=function(){throw Error(o(207))},t.renderToStaticMarkup=function(e,t){e=new Se(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},t.renderToStaticNodeStream=function(){throw Error(o(208))},t.renderToString=function(e,t){e=new Se(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},t.version="17.0.2"},2065:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(10)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(51)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=r(52),m=n(r(283)),g=r(365);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var b=function(e){(0,s.default)(d,e);var t,r,n,o=y(d);function d(){return(0,l.default)(this,d),o.apply(this,arguments)}return(0,u.default)(d,[{key:"renameRegionsIfNeeded",value:(n=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"serializeArgsInClient",value:function(e){var t=v(v({},e),{},{displayModel:{}});return(0,c.default)((0,f.default)(d.prototype),"serializeArgsInClient",this).call(this,t)}},{key:"deserializeResultsInClient",value:function(e,t){return v(v({},(0,c.default)((0,f.default)(d.prototype),"deserializeResultsInClient",this).call(this,e,t)),{},{blockKey:t.blockKey})}},{key:"renderInClient",value:(r=(0,i.default)(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.call(r.sessionId,"ComparativeRender",r));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"featurePassesFilters",value:function(e,t){return!e.filters||e.filters.passes(t,e)}},{key:"getFeatures",value:(t=(0,i.default)(a.default.mark((function e(t){var r,n,o,i,l,u,c=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.sessionId,n=t.adapterConfig,e.next=3,(0,g.getAdapter)(this.pluginManager,r,n);case 3:if(o=e.sent,i=o.dataAdapter,l=[],(l=t.regions)&&0!==l.length){e.next=10;break}return console.warn("no regions supplied to comparative renderer"),e.abrupt("return",[]);case 10:return u=l.map((function(e){var t=v({},e);return t.start&&(t.start=Math.floor(t.start)),t.end&&(t.end=Math.floor(t.end)),t})),e.abrupt("return",i.getFeaturesInMultipleRegions(u,t).pipe((0,p.filter)((function(e){return c.featurePassesFilters(t,e)})),(0,p.toArray)()).toPromise());case 12:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),d}(m.default);t.default=b},2066:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("BaseConnection",{name:{type:"string",defaultValue:"nameOfConnection",description:"a unique name for this connection"},assemblyNames:{type:"stringArray",defaultValue:[],description:"optional list of names of assemblies in this connection"}},{explicitlyTyped:!0,explicitIdentifier:"connectionId"});t.default=n},2067:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(33)),o=r(17);t.default=function(e){return o.types.model("Connection",{name:o.types.identifier,tracks:o.types.array(e.pluggableConfigSchemaType("track"))}).actions((function(e){return{afterAttach:function(){e.tracks.length||e.connect(e.configuration)},addTrackConf:function(t){var r=e.tracks.push(t);return e.tracks[r-1]},addTrackConfs:function(t){var r,n=(r=e.tracks).push.apply(r,(0,a.default)(t));return e.tracks.slice(n-1-t.length,n-1)},setTrackConfs:function(t){return e.tracks=t,e.tracks},clear:function(){}}}))}},2068:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),a=r(72),o=n.types.model("BaseView",{id:a.ElementId,displayName:n.types.maybe(n.types.string)}).volatile((function(){return{width:800}})).views((function(){return{menuItems:function(){return[]}}})).actions((function(e){return{setDisplayName:function(t){e.displayName=t},setWidth:function(t){e.width=t}}}));t.default=o},2069:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDisplay=void 0;var a=n(r(10)),o=r(17),i=r(29),l=r(64),u=r(72);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=o.types.model("BaseDisplay",{id:u.ElementId,type:o.types.string,rpcDriverName:o.types.maybe(o.types.string)}).volatile((function(){return{rendererTypeName:"",error:void 0}})).views((function(e){return{get RenderingComponent(){return(0,o.getEnv)(e).pluginManager.getDisplayType(e.type).ReactComponent},get DisplayBlurb(){return null},get adapterConfig(){return(0,i.getConf)(this.parentTrack,"adapter")},get parentTrack(){for(var t=(0,o.getParent)(e);!t.configuration||!(0,i.getConf)(t,"trackId");){if((0,o.isRoot)(t))throw new Error("No parent track found for ".concat(e.type," ").concat(e.id));t=(0,o.getParent)(t)}return t},renderProps:function(){return s(s({},(0,l.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e})},get rendererType(){var t=(0,o.getEnv)(e).pluginManager.getRendererType(e.rendererTypeName);if(!t)throw new Error('renderer "'.concat(e.rendererTypeName,'" not found'));if(!t.ReactComponent)throw new Error("renderer ".concat(e.rendererTypeName," has no ReactComponent, it may not be completely implemented yet"));return t},get DisplayMessageComponent(){},trackMenuItems:function(){return[]},get viewMenuActions(){return[]},regionCannotBeRendered:function(){}}})).actions((function(e){return{setError:function(t){e.error=t},setRpcDriverName:function(t){e.rpcDriverName=t},reload:function(){}}}));t.BaseDisplay=d},207:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NewFeatureRendererType=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(10)),l=n(r(15)),u=n(r(16)),c=n(r(51)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=r(52),m=r(32),g=n(r(98)),h=r(365),v=n(r(283));function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var O=function(e){(0,s.default)(i,e);var t,r,n=w(i);function i(){return(0,l.default)(this,i),n.apply(this,arguments)}return(0,u.default)(i,[{key:"serializeArgsInClient",value:function(e){var t=e.displayModel,r=e.regions,n=b(b({},e),{},{displayModel:t&&{id:t.id,selectedFeatureId:t.selectedFeatureId},regions:JSON.parse(JSON.stringify(r))});return(0,c.default)((0,f.default)(i.prototype),"serializeArgsInClient",this).call(this,n)}},{key:"deserializeResultsInClient",value:function(e,t){var r=new Map;e.features.forEach((function(e){var t=g.default.fromJSON(e);r.set(String(t.id()),t)}));var n=(0,c.default)((0,f.default)(i.prototype),"deserializeResultsInClient",this).call(this,b(b({},e),{},{features:r}),t);return b(b({},n),{},{blockKey:t.blockKey,features:r})}},{key:"serializeResultsInWorker",value:function(e,t){var r=(0,c.default)((0,f.default)(i.prototype),"serializeResultsInWorker",this).call(this,e,t),n=e.features;return b(b({},r),{},{features:(0,m.iterMap)(n.values(),(function(e){return e.toJSON()}),n.size)})}},{key:"getExpandedRegion",value:function(e,t){return e}},{key:"getFeatures",value:(r=(0,o.default)(a.default.mark((function e(t){var r,n,o,i,l,u,c,s,d,f,g,v=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signal,n=t.regions,o=t.sessionId,i=t.adapterConfig,e.next=3,(0,h.getAdapter)(this.pluginManager,o,i);case 3:if(l=e.sent,u=l.dataAdapter,c=new Map,n&&0!==n.length){e.next=8;break}return e.abrupt("return",c);case 8:return s=n.map((function(e){var t=b({},e);return t.start&&(t.start=Math.floor(t.start)),t.end&&(t.end=Math.ceil(t.end)),t})),d=s[0],f=1===s.length?u.getFeatures(this.getExpandedRegion(d,t),t):u.getFeaturesInMultipleRegions(s,t),e.next=13,f.pipe((0,p.toArray)()).toPromise();case 13:return g=e.sent,(0,m.checkAbortSignal)(r),e.abrupt("return",new Map(g.filter((function(e){return v.featurePassesFilters(t,e)})).map((function(e){return[e.id(),e]}))));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"featurePassesFilters",value:function(e,t){return!e.filters||e.filters.passes(t,e)}},{key:"render",value:(t=(0,o.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.features,e.t0){e.next=5;break}return e.next=4,this.getFeatures(t);case 4:e.t0=e.sent;case 5:return r=e.t0,e.next=8,(0,c.default)((0,f.default)(i.prototype),"render",this).call(this,b(b({},t),{},{features:r}));case 8:return n=e.sent,e.abrupt("return",b(b({},n),{},{features:r}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(v.default);t.default=O;var C=function(e){(0,s.default)(r,e);var t=w(r);function r(){return(0,l.default)(this,r),t.apply(this,arguments)}return(0,u.default)(r)}(v.default);t.NewFeatureRendererType=C},2070:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.InternetAccount=void 0;var a=n(r(19)),o=n(r(10)),i=n(r(21)),l=r(17),u=r(29),c=r(100),s=r(72);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p="undefined"==typeof sessionStorage,m=l.types.model("InternetAccount",{id:s.ElementId,type:l.types.string}).views((function(e){return{get name(){return(0,u.getConf)(e,"name")},get description(){return(0,u.getConf)(e,"description")},get internetAccountId(){return(0,u.getConf)(e,"internetAccountId")},get authHeader(){return(0,u.getConf)(e,"authHeader")},get tokenType(){return(0,u.getConf)(e,"tokenType")},get domains(){return(0,u.getConf)(e,"domains")},get toggleContents(){return null},get SelectorComponent(){},get selectorLabel(){}}})).views((function(e){return{handlesLocation:function(t){return e.domains.some((function(e){return null==t?void 0:t.uri.includes(e)}))},get tokenKey(){return"".concat(e.internetAccountId,"-token")}}})).actions((function(e){return{getTokenFromUser:function(e,t){throw new Error("getTokenFromUser must be implemented by extending model")},storeToken:function(t){sessionStorage.setItem(e.tokenKey,t)},removeToken:function(){sessionStorage.removeItem(e.tokenKey)},retrieveToken:function(){return sessionStorage.getItem(e.tokenKey)},validateToken:function(e,t){return(0,i.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))()}}})).actions((function(e){var t=void 0;return{getToken:function(r){return(0,i.default)(a.default.mark((function n(){var o,i,l;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=2;break}return n.abrupt("return",t);case 2:if(!(l=null==r||null===(o=r.internetAccountPreAuthorization)||void 0===o||null===(i=o.authInfo)||void 0===i?void 0:i.token)){n.next=6;break}return t=Promise.resolve(l),n.abrupt("return",t);case 6:if(!p){n.next=8;break}throw new Error("Did not get internet account pre-authorization info in worker");case 8:if(!(l=e.retrieveToken())){n.next=12;break}return t=Promise.resolve(l),n.abrupt("return",t);case 12:return t=new Promise((function(t,r){e.getTokenFromUser((function(r){e.storeToken(r),t(r)}),(function(t){e.removeToken(),r(t)}))})),n.abrupt("return",t);case 14:case"end":return n.stop()}}),n)})))()}}})).actions((function(e){return{addAuthHeaderToInit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,n=e.tokenType?"".concat(e.tokenType," ").concat(r):r,a=new Headers(t.headers||{});return a.append(e.authHeader,n),f(f({},t),{},{headers:a})},getPreAuthorizationInformation:function(t){return(0,i.default)(a.default.mark((function r(){var n,o;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getToken(t);case 2:return n=r.sent,r.prev=3,r.next=6,e.validateToken(n,t);case 6:o=r.sent,r.next=13;break;case 9:throw r.prev=9,r.t0=r.catch(3),e.removeToken(),r.t0;case 13:return r.abrupt("return",{internetAccountType:e.type,authInfo:{token:o,configuration:(0,u.getConf)(e)}});case 14:case"end":return r.stop()}}),r,null,[[3,9]])})))()}}})).actions((function(e){return{getFetcher:function(t){return function(){var r=(0,i.default)(a.default.mark((function r(n,o){var i,l;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.getToken(t);case 2:return i=r.sent,l=e.addAuthHeaderToInit(o,i),r.abrupt("return",fetch(n,l));case 5:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}}})).actions((function(e){return{openLocation:function(t){return new c.RemoteFileWithRangeCache(t.uri,{fetch:e.getFetcher(t)})}}}));t.InternetAccount=m},2071:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteFileWithRangeCache=void 0,t.clearCache=function(){k.reset()};var a=n(r(19)),o=n(r(10)),i=n(r(12)),l=n(r(21)),u=n(r(15)),c=n(r(16)),s=n(r(51)),d=n(r(25)),f=n(r(26)),p=n(r(24)),m=r(731),g=r(44),h=r(92);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var C={};var k=new m.HttpRangeFetcher({fetch:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=C[e];if(!a)throw new Error("fetch not registered for ".concat(e));return a(e,t,r,n)},size:500*Math.pow(1024,2),chunkSize:15872,maxFetchSize:100*Math.pow(1024,2),minimumTTL:864e5});var E=function(e){(0,d.default)(o,e);var t,r,n=O(o);function o(){return(0,u.default)(this,o),n.apply(this,arguments)}return(0,c.default)(o,[{key:"fetch",value:(r=(0,l.default)(a.default.mark((function e(t,r){var n,l,u,c,d,f,m,g,h,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C[String(t)]||(C[String(t)]=this.fetchBinaryRange.bind(this)),(n=r&&r.headers)&&(n instanceof Headers?l=n.get("range"):Array.isArray(n)?(u=n.find((function(e){return"range"===(0,i.default)(e,1)[0]}))||[void 0,void 0],c=(0,i.default)(u,2),l=c[1]):l=n.range),!l){e.next=14;break}if(!(d=/bytes=(\d+)-(\d+)/.exec(l))){e.next=14;break}return f=(0,i.default)(d,3),m=f[1],g=f[2],h=parseInt(m,10),v=parseInt(g,10),e.next=11,k.getRange(t,h,v-h+1,{signal:r&&r.signal});case 11:return y=e.sent,b=y.headers,e.abrupt("return",new Response(y.buffer,{status:206,headers:b}));case 14:return e.abrupt("return",(0,s.default)((0,p.default)(o.prototype),"fetch",this).call(this,t,r));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"fetchBinaryRange",value:(t=(0,l.default)(a.default.mark((function e(t,r,n){var l,u,c,d,f,m,h,y,b,O,C,k,E,S,P=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=P.length>3&&void 0!==P[3]?P[3]:{},u=new Date,c=w(w({},l.headers),{},{range:"bytes=".concat(r,"-").concat(n)}),e.next=5,(0,s.default)((0,p.default)(o.prototype),"fetch",this).call(this,t,w(w({},l),{},{headers:c}));case 5:if(d=e.sent,f=new Date,206===d.status){e.next=11;break}throw m="HTTP ".concat(d.status," (").concat(d.statusText,") when fetching ").concat(t," bytes ").concat(r,"-").concat(n),h=" (should be 206 for range requests)",new Error("".concat(m).concat(200===d.status?h:""));case 11:y={},b=v(d.headers.entries());try{for(b.s();!(O=b.n()).done;)C=(0,i.default)(O.value,2),k=C[0],E=C[1],y[k]=E}catch(e){b.e(e)}finally{b.f()}return e.next=16,d.arrayBuffer();case 16:return S=e.sent,e.abrupt("return",{headers:y,requestDate:u,responseDate:f,buffer:g.Buffer.from(S)});case 18:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),o}(h.RemoteFile);t.RemoteFileWithRangeCache=E},2072:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInternetAccountConfig=void 0;var n=(0,r(29).ConfigurationSchema)("InternetAccount",{name:{description:"descriptive name of the internet account",type:"string",defaultValue:""},description:{description:"a description of the internet account",type:"string",defaultValue:""},authHeader:{description:"request header for credentials",type:"string",defaultValue:"Authorization"},tokenType:{description:"a custom name for a token to include in the header",type:"string",defaultValue:""},domains:{description:"array of valid domains the url can contain to use this account",type:"stringArray",defaultValue:[]}},{explicitIdentifier:"internetAccountId",explicitlyTyped:!0});t.BaseInternetAccountConfig=n},2073:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseTrackModel=function(e,t,r){return l.types.model(t,{id:d.ElementId,type:l.types.literal(t),configuration:(0,u.ConfigurationReference)(r),displays:l.types.array(e.pluggableMstType("display","stateModel"))}).views((function(e){return{get rpcSessionId(){return e.configuration.trackId},get name(){return(0,u.getConf)(e,"name")},get textSearchAdapter(){return(0,u.getConf)(e,"textSearchAdapter")},get adapterType(){var t=(0,u.getConf)(e,"adapter"),r=(0,l.getEnv)(e).pluginManager;if(!t)throw new Error("no adapter configuration provided for ".concat(e.type));var n=r.getAdapterType(t.type);if(!n)throw new Error("unknown adapter type ".concat(t.type));return n},get viewMenuActions(){var t=[];return e.displays.forEach((function(e){t.push.apply(t,(0,o.default)(e.viewMenuActions))})),t},get canConfigure(){var t=(0,c.getSession)(e);return(0,s.isSessionModelWithConfigEditing)(t)&&(t.adminMode||t.sessionTracks.find((function(t){return t.trackId===e.configuration.trackId})))}}})).actions((function(t){return{activateConfigurationUI:function(){var e=(0,c.getSession)(t),r=(0,c.getContainingView)(t);if((0,s.isSessionModelWithConfigEditing)(e)){var n=e.editTrackConfiguration(t.configuration);n&&n!==t.configuration&&(r.hideTrack(t.configuration),r.showTrack(n))}},showDisplay:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.pluggableConfigSchemaType("display"),o=(0,l.resolveIdentifier)(a,(0,l.getRoot)(t),r),i=e.getDisplayType(o.type);if(!i)throw new Error("unknown display type ".concat(o.type));var u=i.stateModel.create(p(p({},n),{},{type:o.type,configuration:o}));t.displays.push(u)},hideDisplay:function(r){var n=e.pluggableConfigSchemaType("display"),a=(0,l.resolveIdentifier)(n,(0,l.getRoot)(t),r),o=t.displays.filter((function(e){return e.configuration===a}));return(0,i.transaction)((function(){return o.forEach((function(e){return t.displays.remove(e)}))})),o.length},replaceDisplay:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.displays.findIndex((function(e){return e.configuration.displayId===r}));if(-1===o)throw new Error("could not find display id ".concat(r," to replace"));var i=e.pluggableConfigSchemaType("display"),u=(0,l.resolveIdentifier)(i,(0,l.getRoot)(t),n),c=e.getDisplayType(u.type);if(!c)throw new Error("unknown display type ".concat(u.type));t.displays.splice(o,1,p(p({},a),{},{type:u.type,configuration:u}))}}})).views((function(t){return{trackMenuItems:function(){var r=[];t.displays.forEach((function(e){r.push.apply(r,(0,o.default)(e.trackMenuItems()))}));var n=[],a=(0,c.getContainingView)(t),i=e.getViewType(a.type).displayTypes.map((function(e){return e.name})),l=t.configuration.displays.filter((function(e){return i.includes(e.type)})),u=t.displays[0].configuration.displayId;return l.length>1&&(n.push({type:"divider"},{type:"subHeader",label:"Display types"}),l.forEach((function(e){n.push({type:"radio",label:e.type,checked:e.displayId===u,onClick:function(){return t.replaceDisplay(u,e.displayId)}})}))),[].concat(r,n)}}}))};var a=n(r(10)),o=n(r(33)),i=r(42),l=r(17),u=r(29),c=r(32),s=r(130),d=r(72);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},2074:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseTrackConfig=function(e){return(0,i.ConfigurationSchema)("BaseTrack",{name:{description:"descriptive name of the track",type:"string",defaultValue:"Track"},assemblyNames:{description:"name of the assembly (or assemblies) track belongs to",type:"stringArray",defaultValue:["assemblyName"]},description:{description:"a description of the track",type:"string",defaultValue:""},category:{description:"the category and sub-categories of a track",type:"stringArray",defaultValue:[]},metadata:{type:"frozen",description:"anything to add about this track",defaultValue:{}},adapter:e.pluggableConfigSchemaType("adapter"),textSearching:(0,i.ConfigurationSchema)("textSearching",{indexingAttributes:{type:"stringArray",description:"list of which feature attributes to index for text searching",defaultValue:["Name","ID"]},indexingFeatureTypesToExclude:{type:"stringArray",description:"list of feature types to exclude in text search index",defaultValue:["CDS","exon"]},textSearchAdapter:e.pluggableConfigSchemaType("text search adapter")}),displays:o.types.array(e.pluggableConfigSchemaType("display")),formatDetails:(0,i.ConfigurationSchema)("FormatDetails",{feature:{type:"frozen",description:"adds extra fields to the feature details",defaultValue:{},contextVariable:["feature"]},subfeatures:{type:"frozen",description:"adds extra fields to the subfeatures of a feature",defaultValue:{},contextVariable:["feature"]},depth:{type:"number",defaultValue:2,description:"depth to iterate on subfeatures"}})},{preProcessSnapshot:function(t){var r=JSON.parse(JSON.stringify(t)),n=new Set,a=r.displays,o=void 0===a?[]:a;"placeholderId"!==r.trackId&&(o.forEach((function(e){return e&&n.add(e.type)})),e.getTrackType(r.type).displayTypes.forEach((function(e){n.has(e.name)||o.push({displayId:"".concat(r.trackId,"-").concat(e.name),type:e.name})})));return u(u({},r),{},{displays:o})},explicitIdentifier:"trackId",explicitlyTyped:!0,actions:function(e){return{addDisplayConf:function(t){var r=t.type;if(!r)throw new Error("unknown display type ".concat(r));var n=e.displays.find((function(e){return e&&e.displayId===t.displayId}));if(n)return n;var a=e.displays.push(t);return e.displays[a-1]}}}})};var a=n(r(10)),o=r(17),i=r(29);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},2075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNamedColor=function(e){return!!n[e]},t.namedColorToHex=function(e){return n[e]};var n={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}},2076:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0});var a={GranularRectLayout:!0,MultiLayout:!0,PrecomputedLayout:!0,PrecomputedMultiLayout:!0,SceneGraph:!0};Object.defineProperty(t,"GranularRectLayout",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MultiLayout",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PrecomputedLayout",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"PrecomputedMultiLayout",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SceneGraph",{enumerable:!0,get:function(){return s.default}});var o=r(2077);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=n(r(920)),l=n(r(520)),u=n(r(521)),c=n(r(2078)),s=n(r(2079))},2077:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2078:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(25)),i=n(r(26)),l=n(r(24)),u=n(r(16)),c=n(r(15)),s=n(r(520)),d=n(r(521));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var p=(0,u.default)((function e(){throw(0,c.default)(this,e),new Error("invalid layout name")})),m=function(e){(0,o.default)(r,e);var t=f(r);function r(e){var n;return(0,c.default)(this,r),n=t.call(this,p),Object.entries(e).forEach((function(e){var t=(0,a.default)(e,2),r=t[0],o=t[1];n.subLayouts.set(r,new d.default(o))})),n}return(0,u.default)(r)}(s.default);t.default=m},2079:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(15)),o=n(r(16)),i=n(r(10)),l=r(32);function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){function e(t,r,n,o,u,c){if((0,a.default)(this,e),this.name=t,this.left=r,this.top=n,this.width=o,this.height=u,this.data=c,(0,i.default)(this,"children",void 0),(0,i.default)(this,"absoluteCache",void 0),(0,i.default)(this,"parent",void 0),l.inDevelopment&&("string"!=typeof t||"number"!=typeof r||Number.isNaN(r)||"number"!=typeof n||Number.isNaN(n)||"number"!=typeof o||Number.isNaN(o)||"number"!=typeof u||Number.isNaN(u)))throw new TypeError("invalid SceneGraph arguments");this.children=new Map,this.absoluteCache={dirty:!0}}return(0,o.default)(e,[{key:"addChild",value:function(t,r,n,a,o,i){var l;if(!((l=t instanceof e?t:new e(t,r,n,a,o,i))instanceof e))throw new TypeError("argument to addChild must be an array or a SceneGraph");if(this.children.has(l.name))throw new Error('child named "'.concat(l.name,'" already exists'));l.parent=this;var u=l.absolute,c=u.left,s=u.right,d=u.top,f=u.bottom;return void 0!==c&&void 0!==s&&void 0!==d&&void 0!==f&&(this.expand(c,s,d,f),this.children.set(l.name,l)),l}},{key:"getSubRecord",value:function(e){return this.children.get(e)}},{key:"expand",value:function(e,t,r,n){var a=this.absolute,o=a.left,i=a.right,l=a.top,u=a.bottom;if(void 0!==o&&e<o){var c=o-e;this.width+=c,this.left-=c}if(void 0!==i&&t>i&&(this.width+=t-i),void 0!==l&&r<l){var s=l-r;this.height+=s,this.top-=s}void 0!==u&&n>u&&(this.height+=n-u),this.parent&&this.parent.expand(e,t,r,n),this.absoluteCache.dirty=!0}},{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"walkParents",value:function(e){this.parent&&(e(this.parent),this.parent.walkParents(e))}},{key:"walkChildren",value:function(e){var t,r=u(this.children.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;e(n),n.walkChildren(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"absolute",get:function(){if(this.absoluteCache.dirty){var e=0,t=0;this.walkParents((function(r){e+=r.left,t+=r.top})),this.absoluteCache={dirty:!1,left:this.left+e,right:this.right+e,top:this.top+t,bottom:this.bottom+t,width:this.width,height:this.height}}return this.absoluteCache}},{key:"move",value:function(e,t){this.left+=e,this.top+=t,this.absoluteCache.dirty=!0,this.walkChildren((function(e){e.absoluteCache.dirty=!0}));var r=this.absolute,n=r.left,a=r.right,o=r.top,i=r.bottom;void 0!==n&&void 0!==a&&void 0!==o&&void 0!==i&&this.expand(n,a,o,i)}}]),e}();t.default=s},208:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.Cable=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"}))},t.ContentCopy=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))},t.ContentCut=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"}))},t.ContentPaste=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z"}))},t.DNA=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"}))},t.Indexing=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19.31 18.9L22.39 22L21 23.39L17.88 20.32C17.19 20.75 16.37 21 15.5 21C13 21 11 19 11 16.5C11 14 13 12 15.5 12C18 12 20 14 20 16.5C20 17.38 19.75 18.21 19.31 18.9M15.5 19C16.88 19 18 17.88 18 16.5C18 15.12 16.88 14 15.5 14C14.12 14 13 15.12 13 16.5C13 17.88 14.12 19 15.5 19M21 4V6H3V4H21M3 16V14H9V16H3M3 11V9H21V11H18.97C17.96 10.37 16.77 10 15.5 10C14.23 10 13.04 10.37 12.03 11H3Z"}))},t.Save=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"}))},t.SaveAs=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M10,19L10.14,18.86C8.9,18.5 8,17.36 8,16A3,3 0 0,1 11,13C12.36,13 13.5,13.9 13.86,15.14L20,9V7L16,3H4C2.89,3 2,3.9 2,5V19A2,2 0 0,0 4,21H10V19M4,5H14V9H4V5M20.04,12.13C19.9,12.13 19.76,12.19 19.65,12.3L18.65,13.3L20.7,15.35L21.7,14.35C21.92,14.14 21.92,13.79 21.7,13.58L20.42,12.3C20.31,12.19 20.18,12.13 20.04,12.13M18.07,13.88L12,19.94V22H14.06L20.12,15.93L18.07,13.88Z"}))},t.TrackSelector=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"}))};var a=n(r(126)),o=n(r(1))},2080:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"amber",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"blue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"blueGrey",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"brown",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"cyan",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"deepOrange",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"deepPurple",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"green",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"grey",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"indigo",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"lightBlue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"lightGreen",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"lime",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"orange",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"pink",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"purple",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"red",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"teal",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"yellow",{enumerable:!0,get:function(){return h.default}});var a=n(r(411)),o=n(r(410)),i=n(r(735)),l=n(r(736)),u=n(r(409)),c=n(r(413)),s=n(r(737)),d=n(r(738)),f=n(r(739)),p=n(r(414)),m=n(r(740)),g=n(r(741)),h=n(r(742)),v=n(r(743)),y=n(r(412)),b=n(r(744)),w=n(r(745)),O=n(r(408)),C=n(r(746))},2081:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["mobx","mobx-state-tree","react","react-dom","mobx-react","prop-types","@material-ui/core","@material-ui/core/SvgIcon","@material-ui/core/utils","@material-ui/lab","@mui/x-data-grid","@jbrowse/core/Plugin","@jbrowse/core/pluggableElementTypes","@jbrowse/core/pluggableElementTypes/ViewType","@jbrowse/core/pluggableElementTypes/AdapterType","@jbrowse/core/pluggableElementTypes/DisplayType","@jbrowse/core/pluggableElementTypes/TrackType","@jbrowse/core/pluggableElementTypes/WidgetType","@jbrowse/core/pluggableElementTypes/models","@jbrowse/core/pluggableElementTypes/renderers/ServerSideRendererType","@jbrowse/core/pluggableElementTypes/renderers/CircularChordRendererType","@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType","@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType","@jbrowse/core/pluggableElementTypes/renderers/RendererType","@jbrowse/core/configuration","@jbrowse/core/util/types/mst","@jbrowse/core/ui","@jbrowse/core/util","@jbrowse/core/util/color","@jbrowse/core/util/layouts","@jbrowse/core/util/tracks","@jbrowse/core/util/Base1DViewModel","@jbrowse/core/util/io","@jbrowse/core/util/mst-reflection","@jbrowse/core/util/rxjs","@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail","@jbrowse/core/data_adapters/BaseAdapter"]},2082:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(15)),i=n(r(16)),l=n(r(30)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=n(r(10)),f=r(1),p=r(924),m=n(r(115)),g=w(r(2083)),h=n(r(142)),v=n(r(168)),y=r(2084);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var C=function(e){(0,u.default)(n,e);var t=O(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"name","CorePlugin"),e}return(0,i.default)(n,[{key:"install",value:function(e){Object.values(g).forEach((function(t){e.addRpcMethod((function(){return new t(e)}))})),e.addAdapterType((function(){return new h.default({name:"CytobandAdapter",configSchema:y.configSchema,AdapterClass:y.DataAdapter})})),e.addWidgetType((function(){return new v.default({name:"BaseFeatureWidget",heading:"Feature details",configSchema:p.configSchema,stateModel:(0,p.stateModelFactory)(e),ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return w(r(363))}))}))})}))}}]),n}(m.default);t.default=C},2083:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.CoreRender=t.CoreGetRefNames=t.CoreGetMetadata=t.CoreGetFileInfo=t.CoreGetFeatures=t.CoreGetFeatureDetails=t.CoreFreeResources=t.CoreEstimateRegionStats=void 0;var a=n(r(19)),o=n(r(51)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(52),g=r(365),h=n(r(362)),v=n(r(283)),y=r(90),b=r(32),w=n(r(98));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var E=function(e){(0,s.default)(n,e);var t,r=k(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=r.call.apply(r,[this].concat(a)),(0,p.default)((0,c.default)(e),"name","CoreGetRefNames"),e}return(0,u.default)(n,[{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.sessionId,i=n.adapterConfig,e.next=6,(0,g.getAdapter)(this.pluginManager,o,i);case 6:if(l=e.sent,!((u=l.dataAdapter)instanceof y.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",u.getRefNames(n));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),n}(h.default);t.CoreGetRefNames=E;var S=function(e){(0,s.default)(n,e);var t,r=k(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=r.call.apply(r,[this].concat(a)),(0,p.default)((0,c.default)(e),"name","CoreGetInfo"),e}return(0,u.default)(n,[{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.sessionId,i=n.adapterConfig,e.next=6,(0,g.getAdapter)(this.pluginManager,o,i);case 6:return l=e.sent,u=l.dataAdapter,e.abrupt("return",(0,y.isFeatureAdapter)(u)?u.getHeader(n):null);case 9:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),n}(h.default);t.CoreGetFileInfo=S;var P=function(e){(0,s.default)(n,e);var t,r=k(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=r.call.apply(r,[this].concat(a)),(0,p.default)((0,c.default)(e),"name","CoreGetMetadata"),e}return(0,u.default)(n,[{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.sessionId,i=n.adapterConfig,e.next=6,(0,g.getAdapter)(this.pluginManager,o,i);case 6:return l=e.sent,u=l.dataAdapter,e.abrupt("return",(0,y.isFeatureAdapter)(u)?u.getMetadata(n):null);case 9:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),n}(h.default);t.CoreGetMetadata=P;var x=function(e){(0,s.default)(h,e);var t,r,n,d=k(h);function h(){var e;(0,l.default)(this,h);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=d.call.apply(d,[this].concat(r)),(0,p.default)((0,c.default)(e),"name","CoreGetFeatures"),e}return(0,u.default)(h,[{key:"deserializeReturn",value:(n=(0,i.default)(a.default.mark((function e(t,r,n){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)((0,f.default)(h.prototype),"deserializeReturn",this).call(this,t,r,n);case 2:return i=e.sent,e.abrupt("return",i.map((function(e){return new w.default(e)})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"serializeArguments",value:(r=(0,i.default)(a.default.mark((function e(t,r){var n,i,l,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=null===(n=this.pluginManager.rootModel)||void 0===n||null===(i=n.session)||void 0===i?void 0:i.assemblyManager)){e.next=7;break}return e.next=4,(0,b.renameRegionsIfNeeded)(l,t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t;case 8:return u=e.t0,e.next=11,(0,o.default)((0,f.default)(h.prototype),"serializeArguments",this).call(this,u,r);case 11:return c=e.sent,e.abrupt("return",c);case 13:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u,c,s,d,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.signal,i=n.sessionId,l=n.adapterConfig,u=n.regions,c=n.opts,e.next=6,(0,g.getAdapter)(this.pluginManager,i,l);case 6:if(s=e.sent,d=s.dataAdapter,(0,y.isFeatureAdapter)(d)){e.next=10;break}return e.abrupt("return",[]);case 10:return f=d.getFeaturesInMultipleRegions(u,C(C({},c),{},{signal:o})),e.next=13,f.pipe((0,m.toArray)()).toPromise();case 13:return p=e.sent,e.abrupt("return",p.map((function(e){return e.toJSON()})));case 15:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),h}(h.default);t.CoreGetFeatures=x;var j=function(e){(0,s.default)(o,e);var t,r,n=k(o);function o(){var e;(0,l.default)(this,o);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,p.default)((0,c.default)(e),"name","CoreFreeResources"),e}return(0,u.default)(o,[{key:"execute",value:(r=(0,i.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,r+=(0,g.freeAdapterResources)(t),this.pluginManager.getRendererTypes().forEach((function(e){var t=e.freeResources();t&&(r+=t)})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"serializeArguments",value:(t=(0,i.default)(a.default.mark((function e(t,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),o}(h.default);t.CoreFreeResources=j;var M=function(e){(0,s.default)(d,e);var t,r,n=k(d);function d(){var e;(0,l.default)(this,d);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,p.default)((0,c.default)(e),"name","CoreEstimateRegionStats"),e}return(0,u.default)(d,[{key:"serializeArguments",value:(r=(0,i.default)(a.default.mark((function e(t,r){var n,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=null===(n=this.pluginManager.rootModel)||void 0===n||null===(i=n.session)||void 0===i?void 0:i.assemblyManager){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,(0,b.renameRegionsIfNeeded)(l,C(C({},t),{},{filters:t.filters&&t.filters.toJSON().filters}));case 5:return u=e.sent,e.abrupt("return",(0,o.default)((0,f.default)(d.prototype),"serializeArguments",this).call(this,u,r));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.adapterConfig,i=n.sessionId,l=n.regions,e.next=6,(0,g.getAdapter)(this.pluginManager,i,o);case 6:if(u=e.sent,!((c=u.dataAdapter)instanceof y.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",c.estimateRegionsStats(l,n));case 10:throw new Error("Data adapter not found");case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),d}(h.default);t.CoreEstimateRegionStats=M;var T=function(e){(0,s.default)(m,e);var t,r,n,d=k(m);function m(){var e;(0,l.default)(this,m);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=d.call.apply(d,[this].concat(r)),(0,p.default)((0,c.default)(e),"name","CoreRender"),e}return(0,u.default)(m,[{key:"serializeArguments",value:(n=(0,i.default)(a.default.mark((function e(t,r){var n,i,l,u,c,s,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=null===(n=this.pluginManager.rootModel)||void 0===n||null===(i=n.session)||void 0===i?void 0:i.assemblyManager)){e.next=7;break}return e.next=4,(0,b.renameRegionsIfNeeded)(l,t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t;case 8:return u=e.t0,e.next=11,(0,o.default)((0,f.default)(m.prototype),"serializeArguments",this).call(this,u,r);case 11:if(c=e.sent,"MainThreadRpcDriver"!==r){e.next=14;break}return e.abrupt("return",c);case 14:return s=t.rendererType,d=D(s,this.pluginManager.getRendererType(s)),e.abrupt("return",d.serializeArgsInClient(c));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"execute",value:(r=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u,c,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"MainThreadRpcDriver"===r){e.next=5;break}return e.next=4,this.deserializeArguments(t,r);case 4:n=e.sent;case 5:if(i=(o=n).sessionId,l=o.rendererType,u=o.signal,i){e.next=8;break}throw new Error("must pass a unique session id");case 8:if((0,b.checkAbortSignal)(u),c=D(l,this.pluginManager.getRendererType(l)),"MainThreadRpcDriver"!==r){e.next=16;break}return e.next=13,c.render(n);case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,c.renderInWorker(n);case 18:e.t0=e.sent;case 19:return s=e.t0,(0,b.checkAbortSignal)(u),e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"deserializeReturn",value:(t=(0,i.default)(a.default.mark((function e(t,r,n){var i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)((0,f.default)(m.prototype),"deserializeReturn",this).call(this,t,r,n);case 2:if(i=e.sent,"MainThreadRpcDriver"!==n){e.next=5;break}return e.abrupt("return",i);case 5:return l=r.rendererType,u=D(l,this.pluginManager.getRendererType(l)),e.abrupt("return",u.deserializeResultsInClient(i,r));case 8:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),m}(h.default);t.CoreRender=T;var R=function(e){(0,s.default)(d,e);var t,r,n=k(d);function d(){var e;(0,l.default)(this,d);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,p.default)((0,c.default)(e),"name","CoreGetFeatureDetails"),e}return(0,u.default)(d,[{key:"serializeArguments",value:(r=(0,i.default)(a.default.mark((function e(t,r){var n,i,l,u,c,s,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=null===(n=this.pluginManager.rootModel)||void 0===n||null===(i=n.session)||void 0===i?void 0:i.assemblyManager)){e.next=7;break}return e.next=4,(0,b.renameRegionsIfNeeded)(l,t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t;case 8:return u=e.t0,e.next=11,(0,o.default)((0,f.default)(d.prototype),"serializeArguments",this).call(this,u,r);case 11:if(c=e.sent,"MainThreadRpcDriver"!==r){e.next=14;break}return e.abrupt("return",c);case 14:return s=t.rendererType,p=D(s,this.pluginManager.getRendererType(s)),e.abrupt("return",p.serializeArgsInClient(c));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l,u,c,s,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,"MainThreadRpcDriver"===r){e.next=5;break}return e.next=4,this.deserializeArguments(t,r);case 4:n=e.sent;case 5:return i=(o=n).rendererType,l=o.featureId,u=D(i,this.pluginManager.getRendererType(i)),c=u.sessions[(0,b.getLayoutId)(t)],s=c.cachedLayout.layout,d=s.getDataByID(l),e.abrupt("return",{feature:d.toJSON()});case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),d}(h.default);function D(e,t){if(!t)throw new Error('renderer "'.concat(e,'" not found'));if(!t.ReactComponent)throw new Error("renderer ".concat(e," has no ReactComponent, it may not be completely implemented yet"));if(!(t instanceof v.default))throw new Error("CoreRender requires a renderer that is a subclass of ServerSideRendererType");return t}t.CoreGetFeatureDetails=R},2084:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=t.DataAdapter=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(98)),p=r(29),m=r(100),g=r(90);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var v=(0,p.ConfigurationSchema)("CytobandAdapter",{cytobandLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/cytoband.txt.gz"}}},{explicitlyTyped:!0});t.configSchema=v;var y=function(e){(0,c.default)(n,e);var t,r=h(n);function n(){return(0,l.default)(this,n),r.apply(this,arguments)}return(0,u.default)(n,[{key:"getData",value:(t=(0,i.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=(0,p.readConfObject)(this.config,"cytobandLocation")).uri&&"/path/to/cytoband.txt.gz"!==t.uri){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,m.openLocation)(t).readFile("utf8");case 5:return r=e.sent,e.abrupt("return",r.split("\n").filter((function(e){return!!e.trim()})).map((function(e){var t=e.split("\t"),r=(0,o.default)(t,5),n=r[0],a=r[1],i=r[2],l=r[3],u=r[4];return new f.default({uniqueId:e,refName:n,start:+a,end:+i,name:l,type:u})})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),n}(g.BaseAdapter);t.DataAdapter=y},2085:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),a=r(29),o=(0,a.ConfigurationSchema)("BaseRpcDriver",{workerCount:{type:"number",description:"The number of workers to use. If 0 (the default) JBrowse will decide how many workers to use.",defaultValue:0}},{explicitlyTyped:!0}),i=(0,a.ConfigurationSchema)("MainThreadRpcDriver",{},{explicitlyTyped:!0,baseConfiguration:o}),l=(0,a.ConfigurationSchema)("WebWorkerRpcDriver",{},{explicitlyTyped:!0,baseConfiguration:o}),u=(0,a.ConfigurationSchema)("RpcOptions",{defaultDriver:{type:"string",description:"the RPC driver to use for tracks and tasks that are not configured to use a specific RPC backend",defaultValue:"MainThreadRpcDriver"},drivers:n.types.optional(n.types.map(n.types.union(i,l)),{MainThreadRpcDriver:{type:"MainThreadRpcDriver"}})},{actions:function(e){return{addDriverConfig:function(t,r){e.drivers.set(t,r)}}}});t.default=u},2086:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(30)),i=n(r(10)),l=n(r(21)),u=n(r(15)),c=n(r(16)),s=n(r(51)),d=n(r(25)),f=n(r(26)),p=n(r(24)),m=n(r(748)),g=n(r(303)),h=n(r(926));function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var w=function(e){(0,d.default)(n,e);var t,r=b(n);function n(){return(0,u.default)(this,n),r.apply(this,arguments)}return(0,c.default)(n,[{key:"destroy",value:function(){this.workers[0].terminate()}},{key:"call",value:(t=(0,l.default)(a.default.mark((function e(t,r,o){var i,l,u,c,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.statusCallback,l=o.rpcDriverClassName,u="message-".concat(g.default.generate()),c=function(e){i&&i(e)},this.on(u,c),e.next=6,(0,s.default)((0,p.default)(n.prototype),"call",this).call(this,t,y(y({},r),{},{channel:u,rpcDriverClassName:l}),o);case 6:return d=e.sent,this.off(u,c),e.abrupt("return",d);case 9:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),n}(m.default.Client),O=function(e){(0,d.default)(n,e);var t,r=b(n);function n(e,t){var a;return(0,u.default)(this,n),(a=r.call(this,e)).workerBootConfiguration=t,(0,i.default)((0,o.default)(a),"name","WebWorkerRpcDriver"),(0,i.default)((0,o.default)(a),"makeWorkerInstance",void 0),a.makeWorkerInstance=e.makeWorkerInstance,a}return(0,c.default)(n,[{key:"makeWorker",value:(t=(0,l.default)(a.default.mark((function e(){var t,r,n,o=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.makeWorkerInstance(),r=new w({workers:[t]}),n=new Promise((function(e,t){r.workers[0].onmessage=function(n){"ready"===n.data?e(r):"readyForConfig"===n.data?r.workers[0].postMessage(o.workerBootConfiguration):t()}})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),n}(h.default);t.default=O},2087:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(30)),i=n(r(25)),l=n(r(26)),u=n(r(24)),c=n(r(10)),s=n(r(21)),d=n(r(15)),f=n(r(16)),p=n(r(926));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var g=function(){function e(){(0,d.default)(this,e)}var t;return(0,f.default)(e,[{key:"destroy",value:function(){}},{key:"call",value:(t=(0,s.default)(a.default.mark((function e(t,r){var n=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>2&&void 0!==n[2]&&n[2],e.abrupt("return",void 0);case 2:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),e}(),h=function(e){(0,i.default)(n,e);var t,r=m(n);function n(e){var t;return(0,d.default)(this,n),t=r.call(this,e),(0,c.default)((0,o.default)(t),"name","MainThreadRpcDriver"),(0,c.default)((0,o.default)(t),"makeWorker",void 0),t.makeWorker=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new g);case 1:case"end":return e.stop()}}),e)}))),t}return(0,f.default)(n,[{key:"call",value:(t=(0,s.default)(a.default.mark((function e(t,r,n,o){var i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}throw new TypeError("sessionId is required");case 2:return i=t.getRpcMethodType(n),e.next=5,i.serializeArguments(o,this.name);case 5:return l=e.sent,e.next=8,i.execute(l,this.name);case 8:return u=e.sent,e.abrupt("return",i.deserializeReturn(u,o,this.name));case 10:case"end":return e.stop()}}),e,this)}))),function(e,r,n,a){return t.apply(this,arguments)})}]),n}(p.default);t.default=h},2088:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(33)),l=n(r(15)),u=n(r(16)),c=n(r(10)),s=n(r(517)),d=r(29),f=function(){function e(t){(0,l.default)(this,e),this.pluginManager=t,(0,c.default)(this,"adapterCache",void 0),this.adapterCache=new s.default({maxSize:15})}var t;return(0,u.default)(e,[{key:"loadTextSearchAdapters",value:function(e){var t=this;return this.relevantAdapters(e).map((function(e){var r=(0,d.readConfObject)(e,"textSearchAdapterId");if(t.adapterCache.has(r))return t.adapterCache.get(r);var n=new(0,t.pluginManager.getTextSearchAdapterType(e.type).AdapterClass)(e,void 0,t.pluginManager);return t.adapterCache.set(r,n),n}))}},{key:"relevantAdapters",value:function(e){var t,r=null===(t=this.pluginManager.rootModel)||void 0===t?void 0:t.jbrowse,n=r.aggregateTextSearchAdapters,a=r.tracks,o=e.assemblyName;return[].concat((0,i.default)(this.getAdaptersWithAssembly(o,n)),(0,i.default)(this.getTrackAdaptersWithAssembly(o,a)))}},{key:"getAdaptersWithAssembly",value:function(e,t){return t.filter((function(t){var r;return null===(r=(0,d.readConfObject)(t,"assemblyNames"))||void 0===r?void 0:r.includes(e)}))}},{key:"getTrackAdaptersWithAssembly",value:function(e,t){return t.filter((function(t){var r;return null===(r=(0,d.readConfObject)(t,["textSearching","textSearchAdapter","assemblyNames"]))||void 0===r?void 0:r.includes(e)})).map((function(e){return e.textSearching.textSearchAdapter}))}},{key:"search",value:(t=(0,o.default)(a.default.mark((function e(t,r,n){var o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.loadTextSearchAdapters(r),e.next=3,Promise.all(o.map((function(e){return e.searchIndex(t)})));case 3:return i=e.sent,e.abrupt("return",this.sortResults(i.flat(),n));case 5:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})},{key:"sortResults",value:function(e,t){return t(e.sort((function(e,t){return-t.getLabel().localeCompare(e.getLabel())}))).sort((function(e,t){return e.getScore()-t.getScore()}))}}]),e}();t.default=f},2089:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(523)),o=n(r(2106)),i=n(r(525)),l=n(r(2155)),u=n(r(2208)),c=n(r(2225)),s=[a.default,o.default,i.default,l.default,u.default,c.default];t.default=s},2090:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=t.HeadingComponent=void 0,Object.defineProperty(t,"stateModelFactory",{enumerable:!0,get:function(){return l.default}});var a=r(14),o=r(17),i=r(29),l=n(r(2091)),u=(0,i.ConfigurationSchema)("ConfigurationEditorWidget",{});t.configSchema=u;var c=(0,a.observer)((function(e){var t=e.model;if(null!=t&&t.target){if(t.target.type)return"".concat(t.target.type," settings");if((0,o.isStateTreeNode)(t.target)){var r=(0,o.getType)(t.target);if(null!=r&&r.name)return"".concat(r.name.replace("ConfigurationSchema","")," settings")}}return"Settings"}));t.HeadingComponent=c},2091:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),a=r(72);t.default=function(e){return n.types.model("ConfigurationEditorWidget",{id:a.ElementId,type:n.types.literal("ConfigurationEditorWidget"),target:n.types.safeReference(e.pluggableConfigSchemaType("track"))}).actions((function(e){return{setTarget:function(t){e.target=t}}}))}},2092:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdapterClass",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"RegionsAdapterClass",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"SequenceAdapterClass",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return l.configSchema}}),Object.defineProperty(t,"regionsConfigSchema",{enumerable:!0,get:function(){return l.regionsConfigSchema}}),Object.defineProperty(t,"sequenceConfigSchema",{enumerable:!0,get:function(){return l.sequenceConfigSchema}});var a=n(r(524)),o=n(r(2093)),i=n(r(2094)),l=r(2095)},2093:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(90),g=r(29),h=n(r(524));function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var w=function(e){(0,s.default)(n,e);var t,r=b(n);function n(e,t,a){var o;(0,l.default)(this,n),o=r.call(this,e,t,a),(0,p.default)((0,c.default)(o),"features",void 0);var i=(0,g.readConfObject)(e,"features");return o.features=h.default.makeFeatures(i||[]),o}return(0,u.default)(n,[{key:"getRegions",value:(t=(0,i.default)(a.default.mark((function e(){var t,r,n,i,l,u,c,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=v(this.features);try{for(r.s();!(n=r.n()).done;){i=(0,o.default)(n.value,2),l=i[0],u=i[1],c=void 0,s=v(u);try{for(s.s();!(d=s.n()).done;)f=d.value,c&&c.end>=f.get("start")&&c.start<=f.get("end")?c.end=f.get("end"):(c&&t.push(c),c={refName:l,start:f.get("start"),end:f.get("end")})}catch(e){s.e(e)}finally{s.f()}c&&t.push(c)}}catch(e){r.e(e)}finally{r.f()}return t.sort((function(e,t){return e.refName.localeCompare(t.refName)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),n}(m.BaseAdapter);t.default=w},2094:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(10)),l=n(r(21)),u=n(r(15)),c=n(r(16)),s=n(r(51)),d=n(r(25)),f=n(r(26)),p=n(r(24)),m=n(r(98)),g=r(116),h=r(52);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var C=function(e){(0,d.default)(n,e);var t,r=O(n);function n(){return(0,u.default)(this,n),r.apply(this,arguments)}return(0,c.default)(n,[{key:"getFeatures",value:function(e){var t=this,r=(0,s.default)((0,p.default)(n.prototype),"getFeatures",this);return(0,g.ObservableCreate)(function(){var n=(0,l.default)(a.default.mark((function n(o){var i,l;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.call(t,e).pipe((0,h.toArray)()).toPromise();case 2:i=n.sent,l=i[0],o.next(new m.default(w(w({},l.toJSON()),{},{uniqueId:"".concat(l.id(),":").concat(e.start,"-").concat(e.end),end:e.end,start:e.start,seq:l.get("seq").slice(Math.max(e.start-l.get("start"),0),Math.max(e.end-l.get("start"),0))}))),o.complete();case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"getRegions",value:(t=(0,l.default)(a.default.mark((function e(){var t,r,n,i,l,u,c,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],r=v(this.features);try{for(r.s();!(n=r.n()).done;){i=(0,o.default)(n.value,2),l=i[0],u=i[1],c=void 0,s=v(u);try{for(s.s();!(d=s.n()).done;)f=d.value,c&&c.end>=f.get("start")&&c.start<=f.get("end")?c.end=f.get("end"):(c&&t.push(c),c={refName:l,start:f.get("start"),end:f.get("end")})}catch(e){s.e(e)}finally{s.f()}c&&t.push(c)}}catch(e){r.e(e)}finally{r.f()}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),n}(n(r(524)).default);t.default=C},2095:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceConfigSchema=t.regionsConfigSchema=t.configSchema=void 0;var n=r(29),a=(0,n.ConfigurationSchema)("FromConfigAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"});t.configSchema=a;var o=(0,n.ConfigurationSchema)("FromConfigRegionsAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"});t.regionsConfigSchema=o;var i=(0,n.ConfigurationSchema)("FromConfigSequenceAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"});t.sequenceConfigSchema=i},2096:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AdapterClass",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return o.default}});var a=n(r(2097)),o=n(r(2098))},2097:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=r(90),p=r(100),m=r(29);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var h=function(e){(0,c.default)(s,e);var t,r,n=g(s);function s(){return(0,l.default)(this,s),n.apply(this,arguments)}return(0,u.default)(s,[{key:"getRefNameAliases",value:(r=(0,i.default)(a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=(0,m.readConfObject)(this.config,"location")).uri&&"/path/to/my/aliases.txt"!==t.uri){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,p.openLocation)(t).readFile("utf8");case 5:return r=e.sent,n=(0,m.readConfObject)(this.config,"refNameColumn"),e.abrupt("return",r.trim().split("\n").filter((function(e){return!!e&&!e.startsWith("#")})).map((function(e){var t=e.split("\t"),r=t.splice(n,1);return{refName:(0,o.default)(r,1)[0],aliases:t}})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"freeResources",value:(t=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),s}(f.BaseAdapter);t.default=h},2098:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("RefNameAliasAdapter",{location:{type:"fileLocation",defaultValue:{uri:"/path/to/my/aliases.txt",locationType:"UriLocation"}},refNameColumn:{type:"number",defaultValue:0}},{explicitlyTyped:!0});t.default=n},2099:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.contents,r=e.setContents,n=m(),a=(0,d.useTheme)();return(0,o.useEffect)((function(){l.Light.registerLanguage("json",u.default)}),[]),o.default.createElement(i.default,{className:n.callbackEditor,value:t,onValueChange:r,highlight:function(e){return o.default.createElement(l.Light,{language:"json",style:"dark"===a.palette.type?c.default:s.default,className:n.syntaxHighlighter,customStyle:{background:"none",padding:0}},e)},padding:10,style:{}})};var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),i=n(r(928)),l=r(946),u=n(r(854)),c=n(r(855)),s=n(r(856)),d=r(23);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',m=(0,d.makeStyles)((function(e){return{callbackEditor:{fontFamily:p,fontSize:"12px",background:e.palette.background.default,overflowX:"auto",marginTop:"16px",border:"1px solid rgba(0,0,0,0.42)"},syntaxHighlighter:{margin:0,fontFamily:p,fontSize:"12px"}}}))},2100:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(33)),i=n(r(36)),l=n(r(1)),u=r(29),c=r(23),s=r(14),d=r(17),f=r(857),p=n(r(138)),m=n(r(929)),g=n(r(2105)),h=(0,c.makeStyles)((function(e){return{expandIcon:{color:"#fff"},root:{padding:e.spacing(1,3,1,1)},expansionPanelDetails:{display:"block",padding:e.spacing(1)},accordion:{border:"1px solid ".concat(e.palette.text.primary)}}})),v=(0,s.observer)((function(e){var t,r=h(),n=e.slotName,a=e.slotSchema,s=e.schema,d=e.slot,b=void 0===d?s[n]:d,w=e.path,O=void 0===w?[]:w;if((0,u.isConfigurationSchemaType)(a)){if(b.length)return b.map((function(t,r){var a="".concat((0,f.singular)(n)," ").concat(r+1);return l.default.createElement(v,(0,i.default)({},e,{key:a,slot:t,slotName:a}))}));var C=(0,u.getTypeNamesFromExplicitlyTypedUnion)(a);return C.length&&(t=l.default.createElement(g.default,{typeNameChoices:C,slotName:n,slot:b,onChange:function(e){e.target.value!==b.type&&s.setSubschema(n,{type:e.target.value})}})),l.default.createElement(c.Accordion,{defaultExpanded:!0,className:r.accordion,TransitionProps:{unmountOnExit:!0,timeout:150}},l.default.createElement(c.AccordionSummary,{expandIcon:l.default.createElement(p.default,{className:r.expandIcon})},l.default.createElement(c.Typography,null,[].concat((0,o.default)(O),[n]).join(""))),l.default.createElement(c.AccordionDetails,{className:r.expansionPanelDetails},t,l.default.createElement(c.FormGroup,null,l.default.createElement(y,{schema:b,path:[].concat((0,o.default)(O),[n])}))))}return(0,u.isConfigurationSlotType)(a)?l.default.createElement(m.default,{key:n,slot:b,slotSchema:a}):null})),y=(0,s.observer)((function(e){var t=e.schema,r=e.path,n=void 0===r?[]:r,o=(0,d.getMembers)(t).properties;return Object.entries(o).map((function(e){var r=(0,a.default)(e,2),o=r[0],i=r[1];return l.default.createElement(v,{key:o,slotName:o,slotSchema:i,path:n,schema:t})}))})),b=(0,s.observer)((function(e){var t=e.model,r=h(),n=t.target&&(0,u.readConfObject)(t.target,"trackId"),a=t.target&&(0,u.readConfObject)(t.target,"name");return l.default.createElement(l.default.Fragment,null,l.default.createElement(c.Accordion,{key:n,defaultExpanded:!0,className:r.accordion,TransitionProps:{unmountOnExit:!0,timeout:150}},l.default.createElement(c.AccordionSummary,{expandIcon:l.default.createElement(p.default,{className:r.expandIcon})},l.default.createElement(c.Typography,null,a||"Configuration")),l.default.createElement(c.AccordionDetails,{className:r.expansionPanelDetails,"data-testid":"configEditor"},t.target?l.default.createElement(y,{schema:t.target}):"no target set")),l.default.createElement("div",{style:{height:300}}))}));t.default=b},2101:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(23),c=n(r(109));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,l.observer)((function(e){var t=e.slot,r=(0,i.useState)(""),n=(0,o.default)(r,2),a=n[0],l=n[1],s=(0,i.useState)(!1),d=(0,o.default)(s,2),f=d[0],p=d[1];return i.default.createElement(i.default.Fragment,null,t.name?i.default.createElement(u.InputLabel,null,t.name):null,i.default.createElement(u.List,{disablePadding:!0},t.value.map((function(e,r){return i.default.createElement(u.ListItem,{key:r,disableGutters:!0},i.default.createElement(u.TextField,{value:e,onChange:function(e){return t.setAtIndex(r,e.target.value)},InputProps:{endAdornment:i.default.createElement(u.InputAdornment,{position:"end"},i.default.createElement(u.IconButton,{color:"secondary",onClick:function(){return t.removeAtIndex(r)}},i.default.createElement(c.default,null)))}}))})),f?i.default.createElement(u.ListItem,{disableGutters:!0},i.default.createElement(u.TextField,{value:a,placeholder:"add new",onChange:function(e){return l(e.target.value)},InputProps:{endAdornment:i.default.createElement(u.InputAdornment,{position:"end"},i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Button,{color:"primary",variant:"contained",style:{margin:2},"data-testid":"stringArrayAdd-".concat(t.name),onClick:function(){p(!1),t.add(a),l("")}},"OK"),i.default.createElement(u.Button,{color:"primary",variant:"contained",style:{margin:2},onClick:function(){p(!1),l("")}},"Cancel")))}})):null,i.default.createElement(u.Button,{color:"primary",variant:"contained",style:{margin:4},disabled:f,onClick:function(){return p(!0)}},"Add item")),i.default.createElement(u.FormHelperText,null,t.description))}));t.default=d},2102:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(32),u=r(512),c=r(23),s=n(r(343)),d=r(17),f=r(14),p=n(r(928));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var g=(0,c.makeStyles)((function(e){return{callbackEditor:{marginTop:"16px",borderBottom:"1px solid ".concat(e.palette.divider),fontFamily:'Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',fontSize:"12px"}}}));function h(e){var t=e.slot,r=g(),n=(0,i.useState)(t.value),a=(0,o.default)(n,2),f=a[0],m=a[1],h=(0,i.useState)(),v=(0,o.default)(h,2),y=v[0],b=v[1],w=(0,l.useDebounce)(f,400);return(0,i.useEffect)((function(){try{var e,r=w.startsWith("jexl:")?w:"jexl:".concat(w);(0,u.stringToJexlExpression)(r,null===(e=(0,d.getEnv)(t).pluginManager)||void 0===e?void 0:e.jexl),t.set(r),b(null)}catch(e){console.error({e:e}),b(e)}}),[w,t]),i.default.createElement(i.default.Fragment,null,i.default.createElement(c.FormControl,null,i.default.createElement(c.InputLabel,{shrink:!0,htmlFor:"callback-editor"},t.name),i.default.createElement(p.default,{className:r.callbackEditor,value:f.startsWith("jexl:")?f.split("jexl:")[1]:f,onValueChange:function(e){return m(e)},highlight:function(e){return e},padding:10,style:{background:y?"#fdd":void 0}}),y?i.default.createElement(c.FormHelperText,{style:{color:"#f00"}},"".concat(y)):null,i.default.createElement(c.FormHelperText,null,t.description)),i.default.createElement(c.Tooltip,{title:i.default.createElement("div",null,"Callbacks are written in Jexl format. Click to learn more.",i.default.createElement("br",null)," Names of available context items: ",t.contextVariable),arrow:!0},i.default.createElement(c.IconButton,{color:"primary",onClick:function(){var e=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");e&&(e.opener=null)}},i.default.createElement(s.default,null))))}h.propTypes={slot:f.PropTypes.objectOrObservableObject.isRequired};var v=(0,f.observer)(h);t.default=v},2103:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ColorSlot=void 0;var a=n(r(11)),o=n(r(36)),i=n(r(12)),l=f(r(1)),u=r(14),c=n(r(0)),s=n(r(83));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,a.default)(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var p=(0,l.lazy)((function(){return Promise.resolve().then((function(){return f(r(2104))}))}));var m=function(e){var t=e.value,r=e.label,n=e.TextFieldProps,a=e.onChange,u=(0,l.useState)(!1),c=(0,i.default)(u,2),d=c[0],f=c[1];return l.default.createElement(l.default.Fragment,null,l.default.createElement(s.default,(0,o.default)({value:t,label:r,InputProps:{style:{color:t,borderRightWidth:"25px",borderRightStyle:"solid",borderRightColor:t}},onClick:function(){return f(!d)},onChange:function(e){a(e.target.value)}},n)),d?l.default.createElement(l.default.Suspense,{fallback:l.default.createElement("div",null)},l.default.createElement(p,{color:t,onChange:function(e){a(function(e){if(e instanceof Object){var t=e,r=t.r,n=t.g,a=t.b,o=t.a;return void 0===o?"rgb(".concat(r,",").concat(n,",").concat(a,")"):"rgba(".concat(r,",").concat(n,",").concat(a,",").concat(o,")")}return e}(e.rgb))}})):null)};function g(e){var t=e.slot;return l.default.createElement(m,{label:t.name,value:t.value,onChange:function(e){t.set(e)},TextFieldProps:{helperText:t.description,fullWidth:!0}})}t.ColorSlot=m,m.propTypes={onChange:c.default.func.isRequired,label:c.default.string,TextFieldProps:c.default.shape({}),value:c.default.string},m.defaultProps={label:"",value:"#000",TextFieldProps:{}},g.propTypes={slot:c.default.shape({name:c.default.string.isRequired,description:c.default.string,value:c.default.string.isRequired,set:c.default.func.isRequired}).isRequired};var h=(0,u.observer)(g);t.default=h},2104:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPicker=f,t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(34),u=n(r(0)),c=r(371);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,l.makeStyles)({popover:{position:"absolute",zIndex:2},cover:{position:"fixed",top:0,right:0,bottom:0,left:0}});function f(e){var t=e.color,r=e.onChange,n=d(),a=(0,i.useState)(!0),l=(0,o.default)(a,2),u=l[0],s=l[1];return i.default.createElement("div",null,u?i.default.createElement("div",{className:n.popover},i.default.createElement("div",{role:"presentation",className:n.cover,onClick:function(){s(!1)}}),i.default.createElement(c.ChromePicker,{color:t,onChange:r})):null)}f.propTypes={color:u.default.string.isRequired,onChange:u.default.func.isRequired};var p=f;t.default=p},2105:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(96)),o=n(r(53)),i=n(r(83)),l=r(14),u=n(r(1)),c=r(929),s=(0,l.observer)((function(e){var t=e.typeNameChoices,r=e.slot,n=e.slotName,l=e.onChange,s=(0,c.useSlotEditorStyles)();return u.default.createElement(o.default,{className:s.paper},u.default.createElement("div",{className:s.paperContent},u.default.createElement(i.default,{value:r.type,label:"Type",select:!0,helperText:"Type of ".concat(n," to use"),fullWidth:!0,onChange:l},t.map((function(e){return u.default.createElement(a.default,{key:e,value:e},e)})))))}));t.default=s},2106:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.SetDefaultSession=t.AssemblyManager=void 0;var a=n(r(11)),o=n(r(15)),i=n(r(16)),l=n(r(30)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=n(r(10)),f=r(1),p=n(r(518)),m=n(r(168)),g=n(r(115)),h=r(2107),v=r(2111),y=r(2113),b=r(2115),w=r(2117);function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,a.default)(e)&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var E=(0,f.lazy)((function(){return Promise.resolve().then((function(){return k(r(2123))}))}));t.SetDefaultSession=E;var S=(0,f.lazy)((function(){return Promise.resolve().then((function(){return k(r(2125))}))}));t.AssemblyManager=S;var P=function(e){(0,u.default)(n,e);var t=O(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"name","DataManagementPlugin"),(0,d.default)((0,l.default)(e),"exports",{AssemblyManager:S,SetDefaultSession:E}),e}return(0,i.default)(n,[{key:"install",value:function(e){e.addConnectionType((function(){return new p.default({name:"UCSCTrackHubConnection",configSchema:h.configSchema,stateModel:(0,h.modelFactory)(e),displayName:"UCSC Track Hub",description:"A track or assembly hub in the Track Hub format",url:"//genome.ucsc.edu/goldenPath/help/hgTrackHubHelp.html#Intro"})})),e.addWidgetType((function(){return new m.default({name:"HierarchicalTrackSelectorWidget",heading:"Available tracks",configSchema:b.configSchema,stateModel:(0,b.stateModelFactory)(e),ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return k(r(2130))}))}))})})),e.addWidgetType((function(){return new m.default({name:"AddTrackWidget",heading:"Add a track",configSchema:v.configSchema,stateModel:(0,v.stateModelFactory)(e),ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return k(r(2136))}))}))})})),e.addWidgetType((function(){return new m.default({name:"AddConnectionWidget",heading:"Add a connection",configSchema:y.configSchema,stateModel:y.stateModel,ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return k(r(2139))}))}))})})),e.addWidgetType((function(){return new m.default({name:"PluginStoreWidget",heading:"Plugin store",configSchema:w.configSchema,stateModel:(0,w.stateModelFactory)(e),ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return k(r(931))}))}))})}))}},{key:"configure",value:function(e){}}]),n}(g.default);t.default=P},2107:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"modelFactory",{enumerable:!0,get:function(){return a.default}});var a=n(r(2108)),o=n(r(930))},2108:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return u.types.compose("UCSCTrackHubConnection",(0,o.BaseConnectionModelFactory)(e),u.types.model({configuration:(0,i.ConfigurationReference)(c.default),type:u.types.literal("UCSCTrackHubConnection")}).actions((function(e){return{connect:function(){var t=(0,i.getConf)(e,"name"),r=(0,i.getConf)(e,"hubTxtLocation"),n=(0,l.getSession)(e);(0,s.fetchHubFile)(r).then((function(e){var t=r.uri?{uri:new URL(e.get("genomesFile"),r.uri).href,locationType:"UriLocation"}:{localPath:e.get("genomesFile"),locationType:"LocalPathLocation"};return Promise.all([e,(0,s.fetchGenomesFile)(t)])})).then((function(o){var l,u=(0,a.default)(o,2),c=u[0],f=u[1],p=[],m=d(f);try{var g=function(){var o=(0,a.default)(l.value,2),u=o[0],d=o[1],f=(0,i.getConf)(e,"assemblyNames");if(f.length>0&&!f.includes(u))return"break";var m=n.assemblies.find((function(e){return(0,i.readConfObject)(e,"name")===u}));if(!m)throw new Error('Cannot find assembly for "'.concat(u,'" from the genomes file for connection "').concat(t,'"'));var g=r.uri?{uri:new URL(d.get("trackDb"),new URL(c.get("genomesFile"),r.uri)).href,locationType:"UriLocation"}:{localPath:d.get("trackDb"),locationType:"LocalPathLocation"};p.push(Promise.all([g,(0,s.fetchTrackDbFile)(g),u,m]))};for(m.s();!(l=m.n()).done;){if("break"===g())break}}catch(e){m.e(e)}finally{m.f()}return Promise.all([].concat(p))})).then((function(t){var r,n=d(t);try{for(n.s();!(r=n.n()).done;){var o=(0,a.default)(r.value,4),l=o[0],u=o[1],c=o[2],f=o[3],p=(0,i.readConfObject)(f,["sequence","adapter"]),m=(0,s.generateTracks)(u,l,c,p);e.addTrackConfs(m)}}catch(e){n.e(e)}finally{n.f()}})).catch((function(t){console.error(t),n.notify('There was a problem connecting to the UCSC Track Hub "'.concat(e.name,'". Please make sure you have entered a valid hub.txt file. The error that was thrown is: "').concat(t,'"'),"error"),n.breakConnection(e.configuration)}))}}})))};var a=n(r(12)),o=r(99),i=r(29),l=r(32),u=r(17),c=n(r(930)),s=r(2109);function d(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},2109:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.fetchGenomesFile=function(e){return g.apply(this,arguments)},t.fetchHubFile=function(e){return m.apply(this,arguments)},t.fetchTrackDbFile=function(e){return h.apply(this,arguments)},t.generateTracks=function(e,t,r,n){var a=[];return e.forEach((function(o,l){var c=Array.from(o.keys()),d=["superTrack","compositeTrack","container","view"];if(!c.some((function(e){return d.includes(e)}))){var f=[],p=l;do{if(p=e.get(p).get("parent")){var m=p.split(" ");p=(0,i.default)(m,1)[0],f.push(e.get(p))}}while(p);f.reverse();var g=function(e,t,r,n,a){var o=e.get("type");o||(o=n.get(e.get("parent")).get("type"));var i,l,u=o.split(" ")[0];"bam"===u&&e.get("bigDataUrl").toLowerCase().endsWith("cram")&&(u="cram");i=r.uri?{uri:new URL(e.get("bigDataUrl"),r.uri).href,locationType:"UriLocation"}:{localPath:e.get("bigDataUrl"),locationType:"LocalPathLocation"};switch(u){case"bam":return l=r.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),r.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".bai"),r.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".bai"),locationType:"LocalPathLocation"},{type:"AlignmentsTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BamAdapter",bamLocation:i,index:{location:l}}};case"bed":case"bed5FloatScore":case"bedGraph":case"bedRnaElements":return(0,s.generateUnsupportedTrackConf)(e.get("shortLabel"),u,t);case"bigBarChart":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i},renderer:{type:"SvgFeatureRenderer"}};case"bigBed":case"bigGenePred":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i}};case"bigChain":case"bigInteract":case"bigMaf":case"bigPsl":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i},renderer:{type:"SvgFeatureRenderer"}};case"bigWig":return{type:"QuantitativeTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigWigAdapter",bigWigLocation:i}};case"broadPeak":case"coloredExon":return(0,s.generateUnsupportedTrackConf)(e.get("shortLabel"),u,t);case"cram":return l=r.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),r.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".crai"),r.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".crai"),locationType:"LocalPathLocation"},{type:"AlignmentsTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"CramAdapter",cramLocation:i,craiLocation:l,sequenceAdapter:a}};case"gvf":case"ld2":case"narrowPeak":return(0,s.generateUnsupportedTrackConf)(e.get("shortLabel"),u,t);case"bigNarrowPeak":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i}};case"peptideMapping":return(0,s.generateUnsupportedTrackConf)(e.get("shortLabel"),u,t);case"vcfTabix":return l=r.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),r.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".tbi"),r.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".tbi"),locationType:"LocalPathLocation"},{type:"VariantTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"VcfTabixAdapter",vcfGzLocation:i,index:{location:l}}};case"wig":case"wigMaf":return(0,s.generateUnsupportedTrackConf)(e.get("shortLabel"),u,t);case"hic":return{type:"HicTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"HicAdapter",hicLocation:i}};case"halSnake":return(0,s.generateUnsupportedTrackConf)(e.get("shortLabel"),u,t);default:return(0,s.generateUnknownTrackConf)(e.get("shortLabel"),u,t)}}(o,f.map((function(e){return e.get("shortLabel")})),t,e,n);g.trackId="ucsc-trackhub-".concat((0,u.objectHash)(g)),g.assemblyNames=[r],a.push(g)}})),a},Object.defineProperty(t,"ucscAssemblies",{enumerable:!0,get:function(){return d.default}});var o=n(r(19)),i=n(r(12)),l=n(r(21)),u=r(32),c=r(100),s=r(64),d=n(r(2110));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function m(){return(m=(0,l.default)(o.default.mark((function e(t){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,c.openLocation)(t).readFile("utf8");case 3:return n=e.sent,e.next=6,Promise.resolve().then((function(){return p(r(200))}));case 6:return a=e.sent,i=a.HubFile,e.abrupt("return",new i(n));case 11:throw e.prev=11,e.t0=e.catch(0),new Error("Not a valid hub.txt file, got error: '".concat(e.t0,"'"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function g(){return(g=(0,l.default)(o.default.mark((function e(t){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.openLocation)(t).readFile("utf8");case 2:return n=e.sent,e.next=5,Promise.resolve().then((function(){return p(r(200))}));case 5:return a=e.sent,i=a.GenomesFile,e.abrupt("return",new i(n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=(0,l.default)(o.default.mark((function e(t){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.openLocation)(t).readFile("utf8");case 2:return n=e.sent,e.next=5,Promise.resolve().then((function(){return p(r(200))}));case 5:return a=e.sent,i=a.TrackDbFile,e.abrupt("return",new i(n));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n="ailMel1\nallMis1\nanoCar1\nanoCar2\nanoGam1\nanoGam3\napiMel1\napiMel2\naplCal1\naptMan1\naquChr2\nbalAcu1\nbisBis1\nbosTau2\nbosTau3\nbosTau4\nbosTau6\nbosTau7\nbosTau8\nbraFlo1\ncaeJap1\ncaePb1\ncaePb2\ncaeRem2\ncaeRem3\ncalJac1\ncalJac3\ncalMil1\ncanFam1\ncanFam3\ncavPor3\ncb3\nce10\nce11\nce2\nce4\nce6\ncerSim1\nchlSab2\nchoHof1\nchrPic1\nci1\nci2\nci3\ncriGri1\ncriGriChoV1\ndanRer10\ndanRer11\ndanRer3\ndanRer4\ndanRer5\ndanRer6\ndanRer7\ndasNov3\ndipOrd1\ndm1\ndm2\ndm3\ndm6\ndp2\ndp3\ndroAna1\ndroAna2\ndroEre1\ndroGri1\ndroMoj1\ndroMoj2\ndroPer1\ndroSec1\ndroSim1\ndroVir1\ndroVir2\ndroYak1\ndroYak2\neboVir3\nechTel1\nechTel2\nequCab1\nequCab2\neriEur1\neriEur2\nfelCat3\nfelCat4\nfelCat5\nfelCat8\nfr1\nfr2\nfr3\ngadMor1\ngalGal2\ngalGal3\ngalGal4\ngalGal5\ngalGal6\ngalVar1\ngasAcu1\ngeoFor1\ngorGor3\ngorGor4\ngorGor5\nhetGla1\nhetGla2\nhg16\nhg18\nhg19\nhg38\nlatCha1\nloxAfr3\nmacEug2\nmacFas5\nmanPen1\nmelGal1\nmelGal5\nmelUnd1\nmicMur1\nmicMur2\nmm10\nmm7\nmm8\nmm9\nmonDom2\nmonDom4\nmonDom5\nmusFur1\nmyoLuc2\nnanPar1\nnasLar1\nnomLeu1\nnomLeu2\nnomLeu3\nochPri2\nochPri3\noreNil2\nornAna1\nornAna2\noryCun2\noryLat2\notoGar3\noviAri1\noviAri3\noviAri4\npanPan1\npanPan2\npanTro1\npanTro2\npanTro3\npanTro4\npanTro5\npanTro6\npapAnu2\npapHam1\npetMar1\npetMar2\nponAbe2\nponAbe3\npriPac1\nproCap1\npteVam1\nrheMac2\nrheMac3\nrheMac8\nrhiRox1\nrn4\nrn5\nrn6\nsacCer1\nsacCer2\nsacCer3\nsaiBol1\nsarHar1\nsorAra1\nsorAra2\nspeTri2\nstrPur1\nstrPur2\nsusScr11\nsusScr2\nsusScr3\ntaeGut1\ntaeGut2\ntarSyr1\ntarSyr2\ntetNig1\ntetNig2\nthaSir1\ntriMan1\ntupBel1\nturTru2\nventer1\nvicPac1\nvicPac2\nxenLae2\nxenTro1\nxenTro2\nxenTro3\nxenTro7\nxenTro9".split(/\r?\n/);t.default=n},2111:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,Object.defineProperty(t,"stateModelFactory",{enumerable:!0,get:function(){return o.default}});var a=r(29),o=n(r(2112)),i=(0,a.ConfigurationSchema)("AddTrackWidget",{});t.configSchema=i},2112:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.types.model("AddTrackModel",{id:a.ElementId,type:n.types.literal("AddTrackWidget"),view:n.types.safeReference(e.pluggableMstType("view","stateModel"))}).volatile((function(){return{trackSource:"fromFile",trackData:void 0,indexTrackData:void 0,altAssemblyName:"",altTrackName:"",altTrackType:"",adapterHint:"",textIndexTrack:!0,textIndexingConf:void 0}})).actions((function(e){return{setAdapterHint:function(t){e.adapterHint=t},setTrackSource:function(t){e.trackSource=t},setTextIndexingConf:function(t){e.textIndexingConf=t},setTextIndexTrack:function(t){e.textIndexTrack=t},setTrackData:function(t){e.trackData=t},setIndexTrackData:function(t){e.indexTrackData=t},setAssembly:function(t){e.altAssemblyName=t},setTrackName:function(t){e.altTrackName=t},setTrackType:function(t){e.altTrackType=t},clearData:function(){e.trackSource="",e.altTrackName="",e.altTrackType="",e.altAssemblyName="",e.adapterHint="",e.indexTrackData=void 0,e.trackData=void 0,e.textIndexingConf=void 0,e.textIndexTrack=!0}}})).views((function(e){return{get trackAdapter(){var t=e.trackData,r=e.indexTrackData,n=e.adapterHint;return t?(0,o.guessAdapter)(t,r,n,e):void 0},get trackName(){return e.altTrackName||(e.trackData?(0,o.getFileName)(e.trackData):"")},get isFtp(){var t,r,n=e.trackData,a=e.indexTrackData;return!!(null!=a&&null!==(t=a.uri)&&void 0!==t&&t.startsWith("ftp://")||null!=n&&null!==(r=n.uri)&&void 0!==r&&r.startsWith("ftp://"))},get isRelativeTrackUrl(){var t,r=null===(t=e.trackData)||void 0===t?void 0:t.uri;return!!r&&!i(r)},get isRelativeIndexUrl(){var t,r=null===(t=e.indexTrackData)||void 0===t?void 0:t.uri;return!!r&&!i(r)},get isRelativeUrl(){return this.isRelativeIndexUrl||this.isRelativeTrackUrl},get trackHttp(){var t,r;return null===(t=e.trackData)||void 0===t||null===(r=t.uri)||void 0===r?void 0:r.startsWith("http://")},get indexHttp(){var t,r;return null===(t=e.indexTrackData)||void 0===t||null===(r=t.uri)||void 0===r?void 0:r.startsWith("http://")},get wrongProtocol(){return"https:"===window.location.protocol&&(this.trackHttp||this.indexHttp)},get unsupported(){var e;return(null===(e=this.trackAdapter)||void 0===e?void 0:e.type)===o.UNSUPPORTED},get assembly(){var t;return e.altAssemblyName||(null===(t=e.view.assemblyNames)||void 0===t?void 0:t[0])},get trackType(){return e.altTrackType||(this.trackAdapter?(0,o.guessTrackType)(this.trackAdapter.type,e):"")}}})).views((function(e){return{get warningMessage(){return e.isFtp?"Warning: JBrowse cannot access files using the ftp protocol":e.isRelativeUrl?"Warning: one or more of your files do not provide the protocol e.g.\n          https://, please provide an absolute URL unless you are sure a\n          relative URL is intended.":e.wrongProtocol?"Warning: You entered a http:// resources but we cannot access HTTP\n          resources from JBrowse when it is running on https. Please use an\n          https URL for your track, or access the JBrowse app from the http\n          protocol":""}}}))};var n=r(17),a=r(72),o=r(64);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(e),!0}catch(t){return e.startsWith("/")}}},2113:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,Object.defineProperty(t,"stateModel",{enumerable:!0,get:function(){return o.default}});var a=r(29),o=n(r(2114)),i=(0,a.ConfigurationSchema)("AddConnectionWidget",{});t.configSchema=i},2114:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),a=r(72),o=n.types.model("AddConnectionModel",{id:a.ElementId,type:n.types.literal("AddConnectionWidget")});t.default=o},2115:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,Object.defineProperty(t,"stateModelFactory",{enumerable:!0,get:function(){return o.default}});var a=r(29),o=n(r(2116)),i=(0,a.ConfigurationSchema)("HierarchicalTrackSelectorWidget",{});t.configSchema=i},2116:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.generateHierarchy=m;var a=n(r(11)),o=n(r(33)),i=r(17),l=r(29),u=r(32),c=r(72);function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!e.find((function(e){return t.includes(e)}))};function p(e){if(!e.trackId)throw new Error("not a track");return(0,l.readConfObject)(e,"name")||"Reference sequence (".concat((0,l.readConfObject)((0,i.getParent)(e),"name"),")")}function m(e,t,r){var n={children:[]},a=e.filterText,i=e.view;return t.filter((function(e){return t=a,n=p(r=e),o=(0,l.readConfObject)(r,"category")||[],i=t.toLowerCase(),!!n.toLowerCase().includes(i)||o.filter((function(e){return!!e.toLowerCase().includes(i)})).length;var t,r,n,o,i})).forEach((function(e){var t=(0,o.default)((0,l.readConfObject)(e,"category")||[]);e.trackId.endsWith("sessionTrack")&&t.unshift(" Session tracks");for(var a=n,u=function(e){var n=t[e],o=a.children.find((function(e){return e.name===n})),i=t.slice(0,e+1).join(",");if(o)a=o;else{var l={children:[],name:n,id:i,isOpenByDefault:!r.get(i)};a.children.push(l),a=l}},c=0;c<t.length;c++)u(c);a.children.splice(a.children.findIndex((function(e){return e.children.length})),0,{id:e.trackId,name:p(e),conf:e,checked:!!i.tracks.find((function(t){return t.configuration===e})),children:[]})})),n.children}t.default=function(e){return i.types.model("HierarchicalTrackSelectorWidget",{id:c.ElementId,type:i.types.literal("HierarchicalTrackSelectorWidget"),collapsed:i.types.map(i.types.boolean),filterText:"",view:i.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{setView:function(t){e.view=t},toggleCategory:function(t){e.collapsed.set(t,!e.collapsed.get(t))},clearFilterText:function(){e.filterText=""},setFilterText:function(t){e.filterText=t}}})).views((function(t){return{getRefSeqTrackConf:function(r){var n=(0,u.getSession)(t).assemblyManager.get(r),o=null==n?void 0:n.configuration.sequence,i=e.getViewType(t.view.type);if(o){var l,c=s(o.displays);try{var d=function(){var e=l.value;if(i.displayTypes.find((function(t){return t.name===e.type})))return{v:o}};for(c.s();!(l=c.n()).done;){var f=d();if("object"===(0,a.default)(f))return f.v}}catch(e){c.e(e)}finally{c.f()}}},trackConfigurations:function(r){if(!t.view)return[];var n=(0,u.getSession)(t),a=n.tracks,i=n.assemblyManager.get(r);if(!i)return[];var c=t.getRefSeqTrackConf(r);return(c?[c]:[]).concat((0,o.default)(a.filter((function(e){var t=(0,l.readConfObject)(e,"assemblyNames"),r=i.allAliases;return f(r,t)})).filter((function(r){var n=e.getViewType(t.view.type).displayTypes.map((function(e){return e.name})),a=r.displays.map((function(e){return e.type}));return f(n,a)}))))},get assemblyNames(){return t.view?t.view.assemblyNames:[]},connectionTrackConfigurations:function(r,n){if(!t.view)return[];var a=n.tracks,o=(0,u.getSession)(t).assemblyManager.get(r);return o&&o.initialized?a.filter((function(e){var t=(0,l.readConfObject)(e,"assemblyNames"),r=o.allAliases;return f(r,t)})).filter((function(r){var n=e.getViewType(t.view.type).displayTypes.map((function(e){return e.name})),a=r.displays.map((function(e){return e.type}));return f(n,a)})):[]},hierarchy:function(e){var r=this,n=m(t,t.trackConfigurations(e),t.collapsed),a=(0,u.getSession)(t),i=a.connectionInstances.filter((function(t){var r=(0,l.readConfObject)(t.configuration,"assemblyNames");return 0===r.length||r.includes(e)})).map((function(t,n){var o=a.connections[n];return{id:o.connectionId,name:(0,l.readConfObject)(o,"name"),children:r.connectionHierarchy(e,t),state:{expanded:!0}}}));return{name:"Root",id:"Root",children:[{name:"Tracks",id:"Tracks",children:n}].concat((0,o.default)(i))}},connectionHierarchy:function(e,r){return m(t,t.connectionTrackConfigurations(e,r),t.collapsed)},allTracksInCategoryPath:function(e,r,n){var a=r?t.connectionHierarchy(r):t.hierarchy(n);e.forEach((function(e){a=a.get(e)||new Map}));var o={};return a.forEach((function(r,n){r.trackId?o[r.trackId]=r:o=Object.assign(o,t.allTracksInCategoryPath(e.concat([n])))})),o}}}))}},2117:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return o.default}}),t.configSchema=void 0,Object.defineProperty(t,"stateModelFactory",{enumerable:!0,get:function(){return i.default}});var a=r(29),o=n(r(931)),i=n(r(2122)),l=(0,a.ConfigurationSchema)("PluginStoreWidget",{});t.configSchema=l},2118:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(14),i=r(23),l=n(r(2119));var u=(0,o.observer)((function(e){var t=e.pluginManager,r=e.model,n=t.plugins,o=n.filter((function(e){var r;return null===(r=t.pluginMetadata[e.name])||void 0===r?void 0:r.isCore})).map((function(e){return e.name})),u=n.filter((function(e){return!o.includes(e.name)}));return a.default.createElement(i.List,null,u.length?u.filter((function(e){return e.name.toLowerCase().includes(r.filterText.toLowerCase())})).map((function(e){return a.default.createElement(l.default,{key:e.name,plugin:e,model:r,pluginManager:t})})):a.default.createElement(i.Typography,null,"No plugins currently installed"))}));t.default=u},2119:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(17),c=r(23),s=n(r(40)),d=n(r(862)),f=r(32),p=r(130);function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var g=(0,c.makeStyles)((function(){return{closeDialog:{position:"absolute",right:0,top:0},dialogContainer:{margin:15},lockedPluginTooltip:{marginRight:"0.5rem"}}}));function h(){var e=g();return i.default.createElement(c.Tooltip,{className:e.lockedPluginTooltip,title:"This plugin was installed by an administrator, you cannot remove it."},i.default.createElement(d.default,null))}function v(e){var t=e.onClose,r=e.plugin,n=g();return i.default.createElement(c.Dialog,{open:!0,onClose:function(){return t()}},i.default.createElement(c.DialogTitle,null,i.default.createElement(c.IconButton,{className:n.closeDialog,"aria-label":"close-dialog",onClick:function(){return t()}},i.default.createElement(s.default,null))),i.default.createElement(c.DialogContent,null,i.default.createElement(c.Typography,null,"Please confirm that you want to remove ",r,". Note: if any resources in this session still use this plugin, it may cause your session to crash"),i.default.createElement(c.DialogActions,null,i.default.createElement(c.Button,{variant:"contained",color:"primary",onClick:function(){window.setTimeout((function(){t(r)}),500)}},"Confirm"),i.default.createElement(c.Button,{variant:"contained",color:"secondary",onClick:function(){t()}},"Cancel"))))}var y=(0,l.observer)((function(e){var t=e.plugin,r=e.model,n=e.pluginManager,a=(0,i.useState)(),l=(0,o.default)(a,2),d=l[0],m=l[1],g=(0,f.getSession)(r),y=g.sessionPlugins,b=null==y?void 0:y.some((function(e){return n.pluginMetadata[t.name].url===e.url})),w=(0,u.getParent)(r,3),O=w.jbrowse,C=w.adminMode;return i.default.createElement(i.default.Fragment,null,d?i.default.createElement(v,{plugin:d,onClose:function(e){if(e){var r=n.pluginMetadata[t.name];C?O.removePlugin(r):(0,p.isSessionWithSessionPlugins)(g)&&g.removeSessionPlugin(r)}m(void 0)}}):null,i.default.createElement(c.ListItem,{key:t.name},C||b?i.default.createElement(c.IconButton,{"aria-label":"removePlugin","data-testid":"removePlugin-".concat(t.name),onClick:function(){return m(t.name)}},i.default.createElement(s.default,null)):i.default.createElement(h,null),i.default.createElement(c.Typography,null,t.name)))}));t.default=y},2120:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(17),c=r(32),s=r(130),d=r(23),f=n(r(863)),p=n(r(97)),m=n(r(864));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,d.makeStyles)((function(){return{card:{margin:"1em"},icon:{marginLeft:"0.5em",marginRight:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center",margin:"0.4em 0em"}}}));var v=(0,l.observer)((function(e){var t=e.plugin,r=e.model,n=e.adminMode,a=h(),l=(0,c.getSession)(r),g=(0,u.getEnv)(r).pluginManager,v=Boolean(g.runtimePluginDefinitions.find((function(e){return e.url===t.url}))),y=(0,i.useState)(!1),b=(0,o.default)(y,2),w=b[0],O=b[1],C=v||w,k=(0,u.getParent)(r,3).jbrowse;return i.default.createElement(d.Card,{variant:"outlined",key:t.name,className:a.card},i.default.createElement(d.CardContent,null,i.default.createElement("div",{className:a.dataField},i.default.createElement(d.Typography,{variant:"h5"},i.default.createElement(d.Link,{href:"".concat(t.location,"#readme"),target:"_blank",rel:"noopener"},t.name))),i.default.createElement("div",{className:a.dataField},i.default.createElement(f.default,{style:{marginRight:"0.5em"}}),i.default.createElement(d.Typography,null,t.authors.join(", "))),i.default.createElement(d.Typography,{className:a.bold},"Description:"),i.default.createElement(d.Typography,null,t.description)),i.default.createElement(d.CardActions,null,i.default.createElement(d.Button,{variant:"contained",color:"primary",disabled:C,startIcon:v?i.default.createElement(m.default,null):i.default.createElement(p.default,null),onClick:function(){n?k.addPlugin({name:t.name,url:t.url}):(0,s.isSessionWithSessionPlugins)(l)&&l.addSessionPlugin(t),O(!0)}},v?"Installed":"Install")))}));t.default=v},2121:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(10)),i=n(r(12)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(14),c=r(17),s=n(r(20)),d=r(23),f=n(r(56)),p=n(r(40)),m=n(r(138));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,d.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));var v=(0,u.observer)((function(e){var t=e.open,r=e.onClose,n=e.model,a=h(),u=(0,l.useState)(""),g=(0,i.default)(u,2),v=g[0],y=g[1],b=(0,l.useState)(""),w=(0,i.default)(b,2),O=w[0],C=w[1],k=(0,l.useState)(""),E=(0,i.default)(k,2),S=E[0],P=E[1],x=(0,l.useState)(""),j=(0,i.default)(x,2),M=j[0],T=j[1],R=(0,l.useState)(!1),D=(0,i.default)(R,2),I=D[0],A=D[1];function _(e){var t=e.target,r=t.name,n=t.value;"umdName"===r&&y(n),"umdUrl"===r&&C(n),"esmUrl"===r&&P(n),"cjsUrl"===r&&T(n)}var F=(0,c.getRoot)(n).jbrowse,L=Boolean(v&&O||S||M);function N(){if(L){var e={};v&&O&&(e.name=v,e.umdUrl=O),S&&(e.esmUrl=S),M&&(e.cjsUrl=M),F.addPlugin(e)}}function B(){y(""),C(""),P(""),T(""),r()}return l.default.createElement(d.Dialog,{open:t,onClose:B},l.default.createElement(d.DialogTitle,null,"Add custom plugin",l.default.createElement(f.default,{size:"medium",className:a.closeButton,onClick:function(){return r()}},l.default.createElement(p.default,null))),l.default.createElement("form",{onSubmit:N},l.default.createElement(d.DialogContent,{className:a.dialogContent},l.default.createElement(d.DialogContentText,null,"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."),l.default.createElement(d.TextField,{id:"umd-name-input",name:"umdName",label:"Plugin name",variant:"outlined",value:v,onChange:_}),l.default.createElement(d.TextField,{id:"umd-url-input",name:"umdUrl",label:"Plugin URL",variant:"outlined",value:O,onChange:_}),l.default.createElement(d.DialogContentText,{onClick:function(){A(!I)}},l.default.createElement(f.default,{className:(0,s.default)(a.expand,(0,o.default)({},a.expandOpen,I)),"aria-expanded":I,"aria-label":"show more"},l.default.createElement(m.default,null)),"Advanced options"),l.default.createElement(d.Collapse,{in:I},l.default.createElement("div",{className:a.dialogContent},l.default.createElement(d.DialogContentText,null,"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."),l.default.createElement(d.TextField,{id:"esm-url-input",name:"esmUrl",label:"ESM build URL",variant:"outlined",value:S,onChange:_}),l.default.createElement(d.TextField,{id:"cjs-url-input",name:"cjsUrl",label:"CJS build URL",variant:"outlined",value:M,onChange:_})))),l.default.createElement(d.DialogActions,null,l.default.createElement(d.Button,{variant:"contained",onClick:B},"Cancel"),l.default.createElement(d.Button,{variant:"contained",color:"primary",onClick:N,disabled:!L},"Submit"))))}));t.default=v},2122:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.types.model("PluginStoreModel",{id:a.ElementId,type:n.types.literal("PluginStoreWidget"),filterText:"",view:n.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{clearFilterText:function(){e.filterText=""},setFilterText:function(t){e.filterText=t}}}))};var n=r(17),a=r(72)},2123:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(2124))},2124:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(11)),o=n(r(1)),i=r(14),l=r(23);var u=(0,i.observer)((function(e){var t,r=e.rootModel,n=e.onClose;if(!r)return null;if(t=r,"object"!==(0,a.default)(t)||!t||!("jbrowse"in t))return console.error("Incorrect rootmodel"),null;var i=r.jbrowse,u=r.session;return o.default.createElement(l.Dialog,{open:!0,onClose:n},o.default.createElement(l.DialogTitle,null,"Set default session"),o.default.createElement(l.DialogContent,null,o.default.createElement(l.Typography,null,'Select "Set current session as default" to make your current session saved to the config file. You can also hit "Clear default session", which would remove the default session from the config.')),o.default.createElement(l.DialogActions,null,o.default.createElement(l.Button,{variant:"contained",onClick:function(){i.setDefaultSessionConf({name:"New session"}),n()}},"Clear default session"),o.default.createElement(l.Button,{color:"secondary",variant:"contained",onClick:function(){return n()}},"Cancel"),o.default.createElement(l.Button,{color:"primary",variant:"contained",onClick:function(){i.setDefaultSessionConf(u),n()}},"Set current session as default")))}));t.default=u},2125:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(2126))},2126:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(34),c=r(23),s=n(r(865)),d=n(r(40)),f=n(r(97)),p=n(r(2127)),m=n(r(2128)),g=n(r(2129));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var v=(0,u.makeStyles)((function(e){return{titleBox:{color:"#fff",backgroundColor:e.palette.primary.main,textAlign:"center"},dialogContent:{width:"100%"},backButton:{color:"#fff",position:"absolute",left:e.spacing(4),top:e.spacing(4)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var y=(0,l.observer)((function(e){var t=e.rootModel,r=e.onClose,n=v(),a=(0,i.useState)(!1),l=(0,o.default)(a,2),u=l[0],h=l[1],y=(0,i.useState)(!1),b=(0,o.default)(y,2),w=b[0],O=b[1],C=(0,i.useState)(),k=(0,o.default)(C,2),E=k[0],S=k[1],P=!u&&!w;return i.default.createElement(c.Dialog,{open:!0,onClose:function(){return r(!1)}},i.default.createElement(c.DialogTitle,{className:n.titleBox},P?"Assembly manager":null,u?i.default.createElement(i.default.Fragment,null,i.default.createElement(c.IconButton,{"aria-label":"back",className:n.backButton,onClick:function(){return h(!1)}},i.default.createElement(s.default,null)),"Add new assembly"):null,w?i.default.createElement(i.default.Fragment,null,i.default.createElement(c.IconButton,{"aria-label":"back",className:n.backButton,onClick:function(){return O(!1)}},i.default.createElement(s.default,null)),function(e){if(void 0!==e)return e.name;return null}(E)):null,i.default.createElement(c.IconButton,{"aria-label":"close",className:n.closeButton,onClick:function(){return r(!1)}},i.default.createElement(d.default,null))),i.default.createElement(c.DialogContent,null,i.default.createElement("div",{className:n.dialogContent},P?i.default.createElement(p.default,{rootModel:t,setIsAssemblyBeingEdited:O,setAssemblyBeingEdited:S}):null,w?i.default.createElement(g.default,{assembly:E}):null,u?i.default.createElement(m.default,{rootModel:t,setFormOpen:h}):null)),i.default.createElement(c.DialogActions,null,P?i.default.createElement(i.default.Fragment,null,i.default.createElement(c.Button,{color:"secondary",variant:"contained",onClick:function(){return r(!1)}},"Close"),i.default.createElement(c.Button,{variant:"contained",color:"secondary",startIcon:i.default.createElement(f.default,null),onClick:function(){return h(!0)}},"Add new assembly")):null))}));t.default=y},2127:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(14),i=r(23),l=n(r(866)),u=n(r(109)),c=r(29),s=(0,i.makeStyles)((function(){return{table:{minWidth:500,minHeight:150},buttonCell:{padding:3},button:{display:"inline-block",padding:3,minHeight:0,minWidth:0}}})),d=(0,o.observer)((function(e){var t=e.rootModel,r=e.setIsAssemblyBeingEdited,n=e.setAssemblyBeingEdited,o=s();var d=t.jbrowse.assemblies.map((function(e){var s=(0,c.readConfObject)(e,"name"),d=(0,c.readConfObject)(e,"displayName"),f=(0,c.readConfObject)(e,"aliases");return a.default.createElement(i.TableRow,{key:s},a.default.createElement(i.TableCell,null,s),a.default.createElement(i.TableCell,null,d),a.default.createElement(i.TableCell,null,f?f.toString():""),a.default.createElement(i.TableCell,{className:o.buttonCell},a.default.createElement(i.IconButton,{"data-testid":"".concat(s,"-edit"),className:o.button,onClick:function(){r(!0),n(e)}},a.default.createElement(l.default,{color:"primary"})),a.default.createElement(i.IconButton,{"data-testid":"".concat(s,"-delete"),className:o.button,onClick:function(){!function(e){t.jbrowse.removeAssemblyConf(e)}(s)}},a.default.createElement(u.default,{color:"error"}))))}));return a.default.createElement(i.TableContainer,{component:i.Paper},a.default.createElement(i.Table,{className:o.table},a.default.createElement(i.TableHead,null,a.default.createElement(i.TableRow,null,a.default.createElement(i.TableCell,null,a.default.createElement(i.Typography,{variant:"h5"},"Name")),a.default.createElement(i.TableCell,null,a.default.createElement(i.Typography,{variant:"h5"},"Display name")),a.default.createElement(i.TableCell,null,a.default.createElement(i.Typography,{variant:"h5"},"Aliases")),a.default.createElement(i.TableCell,null,a.default.createElement(i.Typography,{variant:"h5"},"Actions")))),a.default.createElement(i.TableBody,null,d)))}));t.default=d},2128:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=n(r(905)),c=r(23),s=n(r(97));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var f=(0,c.makeStyles)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},createButton:{marginTop:"1em",justifyContent:"center"},paperContent:{flex:"auto",margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(1),overflow:"auto"}}})),p=(0,l.observer)((function(e){var t=e.adapterSelection,r=e.setAdapterSelection,n=e.adapterTypes;return i.default.createElement(c.TextField,{value:t,label:"Type",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:function(e){r(e.target.value)}},n.map((function(e){return i.default.createElement(c.MenuItem,{key:e,value:e},e)})))})),m=(0,l.observer)((function(e){var t=e.adapterSelection,r=e.fastaLocation,n=e.setFastaLocation,a=e.faiLocation,o=e.setFaiLocation,l=e.gziLocation,s=e.setGziLocation,d=e.twoBitLocation,f=e.setTwoBitLocation,p=e.chromSizesLocation,m=e.setChromSizesLocation;return"IndexedFastaAdapter"===t||"BgzipFastaAdapter"===t?i.default.createElement(c.Grid,{container:!0,spacing:2},i.default.createElement(c.Grid,{item:!0},i.default.createElement(u.default,{name:"fastaLocation",location:r,setLocation:function(e){return n(e)}})),i.default.createElement(c.Grid,{item:!0},i.default.createElement(u.default,{name:"faiLocation",location:a,setLocation:function(e){return o(e)}})),"BgzipFastaAdapter"===t?i.default.createElement(c.Grid,{item:!0},i.default.createElement(u.default,{name:"gziLocation",location:l,setLocation:function(e){return s(e)}})):null):"TwoBitAdapter"===t?i.default.createElement(c.Grid,{container:!0,spacing:2},i.default.createElement(c.Grid,{item:!0},i.default.createElement(u.default,{name:"twoBitLocation",location:d,setLocation:function(e){return f(e)}})),i.default.createElement(c.Grid,{item:!0},i.default.createElement(u.default,{name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:p,setLocation:function(e){return m(e)}}))):null})),g={uri:""},h=(0,l.observer)((function(e){var t=e.rootModel,r=e.setFormOpen,n=f(),a=["IndexedFastaAdapter","BgzipFastaAdapter","TwoBitAdapter"],l=(0,i.useState)(""),u=(0,o.default)(l,2),d=u[0],h=u[1],v=(0,i.useState)(""),y=(0,o.default)(v,2),b=y[0],w=y[1],O=(0,i.useState)(a[0]),C=(0,o.default)(O,2),k=C[0],E=C[1],S=(0,i.useState)(g),P=(0,o.default)(S,2),x=P[0],j=P[1],M=(0,i.useState)(g),T=(0,o.default)(M,2),R=T[0],D=T[1],I=(0,i.useState)(g),A=(0,o.default)(I,2),_=A[0],F=A[1],L=(0,i.useState)(g),N=(0,o.default)(L,2),B=N[0],z=N[1],H=(0,i.useState)(g),W=(0,o.default)(H,2),V=W[0],G=W[1];return i.default.createElement("div",{className:n.root},i.default.createElement(c.Paper,{className:n.paper},i.default.createElement(c.TextField,{id:"assembly-name",inputProps:{"data-testid":"assembly-name"},label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:d,onChange:function(e){return h(e.target.value)}}),i.default.createElement(c.TextField,{id:"assembly-name",inputProps:{"data-testid":"assembly-display-name"},label:"Assembly display name",helperText:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:b,onChange:function(e){return w(e.target.value)}}),i.default.createElement(p,{adapterSelection:k,setAdapterSelection:E,adapterTypes:a}),i.default.createElement("div",{className:n.paperContent},i.default.createElement(m,{adapterSelection:k,fastaLocation:x,setFastaLocation:j,faiLocation:R,setFaiLocation:D,gziLocation:_,setGziLocation:F,twoBitLocation:B,setTwoBitLocation:z,chromSizesLocation:V,setChromSizesLocation:G}))),i.default.createElement(c.Grid,{container:!0,className:n.createButton},i.default.createElement(c.Grid,{item:!0},i.default.createElement(c.Button,{variant:"contained",color:"secondary",startIcon:i.default.createElement(s.default,null),onClick:function(){var e;""===d?t.session.notify("Can't create an assembly without a name"):(r(!1),"IndexedFastaAdapter"===k?e={name:d,displayName:b,sequence:{adapter:{type:"IndexedFastaAdapter",fastaLocation:x,faiLocation:R}}}:"BgzipFastaAdapter"===k?e={name:d,displayName:b,sequence:{adapter:{type:"BgzipFastaAdapter",fastaLocation:x,faiLocation:R,gziLocation:_}}}:"TwoBitAdapter"===k&&(e={name:d,displayName:b,sequence:{adapter:{type:"TwoBitAdapter",twoBitLocation:B,chromSizesLocation:V}}}),t.jbrowse.addAssemblyConf(e),t.session.notify("Successfully added ".concat(d," assembly to JBrowse 2"),"success"))}},"Create new assembly"))))}));t.default=h},2129:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(14),i=r(523),l=(0,o.observer)((function(e){var t=e.assembly;return a.default.createElement(i.ConfigurationEditor,{model:{target:t}})}));t.default=l},2130:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(11)),i=n(r(12)),l=n(r(10)),u=P(r(1)),c=r(23),s=n(r(359)),d=n(r(97)),f=n(r(178)),p=n(r(306)),m=n(r(186)),g=n(r(867)),h=r(208),v=n(r(2131)),y=n(r(204)),b=r(32),w=r(29),O=r(14),C=r(2249);function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function P(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,o.default)(e)&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var x=(0,u.lazy)((function(){return Promise.resolve().then((function(){return P(r(2132))}))})),j=(0,u.lazy)((function(){return Promise.resolve().then((function(){return P(r(2133))}))})),M=(0,u.lazy)((function(){return Promise.resolve().then((function(){return P(r(2134))}))})),T=(0,u.lazy)((function(){return Promise.resolve().then((function(){return P(r(2135))}))})),R=(0,c.makeStyles)((function(e){var t,r;return{searchBox:{margin:e.spacing(2)},menuIcon:{marginRight:e.spacing(1),marginBottom:0},fab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(6)},compactCheckbox:{padding:0},checkboxLabel:{marginRight:0,"&:hover":{backgroundColor:"#eee"}},accordionBase:{display:"flex"},accordionCard:{padding:3,cursor:"pointer",display:"flex"},nestingLevelMarker:{position:"absolute",borderLeft:"1.5px solid #555"},accordionColor:{background:null===(t=e.palette.tertiary)||void 0===t?void 0:t.main,color:null===(r=e.palette.tertiary)||void 0===r?void 0:r.contrastText,width:"100%",display:"flex",paddingLeft:5},accordionText:{margin:"auto 0"}}})),D=function(e){var t=e.data,r=e.isOpen,n=e.style,a=e.setOpen,o=t.isLeaf,i=t.nestingLevel,l=t.checked,s=t.id,d=t.name,m=t.onChange,h=t.toggleCollapse,v=t.conf,y=t.onMoreInfo,b=t.drawerPosition,O=R(),C=10*i+(o?10:0),k=d&&(d.endsWith("(Unsupported)")||d.endsWith("(Unknown)")),E=v&&(0,w.readConfObject)(v,["description"])||"";return u.default.createElement("div",{style:n,className:o?void 0:O.accordionBase},new Array(i).fill(0).map((function(e,t){return u.default.createElement("div",{key:"mark-".concat(t),style:{left:10*t+4,height:n.height},className:O.nestingLevelMarker})})),u.default.createElement("div",{className:o?void 0:O.accordionCard,onClick:function(){h(s),a(!r)},style:{marginLeft:C,whiteSpace:"nowrap",width:"100%"}},u.default.createElement("div",{className:o?void 0:O.accordionColor},o?u.default.createElement(u.default.Fragment,null,u.default.createElement(c.Tooltip,{title:E,placement:"left"===b?"right":"left"},u.default.createElement(c.FormControlLabel,{className:O.checkboxLabel,control:u.default.createElement(c.Checkbox,{className:O.compactCheckbox,checked:l,onChange:function(){return m(s)},color:"primary",disabled:k,inputProps:{"data-testid":"htsTrackEntry-".concat(s)}}),label:d})),u.default.createElement(c.IconButton,{onClick:function(e){return y({target:e.currentTarget,id:s,conf:v})},color:"secondary","data-testid":"htsTrackEntryMenu-".concat(s)},u.default.createElement(g.default,null))):u.default.createElement("div",{className:O.accordionText},u.default.createElement(c.Typography,null,r?u.default.createElement(f.default,null):u.default.createElement(p.default,null),d)))))},I=function(e,t,r){var n=!!e.conf;return{data:E(E({defaultHeight:n?22:40,isLeaf:n,isOpenByDefault:!0,nestingLevel:t},e),r),nestingLevel:t,node:e}},A=(0,O.observer)((function(e){var t,r=e.height,n=e.tree,o=e.model,l=o.filterText,c=o.view,s=(0,u.useRef)(null),d=(0,u.useState)(),f=(0,i.default)(d,2),p=f[0],m=f[1],g=(0,b.getSession)(o),h=g.drawerPosition,v=(0,u.useMemo)((function(){return{onChange:function(e){return c.toggleTrack(e)},toggleCollapse:function(e){return o.toggleCategory(e)},onMoreInfo:m,drawerPosition:h}}),[c,o,h]),w=(0,u.useCallback)(a.default.mark((function e(){var t,r,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<n.children.length)){e.next=7;break}return e.next=4,I(n.children[t],0,v);case 4:t++,e.next=1;break;case 7:return void(e.next=10);case 10:r=e.sent,o=0;case 12:if(!(o<r.node.children.length)){e.next=19;break}return i=r.node.children[o],e.next=16,I(i,r.nestingLevel+1,v);case 16:o++,e.next=12;break;case 19:e.next=7;break;case 21:case"end":return e.stop()}}),e)})),[n,v]),O=null==p?void 0:p.conf,k=O&&(null===(t=g.getTrackActionMenuItems)||void 0===t?void 0:t.call(g,O))||[];return(0,u.useEffect)((function(){s.current.recomputeTree({refreshNodes:!0,useDefaultHeight:!0})}),[n,l]),u.default.createElement(u.default.Fragment,null,u.default.createElement(C.VariableSizeTree,{ref:s,treeWalker:w,height:r},D),u.default.createElement(y.default,{anchorEl:null==p?void 0:p.target,menuItems:k,onMenuItemClick:function(e,t){t(),m(void 0)},open:Boolean(p),onClose:function(){return m(void 0)}}))})),_=function(e){var t=e.tree,r=e.model,n=e.offset;return"undefined"==typeof jest?u.default.createElement(v.default,{disableWidth:!0},(function(e){var a=e.height;return u.default.createElement(A,{height:a-n,model:r,tree:t})})):u.default.createElement(A,{height:9e3,model:r,tree:t})},F=function(e){var t=e.overrideDimensions,r=e.children;return t?u.default.createElement("div",{style:E({},t)},r):u.default.createElement(u.default.Fragment,null,r)},L=(0,O.observer)((function(e){var t=e.model,r=e.toolbarHeight,n=e.overrideDimensions,a=R(),o=(0,b.getSession)(t),l=(0,u.useState)(null),s=(0,i.default)(l,2),f=s[0],p=s[1];function m(){p(null)}return u.default.createElement(F,{overrideDimensions:n},u.default.createElement(B,{model:t,toolbarHeight:r,overrideDimensions:n}),o.addConnectionConf||o.addTrackConf?u.default.createElement(u.default.Fragment,null,u.default.createElement(c.Fab,{color:"secondary",className:a.fab,onClick:function(e){p(e.currentTarget)}},u.default.createElement(d.default,null)),u.default.createElement(c.Menu,{anchorEl:f,open:Boolean(f),onClose:function(){return p(null)}},o.addConnectionConf?u.default.createElement(c.MenuItem,{onClick:function(){m();var e=o.addWidget("AddConnectionWidget","addConnectionWidget");o.showWidget(e)}},"Add connection"):null,o.addTrackConf?u.default.createElement(c.MenuItem,{onClick:function(){m();var e=o.addWidget("AddTrackWidget","addTrackWidget",{view:t.view.id});o.showWidget(e)}},"Add track"):null)):null)})),N=(0,O.observer)((function(e){var t=e.model,r=e.setHeaderHeight,n=e.setAssemblyIdx,a=e.assemblyIdx,o=R(),l=(0,b.getSession)(t),d=(0,u.useState)(),f=(0,i.default)(d,2),p=f[0],g=f[1],v=(0,u.useState)(),O=(0,i.default)(v,2),C=O[0],k=O[1],E=(0,u.useState)(),S=(0,i.default)(E,2),P=S[0],D=S[1],I=(0,u.useState)(),A=(0,i.default)(I,2),_=A[0],F=A[1],L=(0,u.useState)(!1),N=(0,i.default)(L,2),B=N[0],z=N[1],H=(0,u.useState)(!1),W=(0,i.default)(H,2),V=W[0],G=W[1],U=t.assemblyNames,q=U[a];function $(e,t){var r=(0,w.readConfObject)(e,"name"),n=l.prepareToBreakConnection(e);if(n){var a=(0,i.default)(n,2),o=a[0],u=a[1];Object.keys(u).length>0?D({connectionConf:e,safelyBreakConnection:o,dereferenceTypeCount:u,name:r}):o()}t&&F({name:r,connectionConf:e})}var K=[{label:"Turn on/off connections...",onClick:function(){return G(!0)}}];l.addConnectionConf&&(K.unshift({label:"Add connection",onClick:function(){l.showWidget(l.addWidget("AddConnectionWidget","addConnectionWidget"))}}),K.push({label:"Delete connections...",onClick:function(){return z(!0)}}));var J=U.length>1?[{label:"Select assembly...",subMenu:U.map((function(e,t){return{label:e,onClick:function(){n(t)}}}))}]:[],Y=[{label:"Add track...",onClick:function(){l.showWidget(l.addWidget("AddTrackWidget","addTrackWidget",{view:t.view.id}))}}].concat(J);return u.default.createElement("div",{ref:function(e){return r((null==e?void 0:e.getBoundingClientRect().height)||0)},"data-testid":"hierarchical_track_selector"},u.default.createElement("div",{style:{display:"flex"}},l.addTrackConf&&u.default.createElement(c.IconButton,{className:o.menuIcon,onClick:function(e){k(e.currentTarget)}},u.default.createElement(m.default,null)),l.makeConnection&&u.default.createElement(c.IconButton,{className:o.menuIcon,onClick:function(e){g(e.currentTarget)}},u.default.createElement(h.Cable,null)),u.default.createElement(c.TextField,{className:o.searchBox,label:"Filter tracks",value:t.filterText,onChange:function(e){return t.setFilterText(e.target.value)},fullWidth:!0,InputProps:{endAdornment:u.default.createElement(c.InputAdornment,{position:"end"},u.default.createElement(c.IconButton,{color:"secondary",onClick:t.clearFilterText},u.default.createElement(s.default,null)))}})),u.default.createElement(y.default,{anchorEl:p,open:Boolean(p),onMenuItemClick:function(e,t){t(),g(void 0)},onClose:function(){return g(void 0)},menuItems:K}),u.default.createElement(y.default,{anchorEl:C,open:Boolean(C),onMenuItemClick:function(e,t){t(),k(void 0)},onClose:function(){return k(void 0)},menuItems:Y}),u.default.createElement(u.Suspense,{fallback:u.default.createElement("div",null)},P?u.default.createElement(x,{modalInfo:P,setModalInfo:D,session:l}):_?u.default.createElement(j,{handleClose:function(){return F(void 0)},deleteDialogDetails:_,session:l}):null,B?u.default.createElement(M,{handleClose:function(){return z(!1)},breakConnection:$,session:l}):null,V?u.default.createElement(T,{handleClose:function(){return G(!1)},session:l,breakConnection:$,assemblyName:q}):null))})),B=(0,O.observer)((function(e){var t=e.model,r=e.toolbarHeight,n=void 0===r?0:r,a=(0,u.useState)(0),o=(0,i.default)(a,2),l=o[0],c=o[1],s=(0,u.useState)(0),d=(0,i.default)(s,2),f=d[0],p=d[1],m=t.assemblyNames[l];return m?u.default.createElement(u.default.Fragment,null,u.default.createElement(N,{model:t,setHeaderHeight:p,setAssemblyIdx:c,assemblyIdx:l}),u.default.createElement(_,{tree:t.hierarchy(m),model:t,offset:n+f})):null})),z=L;t.default=z},2131:function(e,t,r){"use strict";r.r(t),function(e){var n=r(1),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=void 0;c="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var s=null,d=null,f=c.clearTimeout,p=c.setTimeout,m=c.cancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelAnimationFrame,g=c.requestAnimationFrame||c.mozRequestAnimationFrame||c.webkitRequestAnimationFrame;function h(e){var t=void 0,r=void 0,n=void 0,a=void 0,o=void 0,i=void 0,l=void 0,u="undefined"!=typeof document&&document.attachEvent;if(!u){i=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},l=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=d((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(r){r.call(t,e)})))}))}};var f=!1,p="";n="animationstart";var m="Webkit Moz O ms".split(" "),g="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),h=document.createElement("fakeelement");if(void 0!==h.style.animationName&&(f=!0),!1===f)for(var v=0;v<m.length;v++)if(void 0!==h.style[m[v]+"AnimationName"]){p="-"+m[v].toLowerCase()+"-",n=g[v],f=!0;break}t="@"+p+"keyframes "+(r="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",a=p+"animation: 1ms "+r+"; "}return{addResizeListener:function(o,s){if(u)o.attachEvent("onresize",s);else{if(!o.__resizeTriggers__){var d=o.ownerDocument,f=c.getComputedStyle(o);f&&"static"===f.position&&(o.style.position="relative"),function(r){if(!r.getElementById("detectElementResize")){var n=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=r.head||r.getElementsByTagName("head")[0],i=r.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(r.createTextNode(n)),o.appendChild(i)}}(d),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=d.createElement("div")).className="resize-triggers";var p=d.createElement("div");p.className="expand-trigger",p.appendChild(d.createElement("div"));var m=d.createElement("div");m.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(m),o.appendChild(o.__resizeTriggers__),i(o),o.addEventListener("scroll",l,!0),n&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===r&&i(o)},o.__resizeTriggers__.addEventListener(n,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(s)}},removeResizeListener:function(e,t){if(u)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",l,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(n,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==m||null==g?(s=f,d=function(e){return p(e,20)}):(s=function(e){var t=u(e,2),r=t[0],n=t[1];m(r),f(n)},d=function(e){var t=g((function(){f(r),e()})),r=p((function(){m(t),e()}),20);return[t,r]});var v=function(e){function t(){var e,r,n;a(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return r=n=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.state={height:n.props.defaultHeight||0,width:n.props.defaultWidth||0},n._onResize=function(){var e=n.props,t=e.disableHeight,r=e.disableWidth,a=e.onResize;if(n._parentNode){var o=n._parentNode.offsetHeight||0,i=n._parentNode.offsetWidth||0,l=window.getComputedStyle(n._parentNode)||{},u=parseInt(l.paddingLeft,10)||0,c=parseInt(l.paddingRight,10)||0,s=parseInt(l.paddingTop,10)||0,d=parseInt(l.paddingBottom,10)||0,f=o-s-d,p=i-u-c;(!t&&n.state.height!==f||!r&&n.state.width!==p)&&(n.setState({height:o-s-d,width:i-u-c}),a({height:o,width:i}))}},n._setRef=function(e){n._autoSizer=e},l(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=h(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.className,a=e.disableHeight,o=e.disableWidth,l=e.style,u=this.state,c=u.height,s=u.width,d={overflow:"visible"},f={},p=!1;return a||(0===c&&(p=!0),d.height=0,f.height=c),o||(0===s&&(p=!0),d.width=0,f.width=s),Object(n.createElement)("div",{className:r,ref:this._setRef,style:i({},d,l)},!p&&t(f))}}]),t}(n.PureComponent);v.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.default=v}.call(this,r(49))},2132:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(1)),i=r(23);var l=(0,r(14).observer)((function(e){var t=e.modalInfo,r=void 0===t?{}:t,n=e.setModalInfo,l=r.name,u=r.dereferenceTypeCount,c=r.safelyBreakConnection;return o.default.createElement(i.Dialog,{open:!0},o.default.createElement(i.DialogTitle,null,'Close connection "',l,'"'),o.default.createElement(i.DialogContent,null,u?o.default.createElement(o.default.Fragment,null,o.default.createElement(i.DialogContentText,null,"Closing this connection will close:"),o.default.createElement(i.List,null,Object.entries(u).map((function(e){var t=(0,a.default)(e,2),r=t[0],n=t[1];return o.default.createElement(i.ListItem,{key:r},"".concat(n," ").concat(r))})))):null,o.default.createElement(i.DialogContentText,null,"Are you sure you want to close this connection?")),o.default.createElement(i.DialogActions,null,o.default.createElement(i.Button,{onClick:function(){n()},color:"primary"},"Cancel"),o.default.createElement(i.Button,{variant:"contained",onClick:r?function(){c&&c(),n()}:function(){},color:"primary"},"OK")))}));t.default=l},2133:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(23);var i=(0,r(14).observer)((function(e){var t=e.deleteDialogDetails,r=e.session,n=e.handleClose,i=t.connectionConf,l=t.name;return a.default.createElement(o.Dialog,{open:!0},a.default.createElement(o.DialogTitle,null,'Delete connection "',l,'"'),a.default.createElement(o.DialogContent,null,a.default.createElement(o.DialogContentText,null,"Are you sure you want to delete this connection?")),a.default.createElement(o.DialogActions,null,a.default.createElement(o.Button,{onClick:function(){return n()},color:"primary"},"Cancel"),a.default.createElement(o.Button,{variant:"contained",color:"primary",onClick:function(){var e;i&&(null===(e=r.deleteConnection)||void 0===e||e.call(r,i));n()}},"OK")))}));t.default=i},2134:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(23),i=n(r(40)),l=r(14),u=r(29),c=(0,o.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},connectionContainer:{margin:e.spacing(4),width:500}}}));var s=(0,l.observer)((function(e){var t=e.session,r=e.handleClose,n=e.breakConnection,l=c(),s=t.adminMode,d=t.connections,f=t.sessionConnections;return a.default.createElement(o.Dialog,{open:!0,onClose:r,maxWidth:"lg"},a.default.createElement(o.DialogTitle,null,"Delete connections",a.default.createElement(o.IconButton,{className:l.closeButton,onClick:function(){return r()}},a.default.createElement(i.default,null))),a.default.createElement(o.DialogContent,null,a.default.createElement(o.Typography,null,"Click the X icon to delete the connection from your config completely"),a.default.createElement("div",{className:l.connectionContainer},d.map((function(e){var t=(0,u.readConfObject)(e,"name");return a.default.createElement("div",{key:"conn-".concat(t)},a.default.createElement(o.Typography,null,s||null!=f&&f.includes(e)?a.default.createElement(o.IconButton,{onClick:function(){return n(e,!0)}},a.default.createElement(i.default,{color:"error"})):a.default.createElement(o.Tooltip,{title:"Unable to delete connection in config file as non-admin user"},a.default.createElement(o.IconButton,null,a.default.createElement(i.default,{color:"disabled"}))),t))})),d.length?null:a.default.createElement(o.Typography,null,"No connections found"))),a.default.createElement(o.DialogActions,null,a.default.createElement(o.Button,{onClick:function(){return r()},variant:"contained",color:"primary"},"Close")))}));t.default=s},2135:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(23),i=n(r(40)),l=r(14),u=r(29),c=(0,o.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},connectionContainer:{width:500,margin:e.spacing(4)}}}));var s=(0,l.observer)((function(e){var t=e.session,r=e.handleClose,n=e.assemblyName,l=e.breakConnection,s=c(),d=t.connections,f=t.connectionInstances,p=d.filter((function(e){var t=(0,u.readConfObject)(e,"assemblyNames");return 0===t.length||t.includes(n)}));return a.default.createElement(o.Dialog,{open:!0,onClose:r,maxWidth:"lg"},a.default.createElement(o.DialogTitle,null,"Turn on/off connections",a.default.createElement(o.IconButton,{className:s.closeButton,onClick:function(){return r()}},a.default.createElement(i.default,null))),a.default.createElement(o.DialogContent,null,a.default.createElement(o.Typography,null,"Use the checkbox to turn on/off connections"),a.default.createElement("div",{className:s.connectionContainer},p.map((function(e){var r=(0,u.readConfObject)(e,"name");return a.default.createElement("div",{key:e.connectionId},a.default.createElement(o.FormControlLabel,{control:a.default.createElement(o.Checkbox,{checked:!(null==f||!f.find((function(e){return r===e.name}))),onChange:function(){var r;null!=f&&f.find((function(t){return t.name===(0,u.readConfObject)(e,"name")}))?l(e):null===(r=t.makeConnection)||void 0===r||r.call(t,e)},color:"primary"}),label:r}))})),p.length?null:a.default.createElement(o.Typography,null,"No connections found for ",n))),a.default.createElement(o.DialogActions,null,a.default.createElement(o.Button,{onClick:function(){return r()},variant:"contained",color:"primary"},"Close")))}));t.default=s},2136:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(19)),i=n(r(10)),l=n(r(21)),u=n(r(12)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),s=r(23),d=r(32),f=r(29),p=r(14),m=r(17),g=r(209),h=n(r(2137)),v=n(r(2138));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var O=(0,s.makeStyles)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},stepContent:{margin:e.spacing(1)},alertContainer:{padding:"".concat(e.spacing(2),"px 0px ").concat(e.spacing(2),"px 0px")}}})),C=["Enter track data","Confirm track type"];var k=(0,p.observer)((function(e){var t=e.model,r=(0,c.useState)(0),n=(0,u.default)(r,2),a=n[0],i=n[1],p=O(),y=(0,d.getSession)(t),b=(0,m.getEnv)(y).pluginManager.rootModel.jobsManager,k=t.assembly,E=t.trackAdapter,S=t.trackData,P=t.trackName,x=t.trackType,j=t.textIndexTrack,M=t.textIndexingConf,T=(0,c.useState)(),R=(0,u.default)(T,2),D=R[0],I=R[1];function A(){return _.apply(this,arguments)}function _(){return(_=(0,l.default)(o.default.mark((function e(){var r,n,l,u,c,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a===C.length-1){e.next=3;break}return i(a+1),e.abrupt("return");case 3:r="".concat(P.toLowerCase().replace(/ /g,"_"),"-").concat(Date.now()).concat(y.adminMode?"":"-sessionTrack"),n=y.assemblyManager.get(k),E&&"UNKNOWN"!==E.type?(y.addTrackConf({trackId:r,type:x,name:P,assemblyNames:[k],adapter:w(w({},E),{},{sequenceAdapter:(0,f.getConf)(n,["sequence","adapter"])})}),l={attributes:["Name","ID"],exclude:["CDS","exon"]},t.view?(t.view.showTrack(r),d.isElectron&&j&&(0,d.supportedIndexingAdapters)(E.type)&&(u=P+"-index",c=w(w({},M||l),{},{assemblies:[k],tracks:[r],indexType:"perTrack",name:u,timestamp:(new Date).toISOString()}),s={indexingParams:c,name:u,cancelCallback:function(){b.abortJob()}},b.queueJob(s))):y.notify("Open a new view, or use the track selector in an existing view, to view this track","info"),t.clearData(),y.hideWidget(t)):I("Failed to add track.\nThe configuration of this file is not currently supported.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){I(void 0),i(a-1)}function L(){switch(a){case 0:return!S;case 1:return!(P&&x&&null!=E&&E.type&&k);default:return!0}}return c.default.createElement("div",{className:p.root},c.default.createElement(s.Stepper,{className:p.stepper,activeStep:a,orientation:"vertical"},C.map((function(e,r){return c.default.createElement(s.Step,{key:e},c.default.createElement(s.StepLabel,null,e),c.default.createElement(s.StepContent,null,function(e){switch(e){case 0:return c.default.createElement(v.default,{model:t});case 1:return c.default.createElement(h.default,{model:t});default:return c.default.createElement(s.Typography,null,"Unknown step")}}(r),c.default.createElement("div",{className:p.actionsContainer},c.default.createElement(s.Button,{disabled:0===a,onClick:F,className:p.button},"Back"),c.default.createElement(s.Button,{disabled:L(),variant:"contained",color:"primary",onClick:A,className:p.button,"data-testid":"addTrackNextButton"},a===C.length-1?"Add":"Next")),D?c.default.createElement("div",{className:p.alertContainer},c.default.createElement(g.Alert,{severity:"error"},D)):null))}))))}));t.default=k},2137:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(29),u=r(32),c=r(23),s=n(r(109)),d=n(r(97)),f=r(14),p=r(17),m=r(64);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,c.makeStyles)((function(e){return{spacing:{marginBottom:e.spacing(3)},paper:{display:"flex",flexDirection:"column",padding:e.spacing(1)},spacer:{height:e.spacing(8)},card:{marginTop:e.spacing(1)}}}));function v(e){var t,r=e.trackAdapter,n=e.trackType,a=h();return"SNPCoverageAdapter"===r.type?i.default.createElement(c.Typography,{className:a.spacing},"Selected ",i.default.createElement("code",null,n),". Using adapter"," ",i.default.createElement("code",null,r.type)," with subadapter"," ",i.default.createElement("code",null,null===(t=r.subadapter)||void 0===t?void 0:t.type),". Please enter a track name and, if necessary, update the track type."):i.default.createElement(c.Typography,{className:a.spacing},"Using adapter ",i.default.createElement("code",null,r.type)," and guessing track type"," ",i.default.createElement("code",null,n),". Please enter a track name and, if necessary, update the track type.")}var y=(0,f.observer)((function(e){var t=e.model,r=h(),n=(0,i.useState)(""),a=(0,o.default)(n,2),l=a[0],u=a[1],f=(0,i.useState)(""),p=(0,o.default)(f,2),m=p[0],g=p[1],v=(0,i.useState)(["Name","ID"]),y=(0,o.default)(v,2),b=y[0],w=y[1],O=(0,i.useState)(["CDS","exon"]),C=(0,o.default)(O,2),k=C[0],E=C[1],S=[{label:"Indexing attributes",values:b},{label:"Feature types to exclude",values:k}];return(0,i.useEffect)((function(){t.setTextIndexingConf({attributes:b,exclude:k})}),[t,b,k]),i.default.createElement(c.Paper,{className:r.paper},i.default.createElement(c.InputLabel,null,"Indexing configuration"),S.map((function(e,t){return i.default.createElement(c.Card,{raised:!0,key:e.label,className:r.card},i.default.createElement(c.CardContent,null,i.default.createElement(c.InputLabel,null,e.label),i.default.createElement(c.List,{disablePadding:!0},e.values.map((function(r,n){return i.default.createElement(c.ListItem,{key:n,disableGutters:!0},i.default.createElement(c.TextField,{value:r,InputProps:{endAdornment:i.default.createElement(c.InputAdornment,{position:"end"},i.default.createElement(c.IconButton,{color:"secondary",onClick:function(){var r=e.values.filter((function(e,t){return t!==n}));0===t?w(r):E(r)}},i.default.createElement(s.default,null)))}}))})),i.default.createElement(c.ListItem,{disableGutters:!0},i.default.createElement(c.TextField,{value:0===t?l:m,placeholder:"add new",onChange:function(e){0===t?u(e.target.value):g(e.target.value)},InputProps:{endAdornment:i.default.createElement(c.InputAdornment,{position:"end"},i.default.createElement(c.IconButton,{onClick:function(){if(0===t){var e=b;e.push(l),w(e),u("")}else{var r=k;r.push(m),E(r),g("")}},disabled:0===t?""===l:""===m,color:"secondary","data-testid":"stringArrayAdd-Feat"},i.default.createElement(d.default,null)))}})))))})))})),b=(0,f.observer)((function(e){var t,r,n,a=e.model,o=h(),l=(0,u.getSession)(a),s=a.trackAdapter,d=(0,p.getEnv)(l).pluginManager.getElementTypesInGroup("adapter");return i.default.createElement(c.TextField,{className:o.spacing,value:"UNKNOWN"!==(null==s?void 0:s.type)?null==s?void 0:s.type:"",label:"adapterType",helperText:"Select an adapter type",select:!0,fullWidth:!0,onChange:function(e){a.setAdapterHint(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"adapterTypeSelect"}}},d.filter((function(e){var t,r;return!(null!==(t=e.adapterMetadata)&&void 0!==t&&t.hiddenFromGUI||null!==(r=e.adapterMetadata)&&void 0!==r&&r.category)})).map((function(e){var t,r;return i.default.createElement(c.MenuItem,{key:e.name,value:e.name},null!==(t=e.adapterMetadata)&&void 0!==t&&t.displayName?null===(r=e.adapterMetadata)||void 0===r?void 0:r.displayName:e.name)})),(t=d.filter((function(e){var t;return!(null!==(t=e.adapterMetadata)&&void 0!==t&&t.hiddenFromGUI)})),r="",n=[],t.forEach((function(e){var t,a,o,l,u,s,d,f;null!==(t=e.adapterMetadata)&&void 0!==t&&t.category&&(r!==(null===(a=e.adapterMetadata)||void 0===a?void 0:a.category)&&(r=null===(u=e.adapterMetadata)||void 0===u?void 0:u.category,n.push(i.default.createElement(c.ListSubheader,{key:null===(s=e.adapterMetadata)||void 0===s?void 0:s.category,value:null===(d=e.adapterMetadata)||void 0===d?void 0:d.category},null===(f=e.adapterMetadata)||void 0===f?void 0:f.category))),n.push(i.default.createElement(c.MenuItem,{key:e.name,value:e.name},null!==(o=e.adapterMetadata)&&void 0!==o&&o.displayName?null===(l=e.adapterMetadata)||void 0===l?void 0:l.displayName:e.name)))})),n))}));function w(e){var t=e.model,r=h();return i.default.createElement(i.default.Fragment,null,i.default.createElement(c.Typography,{className:r.spacing},"JBrowse was not able to guess the adapter type for this data, but it may be in the list below. If not, you can"," ",i.default.createElement(c.Link,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse to see if they support this data type or"," ",i.default.createElement(c.Link,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."),i.default.createElement(b,{model:t}))}var O=(0,f.observer)((function(e){var t=e.model,r=h(),n=(0,u.getSession)(t),a=t.trackType,o=(0,p.getEnv)(n).pluginManager.getElementTypesInGroup("track");return i.default.createElement(c.TextField,{className:r.spacing,value:a,label:"trackType",helperText:"Select a track type",select:!0,fullWidth:!0,onChange:function(e){t.setTrackType(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"trackTypeSelect"}}},o.map((function(e){var t=e.name;return i.default.createElement(c.MenuItem,{key:t,value:t},t)})))})),C=(0,f.observer)((function(e){var t=e.model,r=(0,u.getSession)(t),n=t.assembly;return i.default.createElement(c.TextField,{value:n,label:"assemblyName",helperText:"Assembly to which the track will be added",select:!0,fullWidth:!0,onChange:function(e){return t.setAssembly(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"assemblyNameSelect"}}},r.assemblies.map((function(e){return(0,l.readConfObject)(e,"name")})).map((function(e){return i.default.createElement(c.MenuItem,{key:e,value:e},e)})))}));var k=(0,f.observer)((function(e){var t=e.model,r=h(),n=(0,i.useState)(!0),a=(0,o.default)(n,2),l=a[0],s=a[1],d=t.trackName,f=t.trackAdapter,p=t.trackType,g=t.warningMessage,k=t.adapterHint;if(t.unsupported)return i.default.createElement(c.Typography,{className:r.spacing},"This version of JBrowse cannot display data of this type. It is possible, however, that there is a newer version that can display them. You can"," ",i.default.createElement(c.Link,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse or"," ",i.default.createElement(c.Link,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type.");if((null==f?void 0:f.type)===m.UNKNOWN)return i.default.createElement(w,{model:t});if(""===k&&f&&t.setAdapterHint(f.type),null==f||!f.type)return i.default.createElement(c.Typography,null,"Could not recognize this data type.");var E=(0,u.supportedIndexingAdapters)(null==f?void 0:f.type);return i.default.createElement("div",null,f?i.default.createElement(v,{trackAdapter:f,trackType:p}):null,g?i.default.createElement(c.Typography,{style:{color:"orange"}},g):null,i.default.createElement(c.TextField,{className:r.spacing,label:"trackName",helperText:"A name for this track",fullWidth:!0,value:d,onChange:function(e){return t.setTrackName(e.target.value)},inputProps:{"data-testid":"trackNameInput"}}),i.default.createElement(b,{model:t}),i.default.createElement(O,{model:t}),i.default.createElement(C,{model:t}),u.isElectron&&E&&i.default.createElement(c.FormControl,null,i.default.createElement(c.FormControlLabel,{label:"Index track for text searching?",control:i.default.createElement(c.Checkbox,{checked:l,onChange:function(e){s(e.target.checked),t.setTextIndexTrack(e.target.checked)}})})),u.isElectron&&l&&E?i.default.createElement(y,{model:t}):null)}));t.default=k},2138:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(84),i=r(23),l=r(17),u=r(14),c=(0,i.makeStyles)((function(e){return{paper:{display:"flex",flexDirection:"column",padding:e.spacing(1)},spacer:{height:e.spacing(8)}}}));var s=(0,u.observer)((function(e){var t=e.model,r=c(),n=(0,l.getRoot)(t);return a.default.createElement(i.Paper,{className:r.paper},a.default.createElement(o.FileSelector,{name:"Main file",description:"",location:t.trackData,setLocation:t.setTrackData,setName:t.setTrackName,rootModel:n}),a.default.createElement("div",{className:r.spacer}),a.default.createElement(o.FileSelector,{name:"Index file",description:"(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.",location:t.indexTrackData,setLocation:t.setIndexTrackData,setName:t.setTrackName,rootModel:n}))}));t.default=s},2139:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=r(32),l=n(r(70)),u=n(r(277)),c=n(r(278)),s=n(r(202)),d=n(r(279)),f=r(34),p=n(r(54)),m=r(14),g=r(17),h=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),v=n(r(2140)),y=n(r(2141));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}var w=(0,f.makeStyles)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)}}})),O=["Select a Connection Type","Configure Connection"];function C(e){var t=e.model,r=(0,h.useState)({}),n=(0,o.default)(r,2),a=n[0],f=n[1],m=(0,h.useState)({}),b=(0,o.default)(m,2),C=b[0],k=b[1],E=(0,h.useState)(!0),S=(0,o.default)(E,2),P=S[0],x=S[1],j=(0,h.useState)(0),M=(0,o.default)(j,2),T=M[0],R=M[1],D=w(),I=(0,i.getSession)(t),A=(0,g.getEnv)(I).pluginManager;function _(e){f(e),k(e.configSchema.create({connectionId:"".concat(e.name,"-").concat(Date.now())},(0,g.getEnv)(t)))}function F(){var e;T===O.length-1?(e=I.addConnectionConf(C),I.makeConnection(e),I.hideWidget(t)):R(T+1)}function L(){R(T-1)}return h.default.createElement("div",{className:D.root},h.default.createElement(d.default,{className:D.stepper,activeStep:T,orientation:"vertical"},O.map((function(e){return h.default.createElement(u.default,{key:e},h.default.createElement(s.default,null,e),h.default.createElement(c.default,null,function(){switch(T){case 0:return h.default.createElement(y.default,{connectionTypeChoices:A.getElementTypesInGroup("connection"),connectionType:a,setConnectionType:_});case 1:return h.default.createElement(v.default,{connectionType:a,model:C,setModelReady:x});default:return h.default.createElement(p.default,null,"Unknown step")}}(),h.default.createElement("div",{className:D.actionsContainer},h.default.createElement(l.default,{disabled:0===T,onClick:L,className:D.button},"Back"),h.default.createElement(l.default,{disabled:!(0===T&&a.name||1===T&&C&&P),variant:"contained",color:"primary",onClick:F,className:D.button,"data-testid":"addConnectionNext"},T===O.length-1?"Connect":"Next"))))}))))}C.propTypes={model:m.PropTypes.observableObject.isRequired};var k=(0,m.observer)(C);t.default=k},2140:function(e,t,r){"use strict";var n=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(a,l,u):a[l]=e[l]}a.default=e,r&&r.set(e,a);return a}(r(1)),o=r(523);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var l=(0,r(14).observer)((function(e){var t=e.connectionType,r=e.model,n=e.setModelReady,i=t.configEditorComponent||o.ConfigurationEditor;return a.default.createElement(a.Suspense,{fallback:a.default.createElement("div",null,"Loading...")},a.default.createElement(i,{model:{target:r},setModelReady:n}))}));t.default=l},2141:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(56)),i=n(r(96)),l=n(r(83)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=n(r(870));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=function(e){var t=e.connectionTypeChoices,r=e.connectionType,n=e.setConnectionType;return(0,u.useEffect)((function(){r.name||n(t[0])})),r.name?u.default.createElement("form",{autoComplete:"off"},u.default.createElement(l.default,{value:r.name,label:"connectionType",helperText:r.description?u.default.createElement(u.default.Fragment,null,r.description,r.url?u.default.createElement(o.default,{href:r.url,rel:"noopener noreferrer",target:"_blank",color:"secondary"},u.default.createElement(c.default,null)):null):null,select:!0,fullWidth:!0,onChange:function(e){n(t.find((function(t){return t.name===e.target.value})))},variant:"outlined"},t.map((function(e){return u.default.createElement(i.default,{key:e.name,value:e.name},e.displayName||e.name)})))):null};t.default=d},2142:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o.types.compose(s.BaseViewModel,o.types.model("CircularView",{type:o.types.literal("CircularView"),offsetRadians:-Math.PI/2,bpPerPx:2e6,tracks:o.types.array(e.pluggableMstType("track","stateModel")),hideVerticalResizeHandle:!1,hideTrackSelectorButton:!1,lockedFitToWindow:!0,disableImportForm:!1,height:o.types.optional(o.types.refinement("trackHeight",o.types.number,(function(e){return e>=40})),400),minimumRadiusPx:25,spacingPx:10,paddingPx:80,lockedPaddingPx:100,minVisibleWidth:6,minimumBlockWidth:20,displayedRegions:o.types.array(i.Region),scrollX:0,scrollY:0,trackSelectorType:"hierarchical"}).volatile((function(){return{width:0}})).views((function(e){return{get staticSlices(){return(0,d.calculateStaticSlices)(e)},get visibleStaticSlices(){return this.staticSlices.filter(d.sliceIsVisible.bind(this,e))},get visibleSection(){return(0,f.viewportVisibleSection)([e.scrollX,e.scrollX+e.width,e.scrollY,e.scrollY+e.height],this.centerXY,this.radiusPx)},get circumferencePx(){var t,r=0,n=g(this.elidedRegions);try{for(n.s();!(t=n.n()).done;){r+=t.value.widthBp}}catch(e){n.e(e)}finally{n.f()}return r/e.bpPerPx+e.spacingPx*this.elidedRegions.length},get radiusPx(){return this.circumferencePx/(2*Math.PI)},get bpPerRadian(){return e.bpPerPx*this.radiusPx},get pxPerRadian(){return this.radiusPx},get centerXY(){return[this.radiusPx+e.paddingPx,this.radiusPx+e.paddingPx]},get totalBp(){var t,r=0,n=g(e.displayedRegions);try{for(n.s();!(t=n.n()).done;){var a=t.value;r+=a.end-a.start}}catch(e){n.e(e)}finally{n.f()}return r},get maximumRadiusPx(){return e.lockedFitToWindow?Math.min(e.width,e.height)/2-e.lockedPaddingPx:1e6},get maxBpPerPx(){var t=2*Math.PI*e.minimumRadiusPx;return this.totalBp/t},get minBpPerPx(){var e=2*Math.PI*this.maximumRadiusPx;return(0,c.clamp)(this.totalBp/e,1e-10,this.maxBpPerPx)},get atMaxBpPerPx(){return e.bpPerPx>=this.maxBpPerPx},get atMinBpPerPx(){return e.bpPerPx<=this.minBpPerPx},get tooSmallToLock(){return this.minBpPerPx<=1e-10},get figureDimensions(){return[2*this.radiusPx+2*e.paddingPx,2*this.radiusPx+2*e.paddingPx]},get figureWidth(){return this.figureDimensions[0]},get figureHeight(){return this.figureDimensions[1]},get elidedRegions(){var t=[];e.displayedRegions.forEach((function(r){var n=r.end-r.start;if(n/e.bpPerPx<e.minVisibleWidth){var a=t[t.length-1];a&&a.elided?(a.regions.push(m({},r)),a.widthBp+=n):t.push({elided:!0,widthBp:n,regions:[m({},r)]})}else t.push(m(m({},r),{},{widthBp:n}))}));for(var r=0;r<t.length;r+=1){var n=t[r];n.elided&&1===n.regions.length&&(delete n.elided,t[r]=m(m({},n),n.regions[0]))}return t},get assemblyNames(){var t=[];return e.displayedRegions.forEach((function(e){t.includes(e.assemblyName)||t.push(e.assemblyName)})),t},get initialized(){var t=(0,c.getSession)(e).assemblyManager;return this.assemblyNames.every((function(e){var r;return null===(r=t.get(e))||void 0===r?void 0:r.initialized}))}}})).volatile((function(){return{error:void 0}})).actions((function(t){return{setWidth:function(e){return t.width=Math.max(e,100),t.width},setHeight:function(e){return t.height=Math.max(e,40),t.height},resizeHeight:function(e){var r=t.height,n=this.setHeight(t.height+e);return this.setModelViewWhenAdjust(!t.tooSmallToLock),n-r},resizeWidth:function(e){var r=t.width,n=this.setWidth(t.width+e);return this.setModelViewWhenAdjust(!t.tooSmallToLock),n-r},rotateClockwiseButton:function(){this.rotateClockwise(Math.PI/6)},rotateCounterClockwiseButton:function(){this.rotateCounterClockwise(Math.PI/6)},rotateClockwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.17;t.offsetRadians+=e},rotateCounterClockwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.17;t.offsetRadians-=e},zoomInButton:function(){this.setBpPerPx(t.bpPerPx/1.4)},zoomOutButton:function(){this.setBpPerPx(1.4*t.bpPerPx)},setBpPerPx:function(e){t.bpPerPx=(0,c.clamp)(e,t.minBpPerPx,t.maxBpPerPx)},setModelViewWhenAdjust:function(e){t.lockedFitToWindow&&e&&this.setBpPerPx(t.minBpPerPx)},closeView:function(){(0,o.getParent)(t,2).removeView(t)},setDisplayedRegions:function(e){var r=0===t.displayedRegions.length;t.displayedRegions=(0,o.cast)(e),r?this.setBpPerPx(t.minBpPerPx):this.setBpPerPx(t.bpPerPx)},activateTrackSelector:function(){if("hierarchical"===t.trackSelectorType){var e=(0,c.getSession)(t);if((0,c.isSessionModelWithWidgets)(e)){var r=e.addWidget("HierarchicalTrackSelectorWidget","hierarchicalTrackSelector",{view:t});return e.showWidget(r),r}}throw new Error("invalid track selector type ".concat(t.trackSelectorType))},toggleTrack:function(e){this.hideTrack(e)||this.showTrack(e)},setError:function(e){console.error(e),t.error=e},showTrack:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.pluggableConfigSchemaType("track"),i=(0,o.resolveIdentifier)(a,(0,o.getRoot)(t),r),l=e.getTrackType(i.type);if(!l)throw new Error("unknown track type ".concat(i.type));var u=e.getViewType(t.type),c=u.displayTypes.map((function(e){return e.name})),s=i.displays.find((function(e){return c.includes(e.type)})),d=l.stateModel.create(m(m({},n),{},{type:i.type,configuration:i,displays:[{type:s.type,configuration:s}]}));t.tracks.push(d)},addTrackConf:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.type,o=(0,u.readConfObject)(r,"name"),i=e.getTrackType(a);if(!i)throw new Error("unknown track type ".concat(r.type));var l=e.getViewType(t.type),c=l.displayTypes.map((function(e){return e.name})),s=r.displays.find((function(e){return c.includes(e.type)})),d=i.stateModel.create(m(m({},n),{},{name:o,type:a,configuration:r,displays:[{type:s.type,configuration:s}]}));t.tracks.push(d)},hideTrack:function(r){var n=e.pluggableConfigSchemaType("track"),a=(0,o.resolveIdentifier)(n,(0,o.getRoot)(t),r),i=t.tracks.filter((function(e){return e.configuration===a}));return(0,l.transaction)((function(){return i.forEach((function(e){return t.tracks.remove(e)}))})),i.length},toggleFitToWindowLock:function(){return t.lockedFitToWindow=!t.lockedFitToWindow,this.setModelViewWhenAdjust(t.atMinBpPerPx),t.lockedFitToWindow}}})))};var a=n(r(10)),o=r(17),i=r(72),l=r(42),u=r(29),c=r(32),s=r(99),d=r(2143),f=r(932);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},2143:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.Slice=void 0,t.calculateStaticSlices=function(e){var t,r=[],n=0,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}(e.elidedRegions);try{for(a.s();!(t=a.n()).done;){var o=t.value,i=o.widthBp/e.bpPerRadian+e.spacingPx/e.pxPerRadian;r.push(new d(e,o,n,i)),n+=i}}catch(e){a.e(e)}finally{a.f()}return r},t.sliceIsVisible=function(e,t){var r=(0,a.default)(e.visibleSection.theta,2),n=r[0],o=r[1];return(0,c.thetaRangesOverlap)(t.offsetRadians+e.offsetRadians,t.radianWidth,n,o-n)};var a=n(r(12)),o=n(r(15)),i=n(r(16)),l=n(r(10)),u=r(32),c=r(932);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var d=function(){function e(t,r,n,a){(0,o.default)(this,e),this.region=r,this.radianWidth=a,(0,l.default)(this,"key",void 0),(0,l.default)(this,"offsetRadians",void 0),(0,l.default)(this,"startRadians",void 0),(0,l.default)(this,"endRadians",void 0),(0,l.default)(this,"bpPerRadian",void 0),(0,l.default)(this,"flipped",void 0);var i=t.bpPerRadian;this.key=(0,u.assembleLocString)(r),this.offsetRadians=n,this.bpPerRadian=i,this.flipped=!1,this.startRadians=this.offsetRadians,this.endRadians=r.widthBp/this.bpPerRadian+this.offsetRadians,Object.freeze(this)}return(0,i.default)(e,[{key:"bpToXY",value:function(e,t){var r=(this.region.elided?this.region.widthBp/2:this.flipped?this.region.end-e:e-this.region.start)/this.bpPerRadian+this.offsetRadians;return(0,u.polarToCartesian)(t,r)}},{key:"toJSON",value:function(){return(0,u.objectFromEntries)(Object.entries(this))}}]),e}();t.Slice=d},2144:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseChordDisplayComponentFactory",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"BaseChordDisplayModel",{enumerable:!0,get:function(){return o.BaseChordDisplayModel}}),Object.defineProperty(t,"baseChordDisplayConfig",{enumerable:!0,get:function(){return i.baseChordDisplayConfig}});var a=n(r(2145)),o=r(2149),i=r(2151)},2145:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(2146)),o=n(r(2147)),i=n(r(2148));t.default=function(e){var t=e.lib,r=e.load,n=t.react,l=t["mobx-react"],u=l.observer,c=l.PropTypes,s=r(a.default),d=r(o.default),f=r(i.default);function p(e){var t=e.display;return t.error?n.createElement(d,{model:t}):t.filled?n.createElement(f,{model:t}):n.createElement(s,{model:t})}return p.propTypes={display:c.observableObject.isRequired},u(p)}},2146:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12));t.default=function(e){var t=e.lib,r=t.react,n=r.useState,o=r.useEffect,i=t["@material-ui/core/styles"].makeStyles,l=t["mobx-react"].observer,u=i((function(e){return{path:{strokeDasharray:187,strokeDashoffset:50,animation:"$dash ".concat(1.4,"s ease-in-out infinite, $colors ").concat(5.6,"s ease-in-out infinite")},"@keyframes colors":{"0%":{stroke:e.palette.primary.light},"25%":{stroke:e.palette.secondary.light},"50%":{stroke:e.palette.tertiary.light},"75%":{stroke:e.palette.quaternary.light},"100%":{stroke:e.palette.primary.light}},"@keyframes dash":{"0%":{strokeDashoffset:2},"50%":{strokeDashoffset:.5,transform:"rotate(135deg)"},"100%":{strokeDashoffset:2,transform:"rotate(720deg)"}}}}));return l((function(e){var t=e.model.renderProps.radius,i=u(),l=n(!1),c=(0,a.default)(l,2),s=c[0],d=c[1];return o((function(){var e=setTimeout((function(){return d(!0)}),400);return function(){return clearTimeout(e)}})),s?r.createElement("g",null,r.createElement("defs",null,r.createElement("pattern",{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},r.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:"rgba(255,255,255,0.5)",strokeWidth:10}}))),r.createElement("circle",{cx:"0",cy:"0",r:t,fill:"#f1f1f1"}),r.createElement("circle",{cx:"0",cy:"0",r:t,fill:"url(#diagonalHatch)"}),r.createElement("text",{x:"0",y:"0",transform:"rotate(90 0 0)",dominantBaseline:"middle",textAnchor:"middle"},"Loading"),r.createElement("circle",{className:i.path,fill:"none",strokeWidth:"4",strokeLinecap:"round",cx:"0",cy:"0",r:"60"})):null}))}},2147:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=e.jbrequire,r=t("react"),n=t("@material-ui/core/styles").makeStyles,a=t("mobx-react").observer,o=n({errorMessage:{},errorBackground:{},errorText:{}});return a((function(e){var t=e.model,n=t.renderProps.radius,a=t.error,i=o();return r.createElement("g",{className:i.errorMessage},r.createElement("defs",null,r.createElement("pattern",{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},r.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:"rgba(255,0,0,0.5)",strokeWidth:10}}))),r.createElement("circle",{className:i.errorBackground,cx:"0",cy:"0",r:n,fill:"#ffb4b4"}),r.createElement("circle",{className:i.errorPattern,cx:"0",cy:"0",r:n,fill:"url(#diagonalHatch)"}),r.createElement("text",{className:i.errorText,x:"0",y:"0",transform:"rotate(90 0 0)",dominantBaseline:"middle",textAnchor:"middle"},String(a)))}))}},2148:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10));function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.jbrequire,r=t("react"),n=t("mobx-state-tree").isAlive,a=r.useEffect,o=r.useRef,l=t("mobx-react"),u=l.observer,c=l.PropTypes,s=t("react-dom"),d=s.unmountComponentAtNode,f=s.hydrate,p=t("@jbrowse/core/util").rIC;function m(e){var t=e.model,l=t.data,u=t.html,c=t.filled,s=t.renderingComponent,m=o(null);return a((function(){var e=m.current;return e&&c&&(e&&e.innerHTML&&(e.style.display="none",d(e)),e.style.outline="none",e.innerHTML=u,p((function(){if(n(t)){var a=r.createElement(s,i(i({},l),t.renderProps()),null);p((function(){n(t)&&f(a,e)}))}}))),function(){e&&d(e)}})),r.createElement("g",{ref:m})}return m.propTypes={model:c.observableObject.isRequired},u(m)}},2149:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChordDisplayModel=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(10)),l=r(29),u=r(99),c=n(r(366)),s=r(32),d=r(98),f=r(64),p=r(17),m=n(r(2150));function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=p.types.compose("BaseChordDisplay",u.BaseDisplay,p.types.model({bezierRadiusRatio:.1,assemblyName:p.types.maybe(p.types.string)})).volatile((function(){return{filled:!1,reactElement:void 0,data:void 0,message:"",renderingComponent:void 0,refNameMap:void 0}})).actions((function(e){var t=(0,p.getEnv)(e).pluginManager,r=e;return{onChordClick:function(n){(0,l.getConf)(e,"onChordClick",{feature:n,track:r,pluginManager:t})}}})).views((function(e){return{get blockDefinitions(){var t=(0,s.getContainingView)(e).staticSlices;if(!e.refNameMap)return t;var r=JSON.parse(JSON.stringify(t));return r.forEach((function(t){(t.region.elided?t.region.regions:[t.region]).forEach((function(t){var r,n=null===(r=e.refNameMap)||void 0===r?void 0:r[t.refName];n&&t.refName!==n&&(t.refName=n)}))})),r},renderProps:function(){var t=(0,s.getContainingView)(e);return h(h({},(0,f.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,bezierRadius:t.radiusPx*e.bezierRadiusRatio,radius:t.radiusPx,blockDefinitions:this.blockDefinitions,onChordClick:e.onChordClick})},get rendererType(){var t=e,r=(0,p.getEnv)(e).pluginManager.getRendererType(e.rendererTypeName);if(!r)throw new Error('renderer "'.concat(t.rendererTypeName,'" not found'));if(!r.ReactComponent)throw new Error("renderer ".concat(t.rendererTypeName," has no ReactComponent, it may not be completely implemented yet"));return r},isCompatibleWithRenderer:function(e){return!!(e instanceof c.default)},get selectedFeatureId(){if((0,p.isAlive)(e)){var t=(0,s.getSession)(e);if(t){var r=t.selection;return(0,d.isFeature)(r)?r.id():void 0}}}}})).actions((function(e){return{renderStarted:function(){e.filled=!1,e.message="",e.reactElement=void 0,e.data=void 0,e.error=void 0,e.renderingComponent=void 0},renderSuccess:function(t){var r=t.message,n=t.data,a=t.reactElement,o=t.renderingComponent;r?(e.filled=!1,e.message=r,e.reactElement=void 0,e.data=void 0,e.error=void 0,e.renderingComponent=void 0):(e.filled=!0,e.message="",e.reactElement=a,e.data=n,e.error=void 0,e.renderingComponent=o)},renderError:function(t){console.error(t),e.filled=!1,e.message="",e.reactElement=void 0,e.data=void 0,e.error=t,e.renderingComponent=void 0},setRefNameMap:function(t){e.refNameMap=t}}})).actions((function(e){var t=(0,p.getEnv)(e).pluginManager.jbrequire(m.default),r=t.renderReactionData,n=t.renderReactionEffect;return{afterAttach:function(){(0,s.makeAbortableReaction)(e,r,n,{name:"".concat(e.type," ").concat(e.id," rendering"),fireImmediately:!0},e.renderStarted,e.renderSuccess,e.renderError),(0,s.makeAbortableReaction)(e,(function(){return{assemblyNames:(0,f.getTrackAssemblyNames)(e.parentTrack),adapter:(0,l.getConf)((0,p.getParent)(e,2),"adapter"),assemblyManager:(0,s.getSession)(e).assemblyManager}}),function(){var t=(0,o.default)(a.default.mark((function t(r,n){var o,i,l;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.assemblyNames,i=r.adapter,l=r.assemblyManager,t.abrupt("return",l.getRefNameMapForAdapter(i,o[0],{signal:n,sessionId:(0,f.getRpcSessionId)(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),{name:"".concat(e.type," ").concat(e.id," getting refNames"),fireImmediately:!0},(function(){}),(function(t){e.setRefNameMap(t)}),(function(t){console.error(t),e.setError(t)}))}}}));t.BaseChordDisplayModel=v},2150:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(10)),i=n(r(45)),l=n(r(21)),u=["html"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(e){var t=e.jbrequire,r=t("@jbrowse/core/util/tracks").getRpcSessionId,n=t("@jbrowse/core/util").getContainingView,o=t("@jbrowse/core/util").getSession;function c(){return(c=(0,l.default)(a.default.mark((function e(t,r,n){var o,l,c,d,f,p,m,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("cannot render with no props");case 2:if(o=t.rendererType,l=t.rpcManager,c=t.cannotBeRenderedReason,d=t.renderArgs,f=t.renderProps,!c){e.next=5;break}return e.abrupt("return",{message:c});case 5:if(t.renderProps.radius&&t.renderArgs.regions&&t.renderArgs.regions.length){e.next=7;break}return e.abrupt("return",{message:"Skipping render"});case 7:if(n.isCompatibleWithRenderer(o)){e.next=9;break}throw new Error("renderer ".concat(o.name," is not compatible with this display type"));case 9:return e.next=11,o.renderInClient(l,s(s(s({},d),f),{},{signal:r}));case 11:return p=e.sent,m=p.html,g=(0,i.default)(p,u),e.abrupt("return",{html:m,data:g,renderingComponent:o.ReactComponent});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{renderReactionData:function(e){var t,a=n(e),i=e.rendererType;return{rendererType:i,rpcManager:o(a).rpcManager,renderProps:e.renderProps(),renderArgs:{assemblyName:null===(t=a.displayedRegions[0])||void 0===t?void 0:t.assemblyName,adapterConfig:JSON.parse(JSON.stringify(e.adapterConfig)),rendererType:i.name,regions:JSON.parse(JSON.stringify(a.displayedRegions)),blockDefinitions:e.blockDefinitions,sessionId:r(e),timeout:1e6}}},renderReactionEffect:function(e,t,r){return c.apply(this,arguments)}}}},2151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseChordDisplayConfig=void 0;var n=(0,r(29).ConfigurationSchema)("BaseChordDisplay",{onChordClick:{type:"boolean",description:"callback that should be run when a chord in the track is clicked",defaultValue:!1,contextVariable:["feature","track","pluginManager"]}},{explicitIdentifier:"displayId"});t.baseChordDisplayConfig=n},2152:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(14),i=r(84),l=r(32),u=r(23),c=r(210),s=n(r(198)),d=n(r(141)),f=n(r(889)),p=n(r(890)),m=n(r(891)),g=n(r(892)),h=r(208),v=n(r(2153)),y=n(r(2154)),b=(0,u.makeStyles)((function(e){return{root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden",background:"white"},scroller:{overflow:"auto"},sliceRoot:{background:"none",boxSizing:"content-box",display:"block"},iconButton:{padding:"4px",margin:"0 2px 0 2px"},controls:{overflow:"hidden",whiteSpace:"nowrap",position:"absolute",background:c.grey[200],boxSizing:"border-box",borderRight:"1px solid #a2a2a2",borderBottom:"1px solid #a2a2a2",left:0,top:0},importFormContainer:{marginBottom:e.spacing(4)}}})),w=(0,o.observer)((function(e){var t=e.model;return a.default.createElement(a.default.Fragment,null,t.staticSlices.map((function(e){return a.default.createElement(v.default,{key:(0,l.assembleLocString)(e.region.elided?e.region.regions[0]:e.region),model:t,slice:e})})),t.tracks.map((function(e){var r=e.displays[0];return a.default.createElement(r.RenderingComponent,{key:r.id,display:r,view:t})})))})),O=(0,o.observer)((function(e){var t=e.model,r=e.showingFigure,n=b();return a.default.createElement("div",{className:n.controls},a.default.createElement(u.IconButton,{onClick:t.zoomOutButton,className:n.iconButton,title:t.lockedFitToWindow?"unlock to zoom out":"zoom out",disabled:!r||t.atMaxBpPerPx||t.lockedFitToWindow,color:"secondary"},a.default.createElement(s.default,null)),a.default.createElement(u.IconButton,{onClick:t.zoomInButton,className:n.iconButton,title:"zoom in",disabled:!r||t.atMinBpPerPx,color:"secondary"},a.default.createElement(d.default,null)),a.default.createElement(u.IconButton,{onClick:t.rotateCounterClockwiseButton,className:n.iconButton,title:"rotate counter-clockwise",disabled:!r,color:"secondary"},a.default.createElement(f.default,null)),a.default.createElement(u.IconButton,{onClick:t.rotateClockwiseButton,className:n.iconButton,title:"rotate clockwise",disabled:!r,color:"secondary"},a.default.createElement(p.default,null)),a.default.createElement(u.IconButton,{onClick:t.toggleFitToWindowLock,className:n.iconButton,title:t.lockedFitToWindow?"locked model to window size":"unlocked model to zoom further",disabled:t.tooSmallToLock,color:"secondary"},t.lockedFitToWindow?a.default.createElement(m.default,null):a.default.createElement(g.default,null)),t.hideTrackSelectorButton?null:a.default.createElement(u.IconButton,{onClick:t.activateTrackSelector,title:"Open track selector","data-testid":"circular_track_select",color:"secondary"},a.default.createElement(h.TrackSelector,null)))})),C=(0,o.observer)((function(e){var t=e.model,r=b(),n=!!t.displayedRegions.length&&t.figureWidth&&t.figureHeight,o=!n&&!t.disableImportForm,l=n&&!o;return a.default.createElement("div",{className:r.root,style:{width:t.width,height:t.height},"data-testid":t.id},t.error?a.default.createElement(i.ErrorMessage,{error:t.error}):a.default.createElement(a.default.Fragment,null,o?a.default.createElement(y.default,{model:t}):null,a.default.createElement(a.default.Fragment,null,l?a.default.createElement("div",{className:r.scroller,style:{width:t.width,height:t.height}},a.default.createElement("div",{className:r.rotator,style:{transform:["rotate(".concat(t.offsetRadians,"rad)")].join(" "),transition:"transform 0.5s",transformOrigin:t.centerXY.map((function(e){return"".concat(e,"px")})).join(" ")}},a.default.createElement("svg",{style:{position:"absolute",left:0,top:0},className:r.sliceRoot,width:"".concat(t.figureWidth,"px"),height:"".concat(t.figureHeight,"px"),version:"1.1"},a.default.createElement("g",{transform:"translate(".concat(t.centerXY,")")},a.default.createElement(w,{model:t}))))):null,a.default.createElement(O,{model:t,showingFigure:l}),t.hideVerticalResizeHandle?null:a.default.createElement(i.ResizeHandle,{onDrag:t.resizeHeight,style:{height:3,position:"absolute",bottom:0,left:0,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}}))))}));t.default=C},2153:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(33)),o=n(r(1)),i=r(14),l=r(32),u=r(522),c=r(34),s=(0,c.makeStyles)({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function d(e,t,r,n){if(e.flipped){var o=[n,r];r=o[0],n=o[1]}var i=e.bpToXY(r,t),l=e.bpToXY(n,t),u=Math.abs(n-r)/e.bpPerRadian>Math.PI?"1":"0";return["M"].concat((0,a.default)(i),["A",t,t,"0",u,"1"],(0,a.default)(l)).join(" ")}var f=(0,i.observer)((function(e){var t=e.model,r=e.slice,n=(0,c.useTheme)(),i=t.radiusPx+1,u=r.endRadians,s=r.startRadians,d=r.region,f=(0,l.polarToCartesian)(i,s),m=(0,l.polarToCartesian)(i,u),g=(u-s)*i,h=u-s>Math.PI?"1":"0",v=(u+s)/2,y="[".concat(Number(d.regions.length).toLocaleString(),"]");return o.default.createElement(o.default.Fragment,null,o.default.createElement(p,{text:y,view:t,maxWidthPx:g,radians:v,radiusPx:i,title:"".concat(Number(d.regions.length).toLocaleString()," more regions"),color:n.palette.text.primary}),o.default.createElement("path",{d:["M"].concat((0,a.default)(f),["A",i,i,"0",h,"1"],(0,a.default)(m)).join(" "),stroke:n.palette.text.secondary,strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))})),p=(0,i.observer)((function(e){var t=e.view,r=e.text,n=e.maxWidthPx,a=e.radians,i=e.radiusPx,u=e.title,c=e.color,d=s(),f=(0,l.polarToCartesian)(i+5,a);return r?6.5*r.length<n?o.default.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:"translate(".concat(f,") rotate(").concat((0,l.radToDeg)(a)+90,")"),style:{fill:c}},r,o.default.createElement("title",null,u||r)):n>4?(0,l.radToDeg)(a+t.offsetRadians-Math.PI/2)>=180?o.default.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:"translate(".concat(f,") rotate(").concat((0,l.radToDeg)(a),")"),style:{fill:c}},r,o.default.createElement("title",null,u||r)):o.default.createElement("text",{x:0,y:0,className:d.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:"translate(".concat(f,") rotate(").concat((0,l.radToDeg)(a)+180,")"),style:{fill:c}},r,o.default.createElement("title",null,u||r)):null:null})),m=(0,i.observer)((function(e){var t,r=e.model,n=e.slice,a=(0,c.useTheme)(),i=r.radiusPx,s=n.region,f=n.endRadians,m=n.startRadians,g=(f+m)/2,h=(f-m)*i,v=(0,l.getSession)(r).assemblyManager.get(n.region.assemblyName);if(v&&(t=v.getRefNameColor(s.refName)),t)try{t=(0,u.makeContrasting)(t,a.palette.background.paper)}catch(e){t=a.palette.text.primary}else t=a.palette.text.primary;return o.default.createElement(o.default.Fragment,null,o.default.createElement(p,{text:s.refName,view:r,maxWidthPx:h,radians:g,radiusPx:i,color:t}),o.default.createElement("path",{d:d(n,i+1,s.start,s.end),stroke:t,strokeWidth:2,fill:"none"},o.default.createElement("title",null,s.refName)))})),g=(0,i.observer)((function(e){var t=e.model,r=e.slice;return r.region.elided?o.default.createElement(f,{key:(0,l.assembleLocString)(r.region.regions[0]),model:t,slice:r}):o.default.createElement(m,{key:(0,l.assembleLocString)(r.region),model:t,slice:r})}));t.default=g},2154:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=r(14),c=r(32),s=n(r(515)),d=n(r(516));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=(0,l.makeStyles)((function(e){return{importFormContainer:{marginBottom:e.spacing(4)}}})),m=(0,u.observer)((function(e){var t=e.model,r=p(),n=(0,c.getSession)(t),a=t.error,u=n.assemblyNames,f=n.assemblyManager,m=(0,i.useState)(u[0]),g=(0,o.default)(m,2),h=g[0],v=g[1],y=(0,i.useState)(a),b=(0,o.default)(y,2),w=b[0],O=b[1],C=f.get(h),k=u.length?null==C?void 0:C.error:"No configured assemblies",E=(null==C?void 0:C.regions)||[],S=k||w;return i.default.createElement(l.Container,{className:r.importFormContainer},S?i.default.createElement(l.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},i.default.createElement(l.Grid,{item:!0},i.default.createElement(s.default,{error:S}))):null,i.default.createElement(l.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},i.default.createElement(l.Grid,{item:!0},i.default.createElement(d.default,{onChange:function(e){O(void 0),v(e)},session:n,selected:h})),i.default.createElement(l.Grid,{item:!0},i.default.createElement(l.Button,{disabled:!(null!=E&&E.length),onClick:function(){return t.setDisplayedRegions(E)},variant:"contained",color:"primary"},E.length?"Open":"Loading"))))}));t.default=m},2155:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(15)),i=n(r(16)),l=n(r(30)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=n(r(10)),f=n(r(142)),p=r(99),m=n(r(207)),g=n(r(167)),h=n(r(115)),v=r(143),y=r(64),b=r(2188),w=r(2190),O=r(939),C=r(2194),k=r(2196),E=r(2199),S=n(r(2201)),P=r(2204);function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(x=function(e){return e?r:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=x(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,d.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var D=function(e){(0,u.default)(r,e);var t=R(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"supportsSVG",!0),e}return(0,i.default)(r,[{key:"getExpandedRegion",value:function(e){return T(T({},e),{},{start:Math.max(e.start-3,0),end:e.end+3})}}]),r}(m.default),I=function(e){(0,u.default)(n,e);var t=R(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"name","SequencePlugin"),e}return(0,i.default)(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new f.default({name:"TwoBitAdapter",configSchema:E.configSchema,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return j(r(2205))})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,r,n){var a=(0,y.getFileName)(t),o={type:"TwoBitAdapter",twoBitLocation:t};return/\.2bit$/i.test(a)&&!n||"TwoBitAdapter"===n?o:e(t,r,n)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"TwoBitAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new f.default({name:"ChromSizesAdapter",configSchema:w.configSchema,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return j(r(2206))})).then((function(e){return e.default}))}})})),e.addAdapterType((function(){return new f.default({name:"IndexedFastaAdapter",configSchema:C.configSchema,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return j(r(940))})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,r,n){var a=(0,y.getFileName)(t),o={type:"IndexedFastaAdapter",fastaLocation:t,faiLocation:r||(0,y.makeIndex)(t,".fai")};return/\.(fa|fasta|fas|fna|mfa)$/i.test(a)&&!n||"IndexedFastaAdapter"===n?o:e(t,r,n)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"IndexedFastaAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new f.default({name:"BgzipFastaAdapter",configSchema:b.configSchema,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return j(r(2207))})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,r,n){var a=(0,y.getFileName)(t),o={type:"BgzipFastaAdapter",faiLocation:(0,y.makeIndex)(t,".fai"),gziLocation:(0,y.makeIndex)(t,".gzi")};return/\.(fa|fasta|fas|fna|mfa)\.b?gz$/i.test(a)&&!n||"BgzipFastaAdapter"===n?o:e(t,r,n)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"BgzipFastaAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new f.default(T({name:"GCContentAdapter",adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}},e.load(S.default)))})),e.addTrackType((function(){var t=(0,P.createReferenceSeqTrackConfig)(e);return new g.default({name:"ReferenceSequenceTrack",configSchema:t,stateModel:(0,p.createBaseTrackModel)(e,"ReferenceSequenceTrack",t)})})),e.addDisplayType((function(){var e=(0,k.modelFactory)(k.configSchema);return{name:"LinearReferenceSequenceDisplay",configSchema:k.configSchema,stateModel:e,trackType:"ReferenceSequenceTrack",viewType:"LinearGenomeView",ReactComponent:v.BaseLinearDisplayComponent}})),e.addRendererType((function(){return new D({name:"DivSequenceRenderer",ReactComponent:O.ReactComponent,configSchema:O.configSchema,pluginManager:e})}))}}]),n}(h.default);t.default=I},2156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.baseLinearDisplayConfigSchema=void 0;var n=(0,r(29).ConfigurationSchema)("BaseLinearDisplay",{maxFeatureScreenDensity:{type:"number",description:"maximum features per pixel that is displayed in the view, used if byte size estimates not available",defaultValue:.3},fetchSizeLimit:{type:"number",defaultValue:1e6,description:"maximum data to attempt to download for a given track, used if adapter doesn't specify one"}},{explicitIdentifier:"displayId"});t.baseLinearDisplayConfigSchema=n},2157:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLinearDisplay=void 0;var o=n(r(45)),i=n(r(19)),l=n(r(21)),u=n(r(33)),c=n(r(10)),s=n(r(1)),d=r(23),f=r(99),p=r(29),m=r(32),g=n(r(2158)),h=r(98),v=r(64),y=r(42),b=r(17),w=n(r(270)),O=r(933),C=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(2161)),k=["blockState"];function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){var r="undefined"==typeof jest;return"clip-".concat(r?e:"jest","-").concat(t)}var T=b.types.compose("BaseLinearDisplay",f.BaseDisplay,b.types.model({height:b.types.optional(b.types.refinement("displayHeight",b.types.number,(function(e){return e>=20})),100),blockState:b.types.map(C.default),userBpPerPxLimit:b.types.maybe(b.types.number),userByteSizeLimit:b.types.maybe(b.types.number)})).volatile((function(){return{currBpPerPx:0,message:"",featureIdUnderMouse:void 0,contextMenuFeature:void 0,scrollTop:0,estimatedRegionStatsP:void 0,estimatedRegionStats:void 0}})).views((function(e){return{get blockType(){return"staticBlocks"},get blockDefinitions(){var t=this.blockType,r=(0,m.getContainingView)(e);if(!r.initialized)throw new Error("view not initialized yet");return r[t]}}})).views((function(e){return{get renderDelay(){return 50},get TooltipComponent(){return O.Tooltip},get selectedFeatureId(){if((0,b.isAlive)(e)){var t=(0,m.getSession)(e).selection;if((0,h.isFeature)(t))return t.id()}},get DisplayMessageComponent(){}}})).views((function(e){return{get features(){var t,r=[],n=x(e.blockState.values());try{for(n.s();!(t=n.n()).done;){var a=t.value;a&&a.features&&r.push(a.features)}}catch(e){n.e(e)}finally{n.f()}return new g.default(r)},get featureUnderMouse(){var t=e.featureIdUnderMouse;return t?this.features.get(t):void 0},getFeatureOverlapping:function(t,r,n){var a,o;return null===(a=e.blockState.get(t))||void 0===a||null===(o=a.layout)||void 0===o?void 0:o.getByCoord(r,n)},getFeatureByID:function(t,r){var n,a;return null===(n=e.blockState.get(t))||void 0===n||null===(a=n.layout)||void 0===a?void 0:a.getByID(r)},searchFeatureByID:function(t){var r;return e.blockState.forEach((function(e){var n,a=null==e||null===(n=e.layout)||void 0===n?void 0:n.getByID(t);a&&(r=a)})),r},get currentBytesRequested(){var t;return(null===(t=e.estimatedRegionStats)||void 0===t?void 0:t.bytes)||0},get currentFeatureScreenDensity(){var t,r=(0,m.getContainingView)(e);return((null===(t=e.estimatedRegionStats)||void 0===t?void 0:t.featureDensity)||0)*r.bpPerPx},get maxFeatureScreenDensity(){return(0,p.getConf)(e,"maxFeatureScreenDensity")},get estimatedStatsReady(){return!!e.estimatedRegionStats},get maxAllowableBytes(){var t;return e.userByteSizeLimit||(null===(t=e.estimatedRegionStats)||void 0===t?void 0:t.fetchSizeLimit)||(0,p.getConf)(e,"fetchSizeLimit")}}})).actions((function(e){return{setMessage:function(t){e.message=t},afterAttach:function(){var t=this,r=(0,y.autorun)((function(){var r={};(0,m.getContainingView)(e).initialized&&(e.blockDefinitions.contentBlocks.forEach((function(n){r[n.key]=!0,e.blockState.has(n.key)||t.addBlock(n.key,n)})),e.blockState.forEach((function(e,n){r[n]||t.deleteBlock(n)})))}));(0,b.addDisposer)(e,r)},estimateRegionsStats:function(t,r){var n=this;if(e.estimatedRegionStatsP)return e.estimatedRegionStatsP;var a=(0,m.getSession)(e).rpcManager,o=e.adapterConfig;if(!o)return Promise.resolve({});var i=(0,v.getRpcSessionId)(e),l=P({sessionId:i,regions:t,adapterConfig:o,statusCallback:function(t){(0,b.isAlive)(e)&&n.setMessage(t)}},r);return e.estimatedRegionStatsP=a.call(i,"CoreEstimateRegionStats",l).catch((function(e){throw n.setRegionStatsP(void 0),e})),e.estimatedRegionStatsP},setRegionStatsP:function(t){e.estimatedRegionStatsP=t},setRegionStats:function(t){e.estimatedRegionStats=t},clearRegionStats:function(){e.estimatedRegionStatsP=void 0,e.estimatedRegionStats=void 0},setHeight:function(t){return e.height=t>20?t:20,e.height},resizeHeight:function(t){var r=e.height;return this.setHeight(e.height+t)-r},setScrollTop:function(t){e.scrollTop=t},updateStatsLimit:function(t){var r=(0,m.getContainingView)(e);t.bytes?e.userByteSizeLimit=t.bytes:e.userBpPerPxLimit=r.bpPerPx},addBlock:function(t,r){e.blockState.set(t,C.default.create({key:t,region:r.toRegion()}))},setCurrBpPerPx:function(t){e.currBpPerPx=t},deleteBlock:function(t){e.blockState.delete(t)},selectFeature:function(t){var r=(0,m.getSession)(e);if((0,m.isSessionModelWithWidgets)(r)){var n=r.addWidget("BaseFeatureWidget","baseFeature",{view:(0,m.getContainingView)(e),track:(0,m.getContainingTrack)(e),featureData:t.toJSON()});r.showWidget(n)}(0,m.isSelectionContainer)(r)&&r.setSelection(t)},clearFeatureSelection:function(){(0,m.getSession)(e).clearSelection()},setFeatureIdUnderMouse:function(t){e.featureIdUnderMouse=t},reload:function(){(0,u.default)(e.blockState.values()).map((function(e){return e.doReload()}))},setContextMenuFeature:function(t){e.contextMenuFeature=t}}})).views((function(e){return{get regionTooLarge(){var t=(0,m.getContainingView)(e);if(!e.estimatedStatsReady||t.dynamicBlocks.totalBp<2e4)return!1;var r=e.userBpPerPxLimit?t.bpPerPx>e.userBpPerPxLimit:e.currentFeatureScreenDensity>e.maxFeatureScreenDensity;return e.currentBytesRequested>e.maxAllowableBytes||r},get regionTooLargeReason(){var t,r=e.currentBytesRequested,n=e.maxAllowableBytes;return r&&r>n?"Requested too much data (".concat((t=r,Math.floor(t/1e6)>0?"".concat(parseFloat((t/1e6).toPrecision(3))," Mb"):Math.floor(t/1e3)>0?"".concat(parseFloat((t/1e3).toPrecision(3))," Kb"):"".concat(Math.floor(t)," bytes")),")"):""}}})).actions((function(e){var t=e.reload;return{reload:function(){return(0,l.default)(i.default.mark((function r(){var n,a,o;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.setError(),n=new AbortController,(a=(0,m.getContainingView)(e)).initialized&&a.staticBlocks.contentBlocks.length){r.next=5;break}return r.abrupt("return");case 5:return r.prev=5,e.estimatedRegionStatsP=e.estimateRegionsStats(a.staticBlocks.contentBlocks,{signal:n.signal}),r.next=9,e.estimatedRegionStatsP;case 9:if(o=r.sent,!(0,b.isAlive)(e)){r.next=15;break}e.setRegionStats(o),t(),r.next=16;break;case 15:return r.abrupt("return");case 16:r.next=22;break;case 18:r.prev=18,r.t0=r.catch(5),console.error(r.t0),e.setError(r.t0);case 22:case"end":return r.stop()}}),r,null,[[5,18]])})))()},afterAttach:function(){(0,b.addDisposer)(e,(0,y.autorun)((0,l.default)(i.default.mark((function t(){var r,n,a,o,l;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=new AbortController,(a=(0,m.getContainingView)(e)).initialized&&a.staticBlocks.contentBlocks.length){t.next=5;break}return t.abrupt("return");case 5:if(void 0===(null===(r=e.estimatedRegionStats)||void 0===r?void 0:r.featureDensity)){t.next=8;break}return e.setCurrBpPerPx(a.bpPerPx),t.abrupt("return");case 8:if(a.bpPerPx!==e.currBpPerPx){t.next=10;break}return t.abrupt("return");case 10:return e.clearRegionStats(),e.setCurrBpPerPx(a.bpPerPx),o=e.estimateRegionsStats(a.staticBlocks.contentBlocks,{signal:n.signal}),e.setRegionStatsP(o),t.next=16,o;case 16:l=t.sent,(0,b.isAlive)(e)&&e.setRegionStats(l),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),!(0,m.isAbortException)(t.t0)&&(0,b.isAlive)(e)&&(console.error(t.t0),e.setError(t.t0));case 23:case"end":return t.stop()}}),t,null,[[0,20]])}))),{delay:500}))}}})).views((function(e){return{regionCannotBeRenderedText:function(t){return e.regionTooLarge?"Force load to see features":""},regionCannotBeRendered:function(t){var r=e.regionTooLarge,n=e.regionTooLargeReason;if(r)return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Typography,{component:"span",variant:"body2"},n?n+". ":"","Zoom in to see features or"," "),s.default.createElement(d.Button,{"data-testid":"force_reload_button",onClick:function(){e.estimatedRegionStats?(e.updateStatsLimit(e.estimatedRegionStats),e.reload()):console.error("No global stats?")},variant:"outlined"},"Force Load"),s.default.createElement(d.Typography,{component:"span",variant:"body2"},"(force load may be slow)"))},trackMenuItems:function(){return[]},contextMenuItems:function(){return e.contextMenuFeature?[{label:"Open feature details",icon:w.default,onClick:function(){e.contextMenuFeature&&e.selectFeature(e.contextMenuFeature)}}]:[]},renderProps:function(){var t=(0,m.getContainingView)(e);return P(P({},(0,v.getParentRenderProps)(e)),{},{notReady:e.currBpPerPx!==t.bpPerPx||!e.estimatedRegionStats,rpcDriverName:e.rpcDriverName,displayModel:e,onFeatureClick:function(t,r){var n=r||e.featureIdUnderMouse;if(n){var a=e.features.get(n);a&&e.selectFeature(a)}else e.clearFeatureSelection()},onClick:function(){e.clearFeatureSelection()},onFeatureContextMenu:function(t,r){var n=r||e.featureIdUnderMouse;n?e.setContextMenuFeature(e.features.get(n)):e.clearFeatureSelection()},onMouseMove:function(t,r){e.setFeatureIdUnderMouse(r)},onMouseLeave:function(t){e.setFeatureIdUnderMouse(void 0)},onContextMenu:function(){e.setContextMenuFeature(void 0),e.clearFeatureSelection()}})}}})).actions((function(e){return{renderSvg:function(t){return(0,l.default)(i.default.mark((function r(){var n,a,o,l,u,c,d,f;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.height,a=e.id,o=t.overrideHeight,l=(0,m.getContainingView)(e),u=l.offsetPx,c=l.roundedDynamicBlocks,d=l.width,r.next=6,Promise.all(c.map((function(r){var n=C.default.create({key:r.key,region:r}),a=e.regionCannotBeRenderedText(r)||e.regionCannotBeRendered(r);if(a)return{reactElement:s.default.createElement(s.default.Fragment,null,s.default.createElement("rect",{x:0,y:0,width:d,height:20,fill:"#aaa"}),s.default.createElement("text",{x:0,y:15},a))};var o=(0,C.renderBlockData)(n,e),i=o.rpcManager,l=o.renderArgs,u=o.renderProps;return o.rendererType.renderInClient(i,P(P(P({},l),u),{},{viewParams:(0,m.getViewParams)(e,!0),exportSVG:t}))})));case 6:return f=r.sent,r.abrupt("return",s.default.createElement(s.default.Fragment,null,f.map((function(e,t){var r=c[t].offsetPx-u,i=M(a,t);return s.default.createElement(s.default.Fragment,{key:"frag-".concat(t)},s.default.createElement("defs",null,s.default.createElement("clipPath",{id:i},s.default.createElement("rect",{x:0,y:0,width:d,height:o||n}))),s.default.createElement("g",{transform:"translate(".concat(r," 0)")},s.default.createElement("g",{clipPath:"url(#".concat(i,")")},s.default.isValidElement(e.reactElement)?e.reactElement:s.default.createElement("g",{dangerouslySetInnerHTML:{__html:e.html}}))))}))));case 8:case"end":return r.stop()}}),r)})))()}}})).postProcessSnapshot((function(e){e.blockState;return(0,o.default)(e,k)}));t.BaseLinearDisplay=T},2158:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(15)),i=n(r(16));function l(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c=function(e){function t(e){(0,o.default)(this,t),this.submaps=e}return(0,i.default)(t,[{key:"has",value:function(e){var t,r=l(this.submaps.values());try{for(r.s();!(t=r.n()).done;){if(t.value.has(e))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"get",value:function(e){var t,r=l(this.submaps.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;if(n.has(e))return n.get(e)}}catch(e){r.e(e)}finally{r.f()}}},{key:"values",value:a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l(this.keys()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,this.get(n);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"keys",value:a.default.mark((function(){var e,t,r,n,o,i,u,c,s,d;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Set,t=l(this.submaps.values());try{for(t.s();!(r=t.n()).done;){n=r.value,o=l(n.keys());try{for(o.s();!(i=o.n()).done;)u=i.value,e.add(u)}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}c=l(e),a.prev=4,c.s();case 6:if((s=c.n()).done){a.next=12;break}return d=s.value,a.next=10,d;case 10:a.next=6;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),c.e(a.t0);case 17:return a.prev=17,c.f(),a.finish(17);case 20:case"end":return a.stop()}}),e,this,[[4,14,17,20]])}))},{key:"find",value:function(e){var t,r=l(this.submaps.values());try{for(r.s();!(t=r.n()).done;){var n,a=l(t.value.values());try{for(a.s();!(n=a.n()).done;){var o=n.value;if(e(o))return o}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}}},{key:e,value:a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l(this.keys()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,[n,this.get(n)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l(this.keys()),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,[n,this.get(n)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}]),t}(Symbol.iterator);t.default=c},2159:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(36)),i=n(r(10)),l=n(r(12)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(29),s=r(14),d=r(23),f=r(372);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=(0,d.makeStyles)((function(e){return{tooltip:{pointerEvents:"none",backgroundColor:(0,d.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(12),lineHeight:"".concat((t=1.4,Math.round(1e5*t)/1e5),"em"),maxWidth:300,wordWrap:"break-word"}};var t})),v=u.default.forwardRef((function(e,t){var r=e.message;return u.default.createElement("div",{ref:t},r)})),y=(0,s.observer)((function(e){var t=e.model,r=e.clientMouseCoord,n=h(),a=t.featureUnderMouse,i=(0,u.useState)(0),s=(0,l.default)(i,2),p=s[0],m=s[1],y=(0,u.useState)(null),b=(0,l.default)(y,2),w=b[0],O=b[1],C=(0,u.useMemo)((function(){return{getBoundingClientRect:function(){var e=r[0]+p/2+20,t=r[1];return{top:t,left:e,bottom:t,right:e,width:0,height:0,x:e,y:t,toJSON:function(){}}}}}),[r,p]),k=(0,f.usePopper)(C,w),E=k.styles,S=k.attributes,P=a?(0,c.getConf)(t,"mouseover",{feature:a}):void 0;return a&&P?u.default.createElement(d.Portal,null,u.default.createElement("div",(0,o.default)({ref:O,className:n.tooltip,style:g(g({},E.popper),{},{zIndex:1e5})},S.popper),u.default.createElement(v,{ref:function(e){return m((null==e?void 0:e.getBoundingClientRect().width)||0)},message:P}))):null}));t.default=y},2160:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.useStyles=t.default=t.RenderedBlocks=void 0;var a=n(r(11)),o=n(r(1)),i=r(34),l=r(32),u=r(14),c=r(206),s=r(526),d=(0,i.makeStyles)({linearBlocks:{whiteSpace:"nowrap",textAlign:"left",position:"absolute",minHeight:"100%",display:"flex"},heightOverflowed:{position:"absolute",color:"rgb(77,77,77)",borderBottom:"2px solid rgb(77,77,77)",textShadow:"white 0px 0px 1px",whiteSpace:"nowrap",width:"100%",fontWeight:"bold",textAlign:"center",zIndex:2e3,boxSizing:"border-box"}});t.useStyles=d;var f=(0,u.observer)((function(e){var t=e.model,r=d(),n=t.blockDefinitions,i=t.blockState;return o.default.createElement(o.default.Fragment,null,n.map((function(e){if(e instanceof c.ContentBlock){var n=i.get(e.key);return o.default.createElement(s.ContentBlock,{block:e,key:"".concat(t.id,"-").concat(e.key)},n&&n.ReactComponent?o.default.createElement(n.ReactComponent,{model:n}):null,n&&n.maxHeightReached?o.default.createElement("div",{className:r.heightOverflowed,style:{top:n.layout.getTotalHeight()-16,pointerEvents:"none",height:16}},"Max height reached"):null)}if(e instanceof c.ElidedBlock)return o.default.createElement(s.ElidedBlock,{key:"".concat(t.id,"-").concat(e.key),width:e.widthPx});if(e instanceof c.InterRegionPaddingBlock)return o.default.createElement(s.InterRegionPaddingBlock,{key:e.key,width:e.widthPx,style:{background:"none"},boundary:"boundary"===e.variant});throw new Error("invalid block type ".concat((0,a.default)(e)))})))}));t.RenderedBlocks=f;var p=(0,u.observer)((function(e){var t=e.model,r=d(),n=t.blockDefinitions,a=(0,l.getContainingView)(t);return o.default.createElement("div",{"data-testid":"Blockset",className:r.linearBlocks,style:{left:n.offsetPx-a.offsetPx}},o.default.createElement(f,{model:t}))}));t.default=p},2161:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.renderBlockData=v;var a=n(r(19)),o=n(r(10)),i=n(r(21)),l=r(17),u=r(29),c=r(32),s=r(72),d=r(130),f=r(64),p=n(r(2162));function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=l.types.model("BlockState",{key:l.types.string,region:s.Region,reloadFlag:0,isLeftEndOfDisplayedRegion:!1,isRightEndOfDisplayedRegion:!1}).volatile((function(){return{renderInProgress:void 0,filled:!1,reactElement:void 0,features:void 0,layout:void 0,status:"",error:void 0,message:void 0,maxHeightReached:!1,ReactComponent:p.default,renderProps:void 0}})).actions((function(e){var t;return{doReload:function(){e.reloadFlag=e.reloadFlag+1},afterAttach:function(){var t=(0,c.getContainingDisplay)(e);(0,c.makeAbortableReaction)(e,v,y,{name:"".concat(t.id,"/").concat((0,c.assembleLocString)(e.region)," rendering"),delay:t.renderDelay,fireImmediately:!0},this.setLoading,this.setRendered,this.setError)},setStatus:function(t){e.status=t},setLoading:function(r){void 0!==t&&(t.signal.aborted||t.abort()),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,t=r},setMessage:function(r){t&&!t.signal.aborted&&t.abort(),e.filled=!1,e.message=r,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,t=void 0},setRendered:function(r){if(r){var n=r.reactElement,a=r.features,o=r.layout,i=r.maxHeightReached,l=r.renderProps;e.filled=!0,e.message=void 0,e.reactElement=n,e.features=a,e.layout=o,e.error=void 0,e.maxHeightReached=i,e.renderProps=l,t=void 0}},setError:function(r){console.error(r),t&&!t.signal.aborted&&t.abort(),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.maxHeightReached=!1,e.error=r,e.renderProps=void 0,t=void 0,(0,d.isRetryException)(r)&&this.reload()},reload:function(){e.renderInProgress=void 0,e.filled=!1,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.message=void 0,e.maxHeightReached=!1,e.ReactComponent=p.default,e.renderProps=void 0,(0,l.getParent)(e,2).reload()},beforeDestroy:function(){t&&!t.signal.aborted&&t.abort();var r=(0,c.getContainingDisplay)(e),n=(0,c.getSession)(e).rpcManager,a=r.rendererType,o=v((0,l.cast)(e)).renderArgs;o&&a.freeResourcesInClient(n,JSON.parse(JSON.stringify(o))).catch((function(e){console.warn("Error while destroying block",e)}))}}}));function v(e,t){try{var r=t||(0,c.getContainingDisplay)(e),n=(0,c.getSession)(r),a=n.assemblyManager,o=n.rpcManager,i=r.adapterConfig,s=r.rendererType,d=r.error,p=r.parentTrack,m=(0,f.getTrackAssemblyNames)(p),g=e.region.assemblyName;if(!m.includes(g)&&!m.find((function(e){var t;return null===(t=a.get(e))||void 0===t?void 0:t.hasName(g)})))throw new Error("region assembly (".concat(g,") does not match track assemblies (").concat(m,")"));var h=r.renderProps(),v=h.config;(0,u.readConfObject)(v);var y=(0,f.getRpcSessionId)(r),b=(0,c.getContainingView)(r).id;return{rendererType:s,rpcManager:o,renderProps:h,cannotBeRenderedReason:r.regionCannotBeRendered(e.region),displayError:d,renderArgs:{statusCallback:function(t){(0,l.isAlive)(e)&&e.setStatus(t)},assemblyName:e.region.assemblyName,regions:[e.region],adapterConfig:i,rendererType:s.name,sessionId:y,layoutId:b,blockKey:e.key,reloadFlag:e.reloadFlag,timeout:1e6}}}catch(e){return{displayError:e}}}function y(e,t,r){return b.apply(this,arguments)}function b(){return(b=(0,i.default)(a.default.mark((function e(t,r,n){var o,i,u,s,d,f,p,m,h,v,y,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(o=t).rendererType,u=o.renderProps,s=o.rpcManager,d=o.renderArgs,f=o.cannotBeRenderedReason,p=o.displayError,(0,l.isAlive)(n)){e.next=3;break}return e.abrupt("return",void 0);case 3:if(!p){e.next=6;break}return n.setError(p),e.abrupt("return",void 0);case 6:if(!f){e.next=9;break}return n.setMessage(f),e.abrupt("return",void 0);case 9:if(!u.notReady){e.next=11;break}return e.abrupt("return",void 0);case 11:return e.next=13,i.renderInClient(s,g(g(g({},d),u),{},{viewParams:(0,c.getViewParams)(n),signal:r}));case 13:return m=e.sent,h=m.reactElement,v=m.features,y=m.layout,b=m.maxHeightReached,e.abrupt("return",{reactElement:h,features:v,layout:y,maxHeightReached:b});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.default=h},2162:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=n(r(54)),u=r(34),c=r(14),s=r(17),d=r(64),f=n(r(70)),p=n(r(778));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var g=(0,u.makeStyles)((function(e){return{loading:{paddingLeft:"0.6em",backgroundColor:e.palette.action.disabledBackground,backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.5) 5px, rgba(255,255,255,.5) 10px)",height:"100%",width:"100%",pointerEvents:"none",textAlign:"center"},blockMessage:{width:"100%",background:e.palette.action.disabledBackground,padding:e.spacing(2),pointerEvents:"none",textAlign:"center"},blockError:{padding:e.spacing(2),width:"100%",whiteSpace:"normal",color:e.palette.error.main,overflowY:"auto"},blockReactNodeMessage:{width:"100%",background:e.palette.action.disabledBackground,padding:e.spacing(2),textAlign:"center"},dots:{"&::after":{display:"inline-block",animation:"$ellipsis 1.5s infinite",content:'"."',width:"1em",textAlign:"left"}},"@keyframes ellipsis":{"0%":{content:'"."'},"33%":{content:'".."'},"66%":{content:'"..."'}}}}));function h(e){var t=e.children;return i.default.createElement("div",{style:{display:"flex"}},t,t)}var v=(0,c.observer)((function(e){var t=e.model,r=(0,i.useState)(!1),n=(0,o.default)(r,2),a=n[0],u=n[1],c=g();(0,i.useEffect)((function(){var e=!1,t=setTimeout((function(){e||u(!0)}),300);return function(){clearTimeout(t),e=!0}}),[]);var d=t.status,f=(0,s.getParent)(t,2).message||d;return i.default.createElement(i.default.Fragment,null,a?i.default.createElement("div",{className:c.loading},i.default.createElement(l.default,{className:c.dots,variant:"body2"},f?"".concat(f):"Loading")):null)}));function y(e){var t=e.messageContent,r=g();return i.default.isValidElement(t)?i.default.createElement("div",{className:r.blockReactNodeMessage},t):i.default.createElement(l.default,{variant:"body2",className:r.blockMessage},t)}function b(e){var t=e.error,r=e.reload,n=e.displayHeight,a=g();return i.default.createElement("div",{className:a.blockError,style:{height:n}},r?i.default.createElement(f.default,{"data-testid":"reload_button",onClick:r,startIcon:i.default.createElement(p.default,null)},"Reload"):null,i.default.createElement(l.default,{color:"error",variant:"body2",display:"inline"},"".concat(t)))}var w=(0,c.observer)((function(e){var t=e.model;return t.error?i.default.createElement(h,null,i.default.createElement(b,{error:t.error,reload:t.reload,displayHeight:(0,d.getParentRenderProps)(t).displayModel.height})):t.message?i.default.createElement(h,null,i.default.createElement(y,{messageContent:t.message})):t.filled?t.reactElement:i.default.createElement(h,null,i.default.createElement(v,{model:t}))}));t.default=w},2163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchemaFactory",{enumerable:!0,get:function(){return n.configSchemaFactory}}),Object.defineProperty(t,"stateModelFactory",{enumerable:!0,get:function(){return a.stateModelFactory}});var n=r(2164),a=r(2165)},2164:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configSchemaFactory=function(e){return(0,n.ConfigurationSchema)("LinearBareDisplay",{renderer:e.pluggableConfigSchemaType("renderer")},{baseConfiguration:a.baseLinearDisplayConfigSchema,explicitlyTyped:!0})};var n=r(29),a=r(284)},2165:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.stateModelFactory=function(e){return l.types.compose("LinearBareDisplay",u.BaseLinearDisplay,l.types.model({type:l.types.literal("LinearBareDisplay"),configuration:(0,o.ConfigurationReference)(e)})).views((function(e){var t=e.renderProps;return{renderProps:function(){return s(s(s({},t()),(0,i.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,config:e.configuration.renderer})},get rendererTypeName(){return e.configuration.renderer.type}}}))};var a=n(r(10)),o=r(897),i=r(64),l=r(17),u=r(284);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},2166:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.renderToSvg=function(e,t){return S.apply(this,arguments)};var a=n(r(19)),o=n(r(21)),i=n(r(10)),l=n(r(1)),u=r(921),c=r(42),s=r(17),d=r(29),f=r(32),p=n(r(364)),m=n(r(2167)),g=r(131),h=r(934);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=e.model,r=e.fontSize,n=t.offsetPx,a=t.dynamicBlocks,o=a.totalWidthPxWithoutBorders,i=a.totalBp,u=(0,f.getBpDisplayStr)(i),c=Math.max(-n,0),s=c+o;return l.default.createElement(l.default.Fragment,null,l.default.createElement("line",{x1:c,x2:s,y1:10,y2:10,stroke:"black"}),l.default.createElement("line",{x1:c,x2:c,y1:5,y2:15,stroke:"black"}),l.default.createElement("line",{x1:s,x2:s,y1:5,y2:15,stroke:"black"}),l.default.createElement("text",{x:c+(s-c)/2,y:2*r,textAnchor:"middle",fontSize:r},u))}function w(e){var t=e.model,r=e.fontSize,n=e.width,a=t.dynamicBlocks.contentBlocks,o=t.offsetPx,i=t.bpPerPx,u=a.length<5;return l.default.createElement(l.default.Fragment,null,l.default.createElement("defs",null,l.default.createElement("clipPath",{id:"clip-ruler"},l.default.createElement("rect",{x:0,y:0,width:n,height:20}))),a.map((function(e){var t=e.key,n=e.start,a=e.end,c=e.reversed,s=e.offsetPx,d=e.refName,f=s-o;return l.default.createElement("g",{key:"".concat(t),transform:"translate(".concat(f," 0)")},l.default.createElement("text",{x:f/i,y:r,fontSize:r},d),u?l.default.createElement("g",{transform:"translate(0 20)",clipPath:"url(#clip-ruler)"},l.default.createElement(m.default,{start:n,end:a,bpPerPx:i,reversed:c})):l.default.createElement("line",{strokeWidth:1,stroke:"black",x1:n/i,x2:a/i,y1:20,y2:20}))})))}var O=function(e){return e.reduce((function(e,t){return e+t.displays[0].height+20+20}),0)},C=function(e){var t=e.model,r=t.width,n=t.assemblyNames,a=t.showCytobands,o=t.displayedRegions,i=(0,f.getSession)(t).assemblyManager,u=n.length>1?"":n[0],c=i.get(u),s=p.default.create({displayedRegions:JSON.parse(JSON.stringify(o)),interRegionPaddingWidth:0,minimumBlockWidth:t.minimumBlockWidth}),d=t.dynamicBlocks.contentBlocks;s.setVolatileWidth(r),s.showAllRegions();var m=s.dynamicBlocks.contentBlocks[0],v=d[0],O=s.bpToPx(y(y({},v),{},{coord:v.reversed?v.end:v.start}))||0,C=d[d.length-1],k=s.bpToPx(y(y({},C),{},{coord:C.reversed?C.start:C.end}))||0,E=a?100:0;return l.default.createElement("g",{id:"header"},l.default.createElement("text",{x:0,y:15,fontSize:15},u),a?l.default.createElement("g",{transform:"translate(0 ".concat(50,")")},l.default.createElement(h.Cytobands,{overview:s,assembly:c,block:m}),l.default.createElement("rect",{stroke:"red",fill:"rgb(255,0,0,0.1)",width:Math.max(k-O,.5),height:g.HEADER_OVERVIEW_HEIGHT-1,x:O,y:.5}),l.default.createElement("g",{transform:"translate(0,".concat(g.HEADER_OVERVIEW_HEIGHT,")")},l.default.createElement(h.Polygon,{overview:s,model:t,useOffset:!1}))):null,l.default.createElement("g",{transform:"translate(0 ".concat(15+E,")")},l.default.createElement(b,{model:t,fontSize:15})),l.default.createElement("g",{transform:"translate(0 ".concat(50+E,")")},l.default.createElement(w,{model:t,fontSize:15,width:r})))},k=function(e){var t=e.model,r=e.height,n=t.dynamicBlocks,a=t.offsetPx,o=t.interRegionPaddingWidth;return l.default.createElement(l.default.Fragment,null,n.contentBlocks.slice(1).map((function(e){return l.default.createElement("rect",{key:e.key,x:e.offsetPx-a-o,width:o,y:0,height:r,stroke:"none",fill:"grey"})})))};function E(e){var t=e.displayResults,r=e.model,n=e.offset;return l.default.createElement(l.default.Fragment,null,t.map((function(e){var t=e.track,a=e.result,o=n,i=(0,d.getConf)(t,"name")||"Reference sequence (".concat((0,d.readConfObject)((0,s.getParent)(t.configuration),"name"),")"),u=t.displays[0];return n+=u.height+20+20,l.default.createElement("g",{key:t.configuration.trackId,transform:"translate(0 ".concat(o,")")},l.default.createElement("text",{fontSize:15,x:Math.max(-r.offsetPx,0)},i),l.default.createElement("g",{transform:"translate(0 ".concat(20,")")},a,l.default.createElement(k,{model:r,height:u.height})))})))}function S(){return(S=(0,o.default)(a.default.mark((function e(t,r){var n,i,s,d,f,p,m;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.when)((function(){return t.initialized}));case 2:return n=t.width,i=t.tracks,s=t.showCytobands,d=50,f=90+(s?100:0)+20,p=O(i)+f,e.next=8,Promise.all(i.map(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.displays[0],e.next=3,(0,c.when)((function(){return void 0===n.ready||n.ready}));case 3:return e.next=5,n.renderSvg(r);case 5:return o=e.sent,e.abrupt("return",{track:t,result:o});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return m=e.sent,e.abrupt("return",(0,u.renderToStaticMarkup)(l.default.createElement("svg",{width:n,height:p,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,n+2*d,p].toString()},l.default.createElement("rect",{width:n+2*d,height:p,fill:"white"}),l.default.createElement("g",{stroke:"none",transform:"translate(".concat(d," ").concat(15,")")},l.default.createElement(C,{model:t}),l.default.createElement(E,{model:t,displayResults:m,offset:f})))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2167:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(34),o=r(14),i=n(r(0)),l=n(r(1)),u=r(367);var c=(0,a.makeStyles)((function(){return{majorTickLabel:{fontSize:"11px"},majorTick:{stroke:"#555"},minorTick:{stroke:"#999"}}}));function s(e){var t=e.start,r=e.end,n=e.bpPerPx,a=e.reversed,o=e.major,i=e.minor,s=c(),d=(0,u.makeTicks)(t,r,n,o,i);return l.default.createElement(l.default.Fragment,null,d.map((function(e){var o=(a?r-e.base:e.base-t)/n;return l.default.createElement("line",{key:e.base,x1:o,x2:o,y1:0,y2:"major"===e.type?6:4,strokeWidth:1,stroke:"major"===e.type?"#555":"#999",className:"major"===e.type?s.majorTick:s.minorTick,"data-bp":e.base})})),d.filter((function(e){return"major"===e.type})).map((function(e){var o=(a?r-e.base:e.base-t)/n;return l.default.createElement("text",{x:o-3,y:18,key:"label-".concat(e.base),style:{fontSize:"11px"},className:s.majorTickLabel},function e(t){return t<999?String(t):"".concat(e(~~(t/1e3)),",").concat("00".concat(~~(t%1e3)).substr(-3,3))}(e.base+1))})))}s.propTypes={start:i.default.number.isRequired,end:i.default.number.isRequired,bpPerPx:i.default.number.isRequired,reversed:i.default.bool,major:i.default.bool,minor:i.default.bool},s.defaultProps={reversed:!1,major:!0,minor:!0};var d=(0,o.observer)(s);t.default=d},2168:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=r(32),c=r(14),s=n(r(0)),d=r(131);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=(0,l.makeStyles)((function(e){var t=e.palette,r=t.tertiary,n=t.primary;return{rubberBand:{height:"100%",background:r?(0,l.alpha)(r.main,.7):(0,l.alpha)(n.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:r?r.contrastText:n.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}})),m=(0,c.observer)((function(e){var t,r=e.model,n=e.open,a=e.guideX,o=e.overview,c=p(),s=r.cytobandOffset,d=(0,u.getSession)(r).assemblyManager,f=o.pxToBp(a-s),m=d.get(f.assemblyName),g=null==m||null===(t=m.cytobands)||void 0===t?void 0:t.find((function(e){return f.coord>e.get("start")&&f.coord<e.get("end")&&f.refName===m.getCanonicalRefName(e.get("refName"))}));return i.default.createElement(l.Tooltip,{open:n,placement:"top",title:[(0,u.stringify)(f),null==g?void 0:g.get("name")].join(" "),arrow:!0},i.default.createElement("div",{className:c.guide,style:{left:a}}))}));function g(e){var t=e.model,r=e.overview,n=e.ControlComponent,a=void 0===n?i.default.createElement("div",null):n,c=t.cytobandOffset,s=(0,i.useState)(),f=(0,o.default)(s,2),g=f[0],h=f[1],v=(0,i.useState)(),y=(0,o.default)(v,2),b=y[0],w=y[1],O=(0,i.useState)(),C=(0,o.default)(O,2),k=C[0],E=C[1],S=(0,i.useRef)(null),P=(0,i.useRef)(null),x=p(),j=void 0!==g;function M(e){e.preventDefault(),e.stopPropagation(),S.current&&h(e.clientX-S.current.getBoundingClientRect().left)}function T(e){S.current&&E(e.clientX-S.current.getBoundingClientRect().left)}function R(){E(void 0)}if((0,i.useEffect)((function(){function e(e){var t=S.current;if(t&&j){var r=e.clientX-t.getBoundingClientRect().left;w(r)}}function n(){if(S.current&&void 0!==g&&void 0!==b&&Math.abs(b-g)>3&&t.zoomToDisplayedRegions(r.pxToBp(g-c),r.pxToBp(b-c)),S.current&&void 0!==g&&void 0===b){var e=r.pxToBp(g-c);t.centerAt(Math.round(e.coord),e.refName,e.index)}h(void 0),w(void 0),void 0!==g&&E(void 0)}function a(e){"Escape"===e.key&&(h(void 0),w(void 0))}return j?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",n,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",n,!0),window.removeEventListener("keydown",a,!0)}):function(){}}),[j,b,g,t,r,c]),void 0===g)return i.default.createElement("div",{style:{position:"relative"}},void 0!==k?i.default.createElement(m,{model:t,open:!j,overview:r,guideX:k}):null,i.default.createElement("div",{className:x.rubberBandControl,role:"presentation",ref:S,onMouseDown:M,onMouseOut:R,onMouseMove:T},a));var D,I,A=g||0,_=0;if(void 0!==g&&void 0!==b&&(A=b<g?b:g,_=b-g),g&&(D=r.pxToBp(g-c),I=r.pxToBp(g+_-c),b&&b<g)){var F=[I,D];D=F[0],I=F[1]}return i.default.createElement("div",{style:{position:"relative"}},P.current?i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Popover,{className:x.popover,classes:{paper:x.paper},open:!0,anchorEl:P.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},i.default.createElement(l.Typography,null,D?(0,u.stringify)(D):"")),i.default.createElement(l.Popover,{className:x.popover,classes:{paper:x.paper},open:!0,anchorEl:P.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},i.default.createElement(l.Typography,null,I?(0,u.stringify)(I):""))):null,i.default.createElement("div",{ref:P,className:x.rubberBand,style:{left:A,width:Math.abs(_),height:d.HEADER_OVERVIEW_HEIGHT}}),i.default.createElement("div",{"data-testid":"rubberBand_controls",className:x.rubberBandControl,role:"presentation",ref:S,onMouseDown:M,onMouseOut:R,onMouseMove:T},a))}g.propTypes={model:c.PropTypes.objectOrObservableObject.isRequired,overview:c.PropTypes.objectOrObservableObject.isRequired,ControlComponent:s.default.node},g.defaultProps={ControlComponent:i.default.createElement("div",null)};var h=(0,c.observer)(g);t.default=h},2169:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.handleClose,r=l();return a.default.createElement(o.Dialog,{open:!0,maxWidth:"xl",onClose:t},a.default.createElement(o.DialogTitle,null,"Using the search box",t?a.default.createElement(o.IconButton,{className:r.closeButton,onClick:function(){return t()}},a.default.createElement(i.default,null)):null),a.default.createElement(o.Divider,null),a.default.createElement(o.DialogContent,null,a.default.createElement("h3",null,"Searching"),a.default.createElement("ul",null,a.default.createElement("li",null,"Jump to a feature or reference sequence by typing its name in the location box and pressing Enter."),a.default.createElement("li",null,"Jump to a specific region by typing the region into the location box as: ",a.default.createElement("code",null,"ref:start..end")," or ",a.default.createElement("code",null,"ref:start-end"),". Commas are allowed in the start and end coordinates. A space-separated list of locstrings can be used to open up multiple chromosomes at a time")),a.default.createElement("h3",null,"Example Searches"),a.default.createElement("ul",null,a.default.createElement("li",null,a.default.createElement("code",null,"BRCA")," - searches for the feature named BRCA"),a.default.createElement("li",null,a.default.createElement("code",null,"chr4")," - jumps to chromosome 4"),a.default.createElement("li",null,a.default.createElement("code",null,"chr4:79,500,000..80,000,000")," - jumps the region on chromosome 4 between 79.5Mb and 80Mb."),a.default.createElement("li",null,a.default.createElement("code",null,"chr1:1-100 chr2:1-100")," - create a split view of chr1:1-100 and chr2:1-100"),a.default.createElement("li",null,a.default.createElement("code",null,"chr1 chr2 chr3")," - open up multiple chromosomes at once"),a.default.createElement("li",null,a.default.createElement("code",null,"chr1:1-100[rev] chr2:1-100")," - open up the first region in the horizontally flipped orientation"),a.default.createElement("li",null,a.default.createElement("code",null,"chr1 100 200")," - use whitespace separated refname, start, end"))),a.default.createElement(o.Divider,null),a.default.createElement(o.DialogActions,null,a.default.createElement(o.Button,{onClick:function(){return t()},color:"primary"},"Close")))},t.useStyles=void 0;var a=n(r(1)),o=r(23),i=n(r(40)),l=(0,o.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));t.useStyles=l},2170:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.model,r=e.handleClose,n="undefined"!=typeof OffscreenCanvas,a=(0,u.useState)(n),f=(0,l.default)(a,2),g=f[0],h=f[1],v=(0,u.useState)(!1),y=(0,l.default)(v,2),b=y[0],w=y[1],O=(0,u.useState)("jbrowse.svg"),C=(0,l.default)(O,2),k=C[0],E=C[1],S=(0,u.useState)(),P=(0,l.default)(S,2),x=P[0],j=P[1],M=p();return u.default.createElement(c.Dialog,{open:!0,onClose:r},u.default.createElement(c.DialogTitle,null,"Export SVG",u.default.createElement(c.IconButton,{className:M.closeButton,onClick:r},u.default.createElement(d.default,null))),u.default.createElement(c.DialogContent,null,x?u.default.createElement(s.ErrorMessage,{error:x}):b?u.default.createElement(m,null):null,u.default.createElement(c.TextField,{helperText:"filename",value:k,onChange:function(e){return E(e.target.value)}}),n?u.default.createElement(c.FormControlLabel,{control:u.default.createElement(c.Checkbox,{checked:g,onChange:function(){return h((function(e){return!e}))}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):u.default.createElement(c.Typography,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),u.default.createElement(c.DialogActions,null,u.default.createElement(c.Button,{variant:"contained",color:"secondary",onClick:function(){return r()}},"Cancel"),u.default.createElement(c.Button,{variant:"contained",color:"primary",type:"submit",onClick:(0,i.default)(o.default.mark((function e(){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),j(void 0),e.prev=2,e.next=5,t.exportSvg({rasterizeLayers:g,filename:k});case 5:r(),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),j(e.t0),w(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))},"Submit")))};var o=n(r(19)),i=n(r(21)),l=n(r(12)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(23),s=r(84),d=n(r(40));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=(0,c.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function m(){return u.default.createElement("div",null,u.default.createElement(c.CircularProgress,{size:20,style:{marginRight:20}}),u.default.createElement(c.Typography,{display:"inline"},"Creating SVG"))}},2171:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(14),i=r(23),l=r(32),u=n(r(936)),c=r(208),s=n(r(788)),d=n(r(789)),f=r(131),p=n(r(934)),m=n(r(2172)),g=(0,i.makeStyles)((function(e){return{headerBar:{height:f.HEADER_BAR_HEIGHT,display:"flex"},headerForm:{flexWrap:"nowrap",marginRight:7},spacer:{flexGrow:1},panButton:{background:(0,i.alpha)(e.palette.background.paper,.8),height:f.WIDGET_HEIGHT,margin:f.SPACING},bp:{display:"flex",alignItems:"center",marginLeft:5},toggleButton:{height:44,border:"none",margin:e.spacing(.5)},buttonSpacer:{marginRight:e.spacing(2)}}})),h=(0,o.observer)((function(e){var t=e.model,r=g();return a.default.createElement(i.Button,{onClick:t.activateTrackSelector,className:r.toggleButton,title:"Open track selector",value:"track_select",color:"secondary"},a.default.createElement(c.TrackSelector,{className:r.buttonSpacer}))}));function v(e){var t=e.model,r=g();return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Button,{variant:"outlined",className:r.panButton,onClick:function(){return t.slide(-.9)}},a.default.createElement(d.default,null)),a.default.createElement(i.Button,{variant:"outlined",className:r.panButton,onClick:function(){return t.slide(.9)}},a.default.createElement(s.default,null)))}var y=(0,o.observer)((function(e){var t=e.model,r=g(),n=t.coarseTotalBp,o=t.bpPerPx;return a.default.createElement(i.Typography,{variant:"body2",color:"textSecondary",className:r.bp},(0,l.getTickDisplayStr2)(n,o))})),b=function(e){var t=e.model,r=g();return a.default.createElement("div",{className:r.headerBar},a.default.createElement(h,{model:t}),a.default.createElement("div",{className:r.spacer}),a.default.createElement(i.FormGroup,{row:!0,className:r.headerForm},a.default.createElement(v,{model:t}),a.default.createElement(u.default,{model:t})),a.default.createElement(y,{model:t}),a.default.createElement(m.default,{model:t}),a.default.createElement("div",{className:r.spacer}))},w=(0,o.observer)((function(e){var t=e.model;return t.hideHeaderOverview?a.default.createElement(b,{model:t}):a.default.createElement(p.default,{model:t},a.default.createElement(b,{model:t}))}));t.default=w},2172:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=n(r(56)),c=n(r(273)),s=r(34),d=n(r(141)),f=n(r(198));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var m=(0,s.makeStyles)({container:{display:"flex",flexDirection:"row",alignItems:"center"},slider:{width:70}});var g=(0,l.observer)((function(e){var t=e.model,r=m(),n=t.maxBpPerPx,a=t.minBpPerPx,l=t.bpPerPx,s=t.scaleFactor,p=(0,i.useState)(100*-Math.log2(l)),g=(0,o.default)(p,2),h=g[0],v=g[1];return(0,i.useEffect)((function(){v(100*-Math.log2(l))}),[v,l]),i.default.createElement("div",{className:r.container},i.default.createElement(u.default,{"data-testid":"zoom_out",onClick:function(){t.zoom(2*l)},disabled:l>=n-1e-4||1!==s,color:"secondary"},i.default.createElement(f.default,null)),i.default.createElement(c.default,{className:r.slider,value:h,min:100*-Math.log2(n),max:100*-Math.log2(a),onChange:function(e,t){return v(t)},onChangeCommitted:function(){return t.zoomTo(Math.pow(2,-h/100))},disabled:1!==s}),i.default.createElement(u.default,{"data-testid":"zoom_in",onClick:function(){t.zoom(t.bpPerPx/2)},disabled:l<=a+1e-4||1!==s,color:"secondary"},i.default.createElement(d.default,null)))}));t.default=g},2173:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),i=r(14),l=r(17),u=r(29),c=r(84),s=r(32),d=n(r(20)),f=n(r(53)),p=r(34),m=r(131),g=n(r(2174));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var v=(0,p.makeStyles)((function(e){return{root:{marginTop:2},resizeHandle:{height:m.RESIZE_HANDLE_HEIGHT,boxSizing:"border-box",position:"relative",zIndex:2},overlay:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",zIndex:3,borderRadius:e.shape.borderRadius},trackLabel:{zIndex:3},renderingComponentContainer:{position:"absolute",left:-1,height:"100%",width:"100%"},trackLabelInline:{position:"relative",display:"inline-block"},trackLabelOverlap:{position:"absolute"},trackRenderingContainer:{overflowY:"auto",overflowX:"hidden",whiteSpace:"nowrap",position:"relative",background:"none",zIndex:2}}})),y=(0,i.observer)((function(e){var t=e.model,r=e.view,n=v(),a="overlapping"===r.trackLabels?n.trackLabelOverlap:n.trackLabelInline;return"hidden"!==r.trackLabels?o.default.createElement(g.default,{track:t,className:(0,d.default)(n.trackLabel,a)}):null}));var b=(0,i.observer)((function(e){var t=e.model,r=e.track,n=v(),a=r.displays[0],i=t.horizontalScroll,d=t.draggingTrackId,p=t.moveTrack,m=a.height,g=(0,u.getConf)(r,"trackId"),h=(0,o.useRef)(null);(0,o.useEffect)((function(){return h.current&&(t.trackRefs[g]=h.current),function(){delete t.trackRefs[g]}}),[t.trackRefs,g]);var b=(0,s.useDebouncedCallback)((function(){void 0!==d&&(0,l.isAlive)(a)&&d!==a.id&&p(d,r.id)}),100),w=a.RenderingComponent,O=a.DisplayBlurb,C=void 0!==d&&d!==a.id;return o.default.createElement(f.default,{className:n.root,variant:"outlined"},o.default.createElement(y,{model:r,view:t}),o.default.createElement("div",{className:n.trackRenderingContainer,style:{height:m},onScroll:function(e){var t=e.target;a.setScrollTop(t.scrollTop)},onDragEnter:b,"data-testid":"trackRenderingContainer-".concat(t.id,"-").concat(g),role:"presentation"},o.default.createElement("div",{ref:h,className:n.renderingComponentContainer,style:{transform:"scaleX(".concat(t.scaleFactor,")")}},o.default.createElement(w,{model:a,onHorizontalScroll:i})),O?o.default.createElement("div",{style:{position:"absolute",left:0,top:a.height-20}},o.default.createElement(O,{model:a})):null),o.default.createElement("div",{className:n.overlay,style:{height:a.height,background:C?"rgba(0, 0, 0, 0.4)":void 0},onDragEnter:b}),o.default.createElement(c.ResizeHandle,{onDrag:a.resizeHeight,className:n.resizeHandle}))}));t.default=b},2174:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(36)),o=n(r(33)),i=n(r(1)),l=r(29),u=n(r(907)),c=r(32),s=r(23),d=r(326),f=n(r(20)),p=r(14),m=n(r(305)),g=n(r(790)),h=n(r(40)),v=(0,s.makeStyles)((function(e){return{root:{background:(0,s.alpha)(e.palette.background.paper,.8),"&:hover":{background:e.palette.background.paper},transition:e.transitions.create(["background"],{duration:e.transitions.duration.shortest})},trackName:{margin:"0 auto",width:"90%",fontSize:"0.8rem",pointerEvents:"none"},dragHandle:{cursor:"grab",color:"#135560"},dragHandleIcon:{display:"inline-block",verticalAlign:"middle",pointerEvents:"none"},iconButton:{padding:e.spacing(1)}}})),y=i.default.forwardRef((function(e,t){var r,n=e.track,p=e.className,y=v(),b=(0,c.getContainingView)(n),w=(0,c.getSession)(n),O=n.configuration,C=(0,l.getConf)(n,"trackId"),k=(0,d.usePopupState)({popupId:"trackLabelMenu",variant:"popover"}),E=(0,l.getConf)(n,"name");if("ReferenceSequenceTrack"===(0,l.getConf)(n,"type")){var S=w.assemblies.find((function(e){return e.sequence===O}));E=E||(S?"Reference Sequence (".concat((0,l.readConfObject)(S,"name"),")"):"Reference Sequence")}var P=[].concat((0,o.default)((null===(r=w.getTrackActionMenuItems)||void 0===r?void 0:r.call(w,O))||[]),(0,o.default)(n.trackMenuItems())).sort((function(e,t){return(t.priority||0)-(e.priority||0)}));return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.Paper,{ref:t,className:(0,f.default)(p,y.root)},i.default.createElement("span",{draggable:!0,className:y.dragHandle,onDragStart:function(e){var t=e.target;t.parentNode&&(e.dataTransfer.setDragImage(t.parentNode,20,20),b.setDraggingTrackId(n.id))},onDragEnd:function(){b.setDraggingTrackId(void 0)},"data-testid":"dragHandle-".concat(b.id,"-").concat(C)},i.default.createElement(g.default,{className:y.dragHandleIcon})),i.default.createElement(s.IconButton,{onClick:function(){return b.hideTrack(C)},className:y.iconButton,title:"close this track",color:"secondary"},i.default.createElement(h.default,null)),i.default.createElement(s.Typography,{variant:"body1",component:"span",className:y.trackName},E),i.default.createElement(s.IconButton,(0,a.default)({},(0,d.bindTrigger)(k),{className:y.iconButton,color:"secondary","data-testid":"track_menu_icon",disabled:!P.length}),i.default.createElement(m.default,null))),i.default.createElement(u.default,(0,a.default)({},(0,d.bindPopover)(k),{onMenuItemClick:function(e,t){return t()},menuItems:P,popupState:k})))})),b=(0,p.observer)(y);t.default=b},2175:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=r(34),l=r(14),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=n(r(791)),s=r(131),d=n(r(2176)),f=n(r(2177)),p=n(r(2178)),m=n(r(2179));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,i.makeStyles)((function(e){return{tracksContainer:{position:"relative",borderRadius:e.shape.borderRadius,overflow:"hidden"},spacer:{position:"relative",height:s.RESIZE_HANDLE_HEIGHT}}}));var v=(0,l.observer)((function(e){var t=e.children,r=e.model,n=h(),a=(0,u.useRef)(0),i=(0,u.useRef)(!1),l=(0,u.useRef)(),g=(0,u.useRef)(null),v=(0,u.useRef)(0),y=(0,u.useState)(!1),b=(0,o.default)(y,2),w=b[0],O=b[1];return(0,u.useEffect)((function(){var e=function(){};function t(e){e.preventDefault();var t=e.clientX-v.current;t&&(i.current||(i.current=!0,window.requestAnimationFrame((function(){r.horizontalScroll(-t),i.current=!1,v.current=e.clientX}))))}function n(){v.current=0,w&&O(!1)}return w&&(window.addEventListener("mousemove",t,!0),window.addEventListener("mouseup",n,!0),e=function(){window.removeEventListener("mousemove",t,!0),window.removeEventListener("mouseup",n,!0)}),e}),[r,w,v]),(0,u.useEffect)((function(){var e=g.current;function t(e){var t=(0,c.default)(e);!0===e.ctrlKey?(e.preventDefault(),a.current+=t.pixelY/500,r.setScaleFactor(a.current<0?1-a.current:1/(1+a.current)),l.current&&clearTimeout(l.current),l.current=setTimeout((function(){r.setScaleFactor(1),r.zoomTo(a.current>0?r.bpPerPx*(1+a.current):r.bpPerPx/(1-a.current)),a.current=0}),300)):(Math.abs(t.pixelX)>Math.abs(2*t.pixelY)&&e.preventDefault(),a.current+=t.pixelX,i.current||(i.current=!0,window.requestAnimationFrame((function(){r.horizontalScroll(a.current),a.current=0,i.current=!1}))))}return e?(e.addEventListener("wheel",t),function(){e.removeEventListener("wheel",t)}):function(){}}),[r]),u.default.createElement("div",{ref:g,role:"presentation",className:n.tracksContainer,onMouseDown:function(e){var t=e.target;t.draggable||t.dataset.resizer||0===e.button&&(v.current=e.clientX,O(!0))},onMouseUp:function(e){e.preventDefault(),O(!1)},onMouseLeave:function(e){e.preventDefault()}},u.default.createElement(p.default,{model:r}),r.showCenterLine?u.default.createElement(m.default,{model:r}):null,u.default.createElement(d.default,{model:r,ControlComponent:u.default.createElement(f.default,{model:r,style:{height:s.SCALE_BAR_HEIGHT,boxSizing:"border-box"}})}),t)}));t.default=v},2176:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=d(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(23),c=r(32),s=r(84);function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(d=function(e){return e?r:t})(e)}var f=(0,u.makeStyles)((function(e){return{rubberBand:{height:"100%",background:e.palette.tertiary?(0,u.alpha)(e.palette.tertiary.main,.7):(0,u.alpha)(e.palette.primary.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:e.palette.tertiary?e.palette.tertiary.contrastText:e.palette.primary.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}})),p=(0,l.observer)((function(e){var t=e.model,r=e.coordX,n=f();return i.default.createElement(u.Tooltip,{open:!0,placement:"top",title:(0,c.stringify)(t.pxToBp(r)),arrow:!0},i.default.createElement("div",{className:n.guide,style:{left:r,background:"red"}}))}));var m=(0,l.observer)((function(e){var t=e.model,r=e.ControlComponent,n=void 0===r?i.default.createElement("div",null):r,a=(0,i.useState)(),l=(0,o.default)(a,2),d=l[0],m=l[1],g=(0,i.useState)(),h=(0,o.default)(g,2),v=h[0],y=h[1],b=(0,i.useState)(),w=(0,o.default)(b,2),O=w[0],C=w[1],k=(0,i.useState)(),E=(0,o.default)(k,2),S=E[0],P=E[1],x=(0,i.useRef)(null),j=(0,i.useRef)(null),M=f(),T=void 0!==d&&void 0===O,R=t.setOffsets,D=t.pxToBp;function I(e){e.preventDefault(),e.stopPropagation();var t=e.clientX-e.target.getBoundingClientRect().left;m(t),y(t)}function A(e){var t=e.target;P(e.clientX-t.getBoundingClientRect().left)}function _(){P(void 0),t.setOffsets(void 0,void 0)}function F(){C(void 0),m(void 0),y(void 0)}(0,i.useEffect)((function(){function e(e){if(x.current&&T){var t=e.clientX-x.current.getBoundingClientRect().left;y(t)}}function t(e){if(void 0!==d&&x.current){var t=e.clientX,r=e.clientY,n=t-x.current.getBoundingClientRect().left;C({offsetX:n,clientX:t,clientY:r});var a=function(e){if(void 0!==d){var t=d,r=e;if(r<t){var n=[r,t];t=n[0],r=n[1]}return{leftOffset:D(t),rightOffset:D(r)}}}(n);if(a){var o=a.leftOffset,i=a.rightOffset;R(o,i)}P(void 0)}}return T?(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}):function(){}}),[d,T,O,R,D]),(0,i.useEffect)((function(){!T&&void 0!==v&&void 0!==d&&Math.abs(v-d)<=3&&F()}),[T,v,d,t.bpPerPx]);var L=Boolean(O);if(void 0===d)return i.default.createElement(i.default.Fragment,null,void 0!==S?i.default.createElement(p,{model:t,coordX:S}):null,i.default.createElement("div",{"data-testid":"rubberBand_controls",className:M.rubberBandControl,role:"presentation",ref:x,onMouseDown:I,onMouseOut:_,onMouseMove:A},n));var N=O?O.offsetX:v||0,B=N<d?N:d,z=Math.abs(N-d),H=t.pxToBp(B),W=t.pxToBp(B+z),V=Math.ceil(z*t.bpPerPx);return i.default.createElement(i.default.Fragment,null,j.current?i.default.createElement(i.default.Fragment,null,i.default.createElement(u.Popover,{className:M.popover,classes:{paper:M.paper},open:!0,anchorEl:j.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},i.default.createElement(u.Typography,null,(0,c.stringify)(H))),i.default.createElement(u.Popover,{className:M.popover,classes:{paper:M.paper},open:!0,anchorEl:j.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},i.default.createElement(u.Typography,null,(0,c.stringify)(W)))):null,i.default.createElement("div",{ref:j,className:M.rubberBand,style:{left:B,width:z}},i.default.createElement(u.Typography,{variant:"h6",className:M.rubberBandText},V.toLocaleString("en-US")," bp")),i.default.createElement("div",{"data-testid":"rubberBand_controls",className:M.rubberBandControl,role:"presentation",ref:x,onMouseDown:I,onMouseOut:_,onMouseMove:A},n),O?i.default.createElement(s.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:O.clientX,top:O.clientY},onMenuItemClick:function(e,t){t(),F()},open:L,onClose:F,menuItems:t.rubberBandMenuItems()}):null)}));t.default=m},2177:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(36)),o=n(r(10)),i=n(r(45)),l=r(23),u=r(206),c=n(r(20)),s=r(14),d=n(r(1)),f=r(526),p=r(367),m=r(32),g=["model","style","className"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=(0,l.makeStyles)((function(e){return{scaleBarContainer:{overflow:"hidden",position:"relative"},scaleBarZoomContainer:{position:"relative",zIndex:1},scaleBar:{position:"absolute",display:"flex",pointerEvents:"none"},majorTickLabel:{fontSize:"11px",zIndex:1,background:e.palette.background.paper,lineHeight:"normal",pointerEvents:"none"},tick:{position:"absolute",width:0,display:"flex",justifyContent:"center",pointerEvents:"none"},refLabel:{fontSize:"11px",position:"absolute",left:"2px",top:"-1px",fontWeight:"bold",lineHeight:"normal",zIndex:1,pointerEvents:"none",background:e.palette.background.paper}}})),b=(0,s.observer)((function(e){var t=e.model,r=y(),n=0;return t.staticBlocks.forEach((function(e,r){e.offsetPx-t.offsetPx<0&&(n=r)})),d.default.createElement(d.default.Fragment,null,t.staticBlocks.map((function(e,a){return e instanceof u.ContentBlock&&(e.isLeftEndOfDisplayedRegion||a===n)?d.default.createElement(l.Typography,{key:"refLabel-".concat(e.key,"-").concat(a),style:{left:a===n?Math.max(0,-t.offsetPx):e.offsetPx-t.offsetPx-1,paddingLeft:a===n?0:1},className:r.refLabel,"data-testid":"refLabel-".concat(e.refName)},e.refName):null})))})),w=(0,s.observer)((function(e){var t=e.model,r=y(),n=t.bpPerPx;return d.default.createElement(d.default.Fragment,null,t.staticBlocks.map((function(e,a){if(e instanceof u.ContentBlock){var o=e.start,i=e.end,c=(0,p.makeTicks)(o,i,n,!0,!1);return d.default.createElement(f.ContentBlock,{key:"".concat(e.key,"-").concat(a),block:e},c.map((function(a){if("major"===a.type){var o=(e.reversed?e.end-a.base:a.base-e.start)/t.bpPerPx,i=a.base+1;return d.default.createElement("div",{key:a.base,className:r.tick,style:{left:o}},i?d.default.createElement(l.Typography,{className:r.majorTickLabel},(0,m.getTickDisplayStr)(i,n)):null)}return null})))}return e instanceof u.ElidedBlock?d.default.createElement(f.ElidedBlock,{key:e.key,width:e.widthPx}):e instanceof u.InterRegionPaddingBlock?d.default.createElement(f.InterRegionPaddingBlock,{key:e.key,width:e.widthPx,style:{background:"none"},boundary:"boundary"===e.variant}):null})))})),O=d.default.forwardRef((function(e,t){var r=e.model,n=e.style,o=e.className,u=(0,i.default)(e,g),s=y(),f=r.staticBlocks.offsetPx-r.offsetPx;return d.default.createElement(l.Paper,(0,a.default)({"data-resizer":"true",className:(0,c.default)(s.scaleBarContainer,o),variant:"outlined",ref:t,style:n},u),d.default.createElement("div",{className:s.scaleBarZoomContainer,style:{transform:1!==r.scaleFactor?"scaleX(".concat(r.scaleFactor,")"):void 0}},d.default.createElement("div",{className:s.scaleBar,style:v({left:f-1,width:r.staticBlocks.totalWidthPx},n)},d.default.createElement(w,{model:r}))),d.default.createElement(b,{model:r}))})),C=(0,s.observer)(O);t.default=C},2178:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(206),o=r(34),i=n(r(20)),l=r(14),u=n(r(1)),c=r(526),s=r(367),d=(0,o.makeStyles)((function(e){return{verticalGuidesZoomContainer:{position:"absolute",height:"100%",width:"100%",zIndex:1,pointerEvents:"none"},verticalGuidesContainer:{position:"absolute",height:"100%",zIndex:1,pointerEvents:"none",display:"flex"},tick:{position:"absolute",height:"100%",width:1},majorTick:{background:e.palette.text.hint},minorTick:{background:e.palette.divider}}})),f=(0,l.observer)((function(e){var t=e.model,r=d();return u.default.createElement(u.default.Fragment,null,t.staticBlocks.map((function(e,n){if(e instanceof a.ContentBlock){var o=(0,s.makeTicks)(e.start,e.end,t.bpPerPx);return u.default.createElement(c.ContentBlock,{key:"".concat(e.key,"-").concat(n),block:e},o.map((function(n){var a=(e.reversed?e.end-n.base:n.base-e.start)/t.bpPerPx;return u.default.createElement("div",{key:n.base,className:(0,i.default)(r.tick,"major"===n.type||"labeledMajor"===n.type?r.majorTick:r.minorTick),style:{left:a}})})))}return e instanceof a.ElidedBlock?u.default.createElement(c.ElidedBlock,{key:e.key,width:e.widthPx}):e instanceof a.InterRegionPaddingBlock?u.default.createElement(c.InterRegionPaddingBlock,{key:e.key,width:e.widthPx,boundary:"boundary"===e.variant}):null})))}));var p=(0,l.observer)((function(e){var t=e.model,r=d(),n=t.staticBlocks.offsetPx-t.offsetPx;return u.default.createElement("div",{className:r.verticalGuidesZoomContainer,style:{transform:1!==t.scaleFactor?"scaleX(".concat(t.scaleFactor,")"):void 0}},u.default.createElement("div",{className:r.verticalGuidesContainer,style:{left:n,width:t.staticBlocks.totalWidthPx}},u.default.createElement(f,{model:t})))}));t.default=p},2179:function(e,t,r){"use strict";var n=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(34),o=r(14),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(r(1));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}var u=(0,a.makeStyles)((function(){return{centerLineContainer:{background:"transparent",height:"100%",zIndex:5,position:"absolute",border:"1px black dashed",borderTop:"none",borderBottom:"none",pointerEvents:"none"},centerLineText:{position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",fontWeight:"bold"}}}));function c(e){var t=e.model,r=t.bpPerPx,n=t.centerLineInfo,a=t.trackHeights,o=t.tracks,l=t.width,c=(0,i.useRef)(null),s=u(),d=l/2;return o.length?i.default.createElement("div",{"data-testid":"centerline_container",className:s.centerLineContainer,role:"presentation",ref:c,style:{left:"".concat(d,"px"),width:Math.max(1/r,1)}},n&&i.default.createElement("div",{"data-testid":"centerline_text",className:s.centerLineText,role:"presentation",style:{left:Math.max(1/r,1)+5,top:a}},n.refName,":"," ",Math.max(Math.round(n.offset)+1,0))):null}c.propTypes={model:o.PropTypes.objectOrObservableObject.isRequired};var s=(0,o.observer)(c);t.default=s},2180:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(11)),i=n(r(33)),l=n(r(21)),u=n(r(12)),c=w(r(1)),s=r(14),d=r(32),f=r(23),p=n(r(515)),m=n(r(528)),g=n(r(516)),h=n(r(40)),v=n(r(527)),y=r(131);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,o.default)(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var O=(0,c.lazy)((function(){return Promise.resolve().then((function(){return w(r(938))}))})),C=(0,f.makeStyles)((function(e){return{importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)},container:{padding:e.spacing(4)}}})),k=(0,s.observer)((function(e){var t,r=e.model,n=C(),o=(0,d.getSession)(r),s=o.assemblyNames,b=o.assemblyManager,w=o.textSearchManager,k=r.rankSearchResults,E=r.isSearchDialogDisplayed,S=r.error,P=(0,c.useState)(s[0]),x=(0,u.default)(P,2),j=x[0],M=x[1],T=(0,c.useState)(S),R=(0,u.default)(T,2),D=R[0],I=R[1],A=r.searchScope(j),_=b.get(j),F=s.length?null==_?void 0:_.error:"No configured assemblies",L=(null==_?void 0:_.regions)||[],N=F||D,B=(0,c.useState)(""),z=(0,u.default)(B,2),H=z[0],W=z[1],V=H||(null===(t=L[0])||void 0===t?void 0:t.refName),G=new m.default({label:V});function U(e,t){return q.apply(this,arguments)}function q(){return(q=(0,l.default)(a.default.mark((function e(t,r){var n,o,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w||console.warn("No text search manager"),e.next=3,null==w?void 0:w.search({queryString:t,searchType:r},A,k);case 3:return o=e.sent,l=null==_||null===(n=_.allRefNames)||void 0===n?void 0:n.filter((function(e){return e.startsWith(t)})).map((function(e){return new m.default({label:e})})).slice(0,10),e.abrupt("return",[].concat((0,i.default)(l||[]),(0,i.default)(o||[])));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=(0,l.default)(a.default.mark((function e(t){var n,i,l,c,s,d,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(G){e.next=2;break}return e.abrupt("return");case 2:if(n=G.getTrackId(),i=t||G.getLocation()||"",l=i.split(":"),c=(0,u.default)(l,2),s=c[0],d=c[1],f=(null==_?void 0:_.allRefNames)||[],e.prev=6,!(f.includes(i)||f.includes(s)&&void 0!==d&&!Number.isNaN(parseInt(d,10)))){e.next=11;break}r.navToLocString(i,j),e.next=22;break;case 11:return e.next=13,U(t,"exact");case 13:if(!((p=e.sent).length>1)){e.next=19;break}return r.setSearchResults(p,t.toLowerCase()),e.abrupt("return");case 19:1===p.length&&(i=p[0].getLocation(),n=p[0].getTrackId());case 20:r.navToLocString(i,j),n&&r.showTrack(n);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(6),console.error(e.t0),o.notify("".concat(e.t0),"warning");case 28:case"end":return e.stop()}}),e,null,[[6,24]])})))).apply(this,arguments)}var K=y.WIDGET_HEIGHT+5;return c.default.createElement("div",{className:n.container},N?c.default.createElement(p.default,{error:N}):null,c.default.createElement(f.Container,{className:n.importFormContainer},c.default.createElement("form",{onSubmit:function(e){e.preventDefault(),r.setError(void 0),V&&function(e){$.apply(this,arguments)}(V)}},c.default.createElement(f.Grid,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},c.default.createElement(f.Grid,{item:!0},c.default.createElement(g.default,{onChange:function(e){I(""),M(e)},session:o,selected:j,InputProps:{style:{height:K}}})),c.default.createElement(f.Grid,{item:!0},j?N?c.default.createElement(h.default,{style:{color:"red"}}):V?c.default.createElement(v.default,{fetchResults:U,model:r,assemblyName:F?void 0:j,value:V,minWidth:270,onChange:function(e){return W(e)},TextFieldProps:{variant:"outlined",helperText:"Enter sequence name, feature name, or location",style:{minWidth:"175px"},InputProps:{style:{height:K}}}}):c.default.createElement(f.CircularProgress,{role:"progressbar",size:20,disableShrink:!0}):null),c.default.createElement(f.Grid,{item:!0},c.default.createElement(f.Button,{type:"submit",disabled:!V,className:n.button,variant:"contained",color:"primary"},"Open"),c.default.createElement(f.Button,{disabled:!V,className:n.button,onClick:function(){r.setError(void 0),r.showAllRegionsInAssembly(j)},variant:"contained",color:"secondary"},"Show all regions in assembly"))))),E?c.default.createElement(O,{model:r,optAssemblyName:j,handleClose:function(){return r.setSearchResults(void 0,void 0)}}):null)}));t.default=k},2181:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=n(r(56)),c=n(r(141)),s=n(r(198)),d=n(r(793)),f=n(r(53)),p=n(r(204));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}var g=(0,l.observer)((function(e){var t=e.model,r=t.bpPerPx,n=t.maxBpPerPx,a=t.minBpPerPx,l=t.scaleFactor,m=(0,i.useState)(),g=(0,o.default)(m,2),h=g[0],v=g[1];return i.default.createElement(i.default.Fragment,null,i.default.createElement(f.default,{style:{background:"#aaa7"}},i.default.createElement(u.default,{color:"secondary",onClick:function(e){v(e.currentTarget)}},i.default.createElement(d.default,null)),i.default.createElement(u.default,{"data-testid":"zoom_out",onClick:function(){t.zoom(2*r)},disabled:r>=n-1e-4||1!==l,color:"secondary"},i.default.createElement(s.default,null)),i.default.createElement(u.default,{"data-testid":"zoom_in",onClick:function(){t.zoom(t.bpPerPx/2)},disabled:r<=a+1e-4||1!==l,color:"secondary"},i.default.createElement(c.default,null))),i.default.createElement(p.default,{anchorEl:h,open:Boolean(h),onMenuItemClick:function(e,t){t(),v(void 0)},onClose:function(){v(void 0)},menuItems:t.menuItems()}))}));t.default=g},2182:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(19)),i=n(r(12)),l=n(r(21)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(23),s=r(14),d=r(341),f=r(29),p=n(r(139)),m=r(32),g=r(2183),h=r(208),v=n(r(40)),y=n(r(794));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}var w=(0,c.makeStyles)((function(e){return{loadingMessage:{padding:e.spacing(5)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}}}));function O(e,t,r){return C.apply(this,arguments)}function C(){return(C=(0,l.default)(o.default.mark((function e(t,r,n){var a,i,l,u,c,s,d,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,m.getSession)(t),i=t.leftOffset,l=t.rightOffset,i&&l){e.next=4;break}throw new Error("no offsets on model to use for range");case 4:if(i.assemblyName===l.assemblyName){e.next=6;break}throw new Error("not able to fetch sequences from multiple assemblies");case 6:if(u=a.rpcManager,c=a.assemblyManager,s=i.assemblyName||l.assemblyName||"",d=c.get(s)){e.next=11;break}throw new Error("assembly ".concat(s," not found"));case 11:return p=(0,f.getConf)(d,["sequence","adapter"]),"getSequence",e.abrupt("return",u.call("getSequence","CoreGetFeatures",{adapterConfig:p,regions:r,sessionId:"getSequence",signal:n}));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=(0,s.observer)((function(e){var t=e.model,r=e.handleClose,n=w(),a=(0,m.getSession)(t),s=(0,u.useState)(),f=(0,i.default)(s,2),b=f[0],C=f[1],k=(0,u.useState)(),E=(0,i.default)(k,2),S=E[0],P=E[1],x=Boolean(void 0===S),j=t.leftOffset,M=t.rightOffset,T=(0,u.useMemo)((function(){return t.getSelectedRegions(j,M)}),[t,j,M]);(0,u.useEffect)((function(){var e=!0,r=new AbortController;return(0,l.default)(o.default.mark((function n(){var a;return o.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,!(T.length>0)){n.next=8;break}return n.next=4,O(t,T,r.signal);case 4:a=n.sent,e&&P((0,g.formatSeqFasta)(a.filter((function(e){return!!e})).map((function(e){var t=e.get("seq"),r=e.get("refName"),n=e.get("start")+1,a=e.get("end"),o="".concat(r,":").concat(n,"-").concat(a);if((null==t?void 0:t.length)!==a-n+1)throw new Error("".concat(o," returned ").concat(t.length.toLocaleString()," bases, but should have returned ").concat((a-n).toLocaleString()));return{header:o,seq:t}})))),n.next=9;break;case 8:throw new Error("Selected region is out of bounds");case 9:n.next=15;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0),e&&C(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,11]])})))(),function(){r.abort(),e=!1}}),[t,a,T,P]);var R=!!S&&S.length>1e6;return u.default.createElement(c.Dialog,{"data-testid":"sequence-dialog",maxWidth:"xl",open:!0,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},u.default.createElement(c.DialogTitle,{id:"alert-dialog-title"},"Reference sequence",r?u.default.createElement(c.IconButton,{"data-testid":"close-seqDialog",className:n.closeButton,onClick:function(){r(),t.setOffsets(void 0,void 0)}},u.default.createElement(v.default,null)):null),u.default.createElement(c.Divider,null),u.default.createElement(c.DialogContent,null,b?u.default.createElement(c.Typography,{color:"error"},"".concat(b)):null,x&&!b?u.default.createElement(c.Container,null,"Retrieving reference sequence...",u.default.createElement(c.CircularProgress,{style:{marginLeft:10},size:20,disableShrink:!0})):null,u.default.createElement(c.TextField,{"data-testid":"rubberband-sequence",variant:"outlined",multiline:!0,minRows:5,disabled:R,className:n.dialogContent,fullWidth:!0,value:R?"Reference sequence too large to display, use the download FASTA button":S,InputProps:{readOnly:!0,classes:{input:n.textAreaFont}}})),u.default.createElement(c.DialogActions,null,u.default.createElement(c.Button,{onClick:function(){(0,p.default)(S||""),a.notify("Copied to clipboard","success")},disabled:x||!!b||R,color:"primary",startIcon:u.default.createElement(h.ContentCopy,null)},"Copy to clipboard"),u.default.createElement(c.Button,{onClick:function(){var e=new Blob([S||""],{type:"text/x-fasta;charset=utf-8"});(0,d.saveAs)(e,"jbrowse_ref_seq.fa")},disabled:x||!!b,color:"primary",startIcon:u.default.createElement(y.default,null)},"Download FASTA"),u.default.createElement(c.Button,{onClick:r,color:"primary",autoFocus:!0},"Close")))}));t.default=k},2183:function(e,t,r){"use strict";function n(e){return e.replace(/(.{1,80})/g,"$1\n").trimEnd()}Object.defineProperty(t,"__esModule",{value:!0}),t.formatFastaLines=n,t.formatSeqFasta=function(e){return e.map((function(e){return">".concat(e.header,"\n").concat(n(e.seq))})).join("\n")}},2184:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"modelFactory",{enumerable:!0,get:function(){return a.default}});var a=n(r(2185)),o=n(r(2187))},2185:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(11)),o=n(r(33)),i=n(r(10)),l=r(1),u=r(29),c=r(32),s=r(17),d=n(r(271)),f=r(284);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,l.lazy)((function(){return Promise.resolve().then((function(){return function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,a.default)(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(2186))}))})),v=function(e){return s.types.compose("LinearBasicDisplay",f.BaseLinearDisplay,s.types.model({type:s.types.literal("LinearBasicDisplay"),trackShowLabels:s.types.maybe(s.types.boolean),trackShowDescriptions:s.types.maybe(s.types.boolean),trackDisplayMode:s.types.maybe(s.types.string),trackMaxHeight:s.types.maybe(s.types.number),configuration:(0,u.ConfigurationReference)(e)})).views((function(e){return{get rendererTypeName(){return(0,u.getConf)(e,["renderer","type"])},get showLabels(){var t;return null!==(t=e.trackShowLabels)&&void 0!==t?t:(0,u.getConf)(e,["renderer","showLabels"])},get showDescriptions(){var t;return null!==(t=e.trackShowDescriptions)&&void 0!==t?t:(0,u.getConf)(e,["renderer","showLabels"])},get maxHeight(){var t;return null!==(t=e.trackMaxHeight)&&void 0!==t?t:(0,u.getConf)(e,["renderer","maxHeight"])},get displayMode(){var t,r=(0,u.getConf)(e,["renderer","displayMode"]);return null!==(t=e.trackDisplayMode)&&void 0!==t?t:r},get rendererConfig(){var t=(0,u.getConf)(e,["renderer"])||{};return e.rendererType.configSchema.create(m(m({},t),{},{showLabels:this.showLabels,showDescriptions:this.showDescriptions,displayMode:this.displayMode,maxHeight:this.maxHeight}),(0,s.getEnv)(e))}}})).actions((function(e){return{toggleShowLabels:function(){e.trackShowLabels=!e.showLabels},toggleShowDescriptions:function(){e.trackShowDescriptions=!e.showDescriptions},setDisplayMode:function(t){e.trackDisplayMode=t},setMaxHeight:function(t){e.trackMaxHeight=t}}})).views((function(e){var t=e.trackMenuItems,r=e.renderProps;return{renderProps:function(){var t=e.rendererConfig;return m(m({},r()),{},{config:t})},trackMenuItems:function(){return[].concat((0,o.default)(t()),[{label:"Show labels",icon:d.default,type:"checkbox",checked:e.showLabels,onClick:function(){e.toggleShowLabels()}},{label:"Show descriptions",icon:d.default,type:"checkbox",checked:e.showDescriptions,onClick:function(){e.toggleShowDescriptions()}},{label:"Display mode",icon:d.default,subMenu:["compact","reducedRepresentation","normal","collapse"].map((function(t){return{label:t,onClick:function(){e.setDisplayMode(t)}}}))},{label:"Set max height",onClick:function(){(0,c.getSession)(e).queueDialog((function(t){return[h,{model:e,handleClose:t}]}))}}])}}}))};t.default=v},2186:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(23),c=n(r(40));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,u.makeStyles)((function(e){return{root:{width:500},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},field:{margin:e.spacing(2)}}}));var f=(0,l.observer)((function(e){var t=e.model,r=e.handleClose,n=d(),a=t.maxHeight,l=void 0===a?"":a,s=(0,i.useState)("".concat(l)),f=(0,o.default)(s,2),p=f[0],m=f[1];return i.default.createElement(u.Dialog,{open:!0,onClose:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},i.default.createElement(u.DialogTitle,{id:"alert-dialog-title"},"Filter options",i.default.createElement(u.IconButton,{"aria-label":"close",className:n.closeButton,onClick:r},i.default.createElement(c.default,null))),i.default.createElement(u.DialogContent,{className:n.root},i.default.createElement(u.Typography,null,'Set max height for the track. For example, you can increase this if the layout says "Max height reached"'),i.default.createElement(u.TextField,{value:p,onChange:function(e){return m(e.target.value)},placeholder:"Enter max score"}),i.default.createElement(u.DialogActions,null,i.default.createElement(u.Button,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,onClick:function(){t.setMaxHeight(""===p||Number.isNaN(+p)?void 0:+p),r()}},"Submit"),i.default.createElement(u.Button,{variant:"contained",color:"secondary",onClick:function(){return r()}},"Cancel"))))}));t.default=f},2187:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.ConfigurationSchema)("LinearBasicDisplay",{mouseover:{type:"string",description:"what to display in a given mouseover",defaultValue:"jexl:get(feature,'name')",contextVariable:["feature"]},renderer:e.pluggableConfigSchemaType("renderer")},{baseConfiguration:a.baseLinearDisplayConfigSchema,explicitlyTyped:!0})};var n=r(29),a=r(284)},2188:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2189))},2189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("BgzipFastaAdapter",{fastaLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz",locationType:"UriLocation"}},faiLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz.fai",locationType:"UriLocation"}},metadataLocation:{description:"Optional metadata file",type:"fileLocation",defaultValue:{uri:"/path/to/fa.metadata.yaml",locationType:"UriLocation"}},gziLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz.gzi",locationType:"UriLocation"}}},{explicitlyTyped:!0});t.default=n},2190:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2191))},2191:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("ChromSizesAdapter",{chromSizesLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/species.chrom.sizes",locationType:"UriLocation"}}},{explicitlyTyped:!0});t.default=n},2192:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(36)),o=n(r(33)),i=n(r(12)),l=n(r(1)),u=r(522),c=r(84),s=r(14),d=r(32);function f(e){for(var t=e.codonTable,r=e.seq,n=e.frame,a=e.bpPerPx,o=e.region,i=e.height,u=e.y,c=e.reverse,s=void 0!==c&&c,f=e.theme,p=a,m=3-o.start%3,g=(n+m+3)%3,h=r.slice(g),v=[],y=0;y<h.length;y+=3){var b=h.slice(y,y+3),w=s?(0,d.revcom)(b):b,O=t[w]||"";v.push({letter:O,codon:w.toUpperCase()})}var C=1/p*3,k=0===o.start?0:C,E=1/a>=12,S=(o.end-o.start)/a,P=["#d8d8d8","#adadad","#8f8f8f"].reverse();return l.default.createElement(l.default.Fragment,null,v.map((function(e,t){var r=o.reversed?S-(C*(t+1)+g/p-k):C*t+g/p-k,a=e.letter,c=e.codon;return l.default.createElement(l.default.Fragment,{key:"".concat(t,"-").concat(a)},l.default.createElement("rect",{x:r,y:u,width:E?C:C+.7,height:i,stroke:E?"#555":"none",fill:d.defaultStarts.includes(c)?f.palette.startCodon:d.defaultStops.includes(c)?f.palette.stopCodon:P[Math.abs(n)]}),E?l.default.createElement("text",{x:r+C/2,y:u+i/2,dominantBaseline:"middle",textAnchor:"middle"},a):null)})))}function p(e){var t=e.bpPerPx,r=e.region,n=e.feature,a=e.theme,o=e.height,c=e.seq,s=e.y,f=1/t>=12,p=(0,d.bpSpanPx)(n.get("start"),n.get("end"),r,t),m=(0,i.default)(p,2),g=m[0],h=m[1],v=r.reversed,y=n.get("end")-n.get("start"),b=Math.max((h-g)/y,.8);return l.default.createElement(l.default.Fragment,null,c.split("").map((function(e,t){var r=a.palette.bases[e.toUpperCase()],n=v?h-(t+1)*b:g+t*b;return l.default.createElement(l.default.Fragment,{key:t},l.default.createElement("rect",{x:n,y:s,width:b,height:o,fill:r?r.main:"#aaa",stroke:f?"#555":"none"}),f?l.default.createElement("text",{x:n+b/2,y:s+o/2,dominantBaseline:"middle",textAnchor:"middle",fill:r?(0,u.contrastingTextColor)(r.main):"black"},e):null)})))}var m=function(e){var t=e.regions,r=e.theme,n=e.features,a=void 0===n?new Map:n,u=e.showReverse,s=e.showForward,m=e.showTranslation,g=e.bpPerPx,h=(0,i.default)(t,1)[0],v=(0,c.createJBrowseTheme)(r),y=(0,d.generateCodonTable)(d.defaultCodonTable),b=(0,o.default)(a.values())[0];if(!b)return null;var w=b.get("seq");if(!w)return null;var O=-20;return l.default.createElement(l.default.Fragment,null,m&&(h.reversed?u:s)?[2,1,0].map((function(e){return l.default.createElement(f,{key:"translation-".concat(e),seq:w,y:O+=20,codonTable:y,frame:e,bpPerPx:g,region:h,theme:v,height:20,reverse:h.reversed})})):null,s?l.default.createElement(p,{height:20,y:O+=20,feature:b,region:h,seq:h.reversed?(0,d.complement)(w):w,bpPerPx:g,theme:v}):null,u?l.default.createElement(p,{height:20,y:O+=20,feature:b,region:h,seq:h.reversed?w:(0,d.complement)(w),bpPerPx:g,theme:v}):null,m&&(h.reversed?s:u)?[0,-1,-2].map((function(e){return l.default.createElement(f,{key:"rev-translation-".concat(e),seq:w,y:O+=20,codonTable:y,frame:e,bpPerPx:g,region:h,theme:v,height:20,reverse:!h.reversed})})):null)},g=function(e){var t=e.exportSVG,r=e.width,n=e.totalHeight,a=e.children;return t?l.default.createElement(l.default.Fragment,null,a):l.default.createElement("svg",{"data-testid":"sequence_track",width:r,height:n,style:{width:r,height:n}},a)};var h=(0,s.observer)((function(e){var t=e.regions,r=e.bpPerPx,n=(0,i.default)(t,1)[0],o=(n.end-n.start)/r;return l.default.createElement(g,(0,a.default)({},e,{totalHeight:200,width:o}),l.default.createElement(m,e))}));t.default=h},2193:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("DivSequenceRenderer",{height:{type:"number",description:"height in pixels of each line of sequence",defaultValue:16}},{explicitlyTyped:!0});t.default=n},2194:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2195))},2195:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("IndexedFastaAdapter",{fastaLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa",locationType:"UriLocation"}},faiLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.fai",locationType:"UriLocation"}},metadataLocation:{description:"Optional metadata file",type:"fileLocation",defaultValue:{uri:"/path/to/fa.metadata.yaml",locationType:"UriLocation"}}},{explicitlyTyped:!0});t.default=n},2196:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return n.configSchema}}),Object.defineProperty(t,"modelFactory",{enumerable:!0,get:function(){return a.modelFactory}});var n=r(2197),a=r(2198)},2197:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0;var n=r(29),a=r(939),o=(0,n.ConfigurationSchema)("LinearReferenceSequenceDisplay",{renderer:a.configSchema},{explicitIdentifier:"displayId",explicitlyTyped:!0});t.configSchema=o},2198:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.modelFactory=function(e){return o.types.compose("LinearReferenceSequenceDisplay",i.BaseLinearDisplay,o.types.model({type:o.types.literal("LinearReferenceSequenceDisplay"),configuration:(0,l.ConfigurationReference)(e),showForward:o.types.optional(o.types.boolean,!0),showReverse:o.types.optional(o.types.boolean,!0),showTranslation:o.types.optional(o.types.boolean,!0),height:180})).views((function(e){var t=e.renderProps;return{renderProps:function(){var r=e.showForward,n=e.showReverse,a=e.showTranslation;return s(s({},t()),{},{rpcDriverName:e.rpcDriverName,config:e.configuration.renderer,showForward:r,showReverse:n,showTranslation:a})},regionCannotBeRendered:function(){var t=(0,u.getContainingView)(e);if(t&&t.bpPerPx>=1)return"Zoom in to see sequence"},get rendererTypeName(){return e.configuration.renderer.type}}})).actions((function(e){return{toggleShowForward:function(){e.showForward=!e.showForward},toggleShowReverse:function(){e.showReverse=!e.showReverse},toggleShowTranslation:function(){e.showTranslation=!e.showTranslation}}})).views((function(e){return{trackMenuItems:function(){return[{label:"Show forward",type:"checkbox",checked:e.showForward,onClick:function(){e.toggleShowForward()}},{label:"Show reverse",type:"checkbox",checked:e.showReverse,onClick:function(){e.toggleShowReverse()}},{label:"Show translation",type:"checkbox",checked:e.showTranslation,onClick:function(){e.toggleShowTranslation()}}]}}}))};var a=n(r(10)),o=r(17),i=r(143),l=r(29),u=r(32);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},2199:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2200))},2200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("TwoBitAdapter",{twoBitLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.2bit",locationType:"UriLocation"}},chromSizesLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/default.chrom.sizes",locationType:"UriLocation"},description:"An optional chrom.sizes file can be supplied to speed up loading since parsing the twobit file can take time"}},{explicitlyTyped:!0});t.default=n},2201:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(11)),o=n(r(2202));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}t.default=function(e){return{configSchema:e.load(o.default),getAdapterClass:function(){return Promise.resolve().then((function(){return function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,a.default)(e)&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var u=o?Object.getOwnPropertyDescriptor(e,l):null;u&&(u.get||u.set)?Object.defineProperty(n,l,u):n[l]=e[l]}return n.default=e,r&&r.set(e,n),n}(r(2203))})).then((function(e){return e.default}))}}}},2202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(29);t.default=function(e){return(0,n.ConfigurationSchema)("GCContentAdapter",{sequenceAdapter:e.pluggableConfigSchemaType("adapter")},{explicitlyTyped:!0})}},2203:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(10)),p=r(90),m=r(116),g=n(r(98)),h=r(29),v=r(52);function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var O=function(e){(0,c.default)(s,e);var t,r,n=w(s);function s(){var e;(0,i.default)(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,f.default)((0,u.default)(e),"windowSize",1e3),(0,f.default)((0,u.default)(e),"windowDelta",1e3),(0,f.default)((0,u.default)(e),"gcMode","content"),e}return(0,l.default)(s,[{key:"configure",value:(r=(0,o.default)(a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,h.readConfObject)(this.config,"sequenceAdapter"),e.next=3,null===(t=this.getSubAdapter)||void 0===t?void 0:t.call(this,r);case 3:if(n=e.sent){e.next=6;break}throw new Error("Error getting subadapter");case 6:return e.abrupt("return",n.dataAdapter);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRefNames",value:(t=(0,o.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,e.abrupt("return",t.getRefNames());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e,t){var r=this;return this.windowSize=1e3,this.windowDelta=1e3,this.gcMode="content",(0,m.ObservableCreate)(function(){var t=(0,o.default)(a.default.mark((function t(n){var o,i,l,u,c,s,d,f,p,m,h,y,w,O,C,k,E;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.configure();case 2:if(i=t.sent,l=1===r.windowSize?1:r.windowSize/2,u=1===r.windowSize,c=e.start,s=e.end,c=Math.max(0,c-l),!((s+=l)<0||c>s)){t.next=11;break}return n.complete(),t.abrupt("return");case 11:return d=i.getFeatures(b(b({},e),{},{start:c,end:s})),t.next=14,d.pipe((0,v.toArray)()).toPromise();case 14:for(f=t.sent,p=(null===(o=f[0])||void 0===o?void 0:o.get("seq"))||"",m=l;m<p.length-l;m+=r.windowDelta){for(h=u?p[m]:p.slice(m-l,m+l),y=0,w=0,O=0,C=0;C<h.length;C++)"c"===h[C]||"C"===h[C]?y++:"g"!==h[C]&&"G"!==h[C]||w++,"N"!==h[C]&&O++;k=c,E=void 0,"content"===r.gcMode?E=(w+y)/(O||1):"skew"===r.gcMode&&(E=(w-y)/(w+y||1)),n.next(new g.default({uniqueId:"".concat(r.id,"_").concat(k+m),start:k+m,end:k+m+r.windowDelta,score:E}))}n.complete();case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),s}(p.BaseFeatureDataAdapter);t.default=O,(0,f.default)(O,"capabilities",["hasLocalStats"])},2204:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createReferenceSeqTrackConfig=function(e){return(0,i.ConfigurationSchema)("ReferenceSequenceTrack",{adapter:e.pluggableConfigSchemaType("adapter"),displays:o.types.array(e.pluggableConfigSchemaType("display")),name:{type:"string",description:"optional track name",defaultValue:""},metadata:{type:"frozen",description:"anything to add about this track",defaultValue:{}}},{preProcessSnapshot:function(t){var r=JSON.parse(JSON.stringify(t)),n=new Set,a=r.displays,o=void 0===a?[]:a;"placeholderId"!==r.trackId&&(o.forEach((function(e){return e&&n.add(e.type)})),e.getTrackType(r.type).displayTypes.forEach((function(e){n.has(e.name)||o.push({displayId:"".concat(r.trackId,"-").concat(e.name),type:e.name})})));return u(u({},r),{},{displays:o})},explicitIdentifier:"trackId",explicitlyTyped:!0,actions:function(e){return{addDisplayConf:function(t){var r=t.type;if(!r)throw new Error("unknown display type ".concat(r));var n=e.displays.find((function(e){return e&&e.displayId===t.displayId}));if(n)return n;var a=e.displays.push(t);return e.displays[a-1]}}}})};var a=n(r(10)),o=r(17),i=r(29);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},2205:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(90),g=r(100),h=r(116),v=n(r(98)),y=r(881),b=r(29);function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var O=function(e){(0,s.default)(f,e);var t,r,n,d=w(f);function f(e,t,r){var n;return(0,l.default)(this,f),n=d.call(this,e,t,r),(0,p.default)((0,c.default)(n),"twobit",void 0),(0,p.default)((0,c.default)(n),"chromSizesData",void 0),n.chromSizesData=n.initChromSizes(),n.twobit=new y.TwoBitFile({filehandle:(0,g.openLocation)((0,b.readConfObject)(e,"twoBitLocation"),n.pluginManager)}),n}return(0,u.default)(f,[{key:"initChromSizes",value:(n=(0,i.default)(a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/path/to/default.chrom.sizes"===(t=(0,b.readConfObject)(this.config,"chromSizesLocation")).uri||""===t.uri){e.next=7;break}return r=(0,g.openLocation)(t,this.pluginManager),e.next=5,r.readFile("utf8");case 5:return n=e.sent,e.abrupt("return",Object.fromEntries(null==n?void 0:n.split("\n").filter((function(e){return!!e.trim()})).map((function(e){var t=e.split("\t"),r=(0,o.default)(t,2);return[r[0],+r[1]]}))));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNames",value:(r=(0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chromSizesData;case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",Object.keys(t));case 5:return e.abrupt("return",this.twobit.getSequenceNames());case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRegions",value:(t=(0,i.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chromSizesData;case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",Object.keys(t).map((function(e){return{refName:e,start:0,end:t[e]}})));case 5:return e.next=7,this.twobit.getSequenceSizes();case 7:return r=e.sent,e.abrupt("return",Object.keys(r).map((function(e){return{refName:e,start:0,end:r[e]}})));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,r=e.refName,n=e.start,o=e.end;return(0,h.ObservableCreate)(function(){var e=(0,i.default)(a.default.mark((function e(i){var l,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.twobit.getSequenceSize(r);case 2:return l=e.sent,u=void 0!==l?Math.min(l,o):o,e.next=6,t.twobit.getSequence(r,n,u);case 6:(c=e.sent)&&i.next(new v.default({id:"".concat(r," ").concat(n,"-").concat(u),data:{refName:r,start:n,end:u,seq:c}})),i.complete();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),f}(m.BaseSequenceAdapter);t.default=O},2206:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(90),g=r(100),h=r(29);function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var y=function(e){(0,s.default)(d,e);var t,r,n=v(d);function d(e,t,r){var a;(0,l.default)(this,d),a=n.call(this,e,t,r),(0,p.default)((0,c.default)(a),"refSeqs",void 0),(0,p.default)((0,c.default)(a),"source",void 0);var o=(0,h.readConfObject)(e,"chromSizesLocation");if(!o)throw new Error("must provide chromSizesLocation");var i=(0,g.openLocation)(o,a.pluginManager);return a.source=i.toString(),a.refSeqs=a.init(i),a}return(0,u.default)(d,[{key:"init",value:(r=(0,i.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readFile("utf8");case 2:if(r=e.sent,n={},r.length){e.next=6;break}throw new Error("Could not read file ".concat(t.toString()));case 6:return r.split("\n").forEach((function(e){if(e.length){var t=e.split("\t"),r=(0,o.default)(t,2),a=r[0],i=r[1];n[a]=+i}})),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"getRegions",value:(t=(0,i.default)(a.default.mark((function e(){var t;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refSeqs;case 2:return t=e.sent,e.abrupt("return",Object.keys(t).map((function(e){return{refName:e,start:0,end:t[e]}})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(){throw new Error("sequence not available")}},{key:"getHeader",value:function(){return{}}},{key:"freeResources",value:function(){}}]),d}(m.BaseAdapter);t.default=y},2207:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(25)),l=n(r(26)),u=n(r(24)),c=r(377),s=r(100),d=r(29);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var p=function(e){(0,i.default)(r,e);var t=f(r);function r(e,n,a){var i;(0,o.default)(this,r),i=t.call(this,e,n,a);var l=(0,d.readConfObject)(e,"fastaLocation"),u=(0,d.readConfObject)(e,"faiLocation"),f=(0,d.readConfObject)(e,"gziLocation");if(!l)throw new Error("must provide fastaLocation");if(!u)throw new Error("must provide faiLocation");if(!f)throw new Error("must provide gziLocation");var p={fasta:(0,s.openLocation)(l,i.pluginManager),fai:(0,s.openLocation)(u,i.pluginManager),gzi:(0,s.openLocation)(f,i.pluginManager)};return i.fasta=new c.BgzipIndexedFasta(p),i}return(0,a.default)(r)}(n(r(940)).default);t.default=p},2208:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"VcfFeature",{enumerable:!0,get:function(){return j.default}}),t.default=void 0;var o=n(r(15)),i=n(r(16)),l=n(r(30)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=n(r(10)),f=r(1),p=r(29),m=n(r(142)),g=n(r(205)),h=r(99),v=n(r(167)),y=n(r(168)),b=n(r(115)),w=r(143),O=n(r(2209)),C=r(2211),k=n(r(2214)),E=r(2216),S=r(2217),P=r(2219),x=r(64),j=n(r(529));function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(M=function(e){return e?r:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=M(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var D=function(e){(0,u.default)(n,e);var t=R(n);function n(){var e;(0,o.default)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"name","VariantsPlugin"),e}return(0,i.default)(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new m.default({name:"VcfTabixAdapter",configSchema:S.configSchema,getAdapterClass:function(){return Promise.resolve().then((function(){return T(r(2221))})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,r,n){var a=(0,x.getFileName)(t),o=r&&(0,x.getFileName)(r),i={type:"VcfTabixAdapter",vcfGzLocation:t,index:{location:r||(0,x.makeIndex)(t,".tbi"),indexType:(0,x.makeIndexType)(o,"CSI","TBI")}};return/\.vcf\.b?gz$/i.test(a)&&!n||"VcfTabixAdapter"===n?i:e(t,r,n)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"VcfTabixAdapter"===t||"VcfAdapter"===t?"VariantTrack":e(t)}})),e.addAdapterType((function(){return new m.default({name:"VcfAdapter",configSchema:P.configSchema,getAdapterClass:function(){return Promise.resolve().then((function(){return T(r(2222))})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,r,n){var a=(0,x.getFileName)(t);return/\.vcf$/i.test(a)||"VcfAdapter"===n?{type:"VcfAdapter",vcfLocation:t}:e(t,r,n)}})),e.addRendererType((function(){return e.jbrequire(k.default)})),e.addTrackType((function(){var t=(0,p.ConfigurationSchema)("VariantTrack",{},{baseConfiguration:(0,h.createBaseTrackConfig)(e)});return new v.default({name:"VariantTrack",configSchema:t,stateModel:(0,h.createBaseTrackModel)(e,"VariantTrack",t)})})),e.addDisplayType((function(){return e.jbrequire(O.default)})),e.addDisplayType((function(){var t=(0,C.configSchemaFactory)(e);return new g.default({name:"LinearVariantDisplay",configSchema:t,stateModel:(0,C.modelFactory)(t),trackType:"VariantTrack",viewType:"LinearGenomeView",ReactComponent:w.BaseLinearDisplayComponent})})),e.addWidgetType((function(){return new y.default({name:"VariantFeatureWidget",heading:"Feature details",configSchema:E.configSchema,stateModel:(0,E.stateModelFactory)(e),ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return T(r(2223))}))}))})}))}}]),n}(b.default);t.default=D},2209:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(525),o=n(r(2210));t.default=function(e){var t=e.lib,r=e.load,n=t["@jbrowse/core/pluggableElementTypes/DisplayType"],i=r(o.default),l=i.stateModel;return new n({name:"ChordVariantDisplay",configSchema:i.configSchema,stateModel:l,trackType:"VariantTrack",viewType:"CircularView",ReactComponent:(0,a.BaseChordDisplayComponentFactory)(e)})}},2210:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10)),o=r(525);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var u=function(e){var t=e.jbrequire,r=t("mobx-state-tree").types,n=t("@jbrowse/core/configuration"),a=n.ConfigurationSchema,i=n.ConfigurationReference,u=t("@jbrowse/core/util").getContainingView,c=t("@jbrowse/core/util/tracks").getParentRenderProps,s=a("ChordVariantDisplay",{renderer:r.optional(e.pluggableConfigSchemaType("renderer"),{type:"StructuralVariantChordRenderer"})},{baseConfiguration:o.baseChordDisplayConfig,explicitlyTyped:!0});return{stateModel:r.compose("ChordVariantDisplay",o.BaseChordDisplayModel,r.model({type:r.literal("ChordVariantDisplay"),configuration:i(s)})).views((function(e){return{get rendererTypeName(){return e.configuration.renderer.type},renderProps:function(){var t=u(e);return l(l({},c(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,bezierRadius:t.radiusPx*e.bezierRadiusRatio,radius:t.radiusPx,blockDefinitions:this.blockDefinitions,config:e.configuration.renderer,onChordClick:e.onChordClick})}}})),configSchema:s}};t.default=u},2211:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchemaFactory",{enumerable:!0,get:function(){return a.LinearVariantDisplayConfigFactory}}),Object.defineProperty(t,"modelFactory",{enumerable:!0,get:function(){return o.default}});var a=r(2212),o=n(r(2213))},2212:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinearVariantDisplayConfigFactory=function(e){var t=(0,a.linearBasicDisplayConfigSchemaFactory)(e);return(0,n.ConfigurationSchema)("LinearVariantDisplay",{},{baseConfiguration:t,explicitlyTyped:!0})};var n=r(29),a=r(143)},2213:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return s.types.compose("LinearVariantDisplay",(0,c.linearBasicDisplayModelFactory)(e),s.types.model({type:s.types.literal("LinearVariantDisplay"),configuration:(0,i.ConfigurationReference)(e)})).actions((function(e){return{selectFeature:function(t){return(0,o.default)(a.default.mark((function r(){var n,o,c,s,d,f,p;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n=(0,u.getSession)(e),!(0,u.isSessionModelWithWidgets)(n)){r.next=11;break}return o=n.rpcManager,c=(0,l.getRpcSessionId)(e),s=(0,u.getContainingTrack)(e),d=(0,i.getConf)(s,"adapter"),r.next=8,o.call(c,"CoreGetMetadata",{adapterConfig:d});case 8:f=r.sent,p=n.addWidget("VariantFeatureWidget","variantFeature",{featureData:t.toJSON(),view:(0,u.getContainingView)(e),descriptions:f}),n.showWidget(p);case 11:n.setSelection(t);case 12:case"end":return r.stop()}}),r)})))()}}}))};var a=n(r(19)),o=n(r(21)),i=r(29),l=r(64),u=r(32),c=r(143),s=r(17)},2214:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(366)),o=r(29),i=n(r(2215)),l=function(e){var t=(0,o.ConfigurationSchema)("StructuralVariantChordRenderer",{strokeColor:{type:"color",description:"the line color of each arc",defaultValue:"rgba(255,133,0,0.32)",contextVariable:["feature"]},strokeColorSelected:{type:"color",description:"the line color of an arc that has been selected",defaultValue:"black",contextVariable:["feature"]},strokeColorHover:{type:"color",description:"the line color of an arc that is being hovered over with the mouse",defaultValue:"#555",contextVariable:["feature"]}},{explicitlyTyped:!0});return new a.default({name:"StructuralVariantChordRenderer",ReactComponent:i.default,configSchema:t,pluginManager:e})};t.default=l},2215:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(33)),i=n(r(12)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(14),c=r(32),s=r(29),d=r(72),f=r(117),p=n(r(0));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=e.region.elided?0:e.region.start,n=e.region.elided?0:e.region.end;return(e.flipped?n-t:t-r)/e.bpPerRadian+e.startRadians}var y=(0,u.observer)((function(e){var t,r,n,a,u=e.feature,d=e.blocksForRefs,p=e.radius,m=e.config,g=e.bezierRadius,h=e.selected,y=e.onClick,b=d[u.get("refName")];if(!b)return null;if(u.get("INFO")){var w=u.get("INFO").SVTYPE||[];r=(0,i.default)(w,1)[0]}else u.get("mate")&&(r="mate");var O=null===(t=u.get("ALT"))||void 0===t?void 0:t[0],C=O&&(0,f.parseBreakend)(O);if(C){var k=C.MatePosition.split(":");n=+k[1],a=d[k[0]]}else if("<TRA>"===O){var E,S,P,x,j=null===(E=u.get("INFO"))||void 0===E||null===(S=E.CHR2)||void 0===S?void 0:S[0],M=null===(P=u.get("INFO"))||void 0===P||null===(x=P.END)||void 0===x?void 0:x[0];n=parseInt(M,10),a=d[j]}else if("mate"===r){var T=u.get("mate"),R=T.refName;n=T.start,a=d[R]}if(a){var D=u.get("start"),I=v(b,D),A=v(a,n),_=(0,c.polarToCartesian)(p,I),F=(0,c.polarToCartesian)(p,A),L=(0,c.polarToCartesian)(g,(A+I)/2),N=h?(0,s.readConfObject)(m,"strokeColorSelected",{feature:u}):(0,s.readConfObject)(m,"strokeColor",{feature:u}),B=(0,s.readConfObject)(m,"strokeColorHover",{feature:u});return l.default.createElement("path",{"data-testid":"chord-".concat(u.id()),d:["M"].concat((0,o.default)(_),["Q"],(0,o.default)(L),(0,o.default)(F)).join(" "),style:{stroke:N},onClick:function(e){return y(u,b.region,a.region,e)},onMouseOver:function(e){h||(e.target.style.stroke=B,e.target.style.strokeWidth=3)},onMouseOut:function(e){h||(e.target.style.stroke=N,e.target.style.strokeWidth=1)}})}return null}));function b(e){var t,r=e.features,n=e.config,a=e.displayModel,o=e.blockDefinitions,u=e.radius,c=e.bezierRadius,s=e.displayModel.selectedFeatureId,d=e.onChordClick,f=(0,l.useMemo)((function(){var e={};return o.forEach((function(t){(t.region.elided?t.region.regions:[t.region]).forEach((function(r){e[r.refName]=t}))})),e}),[o]),p=[],m=g(r);try{for(m.s();!(t=m.n()).done;){var h=(0,i.default)(t.value,2),v=h[0],b=h[1],w=String(s)===String(b.id());p.push(l.default.createElement(y,{key:v,feature:b,config:n,displayModel:a,radius:u,bezierRadius:c,blocksForRefs:f,selected:w,onClick:d}))}}catch(e){m.e(e)}finally{m.f()}var O="chords-".concat(a.id);return l.default.createElement("g",{id:O,"data-testid":"structuralVariantChordRenderer"},l.default.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          #".concat(O," > path {\n            cursor: crosshair;\n            fill: none;\n          }\n")}}),p)}b.propTypes={features:p.default.instanceOf(Map).isRequired,config:d.PropTypes.ConfigSchema.isRequired,displayModel:u.PropTypes.objectOrObservableObject,blockDefinitions:p.default.arrayOf(u.PropTypes.objectOrObservableObject).isRequired,radius:p.default.number.isRequired,bezierRadius:p.default.number.isRequired,selectedFeatureId:p.default.string,onChordClick:p.default.oneOfType([p.default.func,p.default.string])},b.defaultProps={displayModel:void 0,selectedFeatureId:"",onChordClick:void 0};var w=(0,u.observer)(b);t.default=w},2216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,t.stateModelFactory=function(e){var t=(0,o.stateModelFactory)(e);return a.types.compose(t,a.types.model("VariantFeatureWidget",{type:a.types.literal("VariantFeatureWidget"),descriptions:a.types.frozen()}))};var n=r(29),a=r(17),o=r(924),i=(0,n.ConfigurationSchema)("VariantFeatureWidget",{});t.configSchema=i},2217:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2218))},2218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(17),a=r(29),o=(0,a.ConfigurationSchema)("VcfTabixAdapter",{vcfGzLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf.gz",locationType:"UriLocation"}},index:(0,a.ConfigurationSchema)("VcfIndex",{indexType:{model:n.types.enumeration("IndexType",["TBI","CSI"]),type:"stringEnum",defaultValue:"TBI"},location:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf.gz.tbi",locationType:"UriLocation"}}})},{explicitlyTyped:!0});t.default=o},2219:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2220))},2220:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("VcfAdapter",{vcfLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf",locationType:"UriLocation"}}},{explicitlyTyped:!0});t.default=n},2221:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(51)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(90),g=r(100),h=r(32),v=r(116),y=r(354),b=n(r(117)),w=r(29),O=n(r(529));function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var S=function(e){(0,s.default)(S,e);var t,r,n,d,m,C=E(S);function S(){var e;(0,i.default)(this,S);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=C.call.apply(C,[this].concat(r)),(0,p.default)((0,u.default)(e),"configured",void 0),e}return(0,l.default)(S,[{key:"configurePre",value:(m=(0,o.default)(a.default.mark((function e(){var t,r,n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,w.readConfObject)(this.config,"vcfGzLocation"),r=(0,w.readConfObject)(this.config,["index","location"]),n=(0,w.readConfObject)(this.config,["index","indexType"]),o=(0,g.openLocation)(t,this.pluginManager),i="CSI"===n,l=new y.TabixIndexedFile({filehandle:o,csiFilehandle:i?(0,g.openLocation)(r,this.pluginManager):void 0,tbiFilehandle:i?void 0:(0,g.openLocation)(r,this.pluginManager),chunkCacheSize:50*Math.pow(2,20),chunkSizeLimit:1e9}),e.next=8,l.getHeader();case 8:return u=e.sent,e.abrupt("return",{filehandle:o,vcf:l,parser:new b.default({header:u})});case 10:case"end":return e.stop()}}),e,this)}))),function(){return m.apply(this,arguments)})},{key:"configure",value:(d=(0,o.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configured||(this.configured=this.configurePre().catch((function(e){throw t.configured=void 0,e}))),e.abrupt("return",this.configured);case 2:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"getRefNames",value:(n=(0,o.default)(a.default.mark((function e(){var t,r,n,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},e.next=3,this.configure();case 3:return r=e.sent,n=r.vcf,e.abrupt("return",n.getReferenceSequenceNames(t));case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getHeader",value:(r=(0,o.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,r=t.vcf,e.abrupt("return",r.getHeader());case 5:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getMetadata",value:(t=(0,o.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,r=t.parser,e.abrupt("return",r.getMetadata());case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,v.ObservableCreate)(function(){var n=(0,o.default)(a.default.mark((function n(o){var i,l,u,c,s,d;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.refName,l=e.start,u=e.end,n.next=3,t.configure();case 3:return c=n.sent,s=c.vcf,d=c.parser,n.next=8,s.getLines(i,l,u,k({lineCallback:function(e,r){o.next(new O.default({variant:d.parseLine(e),parser:d,id:"".concat(t.id,"-vcf-").concat(r)}))}},r));case 8:o.complete();case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),r.signal)}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,c.default)((0,f.default)(S.prototype),"getFeaturesInMultipleRegions",this);return(0,v.ObservableCreate)(function(){var i=(0,o.default)(a.default.mark((function o(i){var l,u,c,s,d,f,p;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.configure();case 2:return l=a.sent,u=l.vcf,a.next=6,(0,h.bytesForRegions)(e,u.index);case 6:return c=a.sent,a.next=9,t.configure();case 9:return s=a.sent,d=s.filehandle,a.next=13,d.stat();case 13:f=a.sent,(p=Math.round(c/f.size*100))>100&&(p=100),p>60&&console.warn("getFeaturesInMultipleRegions fetching ".concat(p,"% of VCF file, but whole-file streaming not yet implemented")),n.call(t,e,r).subscribe(i);case 18:case"end":return a.stop()}}),o)})));return function(e){return i.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),S}(m.BaseFeatureDataAdapter);t.default=S},2222:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(90),g=r(100),h=r(116),v=r(29),y=n(r(508)),b=r(112),w=n(r(117)),O=n(r(529));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var k=function(e){var t=e.split("\n"),r=[],n=[];return t.forEach((function(e){e.startsWith("#")?r.push(e):e&&n.push(e)})),{header:r.join("\n"),lines:n}};function E(e){return 31===e[0]&&139===e[1]&&8===e[2]}var S=function(e){(0,s.default)(S,e);var t,r,n,d,f,m=C(S);function S(){var e;(0,l.default)(this,S);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=m.call.apply(m,[this].concat(r)),(0,p.default)((0,c.default)(e),"vcfFeatures",void 0),e}return(0,u.default)(S,[{key:"getHeader",value:(f=(0,i.default)(a.default.mark((function e(){var t,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return t=e.sent,r=t.header,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})},{key:"getMetadata",value:(d=(0,i.default)(a.default.mark((function e(){var t,r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return t=e.sent,r=t.header,n=new w.default({header:r}),e.abrupt("return",n.getMetadata());case 6:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"setupP",value:(n=(0,i.default)(a.default.mark((function e(){var t,r,n,i,l,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,g.openLocation)((0,v.readConfObject)(this.config,"vcfLocation"),this.pluginManager).readFile();case 2:if(!E(t=e.sent)){e.next=9;break}return e.next=6,(0,b.unzip)(t);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=t;case 10:if(!((r=e.t0).length>536870888)){e.next=13;break}throw new Error("Data exceeds maximum string length (512MB)");case 13:return n=(new TextDecoder).decode(r),i=k(n),l=i.header,u=i.lines,c=u.map((function(e,t){var r,n=e.split("\t"),a=(0,o.default)(n,8),i=a[0],l=a[1],u=a[3],c=+l-1;return{line:e,refName:i,start:c,end:+((null===(r=a[7].match(/END=(\d+)/))||void 0===r?void 0:r[1].trim())||c+u.length),id:t}})).reduce((function(e,t){var r=t.refName;return e[r]||(e[r]=new y.default),e[r].insert([t.start,t.end],t),e}),{}),e.abrupt("return",{header:l,intervalTree:c});case 17:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"setup",value:(r=(0,i.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vcfFeatures||(this.vcfFeatures=this.setupP().catch((function(e){throw t.vcfFeatures=void 0,e}))),e.abrupt("return",this.vcfFeatures);case 2:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRefNames",value:(t=(0,i.default)(a.default.mark((function e(){var t,r,n=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.length>0&&void 0!==n[0]&&n[0],e.next=3,this.setup();case 3:return t=e.sent,r=t.intervalTree,e.abrupt("return",Object.keys(r));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.ObservableCreate)(function(){var r=(0,i.default)(a.default.mark((function r(n){var o,i,l,u,c,s,d,f;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=e.start,l=e.end,u=e.refName,r.next=4,t.setup();case 4:c=r.sent,s=c.header,d=c.intervalTree,f=new w.default({header:s}),null===(o=d[u])||void 0===o||o.search([i,l]).forEach((function(e){return n.next(new O.default({variant:f.parseLine(e.line),parser:f,id:"".concat(t.id,"-").concat(e.id)}))})),n.complete(),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),n.error(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})));return function(e){return r.apply(this,arguments)}}(),r.signal)}},{key:"freeResources",value:function(){}}]),S}(m.BaseFeatureDataAdapter);t.default=S,(0,p.default)(S,"capabilities",["getFeatures","getRefNames"])},2223:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(45)),i=n(r(36)),l=n(r(10)),u=n(r(33)),c=n(r(12)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),d=r(23),f=n(r(98)),p=r(519),m=r(14),g=r(32),h=r(17),v=r(363),y=n(r(2224)),b=r(117),w=["samples"];function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=(0,s.useState)({}),r=(0,c.default)(t,2),n=r[0],a=r[1],o=(0,s.useState)(!1),f=(0,c.default)(o,2),m=f[0],g=f[1],h=e.feature.samples,y=void 0===h?{}:h,b=Object.entries(y);if(!b.length)return null;var w,O=["sample"].concat((0,u.default)(Object.keys(b[0][1]))).map((function(e){return{field:e}})),C=[],E=Object.keys(n);try{C=b.map((function(e){return k(k({},Object.fromEntries(Object.entries(e[1]).map((function(e){return[e[0],String(e[1])]})))),{},{sample:e[0],id:e[0]})})).filter((function(e){return!E.length||E.every((function(t){var r=e[t],a=n[t];return!a||r.match(new RegExp(a,"i"))}))}))}catch(e){w=e}return s.default.createElement(v.BaseCard,(0,i.default)({},e,{title:"Samples"}),w?s.default.createElement(d.Typography,{color:"error"},"".concat(w)):null,s.default.createElement(d.FormControlLabel,{control:s.default.createElement(d.Checkbox,{checked:m,onChange:function(){return g((function(e){return!e}))}}),label:"Show sample filters"}),m?s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Typography,null,"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"),O.map((function(e){var t=e.field;return s.default.createElement(d.TextField,{key:"filter-".concat(t),placeholder:"Filter ".concat(t),value:n[t]||"",onChange:function(e){return a(k(k({},n),{},(0,l.default)({},t,e.target.value)))}})}))):null,s.default.createElement("div",{style:{height:600,width:"100%",overflow:"auto"}},s.default.createElement(p.DataGrid,{rows:C,columns:O,rowHeight:20,headerHeight:25,disableSelectionOnClick:!0,disableColumnMenu:!0})))}function S(e){var t,r=e.model,n=e.locStrings,a=e.feature,o=(0,g.getSession)(r),l=(0,h.getEnv)(o).pluginManager,u=(0,s.useState)(!1),p=(0,c.default)(u,2),m=p[0],b=p[1];try{t=l.getViewType("BreakpointSplitView")}catch(e){}var w=new f.default(a);return s.default.createElement(v.BaseCard,(0,i.default)({},e,{title:"Breakends"}),s.default.createElement(d.Typography,null,"Link to linear view of breakend endpoints"),s.default.createElement("ul",null,n.map((function(e){return s.default.createElement("li",{key:"".concat(JSON.stringify(e))},s.default.createElement(d.Link,{href:"#",onClick:function(t){t.preventDefault();var n=r.view;try{if(!n)throw new Error("No view associated with this feature detail panel anymore");var a;null===(a=n.navToLocString)||void 0===a||a.call(n,e)}catch(e){console.error(e),o.notify("".concat(e))}}},"LGV - ".concat(e)))}))),t?s.default.createElement("div",null,s.default.createElement(d.Typography,null,"Launch split views with breakend source and target"),s.default.createElement("ul",null,n.map((function(e){return s.default.createElement("li",{key:"".concat(JSON.stringify(e))},s.default.createElement(d.Link,{href:"#",onClick:function(e){e.preventDefault(),b(!0)}},"".concat(a.refName,":").concat(a.start," // ").concat(e," (split view)")))}))),m?s.default.createElement(y.default,{model:r,feature:w,viewType:t,handleClose:function(){b(!1)}}):null):null)}var P=(0,m.observer)((function(e){var t=e.model,r=t.featureData,n=t.descriptions,a=JSON.parse(JSON.stringify(r)),l=(a.samples,(0,o.default)(a,w));return s.default.createElement(d.Paper,{"data-testid":"variant-side-drawer"},s.default.createElement(v.FeatureDetails,(0,i.default)({feature:l,descriptions:k(k({},{CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:"alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"}),n)},e)),s.default.createElement(d.Divider,null),"breakend"===a.type?s.default.createElement(S,{feature:a,locStrings:a.ALT.map((function(e){var t;return(null===(t=(0,b.parseBreakend)(e))||void 0===t?void 0:t.MatePosition)||""})),model:t}):null,"translocation"===a.type?s.default.createElement(S,{feature:a,model:t,locStrings:["".concat(a.INFO.CHR2[0],":").concat(a.INFO.END)]}):null,s.default.createElement(E,(0,i.default)({feature:a},e)))}));t.default=P},2224:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(23),c=n(r(40)),s=r(17),d=r(32);function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=(0,u.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},block:{display:"block"}}}));var m=(0,l.observer)((function(e){var t=e.model,r=e.handleClose,n=e.feature,a=e.viewType,l=p(),f=(0,i.useState)(!0),m=(0,o.default)(f,2),g=m[0],h=m[1],v=(0,i.useState)(!0),y=(0,o.default)(v,2),b=y[0],w=y[1];return i.default.createElement(u.Dialog,{open:!0,onClose:r},i.default.createElement(u.DialogTitle,null,"Breakpoint split view options",r?i.default.createElement(u.IconButton,{className:l.closeButton,onClick:function(){return r()}},i.default.createElement(c.default,null)):null),i.default.createElement(u.Divider,null),i.default.createElement(u.DialogContent,null,i.default.createElement(u.FormControlLabel,{className:l.block,control:i.default.createElement(u.Checkbox,{checked:g,onChange:function(){return h((function(e){return!e}))}}),label:"Copy tracks into the new view"}),i.default.createElement(u.FormControlLabel,{className:l.block,control:i.default.createElement(u.Checkbox,{checked:b,onChange:function(){return w((function(e){return!e}))}}),label:"Mirror tracks vertically in vertically stacked view"})),i.default.createElement(u.DialogActions,null,i.default.createElement(u.Button,{onClick:function(){var e=t.view,o=(0,d.getSession)(t);try{var i=a.snapshotFromBreakendFeature(n,e);i.views[0].offsetPx-=e.width/2+100,i.views[1].offsetPx-=e.width/2+100,i.featureData=n;var l=(0,s.getSnapshot)(e.tracks);i.views[0].tracks=l,i.views[1].tracks=b?l.slice().reverse():l,o.addView("BreakpointSplitView",i)}catch(e){console.error(e),o.notify("".concat(e))}r()},variant:"contained",color:"primary",autoFocus:!0},"OK"),i.default.createElement(u.Button,{onClick:function(){return r()},color:"secondary",variant:"contained"},"Cancel")))}));t.default=m},2225:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0});var o={WiggleBaseRenderer:!0,WiggleRendering:!0,linearWiggleDisplayModelFactory:!0,LinearWiggleDisplayReactComponent:!0,YSCALEBAR_LABEL_OFFSET:!0,Tooltip:!0};Object.defineProperty(t,"LinearWiggleDisplayReactComponent",{enumerable:!0,get:function(){return E.ReactComponent}}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return M.Tooltip}}),Object.defineProperty(t,"WiggleBaseRenderer",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"WiggleRendering",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"YSCALEBAR_LABEL_OFFSET",{enumerable:!0,get:function(){return E.YSCALEBAR_LABEL_OFFSET}}),t.default=void 0,Object.defineProperty(t,"linearWiggleDisplayModelFactory",{enumerable:!0,get:function(){return E.modelFactory}});var i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(10)),p=n(r(142)),m=n(r(167)),g=n(r(115)),h=r(29),v=r(99),y=n(r(205)),b=n(r(368)),w=n(r(369)),O=r(2226),C=R(r(2228)),k=R(r(285));Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))}));var E=r(2229),S=R(r(2234)),P=R(r(2236)),x=r(2238),j=r(64),M=r(941);function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(T=function(e){return e?r:t})(e)}function R(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=T(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var I=function(e){(0,c.default)(n,e);var t=D(n);function n(){var e;(0,i.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,f.default)((0,u.default)(e),"name","WigglePlugin"),(0,f.default)((0,u.default)(e),"exports",{LinearWiggleDisplayReactComponent:E.ReactComponent,XYPlotRendererReactComponent:S.ReactComponent,XYPlotRenderer:S.default,xyPlotRendererConfigSchema:S.configSchema,utils:k,WiggleBaseRenderer:b.default,linearWiggleDisplayModelFactory:E.modelFactory}),e}return(0,l.default)(n,[{key:"install",value:function(e){e.addTrackType((function(){var t=(0,h.ConfigurationSchema)("QuantitativeTrack",{},{baseConfiguration:(0,v.createBaseTrackConfig)(e)});return new m.default({name:"QuantitativeTrack",configSchema:t,stateModel:(0,v.createBaseTrackModel)(e,"QuantitativeTrack",t)})})),e.addDisplayType((function(){var t=(0,E.configSchemaFactory)(e);return new y.default({name:"LinearWiggleDisplay",configSchema:t,stateModel:(0,E.modelFactory)(e,t),trackType:"QuantitativeTrack",viewType:"LinearGenomeView",ReactComponent:E.ReactComponent})})),e.addAdapterType((function(){return new p.default({name:"BigWigAdapter",configSchema:O.configSchema,adapterCapabilities:["hasResolution","hasLocalStats","hasGlobalStats"],getAdapterClass:function(){return Promise.resolve().then((function(){return R(r(2239))})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,r,n){var a=(0,j.getFileName)(t),o={type:"BigWigAdapter",bigWigLocation:t};return/\.(bw|bigwig)$/i.test(a)&&!n||"BigWigAdapter"===n?o:e(t,r,n)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"BigWigAdapter"===t?"QuantitativeTrack":e(t)}})),e.addRendererType((function(){return new C.default({name:"DensityRenderer",ReactComponent:C.ReactComponent,configSchema:C.configSchema,pluginManager:e})})),e.addRendererType((function(){return new P.default({name:"LinePlotRenderer",ReactComponent:P.ReactComponent,configSchema:P.configSchema,pluginManager:e})})),e.addRendererType((function(){return new S.default({name:"XYPlotRenderer",ReactComponent:S.ReactComponent,configSchema:S.configSchema,pluginManager:e})})),e.addRpcMethod((function(){return new x.WiggleGetGlobalStats(e)})),e.addRpcMethod((function(){return new x.WiggleGetMultiRegionStats(e)}))}}]),n}(g.default);t.default=I},2226:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return a.default}});var a=n(r(2227))},2227:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=(0,r(29).ConfigurationSchema)("BigWigAdapter",{bigWigLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.bw",locationType:"UriLocation"}}},{explicitlyTyped:!0});t.default=n},2228:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return h.default}}),t.default=t.configSchema=void 0;var a=n(r(10)),o=n(r(12)),i=n(r(15)),l=n(r(16)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=r(29),f=r(32),p=r(285),m=n(r(530)),g=n(r(368)),h=n(r(369));function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var C=function(e){(0,u.default)(r,e);var t=O(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,l.default)(r,[{key:"draw",value:function(e,t){var r,n=t.features,a=t.regions,i=t.bpPerPx,l=t.scaleOpts,u=t.height,c=t.config,s=(0,o.default)(a,1)[0],m=(0,d.readConfObject)(c,"bicolorPivot"),g=(0,d.readConfObject)(c,"bicolorPivotValue"),h=(0,d.readConfObject)(c,"negColor"),y=(0,d.readConfObject)(c,"posColor");if("#f0f"===(0,d.readConfObject)(c,"color")){var b="none"!==m?(0,p.getScale)(w(w({},l),{},{pivotValue:g,range:[h,"white",y]})):(0,p.getScale)(w(w({},l),{},{range:["white",y]}));r=function(e){return b(e.get("score"))}}else r=function(e){return(0,d.readConfObject)(c,"color",{feature:e})};var O,C=v(n.values());try{for(C.s();!(O=C.n()).done;){var k=O.value,E=(0,f.featureSpanPx)(k,s,i),S=(0,o.default)(E,2),P=S[0],x=S[1]-P+.3;e.fillStyle=r(k),e.fillRect(P,0,x,u)}}catch(e){C.e(e)}finally{C.f()}}}]),r}(g.default);t.default=C;var k=(0,d.ConfigurationSchema)("DensityRenderer",{},{baseConfiguration:m.default,explicitlyTyped:!0});t.configSchema=k},2229:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"YSCALEBAR_LABEL_OFFSET",{enumerable:!0,get:function(){return i.YSCALEBAR_LABEL_OFFSET}}),Object.defineProperty(t,"configSchemaFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"modelFactory",{enumerable:!0,get:function(){return i.default}});var o=n(r(2230)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(370)),l=n(r(942));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}},2230:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.getRendererType("XYPlotRenderer").configSchema,r=e.getRendererType("DensityRenderer").configSchema,i=e.getRendererType("LinePlotRenderer").configSchema;return(0,n.ConfigurationSchema)("LinearWiggleDisplay",{autoscale:{type:"stringEnum",defaultValue:"local",model:o.types.enumeration("Autoscale type",["global","local","globalsd","localsd","zscore"]),description:"global/local using their min/max values or w/ standard deviations (globalsd/localsd)"},minimalTicks:{type:"boolean",defaultValue:!1,description:"use the minimal amount of ticks"},minScore:{type:"number",defaultValue:Number.MIN_VALUE,description:"minimum value for the y-scale"},maxScore:{type:"number",description:"maximum value for the y-scale",defaultValue:Number.MAX_VALUE},numStdDev:{type:"number",description:"number of standard deviations to use for autoscale types globalsd or localsd",defaultValue:3},scaleType:{type:"stringEnum",model:o.types.enumeration("Scale type",["linear","log"]),description:"The type of scale to use",defaultValue:"linear"},inverted:{type:"boolean",description:"draw upside down",defaultValue:!1},defaultRendering:{type:"stringEnum",model:o.types.enumeration("Rendering",["density","xyplot","line"]),defaultValue:"xyplot"},renderers:(0,n.ConfigurationSchema)("RenderersConfiguration",{DensityRenderer:r,XYPlotRenderer:t,LinePlotRenderer:i})},{baseConfiguration:a.baseLinearDisplayConfigSchema,explicitlyTyped:!0})};var n=r(29),a=r(143),o=r(17)},2231:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(36)),o=n(r(1)),i=r(14),l=r(345),u=(0,i.observer)((function(e){var t=e.model,r=e.orientation,n=t.ticks;return n?o.default.createElement(l.Axis,(0,a.default)({},n,{shadow:2,format:function(e){return e},style:{orient:"left"===r?l.LEFT:l.RIGHT}})):null}));t.default=u},2232:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=v(),r=e.model,n=e.handleClose,a=r.minScore,l=r.maxScore,h=r.scaleType,y=(0,i.useState)("".concat(a!==Number.MIN_VALUE?a:"")),b=(0,o.default)(y,2),w=b[0],O=b[1],C=(0,i.useState)("".concat(l!==Number.MAX_VALUE?l:"")),k=(0,o.default)(C,2),E=k[0],S=k[1],P=!(""!==w&&""!==E&&!Number.isNaN(+w)&&!Number.isNaN(+E))||+E>+w,x=!("log"===h&&""!==w&&!Number.isNaN(+w))||+w>0;return i.default.createElement(d.default,{open:!0,onClose:n},i.default.createElement(p.default,null,"Set min/max score for track",i.default.createElement(m.default,{className:t.closeButton,onClick:n},i.default.createElement(g.default,null))),i.default.createElement(f.default,{style:{overflowX:"hidden"}},i.default.createElement("div",{className:t.root},i.default.createElement(s.default,null,"Enter min/max score: "),P?null:i.default.createElement(s.default,{color:"error"},"Max is greater than or equal to min"),x?null:i.default.createElement(s.default,{color:"error"},"Min score should be greater than 0 for log scale"),i.default.createElement(c.default,{value:w,onChange:function(e){O(e.target.value)},placeholder:"Enter min score"}),i.default.createElement(c.default,{value:E,onChange:function(e){S(e.target.value)},placeholder:"Enter max score"}),i.default.createElement(u.default,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:20},disabled:!P,onClick:function(){r.setMinScore(""===w||Number.isNaN(+w)?void 0:+w),r.setMaxScore(""===E||Number.isNaN(+E)?void 0:+E),n()}},"Submit"))))};var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=h(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(34),u=n(r(70)),c=n(r(83)),s=n(r(54)),d=n(r(104)),f=n(r(124)),p=n(r(123)),m=n(r(56)),g=n(r(40));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(h=function(e){return e?r:t})(e)}var v=(0,l.makeStyles)((function(e){return{root:{},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))},2233:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.model,r=e.handleClose,n=d(),a=(0,i.useState)(!1),s=(0,o.default)(a,2),p=s[0],m=s[1];return i.default.createElement(l.Dialog,{open:!0,onClose:r},i.default.createElement(l.DialogTitle,null,"Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors",i.default.createElement(l.IconButton,{"aria-label":"close",className:n.closeButton,onClick:r},i.default.createElement(u.default,null))),i.default.createElement(l.DialogContent,null,i.default.createElement(l.FormControlLabel,{checked:!p,onClick:function(){return m(!1)},control:i.default.createElement(l.Radio,null),label:"Overall color"}),i.default.createElement(l.FormControlLabel,{checked:p,onClick:function(){return m(!0)},control:i.default.createElement(l.Radio,null),label:"Positive/negative color"}),p?i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Typography,null,"Positive color"),i.default.createElement(c.CompactPicker,{onChange:function(e){t.setPosColor(f(e.rgb)),t.setColor(void 0)}}),i.default.createElement(l.Typography,null,"Negative color"),i.default.createElement(c.CompactPicker,{onChange:function(e){t.setNegColor(f(e.rgb)),t.setColor(void 0)}})):i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Typography,null,"Overall color"),i.default.createElement(c.CompactPicker,{onChange:function(e){t.setColor(f(e.rgb))}}))),i.default.createElement(l.DialogActions,null,i.default.createElement(l.Button,{onClick:function(){t.setPosColor(void 0),t.setNegColor(void 0),t.setColor(void 0)},color:"secondary",variant:"contained"},"Restore default"),i.default.createElement(l.Button,{variant:"contained",color:"primary",type:"submit",onClick:function(){r()}},"Submit")))};var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(23),u=n(r(40)),c=r(371);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,l.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function f(e){if(e instanceof Object){var t=e,r=t.r,n=t.g,a=t.b;return"rgb(".concat(r,",").concat(n,",").concat(a,")")}return e}},2234:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return i.default}}),t.configSchema=void 0,Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var a=r(29),o=n(r(530)),i=n(r(369)),l=n(r(2235)),u=(0,a.ConfigurationSchema)("XYPlotRenderer",{},{baseConfiguration:o.default,explicitlyTyped:!0});t.configSchema=u},2235:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10)),o=n(r(12)),i=n(r(15)),l=n(r(16)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=r(29),f=r(32),p=n(r(483)),m=r(285),g=n(r(368)),h=r(370);function v(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var C=function(e){(0,u.default)(r,e);var t=O(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,l.default)(r,[{key:"draw",value:function(e,t){var r,n=t.features,a=t.bpPerPx,i=t.regions,l=t.scaleOpts,u=t.height,c=t.config,s=t.ticks,g=t.displayCrossHatches,y=(0,o.default)(i,1)[0],b=(y.end-y.start)/a,O=h.YSCALEBAR_LABEL_OFFSET,C=u-2*O,k=(0,d.readConfObject)(c,"bicolorPivotValue"),E=(0,d.readConfObject)(c,"negColor"),S=(0,d.readConfObject)(c,"posColor"),P=(0,d.readConfObject)(c,"filled"),x=(0,d.readConfObject)(c,"clipColor"),j=(0,d.readConfObject)(c,"highlightColor"),M=(0,d.readConfObject)(c,"summaryScoreMode"),T=(0,m.getScale)(w(w({},l),{},{range:[0,C]})),R=(0,m.getOrigin)(l.scaleType),D=T.domain(),I=(0,o.default)(D,2),A=I[0],_=I[1],F=function(e){return C-(T(e)||0)+O},L=function(e){return F(R)-F(e)},N="#f0f"===(0,d.readConfObject)(c,"color")?function(e,t){return t<k?E:S}:function(e,t){return(0,d.readConfObject)(c,"color",{feature:e})},B=A<k&&_>k,z=v(n.values());try{for(z.s();!(r=z.n()).done;){var H=r.value,W=(0,f.featureSpanPx)(H,y,a),V=(0,o.default)(W,2),G=V[0],U=V[1],q=H.get("score"),$=H.get("maxScore"),K=H.get("minScore"),J=q<A,Y=q>_,X=U-G+.4,Z=H.get("summary");if("max"===M)q=Z?$:q,e.fillStyle=N(H,q),e.fillRect(G,F(q),X,P?L(q):1);else if("min"===M)q=Z?K:q,e.fillStyle=N(H,q),e.fillRect(G,F(q),X,P?L(q):1);else if("whiskers"===M){var Q=N(H,q);Z&&(e.fillStyle=B?N(H,$):(0,p.default)(Q).lighten(.6).toString(),e.fillRect(G,F($),X,P?L($)-L(q):1)),e.fillStyle=B&&Z?(0,p.default)(N(H,$)).mix((0,p.default)(N(H,K))):Q,e.fillRect(G,F(q),X,P?L(q)-(Z?L(K):0):1),Z&&(e.fillStyle=B?N(H,K):(0,p.default)(Q).darken(.6).toString(),e.fillRect(G,F(K),X,P?L(K):1))}else e.fillStyle=N(H,q),e.fillRect(G,F(q),X,P?L(q):1);Y?(e.fillStyle=x,e.fillRect(G,0,X,4)):J&&"log"!==l.scaleType&&(e.fillStyle=x,e.fillRect(G,u-4,X,4)),H.get("highlighted")&&(e.fillStyle=j,e.fillRect(G,0,X,C))}}catch(e){z.e(e)}finally{z.f()}g&&(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.8)",s.values.forEach((function(t){e.beginPath(),e.moveTo(0,Math.round(F(t))),e.lineTo(b,Math.round(F(t))),e.stroke()})))}}]),r}(g.default);t.default=C},2236:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return i.default}}),t.configSchema=void 0,Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l.default}});var a=r(29),o=n(r(530)),i=n(r(369)),l=n(r(2237)),u=(0,a.ConfigurationSchema)("LinePlotRenderer",{},{baseConfiguration:o.default,explicitlyTyped:!0});t.configSchema=u},2237:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10)),o=n(r(12)),i=n(r(15)),l=n(r(16)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=r(29),f=r(32),p=r(285),m=n(r(368)),g=r(370);function h(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var O=function(e){(0,u.default)(r,e);var t=w(r);function r(){return(0,i.default)(this,r),t.apply(this,arguments)}return(0,l.default)(r,[{key:"draw",value:function(e,t){var r,n,a=t.features,i=t.regions,l=t.bpPerPx,u=t.scaleOpts,c=t.height,s=t.ticks.values,m=t.displayCrossHatches,v=t.config,y=(0,o.default)(i,1)[0],w=(y.end-y.start)/l,O=g.YSCALEBAR_LABEL_OFFSET,C=c-2*O,k=(0,d.readConfObject)(v,"clipColor"),E=(0,d.readConfObject)(v,"highlightColor"),S=(0,p.getScale)(b(b({},u),{},{range:[0,C]})),P=S.domain(),x=(0,o.default)(P,2),j=x[0],M=x[1],T=function(e){return C-S(e)+O},R="#f0f"===(0,d.readConfObject)(v,"color")?function(){return"grey"}:function(e){return(0,d.readConfObject)(v,"color",{feature:e})},D=h(a.values());try{for(D.s();!(n=D.n()).done;){var I=n.value,A=(0,f.featureSpanPx)(I,y,l),_=(0,o.default)(A,2),F=_[0],L=_[1],N=I.get("score"),B=N<j,z=N>M,H=L-F+.3,W=R(I);e.strokeStyle=W,e.beginPath(),y.reversed?(e.moveTo(L,T(void 0!==r?r:N)),e.lineTo(L,T(N)),e.lineTo(F,T(N))):(e.moveTo(F,T(void 0!==r?r:N)),e.lineTo(F,T(N)),e.lineTo(L,T(N))),e.stroke(),r=N,z?(e.fillStyle=k,e.fillRect(F,0,H,4)):B&&"log"!==u.scaleType&&(e.fillStyle=k,e.fillRect(F,C-4,H,C)),I.get("highlighted")&&(e.fillStyle=E,e.fillRect(F,0,H,C))}}catch(e){D.e(e)}finally{D.f()}m&&(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.8)",s.forEach((function(t){e.beginPath(),e.moveTo(0,Math.round(T(t))),e.lineTo(w,Math.round(T(t))),e.stroke()})))}}]),r}(m.default);t.default=O},2238:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.WiggleGetMultiRegionStats=t.WiggleGetGlobalStats=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(51)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(365),g=n(r(362)),h=r(32),v=r(90),y=n(r(922));function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var C=function(e){(0,s.default)(d,e);var t,r,n=O(d);function d(){var e;(0,i.default)(this,d);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,p.default)((0,u.default)(e),"name","WiggleGetGlobalStats"),e}return(0,l.default)(d,[{key:"deserializeArguments",value:(r=(0,o.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)((0,f.default)(d.prototype),"deserializeArguments",this).call(this,t,r);case 2:return n=e.sent,e.abrupt("return",w(w({},n),{},{filters:t.filters?new y.default({filters:t.filters}):void 0}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(t=(0,o.default)(a.default.mark((function e(t,r){var n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.adapterConfig,i=n.sessionId,e.next=6,(0,m.getAdapter)(this.pluginManager,i,o);case 6:return l=e.sent,u=l.dataAdapter,e.abrupt("return",u.getGlobalStats(n));case 9:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),d}(g.default);t.WiggleGetGlobalStats=C;var k=function(e){(0,s.default)(g,e);var t,r,n,d=O(g);function g(){var e;(0,i.default)(this,g);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return e=d.call.apply(d,[this].concat(r)),(0,p.default)((0,u.default)(e),"name","WiggleGetMultiRegionStats"),e}return(0,l.default)(g,[{key:"deserializeArguments",value:(n=(0,o.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)((0,f.default)(g.prototype),"deserializeArguments",this).call(this,t,r);case 2:return n=e.sent,e.abrupt("return",w(w({},n),{},{filters:t.filters?new y.default({filters:t.filters}):void 0}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"serializeArguments",value:(r=(0,o.default)(a.default.mark((function e(t,r){var n,o,i,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(n=this.pluginManager.rootModel)||void 0===n||null===(o=n.session)||void 0===o?void 0:o.assemblyManager){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,(0,h.renameRegionsIfNeeded)(i,w(w({},t),{},{filters:t.filters&&t.filters.toJSON().filters}));case 5:return l=e.sent,e.abrupt("return",(0,c.default)((0,f.default)(g.prototype),"serializeArguments",this).call(this,l,r));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(t=(0,o.default)(a.default.mark((function e(t,r){var n,o,i,l,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,r);case 2:return n=e.sent,o=n.regions,i=n.adapterConfig,l=n.sessionId,e.next=6,(0,m.getAdapter)(this.pluginManager,l,i);case 6:if(u=e.sent,!((c=u.dataAdapter)instanceof v.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",c.getMultiRegionStats(o,n));case 10:throw new Error("Data adapter not found");case 11:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),g}(g.default);t.WiggleGetMultiRegionStats=k},2239:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(10)),p=r(534),m=r(90),g=r(100),h=r(32),v=r(116),y=n(r(98)),b=r(52),w=r(29),O=r(914);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=function(e){(0,c.default)(C,e);var t,r,n,s,d,m=E(C);function C(e,t,r){var n;return(0,i.default)(this,C),n=m.call(this,e,t,r),(0,f.default)((0,u.default)(n),"bigwig",void 0),n.bigwig=new p.BigWig({filehandle:(0,g.openLocation)((0,w.readConfObject)(e,"bigWigLocation"),n.pluginManager)}),n}return(0,l.default)(C,[{key:"setup",value:(d=(0,o.default)(a.default.mark((function e(t){var r,n,o=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(t||{}).statusCallback,n=void 0===r?function(){}:r,e.abrupt("return",(0,h.updateStatus)("Downloading bigwig header",n,(function(){return o.bigwig.getHeader(t)})));case 2:case"end":return e.stop()}}),e)}))),function(e){return d.apply(this,arguments)})},{key:"getRefNames",value:(s=(0,o.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t);case 2:return r=e.sent,n=r.refsByName,e.abrupt("return",Object.keys(n));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"refIdToName",value:(n=(0,o.default)(a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return n=e.sent,o=n.refsByNumber,e.abrupt("return",null===(r=o[t])||void 0===r?void 0:r.name);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getGlobalStats",value:(r=(0,o.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t);case 2:return r=e.sent,n=r.totalSummary,e.abrupt("return",(0,O.rectifyStats)(n));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.refName,i=e.start,l=e.end,u=r.bpPerPx,c=void 0===u?0:u,s=r.signal,d=r.resolution,f=void 0===d?1:d,p=r.statusCallback,m=void 0===p?function(){}:p;return(0,v.ObservableCreate)(function(){var e=(0,o.default)(a.default.mark((function e(o){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m("Downloading bigwig data"),e.next=3,t.bigwig.getFeatureStream(n,i,l,k(k({},r),{},{basesPerSpan:c/f}));case 3:e.sent.pipe((0,b.mergeAll)(),(0,b.map)((function(e){return new y.default({id:"".concat(n,":").concat(e.start,"-").concat(e.end),data:k(k({},e),{},{refName:n})})}))).subscribe(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s)}},{key:"estimateRegionsStats",value:(t=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{featureDensity:0});case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),C}(m.BaseFeatureDataAdapter);t.default=S,(0,f.default)(S,"capabilities",["hasResolution","hasLocalStats","hasGlobalStats"])},2240:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.config,r=e.handleClose,n=h(),a=(0,u.useState)(),g=(0,l.default)(a,2),v=g[0],y=g[1],b=(0,u.useState)(),w=(0,l.default)(b,2),O=w[0],C=w[1],k=(0,u.useState)(!1),E=(0,l.default)(k,2),S=E[0],P=E[1],x=(0,p.getSession)(t),j=x.rpcManager,M=(0,f.readConfObject)(t);(0,u.useEffect)((function(){var e=new AbortController,r=e.signal,n=!1;return(0,i.default)(o.default.mark((function e(){var a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(0,f.readConfObject)(t,"adapter"),e.next=4,j.call(t.trackId,"CoreGetInfo",{adapterConfig:a,signal:r});case 4:i=e.sent,n||y(i),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n||(console.error(e.t0),C(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))(),function(){e.abort(),n=!0}}),[t,j]);var T=(0,f.readConfObject)(t,"name");if("ReferenceSequenceTrack"===(0,f.readConfObject)(t,"type")){var R=x.assemblies.find((function(e){return e.sequence===t.configuration}));T=R?"Reference Sequence (".concat((0,f.readConfObject)(R,"name"),")"):"Reference Sequence"}var D="string"==typeof v?{header:"<pre>".concat(v.replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</pre>")}:v||{};return u.default.createElement(s.Dialog,{open:!0,onClose:r},u.default.createElement(s.DialogTitle,null,T,u.default.createElement(s.IconButton,{className:n.closeButton,onClick:function(){return r()}},u.default.createElement(d.default,null))),u.default.createElement(s.DialogContent,null,u.default.createElement(m.BaseCard,{title:"Configuration"},u.default.createElement(s.Button,{variant:"contained",style:{float:"right"},onClick:function(){(0,c.default)(JSON.stringify(M,null,2)),P(!0),setTimeout((function(){return P(!1)}),1e3)}},S?"Copied to clipboard!":"Copy config"),u.default.createElement(m.Attributes,{attributes:M,omit:["displays","baseUri","refNames"]})),null!==v?u.default.createElement(m.BaseCard,{title:"File info"},O?u.default.createElement(s.Typography,{color:"error"},"".concat(O)):void 0===v?"Loading file data...":u.default.createElement(m.Attributes,{attributes:D})):null))};var o=n(r(19)),i=n(r(21)),l=n(r(12)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=g(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=n(r(139)),s=r(23),d=n(r(40)),f=r(29),p=r(32),m=r(363);function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(g=function(e){return e?r:t})(e)}var h=(0,s.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))},2241:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.extend((function(){return function(e){return{views:{get snackbarMessages(){return e}},actions:{notify:function(e,t,r){var n=this;this.pushSnackbarMessage(e,t,r),"info"!==t&&"success"!==t||setTimeout((function(){n.removeSnackbarMessage(e)}),5e3)},pushSnackbarMessage:function(t,r,n){return e.push([t,r,n])},popSnackbarMessage:function(){return e.pop()},removeSnackbarMessage:function(t){var r=e.find((function(e){return e[0]===t}));r&&e.remove(r)}}}}(n.observable.array())}))};var n=r(42)},2242:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.assembly,r=e.tracks,n=e.configuration,l=e.aggregateTextSearchAdapters,u=e.plugins,c=e.onChange,s=(0,i.default)(u||[]),d=s.model,f=s.pluginManager,p=e.defaultSession;p||(p={name:"this session",view:{id:"circularView",type:"CircularView"}});var m={config:{configuration:n,assembly:t,tracks:r,aggregateTextSearchAdapters:l,defaultSession:p},assemblyManager:{},session:p},g=d.create(m,{pluginManager:f});f.setRootModel(g),f.configure(),(0,a.autorun)((function(e){if(g.assemblyManager.allPossibleRefNames&&g.assemblyManager.allPossibleRefNames.length&&g.session.view.initialized){var t=g.assemblyManager.assemblies[0];g.session.view.setDisplayedRegions(t.regions),e.dispose()}})),c&&(0,o.onPatch)(g,c);return g};var a=r(42),o=r(17),i=n(r(909))},2243:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return l.apply(this,arguments)};var a=n(r(19)),o=n(r(21)),i=n(r(2244));function l(){return(l=(0,o.default)(a.default.mark((function e(t,r){var n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new i.default(t,r)).installGlobalReExports(window),e.next=4,n.load();case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2244:function(e,t,r){"use strict";(function(e){var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PluginSourceConfigurationSchema=void 0,t.isCJSPluginDefinition=y,t.isESMPluginDefinition=v,t.isUMDPluginDefinition=h;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(10)),s=n(r(11)),d=n(r(896)),f=r(29),p=n(r(913)),m=r(32),g=(0,f.ConfigurationSchema)("PluginSource",{name:{type:"string",defaultValue:""},url:{type:"string",defaultValue:""}});function h(e){return(void 0!==e.umdUrl||void 0!==e.url)&&void 0!==e.name}function v(e){return void 0!==e.esmUrl}function y(e){return void 0!==e.cjsUrl}function b(){return"object"===("undefined"==typeof self?"undefined":(0,s.default)(self))&&self.self===self&&self||"object"===(void 0===e?"undefined":(0,s.default)(e))&&e.global===e&&e||this}t.PluginSourceConfigurationSchema=g;var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1?arguments[1]:void 0;(0,l.default)(this,e),(0,c.default)(this,"definitions",[]),(0,c.default)(this,"fetchESM",void 0),(0,c.default)(this,"fetchCJS",void 0),this.fetchESM=null==r?void 0:r.fetchESM,this.fetchCJS=null==r?void 0:r.fetchCJS,this.definitions=JSON.parse(JSON.stringify(t))}var t,r,n,s,f;return(0,u.default)(e,[{key:"loadScript",value:function(e){var t=b();if(!function(e){return Boolean("WorkerGlobalScope"in e)}(t))return(0,d.default)(e);if(t&&t.importScripts)return new Promise((function(r,n){try{t.importScripts(e)}catch(t){return void n(t||new Error("failed to load ".concat(e)))}r()}));throw new Error("cannot figure out how to load external JS scripts in this environment")}},{key:"loadCJSPlugin",value:(f=(0,i.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.cjsUrl,e.prev=1,n=new URL(r,b().location.href),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),new Error("Error parsing URL: ".concat(r));case 9:if("http:"===n.protocol||"https:"===n.protocol){e.next=11;break}throw new Error('Cannot load plugins using protocol "'.concat(n.protocol,'"'));case 11:if(this.fetchCJS){e.next=13;break}throw new Error("No fetchCJS callback provided");case 13:return e.abrupt("return",this.fetchCJS(n.href));case 14:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return f.apply(this,arguments)})},{key:"loadESMPlugin",value:(s=(0,i.default)(a.default.mark((function e(t){var r,n,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,n=new URL(t.esmUrl,b().location.href),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.error(e.t0),new Error("Error parsing URL: ".concat(t.esmUrl));case 8:if("http:"===n.protocol||"https:"===n.protocol){e.next=10;break}throw new Error('cannot load plugins using protocol "'.concat(n.protocol,'"'));case 10:return e.next=12,null===(r=this.fetchESM)||void 0===r?void 0:r.call(this,n.href);case 12:if(o=e.sent){e.next=15;break}throw new Error("Could not load ESM plugin: ".concat(n));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,this,[[0,4]])}))),function(e){return s.apply(this,arguments)})},{key:"loadUMDPlugin",value:(n=(0,i.default)(a.default.mark((function e(t){var r,n,o,i,l,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="url"in t?t.url:t.umdUrl,e.prev=1,n=new URL(r,b().location.href),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),new Error("Error parsing URL: ".concat(r));case 9:if("http:"===n.protocol||"https:"===n.protocol){e.next=11;break}throw new Error('cannot load plugins using protocol "'.concat(n.protocol,'"'));case 11:return e.next=13,this.loadScript(n.href);case 13:if(o=t.name,i="JBrowsePlugin".concat(o),l=b(),u=l[i]){e.next=19;break}throw new Error("Failed to load UMD bundle for ".concat(o,", ").concat(l.constructor.name,".").concat(i," is undefined"));case 19:return e.abrupt("return",u);case 20:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return n.apply(this,arguments)})},{key:"loadPlugin",value:(r=(0,i.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!m.isElectron||!y(t)){e.next=6;break}return e.next=3,this.loadCJSPlugin(t);case 3:r=e.sent,e.next=23;break;case 6:if(!v(t)){e.next=12;break}return e.next=9,this.loadESMPlugin(t);case 9:r=e.sent,e.next=23;break;case 12:if(!h(t)){e.next=18;break}return e.next=15,this.loadUMDPlugin(t);case 15:r=e.sent,e.next=23;break;case 18:if(m.isElectron||!y(t)){e.next=22;break}throw new Error("Only CommonJS plugin found, but not in a NodeJS environment: ".concat(JSON.stringify(t)));case 22:throw new Error("Could not determine plugin type: ".concat(JSON.stringify(t)));case 23:return e.abrupt("return",r.default);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"installGlobalReExports",value:function(e){e.JBrowseExports=Object.fromEntries(Object.entries(p.default).map((function(e){var t=(0,o.default)(e,2);return[t[0],t[1]]})))}},{key:"load",value:(t=(0,i.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(this.definitions.map(function(){var e=(0,i.default)(a.default.mark((function e(r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadPlugin(r);case 2:return e.t0=e.sent,e.t1=r,e.abrupt("return",{plugin:e.t0,definition:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.default=w}).call(this,r(49))},2249:function(e,t,r){"use strict";r.r(t);var n=r(221),a=r.n(n),o=r(36),i=r.n(o),l=r(201),u=r.n(l),c=r(1),s=r.n(c),d=r(13),f=r(219),p=r(218),m=r(869),g=(r(172),"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function h(e){cancelAnimationFrame(e.id)}function v(e,t){var r=g();var n={id:requestAnimationFrame((function a(){g()-r>=t?e.call(null):n.id=requestAnimationFrame(a)}))};return n}var y=null;function b(e){if(void 0===e&&(e=!1),null===y||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),a=n.style;return a.width="100px",a.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?y="positive-descending":(t.scrollLeft=1,y=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),y}return y}var w=function(e,t){return e};function O(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,a=e.getItemSize,o=e.getOffsetForIndexAndAlignment,i=e.getStartIndexForOffset,l=e.getStopIndexForStartIndex,u=e.initInstanceProps,s=e.shouldResetStyleCacheOnItemSizeChange,g=e.validateProps;return(t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=u(n.props,Object(f.a)(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(f.a)(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object(m.a)((function(e,t,r,a){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:a})})),n._callOnScroll=void 0,n._callOnScroll=Object(m.a)((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,i=o.direction,l=o.itemSize,u=o.layout,c=n._getItemStyleCache(s&&l,s&&u,s&&i);if(c.hasOwnProperty(e))t=c[e];else{var d=r(n.props,e,n._instanceProps),f=a(n.props,e,n._instanceProps),p="horizontal"===i||"horizontal"===u,m="rtl"===i,g=p?d:0;c[e]=t={position:"absolute",left:m?void 0:g,right:m?g:void 0,top:p?0:d,height:p?"100%":f,width:p?f:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=Object(m.a)((function(e,t,r){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,a=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===a)return null;var t=n.props.direction,i=a;if("rtl"===t)switch(b()){case"negative":i=-a;break;case"positive-descending":i=o-r-a}return i=Math.max(0,Math.min(i,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,a=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,a-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&h(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=v(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}Object(p.a)(t,e),t.getDerivedStateFromProps=function(e,t){return C(e,t),g(e),null};var y=t.prototype;return y.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},y.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props.itemCount,n=this.state.scrollOffset;e=Math.max(0,Math.min(e,r-1)),this.scrollTo(o(this.props,e,t,n,this._instanceProps))},y.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var a=this._outerRef;"horizontal"===t||"horizontal"===n?a.scrollLeft=r:a.scrollTop=r}this._callPropsCallbacks()},y.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,a=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(b()){case"negative":o.scrollLeft=-a;break;case"positive-ascending":o.scrollLeft=a;break;default:var i=o.clientWidth,l=o.scrollWidth;o.scrollLeft=l-i-a}else o.scrollLeft=a;else o.scrollTop=a}this._callPropsCallbacks()},y.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&h(this._resetIsScrollingTimeoutId)},y.render=function(){var e=this.props,t=e.children,r=e.className,a=e.direction,o=e.height,i=e.innerRef,l=e.innerElementType,u=e.innerTagName,s=e.itemCount,f=e.itemData,p=e.itemKey,m=void 0===p?w:p,g=e.layout,h=e.outerElementType,v=e.outerTagName,y=e.style,b=e.useIsScrolling,O=e.width,C=this.state.isScrolling,k="horizontal"===a||"horizontal"===g,E=k?this._onScrollHorizontal:this._onScrollVertical,S=this._getRangeToRender(),P=S[0],x=S[1],j=[];if(s>0)for(var M=P;M<=x;M++)j.push(Object(c.createElement)(t,{data:f,key:m(M,f),index:M,isScrolling:b?C:void 0,style:this._getItemStyle(M)}));var T=n(this.props,this._instanceProps);return Object(c.createElement)(h||v||"div",{className:r,onScroll:E,ref:this._outerRefSetter,style:Object(d.a)({position:"relative",height:o,width:O,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},y)},Object(c.createElement)(l||u||"div",{children:j,ref:i,style:{height:k?"100%":T,pointerEvents:C?"none":void 0,width:k?T:"100%"}}))},y._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],a=e[3];this._callOnItemsRendered(t,r,n,a)}if("function"==typeof this.props.onScroll){var o=this.state,i=o.scrollDirection,l=o.scrollOffset,u=o.scrollUpdateWasRequested;this._callOnScroll(i,l,u)}},y._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,a=n.isScrolling,o=n.scrollDirection,u=n.scrollOffset;if(0===t)return[0,0,0,0];var c=i(this.props,u,this._instanceProps),s=l(this.props,c,u,this._instanceProps),d=a&&"backward"!==o?1:Math.max(1,r),f=a&&"forward"!==o?1:Math.max(1,r);return[Math.max(0,c-d),Math.max(0,Math.min(t-1,s+f)),c,s]},t}(c.PureComponent)).defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var C=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},k=function(e,t,r){var n=e.itemSize,a=r.itemMetadataMap,o=r.lastMeasuredIndex;if(t>o){var i=0;if(o>=0){var l=a[o];i=l.offset+l.size}for(var u=o+1;u<=t;u++){var c=n(u);a[u]={offset:i,size:c},i+=c}r.lastMeasuredIndex=t}return a[t]},E=function(e,t,r,n,a){for(;n<=r;){var o=n+Math.floor((r-n)/2),i=k(e,o,t).offset;if(i===a)return o;i<a?n=o+1:i>a&&(r=o-1)}return n>0?n-1:0},S=function(e,t,r,n){for(var a=e.itemCount,o=1;r<a&&k(e,r,t).offset<n;)r+=o,o*=2;return E(e,t,Math.min(r,a-1),Math.floor(r/2),n)},P=function(e,t){var r=e.itemCount,n=t.itemMetadataMap,a=t.estimatedItemSize,o=t.lastMeasuredIndex,i=0;if(o>=r&&(o=r-1),o>=0){var l=n[o];i=l.offset+l.size}return i+(r-o-1)*a},x=O({getItemOffset:function(e,t,r){return k(e,t,r).offset},getItemSize:function(e,t,r){return r.itemMetadataMap[t].size},getEstimatedTotalSize:P,getOffsetForIndexAndAlignment:function(e,t,r,n,a){var o=e.direction,i=e.height,l=e.layout,u=e.width,c="horizontal"===o||"horizontal"===l?u:i,s=k(e,t,a),d=P(e,a),f=Math.max(0,Math.min(d-c,s.offset)),p=Math.max(0,s.offset-c+s.size);switch("smart"===r&&(r=n>=p-c&&n<=f+c?"auto":"center"),r){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);case"auto":default:return n>=p&&n<=f?n:n<p?p:f}},getStartIndexForOffset:function(e,t,r){return function(e,t,r){var n=t.itemMetadataMap,a=t.lastMeasuredIndex;return(a>0?n[a].offset:0)>=r?E(e,t,a,0,r):S(e,t,Math.max(0,a),r)}(e,r,t)},getStopIndexForStartIndex:function(e,t,r,n){for(var a=e.direction,o=e.height,i=e.itemCount,l=e.layout,u=e.width,c="horizontal"===a||"horizontal"===l?u:o,s=k(e,t,n),d=r+c,f=s.offset+s.size,p=t;p<i-1&&f<d;)p++,f+=k(e,p,n).size;return p},initInstanceProps:function(e,t){var r={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,n){void 0===n&&(n=!0),r.lastMeasuredIndex=Math.min(r.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),n&&t.forceUpdate()},r},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}}),j=O({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n){var a=e.direction,o=e.height,i=e.itemCount,l=e.itemSize,u=e.layout,c=e.width,s="horizontal"===a||"horizontal"===u?c:o,d=Math.max(0,i*l-s),f=Math.min(d,t*l),p=Math.max(0,t*l-s+l);switch("smart"===r&&(r=n>=p-s&&n<=f+s?"auto":"center"),r){case"start":return f;case"end":return p;case"center":var m=Math.round(p+(f-p)/2);return m<Math.ceil(s/2)?0:m>d+Math.floor(s/2)?d:m;case"auto":default:return n>=p&&n<=f?n:n<p?p:f}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,a=e.height,o=e.itemCount,i=e.itemSize,l=e.layout,u=e.width,c=t*i,s="horizontal"===n||"horizontal"===l?u:a,d=Math.ceil((s+r-c)/i);return Math.max(0,Math.min(o-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});var M=r(30),T=r.n(M),R=r(868),D=function(){},I=function(e,t){return void 0===t&&(t=null),{child:null,isShown:!t||t.public.isOpen&&t.isShown,parent:t,public:e,sibling:null,visited:!1}},A=function(e,t){return(0,t.getRecordData)(e).data.id},_=function(e){var t=e.index,r=e.data,n=r.component,a=r.getRecordData,o=r.treeData,i=e.style,l=e.isScrolling,u=a(t);return s.a.createElement(n,Object.assign({isScrolling:l,style:i,treeData:o},u))},F=function(e){return function(t,r,n){return n.refresh?function(e,t,r){var n=e.createRecord,a=t.buildingTaskTimeout,o=t.placeholder,i=t.async,l=void 0!==i&&i,u=t.treeWalker,c=l&&void 0!==r.records,s=r.records,d=[],f=new Map,p=a?{timeout:a}:void 0,m=new WeakMap,g=u(),h=g.next().value,v=n(h.data,r,void 0,c?s.get(h.data.id):void 0);f.set(v.public.data.id,v),m.set(v,h);var y=v,b=!0,w=v,O=void 0!==o&&!(null===o&&!r.order),C=O?function(e){return e.timeRemaining()>0}:function(){return!0},k=function e(t){for(;null!==y;){if(!C(t))return void requestIdleCallback(e,p);if(y.visited)y.visited=!1,y=null!==y.sibling?y.sibling:y.parent,w=y;else{var a=g.next(m.get(y)).value;if(void 0===a){b?b=!1:(y.isShown&&d.push(y.public.data.id),y.visited=null!==y.child,y=null!==y.child?y.child:null!==y.sibling?y.sibling:y.parent),w=y;continue}var o=n(a.data,r,b?void 0:y,c?s.get(a.data.id):void 0);f.set(o.public.data.id,o),m.set(o,a),b||w!==y?w.sibling=o:w.child=o,w=o}}O&&r.setState({order:d,records:f,updateRequest:{}})};return O?requestIdleCallback(k,p):k(),void 0!==o&&l&&r.order?r:{order:d,records:f}}(e,t,r):function(e,t){var r=e.order,n=e.records,a=t.opennessState;if("object"!=typeof a)return null;for(var o in a)if(n.has(o)){var i=a[o],l=n.get(o),u="boolean"==typeof i?{open:i}:i,c=u.open,s=u.subtreeCallback,d=void 0===s?D:s,f=D,p=D;l.isShown&&(c?function(){for(var e=r.indexOf(o),t=l;null!==t;){if(null!==t.sibling){t=t.sibling;break}t=t.parent}var n=null===t?r.length-1-e:r.indexOf(t.public.data.id)-1-e,a=[[e+1,n]];f=function(t){if(t.isShown=!t.parent||t.parent.public.isOpen&&t.parent.isShown,t.isShown){var r=a[a.length-1];r.push(t.public.data.id),32770===r.length&&a.push([e+1+32768*a.length,0])}},p=function(){for(var e=0;e<a.length;e++){var t;(t=r).splice.apply(t,a[e])}}}():l.public.isOpen&&function(){var e=r.indexOf(o),t=0;f=function(e){e.isShown&&(t+=1),e.isShown=!e.parent||e.parent.public.isOpen&&e.parent.isShown},p=function(){r.splice(e+1,t)}}());for(var m=l;null!==m;)m.visited?(m.visited=!1,m=m===l?null:null!==m.sibling?m.sibling:m.parent):(m.public.isOpen=m===l?c:m.public.isOpen,d(m.public,l.public),m!==l&&f(m),m.visited=null!==m.child,m=null!==m.child?m.child:m===l?null:null!==m.sibling?m.sibling:m.parent);p()}return{order:r,records:n,updateRequest:{}}}(r,n)}},L=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).getRecordData=n.getRecordData.bind(T()(n)),n.state={list:Object(c.createRef)(),recomputeTree:n.recomputeTree.bind(T()(n)),setState:n.setState.bind(T()(n))},n}u()(t,e),t.getDerivedStateFromProps=function(e,t){var r=e.listRef,n=void 0===r?null:r,a=e.treeWalker,o=t.computeTree,l=t.list,u=t.order,c=t.treeWalker;return i()({attachRefs:Object(R.a)([l,n])},a===c&&u?null:o(e,t,{refresh:!0}),{treeWalker:a})};var r=t.prototype;return r.getItemData=function(){var e=this.props,t=e.children,r=e.itemData;return{component:t,getRecordData:this.getRecordData,treeData:r}},r.getRecordData=function(e){var t=this.state,r=t.order;return t.records.get(r[e]).public},r.recomputeTree=function(e){var t=this;return new Promise((function(r){t.setState((function(r){return r.computeTree(t.props,r,{opennessState:e})}),r)}))},r.scrollTo=function(e){var t;null==(t=this.state.list.current)||t.scrollTo(e)},r.scrollToItem=function(e,t){var r;null==(r=this.state.list.current)||r.scrollToItem(this.state.order.indexOf(e),t)},t}(c.PureComponent);L.defaultProps={rowComponent:_};var N=L,B=F({createRecord:function(e,t,r,n){var a=t.recomputeTree;return I({data:e,isOpen:n?n.public.isOpen:e.isOpenByDefault,setOpen:function(t){var r;return a(((r={})[e.id]=t,r))}},r)}}),z=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).state=i()({},n.state,{computeTree:B}),n}return u()(t,e),t.prototype.render=function(){var e=this.props,t=(e.children,e.listRef,e.placeholder),r=(e.treeWalker,e.rowComponent),n=a()(e,["children","listRef","placeholder","treeWalker","rowComponent"]),o=this.state,i=o.attachRefs,l=o.order;return t&&0===l.length?t:s.a.createElement(j,Object.assign({},n,{itemCount:l.length,itemData:this.getItemData(),itemKey:A,ref:i}),r)},t}(N),H=F({createRecord:function(e,t,r,n){var a=t.recomputeTree,o=t.resetAfterId,i=I({data:e,height:n?n.public.height:e.defaultHeight,isOpen:n?n.public.isOpen:e.isOpenByDefault,resize:function(e,t){i.public.height=e,o(i.public.data.id,t)},setOpen:function(t){var r;return a(((r={})[e.id]=t,r))}},r);return i}}),W=function(e){function t(t,r){var n;return(n=e.call(this,t,r)||this).getItemSize=n.getItemSize.bind(T()(n)),n.state=i()({},n.state,{computeTree:H,resetAfterId:n.resetAfterId.bind(T()(n))}),n}u()(t,e);var r=t.prototype;return r.resetAfterId=function(e,t){var r;void 0===t&&(t=!1);var n=this.state,a=n.list,o=n.order;null==(r=a.current)||r.resetAfterIndex(o.indexOf(e),t)},r.recomputeTree=function(t){var r=this;return e.prototype.recomputeTree.call(this,t).then((function(){var e;null==(e=r.state.list.current)||e.resetAfterIndex(0,!0)}))},r.render=function(){var e=this.props,t=(e.children,e.placeholder),r=e.itemSize,n=e.rowComponent,o=(e.treeWalker,a()(e,["children","placeholder","itemSize","rowComponent","treeWalker"])),i=this.state,l=i.attachRefs,u=i.order;return t&&0===u.length?t:s.a.createElement(x,Object.assign({},o,{itemCount:u.length,itemData:this.getItemData(),itemKey:A,itemSize:null!=r?r:this.getItemSize,ref:l}),n)},r.getItemSize=function(e){return this.getRecordData(e).height},t}(N);r.d(t,"FixedSizeTree",(function(){return z})),r.d(t,"VariableSizeTree",(function(){return W})),r.d(t,"Row",(function(){return _}))},2297:function(e,t,r){"use strict";function n(e,t){return()=>null}r.d(t,"a",(function(){return n}))},281:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(10)),p=n(r(1)),m=r(166);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var h=function(e){(0,c.default)(n,e);var t,r=g(n);function n(e){var t;if((0,i.default)(this,n),t=r.call(this,e),(0,f.default)((0,u.default)(t),"ReactComponent",void 0),(0,f.default)((0,u.default)(t),"supportsSVG",!1),(0,f.default)((0,u.default)(t),"configSchema",void 0),(0,f.default)((0,u.default)(t),"pluginManager",void 0),t.ReactComponent=e.ReactComponent,t.configSchema=e.configSchema,t.pluginManager=e.pluginManager,!t.ReactComponent)throw new Error("no ReactComponent defined for renderer ".concat(t.name));if(!(0,m.getDefaultValue)(t.configSchema).type)throw new Error("".concat(t.name," config schema ").concat(t.configSchema.name," is not explicitlyTyped"));if(!t.pluginManager)throw new Error("no plugin manager defined for renderer ".concat(t.name));return t}return(0,l.default)(n,[{key:"render",value:(t=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{reactElement:p.default.createElement(this.ReactComponent,t,null)});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"freeResources",value:function(){return 0}}]),n}(n(r(114)).default);t.default=h},282:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(15)),o=n(r(16)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var f=function(e){(0,l.default)(r,e);var t=d(r);function r(e){var n;if((0,a.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"ReactComponent",void 0),(0,s.default)((0,i.default)(n),"stateModel",void 0),(0,s.default)((0,i.default)(n),"displayTypes",[]),n.ReactComponent=e.ReactComponent,n.stateModel=e.stateModel,!n.ReactComponent)throw new Error("no ReactComponent defined for view ".concat(n.name));if(!n.stateModel)throw new Error("no stateModel defined for view ".concat(n.name));return n}return(0,o.default)(r,[{key:"addDisplayType",value:function(e){this.displayTypes.push(e)}}]),r}(n(r(114)).default);t.default=f},283:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(19)),i=n(r(21)),l=n(r(36)),u=n(r(45)),c=n(r(10)),s=n(r(15)),d=n(r(16)),f=n(r(25)),p=n(r(26)),m=n(r(24)),g=n(r(1)),h=r(34),v=r(185),y=r(921),b=r(17),w=r(32),O=n(r(281)),C=n(r(922)),k=r(84),E=n(r(923)),S=["html"];function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(P=function(e){return e?r:t})(e)}function x(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=P(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,m.default)(e);if(t){var a=(0,m.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,p.default)(this,r)}}var R=function(e){(0,f.default)(p,e);var t,n,a,c=T(p);function p(){return(0,s.default)(this,p),c.apply(this,arguments)}return(0,d.default)(p,[{key:"serializeArgsInClient",value:function(e){return M(M({},e),{},{config:(0,b.isStateTreeNode)(e.config)?(0,b.getSnapshot)(e.config):e.config,filters:e.filters&&e.filters.toJSON().filters})}},{key:"deserializeResultsInClient",value:function(e,t){e.html;var r=(0,u.default)(e,S);return t.exportSVG?M(M({},e),{},{html:this.supportsSVG?e.html:'<text y="12" fill="black">SVG export not supported for this track</text>'}):M(M({},r),{},{reactElement:g.default.createElement(E.default,(0,l.default)({},t,e,{RenderingComponent:this.ReactComponent}))})}},{key:"deserializeArgsInWorker",value:function(e){var t=M({},e);return t.config=this.configSchema.create(e.config||{},{pluginManager:this.pluginManager}),t.filters=new C.default({filters:e.filters}),t}},{key:"serializeResultsInWorker",value:function(e,t){var r=(0,y.renderToString)(g.default.createElement(h.ThemeProvider,{theme:(0,k.createJBrowseTheme)(t.theme)},e.reactElement));return delete e.reactElement,M(M({},e),{},{html:r})}},{key:"renderInClient",value:(a=(0,i.default)(o.default.mark((function e(t,n){var a,i,l,u,c,s,d;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.call(n.sessionId,"CoreRender",n);case 2:if(!("canvasRecordedData"in(a=e.sent))){e.next=14;break}return i=a.width,l=a.height,u=a.canvasRecordedData,e.next=7,Promise.resolve().then((function(){return x(r(729))}));case 7:c=e.sent,s=new c.default(i,l),new v.CanvasSequence(u).execute(s),d=s.getSvg(),a.html=d.innerHTML,delete a.reactElement;case 14:return e.abrupt("return",a);case 15:case"end":return e.stop()}}),e)}))),function(e,t){return a.apply(this,arguments)})},{key:"renderInWorker",value:(n=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,l,u=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.signal,n=t.statusCallback,a=void 0===n?function(){}:n,i=this.deserializeArgsInWorker(t),e.next=4,(0,w.updateStatus)("Rendering plot",a,(function(){return u.render(i)}));case 4:return l=e.sent,(0,w.checkAbortSignal)(r),e.abrupt("return",(0,w.updateStatus)("Serializing results",a,(function(){return u.serializeResultsInWorker(l,i)})));case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"freeResourcesInClient",value:(t=(0,i.default)(o.default.mark((function e(t,r){var n,a,i;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.serializeArgsInClient(r),a=this.freeResources(),e.next=4,t.call(r.sessionId,"CoreFreeResources",n);case 4:return i=e.sent,e.abrupt("return",a+i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,r){return t.apply(this,arguments)})}]),p}(O.default);t.default=R},284:function(e,t,r){"use strict";var n=r(11);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseLinearDisplay",{enumerable:!0,get:function(){return o.BaseLinearDisplay}}),Object.defineProperty(t,"BaseLinearDisplayComponent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return i.Tooltip}}),Object.defineProperty(t,"baseLinearDisplayConfigSchema",{enumerable:!0,get:function(){return a.baseLinearDisplayConfigSchema}});var a=r(2156),o=r(2157),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=o?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(a,i,u):a[i]=e[i]}a.default=e,r&&r.set(e,a);return a}(r(933));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}},285:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.getNiceDomain=function(e){var t=e.scaleType,r=e.domain,n=e.bounds,i=(0,a.default)(n,2),l=i[0],u=i[1],c=(0,a.default)(r,2),s=c[0],d=c[1];"linear"===t&&(d<0&&(d=0),s>0&&(s=0));"log"===t&&(0===s||s>1)&&(s=1);if(void 0===s||void 0===d)throw new Error("invalid domain supplied to stats function");void 0!==l&&l!==Number.MIN_VALUE&&(s=l);void 0!==u&&u!==Number.MAX_VALUE&&(d=u);var f=function(e){if("linear"===e)return(0,o.scaleLinear)();if("log"===e){var t=(0,o.scaleLog)();return t.base(2),t}if("quantize"===e)return(0,o.scaleQuantize)();throw new Error("undefined scaleType ".concat(e))}(t);return f.domain([s,d]),f.nice(),f.domain()},t.getOrigin=function(e){if("log"===e)return 1;return 0},t.getScale=function(e){var t,r=e.domain,n=void 0===r?[]:r,i=e.range,l=void 0===i?[]:i,u=e.scaleType,c=e.pivotValue,s=e.inverted,d=(0,a.default)(n,2),f=d[0],p=d[1];if(void 0===f||void 0===p)throw new Error("invalid domain");if("linear"===u)t=(0,o.scaleLinear)();else if("log"===u)(t=(0,o.scaleLog)()).base(2);else{if("quantize"!==u)throw new Error("undefined scaleType");t=(0,o.scaleQuantize)()}t.domain(void 0!==c?[f,c,p]:[f,p]),t.nice();var m=(0,a.default)(l,2),g=m[0],h=m[1];if(void 0===g||void 0===h)throw new Error("invalid range");return t.range(s?l.slice().reverse():l),t};var a=n(r(12)),o=r(945)},29:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ConfigurationSchema:!0,ConfigurationReference:!0};Object.defineProperty(t,"ConfigurationReference",{enumerable:!0,get:function(){return a.ConfigurationReference}}),Object.defineProperty(t,"ConfigurationSchema",{enumerable:!0,get:function(){return a.ConfigurationSchema}});var a=r(897),o=r(899);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(n,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},32:function(e,t,r){"use strict";(function(e){var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0});var o={inDevelopment:!0,inProduction:!0,useDebounce:!0,useDebouncedCallback:!0,findParentThat:!0,springAnimate:!0,findParentThatIs:!0,getSession:!0,getContainingView:!0,getContainingTrack:!0,getContainingDisplay:!0,assembleLocString:!0,parseLocStringOneBased:!0,parseLocString:!0,compareLocs:!0,compareLocStrings:!0,clamp:!0,bpToPx:!0,radToDeg:!0,degToRad:!0,polarToCartesian:!0,cartesianToPolar:!0,featureSpanPx:!0,bpSpanPx:!0,objectFromEntries:!0,iterMap:!0,mergeConfigs:!0,findLastIndex:!0,makeAbortableReaction:!0,renameRegionIfNeeded:!0,renameRegionsIfNeeded:!0,minmax:!0,stringify:!0,isElectron:!0,revcom:!0,complement:!0,blobToDataURL:!0,rIC:!0,measureText:!0,defaultStarts:!0,defaultStops:!0,defaultCodonTable:!0,generateCodonTable:!0,updateStatus:!0,hashCode:!0,objectHash:!0,bytesForRegions:!0,viewBpToPx:!0,supportedIndexingAdapters:!0,getBpDisplayStr:!0,toLocale:!0,getTickDisplayStr:!0,getTickDisplayStr2:!0,getViewParams:!0,getLayoutId:!0,SimpleFeature:!0,isFeature:!0};Object.defineProperty(t,"SimpleFeature",{enumerable:!0,get:function(){return v.default}}),t.assembleLocString=function(e){var t,r,n=e.assemblyName,a=e.refName,o=e.start,i=e.end,l=e.reversed,u=n?"{".concat(n,"}"):"";t=void 0!==o?":".concat((o+1).toLocaleString("en-US")):void 0!==i?":1":"";r=void 0!==i?void 0!==o&&o+1===i?"":"..".concat(i.toLocaleString("en-US")):void 0!==o?"..":"";var c="";l&&(c="[rev]");return"".concat(u).concat(a).concat(t).concat(r).concat(c)},t.blobToDataURL=function(e){var t=new FileReader;return new Promise((function(r,n){t.onload=function(e){e.target?r(e.target.result):n(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)}))},t.bpSpanPx=B,t.bpToPx=F,t.bytesForRegions=function(e,t){return Y.apply(this,arguments)},t.cartesianToPolar=function(e,t){var r=Math.sqrt(e*e+t*t),n=Math.atan(t/e);return[r,n]},t.clamp=function(e,t,r){if(e<t)return t;if(e>r)return r;return e},t.compareLocStrings=function(e,t,r){var n=A(e,r),a=A(t,r);return _(n,a)},t.compareLocs=_,t.defaultStops=t.defaultStarts=t.defaultCodonTable=t.complement=void 0,t.degToRad=function(e){return e*N%(2*Math.PI)},t.featureSpanPx=function(e,t,r){return B(e.get("start"),e.get("end"),t,r)},t.findLastIndex=function(e,t){var r=e.length;for(;r--;)if(t(e[r],r,e))return r;return-1},t.findParentThat=T,t.findParentThatIs=R,t.generateCodonTable=function(e){var t={};return Object.keys(e).forEach((function(r){for(var n=e[r],a=[],o=0;o<3;o++){var i=r.charAt(o);a[o]=[],a[o][0]=i.toUpperCase(),a[o][1]=i.toLowerCase()}for(var l=0;l<2;l++)for(var u=a[0][l],c=0;c<2;c++)for(var s=a[1][c],d=0;d<2;d++){var f=a[2][d];t[u+s+f]=n}})),t},t.getBpDisplayStr=function(e){var t;t=Math.floor(e/1e6)>0?"".concat(parseFloat((e/1e6).toPrecision(3)),"Mbp"):Math.floor(e/1e3)>0?"".concat(parseFloat((e/1e3).toPrecision(3)),"Kbp"):"".concat(Math.floor(e).toLocaleString("en-US"),"bp");return t},t.getContainingDisplay=function(e){try{return R(e,y.isDisplayModel)}catch(e){throw new Error("no containing display found")}},t.getContainingTrack=function(e){try{return R(e,y.isTrackModel)}catch(e){throw new Error("no containing track found")}},t.getContainingView=D,t.getLayoutId=function(e){var t=e.sessionId,r=e.layoutId;return t+"-"+r},t.getSession=function(e){try{return R(e,y.isSessionModel)}catch(e){throw new Error("no session model found!")}},t.getTickDisplayStr=function(e,t){var r;r=Math.floor(t/1e3)>0?"".concat(X(parseFloat((e/1e6).toFixed(2))),"M"):"".concat(X(Math.floor(e)));return r},t.getTickDisplayStr2=function(e,t){var r;r=Math.floor(t/1e3)>0?"".concat(X(parseFloat((e/1e6).toFixed(2))),"Mbp"):"".concat(X(Math.floor(e)),"bp");return r},t.getViewParams=function(e,t){var r=D(e),n=r.dynamicBlocks,a=r.staticBlocks,o=r.offsetPx,i=(null==n?void 0:n.contentBlocks[0])||{},l=(null==a?void 0:a.contentBlocks[0])||{},u=(null==a?void 0:a.contentBlocks[1])||{};return{offsetPx:t?0:o-l.offsetPx,offsetPx1:t?0:o-u.offsetPx,start:i.start,end:i.end}},t.hashCode=J,t.isElectron=t.inProduction=t.inDevelopment=void 0,Object.defineProperty(t,"isFeature",{enumerable:!0,get:function(){return v.isFeature}}),t.iterMap=function(e,t,r){var n,a=r?new Array(r):[],o=0,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return x(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}(e);try{for(i.s();!(n=i.n()).done;){var l=n.value;a[o]=t(l),o+=1}}catch(e){i.e(e)}finally{i.f()}return a},t.makeAbortableReaction=function(e,t,r,n,a,o,l){var c;function s(t){(0,b.isAbortException)(t)||((0,p.isAlive)(e)?l(t):console.error(t))}var d=(0,m.reaction)((function(){try{return t(e)}catch(e){return void s(e)}}),function(){var t=(0,u.default)(i.default.mark((function t(n,l){var u,d;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c&&!c.signal.aborted&&c.abort(),(0,p.isAlive)(e)){t.next=3;break}return t.abrupt("return");case 3:return c=new AbortController,a(u=c),t.prev=6,t.next=9,r(n,u.signal,e,l);case 9:d=t.sent,(0,b.checkAbortSignal)(u.signal),(0,p.isAlive)(e)&&o(d),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),u&&!u.signal.aborted&&u.abort(),s(t.t0);case 18:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,r){return t.apply(this,arguments)}}(),n);(0,p.addDisposer)(e,d),(0,p.addDisposer)(e,(function(){c&&!c.signal.aborted&&c.abort()}))},t.measureText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],n=.5279276315789471;return String(e).split("").map((function(e){return e.charCodeAt(0)<r.length?r[e.charCodeAt(0)]:n})).reduce((function(e,t){return t+e}),0)*t},t.mergeConfigs=function(e,t){var r=(0,h.default)(e,t);t.defaultSession?r.defaultSession=t.defaultSession:e.defaultSession&&(r.defaultSession=e.defaultSession);return r},t.minmax=function(e,t){return[Math.min(e,t),Math.max(e,t)]},t.objectFromEntries=void 0,t.objectHash=function(e){return"".concat(J(JSON.stringify(e)))},t.parseLocString=A,t.parseLocStringOneBased=I,t.polarToCartesian=function(e,t){return[e*Math.cos(t),e*Math.sin(t)]},t.rIC=void 0,t.radToDeg=function(e){return e*L%360},t.renameRegionIfNeeded=H,t.renameRegionsIfNeeded=function(e,t){return W.apply(this,arguments)},t.revcom=function(e){return q(e).split("").reverse().join("")},t.springAnimate=function(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:170,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:26,u=1;o||(o=Math.abs(t-e)/1e3);function c(e){var s=Date.now(),d=e.lastPosition,f=e.lastTime||s,p=e.lastVelocity||0;s>f+64&&(f=s);for(var m=Math.floor(s-f),g=0;g<m;++g){d+=1*(p+=1*((-i*(d-t)+-l*p)/u)/1e3)/1e3}var h=Math.abs(p)<=o,v=0===i||Math.abs(t-d)<=o;h&&v?(r(t),a()):(r(d),n=requestAnimationFrame((function(){return c({lastPosition:d,lastTime:s,lastVelocity:p})})))}return[function(){return c({lastPosition:e})},function(){return cancelAnimationFrame(n)}]},t.stringify=function(e){var t=e.refName,r=e.coord,n=e.oob;return"".concat(t,":").concat(r.toLocaleString("en-US")).concat(n?" (out of bounds)":"")},t.supportedIndexingAdapters=function(e){return["Gff3TabixAdapter","VcfTabixAdapter","Gff3Adapter","VcfAdapter"].includes(e)},t.toLocale=X,t.updateStatus=function(e,t,r){return K.apply(this,arguments)},t.useDebounce=function(e,t){var r=(0,f.useState)(e),n=(0,s.default)(r,2),a=n[0],o=n[1];return(0,f.useEffect)((function(){var r=setTimeout((function(){o(e)}),t);return function(){clearTimeout(r)}}),[e,t]),a},t.useDebouncedCallback=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,r=(0,f.useRef)(),n=(0,f.useRef)();function a(){n.current&&clearTimeout(n.current)}return(0,f.useEffect)((function(){return a}),[]),function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];r.current=i,a(),n.current=setTimeout((function(){r.current&&e.apply(void 0,(0,c.default)(r.current))}),t)}},t.viewBpToPx=function(e){var t=e.refName,r=e.coord,n=e.regionNumber,a=e.self,o=0,i=a.interRegionPaddingWidth*a.bpPerPx,l=a.minimumBlockWidth*a.bpPerPx,u=a.displayedRegions.findIndex((function(e,u){var c=e.end-e.start;return t===e.refName&&r>=e.start&&r<=e.end&&(!n||n===u)?(o+=e.reversed?e.end-r:r-e.start,!0):(c>l&&o/a.bpPerPx>=0&&o/a.bpPerPx<a.width?o+=c+i:o+=c,!1)}));if(a.displayedRegions[u])return{index:u,offsetPx:Math.round(o/a.bpPerPx)};return};var i=n(r(19)),l=n(r(10)),u=n(r(21)),c=n(r(33)),s=n(r(12)),d=n(r(11)),f=r(1),p=r(17),m=r(42),g=n(r(424)),h=n(r(301)),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=E(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(98)),y=r(130);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var b=r(902);Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var w=r(2042);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var O=r(903);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var C=r(513);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var k=r(904);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(E=function(e){return e?r:t})(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.keys(k).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===k[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return k[e]}}))})),Object.fromEntries||g.default.shim();var j="object"===(void 0===e?"undefined":(0,d.default)(e))&&e.env&&!1;t.inDevelopment=j;var M=!j;function T(e,t){if(!(0,p.hasParent)(e))throw new Error("node does not have parent");for(var r=(0,p.getParent)(e);r&&(0,p.isAlive)(r);){if(t(r))return r;if(!(0,p.hasParent)(r))break;r=(0,p.getParent)(r)}throw new Error("no matching node found")}function R(e,t){return T(e,t)}function D(e){try{return R(e,y.isViewModel)}catch(e){throw new Error("no containing view found")}}function I(e,t){if(!e)throw new Error("no location string provided, could not parse");var r=!1;e.endsWith("[rev]")&&(r=!0,e=e.replace(/\[rev\]$/,""));var n=(e=e.replace(/\s/,"")).match(/(\{(.+)\})?(.+)/);if(!n)throw new Error('invalid location string: "'.concat(e,'"'));var a=(0,s.default)(n,4),o=a[2],i=a[3];if(!o&&i.startsWith("{}"))throw new Error('no assembly name was provided in location "'.concat(i,'"'));var l=i.lastIndexOf(":");if(-1===l){if(t(i,o))return{assemblyName:o,refName:i,reversed:r};throw new Error('Unknown reference sequence "'.concat(i,'"'))}var u=i.slice(0,l),c=i.slice(l+1);if(t(u,o)&&t(i,o))throw new Error('ambiguous location string: "'.concat(e,'"'));if(t(u,o)){if(!c)return{assemblyName:o,refName:u,reversed:r};var d=c.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/),f=c.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/);if(d){var p=(0,s.default)(d,6),m=p[1],g=p[5];if(void 0!==m&&void 0!==g)return{assemblyName:o,refName:u,start:+m.replace(/,/g,""),end:+g.replace(/,/g,""),reversed:r}}else{if(!f)throw new Error('could not parse range "'.concat(c,'" on location "').concat(e,'"'));var h=(0,s.default)(f,5),v=h[1],y=h[4];if(void 0!==v)return y?{assemblyName:o,refName:u,start:+v.replace(/,/g,""),reversed:r}:{assemblyName:o,refName:u,start:+v.replace(/,/g,""),end:+v.replace(/,/g,""),reversed:r}}}else if(t(i,o))return{assemblyName:o,refName:i,reversed:r};throw new Error('unknown reference sequence name in location "'.concat(e,'"'))}function A(e,t){var r=I(e,t);return"number"==typeof r.start&&(r.start-=1),r}function _(e,t){var r=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(r)return r;var n=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(n)return n;if(void 0!==e.start&&void 0!==t.start){var a=e.start-t.start;if(a)return a}if(void 0!==e.end&&void 0!==t.end){var o=e.end-t.end;if(o)return o}return 0}function F(e,t,r){var n,a=t.reversed,o=t.end,i=void 0===o?0:o,l=t.start;return n=(a?i-e:e-(void 0===l?0:l))/r,Math.round(10*n)/10}t.inProduction=M;var L=180/Math.PI,N=Math.PI/180;function B(e,t,r,n){var a=F(e,r,n),o=F(t,r,n);return r.reversed?[o,a]:[a,o]}var z=Object.fromEntries.bind(Object);function H(e,t){if((0,p.isStateTreeNode)(t)&&!(0,p.isAlive)(t))return t;if(t&&e&&e[t.refName]){var r=e[(t=(0,p.isStateTreeNode)(t)?P({},(0,p.getSnapshot)(t)):P({},t)).refName];if(r)return P(P({},t),{},{refName:r,originalRefName:t.refName})}return t}function W(){return(W=(0,u.default)(i.default.mark((function e(t,r){var n,a,o,l,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.regions,a=void 0===n?[]:n,o=r.adapterConfig,r.sessionId){e.next=3;break}throw new Error("sessionId is required");case 3:return l=a.map((function(e){return e.assemblyName})),e.t0=Object,e.next=7,Promise.all(l.map(function(){var e=(0,u.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,t.getRefNameMapForAdapter(o,n,r);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.t1=e.sent,c=e.t0.fromEntries.call(e.t0,e.t1),e.abrupt("return",P(P({},r),{},{regions:a.map((function(e,t){return H(c[l[t]],e)}))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.objectFromEntries=z;var V=/electron/i.test("undefined"!=typeof navigator?navigator.userAgent:"");t.isElectron=V;var G,U,q=(G=/[ACGT]/gi,U={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"},function(e){return e.replace(G,(function(e){return U[e]||""}))});t.complement=q;var $="undefined"==typeof jest?"undefined"!=typeof window&&window.requestIdleCallback?window.requestIdleCallback:function(e){return setTimeout((function(){return e()}),1)}:function(e){return e()};t.rIC=$;t.defaultStarts=["ATG"];t.defaultStops=["TAA","TAG","TGA"];function K(){return(K=(0,u.default)(i.default.mark((function e(t,r,n){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(t),e.next=3,n();case 3:return a=e.sent,r(""),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){var t=0;if(0===e.length)return t;for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t|=0}return t}function Y(){return(Y=(0,u.default)(i.default.mark((function e(t,r){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return r.blocksForRange(e.refName,e.start,e.end)})));case 2:return n=e.sent,e.abrupt("return",n.flat().map((function(e){return{start:e.minv.blockPosition,end:e.maxv.blockPosition+65535}})).reduce((function(e,t){return e+t.end-t.start}),0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(e){return e.toLocaleString("en-US")}t.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"}}).call(this,r(94))},362:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(11)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=n(r(114)),g=r(64),h=r(17),v=r(130),y=r(910);function b(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,p.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var E=function(e){(0,s.default)(O,e);var t,r,n,d,f,m,w=k(O);function O(e){var t;return(0,l.default)(this,O),(t=w.call(this,{name:""})).pluginManager=e,(0,p.default)((0,c.default)(t),"name","UNKNOWN"),t}return(0,u.default)(O,[{key:"serializeArguments",value:(m=(0,i.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,g.getBlobMap)(),e.next=3,this.augmentLocationObjects(t);case 3:return e.abrupt("return",C(C({},t),{},{blobMap:n}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"serializeNewAuthArguments",value:(f=(0,i.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.pluginManager.rootModel,(0,v.isAppRootModel)(r)&&!t.internetAccountPreAuthorization){e.next=3;break}return e.abrupt("return",t);case 3:if(!(n=null==r?void 0:r.findAppropriateInternetAccount(t))){e.next=8;break}return e.next=7,n.getPreAuthorizationInformation(t);case 7:t.internetAccountPreAuthorization=e.sent;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"deserializeArguments",value:(d=(0,i.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.blobMap&&(0,g.setBlobMap)(t.blobMap),!(n=t.signal)||!(0,y.isRemoteAbortSignal)(n)){e.next=4;break}return e.abrupt("return",C(C({},t),{},{signal:(0,y.deserializeAbortSignal)(n)}));case 4:return e.abrupt("return",C(C({},t),{},{signal:void 0}));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return d.apply(this,arguments)})},{key:"serializeReturn",value:(n=(0,i.default)(a.default.mark((function e(t,r,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"deserializeReturn",value:(r=(0,i.default)(a.default.mark((function e(t,r,n){var o,i,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.pluginManager.rootModel,e.prev=1,e.next=4,t;case 4:o=e.sent,e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(0,v.isAuthNeededException)(e.t0)){e.next=12;break}throw l=null==i?void 0:i.createEphemeralInternetAccount("HTTPBasicInternetAccount-".concat(new URL(e.t0.url).origin),{},e.t0.url),new v.RetryError("Retrying with created internet account",l.internetAccountId);case 12:throw e.t0;case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t,n){return r.apply(this,arguments)})},{key:"augmentLocationObjects",value:(t=(0,i.default)(a.default.mark((function e(t){var r,n,i,l,u,c,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,h.isStateTreeNode)(t)||(0,h.isAlive)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,v.isUriLocation)(t)){e.next=5;break}return e.next=5,this.serializeNewAuthArguments(t);case 5:if(!Array.isArray(t)){e.next=23;break}r=b(t),e.prev=7,r.s();case 9:if((n=r.n()).done){e.next=15;break}return i=n.value,e.next=13,this.augmentLocationObjects(i);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:if("object"!==(0,o.default)(t)||null===t){e.next=53;break}l=0,u=Object.values(t);case 25:if(!(l<u.length)){e.next=53;break}if(c=u[l],!Array.isArray(c)){e.next=47;break}s=b(c),e.prev=29,s.s();case 31:if((d=s.n()).done){e.next=37;break}return f=d.value,e.next=35,this.augmentLocationObjects(f);case 35:e.next=31;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(29),s.e(e.t1);case 42:return e.prev=42,s.f(),e.finish(42);case 45:e.next=50;break;case 47:if("object"!==(0,o.default)(c)||null===c){e.next=50;break}return e.next=50,this.augmentLocationObjects(c);case 50:l++,e.next=25;break;case 53:case"end":return e.stop()}}),e,this,[[7,17,20,23],[29,39,42,45]])}))),function(e){return t.apply(this,arguments)})}]),O}(m.default);t.default=E},363:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.Attributes=z,t.BaseAttributes=void 0,t.BaseCard=R,t.useStyles=t.default=t.SimpleValue=t.FieldName=t.FeatureDetails=t.BasicValue=t.BaseCoreDetails=void 0;var o=n(r(45)),i=n(r(36)),l=n(r(10)),u=n(r(33)),c=n(r(12)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=S(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),d=r(717),f=r(23),p=n(r(138)),m=r(519),g=r(14),h=n(r(20)),v=n(r(718)),y=r(29),b=r(32),w=n(r(908)),O=n(r(2061)),C=r(916),k=["id"],E=["__jbrowsefmt"];function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(S=function(e){return e?r:t})(e)}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=["__jbrowsefmt","length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"],M=["name","start","end","strand","refName","description","type"],T=(0,f.makeStyles)((function(e){return{expansionPanelDetails:{display:"block",padding:e.spacing(1)},expandIcon:{color:"#FFFFFF"},field:{display:"flex",flexWrap:"wrap"},fieldDescription:{"&:hover":{background:"yellow"}},fieldName:{wordBreak:"break-all",minWidth:"90px",borderBottom:"1px solid #0003",background:e.palette.grey[200],marginRight:e.spacing(1),padding:e.spacing(.5)},fieldValue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),overflow:"auto"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),background:e.palette.grey[100],border:"1px solid ".concat(e.palette.grey[300]),boxSizing:"border-box",overflow:"auto"}}}));function R(e){var t=e.children,r=e.title,n=e.defaultExpanded,a=void 0===n||n,o=T(),i=(0,s.useState)(a),l=(0,c.default)(i,2),u=l[0],d=l[1];return s.default.createElement(f.Accordion,{expanded:u,onChange:function(){return d((function(e){return!e}))},TransitionProps:{unmountOnExit:!0}},s.default.createElement(f.AccordionSummary,{expandIcon:s.default.createElement(p.default,{className:o.expandIcon})},s.default.createElement(f.Typography,{variant:"button"}," ",r)),s.default.createElement(f.AccordionDetails,{className:o.expansionPanelDetails},t))}t.useStyles=T;var D=function(e){var t=e.description,r=e.name,n=e.width,a=e.prefix,o=void 0===a?[]:a,i=T(),l=[].concat((0,u.default)(o),[r]).join(".");return t?s.default.createElement(f.Tooltip,{title:t,placement:"left"},s.default.createElement("div",{className:(0,h.default)(i.fieldDescription,i.fieldName)},l)):s.default.createElement("div",{className:i.fieldName,style:{width:n}},l)};t.FieldName=D;var I=function(e){var t=e.value,r=T(),n="".concat(t).match(/^https?:\/\//);return s.default.createElement("div",{className:r.fieldValue},s.default.isValidElement(t)?t:n?s.default.createElement(w.default,{html:'<a href="'.concat(t,'">').concat(t,"</a>")}):s.default.createElement(w.default,{html:(0,v.default)(t)?JSON.stringify(t):String(t)}))};t.BasicValue=I;var A=function(e){var t=e.name,r=e.value,n=e.description,a=e.prefix,o=e.width,i=T();return null!=r?s.default.createElement("div",{className:i.field},s.default.createElement(D,{prefix:a,description:n,name:t,width:o}),s.default.createElement(I,{value:r})):null};t.SimpleValue=A;var _=function(e){var t=e.name,r=e.value,n=e.description,a=e.prefix,o=void 0===a?[]:a,i=T();return 1===r.length?(0,v.default)(r[0])?s.default.createElement(z,{attributes:r[0],prefix:[].concat((0,u.default)(o),[t])}):s.default.createElement("div",{className:i.field},s.default.createElement(D,{prefix:o,description:n,name:t}),s.default.createElement(I,{value:r[0]})):r.every((function(e){return(0,v.default)(e)}))?s.default.createElement(s.default.Fragment,null,r.map((function(e,r){return s.default.createElement(z,{key:JSON.stringify(e)+"-"+r,attributes:e,prefix:[].concat((0,u.default)(o),[t+"-"+r])})}))):s.default.createElement("div",{className:i.field},s.default.createElement(D,{prefix:o,description:n,name:t}),r.map((function(e,t){return s.default.createElement("div",{key:JSON.stringify(e)+"-"+t,className:i.fieldSubvalue},s.default.createElement(I,{value:e}))})))},F=function(e){return e.toLocaleString("en-US")};function L(e){var t=e.feature,r=x(x({},t),t.__jbrowsefmt),n=r.start,a=r.strand,o=r.end,i=r.refName,l={"-1":"-",0:"",1:"+"},u=l[a]?"(".concat(l[a],")"):"",d=x(x({},r),{},{length:F(o-n),position:"".concat(i,":").concat(F(n+1),"..").concat(F(o)," ").concat(u)});return s.default.createElement(s.default.Fragment,null,["Position","Description","Name","Length","Type"].map((function(e){return[e,d[e.toLowerCase()]]})).filter((function(e){var t=(0,c.default)(e,2)[1];return null!=t})).map((function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return s.default.createElement(A,{key:r,name:r,value:n})})))}t.BaseCoreDetails=function(e){return s.default.createElement(R,(0,i.default)({},e,{title:"Primary data"}),s.default.createElement(L,e))};var N=function(e){var t=e.value,r=e.prefix,n=e.name,a=Object.keys(t[0]).sort(),i=new Set(a);if(t.forEach((function(e){return Object.keys(e).forEach((function(e){return i.add(e)}))})),i.size<a.length+5){var l,d=Object.entries(t).map((function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1];return x({id:r,identifier:n.id},(0,o.default)(n,k))}));i.has("id")?(i.delete("id"),l=["identifier"].concat((0,u.default)(i))):l=(0,u.default)(i);var f=l.map((function(e){return{field:e,width:Math.max.apply(Math,(0,u.default)(d.map((function(t){return Math.min(Math.max((0,b.measureText)(String(t[e]),14)+50,80),1e3)}))))}}));return s.default.createElement(s.default.Fragment,null,s.default.createElement(D,{prefix:r,name:n}),s.default.createElement("div",{style:{height:20*Math.min(d.length,100)+50+(d.length<100?0:50),width:"100%"}},s.default.createElement(m.DataGrid,{disableSelectionOnClick:!0,rowHeight:20,headerHeight:25,rows:d,rowsPerPageOptions:[],hideFooterRowCount:!0,hideFooterSelectedRowCount:!0,columns:f,hideFooter:d.length<100})))}return null};function B(e){var t,r=e.value,n=e.prefix,a=e.name,o=T(),i=r.uri,l=r.baseUri,u=void 0===l?"":l;try{t=new URL(i,u).href}catch(e){t=i}return s.default.createElement("div",{className:o.field},s.default.createElement(D,{prefix:n,name:a}),s.default.createElement(I,{value:t}))}function z(e){var t=e.attributes,r=e.omit,n=void 0===r?[]:r,a=e.descriptions,i=e.formatter,l=void 0===i?function(e){return e}:i,d=e.prefix,f=void 0===d?[]:d,p=[].concat((0,u.default)(n),j),m=t.__jbrowsefmt,g=x(x({},(0,o.default)(t,E)),m),h=function(e,t){var r=[];return e.forEach((function(e,n){var a=[].concat((0,u.default)(t),[e[0]]).join(".");r.push((0,b.measureText)(a,12))})),Math.ceil(Math.max.apply(Math,r))+10}(Object.entries(g).filter((function(e){var t=(0,c.default)(e,2),r=t[0];return void 0!==t[1]&&!p.includes(r)})),f),y=h<=170?h:170;return s.default.createElement(s.default.Fragment,null,Object.entries(g).filter((function(e){var t=(0,c.default)(e,2),r=t[0];return void 0!==t[1]&&!p.includes(r)})).map((function(e){var t=(0,c.default)(e,2),r=t[0],n=t[1],o=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.forEach((function(e){r&&(r=r[e])})),"string"==typeof r?r:"string"==typeof(null===(t=r)||void 0===t?void 0:t.Description)?r.Description:void 0}([].concat((0,u.default)(f),[r]),a);return Array.isArray(n)?n.length>2&&n.every((function(e){return(0,v.default)(e)}))?s.default.createElement(N,{key:r,name:r,prefix:f,value:n}):s.default.createElement(_,{key:r,name:r,value:n,description:o,prefix:f}):(0,v.default)(n)?(0,b.isUriLocation)(n)?s.default.createElement(B,{key:r,name:r,prefix:f,value:n}):s.default.createElement(z,{omit:p,key:r,attributes:n,descriptions:a,prefix:[].concat((0,u.default)(f),[r])}):s.default.createElement(A,{key:r,name:r,value:l(n,r),description:o,prefix:f,width:y})})))}function H(e,t,r){return[(0,C.ellipses)("".concat(e)||"".concat(t)),"".concat(r)].filter((function(e){return!!e})).join(" - ")}t.BaseAttributes=function(e){var t=e.feature;return s.default.createElement(R,(0,i.default)({},e,{title:"Attributes"}),s.default.createElement(z,(0,i.default)({},e,{attributes:t})))};var W=function e(t){var r=t.omit,n=void 0===r?[]:r,a=t.model,o=t.feature,l=t.depth,c=void 0===l?0:l,p=o.name,m=void 0===p?"":p,g=o.id,h=void 0===g?"":g,v=o.type,w=void 0===v?"":v,C=o.subfeatures,k=(0,b.getSession)(a),E=(0,y.getConf)(k,["featureDetails","sequenceTypes"])||["mRNA","transcript"];return s.default.createElement(R,{title:H(m,h,w)},s.default.createElement(f.Typography,null,"Core details"),s.default.createElement(L,t),s.default.createElement(f.Divider,null),s.default.createElement(f.Typography,null,"Attributes"),s.default.createElement(z,(0,i.default)({attributes:o},t,{omit:[].concat((0,u.default)(n),M)})),E.includes(o.type)?s.default.createElement(d.ErrorBoundary,{FallbackComponent:function(e){var t=e.error;return s.default.createElement(f.Typography,{color:"error"},"".concat(t))}},s.default.createElement(O.default,t)):null,null!=C&&C.length?s.default.createElement(R,{title:"Subfeatures",defaultExpanded:!E.includes(o.type)},C.map((function(t){return s.default.createElement(e,{key:JSON.stringify(t),feature:t,model:a,depth:c+1})}))):null)};t.FeatureDetails=W;var V=(0,g.observer)((function(e){var t=e.model,r=t.featureData;if(!r)return null;var n,a=JSON.parse(JSON.stringify(r,(function(e,t){return void 0===t?null:t})));return n=a,0===Object.keys(n).length?null:s.default.createElement(W,{model:t,feature:a})}));t.default=V},364:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(10)),o=n(r(33)),i=r(17),l=r(32),u=r(72),c=n(r(917)),s=n(r(918));function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p=i.types.model("Base1DView",{id:u.ElementId,displayedRegions:i.types.array(u.Region),bpPerPx:0,offsetPx:0,interRegionPaddingWidth:i.types.optional(i.types.number,0),minimumBlockWidth:i.types.optional(i.types.number,0)}).volatile((function(){return{features:void 0,volatileWidth:0}})).actions((function(e){return{setDisplayedRegions:function(t){e.displayedRegions=(0,i.cast)(t)},setBpPerPx:function(t){e.bpPerPx=t},setVolatileWidth:function(t){e.volatileWidth=t}}})).views((function(e){return{get width(){return e.volatileWidth},get assemblyNames(){return(0,o.default)(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))))},get displayedRegionsTotalPx(){return this.totalBp/e.bpPerPx},get maxOffset(){return this.displayedRegionsTotalPx-10},get minOffset(){return 30-this.width},get totalBp(){return e.displayedRegions.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)},pxToBp:function(t){var r=0,n=(e.offsetPx+t)*e.bpPerPx,a=e.displayedRegions.length;if(n<0){var o=e.displayedRegions[0],l=n;return f(f({},(0,i.getSnapshot)(o)),{},{oob:!0,coord:o.reversed?Math.floor(o.end-l)+1:Math.floor(o.start+l)+1,offset:l,index:0})}for(var u=e.interRegionPaddingWidth*e.bpPerPx,c=e.minimumBlockWidth*e.bpPerPx,s=0;s<e.displayedRegions.length;s+=1){var d=e.displayedRegions[s],p=d.end-d.start,m=n-r;if(p+r>n&&r<=n)return f(f({},(0,i.getSnapshot)(d)),{},{oob:!1,offset:m,coord:d.reversed?Math.floor(d.end-m)+1:Math.floor(d.start+m)+1,index:s});d.end-d.start>c&&m/e.bpPerPx>0&&m/e.bpPerPx<this.width?r+=p+u:r+=p}if(n>=r){var g=e.displayedRegions[a-1],h=n-r+(g.end-g.start);return f(f({},(0,i.getSnapshot)(g)),{},{oob:!0,offset:h,coord:g.reversed?Math.floor(g.end-h)+1:Math.floor(g.start+h)+1,index:a-1})}return{coord:0,index:0,start:0,refName:"",oob:!0,assemblyName:"",offset:0,reversed:!1}}}})).views((function(e){return{get dynamicBlocks(){return(0,c.default)(e)},get staticBlocks(){return(0,s.default)(e)},get currBp(){return this.dynamicBlocks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)},bpToPx:function(t){var r,n=t.refName,a=t.coord,o=t.regionNumber;return null===(r=(0,l.viewBpToPx)({refName:n,coord:a,regionNumber:o,self:e}))||void 0===r?void 0:r.offsetPx}}})).actions((function(e){return{setFeatures:function(t){e.features=t},zoomToDisplayedRegions:function(e,t){if(void 0!==e&&void 0!==t){if(e.refName===t.refName&&e.index===t.index&&t.offset<e.offset||e.index>t.index){var r=[t,e];e=r[0],t=r[1]}var n={start:e.start,end:e.end,index:e.index,offset:e.offset},a={start:t.start,end:t.end,index:t.index,offset:t.offset};if(!n||!a)throw new Error("regions not found");this.moveTo(n,a)}},showAllRegions:function(){e.bpPerPx=e.totalBp/e.width,e.offsetPx=0},moveTo:function(t,r){var n=0;if(t.index===r.index)n+=r.offset-t.offset;else{var a=e.displayedRegions[t.index];if(n+=a.end-a.start-t.offset,r.index-t.index>=2)for(var o=t.index+1;o<r.index;o+=1)n+=e.displayedRegions[o].end-e.displayedRegions[o].start;n+=r.offset}this.zoomTo(n/(e.width-e.interRegionPaddingWidth*(r.index-t.index)));for(var i=0,l=0;l<e.displayedRegions.length;l+=1){var u=e.displayedRegions[l];if(t.index===l){i+=t.offset;break}i+=u.end-u.start}e.offsetPx=Math.round(i/e.bpPerPx)+e.interRegionPaddingWidth*t.index},zoomOut:function(){this.zoomTo(2*e.bpPerPx)},zoomIn:function(){this.zoomTo(e.bpPerPx/2)},zoomTo:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.width/2,n=t;if(n!==e.bpPerPx){var a=e.bpPerPx;e.bpPerPx=n,e.offsetPx=(0,l.clamp)(Math.round((e.offsetPx+r)*a/n-r),e.minOffset,e.maxOffset)}},scrollTo:function(t){var r=(0,l.clamp)(t,e.minOffset,e.maxOffset);return e.offsetPx=r,r},centerAt:function(t,r,n){var a=e.bpToPx({refName:r,coord:t,regionNumber:n});a&&this.scrollTo(Math.round(a-e.width/2))},scroll:function(t){var r=e.offsetPx,n=(0,l.clamp)(e.offsetPx+t,e.minOffset,e.maxOffset);return e.offsetPx=n,n-r}}}));t.default=p},365:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.clearAdapterCache=function(){c={}},t.freeAdapterResources=function(e){var t=0,r=Object.keys(e);if(1===r.length&&"sessionId"===r[0]){var n=e.sessionId;Object.entries(c).forEach((function(e){var r=(0,o.default)(e,2),a=r[0],i=r[1];i.sessionIds.delete(n),0===i.sessionIds.size&&(t+=1,delete c[a])}))}else Object.values(c).forEach((function(t){t.dataAdapter.freeResources?(e.regions||(e.region?[e.region]:[])).forEach((function(e){void 0!==e.refName&&t.dataAdapter.freeResources(e)})):console.warn(t.dataAdapter,"does not implement freeResources")}));return t},t.getAdapter=s;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(915));function u(e){return"".concat((0,l.default)(e))}var c={};function s(e,t,r){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,r,n){var o,i,l,d,f,p,m,g,h,v;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=u(n),c[o]){e.next=21;break}if(i=(n||{}).type){e.next=5;break}throw new Error("could not determine adapter type from adapter config snapshot");case 5:if(l=t.getAdapterType(i)){e.next=8;break}throw new Error("unknown data adapter type ".concat(i));case 8:if(d=l.configSchema.create(n,{pluginManager:t}),f=s.bind(null,t,r),p=l.AdapterClass,m=l.getAdapterClass,e.t0=p,e.t0){e.next=16;break}return e.next=15,m();case 15:e.t0=e.sent;case 16:if(g=e.t0){e.next=19;break}throw new Error("Failed to get adapter");case 19:h=new g(d,f,t),c[o]={dataAdapter:h,sessionIds:new Set([r])};case 21:return(v=c[o]).sessionIds.add(r),e.abrupt("return",v);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},366:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(25)),l=n(r(26)),u=n(r(24));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var s=function(e){(0,i.default)(r,e);var t=c(r);function r(){return(0,o.default)(this,r),t.apply(this,arguments)}return(0,a.default)(r)}(n(r(207)).default);t.default=s},367:function(e,t,r){"use strict";function n(e,t,r){for(var n=t*(e=Math.abs(e)),a=parseInt(Number(n).toExponential().split(/e/i)[1],10),o=Math.pow(10,a);o<n&&!((o*=2)>=n);)o*=2.5;var i=(o=Math.max(o,5))/e,l=0;return!(o%10)&&i/10>=r?l=o/10:!(o%5)&&i/5>=r?l=o/5:!(o%2)&&i/2>=r&&(l=o/2),{majorPitch:o,minorPitch:l}}Object.defineProperty(t,"__esModule",{value:!0}),t.chooseGridPitch=n,t.makeTicks=function(e,t,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=n(r,60,15),l=e,u=t;if(null===l||null===u)return[];if(r<0){var c=[u,l];l=c[0],u=c[1]}l-=Math.abs(20*r)-1,u+=Math.abs(20*r)+1;for(var s=i.minorPitch||i.majorPitch,d=0,f=[],p=Math.ceil(l/s)*s;p<u;p+=s)o&&p%(2*i.majorPitch)?(f.push({type:"minor",base:p-1,index:d}),d+=1):!a||p%(2*i.majorPitch)||(f.push({type:"major",base:p-1,index:d}),d+=1);return f}},368:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(51)),d=n(r(25)),f=n(r(26)),p=n(r(24)),m=n(r(10)),g=n(r(207)),h=r(904);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,m.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,f.default)(this,r)}}var w=function(e){(0,d.default)(n,e);var t,r=b(n);function n(){var e;(0,l.default)(this,n);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=r.call.apply(r,[this].concat(a)),(0,m.default)((0,c.default)(e),"supportsSVG",!0),e}return(0,u.default)(n,[{key:"render",value:(t=(0,i.default)(a.default.mark((function e(t){var r,i,l,u,c,d,f,m,g,v=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFeatures(t);case 2:return r=e.sent,i=t.height,l=t.regions,u=t.bpPerPx,c=(0,o.default)(l,1),d=c[0],f=(d.end-d.start)/u,e.next=8,(0,h.renderToAbstractCanvas)(f,i,t,(function(e){return v.draw(e,y(y({},t),{},{features:r}))}));case 8:return m=e.sent,e.next=11,(0,s.default)((0,p.default)(n.prototype),"render",this).call(this,y(y(y({},t),m),{},{features:r,height:i,width:f}));case 11:return g=e.sent,e.abrupt("return",y(y(y({},g),m),{},{features:r,containsNoTransferables:!0,height:i,width:f}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),n}(g.default);t.default=w},369:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=r(14),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(84);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function s(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f=(0,i.observer)((function(e){var t=e.regions,r=e.features,n=e.bpPerPx,a=e.width,i=e.height,c=e.onMouseLeave,d=void 0===c?function(){}:c,f=e.onMouseMove,p=void 0===f?function(){}:f,m=e.onFeatureClick,g=void 0===m?function(){}:m,h=(0,o.default)(t,1)[0],v=(0,l.useRef)(null);function y(e){var t=0;v.current&&(t=v.current.getBoundingClientRect().left);var o,i,l=e-t,u=h.reversed?a-l:l,c=h.start+n*u,d=s(r.values());try{for(d.s();!(i=d.n()).done;){var f=i.value;if(c<=f.get("end")&&c>=f.get("start")){o=f;break}}}catch(e){d.e(e)}finally{d.f()}return o}return l.default.createElement("div",{ref:v,"data-testid":"wiggle-rendering-test",onMouseMove:function(e){var t=y(e.clientX);p(e,t?t.id():void 0)},onClick:function(e){var t=y(e.clientX);g(e,t?t.id():void 0)},onMouseLeave:function(e){return d(e)},role:"presentation",className:"WiggleRendering",style:{overflow:"visible",position:"relative",height:i}},l.default.createElement(u.PrerenderedCanvas,e))}));t.default=f},370:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.YSCALEBAR_LABEL_OFFSET=void 0;var a=n(r(19)),o=n(r(11)),i=n(r(21)),l=n(r(12)),u=n(r(33)),c=n(r(10)),s=E(r(1)),d=r(29),f=r(32),p=r(64),m=r(143),g=r(42),h=r(17),v=r(345),y=r(285),b=n(r(941)),w=r(942);function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,c.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(k=function(e){return e?r:t})(e)}function E(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,o.default)(e)&&"function"!=typeof e)return{default:e};var r=k(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var S=(0,s.lazy)((function(){return Promise.resolve().then((function(){return E(r(2232))}))})),P=(0,s.lazy)((function(){return Promise.resolve().then((function(){return E(r(2233))}))}));t.YSCALEBAR_LABEL_OFFSET=5;var x=new Map([["xyplot","XYPlotRenderer"],["density","DensityRenderer"],["line","LinePlotRenderer"]]),j=function(e,t){return h.types.compose("LinearWiggleDisplay",m.BaseLinearDisplay,h.types.model({type:h.types.literal("LinearWiggleDisplay"),configuration:(0,d.ConfigurationReference)(t),selectedRendering:h.types.optional(h.types.string,""),resolution:h.types.optional(h.types.number,1),fill:h.types.maybe(h.types.boolean),color:h.types.maybe(h.types.string),posColor:h.types.maybe(h.types.string),negColor:h.types.maybe(h.types.string),summaryScoreMode:h.types.maybe(h.types.string),rendererTypeNameState:h.types.maybe(h.types.string),scale:h.types.maybe(h.types.string),autoscale:h.types.maybe(h.types.string),displayCrossHatches:h.types.maybe(h.types.boolean),constraints:h.types.optional(h.types.model({max:h.types.maybe(h.types.number),min:h.types.maybe(h.types.number)}),{})})).volatile((function(){return{statsReady:!1,message:void 0,stats:{scoreMin:0,scoreMax:50},statsFetchInProgress:void 0}})).actions((function(e){return{updateStats:function(t){var r=t.scoreMin,n=t.scoreMax;e.stats.scoreMin===r&&e.stats.scoreMax===n||(e.stats={scoreMin:r,scoreMax:n}),e.statsReady=!0},setColor:function(t){e.color=t},setPosColor:function(t){e.posColor=t},setNegColor:function(t){e.negColor=t},setLoading:function(t){var r=e.statsFetchInProgress;void 0===r||r.signal.aborted||r.abort(),e.statsFetchInProgress=t},selectFeature:function(t){var r=(0,f.getSession)(e);(0,f.isSelectionContainer)(r)&&r.setSelection(t)},setResolution:function(t){e.resolution=t},setFill:function(t){e.fill=t},toggleLogScale:function(){"log"!==e.scale?e.scale="log":e.scale="linear"},setScaleType:function(t){e.scale=t},setSummaryScoreMode:function(t){e.summaryScoreMode=t},setAutoscale:function(t){e.autoscale=t},setMaxScore:function(t){e.constraints.max=t},setRendererType:function(t){e.rendererTypeNameState=t},setMinScore:function(t){e.constraints.min=t},toggleCrossHatches:function(){e.displayCrossHatches=!e.displayCrossHatches},setCrossHatches:function(t){e.displayCrossHatches=t}}})).views((function(e){return{get TooltipComponent(){return b.default},get adapterTypeName(){return e.adapterConfig.type},get rendererTypeName(){var t=e.rendererTypeNameState||(0,d.getConf)(e,"defaultRendering"),r=x.get(t);if(!r)throw new Error("unknown alignments view name ".concat(t));return r},get filters(){},get scaleType(){return e.scale||(0,d.getConf)(e,"scaleType")},get maxScore(){var t=e.constraints.max;return null!=t?t:(0,d.getConf)(e,"maxScore")},get minScore(){var t=e.constraints.min;return null!=t?t:(0,d.getConf)(e,"minScore")}}})).views((function(e){return{get rendererConfig(){var t=(0,d.getConf)(e,["renderers",e.rendererTypeName])||{};return e.rendererType.configSchema.create(C(C(C(C({},t),{},{filled:e.fill,scaleType:e.scaleType,displayCrossHatches:e.displayCrossHatches,summaryScoreMode:e.summaryScoreMode},e.color?{color:e.color}:{}),e.negColor?{negColor:e.negColor}:{}),e.posColor?{posColor:e.posColor}:{}),(0,h.getEnv)(e))}}})).views((function(e){var t=[0,0];return{get filled(){var t;return null!==(t=e.fill)&&void 0!==t?t:(0,d.readConfObject)(e.rendererConfig,"filled")},get summaryScoreModeSetting(){return e.summaryScoreMode||(0,d.readConfObject)(e.rendererConfig,"summaryScoreMode")},get domain(){var r=e.stats,n=e.scaleType,a=e.minScore,o=e.maxScore,i=r.scoreMin,l=r.scoreMax,u=(0,y.getNiceDomain)({domain:[i,l],bounds:[a,o],scaleType:n});return"log"===n&&u[1]===Number.MIN_VALUE?[0,Number.MIN_VALUE]:(JSON.stringify(t)!==JSON.stringify(u)&&(t=u),t)},get needsScalebar(){return"XYPlotRenderer"===e.rendererTypeName||"LinePlotRenderer"===e.rendererTypeName},get scaleOpts(){return{domain:this.domain,stats:e.stats,autoscaleType:this.autoscaleType,scaleType:e.scaleType,inverted:(0,d.getConf)(e,"inverted")}},get canHaveFill(){return"XYPlotRenderer"===e.rendererTypeName},get autoscaleType(){return e.autoscale||(0,d.getConf)(e,"autoscale")},get displayCrossHatchesSetting(){return e.displayCrossHatches||(0,d.readConfObject)(e.rendererConfig,"displayCrossHatches")}}})).views((function(e){return{get ticks(){var t=e.scaleType,r=e.domain,n=e.height,a=(0,d.getConf)(e,"minimalTicks"),o=[n-5,5],i=(0,y.getScale)({scaleType:t,domain:r,range:o,inverted:(0,d.getConf)(e,"inverted")}),l=(0,v.axisPropsFromTickScale)(i,4);return n<100||a?C(C({},l),{},{values:r}):l}}})).views((function(t){var r=t.renderProps;return{renderProps:function(){var e=r();return C(C({},e),{},{notReady:e.notReady||!t.statsReady,rpcDriverName:t.rpcDriverName,displayModel:t,config:t.rendererConfig,scaleOpts:t.scaleOpts,resolution:t.resolution,height:t.height,ticks:t.ticks,displayCrossHatches:t.displayCrossHatches,filters:t.filters})},get adapterCapabilities(){return e.getAdapterType(t.adapterTypeName).adapterCapabilities},get hasResolution(){return this.adapterCapabilities.includes("hasResolution")},get hasGlobalStats(){return this.adapterCapabilities.includes("hasGlobalStats")}}})).views((function(e){var t=e.trackMenuItems;return{trackMenuItems:function(){return[].concat((0,u.default)(t()),(0,u.default)(e.hasResolution?[{label:"Resolution",subMenu:[{label:"Finer resolution",onClick:function(){e.setResolution(5*e.resolution)}},{label:"Coarser resolution",onClick:function(){e.setResolution(e.resolution/5)}}]},{label:"Summary score mode",subMenu:["min","max","avg","whiskers"].map((function(t){return{label:t,onClick:function(){return e.setSummaryScoreMode(t)}}}))}]:[]),(0,u.default)(e.canHaveFill?[{label:e.filled?"Turn off histogram fill":"Turn on histogram fill",onClick:function(){e.setFill(!e.filled)}}]:[]),[{label:"log"===e.scaleType?"Set linear scale":"Set log scale",onClick:function(){e.toggleLogScale()}},{type:"checkbox",label:"Draw cross hatches",checked:e.displayCrossHatchesSetting,onClick:function(){e.toggleCrossHatches()}}],(0,u.default)(Object.keys((0,d.getConf)(e,"renderers")||{}).length>1?[{label:"Renderer type",subMenu:(0,u.default)(x.keys()).map((function(t){return{label:t,onClick:function(){return e.setRendererType(t)}}}))}]:[]),[{label:"Autoscale type",subMenu:[["local","Local"]].concat((0,u.default)(e.hasGlobalStats?[["global","Global"],["globalsd","Global  3"]]:[]),[["localsd","Local  3"]]).map((function(t){var r=(0,l.default)(t,2),n=r[0];return{label:r[1],onClick:function(){e.setAutoscale(n)}}}))},{label:"Set min/max score",onClick:function(){(0,f.getSession)(e).queueDialog((function(t){return[S,{model:e,handleClose:t}]}))}},{label:"Set color",onClick:function(){(0,f.getSession)(e).queueDialog((function(t){return[P,{model:e,handleClose:t}]}))}}])}}})).actions((function(e){var t=e.reload,r=e.renderSvg;function n(e){return o.apply(this,arguments)}function o(){return(o=(0,i.default)(a.default.mark((function t(r){var n,o,i,l,u,c,s,m,g,v,y,b,w,O,k,E,S,P;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(0,f.getSession)(e),o=n.rpcManager,i=(0,d.getConf)(e,"numStdDev")||3,l=e.adapterConfig,u=e.autoscaleType,c=(0,p.getRpcSessionId)(e),s=C({sessionId:c,adapterConfig:l,statusCallback:function(t){(0,h.isAlive)(e)&&e.setMessage(t)}},r),"global"!==u&&"globalsd"!==u){t.next=11;break}return t.next=8,o.call(c,"WiggleGetGlobalStats",s);case 8:return m=t.sent,g=m.scoreMin,v=m.scoreMean,y=m.scoreStdDev,t.abrupt("return","globalsd"===u?C(C({},m),{},{scoreMin:g>=0?0:v-i*y,scoreMax:v+i*y}):m);case 11:if("local"!==u&&"localsd"!==u){t.next=18;break}return b=(0,f.getContainingView)(e),w=b.dynamicBlocks,O=b.bpPerPx,t.next=15,o.call(c,"WiggleGetMultiRegionStats",C(C({},s),{},{regions:w.contentBlocks.map((function(e){var t=e.start,r=e.end;return C(C({},JSON.parse(JSON.stringify(e))),{},{start:Math.floor(t),end:Math.ceil(r)})})),bpPerPx:O}));case 15:return k=t.sent,E=k.scoreMin,S=k.scoreMean,P=k.scoreStdDev,t.abrupt("return","localsd"===u?C(C({},k),{},{scoreMin:E>=0?0:S-i*P,scoreMax:S+i*P}):k);case 18:if("zscale"!==u){t.next=20;break}return t.abrupt("return",o.call(c,"WiggleGetGlobalStats",s));case 20:throw new Error("invalid autoscaleType '".concat(u,"'"));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{reload:function(){return(0,i.default)(a.default.mark((function r(){var o,i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return e.setError(),o=new AbortController,r.prev=2,r.next=5,n(C({signal:o.signal},e.renderProps()));case 5:i=r.sent,(0,h.isAlive)(e)&&(e.updateStats(i),t()),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),e.setError(r.t0);case 12:case"end":return r.stop()}}),r,null,[[2,9]])})))()},afterAttach:function(){(0,h.addDisposer)(e,(0,g.autorun)((0,i.default)(a.default.mark((function t(){var r,o,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=new AbortController,o=(0,f.getContainingView)(e),e.setLoading(r),o.initialized){t.next=6;break}return t.abrupt("return");case 6:if(e.estimatedStatsReady){t.next=8;break}return t.abrupt("return");case 8:if(!e.regionTooLarge){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,n(C({signal:r.signal},e.renderProps()));case 12:i=t.sent,(0,h.isAlive)(e)&&e.updateStats(i),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),!(0,f.isAbortException)(t.t0)&&(0,h.isAlive)(e)&&(console.error(t.t0),e.setError(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,16]])}))),{delay:1e3}))},renderSvg:function(t){return(0,i.default)(a.default.mark((function n(){var o,i,l,u;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,g.when)((function(){return e.statsReady&&!!e.regionCannotBeRenderedText}));case 2:return o=e.needsScalebar,i=e.stats,l=(0,f.getContainingView)(e),u=l.offsetPx,n.t0=s.default,n.t1=s.default.Fragment,n.t2=s.default,n.t3={id:"snpcov"},n.next=10,r(t);case 10:return n.t4=n.sent,n.t5=n.t2.createElement.call(n.t2,"g",n.t3,n.t4),n.t6=o&&i?s.default.createElement("g",{transform:"translate(".concat(Math.max(-u,0),")")},s.default.createElement(w.YScaleBar,{model:e,orientation:"left"})):null,n.abrupt("return",n.t0.createElement.call(n.t0,n.t1,null,n.t5,n.t6));case 14:case"end":return n.stop()}}),n)})))()}}}))};t.default=j},512:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.stringToJexlExpression=function(e,t){var r="nosig|".concat(e);if(!o[r]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");var n=e.split("jexl:")[1],i=t?t.compile("".concat(n)):(0,a.default)().compile("".concat(n));o[r]=i}return o[r]};var a=n(r(898)),o={}},513:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createImageBitmap=t.createCanvas=t.ImageBitmapType=void 0,t.drawImageOntoCanvasContext=function(e,t){if(e.serializedCommands){new s.CanvasSequence(e.serializedCommands).execute(t)}else if(e instanceof i)t.drawImage(e,0,0);else if(e.dataURL)throw new Error("dataURL deserialization no longer supported")};var a,o,i,l=n(r(19)),u=n(r(21)),c=n(r(324)),s=r(185);t.createCanvas=a,t.createImageBitmap=o,t.ImageBitmapType=i;var d="function"==typeof OffscreenCanvas,f=c.default;if(d)t.createCanvas=a=function(e,t){return new OffscreenCanvas(e,t)},t.createImageBitmap=o=window.createImageBitmap||self.createImageBitmap,t.ImageBitmapType=i=window.ImageBitmap||self.ImageBitmap;else if(f){var p=r(696),m=p.createCanvas,g=p.Image;t.createCanvas=a=m,t.createImageBitmap=o=function(){var e=(0,u.default)(l.default.mark((function e(t){var r,n,a=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length<=1||!(a.length-1)){e.next=2;break}throw new Error("only one-argument uses of createImageBitmap are supported by the node offscreencanvas ponyfill");case 2:return r=t.toDataURL(),n=new g,e.abrupt("return",new Promise((function(e,t){n.onload=function(){return e(n)},n.onerror=t,n.src=r})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ImageBitmapType=i=g}else t.createCanvas=a=function(e,t){var r=new s.CanvasSequence;return{width:e,height:t,getContext:function(){return r}}},t.createImageBitmap=o=function(){var e=(0,u.default)(l.default.mark((function e(t){var r;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.getContext("2d"),e.abrupt("return",{height:t.height,width:t.width,serializedCommands:r.toJSON(),containsNoTransferables:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ImageBitmapType=i=String},514:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(36)),i=n(r(10)),l=n(r(12)),u=n(r(45)),c=n(r(103)),s=n(r(54)),d=r(34),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),p=["value","setValue","variant"];function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var v=(0,d.makeStyles)((function(e){return{input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderRadius:e.shape.borderRadius,borderWidth:2}}})),y=f.default.forwardRef((function(e,t){var r=e.value,n=e.setValue,a=e.variant,i=(0,u.default)(e,p),m=(0,f.useState)(),g=(0,l.default)(m,2),y=g[0],b=g[1],w=(0,f.useState)(0),O=(0,l.default)(w,2),C=O[0],k=O[1],E=(0,f.useState)(null),S=(0,l.default)(E,2),P=S[0],x=S[1],j=(0,f.useState)(null),M=(0,l.default)(j,2),T=M[0],R=M[1],D=(0,f.useState)(!1),I=(0,l.default)(D,2),A=I[0],_=I[1];(0,f.useEffect)((function(){A&&(T&&T.blur(),_(!1))}),[A,T]);var F=v(e),L=(0,d.useTheme)(),N=P&&P.clientWidth;N&&N!==C&&k(N);return f.default.createElement("div",(0,o.default)({},i,{ref:t}),f.default.createElement("div",{style:{position:"relative"}},f.default.createElement(s.default,{ref:function(e){x(e)},component:"span",variant:a,className:F.typography},void 0===y?r:y)),f.default.createElement(c.default,{inputRef:function(e){R(e)},className:F.inputBase,inputProps:{style:h({width:C},a&&"inherit"!==a&&"srOnly"!==a?L.typography[a]:{})},classes:{input:F.input,root:F.inputRoot,focused:F.inputFocused},value:void 0===y?r:y,onChange:function(e){b(e.target.value)},onKeyDown:function(e){"Enter"===e.key?T&&T.blur():"Escape"===e.key&&(b(void 0),_(!0))},onBlur:function(){y&&y!==r&&n(y),b(void 0)}}))}));t.default=y},515:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=(0,r(23).makeStyles)((function(e){return{message:{border:"1px solid black",background:"#f88",overflow:"auto",maxHeight:200,margin:e.spacing(1),padding:e.spacing(1)},errorBox:{background:"lightgrey",border:"1px solid black",margin:20}}})),i=function(e){var t=e.error,r=o(),n="",i="".concat(t),l=i.indexOf("is not assignable");if(-1!==l){var u=i.slice(0,l+"is not assignable".length),c=u.match(/.*at path "(.*)" snapshot `(.*)` is not assignable/m);c&&(i="Failed to load element at ".concat(c[1],"...Failed element had snapshot"),n=c[2]);var s=u.match(/.*snapshot `(.*)` is not assignable/);s&&(i="Failed to load element...Failed element had snapshot",n=s[1])}return a.default.createElement("div",{className:r.message},i.slice(0,1e4),n?a.default.createElement("pre",{className:r.errorBox},JSON.stringify(JSON.parse(n),null,2)):null)};t.default=i},516:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(29),c=r(23);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}var d=(0,c.makeStyles)((function(){return{importFormEntry:{minWidth:180}}}));var f=(0,l.observer)((function(e){var t,r,n,a,l,s,f=e.session,p=e.onChange,m=e.selected,g=e.InputProps,h=e.extra,v=void 0===h?0:h,y=d(),b=f.assemblyNames,w=f.assemblyManager,O=new URLSearchParams(window.location.search).get("config"),C=(t="lastAssembly-".concat([window.location.host+window.location.pathname,O,v].join("-")),r=m,n=(0,i.useState)((function(){if("undefined"==typeof window)return r;try{var e=window.localStorage.getItem(t);return e?JSON.parse(e):r}catch(e){return console.error(e),r}})),a=(0,o.default)(n,2),l=a[0],s=a[1],[l,function(e){try{var r=e instanceof Function?e(l):e;s(r),"undefined"!=typeof window&&window.localStorage.setItem(t,JSON.stringify(r))}catch(e){console.error(e)}}]),k=(0,o.default)(C,2),E=k[0],S=k[1],P=b.includes(E||"")?E:m;(0,i.useEffect)((function(){P&&P!==m&&p(P)}),[P,p,m]);var x=b.length?"":"No configured assemblies";return i.default.createElement(c.TextField,{select:!0,label:"Assembly",variant:"outlined",helperText:x||"Select assembly to view",value:x?"":P,inputProps:{"data-testid":"assembly-selector"},onChange:function(e){return S(e.target.value)},error:!!x,InputProps:g,disabled:!!x,className:y.importFormEntry},b.map((function(e){var t=w.get(e),r=t?(0,u.getConf)(t,"displayName"):"";return i.default.createElement(c.MenuItem,{key:e,value:e},r||e)})))}));t.default=f},517:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(15)),l=n(r(16));function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.default)(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return(0,l.default)(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size+=1,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&(this._size-=1),this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:a.default.mark((function e(){var t,r,n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u(this),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=(0,o.default)(r.value,1),i=n[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:a.default.mark((function e(){var t,r,n,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u(this),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=(0,o.default)(r.value,2),i=n[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:a.default.mark((function e(){var t,r,n,i,l,c,s,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=u(this.cache),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=9;break}return n=r.value,e.next=7,n;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=u(this.oldCache),e.prev=18,i.s();case 20:if((l=i.n()).done){e.next=28;break}if(c=l.value,s=(0,o.default)(c,1),d=s[0],this.cache.has(d)){e.next=26;break}return e.next=26,c;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,r=u(this.oldCache.keys());try{for(r.s();!(e=r.n()).done;){var n=e.value;this.cache.has(n)||(t+=1)}}catch(e){r.e(e)}finally{r.f()}return this._size+t}}]),t}(Symbol.iterator);t.default=s},518:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var f=function(e){(0,l.default)(r,e);var t=d(r);function r(e){var n;if((0,o.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"stateModel",void 0),(0,s.default)((0,i.default)(n),"configSchema",void 0),(0,s.default)((0,i.default)(n),"displayName",void 0),(0,s.default)((0,i.default)(n),"description",void 0),(0,s.default)((0,i.default)(n),"url",void 0),(0,s.default)((0,i.default)(n),"configEditorComponent",void 0),n.stateModel=e.stateModel,n.configSchema=e.configSchema,n.displayName=e.displayName,n.description=e.description,n.url=e.url,n.configEditorComponent=e.configEditorComponent,!n.stateModel)throw new Error("no stateModel defined for connection ".concat(n.name));if(!n.configSchema)throw new Error("no configSchema defined for connection ".concat(n.name));return n}return(0,a.default)(r)}(n(r(114)).default);t.default=f},519:function(e,t,r){"use strict";r.r(t),function(e,n,a){r.d(t,"DEFAULT_GRID_COL_TYPE_KEY",(function(){return Za})),r.d(t,"DEFAULT_GRID_OPTIONS",(function(){return wr})),r.d(t,"DEFAULT_GRID_PROPS_FROM_OPTIONS",(function(){return br})),r.d(t,"DEFAULT_GRID_SLOTS_COMPONENTS",(function(){return Nl})),r.d(t,"DataGrid",(function(){return vu})),r.d(t,"GRID_BOOLEAN_COLUMN_TYPE",(function(){return oo})),r.d(t,"GRID_CELL_CSS_CLASS",(function(){return Ko})),r.d(t,"GRID_CELL_CSS_CLASS_SUFFIX",(function(){return Uo})),r.d(t,"GRID_COLUMN_HEADER_CSS_CLASS",(function(){return qo})),r.d(t,"GRID_COLUMN_HEADER_CSS_CLASS_SUFFIX",(function(){return Vo})),r.d(t,"GRID_COLUMN_HEADER_DRAGGING_CSS_CLASS",(function(){return Zo})),r.d(t,"GRID_COLUMN_HEADER_DROP_ZONE_CSS_CLASS",(function(){return Xo})),r.d(t,"GRID_COLUMN_HEADER_SEPARATOR_RESIZABLE_CSS_CLASS",(function(){return Jo})),r.d(t,"GRID_COLUMN_HEADER_TITLE_CSS_CLASS",(function(){return Yo})),r.d(t,"GRID_CSS_CLASS_PREFIX",(function(){return Ho})),r.d(t,"GRID_DATETIME_COLUMN_TYPE",(function(){return ao})),r.d(t,"GRID_DATETIME_COL_DEF",(function(){return Ga})),r.d(t,"GRID_DATE_COLUMN_TYPE",(function(){return no})),r.d(t,"GRID_DATE_COL_DEF",(function(){return Va})),r.d(t,"GRID_DEFAULT_LOCALE_TEXT",(function(){return hr})),r.d(t,"GRID_EXPERIMENTAL_ENABLED",(function(){return Di})),r.d(t,"GRID_NUMBER_COLUMN_TYPE",(function(){return ro})),r.d(t,"GRID_NUMERIC_COL_DEF",(function(){return Aa})),r.d(t,"GRID_ROOT_CSS_CLASS_SUFFIX",(function(){return Wo})),r.d(t,"GRID_ROW_CSS_CLASS",(function(){return $o})),r.d(t,"GRID_ROW_CSS_CLASS_SUFFIX",(function(){return Go})),r.d(t,"GRID_STRING_COLUMN_TYPE",(function(){return to})),r.d(t,"GRID_STRING_COL_DEF",(function(){return ja})),r.d(t,"GridAddIcon",(function(){return ba})),r.d(t,"GridApiContext",(function(){return X})),r.d(t,"GridArrowDownwardIcon",(function(){return ia})),r.d(t,"GridArrowUpwardIcon",(function(){return oa})),r.d(t,"GridAutoSizer",(function(){return Lo})),r.d(t,"GridBody",(function(){return ii})),r.d(t,"GridCell",(function(){return ti})),r.d(t,"GridCellCheckboxForwardRef",(function(){return Wn})),r.d(t,"GridCellCheckboxRenderer",(function(){return Vn})),r.d(t,"GridCellModes",(function(){return qa})),r.d(t,"GridCheckCircleIcon",(function(){return da})),r.d(t,"GridCheckIcon",(function(){return ka})),r.d(t,"GridCloseIcon",(function(){return ya})),r.d(t,"GridColumnHeaderItem",(function(){return So})),r.d(t,"GridColumnHeaderMenu",(function(){return Eo})),r.d(t,"GridColumnHeaderSeparator",(function(){return go})),r.d(t,"GridColumnHeaderSortIcon",(function(){return io})),r.d(t,"GridColumnHeaderTitle",(function(){return mo})),r.d(t,"GridColumnHeadersItemCollection",(function(){return Po})),r.d(t,"GridColumnIcon",(function(){return fa})),r.d(t,"GridColumnMenu",(function(){return Oi})),r.d(t,"GridColumnMenuContainer",(function(){return yi})),r.d(t,"GridColumnsContainer",(function(){return Ao})),r.d(t,"GridColumnsHeader",(function(){return Io})),r.d(t,"GridColumnsMenuItem",(function(){return hi})),r.d(t,"GridColumnsPanel",(function(){return Ai})),r.d(t,"GridDataContainer",(function(){return Bo})),r.d(t,"GridDensityTypes",(function(){return vr})),r.d(t,"GridDragIcon",(function(){return Oa})),r.d(t,"GridEditInputCell",(function(){return Zn})),r.d(t,"GridEditModes",(function(){return Ua})),r.d(t,"GridEditSingleSelectCell",(function(){return Ja})),r.d(t,"GridEmptyCell",(function(){return Fr})),r.d(t,"GridErrorHandler",(function(){return ui})),r.d(t,"GridEvents",(function(){return o})),r.d(t,"GridFeatureModeConstant",(function(){return yr})),r.d(t,"GridFilterAltIcon",(function(){return ua})),r.d(t,"GridFilterForm",(function(){return zi})),r.d(t,"GridFilterInputValue",(function(){return Pa})),r.d(t,"GridFilterListIcon",(function(){return la})),r.d(t,"GridFilterMenuItem",(function(){return vi})),r.d(t,"GridFilterPanel",(function(){return Hi})),r.d(t,"GridFooter",(function(){return Yi})),r.d(t,"GridFooterContainer",(function(){return pi})),r.d(t,"GridFooterPlaceholder",(function(){return ci})),r.d(t,"GridHeader",(function(){return Xi})),r.d(t,"GridHeaderCheckbox",(function(){return Yn})),r.d(t,"GridHeaderPlaceholder",(function(){return si})),r.d(t,"GridLinkOperator",(function(){return kr})),r.d(t,"GridLoadIcon",(function(){return wa})),r.d(t,"GridLoadingOverlay",(function(){return Zi})),r.d(t,"GridMenu",(function(){return ko})),r.d(t,"GridMenuIcon",(function(){return sa})),r.d(t,"GridNoRowsOverlay",(function(){return Qi})),r.d(t,"GridOverlay",(function(){return mi})),r.d(t,"GridOverlays",(function(){return oi})),r.d(t,"GridPagination",(function(){return tl})),r.d(t,"GridPanel",(function(){return Li})),r.d(t,"GridPanelContent",(function(){return ki})),r.d(t,"GridPanelFooter",(function(){return Si})),r.d(t,"GridPanelHeader",(function(){return xi})),r.d(t,"GridPanelWrapper",(function(){return Ti})),r.d(t,"GridPreferencePanelsValue",(function(){return bo})),r.d(t,"GridPreferencesPanel",(function(){return Ni})),r.d(t,"GridRenderingZone",(function(){return zo})),r.d(t,"GridRoot",(function(){return fi})),r.d(t,"GridRow",(function(){return Qo})),r.d(t,"GridRowCells",(function(){return ri})),r.d(t,"GridRowCount",(function(){return Ki})),r.d(t,"GridRowModes",(function(){return $a})),r.d(t,"GridSaveAltIcon",(function(){return Ca})),r.d(t,"GridScrollArea",(function(){return Hr})),r.d(t,"GridSearchIcon",(function(){return ca})),r.d(t,"GridSelectedRowCount",(function(){return Ji})),r.d(t,"GridSeparatorIcon",(function(){return pa})),r.d(t,"GridStickyContainer",(function(){return ni})),r.d(t,"GridTableRowsIcon",(function(){return ga})),r.d(t,"GridToolbar",(function(){return $i})),r.d(t,"GridToolbarColumnsButton",(function(){return Wi})),r.d(t,"GridToolbarContainer",(function(){return gi})),r.d(t,"GridToolbarDensitySelector",(function(){return Vi})),r.d(t,"GridToolbarExport",(function(){return qi})),r.d(t,"GridToolbarFilterButton",(function(){return Ui})),r.d(t,"GridTripleDotsVerticalIcon",(function(){return va})),r.d(t,"GridViewHeadlineIcon",(function(){return ma})),r.d(t,"GridViewStreamIcon",(function(){return ha})),r.d(t,"GridViewport",(function(){return ai})),r.d(t,"GridWindow",(function(){return Fo})),r.d(t,"HideGridColMenuItem",(function(){return bi})),r.d(t,"MAX_PAGE_SIZE",(function(){return gu})),r.d(t,"SUBMIT_FILTER_STROKE_TIME",(function(){return Sa})),r.d(t,"SortGridMenuItems",(function(){return wi})),r.d(t,"activeGridFilterItemsSelector",(function(){return cn})),r.d(t,"allGridColumnsFieldsSelector",(function(){return ee})),r.d(t,"allGridColumnsSelector",(function(){return re})),r.d(t,"arSD",(function(){return Wl})),r.d(t,"bgBG",(function(){return Vl})),r.d(t,"checkGridRowIdIsValid",(function(){return ei})),r.d(t,"convertGridRowsPropToState",(function(){return kl})),r.d(t,"csCZ",(function(){return Gl})),r.d(t,"deDE",(function(){return Ul})),r.d(t,"elGR",(function(){return ql})),r.d(t,"enUS",(function(){return $l})),r.d(t,"esES",(function(){return Kl})),r.d(t,"filterGridColumnLookupSelector",(function(){return dn})),r.d(t,"filterGridItemsCounterSelector",(function(){return sn})),r.d(t,"filterGridStateSelector",(function(){return un})),r.d(t,"filterableGridColumnsIdsSelector",(function(){return ie})),r.d(t,"filterableGridColumnsSelector",(function(){return oe})),r.d(t,"frFR",(function(){return Jl})),r.d(t,"getGridColDef",(function(){return eo})),r.d(t,"getGridDateOperators",(function(){return Na})),r.d(t,"getGridDefaultColumnTypes",(function(){return Qa})),r.d(t,"getGridNumericColumnOperators",(function(){return Ia})),r.d(t,"getGridStringOperators",(function(){return xa})),r.d(t,"getInitialGridColumnReorderState",(function(){return Or})),r.d(t,"getInitialGridColumnResizeState",(function(){return Cr})),r.d(t,"getInitialGridColumnsState",(function(){return gr})),r.d(t,"getInitialGridFilterState",(function(){return Er})),r.d(t,"getInitialGridRenderingState",(function(){return jr})),r.d(t,"getInitialGridRowState",(function(){return Pr})),r.d(t,"getInitialGridSortingState",(function(){return xr})),r.d(t,"getInitialGridState",(function(){return Mr})),r.d(t,"getInitialVisibleGridRowsState",(function(){return Sr})),r.d(t,"gridCheckboxSelectionColDef",(function(){return Da})),r.d(t,"gridClasses",(function(){return _r})),r.d(t,"gridColumnLookupSelector",(function(){return te})),r.d(t,"gridColumnMenuStateSelector",(function(){return Cn})),r.d(t,"gridColumnReorderDragColSelector",(function(){return Vr})),r.d(t,"gridColumnReorderSelector",(function(){return Wr})),r.d(t,"gridColumnResizeSelector",(function(){return Gr})),r.d(t,"gridColumnsMetaSelector",(function(){return ae})),r.d(t,"gridColumnsSelector",(function(){return Q})),r.d(t,"gridColumnsTotalWidthSelector",(function(){return ue})),r.d(t,"gridDateFormatter",(function(){return Ha})),r.d(t,"gridDateTimeFormatter",(function(){return Wa})),r.d(t,"gridEditRowsStateSelector",(function(){return No})),r.d(t,"gridFocusCellSelector",(function(){return pn})),r.d(t,"gridFocusColumnHeaderSelector",(function(){return mn})),r.d(t,"gridFocusStateSelector",(function(){return fn})),r.d(t,"gridPaginatedVisibleSortedGridRowIdsSelector",(function(){return Un})),r.d(t,"gridPaginationSelector",(function(){return Gn})),r.d(t,"gridPanelClasses",(function(){return Fi})),r.d(t,"gridPreferencePanelStateSelector",(function(){return vo})),r.d(t,"gridResizingColumnFieldSelector",(function(){return Ur})),r.d(t,"gridRowCountSelector",(function(){return $r})),r.d(t,"gridRowsLookupSelector",(function(){return Kr})),r.d(t,"gridRowsStateSelector",(function(){return qr})),r.d(t,"gridScrollbarStateSelector",(function(){return Do})),r.d(t,"gridSelectionStateSelector",(function(){return qn})),r.d(t,"gridSortColumnLookupSelector",(function(){return tn})),r.d(t,"gridSortModelSelector",(function(){return en})),r.d(t,"gridTabIndexCellSelector",(function(){return hn})),r.d(t,"gridTabIndexColumnHeaderSelector",(function(){return vn})),r.d(t,"gridTabIndexStateSelector",(function(){return gn})),r.d(t,"gridViewportSizeStateSelector",(function(){return yo})),r.d(t,"itIT",(function(){return Yl})),r.d(t,"jaJP",(function(){return Xl})),r.d(t,"nlNL",(function(){return Zl})),r.d(t,"plPL",(function(){return eu})),r.d(t,"plPLGrid",(function(){return Ql})),r.d(t,"ptBR",(function(){return tu})),r.d(t,"renderEditInputCell",(function(){return Qn})),r.d(t,"renderEditSingleSelectCell",(function(){return Ya})),r.d(t,"ruRU",(function(){return nu})),r.d(t,"ruRUGrid",(function(){return ru})),r.d(t,"selectedGridRowsCountSelector",(function(){return $n})),r.d(t,"selectedGridRowsSelector",(function(){return Kn})),r.d(t,"selectedIdsLookupSelector",(function(){return Jn})),r.d(t,"skSK",(function(){return ou})),r.d(t,"skSKGrid",(function(){return au})),r.d(t,"sortedGridRowIdsSelector",(function(){return Zr})),r.d(t,"sortedGridRowsSelector",(function(){return Qr})),r.d(t,"trTR",(function(){return iu})),r.d(t,"ukUA",(function(){return uu})),r.d(t,"ukUAGrid",(function(){return lu})),r.d(t,"unorderedGridRowIdsSelector",(function(){return Jr})),r.d(t,"unorderedGridRowModelsSelector",(function(){return Yr})),r.d(t,"useApi",(function(){return hl})),r.d(t,"useDataGridComponent",(function(){return mu})),r.d(t,"useGridApi",(function(){return Tr})),r.d(t,"useGridApiMethod",(function(){return mr})),r.d(t,"useGridApiRef",(function(){return Dl})),r.d(t,"useGridColumnMenu",(function(){return rl})),r.d(t,"useGridColumnReorder",(function(){return nl})),r.d(t,"useGridColumnResize",(function(){return Al})),r.d(t,"useGridColumns",(function(){return ol})),r.d(t,"useGridComponents",(function(){return Bl})),r.d(t,"useGridContainerProps",(function(){return vl})),r.d(t,"useGridControlState",(function(){return il})),r.d(t,"useGridEditRows",(function(){return Sl})),r.d(t,"useGridFilter",(function(){return ul})),r.d(t,"useGridFocus",(function(){return cl})),r.d(t,"useGridKeyboard",(function(){return sl})),r.d(t,"useGridKeyboardNavigation",(function(){return dl})),r.d(t,"useGridLogger",(function(){return pr})),r.d(t,"useGridLoggerFactory",(function(){return fr})),r.d(t,"useGridPage",(function(){return gl})),r.d(t,"useGridPageSize",(function(){return bl})),r.d(t,"useGridParamsApi",(function(){return Ol})),r.d(t,"useGridPreferencesPanel",(function(){return wl})),r.d(t,"useGridReducer",(function(){return ll})),r.d(t,"useGridRows",(function(){return El})),r.d(t,"useGridScroll",(function(){return Tl})),r.d(t,"useGridScrollFn",(function(){return fl})),r.d(t,"useGridSelection",(function(){return Pl})),r.d(t,"useGridSelector",(function(){return Dr})),r.d(t,"useGridSlotComponentProps",(function(){return zl})),r.d(t,"useGridSorting",(function(){return xl})),r.d(t,"useGridState",(function(){return Rr})),r.d(t,"useGridVirtualization",(function(){return jl})),r.d(t,"useNativeEventListener",(function(){return yl})),r.d(t,"visibleGridColumnsLengthSelector",(function(){return le})),r.d(t,"visibleGridColumnsSelector",(function(){return ne})),r.d(t,"visibleGridRowCountSelector",(function(){return ln})),r.d(t,"visibleGridRowsStateSelector",(function(){return rn})),r.d(t,"visibleSortedGridRowIdsSelector",(function(){return on})),r.d(t,"visibleSortedGridRowsAsArraySelector",(function(){return an})),r.d(t,"visibleSortedGridRowsSelector",(function(){return nn}));var o,i,l=r(1),u=r.n(l),c=r(20),s=r(955),d=r(34),f=r(66),p=r(62),m=r(108),g=r(57),h=r(75),v=r(224),y=r(222),b=r(43),w=r(93),O=r(119),C=r(2301),k=r(2267),E=r(634),S=r(659),P=r(949),x=r(952),j=r(645),M=r(2271),T=r(621),R=r(660),D=r(2273),I=r(2280),A=r(620),_=r(2289),F=r(2288),L=r(2287),N=r(2291),B=r(623),z=r(636),H=r(2275),W=r(635),V=r(2282),G=r(643),U=r(2272),q=r(2306),$=r(714),K=r(0),J=r.n(K),Y=r(2297);(i=o||(o={})).resize="resize",i.debouncedResize="debouncedResize",i.componentError="componentError",i.unmount="unmount",i.cellModeChange="cellModeChange",i.cellClick="cellClick",i.cellDoubleClick="cellDoubleClick",i.cellMouseDown="cellMouseDown",i.cellMouseUp="cellMouseUp",i.cellOver="cellOver",i.cellOut="cellOut",i.cellEnter="cellEnter",i.cellLeave="cellLeave",i.cellKeyDown="cellKeyDown",i.cellBlur="cellBlur",i.cellFocus="cellFocus",i.cellFocusIn="cellFocusIn",i.cellFocusOut="cellFocusOut",i.cellDragStart="cellDragStart",i.cellDragEnter="cellDragEnter",i.cellDragOver="cellDragOver",i.cellDragEnd="cellDragEnd",i.editCellPropsChange="editCellPropsChange",i.cellEditCommit="cellEditCommit",i.cellEditStart="cellEditStart",i.cellEditStop="cellEditStop",i.rowEditStart="rowEditStart",i.rowEditStop="rowEditStop",i.rowEditCommit="rowEditCommit",i.cellNavigationKeyDown="cellNavigationKeyDown",i.rowClick="rowClick",i.rowDoubleClick="rowDoubleClick",i.rowOver="rowOver",i.rowOut="rowOut",i.rowEnter="rowEnter",i.rowLeave="rowLeave",i.editRowsModelChange="editRowsModelChange",i.columnHeaderBlur="columnHeaderBlur",i.columnHeaderFocus="columnHeaderFocus",i.columnHeaderNavigationKeyDown="columnHeaderNavigationKeyDown",i.columnHeaderKeyDown="columnHeaderKeyDown",i.columnHeaderClick="columnHeaderClick",i.columnHeaderDoubleClick="columnHeaderDoubleClick",i.columnHeaderOver="columnHeaderOver",i.columnHeaderOut="columnHeaderOut",i.columnHeaderEnter="columnHeaderEnter",i.columnHeaderLeave="columnHeaderLeave",i.columnHeaderDragStart="columnHeaderDragStart",i.columnHeaderDragOver="columnHeaderDragOver",i.columnHeaderDragEnter="columnHeaderDragEnter",i.columnHeaderDragEnd="columnHeaderDragEnd",i.selectionChange="selectionChange",i.pageChange="pageChange",i.pageSizeChange="pageSizeChange",i.rowsScroll="rowsScroll",i.rowsScrollEnd="rowsScrollEnd",i.columnSeparatorMouseDown="columnSeparatorMouseDown",i.columnResize="columnResize",i.columnWidthChange="columnWidthChange",i.columnResizeStart="columnResizeStart",i.columnResizeStop="columnResizeStop",i.columnOrderChange="columnOrderChange",i.rowsUpdate="rowsUpdate",i.rowsSet="rowsSet",i.rowsClear="rowsClear",i.columnsChange="columnsChange",i.sortModelChange="sortModelChange",i.filterModelChange="filterModelChange",i.stateChange="stateChange",i.columnVisibilityChange="columnVisibilityChange",i.viewportRowsChange="viewportRowsChange";const X=l.createContext(void 0);function Z(){const e=l.useContext(X);if(void 0===e)throw new Error(["Material-UI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid or DataGridPro parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}const Q=e=>e.columns,ee=e=>e.columns.all,te=e=>e.columns.lookup,re=Object(s.a)(ee,te,(e,t)=>e.map(e=>t[e])),ne=Object(s.a)(re,e=>e.filter(e=>null!=e.field&&!e.hide)),ae=Object(s.a)(ne,e=>{const t=[];return{totalWidth:e.reduce((e,r)=>(t.push(e),e+r.computedWidth),0),positions:t}}),oe=Object(s.a)(re,e=>e.filter(e=>e.filterable)),ie=Object(s.a)(oe,e=>e.map(e=>e.field)),le=Object(s.a)(ne,e=>e.length),ue=Object(s.a)(ae,e=>e.totalWidth);function ce(e,t){return e===t||e!=e&&t!=t}function se(e,t){for(var r=e.length;r--;)if(ce(e[r][0],t))return r;return-1}var de=Array.prototype.splice;function fe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}fe.prototype.clear=function(){this.__data__=[],this.size=0},fe.prototype.delete=function(e){var t=this.__data__,r=se(t,e);return!(r<0||(r==t.length-1?t.pop():de.call(t,r,1),--this.size,0))},fe.prototype.get=function(e){var t=this.__data__,r=se(t,e);return r<0?void 0:t[r][1]},fe.prototype.has=function(e){return se(this.__data__,e)>-1},fe.prototype.set=function(e,t){var r=this.__data__,n=se(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var pe="object"==typeof e&&e&&e.Object===Object&&e,me="object"==typeof self&&self&&self.Object===Object&&self,ge=pe||me||Function("return this")(),he=ge.Symbol,ve=Object.prototype,ye=ve.hasOwnProperty,be=ve.toString,we=he?he.toStringTag:void 0,Oe=Object.prototype.toString,Ce=he?he.toStringTag:void 0;function ke(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ce&&Ce in Object(e)?function(e){var t=ye.call(e,we),r=e[we];try{e[we]=void 0;var n=!0}catch(e){}var a=be.call(e);return n&&(t?e[we]=r:delete e[we]),a}(e):function(e){return Oe.call(e)}(e)}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Se(e){if(!Ee(e))return!1;var t=ke(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Pe,xe=ge["__core-js_shared__"],je=(Pe=/[^.]+$/.exec(xe&&xe.keys&&xe.keys.IE_PROTO||""))?"Symbol(src)_1."+Pe:"",Me=Function.prototype.toString;function Te(e){if(null!=e){try{return Me.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Re=/^\[object .+?Constructor\]$/,De=Function.prototype,Ie=Object.prototype,Ae=De.toString,_e=Ie.hasOwnProperty,Fe=RegExp("^"+Ae.call(_e).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Le(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ee(e)||(t=e,je&&je in t))&&(Se(e)?Fe:Re).test(Te(e));var t}(r)?r:void 0}var Ne=Le(ge,"Map"),Be=Le(Object,"create"),ze=Object.prototype.hasOwnProperty,He=Object.prototype.hasOwnProperty;function We(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ve(e,t){var r,n,a=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?a["string"==typeof t?"string":"hash"]:a.map}function Ge(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ue(e){var t=this.__data__=new fe(e);this.size=t.size}function qe(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Ge;++t<r;)this.add(e[t])}function $e(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function Ke(e,t,r,n,a,o){var i=1&r,l=e.length,u=t.length;if(l!=u&&!(i&&u>l))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var s=-1,d=!0,f=2&r?new qe:void 0;for(o.set(e,t),o.set(t,e);++s<l;){var p=e[s],m=t[s];if(n)var g=i?n(m,p,s,t,e,o):n(p,m,s,e,t,o);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!$e(t,(function(e,t){if(i=t,!f.has(i)&&(p===e||a(p,e,r,n,o)))return f.push(t);var i}))){d=!1;break}}else if(p!==m&&!a(p,m,r,n,o)){d=!1;break}}return o.delete(e),o.delete(t),d}We.prototype.clear=function(){this.__data__=Be?Be(null):{},this.size=0},We.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},We.prototype.get=function(e){var t=this.__data__;if(Be){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return ze.call(t,e)?t[e]:void 0},We.prototype.has=function(e){var t=this.__data__;return Be?void 0!==t[e]:He.call(t,e)},We.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Be&&void 0===t?"__lodash_hash_undefined__":t,this},Ge.prototype.clear=function(){this.size=0,this.__data__={hash:new We,map:new(Ne||fe),string:new We}},Ge.prototype.delete=function(e){var t=Ve(this,e).delete(e);return this.size-=t?1:0,t},Ge.prototype.get=function(e){return Ve(this,e).get(e)},Ge.prototype.has=function(e){return Ve(this,e).has(e)},Ge.prototype.set=function(e,t){var r=Ve(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Ue.prototype.clear=function(){this.__data__=new fe,this.size=0},Ue.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Ue.prototype.get=function(e){return this.__data__.get(e)},Ue.prototype.has=function(e){return this.__data__.has(e)},Ue.prototype.set=function(e,t){var r=this.__data__;if(r instanceof fe){var n=r.__data__;if(!Ne||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ge(n)}return r.set(e,t),this.size=r.size,this},qe.prototype.add=qe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},qe.prototype.has=function(e){return this.__data__.has(e)};var Je=ge.Uint8Array;function Ye(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function Xe(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var Ze=he?he.prototype:void 0,Qe=Ze?Ze.valueOf:void 0,et=Array.isArray,tt=Object.prototype.propertyIsEnumerable,rt=Object.getOwnPropertySymbols,nt=rt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i)&&(o[a++]=i)}return o}(rt(e),(function(t){return tt.call(e,t)})))}:function(){return[]};function at(e){return null!=e&&"object"==typeof e}function ot(e){return at(e)&&"[object Arguments]"==ke(e)}var it=Object.prototype,lt=it.hasOwnProperty,ut=it.propertyIsEnumerable,ct=ot(function(){return arguments}())?ot:function(e){return at(e)&&lt.call(e,"callee")&&!ut.call(e,"callee")},st="object"==typeof exports&&exports&&!exports.nodeType&&exports,dt=st&&"object"==typeof n&&n&&!n.nodeType&&n,ft=dt&&dt.exports===st?ge.Buffer:void 0,pt=(ft?ft.isBuffer:void 0)||function(){return!1},mt=/^(?:0|[1-9]\d*)$/;function gt(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&mt.test(e))&&e>-1&&e%1==0&&e<t}function ht(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var vt={};vt["[object Float32Array]"]=vt["[object Float64Array]"]=vt["[object Int8Array]"]=vt["[object Int16Array]"]=vt["[object Int32Array]"]=vt["[object Uint8Array]"]=vt["[object Uint8ClampedArray]"]=vt["[object Uint16Array]"]=vt["[object Uint32Array]"]=!0,vt["[object Arguments]"]=vt["[object Array]"]=vt["[object ArrayBuffer]"]=vt["[object Boolean]"]=vt["[object DataView]"]=vt["[object Date]"]=vt["[object Error]"]=vt["[object Function]"]=vt["[object Map]"]=vt["[object Number]"]=vt["[object Object]"]=vt["[object RegExp]"]=vt["[object Set]"]=vt["[object String]"]=vt["[object WeakMap]"]=!1;var yt,bt="object"==typeof exports&&exports&&!exports.nodeType&&exports,wt=bt&&"object"==typeof n&&n&&!n.nodeType&&n,Ot=wt&&wt.exports===bt&&pe.process,Ct=function(){try{return Ot&&Ot.binding&&Ot.binding("util")}catch(e){}}(),kt=Ct&&Ct.isTypedArray,Et=kt?(yt=kt,function(e){return yt(e)}):function(e){return at(e)&&ht(e.length)&&!!vt[ke(e)]},St=Object.prototype.hasOwnProperty;var Pt=Object.prototype,xt=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),jt=Object.prototype.hasOwnProperty;function Mt(e){return null!=(t=e)&&ht(t.length)&&!Se(t)?function(e,t){var r=et(e),n=!r&&ct(e),a=!r&&!n&&pt(e),o=!r&&!n&&!a&&Et(e),i=r||n||a||o,l=i?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],u=l.length;for(var c in e)!t&&!St.call(e,c)||i&&("length"==c||a&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gt(c,u))||l.push(c);return l}(e):function(e){if(r=(t=e)&&t.constructor,t!==("function"==typeof r&&r.prototype||Pt))return xt(e);var t,r,n=[];for(var a in Object(e))jt.call(e,a)&&"constructor"!=a&&n.push(a);return n}(e);var t}function Tt(e){return function(e,t,r){var n=t(e);return et(e)?n:function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}(n,r(e))}(e,Mt,nt)}var Rt=Object.prototype.hasOwnProperty,Dt=Le(ge,"DataView"),It=Le(ge,"Promise"),At=Le(ge,"Set"),_t=Le(ge,"WeakMap"),Ft=Te(Dt),Lt=Te(Ne),Nt=Te(It),Bt=Te(At),zt=Te(_t),Ht=ke;(Dt&&"[object DataView]"!=Ht(new Dt(new ArrayBuffer(1)))||Ne&&"[object Map]"!=Ht(new Ne)||It&&"[object Promise]"!=Ht(It.resolve())||At&&"[object Set]"!=Ht(new At)||_t&&"[object WeakMap]"!=Ht(new _t))&&(Ht=function(e){var t=ke(e),r="[object Object]"==t?e.constructor:void 0,n=r?Te(r):"";if(n)switch(n){case Ft:return"[object DataView]";case Lt:return"[object Map]";case Nt:return"[object Promise]";case Bt:return"[object Set]";case zt:return"[object WeakMap]"}return t});var Wt=Ht,Vt="[object Object]",Gt=Object.prototype.hasOwnProperty;function Ut(e,t,r,n,a){return e===t||(null==e||null==t||!at(e)&&!at(t)?e!=e&&t!=t:function(e,t,r,n,a,o){var i=et(e),l=et(t),u=i?"[object Array]":Wt(e),c=l?"[object Array]":Wt(t),s=(u="[object Arguments]"==u?Vt:u)==Vt,d=(c="[object Arguments]"==c?Vt:c)==Vt,f=u==c;if(f&&pt(e)){if(!pt(t))return!1;i=!0,s=!1}if(f&&!s)return o||(o=new Ue),i||Et(e)?Ke(e,t,r,n,a,o):function(e,t,r,n,a,o,i){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Je(e),new Je(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ce(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Ye;case"[object Set]":var u=1&n;if(l||(l=Xe),e.size!=t.size&&!u)return!1;var c=i.get(e);if(c)return c==t;n|=2,i.set(e,t);var s=Ke(l(e),l(t),n,a,o,i);return i.delete(e),s;case"[object Symbol]":if(Qe)return Qe.call(e)==Qe.call(t)}return!1}(e,t,u,r,n,a,o);if(!(1&r)){var p=s&&Gt.call(e,"__wrapped__"),m=d&&Gt.call(t,"__wrapped__");if(p||m){var g=p?e.value():e,h=m?t.value():t;return o||(o=new Ue),a(g,h,r,n,o)}}return!!f&&(o||(o=new Ue),function(e,t,r,n,a,o){var i=1&r,l=Tt(e),u=l.length;if(u!=Tt(t).length&&!i)return!1;for(var c=u;c--;){var s=l[c];if(!(i?s in t:Rt.call(t,s)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=i;++c<u;){var m=e[s=l[c]],g=t[s];if(n)var h=i?n(g,m,s,t,e,o):n(m,g,s,e,t,o);if(!(void 0===h?m===g||a(m,g,r,n,o):h)){f=!1;break}p||(p="constructor"==s)}if(f&&!p){var v=e.constructor,y=t.constructor;v==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,r,n,a,o))}(e,t,r,n,Ut,a))}function qt(e,t){return Ut(e,t)}function $t(e){return Object(m.a)(e)}const Kt="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;function Jt(e,t,r){const n={};return Object.keys(e).forEach(a=>{n[a]=e[a].reduce((e,n)=>(n&&(r&&r[n]&&e.push(r[n]),e.push(t(n))),e),[]).join(" ")}),n}const Yt={active:"Mui-active",checked:"Mui-checked",disabled:"Mui-disabled",error:"Mui-error",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",expanded:"Mui-expanded",selected:"Mui-selected"};function Xt(e,t){return Yt[t]||`${e}-${t}`}function Zt(e,t){const r={};return t.forEach(t=>{r[t]=Xt(e,t)}),r}function Qt(e){return"function"==typeof e}function er(e){return e.type||e.mode}function tr(){return"fade"in d?"fade"in d&&"alpha"in d?"v4.12":"v4":"v5"}function rr(e,t){var r,n,a;return(null===(r=d)||void 0===r?void 0:r.alpha)?null===(n=d)||void 0===n?void 0:n.alpha(e,t):null===(a=d)||void 0===a?void 0:a.fade(e,t)}function nr(){var e,t,r;return(null===(e=d)||void 0===e?void 0:e.createTheme)?null===(t=d)||void 0===t?void 0:t.createTheme():null===(r=d)||void 0===r?void 0:r.createMuiTheme()}function ar(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}function or(e){return Xt("MuiDataGrid",e)}function ir(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const lr=ar()&&null!=window.localStorage.getItem("DEBUG"),ur=()=>{},cr={debug:ur,info:ur,warn:ur,error:ur},sr=["debug","info","warn","error"];function dr(e,t,r=console){const n=sr.indexOf(t);if(-1===n)throw new Error(`Material-UI: Log level ${t} not recognized.`);return sr.reduce((t,a,o)=>(t[a]=o>=n?(...t)=>{const[n,...o]=t;r[a](`Material-UI: ${e} - ${n}`,...o)}:ur,t),{})}function fr(e,t){e.current.getLogger=l.useCallback(e=>lr?dr(e,"debug",t.logger):t.logLevel?dr(e,t.logLevel.toString(),t.logger):cr,[t.logLevel,t.logger])}function pr(e,t){const r=l.useRef(null);if(r.current)return r.current;const n=e.current.getLogger(t);return r.current=n,n}function mr(e,t,r){const n=pr(e,"useGridApiMethod"),a=l.useRef(t),[o]=l.useState(Object.keys(t)),i=l.useCallback(()=>{e.current&&o.forEach(t=>{e.current.hasOwnProperty(t)||(n.debug(`Adding ${r}.${t} to apiRef`),e.current[t]=(...e)=>a.current[t](...e))})},[o,r,e,n]);l.useEffect(()=>{a.current=t},[t]),l.useEffect(()=>{i()},[i]),i()}const gr=()=>({all:[],lookup:{}}),hr={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>1!==e?e+" active filters":e+" active filter",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelOperators:"Operators",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>1!==e?e+" active filters":e+" active filter",columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>1!==e?e.toLocaleString()+" rows selected":e.toLocaleString()+" row selected",footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",booleanCellTrueLabel:"true",booleanCellFalseLabel:"false",MuiTablePagination:{}};var vr;!function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"}(vr||(vr={}));const yr={client:"client",server:"server"},br={columnBuffer:2,density:vr.Standard,filterMode:yr.client,headerHeight:56,paginationMode:yr.client,rowHeight:52,rowsPerPageOptions:[25,50,100],scrollEndThreshold:80,sortingMode:yr.client,sortingOrder:["asc","desc",null],logger:console,logLevel:"error",editMode:"cell"},wr=Object.assign(Object.assign({},br),{localeText:hr});function Or(){return{dragCol:""}}function Cr(){return{resizingColumnField:""}}var kr;!function(e){e.And="and",e.Or="or"}(kr||(kr={}));const Er=()=>({items:[],linkOperator:kr.And}),Sr=()=>({visibleRowsLookup:{}}),Pr=()=>({idRowsLookup:{},allRows:[],totalRowCount:0});function xr(){return{sortedRows:[],sortModel:[]}}const jr=()=>({realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0}),Mr=()=>({rows:{idRowsLookup:{},allRows:[],totalRowCount:0},editRows:{},pagination:{page:0,pageCount:0,rowCount:0,pageSize:100},options:wr,isScrolling:!1,columns:{all:[],lookup:{}},columnReorder:{dragCol:""},columnResize:{resizingColumnField:""},rendering:{realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0},containerSizes:null,scrollBar:{hasScrollX:!1,hasScrollY:!1,sizes:{x:0,y:0}},viewportSizes:{width:0,height:1},sorting:{sortedRows:[],sortModel:[]},focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null},selection:[],filter:Er(),columnMenu:{open:!1},preferencePanel:{open:!1},visibleRows:{visibleRowsLookup:{}},density:{value:vr.Standard,rowHeight:52,headerHeight:56}}),Tr=e=>{const t=pr(e,"useGridApi"),[,r]=l.useState();e.current.state||(t.info("Initialising state."),e.current.state=Mr(),e.current.forceUpdate=r);const n=l.useCallback(()=>e.current.state,[e]),a=l.useCallback(t=>{let n;n=Qt(t)?t(e.current.state):t,e.current.state=n,r(()=>n),e.current.publishEvent(o.stateChange,n)},[e]);return mr(e,{getState:n,setState:a},"GridStateApi"),e.current},Rr=e=>{Tr(e);const t=l.useCallback(()=>e.current.forceUpdate(()=>e.current.state),[e]),r=l.useCallback(t=>{const r=t(e.current.state);if(e.current.state===r)return!1;const{ignoreSetState:n,postUpdate:a}=e.current.applyControlStateConstraint(r);return n||(e.current.state=r,e.current.publishEvent&&e.current.publishEvent(o.stateChange,r)),a(),!n},[e]);return[e.current.state,r,t]},Dr=(e,t)=>{const[r]=Rr(e);return t(r)},Ir=e=>e.rendering,Ar=Object(s.a)(Ir,e=>e.realScroll),_r=Zt("MuiDataGrid",["root","row","row--editing","cell","withBorder","cell--editing","cell--editable","cell--withRenderer","cell--textLeft","cell--textCenter","cell--textRight","columnHeader","columnHeader--dragging","columnHeaderWrapper","scrollArea","scrollArea--left","scrollArea--right","columnsContainer","toolbarContainer","overlay","main","dataContainer","window","windowContainer","viewport","autoHeight","columnHeaderCheckbox","cellCheckbox","columnHeader--sorted","columnHeader--sortable","columnHeader--moving","columnHeader--numeric","columnHeader--alignLeft","columnHeader--alignCenter","columnHeader--alignRight","columnHeaderDraggableContainer","columnHeaderTitle","iconButtonContainer","sortIcon","filterIcon","menuIcon","menuIconButton","columnHeaderTitleContainer","columnSeparator","columnSeparator--resizable","iconSeparator","menuOpen","columnHeaderWrapper","editInputCell","editBooleanCell","booleanCell","checkboxInput","rowCount","selectedRowCount","footerContainer","columnHeaderDropZone","columnHeaderDraggableContainer","renderingZone"]),Fr=l.memo((function({width:e,height:t}){return e&&t?l.createElement("div",{style:{minWidth:e,maxWidth:e,lineHeight:t-1+"px",minHeight:t,maxHeight:t},className:_r.cell}):null}));var Lr;function Nr(e,t,r,n){const a=pr(e,"useGridApiEventHandler");l.useEffect(()=>{if(r&&t){const a=(e,t,n)=>{t.defaultMuiPrevented||r(e,t,n)};return e.current.subscribeEvent(t,a,n)}},[e,a,t,r,n])}!function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"}(Lr||(Lr={}));const Br={isFirst:!0};function zr(e,t,r){Nr(e,t,r,Br)}const Hr=l.memo((function(e){const{scrollDirection:t}=e,r=l.useRef(null),n=Z(),a=l.useRef(),[i,u]=l.useState(!1),s=l.useRef({left:0,top:0}),d=l.useCallback(e=>{s.current=e},[]),f=l.useCallback(e=>{let o;if("left"===t)o=e.clientX-r.current.getBoundingClientRect().right;else{if("right"!==t)throw new Error("wrong dir");o=Math.max(1,e.clientX-r.current.getBoundingClientRect().left)}o=1.5*(o-1)+1,clearTimeout(a.current),a.current=setTimeout(()=>{n.current.scroll({left:s.current.left+o,top:s.current.top})})},[t,n]);l.useEffect(()=>()=>{clearTimeout(a.current)},[]);const p=l.useCallback(()=>{u(e=>!e)},[]);return Nr(n,o.rowsScroll,d),Nr(n,o.columnHeaderDragStart,p),Nr(n,o.columnHeaderDragEnd,p),i?l.createElement("div",{ref:r,className:Object(c.default)(_r.scrollArea,_r["scrollArea--"+t]),onDragOver:f}):null})),Wr=e=>e.columnReorder,Vr=Object(s.a)(Wr,e=>e.dragCol),Gr=e=>e.columnResize,Ur=Object(s.a)(Gr,e=>e.resizingColumnField),qr=e=>e.rows,$r=Object(s.a)(qr,e=>e&&e.totalRowCount),Kr=Object(s.a)(qr,e=>e&&e.idRowsLookup),Jr=Object(s.a)(qr,e=>e.allRows),Yr=Object(s.a)(qr,e=>e.allRows.map(t=>e.idRowsLookup[t])),Xr=e=>e.sorting,Zr=Object(s.a)(Xr,Jr,(e,t)=>e.sortedRows.length?e.sortedRows:t),Qr=Object(s.a)(Zr,Kr,(e,t)=>{const r=new Map;return e.forEach(e=>{r.set(e,t[e])}),r}),en=Object(s.a)(Xr,e=>e.sortModel),tn=Object(s.a)(en,e=>e.reduce((t,r,n)=>(t[r.field]={sortDirection:r.sort,sortIndex:e.length>1?n+1:void 0},t),{})),rn=e=>e.visibleRows,nn=Object(s.a)(rn,Qr,(e,t)=>{const r=new Map;return t.forEach((t,n)=>{!1!==e.visibleRowsLookup[n]&&r.set(n,t)}),r}),an=Object(s.a)(nn,e=>[...e.entries()]),on=Object(s.a)(nn,e=>[...e.keys()]),ln=Object(s.a)(rn,$r,(e,t)=>null==e.visibleRows?t:e.visibleRows.length),un=e=>e.filter,cn=Object(s.a)(un,te,(e,t)=>{var r;return null===(r=e.items)||void 0===r?void 0:r.filter(e=>{var r,n;if(!e.columnField)return!1;const a=t[e.columnField];if(!(null==a?void 0:a.filterOperators)||0===(null===(r=null==a?void 0:a.filterOperators)||void 0===r?void 0:r.length))return!1;const o=a.filterOperators.find(t=>t.value===e.operatorValue);return!!o&&(!o.InputComponent||null!=e.value&&""!==(null===(n=e.value)||void 0===n?void 0:n.toString()))})}),sn=Object(s.a)(cn,e=>e.length),dn=Object(s.a)(cn,e=>e.reduce((e,t)=>(e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e),{})),fn=e=>e.focus,pn=Object(s.a)(fn,e=>e.cell),mn=Object(s.a)(fn,e=>e.columnHeader),gn=e=>e.tabIndex,hn=Object(s.a)(gn,e=>e.cell),vn=Object(s.a)(gn,e=>e.columnHeader),yn=e=>e.density,bn=Object(s.a)(yn,e=>e.value),wn=Object(s.a)(yn,e=>e.rowHeight),On=Object(s.a)(yn,e=>e.headerHeight),Cn=e=>e.columnMenu,kn=e=>e.options,En=e=>"Escape"===e,Sn=e=>"Enter"===e,Pn=e=>"Tab"===e,xn=e=>" "===e,jn=e=>0===e.indexOf("Arrow"),Mn=e=>"Home"===e||"End"===e,Tn=e=>0===e.indexOf("Page"),Rn=e=>"Delete"===e||"Backspace"===e,Dn=/^(\p{L}|\p{M}\p{L}|\p{M}|\p{N}|\p{Z}|\p{S}|\p{P})$/iu,In=e=>Dn.test(e),An=["Enter","Escape","Tab"],_n=["Enter","Tab"],Fn=e=>_n.indexOf(e)>-1,Ln=e=>Mn(e)||jn(e)||Tn(e)||xn(e),Nn=e=>!!e.key,Bn=e=>Pn(e)||En(e),zn=l.createContext(void 0),Hn=()=>{const e=l.useContext(zn);if(!e)throw new Error("Material-UI: useGridRootProps should only be used inside the DataGrid/DataGridPro component.");return e},Wn=l.forwardRef((function(e,t){var r;const{field:n,id:a,value:i,tabIndex:u,hasFocus:c}=e,s=Z(),d=Hn(),f=l.useRef(null),p=Object(g.a)(f,t),m=s.current.getCellElement(a,n);l.useLayoutEffect(()=>{0===u&&m&&(m.tabIndex=-1)},[m,u]),l.useLayoutEffect(()=>{c&&f.current&&f.current.querySelector("input").focus()},[c]);const h=l.useCallback(t=>{xn(t.key)&&t.stopPropagation(),Ln(t.key)&&!t.shiftKey&&s.current.publishEvent(o.cellNavigationKeyDown,e,t)},[s,e]),v=null==s?void 0:s.current.components.Checkbox,y=!d.isRowSelectable||d.isRowSelectable(s.current.getRowParams(a));return l.createElement(v,Object.assign({ref:p,tabIndex:u,checked:!!i,onChange:e=>{s.current.selectRow(a,e.target.checked,!0)},onClick:e=>{e.stopPropagation()},className:_r.checkboxInput,color:"primary",inputProps:{"aria-label":"Select Row checkbox"},onKeyDown:h,disabled:!y},null===(r=null==s?void 0:s.current.componentsProps)||void 0===r?void 0:r.checkbox))})),Vn=l.memo(Wn),Gn=e=>e.pagination,Un=Object(s.a)(Gn,on,(e,t)=>{const r=e.page*e.pageSize,n=r+e.pageSize;return t.slice(r,n)}),qn=e=>e.selection,$n=Object(s.a)(qn,e=>e.length),Kn=Object(s.a)(qn,Kr,(e,t)=>new Map(e.map(e=>[e,t[e]]))),Jn=Object(s.a)(qn,e=>e.reduce((e,t)=>(e[t]=t,e),{})),Yn=l.forwardRef((function(e,t){var r;const[,n]=l.useState(!1),a=Z(),i=Hn(),u=Dr(a,vn),c=Dr(a,$n),s=Dr(a,$r),d=c>0&&c!==s,f=c>0&&c===s||d,p=null!==u&&u.field===e.field?0:-1;l.useLayoutEffect(()=>{const t=a.current.getColumnHeaderElement(e.field);0===p&&t&&(t.tabIndex=-1)},[p,a,e.field]);const m=l.useCallback(t=>{xn(t.key)&&t.stopPropagation(),Ln(t.key)&&!t.shiftKey&&a.current.publishEvent(o.columnHeaderNavigationKeyDown,e,t)},[a,e]),g=l.useCallback(()=>{n(e=>!e)},[]);l.useEffect(()=>null==a?void 0:a.current.subscribeEvent(o.selectionChange,g),[a,g]);const h=null==a?void 0:a.current.components.Checkbox;return l.createElement(h,Object.assign({ref:t,indeterminate:d,checked:f,onChange:e=>{const t=e.target.checked,r=i.checkboxSelectionVisibleOnly&&i.pagination?Un(a.current.state):on(a.current.state);a.current.selectRows(r,t,!e.target.indeterminate)},className:_r.checkboxInput,color:"primary",inputProps:{"aria-label":"Select All Rows checkbox"},tabIndex:p,onKeyDown:m},null===(r=null==a?void 0:a.current.componentsProps)||void 0===r?void 0:r.checkbox))}));function Xn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}function Zn(e){const{id:t,value:r,formattedValue:n,api:a,field:o,row:i,colDef:u,cellMode:c,isEditable:s,tabIndex:d,hasFocus:f,getValue:p}=e,m=Xn(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),g=l.useRef(),[h,v]=l.useState(r),y=l.useCallback(e=>{const r=e.target.value;v(r),a.setEditCellValue({id:t,field:o,value:r},e)},[a,o,t]);return l.useEffect(()=>{v(r)},[r]),Kt(()=>{f&&g.current.focus()},[f]),l.createElement(E.a,Object.assign({inputRef:g,className:_r.editInputCell,fullWidth:!0,type:"number"===u.type?u.type:"text",value:h||"",onChange:y},m))}const Qn=e=>l.createElement(Zn,Object.assign({},e)),ea=(e,t)=>{const r=e.indexOf(t);return t&&-1!==r&&r+1!==e.length?e[r+1]:e[0]},ta=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,ra=new Intl.Collator,na=(e,t)=>{const r=ta(e,t);return null!==r?r:Number(e)-Number(t)},aa=(e,t)=>{const r=ta(e,t);return null!==r?r:e>t?1:e<t?-1:0},oa=Object(h.a)(l.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ia=Object(h.a)(l.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),la=Object(h.a)(l.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),ua=Object(h.a)(l.createElement("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),ca=Object(h.a)(l.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),sa=Object(h.a)(l.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),da=Object(h.a)(l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),fa=Object(h.a)(l.createElement("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),pa=Object(h.a)(l.createElement("path",{d:"M11 19V5h2v14z"}),"Separator"),ma=Object(h.a)(l.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),ga=Object(h.a)(l.createElement("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),ha=Object(h.a)(l.createElement("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),va=Object(h.a)(l.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),ya=Object(h.a)(l.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ba=Object(h.a)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),wa=Object(h.a)(l.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Oa=Object(h.a)(l.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Ca=Object(h.a)(l.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),ka=Object(h.a)(l.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Ea=({valueOptions:e})=>(e?["",...e]:[""]).map(e=>"object"==typeof e?l.createElement("option",{key:e.value,value:e.value},e.label):l.createElement("option",{key:e,value:e},e)),Sa=500;function Pa(e){const{item:t,applyValue:r,type:n,apiRef:a}=e,o=Xn(e,["item","applyValue","type","apiRef"]),i=l.useRef(),[u,c]=l.useState(t.value||""),[s,d]=l.useState(!1),f=Object(v.a)(),p="singleSelect"===n?{select:!0,SelectProps:{native:!0},children:Ea(a.current.getColumn(t.columnField))}:{},m=l.useCallback(e=>{let o=e.target.value;if("singleSelect"===n){const e=a.current.getColumn(t.columnField);o=e.valueOptions.map(e=>"object"==typeof e?e.value:e).find(e=>String(e)===o)}clearTimeout(i.current),c(o),d(!0),i.current=setTimeout(()=>{r(Object.assign(Object.assign({},t),{value:o})),d(!1)},500)},[a,r,t,n]);l.useEffect(()=>()=>{clearTimeout(i.current)},[]),l.useEffect(()=>{c(t.value||"")},[t.value]);const g=s?{endAdornment:l.createElement(wa,null)}:o.InputProps;return l.createElement(S.a,Object.assign({id:f,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:u,onChange:m,type:n||"text",variant:"standard",InputProps:g,InputLabelProps:{shrink:!0}},p,o))}const xa=()=>[{value:"contains",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(ir(e.value),"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Pa},{value:"equals",getApplyFilterFn:e=>{if(!e.value)return null;const t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:r})=>0===t.compare(e.value,r&&r.toString()||"")},InputComponent:Pa},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(`^${ir(e.value)}.*$`,"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Pa},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(`.*${ir(e.value)}$`,"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Pa},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>""===e||null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>""!==e&&null!=e}],ja={width:100,minWidth:50,hide:!1,sortable:!0,resizable:!0,filterable:!0,sortComparator:(e,t)=>{const r=ta(e,t);return null!==r?r:"string"==typeof e?ra.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:xa(),renderEditCell:Qn},Ma=l.memo(e=>{const{id:t,value:r,formattedValue:n,api:a,field:o,row:i,colDef:u,cellMode:c,isEditable:s,hasFocus:d,tabIndex:f,getValue:p}=e,m=Xn(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"]),g=l.useMemo(()=>r?a.components.BooleanCellTrueIcon:a.components.BooleanCellFalseIcon,[a.components.BooleanCellFalseIcon,a.components.BooleanCellTrueIcon,r]);return l.createElement(g,Object.assign({fontSize:"small",className:_r.booleanCell,titleAccess:a.getLocaleText(r?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(r)},m))});function Ta(e){const{id:t,value:r,formattedValue:n,api:a,field:o,row:i,colDef:u,cellMode:s,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:g}=e,h=Xn(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),y=l.useRef(null),b=Object(v.a)(),[w,O]=l.useState(r),C=l.useCallback(e=>{const r=e.target.checked;O(r),a.setEditCellValue({id:t,field:o,value:r},e)},[a,o,t]);return l.useEffect(()=>{O(r)},[r]),Kt(()=>{g&&y.current.focus()},[g]),l.createElement("label",Object.assign({htmlFor:b,className:Object(c.default)(_r.editBooleanCell,p)},h),l.createElement(P.a,{id:b,inputRef:y,checked:Boolean(w),onChange:C,size:"small"}))}const Ra=Object.assign(Object.assign({},ja),{type:"boolean",align:"center",headerAlign:"center",renderCell:e=>l.createElement(Ma,Object.assign({},e)),renderEditCell:e=>l.createElement(Ta,Object.assign({},e)),sortComparator:na,valueFormatter:function({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")},filterOperators:[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t="true"===e.value;return({value:e})=>Boolean(e)===t},InputComponent:function(e){const{item:t,applyValue:r,apiRef:n}=e,a=Xn(e,["item","applyValue","apiRef"]),[o,i]=l.useState(t.value||""),u=l.useCallback(e=>{const n=e.target.value;i(n),r(Object.assign(Object.assign({},t),{value:n}))},[r,t]);return l.useEffect(()=>{i(t.value||"")},[t.value]),l.createElement(S.a,Object.assign({label:n.current.getLocaleText("filterPanelInputLabel"),value:o,onChange:u,variant:"standard",select:!0,SelectProps:{native:!0},InputLabelProps:{shrink:!0}},a),l.createElement("option",{value:""},n.current.getLocaleText("filterValueAny")),l.createElement("option",{value:"true"},n.current.getLocaleText("filterValueTrue")),l.createElement("option",{value:"false"},n.current.getLocaleText("filterValueFalse")))}}]}),Da=Object.assign(Object.assign({},Ra),{field:"__check__",type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,valueGetter:e=>void 0!==Jn(e.api.state)[e.id],renderHeader:e=>l.createElement(Yn,Object.assign({},e)),renderCell:e=>l.createElement(Vn,Object.assign({},e)),cellClassName:_r.cellCheckbox,headerClassName:_r.columnHeaderCheckbox}),Ia=()=>[{label:"=",value:"=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)===e.value,InputComponent:Pa,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)!==e.value,InputComponent:Pa,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)>e.value,InputComponent:Pa,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)>=e.value,InputComponent:Pa,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)<e.value,InputComponent:Pa,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)<=e.value,InputComponent:Pa,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>null!=e}],Aa=Object.assign(Object.assign({},ja),{type:"number",align:"right",headerAlign:"right",sortComparator:na,valueParser:e=>Number(e),valueFormatter:({value:e})=>e&&function(e){return"number"==typeof e}(e)&&e.toLocaleString()||e,filterOperators:Ia()}),_a=/(\d+)-(\d+)-(\d+)/,Fa=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function La(e,t,r,n){if(!e.value)return null;const[a,o,i,l,u]=e.value.match(r?Fa:_a).slice(1).map(Number),c=new Date(a,o-1,i,l||0,u||0).getTime();return({value:e})=>{if(!e)return!1;const a=e instanceof Date?e:new Date(e.toString());if(n)return t(a.getTime(),c);const o=(e instanceof Date?new Date(a):a).setHours(r?a.getHours():0,r?a.getMinutes():0,0,0);return t(o,c)}}const Na=e=>[{value:"is",getApplyFilterFn:t=>La(t,(e,t)=>e===t,e),InputComponent:Pa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>La(t,(e,t)=>e!==t,e),InputComponent:Pa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>La(t,(e,t)=>e>t,e),InputComponent:Pa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>La(t,(e,t)=>e>=t,e),InputComponent:Pa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>La(t,(e,t)=>e<t,e,!e),InputComponent:Pa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>La(t,(e,t)=>e<=t,e),InputComponent:Pa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>null!=e}];function Ba(e){const{id:t,value:r,formattedValue:n,api:a,field:o,row:i,colDef:u,cellMode:c,isEditable:s,tabIndex:d,hasFocus:f,getValue:p}=e,m=Xn(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),g=l.useRef(),[h,v]=l.useState(r),y=l.useCallback(e=>{const r=e.target.value;if(v(r),""===r)return void a.setEditCellValue({id:t,field:o,value:null},e);const[n,i]=r.split("T"),[l,u,c]=n.split("-"),s=new Date;if(s.setFullYear(Number(l)),s.setMonth(Number(u)-1),s.setDate(Number(c)),s.setHours(0,0,0,0),i){const[e,t]=i.split(":");s.setHours(Number(e),Number(t),0,0)}a.setEditCellValue({id:t,field:o,value:s},e)},[a,o,t]),b="dateTime"===u.type;l.useEffect(()=>{v(r)},[r]),Kt(()=>{f&&g.current.focus()},[f]);let w=h||"";if(h instanceof Date){const e=h.getTimezoneOffset();w=new Date(h.getTime()-60*e*1e3).toISOString().substr(0,b?16:10)}return l.createElement(E.a,Object.assign({inputRef:g,fullWidth:!0,className:_r.editInputCell,type:b?"datetime-local":"date",value:w,onChange:y},m))}const za=e=>l.createElement(Ba,Object.assign({},e));function Ha({value:e}){return e instanceof Date?e.toLocaleDateString():e}function Wa({value:e}){return e instanceof Date?e.toLocaleString():e}const Va=Object.assign(Object.assign({},ja),{type:"date",sortComparator:aa,valueFormatter:Ha,filterOperators:Na(),renderEditCell:za}),Ga=Object.assign(Object.assign({},ja),{type:"dateTime",sortComparator:aa,valueFormatter:Wa,filterOperators:Na(!0),renderEditCell:za});var Ua,qa,$a;!function(e){e.Cell="cell",e.Row="row"}(Ua||(Ua={})),function(e){e.Edit="edit",e.View="view"}(qa||(qa={})),function(e){e.Edit="edit",e.View="view"}($a||($a={}));const Ka=e=>"object"==typeof e?l.createElement(j.a,{key:e.value,value:e.value},e.label):l.createElement(j.a,{key:e,value:e},e);function Ja(e){var t;const{id:r,value:n,formattedValue:a,api:o,field:i,row:u,colDef:c,cellMode:s,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:g}=e,h=Xn(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),v=l.useRef(),y=Hn(),[b,w]=l.useState("cell"===y.editMode);return Kt(()=>{g&&v.current.querySelector('[role="button"]').focus()},[g]),l.createElement(x.a,Object.assign({ref:v,value:n,onChange:e=>{w(!1),o.setEditCellValue({id:r,field:i,value:e.target.value},e),e.key||"cell"!==y.editMode||(o.commitCellChange({id:r,field:i},e),o.setCellMode(r,i,"view"))},open:b,onOpen:()=>{w(!0)},MenuProps:{onClose:(e,t)=>{y.editMode!==Ua.Row?("backdropClick"===t||En(e.key))&&o.setCellMode(r,i,"view"):w(!1)}},fullWidth:!0},h),null===(t=c.valueOptions)||void 0===t?void 0:t.map(Ka))}const Ya=e=>l.createElement(Ja,Object.assign({},e)),Xa=Object.assign(Object.assign({},ja),{type:"singleSelect",renderEditCell:Ya,filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:({value:t})=>"object"==typeof t?e.value===t.value:e.value===t,InputComponent:Pa,InputComponentProps:{type:"singleSelect"}},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:({value:t})=>"object"==typeof t?e.value!==t.value:e.value!==t,InputComponent:Pa,InputComponentProps:{type:"singleSelect"}}]}),Za="__default__",Qa=()=>{const e={string:ja,number:Aa,date:Va,dateTime:Ga,boolean:Ra,singleSelect:Xa};return e.__default__=ja,e},eo=(e,t)=>t?e[t]:e.__default__,to="string",ro="number",no="date",ao="dateTime",oo="boolean",io=l.memo((function(e){const{direction:t,index:r}=e,n=Z(),a=n.current.components.ColumnUnsortedIcon;if(null==t&&null===a)return null;const o=l.createElement(T.a,{tabIndex:-1,"aria-label":n.current.getLocaleText("columnHeaderSortIconLabel"),title:n.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},function(e,t){let r=e.ColumnUnsortedIcon;return"asc"===t?r=e.ColumnSortedAscendingIcon:"desc"===t&&(r=e.ColumnSortedDescendingIcon),l.createElement(r,{fontSize:"small",className:_r.sortIcon})}(n.current.components,t));return l.createElement("div",{className:_r.iconButtonContainer},null!=r&&l.createElement(M.a,{badgeContent:r,color:"default"},o),null==r&&o)}));function lo(e,t){return e.closest("."+t)}function uo(e){return null!=e&&e.classList.contains(_r.columnHeader)}function co(e){const t=e.getAttribute("data-field"),r=lo(e,"MuiDataGrid-root");if(!r)throw new Error("Material-UI: The root element is not found.");return r.querySelectorAll(`.${_r.cell}[data-field="${t}"]`)}function so(e){return e.replace(/["\\]/g,"\\$&")}function fo(e,t){return e.querySelector(`.${_r.row}[data-id="${so(String(t))}"]`)}const po=l.forwardRef((function(e,t){const{className:r}=e,n=Xn(e,["className"]);return l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.columnHeaderTitle,r)},n))}));function mo(e){const{label:t,description:r,columnWidth:n}=e,a=l.useRef(null),[o,i]=l.useState("");return l.useEffect(()=>{if(!r&&a&&a.current){const r=(e=a.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;i(r?t:"")}var e},[a,n,r,t]),l.createElement(R.a,{title:r||o},l.createElement(po,{ref:a},t))}const go=l.memo((function(e){const{resizable:t,resizing:r,height:n}=e,a=Xn(e,["resizable","resizing","height"]),o=Z(),i=Hn(),u=o.current.components.ColumnResizeIcon,s=l.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]);return l.createElement("div",Object.assign({className:Object(c.default)(_r.columnSeparator,{[_r["columnSeparator--resizable"]]:t,"Mui-resizing":r}),style:{minHeight:n,opacity:i.showColumnRightBorder?0:1}},a,{onClick:s}),l.createElement(u,{className:_r.iconSeparator}))})),ho=l.memo(e=>{const{column:t,open:r,columnMenuId:n,columnMenuButtonId:a,iconButtonRef:o}=e,i=Z(),u=i.current.components.ColumnMenuIcon,s=l.useCallback(e=>{e.preventDefault(),e.stopPropagation(),i.current.toggleColumnMenu(t.field)},[i,t.field]);return l.createElement("div",{className:Object(c.default)(_r.menuIcon,{[_r.menuOpen]:r})},l.createElement(T.a,{ref:o,tabIndex:-1,className:_r.menuIconButton,"aria-label":i.current.getLocaleText("columnMenuLabel"),title:i.current.getLocaleText("columnMenuLabel"),size:"small",onClick:s,"aria-expanded":r?"true":void 0,"aria-haspopup":"true","aria-controls":n,id:a},l.createElement(u,{fontSize:"small"})))}),vo=e=>e.preferencePanel,yo=e=>e.viewportSizes;var bo;function wo(e){const{counter:t}=e,r=Z(),n=r.current.components.ColumnFilteredIcon,a=l.useCallback(e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:n}=vo(r.current.state);t&&n===bo.filters?r.current.hideFilterPanel():r.current.showFilterPanel()},[r]);if(!t)return null;const o=l.createElement(T.a,{onClick:a,color:"default","aria-label":r.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1},l.createElement(n,{className:_r.filterIcon,fontSize:"small"}));return l.createElement(R.a,{title:r.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},l.createElement("div",{className:_r.iconButtonContainer},t>1&&l.createElement(M.a,{badgeContent:t,color:"default"},o),1===t&&o))}!function(e){e.filters="filters",e.columns="columns"}(bo||(bo={}));const Oo=Object(C.a)(e=>({root:{zIndex:e.zIndex.modal,"& .MuiDataGrid-gridMenuList":{outline:0}}}),{name:"MuiGridMenu",defaultTheme:nr()}),Co={"bottom-start":"top left","bottom-end":"top right"},ko=e=>{const{open:t,target:r,onClickAway:n,children:a,position:o}=e,i=Xn(e,["open","target","onClickAway","children","position"]),u=l.useRef(r),c=l.useRef(t),s=Oo();return l.useEffect(()=>{c.current&&u.current&&u.current.focus(),c.current=t,u.current=r},[t,r]),l.createElement(_.a,Object.assign({className:s.root,open:t,anchorEl:r,transition:!0,placement:o},i),({TransitionProps:e,placement:t})=>l.createElement(D.a,{onClickAway:n},l.createElement(I.a,Object.assign({},e,{style:{transformOrigin:Co[t]}}),l.createElement(A.a,null,a))))};function Eo({columnMenuId:e,columnMenuButtonId:t,ContentComponent:r,contentComponentProps:n,field:a,open:o,target:i}){const u=Z(),c=null==u?void 0:u.current.getColumn(a),s=l.useCallback(e=>{e.stopPropagation(),null==u||u.current.hideColumnMenu()},[u]);return i?l.createElement(ko,{placement:"bottom-"+("right"===c.align?"start":"end"),open:o,target:i,onClickAway:s},l.createElement(r,Object.assign({currentColumn:c,hideMenu:s,open:o,id:e,labelledby:t},n))):null}function So(e){var t;const{column:r,columnMenuOpen:n,colIndex:a,headerHeight:i,isDragging:u,isResizing:s,sortDirection:d,sortIndex:f,options:p,filterItemsCounter:m,hasFocus:g,tabIndex:h}=e,y=Z(),b=l.useRef(null),w=Object(v.a)(),O=Object(v.a)(),C=l.useRef(null),{classes:k,disableColumnReorder:E,showColumnRightBorder:S,disableColumnResize:P,disableColumnMenu:x,disableColumnFilter:j}=p,M=null!=d,T="number"===r.type;let R=null;r.renderHeader&&y.current&&(R=r.renderHeader(y.current.getColumnHeaderParams(r.field)));const D=l.useCallback(e=>t=>y.current.publishEvent(e,y.current.getColumnHeaderParams(r.field),t),[y,r.field]),I=l.useMemo(()=>({onClick:D(o.columnHeaderClick),onDoubleClick:D(o.columnHeaderDoubleClick),onMouseOver:D(o.columnHeaderOver),onMouseOut:D(o.columnHeaderOut),onMouseEnter:D(o.columnHeaderEnter),onMouseLeave:D(o.columnHeaderLeave),onKeyDown:D(o.columnHeaderKeyDown),onFocus:D(o.columnHeaderFocus),onBlur:D(o.columnHeaderBlur)}),[D]),A=l.useMemo(()=>({onDragStart:D(o.columnHeaderDragStart),onDragEnter:D(o.columnHeaderDragEnter),onDragOver:D(o.columnHeaderDragOver),onDragEnd:D(o.columnHeaderDragEnd)}),[D]),_=l.useMemo(()=>({onMouseDown:D(o.columnSeparatorMouseDown)}),[D]),F=[null==k?void 0:k.columnHeader];if(r.headerClassName){const e=Qt(r.headerClassName)?r.headerClassName({field:r.field,colDef:r}):r.headerClassName;F.push(e)}const L=Object(c.default)("center"===r.headerAlign&&_r["columnHeader--alignCenter"],"right"===r.headerAlign&&_r["columnHeader--alignRight"],{[_r["columnHeader--sortable"]]:r.sortable,[_r["columnHeader--moving"]]:u,[_r["columnHeader--sorted"]]:M,[_r["columnHeader--numeric"]]:T,[_r.withBorder]:S},...F),N=r.computedWidth;let B;null!=d&&(B={"aria-sort":"asc"===d?"ascending":"descending"});const z=!x&&!r.disableColumnMenu&&l.createElement(ho,{column:r,columnMenuId:w,columnMenuButtonId:O,open:n,iconButtonRef:C}),H=l.createElement(l.Fragment,null,!j&&l.createElement(wo,{counter:m}),r.sortable&&!r.hideSortIcons&&l.createElement(io,{direction:d,index:f}));return l.useLayoutEffect(()=>{const e=y.current.state.columnMenu;if(g&&!e.open){const e=b.current.querySelector('[tabindex="0"]');e?e.focus():b.current.focus()}}),l.createElement("div",Object.assign({ref:b,className:L,key:r.field,"data-field":r.field,style:{width:N,minWidth:N,maxWidth:N},role:"columnheader",tabIndex:h,"aria-colindex":a+1},B,I),l.createElement("div",Object.assign({className:_r.columnHeaderDraggableContainer,draggable:!E&&!r.disableReorder},A),l.createElement("div",{className:_r.columnHeaderTitleContainer},R||l.createElement(mo,{label:r.headerName||r.field,description:r.description,columnWidth:N}),H),z),l.createElement(go,Object.assign({resizable:!P&&!!r.resizable,resizing:s,height:i},_)),l.createElement(Eo,{columnMenuId:w,columnMenuButtonId:O,field:r.field,open:n,target:C.current,ContentComponent:y.current.components.ColumnMenu,contentComponentProps:null===(t=y.current.componentsProps)||void 0===t?void 0:t.columnMenu}))}function Po(e){const{columns:t}=e,r=Z(),n=Dr(r,kn),a=Dr(r,tn),o=Dr(r,dn),i=Dr(r,Vr),u=Dr(r,Ur),c=Dr(r,mn),s=Dr(r,Ir).renderContext,d=Dr(r,vn),f=Dr(r,hn),p=Dr(r,On),m=Dr(r,Cn),g=t.map((e,t)=>{const r=(g=t,null==s?g:g+s.firstColIdx);var g;const h=0===r,v=!(null===d&&null===f),y=null!==d&&d.field===e.field||h&&!v?0:-1,b=null!==c&&c.field===e.field,w=m.open&&m.field===e.field;return l.createElement(So,Object.assign({key:e.field},a[e.field],{columnMenuOpen:w,filterItemsCounter:o[e.field]&&o[e.field].length,options:n,headerHeight:p,isDragging:e.field===i,column:e,colIndex:r,isResizing:u===e.field,hasFocus:b,tabIndex:y}))});return l.createElement(l.Fragment,null,g)}const xo=e=>e.containerSizes,jo=e=>e.viewportSizes,Mo=e=>e.scrollBar,To=Object(s.a)(xo,e=>null==e?null:e.dataContainerSizes),Ro=Object(s.a)(xo,e=>null==e?0:e.dataContainerSizes.height),Do=e=>e.scrollBar,Io=l.forwardRef((function(e,t){var r;const n=Z(),a=Dr(n,ne),o=Dr(n,xo),i=Dr(n,On),u=Dr(n,Ir).renderContext,{hasScrollX:s}=Dr(n,Do),d=Dr(n,Vr),f=Object(c.default)(_r.columnHeaderWrapper,{scroll:s,[_r.columnHeaderDropZone]:d}),p=l.useMemo(()=>null==u?[]:a.slice(u.firstColIdx,u.lastColIdx+1),[a,u]);return l.createElement(l.Fragment,null,l.createElement(Hr,{scrollDirection:"left"}),l.createElement("div",{ref:t,className:f,"aria-rowindex":1,role:"row",style:{minWidth:null===(r=null==o?void 0:o.totalSizes)||void 0===r?void 0:r.width}},l.createElement(Fr,{width:null==u?void 0:u.leftEmptyWidth,height:i}),l.createElement(Po,{columns:p}),l.createElement(Fr,{width:null==u?void 0:u.rightEmptyWidth,height:i})),l.createElement(Hr,{scrollDirection:"right"}))})),Ao=l.forwardRef((function(e,t){const{className:r,style:n}=e,a=Xn(e,["className","style"]),o=Z(),i=Dr(o,On);return l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.columnsContainer,r)},a,{style:Object.assign({minHeight:i,maxHeight:i,lineHeight:i+"px"},n)}))}));function _o(e){return l.createElement("div",{className:_r.main},e.children)}const Fo=l.forwardRef((function(e,t){const{className:r,size:n}=e,a=Xn(e,["className","size"]),o=Z(),i=Hn(),u=Dr(o,On),s=Dr(o,wn),d=Dr(o,Ro);l.useEffect(()=>{o.current.resize()},[o]);const f=l.useMemo(()=>i.autoHeight?u+(d<s?2*s:d):n.height,[i.autoHeight,d,u,s,n.height]);return l.createElement("div",{className:_r.windowContainer,style:{width:n.width,height:f}},l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.window,r)},a,{style:{top:u,overflowY:i.autoHeight?"hidden":"auto"}})))}));const Lo=l.forwardRef((function(e,t){const{children:r,defaultHeight:n=null,defaultWidth:a=null,disableHeight:o=!1,disableWidth:i=!1,nonce:u,onResize:c,style:s}=e,d=Xn(e,["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"]),[f,p]=l.useState({height:n,width:a}),m=l.useRef(null),h=l.useRef(null),v=$t(()=>{if(h.current){const e=h.current.offsetHeight||0,t=h.current.offsetWidth||0,r=Object(y.a)(h.current).getComputedStyle(h.current),n=parseInt(r.paddingLeft,10)||0,a=parseInt(r.paddingRight,10)||0,l=e-(parseInt(r.paddingTop,10)||0)-(parseInt(r.paddingBottom,10)||0),u=t-n-a;(!o&&f.height!==l||!i&&f.width!==u)&&(p({height:l,width:u}),c&&c({height:l,width:u}))}});Kt(()=>{var e;if(h.current=m.current.parentElement,!h)return;const t=Object(y.a)(null!==(e=h.current)&&void 0!==e?e:void 0),r=function(e,t){var r=function(e){var t=e.__resizeTriggers__,r=t.firstElementChild,n=t.lastElementChild,a=r.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,a.style.width=r.offsetWidth+1+"px",a.style.height=r.offsetHeight+1+"px",r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight},n=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var n=this;r(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(n)&&(n.__resizeLast__.width=n.offsetWidth,n.__resizeLast__.height=n.offsetHeight,n.__resizeListeners__.forEach((function(t){t.call(n,e)})))}))}},a=!1,o="",i="animationstart",l="Webkit Moz O ms".split(" "),u="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),c=document.createElement("fakeelement");if(void 0!==c.style.animationName&&(a=!0),!1===a)for(var s=0;s<l.length;s++)if(void 0!==c.style[l[s]+"AnimationName"]){o="-"+l[s].toLowerCase()+"-",i=u[s],a=!0;break}var d="@"+o+"keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } ",f=o+"animation: 1ms resizeanim; ";return{addResizeListener:function(a,o){if(!a.__resizeTriggers__){var l=a.ownerDocument,u=t.getComputedStyle(a);u&&"static"==u.position&&(a.style.position="relative"),function(t){if(!t.getElementById("muiDetectElementResize")){var r=(d||"")+".Mui-resizeTriggers { "+(f||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',n=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="muiDetectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=r:a.appendChild(t.createTextNode(r)),n.appendChild(a)}}(l),a.__resizeLast__={},a.__resizeListeners__=[],(a.__resizeTriggers__=l.createElement("div")).className="Mui-resizeTriggers",a.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',a.appendChild(a.__resizeTriggers__),r(a),a.addEventListener("scroll",n,!0),i&&(a.__resizeTriggers__.__animationListener__=function(e){"resizeanim"==e.animationName&&r(a)},a.__resizeTriggers__.addEventListener(i,a.__resizeTriggers__.__animationListener__))}a.__resizeListeners__.push(o)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",n,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(i,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(u,t);return r.addResizeListener(h.current,v),v(),()=>{r.removeResizeListener(h.current,v)}},[u,v]);const b={overflow:"visible"},w={};o||(b.height=0,w.height=f.height),i||(b.width=0,w.width=f.width);const O=Object(g.a)(m,t);return l.createElement("div",Object.assign({ref:O,style:Object.assign(Object.assign({},b),s)},d),null===f.height&&null===f.width?null:r(w))})),No=e=>e.editRows;function Bo(e){const{className:t}=e,r=Xn(e,["className"]),n=Z(),a=Dr(n,To),o={minWidth:null==a?void 0:a.width,minHeight:null==a?void 0:a.height};return l.createElement("div",Object.assign({className:Object(c.default)(_r.dataContainer,t),style:o},r))}const zo=l.forwardRef((function(e,t){const{height:r,width:n,children:a}=e;return l.createElement("div",{ref:t,className:_r.renderingZone,style:{maxHeight:r,width:n}},a)})),Ho="MuiDataGrid",Wo="root",Vo="columnHeader",Go="row",Uo="cell",qo="MuiDataGrid-columnHeader",$o="MuiDataGrid-row",Ko="MuiDataGrid-cell",Jo="MuiDataGrid-columnSeparator--resizable",Yo="MuiDataGrid-columnHeaderTitleContainer",Xo="MuiDataGrid-columnHeaderDropZone",Zo="MuiDataGrid-columnHeader--dragging";function Qo(e){const{selected:t,id:r,rowIndex:n,children:a}=e,i=n+2,u=Z(),s=Dr(u,wn),{classes:d,getRowClassName:f,editMode:p}=Dr(u,kn),m=l.useCallback(e=>t=>{(1!==t.target.nodeType||t.currentTarget.contains(t.target))&&u.current.getRow(r)&&u.current.publishEvent(e,null==u?void 0:u.current.getRowParams(r),t)},[u,r]),g=l.useMemo(()=>({onClick:m(o.rowClick),onDoubleClick:m(o.rowDoubleClick),onMouseOver:m(o.rowOver),onMouseOut:m(o.rowOut),onMouseEnter:m(o.rowEnter),onMouseLeave:m(o.rowLeave)}),[m]),h={maxHeight:s,minHeight:s},v=Qt(f)&&f(u.current.getRowParams(r)),y=Object(c.default)(v,null==d?void 0:d.row,{"Mui-selected":t,"MuiDataGrid-row--editing":u.current.getRowMode(r)===$a.Edit,"MuiDataGrid-row--editable":p===Ua.Row});return l.createElement("div",Object.assign({key:r,"data-id":r,"data-rowindex":n,role:"row",className:y,"aria-rowindex":i,"aria-selected":t,style:h},g),a)}function ei(e,t,r){if(null==e)throw new Error(["Material-UI: The data grid component requires all rows to have a unique id property.",r||"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"));return!0}const ti=l.memo((function(e){const{align:t,className:r,children:n,colIndex:a,cellMode:i,field:u,formattedValue:s,hasFocus:d,height:f,isEditable:p,isSelected:m,rowIndex:g,rowId:h,showRightBorder:v,tabIndex:y,value:O,width:C}=e,k=null==s?O:s,E=l.useRef(null),S=Z(),P=Object(c.default)(r,""+_r["cell--text"+Object(b.a)(t)],{[""+_r.withBorder]:v,[""+_r["cell--editable"]]:p}),x=l.useCallback(e=>t=>{if(t.relatedTarget&&t.currentTarget.contains(t.relatedTarget))return;const r=S.current.getCellParams(h,u||"");S.current.publishEvent(e,r,t)},[S,u,h]),j=l.useCallback(e=>t=>{const r=S.current.getCellParams(h,u||"");S.current.publishEvent(e,r,t)},[S,u,h]),M=l.useCallback(e=>t=>{if(1===t.target.nodeType&&!t.currentTarget.contains(t.target))return;if(!S.current.getRow(h))return;const r=S.current.getCellParams(h,u||"");S.current.publishEvent(e,r,t)},[S,u,h]),T=l.useMemo(()=>({onClick:M(o.cellClick),onDoubleClick:M(o.cellDoubleClick),onMouseDown:M(o.cellMouseDown),onMouseUp:j(o.cellMouseUp),onMouseOver:M(o.cellOver),onMouseOut:M(o.cellOut),onMouseEnter:M(o.cellEnter),onMouseLeave:M(o.cellLeave),onKeyDown:M(o.cellKeyDown),onBlur:x(o.cellBlur),onFocus:M(o.cellFocus),onDragStart:M(o.cellDragStart),onDragEnter:M(o.cellDragEnter),onDragOver:M(o.cellDragOver)}),[M,x,j]),R={minWidth:C,maxWidth:C,lineHeight:f-1+"px",minHeight:f,maxHeight:f};return l.useLayoutEffect(()=>{if(!d||i===qa.Edit)return;const e=Object(w.a)(S.current.rootElementRef.current);if(E.current&&!E.current.contains(e.activeElement)){const e=E.current.querySelector('[tabindex="0"]');e?e.focus():E.current.focus()}}),l.createElement("div",Object.assign({ref:E,className:P,role:"cell","data-value":O,"data-field":u,"data-rowindex":g,"data-colindex":a,"data-rowselected":m,"data-editable":p,"data-mode":i,"aria-colindex":a+1,style:R,tabIndex:"view"!==i&&p?-1:y},T),null!=n?n:null==k?void 0:k.toString())})),ri=l.memo((function(e){const{columns:t,firstColIdx:r,hasScrollX:n,hasScrollY:a,height:o,id:i,getCellClassName:u,lastColIdx:s,rowIndex:d,cellFocus:f,cellTabIndex:p,showCellRightBorder:m,isSelected:g,editRowState:h,cellClassName:v}=e,y=Xn(e,["columns","firstColIdx","hasScrollX","hasScrollY","height","id","getCellClassName","lastColIdx","rowIndex","cellFocus","cellTabIndex","showCellRightBorder","isSelected","editRowState","cellClassName"]),b=Z(),w=t.slice(r,s+1).map((l,s)=>{const w=r+s,O=w===t.length-1,C=O?!(O&&n&&!a||e.extendRowFullWidth):m,k=b.current.getCellParams(i,l.field),E=[v];l.cellClassName&&E.push(Object(c.default)(Qt(l.cellClassName)?l.cellClassName(k):l.cellClassName));const S=h&&h[l.field];let P=null;if(null==S&&l.renderCell&&(P=l.renderCell(Object.assign(Object.assign({},k),{api:b.current})),E.push(_r["cell--withRenderer"])),null!=S&&l.renderEditCell){const e=Object.assign(Object.assign(Object.assign({},k),S),{api:b.current});P=l.renderEditCell(e),E.push(_r["cell--editing"])}return u&&E.push(u(k)),Object.assign({value:k.value,field:l.field,width:l.computedWidth,rowId:i,height:o,showRightBorder:C,formattedValue:k.formattedValue,align:l.align||"left",rowIndex:d,cellMode:k.cellMode,colIndex:w,children:P,isEditable:k.isEditable,isSelected:g,hasFocus:null!==f&&f.id===i&&f.field===l.field,tabIndex:null!==p&&p.id===i&&p.field===l.field&&"view"===k.cellMode?0:-1,className:Object(c.default)(E)},y)});return l.createElement(l.Fragment,null,w.map(e=>l.createElement(ti,Object.assign({key:e.field},e))))}));function ni(e){const{height:t,width:r,children:n}=e;return l.createElement("div",{className:_r.viewport,style:{minWidth:r,maxWidth:r,maxHeight:t}},n)}const ai=l.forwardRef((function(e,t){const r=Z(),n=Hn(),a=Dr(r,kn),o=Dr(r,xo),i=Dr(r,jo),u=Dr(r,Mo),c=Dr(r,ne),s=Dr(r,Ir),d=Dr(r,pn),f=Dr(r,hn),p=Dr(r,Jn),m=Dr(r,an),g=Dr(r,wn),h=Dr(r,No);return l.createElement(Bo,null,l.createElement(ni,Object.assign({},i),l.createElement(zo,Object.assign({ref:t},(null==o?void 0:o.renderingZone)||{width:0,height:0}),null==s.renderContext?null:m.slice(s.renderContext.firstRowIdx,s.renderContext.lastRowIdx).map(([e,t],r)=>{var o;return l.createElement(Qo,{key:e,id:e,selected:void 0!==p[e],rowIndex:s.renderContext.firstRowIdx+r},l.createElement(Fr,{width:s.renderContext.leftEmptyWidth,height:g}),l.createElement(ri,{columns:c,row:t,id:e,height:g,firstColIdx:s.renderContext.firstColIdx,lastColIdx:s.renderContext.lastColIdx,hasScrollX:u.hasScrollX,hasScrollY:u.hasScrollY,showCellRightBorder:!!n.showCellRightBorder,extendRowFullWidth:!n.disableExtendRowFullWidth,rowIndex:s.renderContext.firstRowIdx+r,cellFocus:d,cellTabIndex:f,isSelected:void 0!==p[e],editRowState:h[e],cellClassName:null===(o=a.classes)||void 0===o?void 0:o.cell,getCellClassName:n.getCellClassName}),l.createElement(Fr,{width:s.renderContext.rightEmptyWidth,height:g}))}))))}));function oi(){var e,t,r;const n=Z(),a=Hn(),o=Dr(n,$r),i=Dr(n,ln),u=!a.loading&&0===o,c=!a.loading&&o>0&&0===i;return u?l.createElement(n.current.components.NoRowsOverlay,Object.assign({},null===(e=a.componentsProps)||void 0===e?void 0:e.noRowsOverlay)):c?l.createElement(n.current.components.NoResultsOverlay,Object.assign({},null===(t=a.componentsProps)||void 0===t?void 0:t.noResultsOverlay)):a.loading?l.createElement(n.current.components.LoadingOverlay,Object.assign({},null===(r=a.componentsProps)||void 0===r?void 0:r.loadingOverlay)):null}function ii(e){const{children:t}=e,r=Z(),n=Hn(),a=l.useRef(null),i=l.useRef(null),u=l.useRef(null),c=l.useRef(null);r.current.columnHeadersContainerElementRef=i,r.current.columnHeadersElementRef=a,r.current.windowRef=u,r.current.renderingZoneRef=c;const s=l.useCallback(e=>r.current.publishEvent(o.resize,e),[r]);return l.createElement(_o,null,l.createElement(oi,null),l.createElement(Ao,{ref:i},l.createElement(Io,{ref:a})),l.createElement(Lo,{nonce:n.nonce,disableHeight:n.autoHeight,onResize:s},e=>l.createElement(Fo,{ref:u,size:e},l.createElement(ai,{ref:c}))),t)}class li extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.api.current&&(this.logError(e),this.props.api.current.showError({error:e,errorInfo:t}))}logError(e,t){this.props.logger.error(`An unexpected error occurred. Error: ${e&&e.message}. `,e,t)}render(){var e;return this.props.hasError||(null===(e=this.state)||void 0===e?void 0:e.hasError)?this.props.render(this.props.componentProps||this.state):this.props.children}}function ui(e){const{children:t}=e,r=Z(),n=pr(r,"GridErrorHandler"),a=Hn(),[o]=Rr(r);return l.createElement(li,{hasError:null!=o.error,componentProps:o.error,api:r,logger:n,render:e=>{var t;return l.createElement(_o,null,l.createElement(r.current.components.ErrorOverlay,Object.assign({},e,null===(t=a.componentsProps)||void 0===t?void 0:t.errorOverlay)))}},t)}function ci(){var e;const t=Z(),r=Hn(),n=l.useRef(null);return t.current.footerRef=n,r.hideFooter?null:l.createElement("div",{ref:n},l.createElement(t.current.components.Footer,Object.assign({},null===(e=r.componentsProps)||void 0===e?void 0:e.footer)))}function si(){var e;const t=Z(),r=Hn(),n=l.useRef(null);return t.current.headerRef=n,l.createElement("div",{ref:n},l.createElement(t.current.components.Header,Object.assign({},null===(e=r.componentsProps)||void 0===e?void 0:e.header)))}const di=Object(C.a)(e=>{const t="light"===er(e.palette)?Object(f.j)(rr(e.palette.divider,1),.88):Object(f.b)(rr(e.palette.divider,1),.68),r={root:Object.assign(Object.assign({flex:1,boxSizing:"border-box",position:"relative",border:"1px solid "+t,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2),{outline:"none",height:"100%",display:"flex",flexDirection:"column",["&."+_r.autoHeight]:{height:"auto"},["& ."+_r.main]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& ."+_r.overlay]:{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:rr(e.palette.background.default,e.palette.action.disabledOpacity)},["& ."+_r.toolbarContainer]:{display:"flex",alignItems:"center",padding:"4px 4px 0"},["& ."+_r.columnsContainer]:{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",flexDirection:"column",borderBottom:"1px solid "+t},["& ."+_r.scrollArea]:{position:"absolute",top:0,zIndex:101,width:20,bottom:0},["& ."+_r["scrollArea--left"]]:{left:0},["& ."+_r["scrollArea--right"]]:{right:0},["& ."+_r.columnHeaderWrapper]:{display:"flex",width:"100%",alignItems:"center",overflow:"hidden"},[`& .${_r.columnHeader}, & .${_r.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${_r.columnHeader}:focus-within, & .${_r.cell}:focus-within`]:{outline:`solid ${rr(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${_r.columnHeader}:focus, & .${_r.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${_r.columnHeaderCheckbox}, & .${_r.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},["& ."+_r.columnHeader]:{position:"relative",display:"flex",alignItems:"center"},[`& .${_r.columnHeader}:not(.${_r["columnHeader--sorted"]}) .${_r.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${_r.columnHeader}:not(.${_r["columnHeader--sorted"]}):hover .${_r.sortIcon}`]:{opacity:.5},["& ."+_r.columnHeaderTitleContainer]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",padding:"0 6px"},[`& .${_r.sortIcon}, & .${_r.filterIcon}`]:{fontSize:"inherit"},["& ."+_r["columnHeader--sortable"]]:{cursor:"pointer"},[`& .${_r["columnHeader--alignCenter"]} .${_r.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${_r["columnHeader--alignRight"]} .${_r.columnHeaderDraggableContainer}, & .${_r["columnHeader--alignRight"]} .${_r.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${_r["columnHeader--alignCenter"]} .${_r.menuIcon}, & .${_r["columnHeader--alignRight"]} .${_r.menuIcon}`]:{marginRight:"auto",marginLeft:-6},["& ."+_r.columnHeaderTitle]:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium},["& ."+_r["columnHeader--moving"]]:{backgroundColor:e.palette.action.hover},["& ."+_r.columnSeparator]:{position:"absolute",right:-12,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},["& ."+_r["columnSeparator--resizable"]]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},"&.Mui-resizing":{color:e.palette.text.primary}},["& ."+_r.iconSeparator]:{color:"inherit"},["& ."+_r.menuIcon]:{visibility:"hidden",fontSize:20,marginRight:-6,display:"flex",alignItems:"center"},[`& .${_r.columnHeader}:hover .${_r.menuIcon}, .${_r.menuOpen}`]:{visibility:"visible"},[`& .${_r.columnHeaderWrapper}.scroll .${_r.columnHeader}:last-child`]:{borderRight:"none"},["& ."+_r.dataContainer]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& ."+_r.window]:{position:"absolute",bottom:0,left:0,right:0,overflowX:"auto"},["& ."+_r.viewport]:{position:"sticky",top:0,left:0,display:"flex",flexDirection:"column",overflow:"hidden"},["& ."+_r.row]:{display:"flex",width:"fit-content","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:rr(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:rr(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:rr(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},["& ."+_r.cell]:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderBottom:"1px solid "+t},[`& .${_r.cell}.${_r["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},["& ."+_r["row--editing"]]:{boxShadow:e.shadows[2]},[`& .${_r["row--editing"]} .${_r.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},["& ."+_r.editInputCell]:Object.assign(Object.assign({},e.typography.body2),{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),["& ."+_r.editBooleanCell]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${_r.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${_r.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${_r.columnHeaderWrapper} .${_r.cell}`]:{borderBottom:"none"},["& ."+_r["cell--withRenderer"]]:{display:"flex",alignItems:"center"},["& ."+_r.withBorder]:{borderRight:"1px solid "+t},["& ."+_r["cell--textLeft"]]:{textAlign:"left"},[`& .${_r["cell--textLeft"]}.${_r["cell--withRenderer"]}, & .${_r["cell--textLeft"]}.${_r["cell--editing"]}`]:{justifyContent:"flex-start"},["& ."+_r["cell--textRight"]]:{textAlign:"right"},[`& .${_r["cell--textRight"]}.${_r["cell--withRenderer"]}, & .${_r["cell--textRight"]}.${_r["cell--editing"]}`]:{justifyContent:"flex-end"},["& ."+_r["cell--textCenter"]]:{textAlign:"center"},[`& .${_r["cell--textCenter"]}.${_r["cell--withRenderer"]}, & .${_r["cell--textCenter"]}.${_r["cell--editing"]}`]:{justifyContent:"center"},[`& .${_r.rowCount}, & .${_r.selectedRowCount}`]:{alignItems:"center",display:"flex",margin:e.spacing(0,2)},["& ."+_r.footerContainer]:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,["& ."+_r.selectedRowCount]:{visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}},[`& .${_r.columnHeaderDropZone} .${_r.columnHeaderDraggableContainer}`]:{cursor:"move"},["& ."+_r.columnHeaderDraggableContainer]:{display:"flex",width:"100%"},["& ."+_r["columnHeader--dragging"]]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity}})};if("dark"===er(e.palette)){const e="#202022",t="#585859",n="#838384";r.root=Object.assign(Object.assign({},r.root),{scrollbarColor:`${t} ${e}`,"& *::-webkit-scrollbar":{backgroundColor:e},"& *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:t,minHeight:24,border:"3px solid "+e},"& *::-webkit-scrollbar-thumb:focus":{backgroundColor:n},"& *::-webkit-scrollbar-thumb:active":{backgroundColor:n},"& *::-webkit-scrollbar-thumb:hover":{backgroundColor:n},"& *::-webkit-scrollbar-corner":{backgroundColor:e}})}return r},{name:"MuiDataGrid",defaultTheme:nr()}),fi=l.forwardRef((function(e,t){var r;const n=di(),a=Z(),o=Hn(),{children:i,className:u}=e,s=Xn(e,["children","className"]),d=Dr(a,le),[f]=Rr(a),p=Dr(a,kn),m=l.useRef(null),h=Object(g.a)(m,t);return a.current.rootElementRef=m,l.createElement(F.a,null,l.createElement("div",Object.assign({ref:h,className:Object(c.default)(n.root,null===(r=p.classes)||void 0===r?void 0:r.root,o.className,u,{[_r.autoHeight]:o.autoHeight}),role:"grid","aria-colcount":d,"aria-rowcount":f.rows.totalRowCount,"aria-multiselectable":!o.disableMultipleSelection,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"],style:o.style},s),i))})),pi=l.forwardRef((function(e,t){const{className:r}=e,n=Xn(e,["className"]);return l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.footerContainer,r)},n))})),mi=l.forwardRef((function(e,t){const{className:r,style:n}=e,a=Xn(e,["className","style"]),o=Z(),i=Dr(o,On);return l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.overlay,r),style:Object.assign({top:i},n)},a))})),gi=l.forwardRef((function(e,t){const{className:r,children:n}=e,a=Xn(e,["className","children"]);return n?l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.toolbarContainer,r)},a),n):null})),hi=e=>{const{onClick:t}=e,r=Z(),n=Hn(),a=l.useCallback(e=>{t(e),r.current.showPreferences(bo.columns)},[r,t]);return n.disableColumnSelector?null:l.createElement(j.a,{onClick:a},r.current.getLocaleText("columnMenuShowColumns"))},vi=e=>{const{column:t,onClick:r}=e,n=Z(),a=Hn(),o=l.useCallback(e=>{r(e),n.current.showFilterPanel(null==t?void 0:t.field)},[n,null==t?void 0:t.field,r]);return a.disableColumnFilter||!(null==t?void 0:t.filterable)?null:l.createElement(j.a,{onClick:o},n.current.getLocaleText("columnMenuFilter"))},yi=l.forwardRef((function(e,t){const{hideMenu:r,currentColumn:n,open:a,id:o,labelledby:i,className:u,children:s}=e,d=Xn(e,["hideMenu","currentColumn","open","id","labelledby","className","children"]),f=l.useCallback(e=>{Pn(e.key)&&e.preventDefault(),Bn(e.key)&&r()},[r]);return l.createElement(L.a,Object.assign({id:o,ref:t,className:Object(c.default)("MuiDataGrid-gridMenuList",u),"aria-labelledby":i,onKeyDown:f,autoFocus:a},d),s)})),bi=e=>{const{column:t,onClick:r}=e,n=Z(),a=Hn(),o=l.useRef(),i=l.useCallback(e=>{r(e),o.current=setTimeout(()=>{n.current.setColumnVisibility(null==t?void 0:t.field,!1)},100)},[n,null==t?void 0:t.field,r]);return l.useEffect(()=>()=>clearTimeout(o.current),[]),a.disableColumnSelector?null:l.createElement(j.a,{onClick:i},n.current.getLocaleText("columnMenuHideColumn"))},wi=e=>{const{column:t,onClick:r}=e,n=Z(),a=Dr(n,en),o=l.useMemo(()=>{if(!t)return null;const e=a.find(e=>e.field===t.field);return null==e?void 0:e.sort},[t,a]),i=l.useCallback(e=>{r(e);const a=e.currentTarget.getAttribute("data-value")||null;null==n||n.current.sortColumn(t,a)},[n,t,r]);return t&&t.sortable?l.createElement(l.Fragment,null,l.createElement(j.a,{onClick:i,disabled:null==o},n.current.getLocaleText("columnMenuUnsort")),l.createElement(j.a,{onClick:i,"data-value":"asc",disabled:"asc"===o},n.current.getLocaleText("columnMenuSortAsc")),l.createElement(j.a,{onClick:i,"data-value":"desc",disabled:"desc"===o},n.current.getLocaleText("columnMenuSortDesc"))):null},Oi=l.forwardRef((function(e,t){const{hideMenu:r,currentColumn:n}=e;return l.createElement(yi,Object.assign({ref:t},e),l.createElement(wi,{onClick:r,column:n}),l.createElement(vi,{onClick:r,column:n}),l.createElement(bi,{onClick:r,column:n}),l.createElement(hi,{onClick:r,column:n}))})),Ci=Object(C.a)(()=>({root:{display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400}}),{name:"MuiGridPanelContent"});function ki(e){const t=Ci(),{className:r}=e,n=Xn(e,["className"]);return l.createElement("div",Object.assign({className:Object(c.default)(t.root,r)},n))}const Ei=Object(C.a)(()=>({root:{padding:4,display:"flex",justifyContent:"space-between"}}),{name:"MuiGridPanelFooter"});function Si(e){const t=Ei(),{className:r}=e,n=Xn(e,["className"]);return l.createElement("div",Object.assign({className:Object(c.default)(t.root,r)},n))}const Pi=Object(C.a)(e=>({root:{padding:e.spacing(1)}}),{name:"MuiDataGridPanelHeader",defaultTheme:nr()});function xi(e){const t=Pi(),{className:r}=e,n=Xn(e,["className"]);return l.createElement("div",Object.assign({className:Object(c.default)(t.root,r)},n))}const ji=Object(C.a)(()=>({root:{display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}}),{name:"MuiGridPanelWrapper"}),Mi=()=>!0;function Ti(e){const t=ji(),{className:r}=e,n=Xn(e,["className"]),a=tr().startsWith("v4")?{getDoc:()=>document}:{};return l.createElement(H.a,Object.assign({open:!0,disableEnforceFocus:!0,isEnabled:Mi},a),l.createElement("div",Object.assign({tabIndex:-1,className:Object(c.default)(t.root,r)},n)))}let Ri=!1;void 0!==a&&void 0!==a.env.GRID_EXPERIMENTAL_ENABLED&&ar()&&window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED")?Ri="true"===window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED"):void 0!==a&&(Ri="true"===a.env.GRID_EXPERIMENTAL_ENABLED);const Di=Ri,Ii=Object(C.a)({container:{padding:"8px 0px 8px 8px"},column:{display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},switch:{marginRight:4},dragIcon:{justifyContent:"flex-end"}},{name:"MuiDataGridColumnsPanel"});function Ai(){const e=Ii(),t=Z(),r=l.useRef(null),n=Dr(t,re),a=Hn(),[o,i]=l.useState(""),u=l.useCallback(e=>{const{name:r}=e.target,n=t.current.getColumn(r);t.current.setColumnVisibility(r,!!n.hide)},[t]),c=l.useCallback(e=>{t.current.updateColumns(n.map(t=>(t.hide=e,t)))},[t,n]),s=l.useCallback(()=>c(!1),[c]),d=l.useCallback(()=>c(!0),[c]),f=l.useCallback(e=>{i(e.target.value)},[]),p=l.useMemo(()=>o?n.filter(e=>e.field.toLowerCase().indexOf(o.toLowerCase())>-1||e.headerName&&e.headerName.toLowerCase().indexOf(o.toLowerCase())>-1):n,[n,o]);return l.useEffect(()=>{r.current.focus()},[]),l.createElement(Ti,null,l.createElement(xi,null,l.createElement(S.a,{label:t.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:t.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:r,value:o,onChange:f,variant:"standard",fullWidth:!0})),l.createElement(ki,null,l.createElement("div",{className:e.container},p.map(r=>l.createElement("div",{key:r.field,className:e.column},l.createElement(z.a,{control:l.createElement(N.a,{className:e.switch,checked:!r.hide,onClick:u,name:r.field,color:"primary",size:"small"}),label:r.headerName||r.field}),!a.disableColumnReorder&&Di&&l.createElement(T.a,{draggable:!0,className:e.dragIcon,"aria-label":t.current.getLocaleText("columnsPanelDragIconLabel"),title:t.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0},l.createElement(Oa,null)))))),l.createElement(Si,null,l.createElement(B.a,{onClick:d,color:"primary"},t.current.getLocaleText("columnsPanelHideAllButton")),l.createElement(B.a,{onClick:s,color:"primary"},t.current.getLocaleText("columnsPanelShowAllButton"))))}const _i=Object(C.a)(e=>({root:{zIndex:e.zIndex.modal},paper:{backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}}),{name:"MuiGridPanel",defaultTheme:nr()}),Fi=Zt("MuiGridPanel",["root","paper"]),Li=l.forwardRef((function(e,t){var r;const{children:n,className:a,open:o}=e,i=Xn(e,["children","className","open"]),u=_i(i),s=Z(),d=l.useCallback(()=>{s.current.hidePreferences()},[s]),f=l.useCallback(e=>{En(e.key)&&s.current.hidePreferences()},[s]),p=null===(r=null==s?void 0:s.current.columnHeadersContainerElementRef)||void 0===r?void 0:r.current;return p?l.createElement(_.a,Object.assign({ref:t,placement:"bottom-start",className:Object(c.default)(a,u.root),open:o,anchorEl:p,modifiers:"v5"===tr()?[{name:"flip",enabled:!1}]:{flip:{enabled:!1}}},i),l.createElement(D.a,{onClickAway:d},l.createElement(A.a,{className:u.paper,elevation:8,onKeyDown:f},n))):null})),Ni=l.forwardRef((function(e,t){var r,n,a;const o=Z(),i=Dr(o,re),u=Hn(),c=Dr(o,vo),s=c.openedPanelValue===bo.columns,d=!c.openedPanelValue||!s,f=o.current.components.ColumnsPanel,p=o.current.components.FilterPanel,m=o.current.components.Panel;return l.createElement(m,Object.assign({ref:t,open:i.length>0&&c.open},null===(r=null==o?void 0:o.current.componentsProps)||void 0===r?void 0:r.panel,e),!u.disableColumnSelector&&s&&l.createElement(f,Object.assign({},null===(n=null==o?void 0:o.current.componentsProps)||void 0===n?void 0:n.columnsPanel)),!u.disableColumnFilter&&d&&l.createElement(p,Object.assign({},null===(a=null==o?void 0:o.current.componentsProps)||void 0===a?void 0:a.filterPanel)))})),Bi=Object(C.a)({root:{display:"flex",justifyContent:"space-around",padding:8},linkOperatorSelect:{minWidth:60},columnSelect:{width:150},operatorSelect:{width:120},filterValueInput:{width:190},closeIcon:{flexShrink:0,justifyContent:"flex-end",marginRight:6,marginBottom:2}},{name:"MuiGridFilterForm"});function zi(e){var t,r;const{item:n,hasMultipleFilters:a,deleteFilter:o,applyFilterChanges:i,multiFilterOperator:u,showMultiFilterOperators:c,disableMultiFilterOperator:s,applyMultiFilterOperatorChanges:d}=e,f=Bi(),p=Z(),m=Dr(p,oe),g=Object(v.a)(),h=Object(v.a)(),y=Object(v.a)(),w=Object(v.a)(),O=Object(v.a)(),C=Object(v.a)(),k=l.useCallback(()=>n.columnField?p.current.getColumn(n.columnField):null,[p,n]),E=l.useCallback(()=>{var e;const t=k();return n.operatorValue&&t?null===(e=t.filterOperators)||void 0===e?void 0:e.find(e=>e.value===n.operatorValue):null},[n,k]),S=l.useCallback(e=>{const t=e.target.value,r=p.current.getColumn(t).filterOperators[0];i(Object.assign(Object.assign({},n),{value:void 0,columnField:t,operatorValue:r.value}))},[p,i,n]),P=l.useCallback(e=>{const t=e.target.value;i(Object.assign(Object.assign({},n),{operatorValue:t}))},[i,n]),j=l.useCallback(e=>{const t=e.target.value===kr.And.toString()?kr.And:kr.Or;d(t)},[d]),M=l.useCallback(()=>{o(n)},[o,n]),R=E();return l.createElement("div",{className:f.root},l.createElement(W.a,{variant:"standard",className:f.closeIcon},l.createElement(T.a,{"aria-label":p.current.getLocaleText("filterPanelDeleteIconLabel"),title:p.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:M,size:"small"},l.createElement(ya,{fontSize:"small"}))),l.createElement(W.a,{variant:"standard",className:f.linkOperatorSelect,style:{display:a?"block":"none",visibility:c?"visible":"hidden"}},l.createElement(V.a,{htmlFor:g,id:h},p.current.getLocaleText("filterPanelOperators")),l.createElement(x.a,{labelId:h,id:g,value:u,onChange:j,disabled:!!s,native:!0},l.createElement("option",{key:kr.And.toString(),value:kr.And.toString()},p.current.getLocaleText("filterPanelOperatorAnd")),l.createElement("option",{key:kr.Or.toString(),value:kr.Or.toString()},p.current.getLocaleText("filterPanelOperatorOr")))),l.createElement(W.a,{variant:"standard",className:f.columnSelect},l.createElement(V.a,{htmlFor:y,id:w},p.current.getLocaleText("filterPanelColumns")),l.createElement(x.a,{labelId:w,id:y,value:n.columnField||"",onChange:S,native:!0},m.map(e=>l.createElement("option",{key:e.field,value:e.field},e.headerName||e.field)))),l.createElement(W.a,{variant:"standard",className:f.operatorSelect},l.createElement(V.a,{htmlFor:O,id:C},p.current.getLocaleText("filterPanelOperators")),l.createElement(x.a,{labelId:C,id:O,value:n.operatorValue,onChange:P,native:!0},null===(r=null===(t=k())||void 0===t?void 0:t.filterOperators)||void 0===r?void 0:r.map(e=>l.createElement("option",{key:e.value,value:e.value},e.label||p.current.getLocaleText("filterOperator"+Object(b.a)(e.value)))))),l.createElement(W.a,{variant:"standard",className:f.filterValueInput},(null==R?void 0:R.InputComponent)?l.createElement(R.InputComponent,Object.assign({apiRef:p,item:n,applyValue:i},R.InputComponentProps)):null))}function Hi(){const e=Z(),[t]=Rr(e),r=Hn(),n=l.useMemo(()=>t.filter.items.length>1,[t.filter.items.length]),a=l.useCallback(t=>{e.current.upsertFilter(t)},[e]),o=l.useCallback(t=>{e.current.applyFilterLinkOperator(t)},[e]),i=l.useCallback(()=>{e.current.upsertFilter({})},[e]),u=l.useCallback(t=>{e.current.deleteFilter(t)},[e]);return l.useEffect(()=>{0===t.filter.items.length&&i()},[i,t.filter.items.length]),l.createElement(Ti,null,l.createElement(ki,null,t.filter.items.map((e,r)=>l.createElement(zi,{key:null==e.id?r:e.id,item:e,applyFilterChanges:a,deleteFilter:u,hasMultipleFilters:n,showMultiFilterOperators:r>0,multiFilterOperator:t.filter.linkOperator,disableMultiFilterOperator:1!==r,applyMultiFilterOperatorChanges:o}))),!r.disableMultipleColumnsFiltering&&l.createElement(Si,null,l.createElement(B.a,{onClick:i,startIcon:l.createElement(ba,null),color:"primary"},e.current.getLocaleText("filterPanelAddFilter"))))}const Wi=l.forwardRef((function(e,t){const{onClick:r}=e,n=Xn(e,["onClick"]),a=Z(),o=Hn(),i=a.current.components.ColumnSelectorIcon,{open:u,openedPanelValue:c}=Dr(a,vo);return o.disableColumnSelector?null:l.createElement(B.a,Object.assign({ref:t,size:"small",color:"primary","aria-label":a.current.getLocaleText("toolbarColumnsLabel"),startIcon:l.createElement(i,null)},n,{onClick:e=>{u&&c===bo.columns?a.current.hidePreferences():a.current.showPreferences(bo.columns),null==r||r(e)}}),a.current.getLocaleText("toolbarColumns"))})),Vi=l.forwardRef((function(e,t){const{onClick:r}=e,n=Xn(e,["onClick"]),a=Z(),o=Hn(),i=Dr(a,bn),u=Object(v.a)(),c=Object(v.a)(),[s,d]=l.useState(null),f=a.current.components.DensityCompactIcon,p=a.current.components.DensityStandardIcon,m=a.current.components.DensityComfortableIcon,g=[{icon:l.createElement(f,null),label:a.current.getLocaleText("toolbarDensityCompact"),value:vr.Compact},{icon:l.createElement(p,null),label:a.current.getLocaleText("toolbarDensityStandard"),value:vr.Standard},{icon:l.createElement(m,null),label:a.current.getLocaleText("toolbarDensityComfortable"),value:vr.Comfortable}],h=l.useCallback(()=>{switch(i){case vr.Compact:return l.createElement(f,null);case vr.Comfortable:return l.createElement(m,null);default:return l.createElement(p,null)}},[i,f,m,p]),y=()=>d(null);if(o.disableDensitySelector)return null;const b=g.map((e,t)=>l.createElement(j.a,{key:t,onClick:()=>{return t=e.value,a.current.setDensity(t),void d(null);var t},selected:e.value===i},l.createElement(G.a,null,e.icon),e.label));return l.createElement(l.Fragment,null,l.createElement(B.a,Object.assign({ref:t,color:"primary",size:"small",startIcon:h(),"aria-label":a.current.getLocaleText("toolbarDensityLabel"),"aria-expanded":s?"true":void 0,"aria-haspopup":"menu","aria-labelledby":c,id:u},n,{onClick:e=>{d(e.currentTarget),null==r||r(e)}}),a.current.getLocaleText("toolbarDensity")),l.createElement(ko,{open:Boolean(s),target:s,onClickAway:y,position:"bottom-start"},l.createElement(L.a,{id:c,className:"MuiDataGrid-gridMenuList","aria-labelledby":u,onKeyDown:e=>{Pn(e.key)&&e.preventDefault(),Bn(e.key)&&y()},autoFocusItem:Boolean(s)},b)))})),Gi=Object(C.a)(e=>({list:{margin:e.spacing(1,1,.5),padding:e.spacing(0,1)}}),{name:"MuiGridToolbarFilterButton",defaultTheme:nr()}),Ui=l.forwardRef((function(e,t){const{componentsProps:r={}}=e,n=Xn(e,["componentsProps"]),a=r.button||{},o=Gi(),i=Z(),u=Hn(),c=Dr(i,sn),s=Dr(i,cn),d=Dr(i,te),f=Dr(i,vo),p=l.useMemo(()=>f.open?i.current.getLocaleText("toolbarFiltersTooltipHide"):0===c?i.current.getLocaleText("toolbarFiltersTooltipShow"):l.createElement("div",null,i.current.getLocaleText("toolbarFiltersTooltipActive")(c),l.createElement("ul",{className:o.list},s.map((e,t)=>Object.assign({},d[e.columnField]&&l.createElement("li",{key:t},`${d[e.columnField].headerName||e.columnField}\n                  ${(e=>d[e.columnField].filterOperators.find(t=>t.value===e.operatorValue).label||i.current.getLocaleText("filterOperator"+Object(b.a)(e.operatorValue)).toString())(e)}\n                  ${e.value}`))))),[i,f.open,c,s,d,o]);if(u.disableColumnFilter)return null;const m=i.current.components.OpenFilterButtonIcon;return l.createElement(R.a,Object.assign({title:p,enterDelay:1e3},n),l.createElement(B.a,Object.assign({ref:t,size:"small",color:"primary","aria-label":i.current.getLocaleText("toolbarFiltersLabel"),startIcon:l.createElement(M.a,{badgeContent:c,color:"primary"},l.createElement(m,null))},a,{onClick:e=>{var t;const{open:r,openedPanelValue:n}=f;r&&n===bo.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),null===(t=a.onClick)||void 0===t||t.call(a,e)}}),i.current.getLocaleText("toolbarFilters")))})),qi=l.forwardRef((function(e,t){const{csvOptions:r,onClick:n}=e,a=Xn(e,["csvOptions","onClick"]),o=Z(),i=Object(v.a)(),u=Object(v.a)(),[c,s]=l.useState(null),d=o.current.components.ExportIcon,f=[];f.push({label:o.current.getLocaleText("toolbarExportCSV"),format:"csv",formatOptions:r});const p=()=>s(null),m=e=>()=>{"csv"===e.format&&o.current.exportDataAsCsv(e.formatOptions),s(null)};return l.createElement(l.Fragment,null,l.createElement(B.a,Object.assign({ref:t,color:"primary",size:"small",startIcon:l.createElement(d,null),"aria-expanded":c?"true":void 0,"aria-label":o.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-labelledby":u,id:i},a,{onClick:e=>{s(e.currentTarget),null==n||n(e)}}),o.current.getLocaleText("toolbarExport")),l.createElement(ko,{open:Boolean(c),target:c,onClickAway:p,position:"bottom-start"},l.createElement(L.a,{id:u,className:"MuiDataGrid-gridMenuList","aria-labelledby":i,onKeyDown:e=>{Pn(e.key)&&e.preventDefault(),Bn(e.key)&&p()},autoFocusItem:Boolean(c)},f.map((e,t)=>l.createElement(j.a,{key:t,onClick:m(e)},e.label)))))})),$i=l.forwardRef((function(e,t){const r=Hn();return r.disableColumnFilter&&r.disableColumnSelector&&r.disableDensitySelector?null:l.createElement(gi,Object.assign({ref:t},e),l.createElement(Wi,null),l.createElement(Ui,null),l.createElement(Vi,null),l.createElement(qi,null))})),Ki=l.forwardRef((function(e,t){const{className:r,rowCount:n,visibleRowCount:a}=e,o=Xn(e,["className","rowCount","visibleRowCount"]),i=Z();if(0===n)return null;const u=a<n?i.current.getLocaleText("footerTotalVisibleRows")(a,n):n.toLocaleString();return l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.rowCount,r)},o),i.current.getLocaleText("footerTotalRows")," ",u)})),Ji=l.forwardRef((function(e,t){const{className:r,selectedRowCount:n}=e,a=Xn(e,["className","selectedRowCount"]),o=Z().current.getLocaleText("footerRowSelected")(n);return l.createElement("div",Object.assign({ref:t,className:Object(c.default)(_r.selectedRowCount,r)},a),o)})),Yi=l.forwardRef((function(e,t){var r;const n=Z(),a=Hn(),o=Dr(n,$r),i=Dr(n,$n),u=Dr(n,Gn),c=Dr(n,ln),s=!a.hideFooterSelectedRowCount&&i>0?l.createElement(Ji,{selectedRowCount:i}):l.createElement("div",null),d=a.hideFooterRowCount||a.pagination?null:l.createElement(Ki,{rowCount:o,visibleRowCount:c}),f=!!a.pagination&&null!=u.pageSize&&!a.hideFooterPagination&&(null==n?void 0:n.current.components.Pagination),p=f&&l.createElement(f,Object.assign({},null===(r=null==n?void 0:n.current.componentsProps)||void 0===r?void 0:r.pagination));return l.createElement(pi,Object.assign({ref:t},e),s,d,p)})),Xi=l.forwardRef((function(e,t){var r,n;const a=Z(),o=null==a?void 0:a.current.components.PreferencesPanel,i=o&&l.createElement(o,Object.assign({},null===(r=null==a?void 0:a.current.componentsProps)||void 0===r?void 0:r.preferencesPanel)),u=null==a?void 0:a.current.components.Toolbar,c=u&&l.createElement(u,Object.assign({},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.toolbar));return l.createElement("div",Object.assign({ref:t},e),i,c)})),Zi=l.forwardRef((function(e,t){return l.createElement(mi,Object.assign({ref:t},e),l.createElement(U.a,null))})),Qi=l.forwardRef((function(e,t){const r=Z().current.getLocaleText("noRowsLabel");return l.createElement(mi,Object.assign({ref:t},e),r)})),el=Object(C.a)(e=>({selectLabel:{display:"none",[e.breakpoints.up("md")]:{display:"block"}},caption:{"&[id]":{display:"none",[e.breakpoints.up("md")]:{display:"block"}}},input:{display:"none",[e.breakpoints.up("md")]:{display:"inline-flex"}}}),{defaultTheme:nr()}),tl=l.forwardRef((function(e,t){var r;const n=el(),a=Z(),o=Hn(),i=Dr(a,Gn),u=l.useMemo(()=>Math.floor(i.rowCount/(i.pageSize||1)),[i.rowCount,i.pageSize]),c=l.useCallback(e=>{const t=Number(e.target.value);a.current.setPageSize(t)},[a]),s=l.useCallback((e,t)=>{a.current.setPage(t)},[a]);return l.createElement(q.a,Object.assign({ref:t,classes:Object.assign(Object.assign({},"v5"===tr()?{selectLabel:n.selectLabel}:{caption:n.caption}),{input:n.input}),component:"div",count:i.rowCount,page:i.page<=u?i.page:u,rowsPerPageOptions:(null===(r=o.rowsPerPageOptions)||void 0===r?void 0:r.includes(i.pageSize))?o.rowsPerPageOptions:[],rowsPerPage:i.pageSize},a.current.getLocaleText("MuiTablePagination"),"v4"!==tr()?{onPageChange:s,onRowsPerPageChange:c}:{onChangePage:s,onChangeRowsPerPage:c},e))})),rl=e=>{const t=pr(e,"useGridColumnMenu"),[r,n,a]=Rr(e),i=l.useCallback(r=>{t.debug("Opening Column Menu"),n(e=>Object.assign(Object.assign({},e),{columnMenu:{open:!0,field:r}})),e.current.hidePreferences(),a()},[e,a,t,n]),u=l.useCallback(()=>{t.debug("Hiding Column Menu"),n(e=>Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1,field:void 0})})),a()},[a,t,n]),c=l.useCallback(e=>{t.debug("Toggle Column Menu"),r.columnMenu.open&&r.columnMenu.field===e?u():i(e)},[t,i,u,r]),s=l.useCallback(()=>{n(e=>e.columnMenu.open?Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1})}):e)},[n]);l.useEffect(()=>{r.isScrolling&&u()},[r.isScrolling,u]),mr(e,{showColumnMenu:i,hideColumnMenu:u,toggleColumnMenu:c},"ColumnMenuApi"),Nr(e,o.columnResizeStart,s)},nl=(e,t)=>{const r=pr(e,"useGridColumnReorder"),[,n,a]=Rr(e),i=Dr(e,Vr),u=l.useRef(null),c=l.useRef({x:0,y:0}),s=l.useRef(null),d=l.useRef();l.useEffect(()=>()=>{clearTimeout(d.current)},[]);const f=l.useCallback((o,i)=>{t.disableColumnReorder||o.colDef.disableReorder||(r.debug("Start dragging col "+o.field),u.current=i.currentTarget,u.current.classList.add(_r["columnSeparator--dragging"]),n(e=>Object.assign(Object.assign({},e),{columnReorder:Object.assign(Object.assign({},e.columnReorder),{dragCol:o.field})})),a(),d.current=setTimeout(()=>{u.current.classList.remove(_r["columnSeparator--dragging"])}),s.current=e.current.getColumnIndex(o.field,!1))},[t.disableColumnReorder,r,n,a,e]),p=l.useCallback((e,t)=>{t.preventDefault()},[]),m=l.useCallback((t,n)=>{if(!i)return;r.debug("Dragging over col "+t.field),n.preventDefault();const a={x:n.clientX,y:n.clientY};if(t.field!==i&&(l=a,(o=c.current).x!==l.x||o.y!==l.y)){const r=e.current.getColumnIndex(t.field,!1),n=e.current.getColumnIndex(t.field,!0),o=e.current.getColumn(t.field),l=e.current.getColumnIndex(i,!1),u=e.current.getVisibleColumns().length,s=!o.disableReorder||n>0&&n<u-1,d=((e,t)=>e.x<=t.x?"right":"left")(c.current,a),f="left"===d&&r<l,p="right"===d&&l<r;s&&(f||p)&&e.current.setColumnIndex(i,r),c.current=a}var o,l},[e,i,r]),g=l.useCallback((o,l)=>{!t.disableColumnReorder&&i&&(r.debug("End dragging col"),l.preventDefault(),clearTimeout(d.current),u.current=null,"none"===l.dataTransfer.dropEffect&&(e.current.setColumnIndex(o.field,s.current),s.current=null),n(e=>Object.assign(Object.assign({},e),{columnReorder:Object.assign(Object.assign({},e.columnReorder),{dragCol:""})})),a())},[t.disableColumnReorder,r,n,a,e,i]);Nr(e,o.columnHeaderDragStart,f),Nr(e,o.columnHeaderDragEnter,p),Nr(e,o.columnHeaderDragOver,m),Nr(e,o.columnHeaderDragEnd,g),Nr(e,o.cellDragEnter,p),Nr(e,o.cellDragOver,m),Nr(e,o.cellDragEnd,g)};const al=(e,t)=>{var r,n;const a={all:[...null!==(r=null==t?void 0:t.all)&&void 0!==r?r:[]],lookup:Object.assign({},null!==(n=null==t?void 0:t.lookup)&&void 0!==n?n:{})};return e.forEach(e=>{null==a.lookup[e.field]?(a.lookup[e.field]=e,a.all.push(e.field)):a.lookup[e.field]=Object.assign(Object.assign({},a.lookup[e.field]),e)}),a};function ol(e,t){const r=pr(e,"useGridColumns"),[n,a,i]=Rr(e),u=Dr(e,ae),c=Dr(e,re),s=Dr(e,ne),d=l.useCallback((t,n=!0)=>{r.debug("Updating columns state."),a(e=>Object.assign(Object.assign({},e),{columns:t})),i(),n&&e.current.publishEvent(o.columnsChange,t.all)},[r,a,i,e]),f=l.useCallback(t=>e.current.state.columns.lookup[t],[e]),p=l.useCallback(()=>c,[c]),m=l.useCallback(()=>s,[s]),g=l.useCallback(()=>u,[u]),h=l.useCallback((e,t=!0)=>t?s.findIndex(t=>t.field===e):c.findIndex(t=>t.field===e),[c,s]),v=l.useCallback(e=>{const t=h(e);return u.positions[t]},[u.positions,h]),y=l.useCallback((t,n)=>{r.debug("updating GridColumns with new state");const a=e.current.state.viewportSizes.width;let o=t.all.map(e=>t.lookup[e]);o=function(e,t){let r=0,n=t;const a=e.map(e=>{var t,a;const o=Object.assign({},e);if(e.hide)o.computedWidth=0;else{const e=null!==(t=o.minWidth)&&void 0!==t?t:ja.minWidth;if(o.flex&&o.flex>0)r+=o.flex,o.computedWidth=e;else{const t=Math.max(null!==(a=o.width)&&void 0!==a?a:ja.width,e);n-=t,o.computedWidth=t}}return o});if(r>0&&n>0){const e=n/r;for(let t=0;t<a.length;t+=1){const r=a[t];!r.hide&&r.flex&&r.flex>0&&(a[t].computedWidth=Math.max(e*r.flex,r.computedWidth))}}return a}(o,a);const i={all:o.map(e=>e.field),lookup:o.reduce((e,t)=>(e[t.field]=t,e),{})};d(i,n)},[e,r,d]),b=l.useCallback(t=>{const r=al(t,e.current.state.columns);y(r,!1)},[e,y]),w=l.useCallback(e=>b([e]),[b]),O=l.useCallback((t,r)=>{const n=f(t),a=Object.assign(Object.assign({},n),{hide:!r});b([a]),e.current.publishEvent(o.columnVisibilityChange,{field:t,colDef:a,isVisible:r})},[e,f,b]),C=l.useCallback((t,a)=>{const i=n.columns.all.findIndex(e=>e===t);if(i===a)return;r.debug(`Moving column ${t} to index ${a}`);const l={field:t,element:e.current.getColumnHeaderElement(t),colDef:e.current.getColumn(t),targetIndex:a,oldIndex:i};e.current.publishEvent(o.columnOrderChange,l);const u=[...n.columns.all];u.splice(a,0,u.splice(i,1)[0]),d(Object.assign(Object.assign({},n.columns),{all:u}))},[e,n.columns,r,d]),k=l.useCallback((t,n)=>{r.debug(`Updating column ${t} width to ${n}`);const a=e.current.getColumn(t),i=Object.assign(Object.assign({},a),{width:n});e.current.updateColumns([i]),e.current.publishEvent(o.columnWidthChange,{element:e.current.getColumnHeaderElement(t),colDef:i,width:n})},[e,r]);mr(e,{getColumn:f,getAllColumns:p,getColumnIndex:h,getColumnPosition:v,getVisibleColumns:m,getColumnsMeta:g,updateColumn:w,updateColumns:b,setColumnVisibility:O,setColumnIndex:C,setColumnWidth:k},"ColApi"),l.useEffect(()=>{r.info("GridColumns have changed, new length "+t.columns.length);const n=function(e,t={},r,n){const a=function(e,t){const r=Object.assign(Object.assign({},e),t),n={};return Object.entries(r).forEach(([e,t])=>{t=Object.assign(Object.assign({},r[t.extendType||"__default__"]),t),n[e]=t}),n}(Qa(),t),o=e.map(e=>Object.assign(Object.assign({},eo(a,e.type)),e));return n?[Object.assign(Object.assign({},Da),{headerName:r("checkboxSelectionHeaderName")}),...o]:o}(t.columns,t.columnTypes,e.current.getLocaleText,t.checkboxSelection),a=al(n);y(a)},[r,e,y,t.columns,t.columnTypes,t.checkboxSelection]),l.useEffect(()=>{r.debug("GridColumns gridState.viewportSizes.width, changed "+n.viewportSizes.width),y(e.current.state.columns)},[e,y,n.viewportSizes.width,r]),zr(e,o.columnVisibilityChange,t.onColumnVisibilityChange)}function il(e,t){const r=u.a.useRef({}),n=u.a.useCallback(e=>{const{stateId:t,stateSelector:n}=e,a=Xn(e,["stateId","stateSelector"]);r.current[t]=Object.assign(Object.assign({},a),{stateId:t,stateSelector:n||(e=>e[t])})},[]),a=u.a.useCallback(n=>{let a=!1;const o=[],i=r.current;if(Object.keys(i).forEach(t=>{const r=i[t],l=r.stateSelector(e.current.state),u=r.stateSelector(n);u!==l&&u!==r.propModel&&o.push(r.stateId),void 0!==r.propModel&&u!==r.propModel&&(a=!0)}),o.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${o[0]}, therefore, you're not allowed to update ${o.join(", ")} in the same transaction.`);return{ignoreSetState:a,postUpdate:()=>{o.forEach(r=>{const a=i[r],o=i[r].stateSelector(n);if(a.propOnChange){const r=t.signature===Lr.DataGridPro?{api:e.current}:{};a.propOnChange(o,r)}e.current.publishEvent(a.changeEvent,o)})}}},[e,t.signature]);mr(e,{updateControlState:n,applyControlStateConstraint:a},"controlStateApi")}const ll=(e,t,r,n)=>{const a=Tr(e),[o,i,u]=Rr(e),c=l.useCallback(e=>{void 0===o[t]&&(o[t]=n),i(n=>{const a=Object.assign({},n);return a[t]=r(n[t],e),a}),u()},[u,o,n,r,i,t]),s=l.useRef(c);l.useEffect(()=>{s.current=c},[c]);const d=l.useCallback(e=>s.current(e),[]);return{gridState:o,dispatch:d,gridApi:a}},ul=(e,t)=>{const r=pr(e,"useGridFilter"),[n,a,i]=Rr(e),u=Dr(e,ie),c=l.useCallback(()=>{r.debug("clearing filtered rows"),a(e=>Object.assign(Object.assign({},e),{visibleRows:{visibleRowsLookup:{}}}))},[r,a]),s=l.useCallback((t,n=kr.And)=>{if(!t.columnField||!t.operatorValue)return;const o=e.current.getColumn(t.columnField);if(!o)return;const l=o.valueParser?o.valueParser(t.value):t.value,u=Object.assign(Object.assign({},t),{value:l});r.debug(`Filtering column: ${u.columnField} ${u.operatorValue} ${u.value} `);const c=o.filterOperators;if(!(null==c?void 0:c.length))throw new Error(`Material-UI: No filter operators found for column '${o.field}'.`);const s=c.find(e=>e.value===u.operatorValue);if(!s)throw new Error(`Material-UI: No filter operator found for column '${o.field}' and operator value '${u.operatorValue}'.`);const d=s.getApplyFilterFn(u,o);"function"==typeof d&&(a(t=>{const r=Object.assign({},t.visibleRows.visibleRowsLookup);return Qr(t).forEach((t,a)=>{const o=e.current.getCellParams(a,u.columnField),i=d(o);null==r[a]?r[a]=i:r[a]=n===kr.And?r[a]&&i:r[a]||i}),Object.assign(Object.assign({},t),{visibleRows:Object.assign(Object.assign({},t.visibleRows),{visibleRowsLookup:r,visibleRows:Object.entries(r).filter(([,e])=>e).map(([e])=>e)})})}),i())},[e,i,r,a]),d=l.useCallback(()=>{if(t.filterMode===yr.server)return void i();c();const{items:r,linkOperator:n}=e.current.state.filter;r.forEach(t=>{e.current.applyFilter(t,n)}),i()},[e,c,i,t.filterMode]),f=l.useCallback(n=>{r.debug("Upserting filter"),a(r=>{const a=[...r.filter.items],o=Object.assign({},n),i=a.findIndex(e=>e.id===o.id);if(1===a.length&&qt(a[0],{})?a[0]=o:-1===i?a.push(o):a[i]=o,null==o.id&&(o.id=Math.round(1e5*Math.random())),null==o.columnField&&(o.columnField=u[0]),null!=o.columnField&&null==o.operatorValue){const t=e.current.getColumn(o.columnField);o.operatorValue=t&&t.filterOperators[0].value}return t.disableMultipleColumnsFiltering&&a.length>1&&(a.length=1),Object.assign(Object.assign({},r),{filter:Object.assign(Object.assign({},r.filter),{items:a})})}),d()},[r,a,e,d,t.disableMultipleColumnsFiltering,u]),p=l.useCallback(t=>{r.debug(`Deleting filter on column ${t.columnField} with value ${t.value}`),a(e=>{const r=[...e.filter.items.filter(e=>e.id!==t.id)];return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{items:r})})}),0===e.current.state.filter.items.length&&e.current.upsertFilter({}),d()},[e,d,r,a]),m=l.useCallback(t=>{if(r.debug("Displaying filter panel"),t){const r=n.filter.items.length>0?n.filter.items[n.filter.items.length-1]:null;r&&r.columnField===t||e.current.upsertFilter({columnField:t})}e.current.showPreferences(bo.filters)},[e,n.filter.items,r]),g=l.useCallback(()=>{r.debug("Hiding filter panel"),null==e||e.current.hidePreferences()},[e,r]),h=l.useCallback((e=kr.And)=>{r.debug("Applying filter link operator"),a(t=>Object.assign(Object.assign({},t),{filter:Object.assign(Object.assign({},t.filter),{linkOperator:e})})),d()},[d,r,a]),v=l.useCallback(()=>{c(),r.debug("Clearing filter model"),a(e=>Object.assign(Object.assign({},e),{filter:Er()}))},[c,r,a]),y=l.useCallback(e=>{v(),r.debug("Setting filter model"),h(e.linkOperator),e.items.forEach(e=>f(e))},[h,v,r,f]),b=l.useCallback(()=>nn(e.current.state),[e]);mr(e,{applyFilterLinkOperator:h,applyFilters:d,applyFilter:s,deleteFilter:p,upsertFilter:f,setFilterModel:y,showFilterPanel:m,hideFilterPanel:g,getVisibleRowModels:b},"FilterApi"),l.useEffect(()=>{e.current&&(r.debug("Rows prop changed, applying filters"),c(),e.current.applyFilters())},[e,c,r,t.rows]);const w=l.useCallback(()=>{r.debug("onColUpdated - GridColumns changed, applying filters");const t=e.current.state.filter,n=ie(e.current.state);r.debug("GridColumns changed, applying filters"),t.items.forEach(t=>{n.find(e=>e===t.columnField)||e.current.deleteFilter(t)}),e.current.applyFilters()},[e,r]);l.useEffect(()=>{e.current.updateControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:e=>e.filter,changeEvent:o.filterModelChange})},[e,t.filterModel,t.onFilterModelChange]),l.useEffect(()=>{if(void 0!==t.filterModel&&t.filterModel.items.length>1&&t.filterModel.items.find(e=>null==e.id))throw new Error("The 'id' field is required on filterModel.items when you use multiple filters.");const n=e.current.state.filter;void 0!==t.filterModel&&t.filterModel!==n&&(r.debug("filterModel prop changed, applying filters"),a(e=>Object.assign(Object.assign({},e),{filter:t.filterModel||Er()})),e.current.applyFilters())},[e,r,t.filterModel,a]),Nr(e,o.rowsSet,e.current.applyFilters),Nr(e,o.rowsUpdate,e.current.applyFilters),Nr(e,o.columnsChange,w)},cl=(e,t)=>{const r=pr(e,"useGridFocus"),[,n,a]=Rr(e),i=l.useRef(null),u=l.useCallback((t,i)=>{e.current.getRow(t)&&(n(e=>(r.debug(`Focusing on cell with id=${t} and field=${i}`),Object.assign(Object.assign({},e),{tabIndex:{cell:{id:t,field:i},columnHeader:null},focus:{cell:{id:t,field:i},columnHeader:null}}))),a(),e.current.publishEvent(o.cellFocusIn,e.current.getCellParams(t,i)))},[e,a,r,n]),c=l.useCallback((t,i)=>{const{cell:l}=e.current.state.focus;l&&e.current.publishEvent(o.cellFocusOut,e.current.getCellParams(l.id,l.field),i),n(e=>(r.debug("Focusing on column header with colIndex="+t),Object.assign(Object.assign({},e),{tabIndex:{columnHeader:{field:t},cell:null},focus:{columnHeader:{field:t},cell:null}}))),a()},[e,a,r,n]),s=l.useCallback(({id:t,field:r})=>{e.current.setCellFocus(t,r)},[e]),d=l.useCallback((t,r)=>{"Enter"===r.key||"Tab"===r.key||Ln(r.key)||e.current.setCellFocus(t.id,t.field)},[e]),f=l.useCallback(({field:t},r)=>{r.target===r.currentTarget&&e.current.setColumnHeaderFocus(t,r)},[e]),p=l.useCallback(()=>{r.debug("Clearing focus"),n(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}}))},[r,n]),m=l.useCallback(e=>{i.current=e},[]),g=l.useCallback(t=>{const r=i.current;i.current=null;const{cell:l}=e.current.state.focus;if(!l)return void(r&&e.current.setCellFocus(r.id,r.field));if((null==r?void 0:r.id)===l.id&&(null==r?void 0:r.field)===l.field)return;const u=e.current.getCellElement(l.id,l.field);(null==u?void 0:u.contains(t.target))||e.current.getRow(l.id)&&(e.current.publishEvent(o.cellFocusOut,e.current.getCellParams(l.id,l.field),t),r?e.current.setCellFocus(r.id,r.field):(n(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})),a()))},[e,a,n]),h=l.useCallback(t=>{if("view"===t.cellMode)return;const{cell:r}=e.current.state.focus;(null==r?void 0:r.id)===t.id&&(null==r?void 0:r.field)===t.field||e.current.setCellFocus(t.id,t.field)},[e]);mr(e,{setCellFocus:u,setColumnHeaderFocus:c},"GridFocusApi"),l.useEffect(()=>{const{cell:t}=e.current.state.focus;t&&(e.current.getRow(t.id)||n(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})))},[e,n,t.rows]),l.useEffect(()=>{const t=Object(w.a)(e.current.rootElementRef.current);return t.addEventListener("click",g),()=>{t.removeEventListener("click",g)}},[e,g]),Nr(e,o.columnHeaderBlur,p),Nr(e,o.cellDoubleClick,s),Nr(e,o.cellMouseUp,m),Nr(e,o.cellKeyDown,d),Nr(e,o.cellModeChange,h),Nr(e,o.columnHeaderFocus,f)},sl=e=>{const t=pr(e,"useGridKeyboard"),r=l.useCallback((r,n)=>{const a=lo(n.target,_r.row),i=Number(a.getAttribute("data-rowindex"));let l=i;const u=[...e.current.getSelectedRows().keys()];if(u.length>0){const t=u.map(t=>e.current.getRowIndex(t)),r=t.map(e=>Math.abs(i-e)),n=Math.max(...r);l=t[r.indexOf(n)]}e.current.publishEvent(o.cellNavigationKeyDown,r,n);const c=e.current.state.focus.cell,s=e.current.getRowIndex(c.id),d=Array(Math.abs(s-l)+1).fill(s>l?l:s);t.debug("Selecting rows "),e.current.selectRows(d,!0,!0)},[t,e]),n=l.useCallback((t,n)=>{if(1===n.target.nodeType&&(null==(a=n.target)||!a.classList.contains(_r.cell)))return;var a;const i=e.current.getCellParams(t.id,t.field);if(i.cellMode!==qa.Edit){if(xn(n.key)&&n.shiftKey)return n.preventDefault(),void e.current.selectRow(i.id);if(!Ln(n.key)||n.shiftKey)return Ln(n.key)&&n.shiftKey?(n.preventDefault(),void r(i,n)):void("c"===n.key.toLowerCase()&&(n.ctrlKey||n.metaKey)||"a"===n.key.toLowerCase()&&(n.ctrlKey||n.metaKey)&&(n.preventDefault(),e.current.selectRows(e.current.getAllRowIds(),!0)));e.current.publishEvent(o.cellNavigationKeyDown,i,n)}},[e,r]),a=l.useCallback((t,r)=>{uo(r.target)&&(xn(r.key)&&uo(r.target)&&r.preventDefault(),!Ln(r.key)||xn(r.key)||r.shiftKey?Sn(r.key)&&(r.ctrlKey||r.metaKey)&&e.current.toggleColumnMenu(t.field):e.current.publishEvent(o.columnHeaderNavigationKeyDown,t,r))},[e]);Nr(e,o.cellKeyDown,n),Nr(e,o.columnHeaderKeyDown,a)},dl=(e,t)=>{const r=pr(e,"useGridKeyboardNavigation"),n=Dr(e,Gn),a=Dr(e,$r),i=Dr(e,le),u=Dr(e,xo),c=Dr(e,an),s=e=>Sn(e.key)?"ArrowDown":Pn(e.key)?e.shiftKey?"ArrowLeft":"ArrowRight":e.key,d=l.useCallback((o,l)=>{l.preventDefault();const d=e.current.getColumnIndex(o.field),f=c.findIndex(([e])=>e===o.id),p=s(l),m=l.ctrlKey||l.metaKey||l.shiftKey;let g,h=a;if(t.pagination&&a>n.pageSize&&(h=n.pageSize*(n.page+1)),jn(p))g=((e,t)=>{if(!jn(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return Object.assign(Object.assign({},t),{colIndex:t.colIndex-1});case"ArrowRight":return Object.assign(Object.assign({},t),{colIndex:t.colIndex+1});case"ArrowUp":return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex-1});default:return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex+1})}})(p,{colIndex:d,rowIndex:f});else if(Mn(p)){const e="Home"===p?0:i-1;if(m){let r=0;r=0===e?t.pagination?h-n.pageSize:0:h-1,g={colIndex:e,rowIndex:r}}else g={colIndex:e,rowIndex:f}}else{if(!Tn(p)&&!xn(p))throw new Error("Material-UI. Key not mapped to navigation behavior.");g={colIndex:d,rowIndex:f+(p.indexOf("Down")>-1||xn(p)?u.viewportPageSize:-1*u.viewportPageSize)}}if(g.rowIndex<0){const t=e.current.getVisibleColumns()[g.colIndex].field;return void e.current.setColumnHeaderFocus(t,l)}g.rowIndex=g.rowIndex>=h&&h>0?h-1:g.rowIndex,g.colIndex=g.colIndex<=0?0:g.colIndex,g.colIndex=g.colIndex>=i?i-1:g.colIndex,r.debug(`Navigating to next cell row ${g.rowIndex}, col ${g.colIndex}`),e.current.scrollToIndexes(g);const v=e.current.getVisibleColumns()[g.colIndex].field,[y]=c[g.rowIndex];e.current.setCellFocus(y,v)},[e,c,a,t.pagination,n.pageSize,n.page,i,r,u]),f=l.useCallback((t,n)=>{let a;n.preventDefault();const o=e.current.getColumnIndex(t.field),l=s(n);if(jn(l))a=((e,t)=>{if(!jn(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return{colIndex:t.colIndex-1};case"ArrowRight":return{colIndex:t.colIndex+1};case"ArrowDown":return null;default:return Object.assign({},t)}})(l,{colIndex:o});else{if(!Mn(l)){if(Tn(l)){if(l.indexOf("Down")>-1){const t=e.current.getVisibleColumns()[o].field,r=e.current.getRowIdFromRowIndex(u.viewportPageSize-1);e.current.setCellFocus(r,t)}return}throw new Error("Material-UI. Key not mapped to navigation behavior.")}a={colIndex:"Home"===l?0:i-1}}if(!a){const t=e.current.getVisibleColumns()[o].field,[r]=c[0];return void e.current.setCellFocus(r,t)}a.colIndex=Math.max(0,a.colIndex),a.colIndex=a.colIndex>=i?i-1:a.colIndex,r.debug("Navigating to next column row "+a.colIndex),e.current.scrollToIndexes(a);const d=e.current.getVisibleColumns()[a.colIndex].field;e.current.setColumnHeaderFocus(d,n)},[e,i,u,r,c]);Nr(e,o.cellNavigationKeyDown,d),Nr(e,o.columnHeaderNavigationKeyDown,f)};function fl(e,t,r){const n=pr(e,"useGridScrollFn"),a=l.useRef();return[l.useCallback(e=>{var o;e.left===(null===(o=a.current)||void 0===o?void 0:o.left)&&e.top===a.current.top||t&&t.current&&(n.debug(`Moving ${t.current.className} to: ${e.left}-${e.top}`),t.current.style.transform=`translate3d(${-e.left}px, ${-e.top}px, 0px)`,r.current.style.transform=`translate3d(${-e.left}px, 0px, 0px)`,a.current=e)},[t,n,r])]}const pl=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,ml=e=>e.pageCount?Object.assign(Object.assign({},e),{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,gl=(e,t)=>{const r=pr(e,"useGridPage"),[,n,a]=Rr(e),i=Dr(e,ln),u=l.useCallback(e=>{r.debug("Setting page to "+e),n(t=>Object.assign(Object.assign({},t),{pagination:ml(Object.assign(Object.assign({},t.pagination),{page:e}))})),a()},[n,a,r]);l.useEffect(()=>{e.current.updateControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:e=>e.pagination.page,changeEvent:o.pageChange})},[e,t.page,t.onPageChange]),l.useEffect(()=>{n(e=>{const r=void 0!==t.rowCount?t.rowCount:i,n=pl(r,e.pagination.pageSize),a=null==t.page?e.pagination.page:t.page;return Object.assign(Object.assign({},e),{pagination:ml(Object.assign(Object.assign({},e.pagination),{page:a,rowCount:r,pageCount:n}))})}),a()},[n,a,i,t.rowCount,t.page,e]);const c=l.useCallback(e=>{n(t=>{const r=pl(t.pagination.rowCount,e);return Object.assign(Object.assign({},t),{pagination:ml(Object.assign(Object.assign({},t.pagination),{pageCount:r,page:t.pagination.page}))})}),a()},[n,a]);Nr(e,o.pageSizeChange,c),mr(e,{setPage:u},"GridPageApi")};function hl(e,t){const r=pr(e,"useApi"),n=l.useCallback((r,n,a={})=>{if(a.defaultMuiPrevented=!1,a&&(e=>void 0!==e.isPropagationStopped)(a)&&a.isPropagationStopped())return;const o=t.signature===Lr.DataGridPro?{api:e.current}:{};e.current.emit(r,n,a,o)},[e,t.signature]),a=l.useCallback((t,n,a)=>{r.debug(`Binding ${t} event`),e.current.on(t,n,a);const o=e.current;return()=>{r.debug(`Clearing ${t} event`),o.removeListener(t,n)}},[e,r]),i=l.useCallback(t=>{e.current.publishEvent(o.componentError,t)},[e]);l.useEffect(()=>{r.debug("Initializing grid api.");const t=e.current;return()=>{r.info("Unmounting Grid component. Clearing all events listeners."),t.emit(o.unmount),t.removeAllListeners()}},[r,e]),mr(e,{subscribeEvent:a,publishEvent:n,showError:i},"GridCoreApi")}const vl=(e,t)=>{var r,n;const a=pr(e,"useGridContainerProps"),[i,u,c]=Rr(e),s=l.useRef({width:0,height:0}),d=Dr(e,wn),f=Dr(e,ue),p=Dr(e,ln),m=Dr(e,Gn),g=e.current.windowRef,h=null===(n=null===(r=e.current)||void 0===r?void 0:r.rootElementRef)||void 0===n?void 0:n.current,v=!!f,y=l.useMemo(()=>{if(null!=t.scrollbarSize)return t.scrollbarSize;if(!v||!h)return 0;const e=function(e,t){const r=e.createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",t.appendChild(r);const n=r.offsetWidth-r.clientWidth;return t.removeChild(r),n}(Object(w.a)(h),h);return a.debug(`Detected scroll bar size ${e}.`),e},[h,a,t.scrollbarSize,v]),b=l.useCallback(()=>{if(a.debug("Calculating virtual row count."),t.pagination&&(!t.autoPageSize||t.pageSize)){const e=p-m.page*m.pageSize;return e>m.pageSize?m.pageSize:e}return p},[a,t.autoPageSize,t.pagination,t.pageSize,m.page,m.pageSize,p]),O=l.useCallback(e=>{a.debug("Calculating scrollbar sizes.");let r=f>s.current.width;const n={y:0,x:r?y:0};if(0===e)return{hasScrollX:r,hasScrollY:!1,sizes:n};const o=e*d,i=!t.autoPageSize&&!t.autoHeight&&o+n.x>s.current.height;return n.y=i?y:0,r=f+n.y>s.current.width,n.x=r?y:0,a.debug(`Scrollbar size on axis x: ${n.x}, y: ${n.y}`),{hasScrollX:r,hasScrollY:i,sizes:n}},[a,f,t.autoPageSize,t.autoHeight,d,y]),C=l.useCallback((e,r)=>{if(!(null==g?void 0:g.current))return null;a.debug("Calculating container sizes.");const n=g.current.getBoundingClientRect();return s.current={width:n.width,height:n.height},a.debug(`window Size - W: ${s.current.width} H: ${s.current.height} `),{width:s.current.width-r.sizes.y,height:t.autoHeight?e*d:s.current.height-r.sizes.x}},[a,t.autoHeight,d,g]),k=l.useCallback((e,r,n)=>{if(!g||!g.current||0===f||Number.isNaN(f))return null;const o=e*d-s.current.height>2*d&&!t.disableVirtualization;if(t.autoPageSize||t.autoHeight||!o){const o=Math.floor(r.height/d),i=n.hasScrollY||e<o?e:o,l=Math.max(i*d+(t.autoHeight?n.sizes.x:0),1),u={isVirtualized:!1,virtualRowsCount:i,renderingZonePageSize:i,viewportPageSize:i,totalSizes:{width:f,height:l},dataContainerSizes:{width:f,height:l},renderingZoneScrollHeight:l-r.height,renderingZone:{width:f,height:l},windowSizes:s.current,lastPage:1};return a.debug("Fixed container props",u),u}const i=Math.floor(r.height/d),l=i>0?Math.ceil(e/i)-1:0,u=2*i,c=u*d,p=c-r.height;let m=l*p+r.height;const h=e%i;h>0&&(m=m-p+h*d);const v={isVirtualized:o,virtualRowsCount:e,viewportPageSize:i,totalSizes:{width:f,height:m},dataContainerSizes:{width:f,height:m},renderingZonePageSize:u,renderingZone:{width:f,height:c},renderingZoneScrollHeight:p,windowSizes:s.current,lastPage:l};return a.debug("virtualized container props",v),v},[g,f,d,t.autoPageSize,t.autoHeight,t.disableVirtualization,a]),E=l.useCallback((e,t)=>{let r=!1;u(n=>(r=e(n),r?t(n):n)),r&&c()},[c,u]),S=l.useCallback(()=>{a.debug("Refreshing container sizes");const e=b(),t=O(e),r=C(e,t);if(!r)return;E(e=>e.scrollBar!==t,e=>Object.assign(Object.assign({},e),{scrollBar:t})),E(e=>e.viewportSizes!==r,e=>Object.assign(Object.assign({},e),{viewportSizes:r}));const n=k(e,r,t);E(e=>!qt(e.containerSizes,n),e=>Object.assign(Object.assign({},e),{containerSizes:n}))},[k,O,C,b,a,E]);l.useEffect(()=>{S()},[i.columns,t.hideFooter,S,p]),Nr(e,o.debouncedResize,S)},yl=(e,t,r,n,a)=>{const i=pr(e,"useNativeEventListener"),[u,c]=l.useState(!1),s=l.useRef(n),d=l.useCallback(e=>s.current&&s.current(e),[]);l.useEffect(()=>{s.current=n},[n]),l.useEffect(()=>{let n;if(n=Qt(t)?t():t&&t.current?t.current:null,n&&d&&r&&!u){i.debug(`Binding native ${r} event`),n.addEventListener(r,d,a);const t=n;c(!0);const l=()=>{i.debug(`Clearing native ${r} event`),t.removeEventListener(r,d,a)};e.current.subscribeEvent(o.unmount,l)}},[t,d,r,u,i,a,e])},bl=(e,t)=>{const r=pr(e,"useGridPageSize"),[,n,a]=Rr(e),i=Dr(e,ln),u=Dr(e,xo),c=l.useCallback(e=>{r.debug("Setting page size to "+e),n(t=>Object.assign(Object.assign({},t),{pagination:Object.assign(Object.assign({},t.pagination),{pageSize:e})})),a()},[n,a,r]);l.useEffect(()=>{e.current.updateControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:e=>e.pagination.pageSize,changeEvent:o.pageSizeChange})},[e,t.pageSize,t.onPageSizeChange]),l.useEffect(()=>{const r=null==u?void 0:u.viewportPageSize,i=e.current.state.pagination.pageSize;let l=i;null!=t.pageSize?l=t.pageSize:t.autoPageSize&&(l=null!=r?r:0),l!==i&&(t.autoPageSize&&e.current.publishEvent(o.pageSizeChange,r),n(e=>Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{pageSize:l})})),a())},[e,n,a,i,t.autoPageSize,t.pageSize,null==u?void 0:u.viewportPageSize]),mr(e,{setPageSize:c},"GridPageSizeApi")},wl=e=>{const t=pr(e,"useGridPreferencesPanel"),[,r,n]=Rr(e),a=l.useRef(),o=l.useRef(),i=l.useCallback(()=>{t.debug("Hiding Preferences Panel"),r(e=>Object.assign(Object.assign({},e),{preferencePanel:{open:!1}})),n()},[n,t,r]),u=l.useCallback(()=>{o.current=setTimeout(()=>clearTimeout(a.current),0)},[]),c=l.useCallback(()=>{a.current=setTimeout(i,100)},[i]);mr(e,{showPreferences:l.useCallback(e=>{t.debug("Opening Preferences Panel"),u(),r(t=>Object.assign(Object.assign({},t),{preferencePanel:Object.assign(Object.assign({},t.preferencePanel),{open:!0,openedPanelValue:e})})),n()},[u,n,t,r]),hidePreferences:c},"ColumnMenuApi"),l.useEffect(()=>()=>{clearTimeout(a.current),clearTimeout(o.current)},[])};function Ol(e){const t=l.useCallback(t=>({field:t,colDef:e.current.getColumn(t)}),[e]),r=l.useCallback(t=>{const r=e.current.getRow(t);if(!r)throw new Error(`No row with id #${t} found`);return{id:t,columns:e.current.getAllColumns(),row:r,getValue:e.current.getCellValue}},[e]),n=l.useCallback((t,r)=>{const n=e.current.getRow(t);if(!n)throw new Error(`No row with id #${t} found`);const a=pn(e.current.state),o=hn(e.current.state);return{id:t,field:r,row:n,value:n[r],colDef:e.current.getColumn(r),cellMode:e.current.getCellMode(t,r),getValue:e.current.getCellValue,api:e.current,hasFocus:null!==a&&a.field===r&&a.id===t,tabIndex:o&&o.field===r&&o.id===t?0:-1}},[e]),a=l.useCallback((t,r)=>{const n=e.current.getColumn(r),a=e.current.getCellValue(t,r),o=e.current.getRow(t);if(!o)throw new Error(`No row with id #${t} found`);const i=pn(e.current.state),l=hn(e.current.state),u={id:t,field:r,row:o,colDef:n,cellMode:e.current.getCellMode(t,r),getValue:e.current.getCellValue,hasFocus:null!==i&&i.field===r&&i.id===t,tabIndex:l&&l.field===r&&l.id===t?0:-1,value:a,formattedValue:a};return n.valueFormatter&&(u.formattedValue=n.valueFormatter(Object.assign(Object.assign({},u),{api:e.current}))),u.isEditable=n&&e.current.isCellEditable(u),u},[e]),o=l.useCallback((t,r)=>{const a=e.current.getColumn(r);if(!a||!a.valueGetter){const n=e.current.getRow(t);if(!n)throw new Error(`No row with id #${t} found`);return n[r]}return a.valueGetter(n(t,r))},[e,n]),i=l.useCallback(t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(`[role="columnheader"][data-field="${so(t)}"]`)}(e.current.rootElementRef.current,t):null,[e]),u=l.useCallback(t=>e.current.rootElementRef.current?fo(e.current.rootElementRef.current,t):null,[e]),c=l.useCallback((t,r)=>e.current.rootElementRef.current?function(e,{id:t,field:r}){const n=fo(e,t);return n?n.querySelector(`.${_r.cell}[data-field="${so(r)}"]`):null}(e.current.rootElementRef.current,{id:t,field:r}):null,[e]);mr(e,{getCellValue:o,getCellParams:a,getCellElement:c,getRowParams:r,getRowElement:u,getColumnHeaderParams:t,getColumnHeaderElement:i},"GridParamsApi")}function Cl(e,t,r){const n=t?t(e):e.id;return ei(n,e,r),n}function kl(e,t,r){const n=Object.assign(Object.assign({},{idRowsLookup:{},allRows:[],totalRowCount:0}),{totalRowCount:t&&t>e.length?t:e.length});return e.forEach(e=>{const t=Cl(e,r);n.allRows.push(t),n.idRowsLookup[t]=e}),n}const El=(e,t)=>{const r=pr(e,"useGridRows"),[,n,a]=Rr(e),i=Dr(e,qr),u=l.useRef(),c=l.useCallback(e=>{null==u.current&&(u.current=setTimeout(()=>{r.debug("Updating component"),u.current=null,e&&e(),a()},100))},[r,a]),s=l.useRef(i);l.useEffect(()=>()=>clearTimeout(u.current),[]),l.useEffect(()=>{n(e=>(s.current=kl(t.rows,t.rowCount,t.getRowId),Object.assign(Object.assign({},e),{rows:s.current})))},[t.getRowId,t.rows,t.rowCount,n]);const d=l.useCallback(t=>e.current.getSortedRowIds?e.current.getSortedRowIds().indexOf(t):e.current.state.rows.allRows.indexOf(t),[e]),f=l.useCallback(t=>e.current.getSortedRowIds?e.current.getSortedRowIds()[t]:e.current.state.rows.allRows[t],[e]),p=l.useCallback(t=>{var r;return null!==(r=e.current.state.rows.idRowsLookup[t])&&void 0!==r?r:null},[e]),m=l.useCallback(a=>{r.debug("updating all rows, new length "+a.length),s.current.allRows.length>0&&e.current.publishEvent(o.rowsClear);const i=[],l=a.reduce((e,r)=>{const n=Cl(r,t.getRowId);return e[n]=r,i.push(n),e},{}),u=t.rowCount&&t.rowCount>i.length?t.rowCount:i.length;s.current={idRowsLookup:l,allRows:i,totalRowCount:u},n(e=>Object.assign(Object.assign({},e),{rows:s.current})),c(()=>e.current.publishEvent(o.rowsSet))},[r,n,c,e,t.getRowId,t.rowCount]),g=l.useCallback(r=>{const a=r.reduce((e,r)=>{const n=Cl(r,t.getRowId,"A row was provided without id when calling updateRows():");return e[n]=null!=e[n]?Object.assign(Object.assign({},e[n]),r):r,e},{}),i=[],l=[];let u=null;if(Object.entries(a).forEach(([e,t])=>{if("delete"===t._action)return void l.push(e);const r=p(e);r?(u||(u=Object.assign({},s.current.idRowsLookup)),u[e]=Object.assign(Object.assign({},r),t)):i.push(t)}),u&&(s.current.idRowsLookup=u,n(e=>Object.assign(Object.assign({},e),{rows:Object.assign({},s.current)}))),l.length>0||i.length>0){l.forEach(e=>{delete s.current.idRowsLookup[e]});const e=[...Object.values(s.current.idRowsLookup),...i];m(e)}c(()=>e.current.publishEvent(o.rowsUpdate))},[e,c,p,t.getRowId,n,m]),h=l.useCallback(()=>new Map(e.current.state.rows.allRows.map(t=>[t,e.current.state.rows.idRowsLookup[t]])),[e]),v=l.useCallback(()=>e.current.state.rows.totalRowCount,[e]),y=l.useCallback(()=>e.current.state.rows.allRows,[e]);mr(e,{getRowIndex:d,getRowIdFromRowIndex:f,getRow:p,getRowModels:h,getRowsCount:v,getAllRowIds:y,setRows:m,updateRows:g},"GridRowApi")};function Sl(e,t){const r=pr(e,"useGridEditRows"),[,n,a]=Rr(e),i=l.useRef(null),u=l.useRef(null),c=Dr(e,re),s=(r,n)=>{r.cellMode!==qa.View&&(t.editMode===Ua.Row?(u.current=null,i.current=setTimeout(()=>{var t;if((null===(t=u.current)||void 0===t?void 0:t.id)!==r.id){e.current.commitRowChange(r.id,n);const t=e.current.getRowParams(r.id);e.current.publishEvent(o.rowEditStop,t,n)}})):(e.current.commitCellChange(r,n),e.current.publishEvent(o.cellEditStop,r,n)))},d=l.useCallback(e=>{u.current=e},[]),f=$t((e,t)=>{s(e,t)}),p=$t(t=>{const{cell:r}=e.current.state.focus;if(!r)return;const n=e.current.getCellParams(r.id,r.field);s(n,t)}),m=l.useCallback((t,i,l)=>{const u=e.current.getCellMode(t,i)===qa.Edit;l===qa.Edit&&u||l===qa.View&&!u||(r.debug(`Switching cell id: ${t} field: ${i} to mode: ${l}`),n(r=>{const n=Object.assign({},r.editRows);return n[t]=Object.assign({},n[t]),l===qa.Edit?n[t][i]={value:e.current.getCellValue(t,i)}:(delete n[t][i],Object.keys(n[t]).length||delete n[t]),Object.assign(Object.assign({},r),{editRows:n})}),a(),e.current.publishEvent(o.cellModeChange,{id:t,field:i,mode:l,api:e.current}))},[e,a,r,n]),g=l.useCallback((t,r)=>{const o=e.current.getRowMode(t)===$a.Edit;r===$a.Edit&&o||r===$a.View&&!o||(n(n=>{const a=Object.assign({},n.editRows);return r===$a.Edit?(a[t]={},c.forEach(r=>{const n=e.current.getCellParams(t,r.field);n.isEditable&&(a[t][r.field]={value:n.value})})):delete a[t],Object.assign(Object.assign({},n),{editRows:a})}),a())},[e,c,a,n]),h=l.useCallback(r=>t.editMode===Ua.Cell?$a.View:e.current.state.editRows[r]?$a.Edit:$a.View,[e,t.editMode]),v=l.useCallback((t,r)=>{const n=e.current.state.editRows;return n[t]&&n[t][r]?qa.Edit:qa.View},[e]),y=l.useCallback(e=>!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(e)),[t.isCellEditable]),b=l.useCallback((t,r)=>{const n={id:t.id,field:t.field,props:{value:t.value}};e.current.publishEvent(o.editCellPropsChange,n,r)},[e]),w=l.useCallback(t=>{const{id:o,field:i,props:l}=t;r.debug(`Setting cell props on id: ${o} field: ${i}`),n(t=>{const r=e.current.getColumn(i),n=r.valueParser?r.valueParser(l.value,e.current.getCellParams(o,i)):l.value,a=Object.assign({},t.editRows);return a[o]=Object.assign({},t.editRows[o]),a[o][i]=Object.assign(Object.assign({},l),{value:n}),Object.assign(Object.assign({},t),{editRows:a})}),a()},[e,a,r,n]),O=l.useCallback(e=>{w(e)},[w]),C=l.useCallback(e=>{r.debug("Setting row model"),n(t=>Object.assign(Object.assign({},t),{editRows:e})),a()},[a,r,n]),k=l.useCallback(()=>e.current.state.editRows,[e]),E=l.useCallback((t,r)=>{const{id:n,field:a}=t,i=e.current.getEditRowsModel();if(!i[n]||!i[n][a])throw new Error(`Material-UI: Cell at id: ${n} and field: ${a} is not in edit mode.`);const{error:l,value:u}=i[n][a];if(!l){const n=Object.assign(Object.assign({},t),{value:u});return e.current.publishEvent(o.cellEditCommit,n,r),!0}return!1},[e]),S=l.useCallback(n=>{if(t.editMode===Ua.Row)throw new Error("Material-UI: You can't commit changes when the edit mode is 'row'.");const{id:a,field:o}=n,i=e.current.getEditRowsModel(),{value:l}=i[a][o];r.debug(`Setting cell id: ${a} field: ${o} to value: ${null==l?void 0:l.toString()}`);const u=e.current.getRow(a),c=Object.assign(Object.assign({},u),{[o]:l});e.current.updateRows([c])},[e,r,t.editMode]),P=l.useCallback((r,n)=>{if(t.editMode===Ua.Cell)throw new Error("Material-UI: You can't commit changes when the edit mode is 'cell'.");const a=e.current.getEditRowsModel()[r];if(!a)throw new Error(`Material-UI: Row at id: ${r} is not being editted.`);return!Object.values(a).some(e=>!!e.error)&&(e.current.publishEvent(o.rowEditCommit,r,n),!0)},[e,t.editMode]),x=l.useCallback((e,t)=>{e.isEditable&&(m(e.id,e.field,qa.Edit),Nn(t)&&In(t.key)&&w({id:e.id,field:e.field,props:{value:""}}))},[w,m]),j=l.useCallback(t=>{e.current.setRowMode(t.id,$a.Edit)},[e]),M=l.useCallback((t,r)=>{e.current.setRowMode(t.id,$a.View),"Enter"===r.key&&e.current.publishEvent(o.cellNavigationKeyDown,t,r)},[e]),T=l.useCallback(t=>{const r=e.current.getEditRowsModel()[t];if(!r)throw new Error(`Material-UI: Row at id: ${t} is not being editted.`);const n=e.current.getRow(t),a=Object.assign({},n);Object.keys(r).forEach(e=>{a[e]=r[e].value}),e.current.updateRows([a])},[e]),R=l.useCallback((e,t)=>{const r=t.detail>1;e.isEditable&&e.cellMode===qa.View&&r&&t.preventDefault()},[]),D=l.useCallback((r,n)=>{const{id:a,field:i,cellMode:l,isEditable:u}=r;if(!u)return;const c=l===qa.Edit;if(t.editMode===Ua.Row){const t=e.current.getRowParams(r.id);return void(c?"Enter"===n.key?(e.current.commitRowChange(r.id),e.current.publishEvent(o.rowEditStop,t,n)):"Escape"===n.key&&e.current.publishEvent(o.rowEditStop,t,n):"Enter"===n.key&&e.current.publishEvent(o.rowEditStart,t,n))}const s=n.ctrlKey||n.metaKey||n.altKey;var d;if(!c&&(d=n.key,Sn(d)||Rn(d)||In(d))&&!s&&e.current.publishEvent(o.cellEditStart,r,n),!c&&Rn(n.key)&&(e.current.setEditCellValue({id:a,field:i,value:""}),e.current.commitCellChange({id:a,field:i},n),e.current.publishEvent(o.cellEditStop,r,n)),c&&Fn(n.key)){const t={id:a,field:i};if(!e.current.commitCellChange(t,n))return}c&&(e=>An.indexOf(e)>-1)(n.key)&&e.current.publishEvent(o.cellEditStop,r,n)},[e,t.editMode]),I=l.useCallback((t,r)=>{m(t.id,t.field,qa.View),r&&Nn(r)&&(Fn(r.key)?e.current.publishEvent(o.cellNavigationKeyDown,t,r):("Escape"===r.key||Rn(r.key))&&e.current.setCellFocus(t.id,t.field))},[e,m]),A=l.useCallback((r,n)=>{if(r.isEditable)if(t.editMode===Ua.Row){const t=e.current.getRowParams(r.id);e.current.publishEvent(o.rowEditStart,t,n)}else e.current.publishEvent(o.cellEditStart,r,n)},[e,t.editMode]);Nr(e,o.cellKeyDown,D),Nr(e,o.cellMouseDown,R),Nr(e,o.cellDoubleClick,A),Nr(e,o.cellFocusOut,f),Nr(e,o.cellFocusIn,d),Nr(e,o.columnHeaderDragStart,p),Nr(e,o.editCellPropsChange,O),Nr(e,o.cellEditStart,x),Nr(e,o.cellEditStop,I),Nr(e,o.cellEditCommit,S),Nr(e,o.rowEditStart,j),Nr(e,o.rowEditStop,M),Nr(e,o.rowEditCommit,T),zr(e,o.editCellPropsChange,t.onEditCellPropsChange),zr(e,o.cellEditCommit,t.onCellEditCommit),zr(e,o.cellEditStart,t.onCellEditStart),zr(e,o.cellEditStop,t.onCellEditStop),zr(e,o.rowEditCommit,t.onRowEditCommit),zr(e,o.rowEditStart,t.onRowEditStart),zr(e,o.rowEditStop,t.onRowEditStop),mr(e,{setCellMode:m,getCellMode:v,setRowMode:g,getRowMode:h,isCellEditable:y,commitCellChange:E,commitRowChange:P,setEditRowsModel:C,getEditRowsModel:k,setEditCellValue:b},"EditRowApi"),l.useEffect(()=>{e.current.updateControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:e=>e.editRows,changeEvent:o.editRowsModelChange})},[e,t.editRowsModel,t.onEditRowsModelChange]),l.useEffect(()=>{const r=e.current.state.editRows;void 0!==t.editRowsModel&&t.editRowsModel!==r&&e.current.setEditRowsModel(t.editRowsModel||{})},[e,t.editRowsModel])}const Pl=(e,t)=>{const r=pr(e,"useGridSelection"),[,n,a]=Rr(e),i=Dr(e,kn),u=Dr(e,Kr),c=l.useMemo(()=>null==t.selectionModel||Array.isArray(t.selectionModel)?t.selectionModel:[t.selectionModel],[t.selectionModel]),{checkboxSelection:s,disableMultipleSelection:d,disableSelectionOnClick:f,isRowSelectable:p}=i,m=l.useCallback(()=>Kn(e.current.state),[e]),g=l.useCallback(t=>{const{id:o,allowMultipleOverride:i,isSelected:l,isMultipleKey:u}=t;p&&!p(e.current.getRowParams(o))||(r.debug("Selecting row "+o),n(e=>{let t=Jn(e);if(i||!d&&u||s)(null==l?void 0===t[o]:l)?t[o]=o:delete t[o];else{const e=null==l?!u||void 0===t[o]:l;t={},e&&(t[o]=o)}return Object.assign(Object.assign({},e),{selection:Object.values(t)})}),a())},[p,d,e,r,s,a,n]),h=l.useCallback((t,r=!0,n=!1)=>{const a=e.current.getRow(t);a&&g({id:t,row:a,allowMultipleOverride:n,isSelected:r})},[e,g]),v=l.useCallback((t,r=!0,o=!1)=>{const i=p?t.filter(t=>p(e.current.getRowParams(t))):t;d&&i.length>1&&!s||(n(e=>{const t=o?{}:Jn(e);return i.forEach(e=>{r?t[e]=e:void 0!==t[e]&&delete t[e]}),Object.assign(Object.assign({},e),{selection:Object.values(t)})}),a())},[p,d,s,n,a,e]),y=l.useCallback(t=>{e.current.state.selection!==t&&n(e=>Object.assign(Object.assign({},e),{selection:t}))},[n,e]),b=l.useCallback((e,t)=>{f||g({id:e.id,row:e.row,isMultipleKey:t.metaKey||t.ctrlKey})},[f,g]);Nr(e,o.rowClick,b),mr(e,{selectRow:h,getSelectedRows:m,selectRows:v,setSelectionModel:y},"GridSelectionApi"),l.useEffect(()=>{e.current.updateControlState({stateId:"selection",propModel:c,propOnChange:t.onSelectionModelChange,stateSelector:qn,changeEvent:o.selectionChange})},[e,t.onSelectionModelChange,c]),l.useEffect(()=>{n(e=>{const t=qn(e),r=Jn(e);let n=!1;return t.forEach(e=>{u[e]||(delete r[e],n=!0)}),n?Object.assign(Object.assign({},e),{selection:Object.values(r)}):e}),a()},[u,e,n,a]),l.useEffect(()=>{void 0!==c&&e.current.setSelectionModel(c)},[e,c,n]),l.useEffect(()=>{n(t=>{const r=[...t.selection],n=Jn(t);let a=!1;return r.forEach(t=>{!p||p(e.current.getRowParams(t))||(delete n[t],a=!0)}),a?Object.assign(Object.assign({},t),{selection:Object.values(n)}):t}),a()},[e,n,a,p])},xl=(e,t)=>{const r=pr(e,"useGridSorting"),[n,a,i]=Rr(e),u=Dr(e,$r),c=l.useCallback((e,t)=>{const r=n.sorting.sortModel.findIndex(t=>t.field===e);let a=[...n.sorting.sortModel];return r>-1?t?a.splice(r,1,t):a.splice(r,1):a=[...n.sorting.sortModel,t],a},[n.sorting.sortModel]),s=l.useCallback((e,r)=>{const a=n.sorting.sortModel.find(t=>t.field===e.field);if(a){const e=void 0===r?ea(t.sortingOrder,a.sort):r;return null==e?void 0:Object.assign(Object.assign({},a),{sort:e})}return{field:e.field,sort:void 0===r?ea(t.sortingOrder):r}},[n.sorting.sortModel,t.sortingOrder]),d=l.useCallback((t,r)=>({id:t,field:r,value:e.current.getCellValue(t,r),api:e.current}),[e]),f=l.useCallback(e=>(t,r)=>e.reduce((e,n,a)=>{if(0!==e)return e;const{comparator:o}=n,i=t[a],l=r[a];return o(i.value,l.value,i,l)},0),[]),p=l.useCallback(t=>t.map(t=>{const r=e.current.getColumn(t.field);if(!r)throw new Error(`Error sorting: column with field '${t.field}' not found. `);const n="desc"===t.sort?(e,t,n,a)=>-1*r.sortComparator(e,t,n,a):r.sortComparator;return{field:r.field,comparator:n}}),[e]),m=l.useCallback(()=>{let n=e.current.getAllRowIds();if(t.sortingMode===yr.server)return r.debug("Skipping sorting rows as sortingMode = server"),void a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:n})}));const o=e.current.state.sorting.sortModel;if(o.length>0){const e=p(o);r.debug("Sorting rows with ",o),n=n.map(t=>e.map(e=>d(t,e.field))).sort(f(e)).map(e=>e[0].id)}a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:n})})),i()},[e,r,d,a,i,p,f,t.sortingMode]),g=l.useCallback(t=>{a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:t})})),i(),e.current.applySorting()},[a,i,e]),h=l.useCallback((e,r,n)=>{if(!e.sortable)return;const a=s(e,r);let o;o=!n||t.disableMultipleColumnsSorting?a?[a]:[]:c(e.field,a),g(o)},[c,g,s,t.disableMultipleColumnsSorting]),v=l.useCallback(({colDef:e},t)=>{const r=t.shiftKey||t.metaKey||t.ctrlKey;h(e,void 0,r)},[h]),y=l.useCallback(({colDef:e},t)=>{!Sn(t.key)||t.ctrlKey||t.metaKey||h(e,void 0,t.shiftKey)},[h]),b=l.useCallback(()=>{a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:[]})}))},[a]),w=l.useCallback(()=>n.sorting.sortModel,[n.sorting.sortModel]),O=l.useCallback(()=>Object.values(Qr(e.current.state)),[e]),C=l.useCallback(()=>Zr(e.current.state),[e]),k=l.useCallback(()=>{a(e=>{const t=e.sorting.sortModel,r=re(e);let n=t;return t.length>0&&(n=t.reduce((e,t)=>(r.find(e=>e.field===t.field)&&e.push(t),e),[])),Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:n})})})},[a]);Nr(e,o.columnHeaderClick,v),Nr(e,o.columnHeaderKeyDown,y),Nr(e,o.rowsSet,e.current.applySorting),Nr(e,o.rowsClear,b),Nr(e,o.rowsUpdate,e.current.applySorting),Nr(e,o.columnsChange,k),mr(e,{getSortModel:w,getSortedRows:O,getSortedRowIds:C,setSortModel:g,sortColumn:h,applySorting:m},"GridSortApi"),l.useEffect(()=>{e.current.applySorting()},[e,t.rows]),l.useEffect(()=>{u>0&&(r.debug("row changed, applying sortModel"),e.current.applySorting())},[u,e,r]),l.useEffect(()=>{e.current.updateControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:e=>e.sorting.sortModel,changeEvent:o.sortModelChange})},[e,t.sortModel,t.onSortModelChange]),l.useEffect(()=>{const r=e.current.state.sorting.sortModel;void 0!==t.sortModel&&t.sortModel!==r&&g(t.sortModel)},[t.sortModel,e,g])};const jl=(e,t)=>{var r;const n=pr(e,"useGridVirtualization"),a=e.current.columnHeadersElementRef,i=e.current.windowRef,u=e.current.renderingZoneRef,[c,s,d]=Rr(e),f=Dr(e,Gn),p=Dr(e,$r),m=Dr(e,ne),g=Dr(e,ae),h=l.useRef(null),v=l.useRef(null),y=l.useRef(0),[b]=fl(e,u,a),w=l.useCallback(e=>{let t=!1;return s(r=>{const n=Object.assign(Object.assign({},r.rendering),e);return qt(r.rendering,n)?r:(t=!0,Object.assign(Object.assign({},r),{rendering:n}))}),t},[s]),O=l.useCallback(r=>{if(null==e.current.state.containerSizes)return null;let n=0;t.pagination&&null!=f.pageSize&&"client"===t.paginationMode&&(n=f.pageSize*f.page);const a=r*e.current.state.containerSizes.viewportPageSize+n;let o=a+e.current.state.containerSizes.renderingZonePageSize;const i=e.current.state.containerSizes.virtualRowsCount+n;return o>i&&(o=i),{page:r,firstRowIdx:a,lastRowIdx:o}},[e,t.pagination,f.pageSize,t.paginationMode,f.page]),C=l.useCallback(()=>null==e.current.state.containerSizes?null:Object.assign(Object.assign(Object.assign({},h.current),O(e.current.state.rendering.virtualPage)),{paginationCurrentPage:f.page,pageSize:f.pageSize}),[h,O,e,f.page,f.pageSize]),k=l.useCallback(()=>{const e=C();w({renderContext:e})&&(n.debug("reRender: trigger rendering"),d())},[C,n,d,w]),E=l.useCallback(e=>function e(t,r,n=0,a=r.length){if(r.length<=0)return-1;if(n>=a)return n;const o=n+Math.floor((a-n)/2);return t<=r[o]?e(t,r,n,o):e(t,r,o+1,a)}(e,g.positions),[g.positions]),S=l.useCallback(e=>m.length?m[E(e)]:null,[E,m]),P=l.useCallback((r,a)=>{var o,i,l,u;if(!r)return!1;v.current=r;const c=r.windowSizes.width;y.current=a,n.debug(`GridColumns from ${null===(o=S(a))||void 0===o?void 0:o.field} to ${null===(i=S(a+c))||void 0===i?void 0:i.field}`);const s=E(a),d=E(a+c),f=(null===(l=null==h?void 0:h.current)||void 0===l?void 0:l.firstColIdx)||0,p=(null===(u=null==h?void 0:h.current)||void 0===u?void 0:u.lastColIdx)||0,b=t.columnBuffer,w=b>1?b-1:b,O=Math.abs(s-w-f),C=Math.abs(d+w-p);n.debug(`Column buffer: ${b}, tolerance: ${w}`),n.debug(`Previous values  => first: ${f}, last: ${p}`),n.debug(`Current displayed values  => first: ${s}, last: ${d}`),n.debug(`Difference with first: ${O} and last: ${C} `);const k=m.length>0?m.length-1:0,P=s-b>=0?s-b:0,x={leftEmptyWidth:g.positions[P],rightEmptyWidth:0,firstColIdx:P,lastColIdx:d+b>=k?k:d+b};return e.current.state.scrollBar.hasScrollX?x.rightEmptyWidth=g.totalWidth-g.positions[x.lastColIdx]-m[x.lastColIdx].computedWidth:t.disableExtendRowFullWidth||(x.rightEmptyWidth=e.current.state.viewportSizes.width-g.totalWidth),qt(x,h.current)?(n.debug("No rendering needed on columns"),!1):(h.current=x,n.debug("New columns state to render",x),!0)},[e,g.positions,g.totalWidth,S,E,n,t.columnBuffer,t.disableExtendRowFullWidth,m]),x=l.useCallback((r=!1)=>{if(t.disableVirtualization)return;const a=e.current.state,l=a.containerSizes;if(!i||!i.current||!l)return;const u=a.scrollBar,{scrollLeft:c,scrollTop:s}=i.current;n.debug(`Handling scroll Left: ${c} Top: ${s}`);let d=P(l,c);const p=c,m=a.containerSizes.renderingZoneScrollHeight,g=a.rendering.virtualPage,h=m>0?Math.floor(s/m):0,v=s%m,y={left:u.hasScrollX?p:0,top:l.isVirtualized?v:s};l.isVirtualized&&g!==h?(w({virtualPage:h}),n.debug(`Changing page from ${g} to ${h}`),d=!0):(!l.isVirtualized&&g>0&&(n.debug("Virtualization disabled, setting virtualPage to 0"),w({virtualPage:0})),b(y)),w({renderingZoneScroll:y,realScroll:{left:i.current.scrollLeft,top:i.current.scrollTop}}),e.current.publishEvent(o.rowsScroll,y);const O=a.rendering.renderContext&&a.rendering.renderContext.paginationCurrentPage!==f.page;(r||d||O)&&k()},[e,n,f.page,k,b,w,P,i,t.disableVirtualization]),j=l.useCallback(()=>{b({left:0,top:0}),w({virtualPage:0}),i&&i.current&&(i.current.scrollTop=0,i.current.scrollLeft=0),w({renderingZoneScroll:{left:0,top:0}})},[b,w,i]),M=l.useRef(null),T=l.useCallback(()=>{t.disableVirtualization||i.current.scrollLeft<0||i.current.scrollTop<0||(M.current||s(e=>Object.assign(Object.assign({},e),{isScrolling:!0})),clearTimeout(M.current),M.current=setTimeout(()=>{M.current=null,s(e=>Object.assign(Object.assign({},e),{isScrolling:!1})),d()},300),e.current.updateViewport&&e.current.updateViewport())},[t.disableVirtualization,i,e,s,d]),R=l.useCallback(()=>c.containerSizes,[c.containerSizes]),D=l.useCallback(()=>c.rendering.renderContext||void 0,[c.rendering.renderContext]);Kt(()=>{t.disableVirtualization||u&&u.current&&(n.debug("applying scrollTop ",c.rendering.renderingZoneScroll.top),b(c.rendering.renderingZoneScroll))}),mr(e,{getContainerPropsState:R,getRenderContextState:D,updateViewport:x},"GridVirtualizationApi"),l.useEffect(()=>{var t;(null===(t=c.rendering.renderContext)||void 0===t?void 0:t.paginationCurrentPage)!==f.page&&e.current.updateViewport&&(n.debug(`State paginationState.page changed to ${f.page}. `),e.current.updateViewport(!0),j())},[e,f.page,null===(r=c.rendering.renderContext)||void 0===r?void 0:r.paginationCurrentPage,n,j]),l.useEffect(()=>(e.current.updateViewport&&(n.debug(`totalRowCount has changed to ${p}, updating viewport.`),e.current.updateViewport(!0)),()=>{clearTimeout(M.current)}),[n,p,c.viewportSizes,c.scrollBar,c.containerSizes,e]),yl(e,i,"scroll",T,{passive:!0});const I=l.useCallback(()=>{n.debug("Clearing previous renderedColRef"),h.current=null},[n,h]);Nr(e,o.columnsChange,I),Nr(e,o.debouncedResize,I)};function Ml(e){const{clientHeight:t,scrollTop:r,offsetHeight:n,offsetTop:a}=e,o=a+n;return o-t>r?o-t:a<r?a:void 0}const Tl=(e,t)=>{const r=pr(e,"useGridScroll"),n=e.current.columnHeadersElementRef,a=e.current.windowRef,o=Dr(e,wn),i=Dr(e,Gn),u=Dr(e,$r),c=Dr(e,ne),s=Dr(e,ae),d=l.useCallback(n=>{if(0===u||0===c.length)return!1;r.debug(`Scrolling to cell at row ${n.rowIndex}, col: ${n.colIndex} `);const l={};if(null!=n.colIndex&&(l.left=Ml({clientHeight:a.current.clientWidth,scrollTop:a.current.scrollLeft,offsetHeight:c[n.colIndex].computedWidth,offsetTop:s.positions[n.colIndex]})),null!=n.rowIndex){const e=t.pagination?n.rowIndex-i.page*i.pageSize:n.rowIndex;l.top=Ml({clientHeight:a.current.clientHeight,scrollTop:a.current.scrollTop,offsetHeight:o,offsetTop:o*e})}return(void 0!==typeof l.left||void 0!==typeof l.top)&&(e.current.scroll(l),!0)},[u,c,r,e,t.pagination,i.page,i.pageSize,a,s.positions,o]),f=l.useCallback(e=>{a.current&&null!=e.left&&n.current&&(n.current.scrollLeft=e.left,a.current.scrollLeft=e.left,r.debug("Scrolling left: "+e.left)),a.current&&null!=e.top&&(a.current.scrollTop=e.top,r.debug("Scrolling top: "+e.top)),r.debug("Scrolling, updating container, and viewport")},[a,n,r]),p=l.useCallback(()=>Ar(e.current.getState()),[e]);mr(e,{scroll:f,scrollToIndexes:d,getScrollPosition:p},"GridScrollApi");const m=l.useCallback(e=>{e.target.scrollLeft=0,e.target.scrollTop=0},[]);yl(e,()=>{var t,r,n;return null===(n=null===(r=null===(t=e.current)||void 0===t?void 0:t.renderingZoneRef)||void 0===r?void 0:r.current)||void 0===n?void 0:n.parentElement},"scroll",m),yl(e,()=>{var t,r;return null===(r=null===(t=e.current)||void 0===t?void 0:t.columnHeadersContainerElementRef)||void 0===r?void 0:r.current},"scroll",m)};class Rl extends class{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(e,t){Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t)}removeListener(e,t){if(Array.isArray(this.events[e])){const r=this.events[e].indexOf(t);r>-1&&this.events[e].splice(r,1)}}removeAllListeners(e){e?Array.isArray(this.events[e])&&(this.events[e]=[]):this.events={}}emit(e,...t){if(Array.isArray(this.events[e])){const r=this.events[e].slice(),n=r.length;for(let e=0;e<n;e+=1)r[e].apply(this,t)}}once(e,t){const r=this;this.on(e,(function n(...a){r.removeListener(e,n),t.apply(r,a)}))}}{on(e,t,r){Array.isArray(this.events[e])||(this.events[e]=[]),r&&r.isFirst?this.events[e].splice(0,0,t):this.events[e].push(t)}}function Dl(...e){const t=e[0],r=l.useRef(new Rl);return l.useImperativeHandle(t,()=>r.current,[r]),r}function Il(e,t){if(void 0!==t&&e.changedTouches){for(let r=0;r<e.changedTouches.length;r+=1){const n=e.changedTouches[r];if(n.identifier===t)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}const Al=(e,t)=>{const r=pr(e,"useGridColumnResize"),[,n,a]=Rr(e),i=l.useRef(),u=l.useRef(),c=l.useRef(),s=l.useRef(),d=l.useRef(),f=l.useRef(),p=e=>{r.debug(`Updating width to ${e} for col ${i.current.field}`),i.current.computedWidth=e,i.current.width=e,i.current.flex=void 0,u.current.style.width=e+"px",u.current.style.minWidth=e+"px",u.current.style.maxWidth=e+"px",c.current.forEach(t=>{const r=t;r.style.width=e+"px",r.style.minWidth=e+"px",r.style.maxWidth=e+"px"})},m=$t(t=>{O(),e.current.updateColumn(i.current),clearTimeout(d.current),d.current=setTimeout(()=>{var r;e.current.publishEvent(o.columnResizeStop,null,t),e.current.publishEvent(o.columnWidthChange,{element:u.current,colDef:i.current,width:null===(r=i.current)||void 0===r?void 0:r.computedWidth},t)}),r.debug(`Updating col ${i.current.field} with new width: ${i.current.width}`)}),g=$t(t=>{var r;if(0===t.buttons)return void m(t);let n=s.current+t.clientX-u.current.getBoundingClientRect().left;n=Math.max(null===(r=i.current)||void 0===r?void 0:r.minWidth,n),p(n),e.current.publishEvent(o.columnResize,{element:u.current,colDef:i.current,width:n},t)}),h=$t(({colDef:t},n)=>{var a;if(0!==n.button)return;if(!n.currentTarget.classList.contains(_r["columnSeparator--resizable"]))return;n.preventDefault(),u.current=lo(n.currentTarget,_r.columnHeader),r.debug("Start Resize on col "+t.field),e.current.publishEvent(o.columnResizeStart,{field:t.field},n),i.current=t,u.current=null===(a=e.current.columnHeadersElementRef)||void 0===a?void 0:a.current.querySelector(`[data-field="${t.field}"]`),c.current=co(u.current);const l=Object(w.a)(e.current.rootElementRef.current);l.body.style.cursor="col-resize",s.current=i.current.computedWidth-(n.clientX-u.current.getBoundingClientRect().left),l.addEventListener("mousemove",g),l.addEventListener("mouseup",m)}),v=$t(t=>{Il(t,f.current)&&(O(),e.current.updateColumn(i.current),clearTimeout(d.current),d.current=setTimeout(()=>{e.current.publishEvent(o.columnResizeStop,null,t)}),r.debug(`Updating col ${i.current.field} with new width: ${i.current.width}`))}),y=$t(t=>{var r;const n=Il(t,f.current);if(!n)return;if("mousemove"===t.type&&0===t.buttons)return void v(t);let a=s.current+n.x-u.current.getBoundingClientRect().left;a=Math.max(null===(r=i.current)||void 0===r?void 0:r.minWidth,a),p(a),e.current.publishEvent(o.columnResize,{element:u.current,colDef:i.current,width:a},t)}),b=$t(t=>{var n;if(!lo(t.target,_r["columnSeparator--resizable"]))return;t.preventDefault();const a=t.changedTouches[0];null!=a&&(f.current=a.identifier),u.current=lo(t.target,_r.columnHeader);const l=u.current.getAttribute("data-field"),d=e.current.getColumn(l);r.debug("Start Resize on col "+d.field),e.current.publishEvent(o.columnResizeStart,{field:l},t),i.current=d,u.current=function(e,t){return e.querySelector(`[data-field="${t}"]`)}(null===(n=e.current.columnHeadersElementRef)||void 0===n?void 0:n.current,d.field),c.current=co(u.current),s.current=i.current.computedWidth-(a.clientX-u.current.getBoundingClientRect().left);const p=Object(w.a)(t.currentTarget);p.addEventListener("touchmove",y),p.addEventListener("touchend",v)}),O=l.useCallback(()=>{const t=Object(w.a)(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",g),t.removeEventListener("mouseup",m),t.removeEventListener("touchmove",y),t.removeEventListener("touchend",v)},[e,g,m,y,v]),C=l.useCallback(({field:e})=>{n(t=>Object.assign(Object.assign({},t),{columnResize:Object.assign(Object.assign({},t.columnResize),{resizingColumnField:e})})),a()},[n,a]),k=l.useCallback(()=>{n(e=>Object.assign(Object.assign({},e),{columnResize:Object.assign(Object.assign({},e.columnResize),{resizingColumnField:""})})),a()},[n,a]);l.useEffect(()=>()=>{clearTimeout(d.current),O()},[e,b,O]),yl(e,()=>{var t,r;return null===(r=null===(t=e.current)||void 0===t?void 0:t.columnHeadersElementRef)||void 0===r?void 0:r.current},"touchstart",b,{passive:!1}),Nr(e,o.columnSeparatorMouseDown,h),Nr(e,o.columnResizeStart,C),Nr(e,o.columnResizeStop,k),zr(e,o.columnResize,t.onColumnResize),zr(e,o.columnWidthChange,t.onColumnWidthChange)},_l=l.memo((function(e){const t=Z(),r=Hn(),[n]=r.sortingOrder,a="asc"===n?null==t?void 0:t.current.components.ColumnSortedAscendingIcon:null==t?void 0:t.current.components.ColumnSortedDescendingIcon;return a?l.createElement(a,Object.assign({},e)):null})),Fl=l.forwardRef((function(e,t){const{message:r}=e,n=Xn(e,["message"]),a=Z().current.getLocaleText("errorOverlayDefaultLabel");return l.createElement(mi,Object.assign({ref:t},n),r||a)})),Ll=l.forwardRef((function(e,t){const r=Z().current.getLocaleText("noResultsOverlayLabel");return l.createElement(mi,Object.assign({ref:t},e),r)})),Nl={BooleanCellFalseIcon:ya,BooleanCellTrueIcon:ka,Checkbox:P.a,ColumnFilteredIcon:ua,ColumnMenu:Oi,ColumnMenuIcon:va,ColumnResizeIcon:pa,ColumnSelectorIcon:fa,ColumnSortedAscendingIcon:oa,ColumnSortedDescendingIcon:ia,ColumnsPanel:Ai,ColumnUnsortedIcon:_l,DensityComfortableIcon:ha,DensityCompactIcon:ma,DensityStandardIcon:ga,ErrorOverlay:Fl,ExportIcon:Ca,FilterPanel:Hi,Footer:Yi,Header:Xi,LoadingOverlay:Zi,NoResultsOverlay:Ll,NoRowsOverlay:Qi,OpenFilterButtonIcon:la,Pagination:tl,Panel:Li,PreferencesPanel:Ni},Bl=(e,t)=>{const r=l.useMemo(()=>{var e,r;return{BooleanCellTrueIcon:t.components&&t.components.BooleanCellTrueIcon||Nl.BooleanCellTrueIcon,BooleanCellFalseIcon:t.components&&t.components.BooleanCellFalseIcon||Nl.BooleanCellFalseIcon,ColumnFilteredIcon:t.components&&t.components.ColumnFilteredIcon||Nl.ColumnFilteredIcon,ColumnMenuIcon:t.components&&t.components.ColumnMenuIcon||Nl.ColumnMenuIcon,ColumnResizeIcon:t.components&&t.components.ColumnResizeIcon||Nl.ColumnResizeIcon,ColumnSelectorIcon:t.components&&t.components.ColumnSelectorIcon||Nl.ColumnSelectorIcon,ColumnUnsortedIcon:void 0===(null===(e=t.components)||void 0===e?void 0:e.ColumnUnsortedIcon)?Nl.ColumnUnsortedIcon:null===(r=t.components)||void 0===r?void 0:r.ColumnUnsortedIcon,ColumnSortedAscendingIcon:t.components&&t.components.ColumnSortedAscendingIcon||Nl.ColumnSortedAscendingIcon,ColumnSortedDescendingIcon:t.components&&t.components.ColumnSortedDescendingIcon||Nl.ColumnSortedDescendingIcon,DensityComfortableIcon:t.components&&t.components.DensityComfortableIcon||Nl.DensityComfortableIcon,DensityCompactIcon:t.components&&t.components.DensityCompactIcon||Nl.DensityCompactIcon,DensityStandardIcon:t.components&&t.components.DensityStandardIcon||Nl.DensityStandardIcon,ExportIcon:t.components&&t.components.ExportIcon||Nl.ExportIcon,OpenFilterButtonIcon:t.components&&t.components.OpenFilterButtonIcon||Nl.OpenFilterButtonIcon,Checkbox:t.components&&t.components.Checkbox||Nl.Checkbox,ColumnMenu:t.components&&t.components.ColumnMenu||Nl.ColumnMenu,ErrorOverlay:t.components&&t.components.ErrorOverlay||Nl.ErrorOverlay,Footer:t.components&&t.components.Footer||Nl.Footer,Header:t.components&&t.components.Header||Nl.Header,Toolbar:t.components&&t.components.Toolbar,PreferencesPanel:t.components&&t.components.PreferencesPanel||Nl.PreferencesPanel,LoadingOverlay:t.components&&t.components.LoadingOverlay||Nl.LoadingOverlay,NoResultsOverlay:t.components&&t.components.NoResultsOverlay||Nl.NoResultsOverlay,NoRowsOverlay:t.components&&t.components.NoRowsOverlay||Nl.NoRowsOverlay,Pagination:t.components&&t.components.Pagination||Nl.Pagination,FilterPanel:t.components&&t.components.FilterPanel||Nl.FilterPanel,ColumnsPanel:t.components&&t.components.ColumnsPanel||Nl.ColumnsPanel,Panel:t.components&&t.components.Panel||Nl.Panel}},[t.components]);e.current.components=r,e.current.componentsProps=t.componentsProps},zl=()=>{const e=Z(),t=Dr(e,kn),r=Dr(e,Yr),n=Dr(e,ne),[a]=Rr(e);return l.useMemo(()=>({state:a,rows:r,columns:n,options:t,apiRef:e,rootElement:e.current.rootElementRef}),[a,r,n,t,e])},Hl=(e,t)=>{var r,n;return"v5"===tr()?{components:{MuiDataGrid:{defaultProps:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(r=null==t?void 0:t.components)||void 0===r?void 0:r.MuiTablePagination.defaultProps)||{}})}}}}:{props:{MuiDataGrid:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(n=null==t?void 0:t.props)||void 0===n?void 0:n.MuiTablePagination)||{}})}}}},Wl=Hl({noRowsLabel:"  ",noResultsOverlayLabel:"    .",errorOverlayDefaultLabel:" .",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>e+"  ",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"  CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:" ",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:"",filterOperatorAfter:" ",filterOperatorOnOrAfter:"  ",filterOperatorBefore:"",filterOperatorOnOrBefore:"  ",filterOperatorIsEmpty:"",filterOperatorIsNotEmpty:" ",filterValueAny:"",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"  ASC",columnMenuSortDesc:"  DESC",columnHeaderFiltersTooltipActive:e=>e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>e.toLocaleString()+"  ",footerTotalRows:" :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()}  ${t.toLocaleString()}`,checkboxSelectionHeaderName:"",booleanCellTrueLabel:"",booleanCellFalseLabel:""},$.enUS),Vl=Hl({noRowsLabel:" ",errorOverlayDefaultLabel:" .",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:"   ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>e+"  ",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:"  ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:" ",filterOperatorAfter:" ",filterOperatorOnOrAfter:"   ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"   ",filterPanelInputLabel:"",filterPanelInputPlaceholder:"  ",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"   ",columnMenuSortDesc:"   ",columnHeaderFiltersTooltipActive:e=>e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?e.toLocaleString()+"  ":e.toLocaleString()+"  ",footerTotalRows:" R:"},$.bgBG),Gl=Hl({noRowsLabel:"dn zznamy",noResultsOverlayLabel:"Nenali se adn vsledky.",errorOverlayDefaultLabel:"Stala sa nepedvdan chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn",toolbarDensityStandard:"Standartn",toolbarDensityComfortable:"Komfortn",toolbarColumns:"Sloupce",toolbarColumnsLabel:"Vybrat sloupec",toolbarFilters:"Filtry",toolbarFiltersLabel:"Zobrazit filtry",toolbarFiltersTooltipHide:"Skrt filtry",toolbarFiltersTooltipShow:"Zobrazit filtry",toolbarFiltersTooltipActive:e=>{let t="aktivnch filtr";return e>1&&e<5?t="aktivn filtry":1===e&&(t="aktivn filtr"),`${e} ${t}`},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Sthnout jako CSV",columnsPanelTextFieldLabel:"Najt sloupec",columnsPanelTextFieldPlaceholder:"Nzev sloupce",columnsPanelDragIconLabel:"Uspodat sloupce",columnsPanelShowAllButton:"Zobrazit ve",columnsPanelHideAllButton:"Skrt ve",filterPanelAddFilter:"Pidat filtr",filterPanelDeleteIconLabel:"Odstranit",filterPanelOperators:"Opertory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Nebo",filterPanelColumns:"Sloupce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtru",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn se",filterOperatorStartsWith:"zan s",filterOperatorEndsWith:"kon na",filterOperatorIs:"je",filterOperatorNot:"nen",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na nebo po",filterOperatorBefore:"je ped",filterOperatorOnOrBefore:"je na nebo dve",filterValueAny:"jakkoliv",filterValueTrue:"ano",filterValueFalse:"ne",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazit sloupce",columnMenuFilter:"Filtr",columnMenuHideColumn:"Skrt",columnMenuUnsort:"Zruit filtry",columnMenuSortAsc:"Seadit vzestupn",columnMenuSortDesc:"Seadit sestupn",columnHeaderFiltersTooltipActive:e=>{let t="aktivnch filtr";return e>1&&e<5?t="aktivn filtry":1===e&&(t="aktivn filtr"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobrazit filtry",columnHeaderSortIconLabel:"Filtrovat",footerRowSelected:e=>{let t="vybranch zznam";return e>1&&e<5?t="vybran zznamy":1===e&&(t="vybran zznam"),`${e} ${t}`},footerTotalRows:"Celkem dk:",checkboxSelectionHeaderName:"Vbr dku",booleanCellTrueLabel:"ano",booleanCellFalseLabel:"ne"},$.csCZ),Ul=Hl({noRowsLabel:"Keine Eintrge",noResultsOverlayLabel:"Keine Ergebnisse gefunden.",errorOverlayDefaultLabel:"Ein unerwarteter Fehler ist aufgetreten.",toolbarDensity:"Zeilenhhe",toolbarDensityLabel:"Zeilenhhe",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Breit",toolbarColumns:"Spalten",toolbarColumnsLabel:"Zeige Spaltenauswahl",toolbarFilters:"Filter",toolbarFiltersLabel:"Zeige Filter",toolbarFiltersTooltipHide:"Verberge Filter",toolbarFiltersTooltipShow:"Zeige Filter",toolbarFiltersTooltipActive:e=>1!==e?e+" aktive Filter":e+" aktiver Filter",toolbarExport:"Exportieren",toolbarExportLabel:"Exportieren",toolbarExportCSV:"Download als CSV",columnsPanelTextFieldLabel:"Finde Spalte",columnsPanelTextFieldPlaceholder:"Spaltenberschrift",columnsPanelDragIconLabel:"Spalte umsortieren",columnsPanelShowAllButton:"Zeige alle",columnsPanelHideAllButton:"Verberge alle",filterPanelAddFilter:"Filter hinzufgen",filterPanelDeleteIconLabel:"Lschen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"Und",filterPanelOperatorOr:"Oder",filterPanelColumns:"Spalten",filterPanelInputLabel:"Wert",filterPanelInputPlaceholder:"Wert filtern",filterOperatorContains:"beinhaltet",filterOperatorEquals:"ist gleich",filterOperatorStartsWith:"beginnt mit",filterOperatorEndsWith:"endet mit",filterOperatorIs:"ist",filterOperatorNot:"ist nicht",filterOperatorOnOrAfter:"ist an oder nach",filterOperatorBefore:"ist vor",filterOperatorOnOrBefore:"ist an oder vor",filterOperatorAfter:"ist nach",filterOperatorIsEmpty:"ist leer",filterOperatorIsNotEmpty:"ist nicht leer",columnMenuLabel:"Men",columnMenuShowColumns:"Zeige alle Spalten",columnMenuFilter:"Filter",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Sortierung deaktivieren",columnMenuSortAsc:"Sortiere aufsteigend",columnMenuSortDesc:"Sortiere absteigend",columnHeaderFiltersTooltipActive:e=>1!==e?e+" aktive Filter":e+" aktiver Filter",columnHeaderFiltersLabel:"Zeige Filter",columnHeaderSortIconLabel:"Sortieren",footerRowSelected:e=>1!==e?e.toLocaleString()+" Eintrge ausgewhlt":e.toLocaleString()+" Eintrag ausgewhlt",footerTotalRows:"Gesamt:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} von ${t.toLocaleString()}`},$.deDE),ql=Hl({noRowsLabel:"  ",errorOverlayDefaultLabel:"  .",toolbarDensity:" ",toolbarDensityLabel:" ",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"  CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:" ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:" ",filterOperatorAfter:" ",filterOperatorOnOrAfter:"   ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"   ",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"   ",columnMenuSortDesc:"   ",columnHeaderFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?e.toLocaleString()+"  ":e.toLocaleString()+"  ",footerTotalRows:" :"}),$l=Hl(hr,$.enUS),Kl=Hl({noRowsLabel:"Sin filas",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:e=>e>1?e+" filtros activos":e+" filtro activo",toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",columnsPanelTextFieldLabel:"Columna de bsqueda",columnsPanelTextFieldPlaceholder:"Ttulo de columna",columnsPanelDragIconLabel:"Reorder columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"est vaco",filterOperatorIsNotEmpty:"no esta vaco",columnMenuLabel:"Men",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar ASC",columnMenuSortDesc:"Ordenar DESC",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtros activos":e+" filtro activo",columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>e>1?e.toLocaleString()+" filas seleccionadas":e.toLocaleString()+" fila seleccionada",footerTotalRows:"Filas Totales:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`},$.esES),Jl=Hl({noRowsLabel:"Pas de rsultats",noResultsOverlayLabel:"Aucun rsultat.",errorOverlayDefaultLabel:"Une erreur est apparue.",toolbarDensity:"Densit",toolbarDensityLabel:"Densit",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Cacher les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:e=>e>1?e+" filtres actifs":e+" filtre actif",toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"Tlcharger en CSV",columnsPanelTextFieldLabel:"Chercher colonne",columnsPanelTextFieldPlaceholder:"Titre de la colonne",columnsPanelDragIconLabel:"Rorganiser la colonne",columnsPanelShowAllButton:"Tout afficher",columnsPanelHideAllButton:"Tout cacher",filterPanelAddFilter:"Ajouter un filtre",filterPanelDeleteIconLabel:"Supprimer",filterPanelOperators:"Oprateurs",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonnes",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorEquals:"gal ",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorOnOrAfter:"gal ou postrieur",filterOperatorAfter:"postrieur",filterOperatorOnOrBefore:"gal ou antrieur",filterOperatorBefore:"antrieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",columnMenuLabel:"Menu",columnMenuShowColumns:"Afficher les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Cacher",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtres actifs":e+" filtre actif",columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:e=>e>1?e.toLocaleString()+" lignes slectionnes":e.toLocaleString()+" ligne slectionne",footerTotalRows:"Lignes totales :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} sur ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Slection"},$.frFR),Yl=Hl({noRowsLabel:"Nessun record",noResultsOverlayLabel:"Nessun record trovato.",errorOverlayDefaultLabel:"Si  verificato un errore.",toolbarDensity:"Densit",toolbarDensityLabel:"Densit",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonne",toolbarColumnsLabel:"Seleziona le colonne",toolbarFilters:"Filtri",toolbarFiltersLabel:"Mostra i filtri",toolbarFiltersTooltipHide:"Nascondi i filtri",toolbarFiltersTooltipShow:"Mostra i filtri",toolbarFiltersTooltipActive:e=>e>1?e+" filtri attivi":e+" filtro attivo",columnsPanelTextFieldLabel:"Cerca colonna",columnsPanelTextFieldPlaceholder:"Titolo della colonna",columnsPanelDragIconLabel:"Riordina la colonna",columnsPanelShowAllButton:"Mostra tutto",columnsPanelHideAllButton:"Nascondi tutto",filterPanelAddFilter:"Aggiungi un filtro",filterPanelDeleteIconLabel:"Rimuovi",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"E (and)",filterPanelOperatorOr:"O (or)",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valore",filterPanelInputPlaceholder:"Filtra il valore",filterOperatorContains:"contiene",filterOperatorEquals:"uguale a",filterOperatorStartsWith:"comincia per",filterOperatorEndsWith:"termina per",filterOperatorIs:"uguale a",filterOperatorNot:"diversa da",filterOperatorOnOrAfter:"a partire dal",filterOperatorAfter:"dopo il",filterOperatorOnOrBefore:"fino al",filterOperatorBefore:"prima del",filterOperatorIsEmpty:" vuoto",filterOperatorIsNotEmpty:"non  vuoto",columnMenuLabel:"Menu",columnMenuShowColumns:"Mostra le colonne",columnMenuFilter:"Filtra",columnMenuHideColumn:"Nascondi",columnMenuUnsort:"Annulla l'ordinamento",columnMenuSortAsc:"Ordinamento crescente",columnMenuSortDesc:"Ordinamento decrescente",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtri attivi":e+" filtro attivo",columnHeaderFiltersLabel:"Mostra i filtri",columnHeaderSortIconLabel:"Ordina",footerRowSelected:e=>e>1?e.toLocaleString()+" record selezionati":e.toLocaleString()+" record selezionato",footerTotalRows:"Record totali :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} di ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleziona"},$.itIT),Xl=Hl({noRowsLabel:"",errorOverlayDefaultLabel:"",toolbarDensity:"",toolbarDensityLabel:"",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:"",toolbarFilters:"",toolbarFiltersLabel:"",toolbarFiltersTooltipHide:"",toolbarFiltersTooltipShow:"",toolbarFiltersTooltipActive:e=>e+"",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"CSV",columnsPanelTextFieldLabel:"",columnsPanelTextFieldPlaceholder:"...",columnsPanelDragIconLabel:"",columnsPanelShowAllButton:"",columnsPanelHideAllButton:"",filterPanelAddFilter:"",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:"...",filterOperatorContains:"...",filterOperatorEquals:"...",filterOperatorStartsWith:"...",filterOperatorEndsWith:"...",filterOperatorIs:"...",filterOperatorNot:"...",filterOperatorAfter:"...",filterOperatorOnOrAfter:"...",filterOperatorBefore:"...",filterOperatorOnOrBefore:"...",columnMenuLabel:"",columnMenuShowColumns:"",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:"",columnMenuSortAsc:"",columnMenuSortDesc:"",columnHeaderFiltersTooltipActive:e=>e+"",columnHeaderFiltersLabel:"",columnHeaderSortIconLabel:"",footerRowSelected:e=>e+"",footerTotalRows:":"},$.jaJP),Zl=Hl({noRowsLabel:"Geen resultaten.",errorOverlayDefaultLabel:"Er deed zich een fout voor.",toolbarDensity:"Grootte",toolbarDensityLabel:"Grootte",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Normaal",toolbarDensityComfortable:"Breed",toolbarColumns:"Kolommen",toolbarColumnsLabel:"Kies kolommen",toolbarFilters:"Filters",toolbarFiltersLabel:"Toon filters",toolbarFiltersTooltipHide:"Verberg filters",toolbarFiltersTooltipShow:"Toon filters",toolbarFiltersTooltipActive:e=>e>1?e+" actieve filters":e+" filter actief",columnsPanelTextFieldLabel:"Zoek kolom",columnsPanelTextFieldPlaceholder:"Kolomtitel",columnsPanelDragIconLabel:"Kolom herschikken",columnsPanelShowAllButton:"Alles tonen",columnsPanelHideAllButton:"Alles verbergen",filterPanelAddFilter:"Filter toevoegen",filterPanelDeleteIconLabel:"Verwijderen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"En",filterPanelOperatorOr:"Of",filterPanelColumns:"Kolommen",filterPanelInputLabel:"Waarde",filterPanelInputPlaceholder:"Filter waarde",filterOperatorContains:"bevat",filterOperatorEquals:"gelijk aan",filterOperatorStartsWith:"begint met",filterOperatorEndsWith:"eindigt met",filterOperatorIs:"is",filterOperatorNot:"is niet",filterOperatorOnOrAfter:"is gelijk of er voor",filterOperatorAfter:"is voor",filterOperatorOnOrBefore:"is gelijk of er na",filterOperatorBefore:"is na",columnMenuLabel:"Menu",columnMenuShowColumns:"Toon kolommen",columnMenuFilter:"Filteren",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Annuleer sortering",columnMenuSortAsc:"Oplopend sorteren",columnMenuSortDesc:"Aflopend sorteren",columnHeaderFiltersTooltipActive:e=>e>1?e+" actieve filters":e+" filter actief",columnHeaderFiltersLabel:"Toon filters",columnHeaderSortIconLabel:"Sorteren",footerRowSelected:e=>e>1?e.toLocaleString()+" rijen geselecteerd":e.toLocaleString()+" rij geselecteerd",footerTotalRows:"Totaal:"},$.nlNL),Ql={noRowsLabel:"Brak danych",errorOverlayDefaultLabel:"Wystpi bd.",toolbarDensity:"Wysoko rzdu",toolbarDensityLabel:"Wysoko rzdu",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfort",toolbarColumns:"Kolumny",toolbarColumnsLabel:"Zaznacz kolumny",toolbarFilters:"Filtry",toolbarFiltersLabel:"Poka filtry",toolbarFiltersTooltipHide:"Ukryj filtry",toolbarFiltersTooltipShow:"Poka filtry",toolbarFiltersTooltipActive:e=>"Liczba aktywnych filtrw: "+e,toolbarExport:"Eksportuj",toolbarExportLabel:"Eksportuj",toolbarExportCSV:"Pobierz jako plik CSV",columnsPanelTextFieldLabel:"Znajd kolumn",columnsPanelTextFieldPlaceholder:"Tytu kolumny",columnsPanelDragIconLabel:"Zmie kolejno kolumn",columnsPanelShowAllButton:"Poka wszystko",columnsPanelHideAllButton:"Ukryj wszystko",filterPanelAddFilter:"Dodaj filtr",filterPanelDeleteIconLabel:"Usu",filterPanelOperators:"Operator",filterPanelOperatorAnd:"I",filterPanelOperatorOr:"Lub",filterPanelColumns:"Kolumny",filterPanelInputLabel:"Warto",filterPanelInputPlaceholder:"Filtrowana warto",filterOperatorContains:"zawiera",filterOperatorEquals:"rwna si",filterOperatorStartsWith:"zaczyna si od",filterOperatorEndsWith:"koczy si na",filterOperatorIs:"rwna si",filterOperatorNot:"rne",filterOperatorAfter:"wiksze ni",filterOperatorOnOrAfter:"wiksze lub rwne",filterOperatorBefore:"mniejsze ni",filterOperatorOnOrBefore:"mniejsze lub rwne",columnMenuLabel:"Menu",columnMenuShowColumns:"Poka wszystkie kolumny",columnMenuFilter:"Filtr",columnMenuHideColumn:"Ukryj",columnMenuUnsort:"Anuluj sortowanie",columnMenuSortAsc:"Sortuj rosnco",columnMenuSortDesc:"Sortuj malejco",columnHeaderFiltersTooltipActive:e=>"Liczba aktywnych filtrw: "+e,columnHeaderFiltersLabel:"Poka filtry",columnHeaderSortIconLabel:"Sortuj",footerRowSelected:e=>"Liczba wybranych wierszy: "+e.toLocaleString(),footerTotalRows:"czna liczba wierszy:"},eu=Hl(Ql,$.plPL),tu=Hl({noRowsLabel:"Nenhuma linha",noResultsOverlayLabel:"Nenhum resultado encontrado.",errorOverlayDefaultLabel:"Ocorreu um erro.",toolbarDensity:"Densidade",toolbarDensityLabel:"Densidade",toolbarDensityCompact:"Compacto",toolbarDensityStandard:"Padro",toolbarDensityComfortable:"Confortvel",toolbarColumns:"Colunas",toolbarColumnsLabel:"Exibir seletor de colunas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Exibir filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Exibir filtros",toolbarFiltersTooltipActive:e=>`${e} ${1!==e?"filtros":"filtro"} ${1!==e?"ativos":"ativo"}`,toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Baixar como CSV",columnsPanelTextFieldLabel:"Localizar coluna",columnsPanelTextFieldPlaceholder:"Ttulo da coluna",columnsPanelDragIconLabel:"Reordenar Coluna",columnsPanelShowAllButton:"Mostrar todas",columnsPanelHideAllButton:"Ocultar todas",filterPanelAddFilter:"Adicionar filtro",filterPanelDeleteIconLabel:"Excluir",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"E",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colunas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Filtrar valor",filterOperatorContains:"contm",filterOperatorEquals:" igual a",filterOperatorStartsWith:"comea com",filterOperatorEndsWith:"termina com",filterOperatorIs:"",filterOperatorNot:"no ",filterOperatorOnOrAfter:"em ou aps",filterOperatorBefore:"antes de",filterOperatorOnOrBefore:"em ou antes de",filterOperatorAfter:"aps",filterOperatorIsEmpty:"est vazio",filterOperatorIsNotEmpty:"no est vazio",columnMenuLabel:"Menu",columnMenuShowColumns:"Exibir colunas",columnMenuFilter:"Filtrar",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desfazer ordenao",columnMenuSortAsc:"Ordenar do menor para o maior",columnMenuSortDesc:"Ordenar do maior para o menor",columnHeaderFiltersTooltipActive:e=>`${e} ${1!==e?"filtros":"filtro"} ${1!==e?"ativos":"ativo"}`,columnHeaderFiltersLabel:"Exibir Filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>1!==e?e.toLocaleString()+" linhas selecionadas":e.toLocaleString()+" linha selecionada",footerTotalRows:"Total de linhas:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleo",booleanCellTrueLabel:"sim",booleanCellFalseLabel:"no"},$.ptBR),ru={noRowsLabel:" ",errorOverlayDefaultLabel:" .",toolbarDensity:" ",toolbarDensityLabel:" ",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>{let t=" ";const r=e%10;return r>1&&r<5?t=" ":1===r&&(t=" "),`${e} ${t}`},toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"   CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:" ",filterOperatorAfter:" ",filterOperatorOnOrAfter:"  ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"  ",filterValueAny:"",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"  ",columnMenuSortDesc:"  ",columnHeaderFiltersTooltipActive:e=>{let t=" ";const r=e%10;return r>1&&r<5?t=" ":1===r&&(t=" "),`${e} ${t}`},columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>{let t=" ";const r=e%10;return r>1&&r<5?t=" ":1===r&&(t=" "),`${e} ${t}`},footerTotalRows:" :",checkboxSelectionHeaderName:" ",booleanCellTrueLabel:"",booleanCellFalseLabel:""},nu=Hl(ru,$.ruRU),au={noRowsLabel:"iadne zznamy",noResultsOverlayLabel:"Nenali sa adne vsledky.",errorOverlayDefaultLabel:"Stala sa nepredvdan chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktn",toolbarDensityStandard:"tandartn",toolbarDensityComfortable:"Komfortn",toolbarColumns:"Stpce",toolbarColumnsLabel:"Vybra stpce",toolbarFilters:"Filtre",toolbarFiltersLabel:"Zobrazi filtre",toolbarFiltersTooltipHide:"Skry filtre ",toolbarFiltersTooltipShow:"Zobrazi filtre",toolbarFiltersTooltipActive:e=>{let t="aktvnych filtrov";return e>1&&e<5?t="aktvne filtre":1===e&&(t="aktvny filter"),`${e} ${t}`},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stiahnu ako CSV",columnsPanelTextFieldLabel:"Njs stpec",columnsPanelTextFieldPlaceholder:"Nzov stpca",columnsPanelDragIconLabel:"Usporiad stpce",columnsPanelShowAllButton:"Zobrazi vetko",columnsPanelHideAllButton:"Skry vetko",filterPanelAddFilter:"Prida filter",filterPanelDeleteIconLabel:"Odstrni",filterPanelOperators:"Opertory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Alebo",filterPanelColumns:"Stpce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtra",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovn sa",filterOperatorStartsWith:"zana s",filterOperatorEndsWith:"kon na",filterOperatorIs:"je",filterOperatorNot:"nie je",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na alebo po",filterOperatorBefore:"je pred",filterOperatorOnOrBefore:"je na alebo skr",filterValueAny:"akkovek",filterValueTrue:"no",filterValueFalse:"nie",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazi stpce",columnMenuFilter:"Filter",columnMenuHideColumn:"Skry",columnMenuUnsort:"Zrui filtre",columnMenuSortAsc:"Zoradi vzostupne",columnMenuSortDesc:"Zoradi zostupne",columnHeaderFiltersTooltipActive:e=>{let t="aktvnych filtrov";return e>1&&e<5?t="aktvne filtre":1===e&&(t="aktvny filter"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobrazi filtre",columnHeaderSortIconLabel:"Filtrova",footerRowSelected:e=>{let t="vybranch zznamov";return e>1&&e<5?t="vybran zznamy":1===e&&(t="vybran zznam"),`${e} ${t}`},footerTotalRows:"Riadkov spolu:",checkboxSelectionHeaderName:"Vber riadku",booleanCellTrueLabel:"no",booleanCellFalseLabel:"nie"},ou=Hl(au,$.skSK),iu=Hl({noRowsLabel:"Satr yok",errorOverlayDefaultLabel:"Bir hata olutu.",toolbarDensity:"Younluk",toolbarDensityLabel:"Younluk",toolbarDensityCompact:"Sk",toolbarDensityStandard:"Standart",toolbarDensityComfortable:"Rahat",toolbarColumns:"Stunlar",toolbarColumnsLabel:"Stun se",toolbarFilters:"Filtreler",toolbarFiltersLabel:"Filtreleri gster",toolbarFiltersTooltipHide:"Filtreleri gizle",toolbarFiltersTooltipShow:"Filtreleri gster",toolbarFiltersTooltipActive:e=>e+" aktif filtre",toolbarExport:"Da aktar",toolbarExportLabel:"Da aktar",toolbarExportCSV:"CSV olarak aktar",columnsPanelTextFieldLabel:"Stun ara",columnsPanelTextFieldPlaceholder:"Stun ad",columnsPanelDragIconLabel:"Stunlar yeniden srala",columnsPanelShowAllButton:"Hepsini gster",columnsPanelHideAllButton:"Hepsini gizle",filterPanelAddFilter:"Filtre Ekle",filterPanelDeleteIconLabel:"Kaldr",filterPanelOperators:"Operatr",filterPanelOperatorAnd:"Ve",filterPanelOperatorOr:"Veya",filterPanelColumns:"Stunlar",filterPanelInputLabel:"Deer",filterPanelInputPlaceholder:"Filtre deeri",filterOperatorContains:"ierir",filterOperatorEquals:"eittir",filterOperatorStartsWith:"ile balar",filterOperatorEndsWith:"ile biter",filterOperatorIs:"eittir",filterOperatorNot:"eit deildir",filterOperatorAfter:"byk",filterOperatorOnOrAfter:"byk eit",filterOperatorBefore:"kk",filterOperatorOnOrBefore:"kk eit",filterOperatorIsEmpty:"bo",filterOperatorIsNotEmpty:"dolu",columnMenuLabel:"Men",columnMenuShowColumns:"Stunlar gster",columnMenuFilter:"Filtre uygula",columnMenuHideColumn:"Gizle",columnMenuUnsort:"Sralama",columnMenuSortAsc:"Srala - Artan",columnMenuSortDesc:"Srala - Azalan",columnHeaderFiltersTooltipActive:e=>e+" filtre aktif",columnHeaderFiltersLabel:"Filtreleri gster",columnHeaderSortIconLabel:"Srala",footerRowSelected:e=>e.toLocaleString()+" satr seildi",footerTotalRows:"Toplam Satr:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`},$.trTR),lu={noRowsLabel:" ",errorOverlayDefaultLabel:" .",toolbarDensity:" ",toolbarDensityLabel:" ",toolbarDensityCompact:"",toolbarDensityStandard:"",toolbarDensityComfortable:"",toolbarColumns:"",toolbarColumnsLabel:" ",toolbarFilters:"",toolbarFiltersLabel:" ",toolbarFiltersTooltipHide:" ",toolbarFiltersTooltipShow:" ",toolbarFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",toolbarExport:"",toolbarExportLabel:"",toolbarExportCSV:"   CSV",columnsPanelTextFieldLabel:" ",columnsPanelTextFieldPlaceholder:" ",columnsPanelDragIconLabel:"  ",columnsPanelShowAllButton:" ",columnsPanelHideAllButton:" ",filterPanelAddFilter:" ",filterPanelDeleteIconLabel:"",filterPanelOperators:"",filterPanelOperatorAnd:"",filterPanelOperatorOr:"",filterPanelColumns:"",filterPanelInputLabel:"",filterPanelInputPlaceholder:" ",filterOperatorContains:"",filterOperatorEquals:"",filterOperatorStartsWith:" ",filterOperatorEndsWith:" ",filterOperatorIs:"",filterOperatorNot:"",filterOperatorAfter:" ",filterOperatorOnOrAfter:"  ",filterOperatorBefore:" ",filterOperatorOnOrBefore:"  ",filterValueAny:"-",filterValueTrue:"",filterValueFalse:"",columnMenuLabel:"",columnMenuShowColumns:" ",columnMenuFilter:"",columnMenuHideColumn:"",columnMenuUnsort:" ",columnMenuSortAsc:"  ",columnMenuSortDesc:"  ",columnHeaderFiltersTooltipActive:e=>1!==e?e+"  ":e+"  ",columnHeaderFiltersLabel:" ",columnHeaderSortIconLabel:"",footerRowSelected:e=>1!==e?e.toLocaleString()+"  ":e.toLocaleString()+"  ",footerTotalRows:" :",checkboxSelectionHeaderName:" ",booleanCellTrueLabel:"",booleanCellFalseLabel:""},uu=Hl(lu,$.ukUA),cu=({apiRef:e,props:t,children:r})=>l.createElement(zn.Provider,{value:t},l.createElement(X.Provider,{value:e},r)),su=(e,t)=>{if("string"==typeof e){const r=e.replace(/"/g,'""');return r.includes(t)?`"${r}"`:r}return e};function du(e){const{columns:t,rows:r,selectedRowIds:n,getCellParams:a,delimiterCharacter:o,includeHeaders:i=!0}=e;let l=[...r.keys()];n.length&&(l=l.filter(e=>n.includes(e)));const u=l.reduce((e,r)=>`${e}${function(e,t,r,n){const a=[];return t.forEach(t=>t.field!==Da.field&&a.push(su(r(e,t.field).formattedValue,n))),a}(r,t,a,o).join(o)}\r\n`,"").trim();return i?`${t.filter(e=>e.field!==Da.field).map(e=>su(e.headerName||e.field,o)).join(o)+"\r\n"}${u}`.trim():u}function fu(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const r=document.createRange();r.selectNode(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(r);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function pu(e,t){switch(t.type){case"options::UPDATE":return function(e,t){return t=function(e){const t=Object.assign({},e);return Object.keys(e).forEach(r=>{e.hasOwnProperty(r)&&void 0===e[r]&&delete t[r]}),t}(t),Object.assign(Object.assign({},e),t)}(e,t.payload);default:throw new Error(`Material-UI: Action ${t.type} not found.`)}}const mu=(e,t)=>{fr(e,t),hl(e,t),function(e,t){const[,r]=Rr(e),n=l.useCallback(e=>{r(t=>Object.assign(Object.assign({},t),{error:e}))},[r]);l.useEffect(()=>{n(t.error)},[n,t.error]),Nr(e,o.componentError,n)}(e,t),il(e,t),function(e,t){const r=pr(e,"useOptionsProp"),n=l.useMemo(()=>Object.assign(Object.assign({},t),{classes:Jt({root:["root"],columnHeader:["columnHeader"],row:["row"],cell:["cell"]},or,t.classes),localeText:Object.assign(Object.assign({},hr),t.localeText)}),[t]),{gridState:a,dispatch:o}=ll(e,"options",pu,Object.assign({},wr)),i=l.useCallback(e=>{r.debug("updating options state."),o({type:"options::UPDATE",payload:e})},[o,r]);l.useEffect(()=>{i(n)},[n,i]),a.options}(e,t),function(e,t){zr(e,o.columnHeaderClick,t.onColumnHeaderClick),zr(e,o.columnHeaderDoubleClick,t.onColumnHeaderDoubleClick),zr(e,o.columnHeaderOver,t.onColumnHeaderOver),zr(e,o.columnHeaderOut,t.onColumnHeaderOut),zr(e,o.columnHeaderEnter,t.onColumnHeaderEnter),zr(e,o.columnHeaderLeave,t.onColumnHeaderLeave),zr(e,o.columnOrderChange,t.onColumnOrderChange),zr(e,o.cellClick,t.onCellClick),zr(e,o.cellDoubleClick,t.onCellDoubleClick),zr(e,o.cellOver,t.onCellOver),zr(e,o.cellOut,t.onCellOut),zr(e,o.cellEnter,t.onCellEnter),zr(e,o.cellLeave,t.onCellLeave),zr(e,o.cellKeyDown,t.onCellKeyDown),zr(e,o.cellBlur,t.onCellBlur),zr(e,o.cellFocusOut,t.onCellFocusOut),zr(e,o.rowDoubleClick,t.onRowDoubleClick),zr(e,o.rowClick,t.onRowClick),zr(e,o.rowOver,t.onRowOver),zr(e,o.rowOut,t.onRowOut),zr(e,o.rowEnter,t.onRowEnter),zr(e,o.rowLeave,t.onRowLeave),zr(e,o.componentError,t.onError),zr(e,o.stateChange,t.onStateChange)}(e,t),(e=>{const{localeText:t}=Dr(e,kn);mr(e,{getLocaleText:l.useCallback(e=>{if(null==t[e])throw new Error(`Missing translation for key ${e}.`);return t[e]},[t])},"LocaleTextApi")})(e),function(e,t){const r=pr(e,"useResizeContainer"),n=l.useRef(!1),a=l.useCallback(()=>{var t;r.debug("resizing..."),e.current.publishEvent(o.debouncedResize,null===(t=e.current.state.containerSizes)||void 0===t?void 0:t.windowSizes)},[e,r]);mr(e,{resize:a},"GridEventsApi");const i=l.useMemo(()=>Object(O.a)(a,60),[a]),u=l.useCallback(e=>{const a=/jsdom/.test(window.navigator.userAgent);0!==e.height||n.current||t.autoHeight||a||(r.warn(["The parent of the grid has an empty height.","You need to make sure the container has an intrinsic height.","The grid displays with a height of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),n.current=!0),0!==e.width||n.current||a||(r.warn(["The parent of the grid has an empty width.","You need to make sure the container has an intrinsic width.","The grid displays with a width of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),n.current=!0),i()},[t.autoHeight,i,r,a]);l.useEffect(()=>()=>{r.info("canceling resize..."),i.clear()},[r,i]),l.useEffect(()=>{r.info("canceling resize..."),i.clear()},[t.rows,i,r]),Nr(e,o.resize,u),zr(e,o.debouncedResize,t.onResize)}(e,t),ol(e,t),Ol(e),El(e,t),Sl(e,t),cl(e,t),sl(e),dl(e,t),Pl(e,t),xl(e,t),rl(e),wl(e),ul(e,t),vl(e,t),((e,t)=>{const r=pr(e,"useDensity"),[,n,a]=Rr(e),o=l.useCallback((e,t,r)=>{switch(e){case vr.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*r)};case vr.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*r)};default:return{value:e,headerHeight:t,rowHeight:r}}},[]),i=l.useCallback((e,i=t.headerHeight,l=t.rowHeight)=>{r.debug("Set grid density to "+e),n(t=>Object.assign(Object.assign({},t),{density:Object.assign(Object.assign({},t.density),o(e,i,l))})),a()},[r,n,a,o,t.headerHeight,t.rowHeight]);l.useEffect(()=>{i(t.density,t.headerHeight,t.rowHeight)},[i,t.density,t.rowHeight,t.headerHeight]),mr(e,{setDensity:i},"GridDensityApi")})(e,t),Tl(e,t),((e,t)=>{const r=e.current.windowRef,n=e.current.columnHeadersElementRef,a=e.current.renderingZoneRef,[o,i,u]=Rr(e),[c]=fl(e,a,n),s=Dr(e,Gn),d=Dr(e,ne),f=l.useCallback(()=>{if(!o.containerSizes||!(null==r?void 0:r.current))return;let e=0;const{page:n,pageSize:a}=s;t.pagination&&"client"===t.paginationMode&&(e=a*n);const l={firstRowIdx:e,lastRowIdx:e+o.containerSizes.virtualRowsCount,firstColIdx:0,lastColIdx:d.length>0?d.length-1:0},c={top:r.current.scrollTop,left:r.current.scrollLeft};i(e=>Object.assign(Object.assign({},e),{rendering:Object.assign(Object.assign({},e.rendering),{virtualPage:0,renderContext:l,realScroll:c,renderingZoneScroll:c})})),u()},[o.containerSizes,s,t.pagination,t.paginationMode,i,u,d.length,r]);l.useEffect(()=>{t.disableVirtualization&&f()},[t.disableVirtualization,f]);const p=l.useCallback(()=>{if(!t.disableVirtualization||!(null==r?void 0:r.current))return;const{scrollLeft:e,scrollTop:n}=r.current;c({top:n,left:e}),f()},[t.disableVirtualization,c,r,f]);yl(e,r,"scroll",p,{passive:!0})})(e,t),jl(e,t),Al(e,t),bl(e,t),gl(e,t),(e=>{const t=pr(e,"useGridCsvExport"),r=Dr(e,ne),n=Dr(e,re),a=Dr(e,nn),o=Dr(e,qn),i=l.useCallback(i=>{let l;return t.debug("Get data as CSV"),l=(null==i?void 0:i.fields)?i.fields.map(e=>n.find(t=>t.field===e)).filter(e=>!!e):((null==i?void 0:i.allColumns)?n:r).filter(e=>!e.disableExport),du({columns:l,rows:a,selectedRowIds:o,getCellParams:e.current.getCellParams,delimiterCharacter:(null==i?void 0:i.delimiter)||","})},[t,r,n,a,o,e]),u=l.useCallback(e=>{t.debug("Export data as CSV");const r=i(e);!function(e,t="csv",r=document.title){const n=`${r}.${t}`;if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),r=document.createElement("a");return r.href=t,r.download=n,r.click(),void setTimeout(()=>{URL.revokeObjectURL(t)})}throw new Error("exportAs not supported")}(new Blob([(null==e?void 0:e.utf8WithBom)?new Uint8Array([239,187,191]):"",r],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)},[t,i]);mr(e,{getDataAsCsv:i,exportDataAsCsv:u},"GridCsvExportApi")})(e),((e,t)=>{const r=Dr(e,xo),n=Dr(e,ne),a=l.useRef(!1),i=Dr(e,Ir),u=l.useRef(null),c=l.useCallback(i=>{if(!r)return;const l=i.top+r.windowSizes.height+t.scrollEndThreshold;if(l<r.dataContainerSizes.height&&(a.current=!1),l>=r.dataContainerSizes.height&&!a.current){const t={visibleColumns:n,viewportPageSize:r.viewportPageSize,virtualRowsCount:r.virtualRowsCount};e.current.publishEvent(o.rowsScrollEnd,t),a.current=!0}},[e,t.scrollEndThreshold,n,r]),s=l.useCallback(()=>{const t=e.current.getScrollPosition();c(t)},[e,c]);l.useEffect(()=>{const t=i.renderContext;if(t){if(!u.current||t.firstRowIdx!==u.current.firstRowIndex||t.lastRowIdx!==u.current.lastRowIndex){const r={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx};e.current.publishEvent(o.viewportRowsChange,r)}u.current={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx}}},[e,t.onViewportRowsChange,i]),Nr(e,o.rowsScroll,s),zr(e,o.rowsScrollEnd,t.onRowsScrollEnd),zr(e,o.viewportRowsChange,t.onViewportRowsChange)})(e,t),(e=>{const t=Dr(e,ne),r=l.useCallback((r=!1)=>{const n=e.current.getSelectedRows(),a=t.filter(e=>e.field!==Da.field);if(0===n.size||0===a.length)return;const o=du({columns:t,rows:n,selectedRowIds:[],includeHeaders:r,getCellParams:e.current.getCellParams,delimiterCharacter:"\t"});navigator.clipboard?navigator.clipboard.writeText(o).catch(()=>{fu(o)}):fu(o)},[e,t]),n=l.useCallback(t=>{var r;const n=t.ctrlKey||t.metaKey||t.altKey;"c"===t.key.toLowerCase()&&n&&""===(null===(r=window.getSelection())||void 0===r?void 0:r.toString())&&e.current.copySelectedRowsToClipboard(t.altKey)},[e]);yl(e,e.current.rootElementRef,"keydown",n),mr(e,{copySelectedRowsToClipboard:r},"GridClipboardApi")})(e),Bl(e,t),function(e,{state:t}){const[,r,n]=Rr(e),a=pr(e,"useStateProp");l.useEffect(()=>{null!=t&&e.current.state!==t&&(a.debug("Overriding state with props.state"),r(e=>Object.assign(Object.assign({},e),t)),n())},[e,n,a,t,r])}(e,t),function(e){const[t]=Rr(e),r=pr(e,"useRenderInfoLog");if(null!=t.rendering.renderContext){const{page:e,firstColIdx:n,lastColIdx:a,firstRowIdx:o,lastRowIdx:i}=t.rendering.renderContext;r.info(`Rendering, page: ${e}, col: ${n}-${a}, row: ${o}-${i}`)}}(e)},gu=100,hu=l.forwardRef((function(e,t){const r=(e=>{if(e.pageSize>100)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=function({props:e,name:t}){const r=Object(p.a)();return l.useMemo(()=>{const n=Object.assign({},e),a=Object(k.a)({theme:r,name:t,props:n}),o=a.theme||r,i="rtl"===o.direction;return Object.assign({theme:o,isRtl:i},a)},[e,t,r])}({props:e,name:"MuiDataGrid"});return l.useMemo(()=>Object.assign(Object.assign({},t),{apiRef:void 0,disableColumnResize:!0,disableColumnReorder:!0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,pagination:!0,onRowsScrollEnd:void 0,onViewportRowsChange:void 0,checkboxSelectionVisibleOnly:!1,signature:"DataGrid"}),[t])})(e),n=Dl();return mu(n,r),l.createElement(cu,{apiRef:n,props:r},l.createElement(fi,{ref:t},l.createElement(ui,null,l.createElement(si,null),l.createElement(ii,null),l.createElement(ci,null))))}));hu.defaultProps=br;const vu=l.memo(hu);vu.propTypes={apiRef:Object(Y.a)(J.a.any,e=>null!=e.apiRef?new Error(["Material-UI: `apiRef` is not a valid prop.","GridApiRef is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),checkboxSelectionVisibleOnly:Object(Y.a)(J.a.bool,e=>e.checkboxSelectionVisibleOnly?new Error(["Material-UI: `<DataGrid checkboxSelectionVisibleOnly={true} />` is not a valid prop.","Selecting all columns only on the current page is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),columns:Object(Y.a)(J.a.array.isRequired,e=>e.columns&&e.columns.some(e=>e.resizable)?new Error(["Material-UI: `column.resizable = true` is not a valid prop.","Column resizing is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableColumnReorder:Object(Y.a)(J.a.bool,e=>!1===e.disableColumnReorder?new Error(["Material-UI: `<DataGrid disableColumnReorder={false} />` is not a valid prop.","Column reordering is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableColumnResize:Object(Y.a)(J.a.bool,e=>!1===e.disableColumnResize?new Error(["Material-UI: `<DataGrid disableColumnResize={false} />` is not a valid prop.","Column resizing is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleColumnsFiltering:Object(Y.a)(J.a.bool,e=>!1===e.disableMultipleColumnsFiltering?new Error(["Material-UI: `<DataGrid disableMultipleColumnsFiltering={false} />` is not a valid prop.","Only single column sorting is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleColumnsSorting:Object(Y.a)(J.a.bool,e=>!1===e.disableMultipleColumnsSorting?new Error(["Material-UI: `<DataGrid disableMultipleColumnsSorting={false} />` is not a valid prop.","Only single column sorting is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleSelection:Object(Y.a)(J.a.bool,e=>!1===e.disableMultipleSelection?new Error(["Material-UI: `<DataGrid disableMultipleSelection={false} />` is not a valid prop.","Only single column selection is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),filterModel:Object(Y.a)(J.a.any,e=>null!=e.filterModel&&e.filterModel.items.length>1?new Error(["Material-UI: `<DataGrid filterModel={model} />` is not a valid prop. `model.items` has more than 1 item.","Only single filter is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),onRowsScrollEnd:Object(Y.a)(J.a.any,e=>null!=e.onRowsScrollEnd?new Error(["Material-UI: `onRowsScrollEnd` is not a valid prop.","onRowsScrollEnd is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),onViewportRowsChange:Object(Y.a)(J.a.any,e=>null!=e.onViewportRowsChange?new Error(["Material-UI: `onViewportRowsChange` is not a valid prop.","onViewportRowsChange is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),pageSize:Object(Y.a)(J.a.number,e=>e.pageSize&&e.pageSize>100?new Error([`Material-UI: \`<DataGrid pageSize={${e.pageSize}} />\` is not a valid prop.`,"Only page size below 100 is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),pagination:e=>!1===e.pagination?new Error(["Material-UI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to the DataGridPro component to disable the pagination."].join("\n")):null,rows:J.a.array.isRequired,scrollEndThreshold:Object(Y.a)(J.a.number,e=>e.scrollEndThreshold?new Error([`Material-UI: \`<DataGrid scrollEndThreshold={${e.scrollEndThreshold}} />\` is not a valid prop.`,"scrollEndThreshold is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),selectionModel:Object(Y.a)(J.a.oneOfType([J.a.number,J.a.string,J.a.array]),e=>!e.checkboxSelection&&Array.isArray(e.selectionModel)&&e.selectionModel.length>1?new Error([`Material-UI: \`<DataGrid selectionModel={${JSON.stringify(e.selectionModel)}} />\` is not a valid prop.`,"selectionModel can only be of 1 item in DataGrid.","","You need to upgrade to the DataGridPro component to unlock multiple selection."].join("\n")):null)}}.call(this,r(49),r(246)(e),r(94))},520:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(15)),i=n(r(16)),l=n(r(10));function u(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this.SubLayoutClass=t,(0,l.default)(this,"subLayouts",new Map),(0,l.default)(this,"subLayoutConstructorArgs",{}),this.subLayouts=new Map,this.subLayoutConstructorArgs=r}return(0,i.default)(e,[{key:"getDataByID",value:function(e){var t,r=u(this.subLayouts.values());try{for(r.s();!(t=r.n()).done;){var n=t.value.getDataByID(e);if(n)return n}}catch(e){r.e(e)}finally{r.f()}}},{key:"getSublayout",value:function(e){var t=this.subLayouts.get(e);return void 0===t?(t=new this.SubLayoutClass(this.subLayoutConstructorArgs),this.subLayouts.set(e,t),t):t}},{key:"addRect",value:function(e,t,r,n,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return this.getSublayout(e).addRect(t,r,n,a,o)}},{key:"discardRange",value:function(e,t,r){var n=this.subLayouts.get(e);return n&&n.discardRange(t,r)}},{key:"toJSON",value:function(){var e,t={},r=u(this.subLayouts.entries());try{for(r.s();!(e=r.n()).done;){var n=(0,a.default)(e.value,2),o=n[0],i=n[1];t[o]=i.toJSON()}}catch(e){r.e(e)}finally{r.f()}return t}}]),e}();t.default=s},521:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(15)),i=n(r(16)),l=n(r(10)),u=r(32),c=n(r(724)),s=function(){function e(t){var r=t.rectangles,n=t.totalHeight,i=t.maxHeightReached;(0,o.default)(this,e),(0,l.default)(this,"rectangles",void 0),(0,l.default)(this,"totalHeight",void 0),(0,l.default)(this,"maxHeightReached",void 0),(0,l.default)(this,"rbush",void 0),this.rectangles=new Map(Object.entries(r)),this.totalHeight=n,this.maxHeightReached=i,this.rbush=new c.default;for(var u=0,s=Object.entries(r);u<s.length;u++){var d=(0,a.default)(s[u],2),f=d[0],p=d[1];this.rbush.insert({minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],name:f})}}return(0,i.default)(e,[{key:"addRect",value:function(e){var t=this.rectangles.get(e);if(!t)throw new Error("id ".concat(e," not found in precomputed feature layout"));return t[1]}},{key:"getRectangles",value:function(){return this.rectangles}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"collides",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getByCoord",value:function(e,t){var r={minX:e,minY:t,maxX:e+1,maxY:t+1};return this.rbush.collides(r)?this.rbush.search(r)[0].name:void 0}},{key:"getByID",value:function(e){return this.rectangles.get(e)}},{key:"addRectToBitmap",value:function(e,t){throw new Error("Method not implemented.")}},{key:"discardRange",value:function(e,t){throw new Error("Method not implemented.")}},{key:"serializeRegion",value:function(e){throw new Error("Method not implemented.")}},{key:"toJSON",value:function(){return{rectangles:(0,u.objectFromEntries)(this.rectangles),totalHeight:this.totalHeight,maxHeightReached:!1,containsNoTransferables:!0}}}]),e}();t.default=s},522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contrastingTextColor=function(e){return o(e)>.5?"black":"white"},t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,r=(0,a.namedColorToHex)(e);return(0,n.emphasize)(r||e,t)},Object.defineProperty(t,"isNamedColor",{enumerable:!0,get:function(){return a.isNamedColor}}),t.makeContrasting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=(0,a.namedColorToHex)(e)||e,l=(0,a.namedColorToHex)(t)||t,u=o(l),c=(0,n.getContrastRatio)(i,l),s=i,d=.05;for(;c<r;)i=u>.5?(0,n.darken)(s,d):(0,n.lighten)(s,d),d+=.05,c=(0,n.getContrastRatio)(i,l);return i},Object.defineProperty(t,"namedColorToHex",{enumerable:!0,get:function(){return a.namedColorToHex}});var n=r(415),a=r(2075);function o(e){var t=(0,a.namedColorToHex)(e);return(0,n.getLuminance)(t||e)}},523:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationEditor=void 0,Object.defineProperty(t,"JsonEditor",{enumerable:!0,get:function(){return b.default}}),t.default=void 0;var a=n(r(11)),o=n(r(15)),i=n(r(16)),l=n(r(30)),u=n(r(25)),c=n(r(26)),s=n(r(24)),d=n(r(10)),f=r(1),p=n(r(142)),m=n(r(168)),g=n(r(115)),h=r(2090),v=r(2092),y=r(2096),b=n(r(927));function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(O=function(e){return e?r:t})(e)}var C=(0,f.lazy)((function(){return Promise.resolve().then((function(){return function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,a.default)(e)&&"function"!=typeof e)return{default:e};var r=O(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(2100))}))}));t.ConfigurationEditor=C;var k=function(e){(0,u.default)(r,e);var t=w(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"name","ConfigurationPlugin"),e}return(0,i.default)(r,[{key:"install",value:function(e){e.addAdapterType((function(){return new p.default({name:"FromConfigAdapter",configSchema:v.configSchema,AdapterClass:v.AdapterClass,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new p.default({name:"FromConfigRegionsAdapter",configSchema:v.regionsConfigSchema,AdapterClass:v.RegionsAdapterClass,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new p.default({name:"FromConfigSequenceAdapter",configSchema:v.sequenceConfigSchema,AdapterClass:v.SequenceAdapterClass,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new p.default({name:"RefNameAliasAdapter",configSchema:y.configSchema,AdapterClass:y.AdapterClass,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addWidgetType((function(){return new m.default({name:"ConfigurationEditorWidget",HeadingComponent:h.HeadingComponent,configSchema:h.configSchema,stateModel:(0,h.stateModelFactory)(e),ReactComponent:C})}))}}]),r}(g.default);t.default=k},524:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(33)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(90),g=n(r(98)),h=r(116),v=r(29);function y(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var O=function(e){(0,s.default)(d,e);var t,r,n=w(d);function d(e,t,r){var a;(0,l.default)(this,d),a=n.call(this,e,t,r),(0,p.default)((0,c.default)(a),"features",void 0);var o=(0,v.readConfObject)(e,"features");return a.features=d.makeFeatures(o||[]),a}return(0,u.default)(d,[{key:"getRefNames",value:(r=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,o.default)(this.features.keys()));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRefNameAliases",value:(t=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.features.values()).map((function(e){return{refName:e[0].get("refName"),aliases:e[0].get("aliases")}})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,r=e.refName,n=e.start,o=e.end;return(0,h.ObservableCreate)(function(){var e=(0,i.default)(a.default.mark((function e(i){var l,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(l=t.features.get(r)||[],u=0;u<l.length;u++)(c=l[u]).get("end")>n&&c.get("start")<o&&i.next(c);i.complete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}],[{key:"makeFeatures",value:function(e){for(var t=new Map,r=0;r<e.length;r+=1)if(e[r]){var n=this.makeFeature(e[r]),a=n.get("refName"),o=t.get(a);o||(o=[],t.set(a,o)),o.push(n)}var i,l=y(t.values());try{for(l.s();!(i=l.n()).done;){i.value.sort((function(e,t){return e.get("start")-t.get("start")}))}}catch(e){l.e(e)}finally{l.f()}return t}},{key:"makeFeature",value:function(e){return new g.default(e)}}]),d}(m.BaseFeatureDataAdapter);t.default=O},525:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseChordDisplayComponentFactory",{enumerable:!0,get:function(){return O.BaseChordDisplayComponentFactory}}),Object.defineProperty(t,"BaseChordDisplayModel",{enumerable:!0,get:function(){return O.BaseChordDisplayModel}}),Object.defineProperty(t,"baseChordDisplayConfig",{enumerable:!0,get:function(){return O.baseChordDisplayConfig}}),t.default=void 0;var o=n(r(19)),i=n(r(21)),l=n(r(15)),u=n(r(16)),c=n(r(30)),s=n(r(25)),d=n(r(26)),f=n(r(24)),p=n(r(10)),m=r(1),g=r(42),h=r(32),v=n(r(115)),y=n(r(282)),b=n(r(887)),w=n(r(2142)),O=r(2144);function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,d.default)(this,r)}}var E=function(e){(0,s.default)(n,e);var t=k(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,p.default)((0,c.default)(e),"name","CircularViewPlugin"),e}return(0,u.default)(n,[{key:"install",value:function(e){e.addViewType((function(){return new y.default({ReactComponent:(0,m.lazy)((function(){return Promise.resolve().then((function(){return function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(2152))}))})),stateModel:(0,w.default)(e),name:"CircularView"})})),e.addToExtensionPoint("LaunchView-CircularView",function(){var e=(0,i.default)(o.default.mark((function e(t){var r,n,a,i,l,u,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.session,n=t.assembly,t.loc,a=t.tracks,i=void 0===a?[]:a,l=r.assemblyManager,u=r.addView("CircularView",{}),e.next=5,(0,g.when)((function(){return u.initialized}));case 5:if(n){e.next=7;break}throw new Error("No assembly provided when launching circular genome view");case 7:return e.next=9,l.waitForAssembly(n);case 9:if(c=e.sent){e.next=12;break}throw new Error('Assembly "'.concat(n,'" not found when launching circular genome view'));case 12:u.setDisplayedRegions(c.regions||[]),i.forEach((function(e){return u.showTrack(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"configure",value:function(e){(0,h.isAbstractMenuManager)(e.rootModel)&&e.rootModel.appendToSubMenu(["Add"],{label:"Circular view",icon:b.default,onClick:function(e){e.addView("CircularView",{})}})}}]),n}(v.default);t.default=E},526:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.ContentBlock=void 0,t.ElidedBlock=function(e){var t=e.width,r=s();return o.default.createElement("div",{className:r.elidedBlock,style:{width:t}})},t.InterRegionPaddingBlock=function(e){var t=e.boundary,r=e.width,n=e.style,a=void 0===n?{}:n,i=s();return o.default.createElement("div",{style:c(c({},a),{},{width:r}),className:t?i.boundaryPaddingBlock:i.interRegionPaddingBlock})};var a=n(r(10)),o=n(r(1)),i=r(34),l=r(14);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var s=(0,i.makeStyles)((function(e){return{contentBlock:{position:"relative",minHeight:"100%",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden"},elidedBlock:{minHeight:"100%",boxSizing:"border-box",backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"},interRegionPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.text.primary},boundaryPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.action.disabledBackground}}})),d=(0,l.observer)((function(e){var t=e.block,r=e.children,n=s(),a=t.widthPx;return o.default.createElement("div",{style:{width:a},className:n.contentBlock},r)}));t.ContentBlock=d},527:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(11)),i=n(r(33)),l=n(r(10)),u=n(r(21)),c=n(r(12)),s=n(r(36)),d=k(r(1)),f=r(14),p=r(32),m=k(r(528)),g=r(23),h=n(r(784)),v=n(r(241)),y=n(r(343)),b=r(935);function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,l.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}function k(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,o.default)(e)&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=a?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var E=(0,d.lazy)((function(){return Promise.resolve().then((function(){return k(r(2169))}))}));var S=function(e){var t=e.style;return d.default.createElement(g.Popper,(0,s.default)({},e,{style:{width:"fit-content",minWidth:Math.min(+((null==t?void 0:t.width)||0),200),background:"white"},placement:"bottom-start"}))};var P=(0,f.observer)((function(e){var t=e.model,r=e.onSelect,n=e.assemblyName,o=e.style,l=e.fetchResults,f=e.onChange,w=e.value,C=e.showHelp,k=void 0===C||C,P=e.minWidth,x=void 0===P?200:P,j=e.TextFieldProps,M=void 0===j?{}:j,T=(0,p.getSession)(t),R=T.assemblyManager,D=(0,d.useState)(!1),I=(0,c.default)(D,2),A=I[0],_=I[1],F=(0,d.useState)(!0),L=(0,c.default)(F,2),N=L[0],B=L[1],z=(0,d.useState)(!1),H=(0,c.default)(z,2),W=H[0],V=H[1],G=(0,d.useState)(""),U=(0,c.default)(G,2),q=U[0],$=U[1],K=(0,d.useState)(""),J=(0,c.default)(K,2),Y=J[0],X=J[1],Z=(0,d.useState)(),Q=(0,c.default)(Z,2),ee=Q[0],te=Q[1],re=(0,p.useDebounce)(q,300),ne=t.coarseVisibleLocStrings,ae=t.hasDisplayedRegions,oe=n?R.get(n):void 0,ie=(null==oe?void 0:oe.regions)||[],le=(0,d.useMemo)((function(){return ie.map((function(e){return{result:new m.RefSequenceResult({refName:e.refName,label:e.refName,matchedAttribute:"refName"})}}))}),[ie]);(0,d.useEffect)((function(){var e=!0;return(0,u.default)(a.default.mark((function t(){var r;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==re&&n){t.next=3;break}return t.abrupt("return");case 3:return B(!1),t.next=6,l(re);case 6:r=t.sent,e&&(te((0,b.dedupe)(r,(function(e){return e.getDisplayString()})).map((function(e){return{result:e}}))),B(!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),e&&T.notify("".concat(t.t0),"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))(),function(){e=!1}}),[n,l,re,T,t]);var ue=ne||w||"",ce=Math.min(Math.max((0,p.measureText)(ue,16)+45,x),550);return d.default.createElement(d.default.Fragment,null,d.default.createElement(v.default,{id:"refNameAutocomplete-".concat(t.id),"data-testid":"autocomplete",disableListWrap:!0,disableClearable:!0,PopperComponent:S,disabled:!n,freeSolo:!0,includeInputInList:!0,selectOnFocus:!0,style:O(O({},o),{},{width:ce}),value:ue,loading:!N,inputValue:Y,onInputChange:function(e,t){X(t),null==f||f(t)},loadingText:"loading results",open:A,onOpen:function(){return _(!0)},onClose:function(){_(!1),B(!0),ae&&($(""),te(void 0))},onChange:function(e,t){t&&n&&("string"==typeof t?null==r||r(new m.default({label:t})):null==r||r(t.result),X(ue))},options:null!=ee&&ee.length?ee:le,getOptionDisabled:function(e){return"limitOption"===(null==e?void 0:e.group)},filterOptions:function(e,t){var r=function(e,t){return e.filter((function(e){var r=e.result;return r.getLabel().toLowerCase().includes(t)||r.matchedObject}))}(e,t.inputValue.toLocaleLowerCase());return[].concat((0,i.default)(r.slice(0,100)),(0,i.default)(r.length>100?[{group:"limitOption",result:new m.default({label:"keep typing for more results"})}]:[]))},renderInput:function(e){var t=M.helperText,r=M.InputProps,n=void 0===r?{}:r;return d.default.createElement(g.TextField,(0,s.default)({onBlur:function(){X(ue)}},e,M,{helperText:t,InputProps:O(O(O({},e.InputProps),n),{},{endAdornment:d.default.createElement(d.default.Fragment,null,0===ie.length?d.default.createElement(g.CircularProgress,{color:"inherit",size:20}):d.default.createElement(g.InputAdornment,{position:"end",style:{marginRight:7}},d.default.createElement(h.default,null),k?d.default.createElement(g.IconButton,{onClick:function(){return V(!0)}},d.default.createElement(y.default,null)):null),e.InputProps.endAdornment)}),placeholder:"Search for location",onChange:function(e){$(e.target.value)}}))},renderOption:function(e){var t=e.result,r=t.getRenderingComponent();return r&&d.default.isValidElement(r)?r:d.default.createElement(g.Typography,{noWrap:!0},t.getDisplayString())},getOptionLabel:function(e){return("string"==typeof e?e:e.result.getLabel())||""}}),W?d.default.createElement(d.Suspense,{fallback:d.default.createElement("div",null)},d.default.createElement(E,{handleClose:function(){return V(!1)}})):null)}));t.default=P},528:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RefSequenceResult=void 0;var a=n(r(30)),o=n(r(25)),i=n(r(26)),l=n(r(24)),u=n(r(15)),c=n(r(16)),s=n(r(10));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,i.default)(this,r)}}var f=function(){function e(t){(0,u.default)(this,e),(0,s.default)(this,"label",void 0),(0,s.default)(this,"renderingComponent",void 0),(0,s.default)(this,"displayString",void 0),(0,s.default)(this,"matchedAttribute",void 0),(0,s.default)(this,"matchedObject",void 0),(0,s.default)(this,"textSearchAdapter",void 0),(0,s.default)(this,"relevance",void 0),(0,s.default)(this,"trackId",void 0),(0,s.default)(this,"score",void 0),(0,s.default)(this,"locString",void 0),this.label=t.label,this.locString=t.locString,this.renderingComponent=t.renderingComponent,this.displayString=t.displayString,this.matchedAttribute=t.matchedAttribute,this.matchedObject=t.matchedObject,this.textSearchAdapter=t.textSearchAdapter,this.relevance=t.relevance,this.trackId=t.trackId,this.score=t.score||1}return(0,c.default)(e,[{key:"getLabel",value:function(){return this.label}},{key:"getDisplayString",value:function(){return this.displayString||this.label}},{key:"getRenderingComponent",value:function(){return this.renderingComponent}},{key:"getTrackId",value:function(){return this.trackId}},{key:"getScore",value:function(){return this.score}},{key:"updateScore",value:function(e){return this.score=e,this.score}},{key:"getId",value:function(){return"".concat(this.getLabel(),"-").concat(this.getLocation(),"-").concat(this.getTrackId())}},{key:"getLocation",value:function(){return this.locString||this.label}}]),e}();t.default=f;var p=function(e){(0,o.default)(r,e);var t=d(r);function r(e){var n,o;return(0,u.default)(this,r),o=t.call(this,e),(0,s.default)((0,a.default)(o),"refName",void 0),o.refName=null!==(n=e.refName)&&void 0!==n?n:"",o}return(0,c.default)(r,[{key:"getLocation",value:function(){return this.refName}}]),r}(f);t.RefSequenceResult=p},529:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(33)),i=n(r(15)),l=n(r(16)),u=n(r(10)),c=r(117);function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){function e(t){(0,i.default)(this,e),(0,u.default)(this,"variant",void 0),(0,u.default)(this,"parser",void 0),(0,u.default)(this,"data",void 0),(0,u.default)(this,"_id",void 0),this.variant=t.variant,this.parser=t.parser,this.data=this.dataFromVariant(this.variant),this._id=t.id}return(0,l.default)(e,[{key:"get",value:function(e){return"samples"===e?this.variant.SAMPLES:this.data[e]||this.variant[e]}},{key:"set",value:function(){}},{key:"parent",value:function(){}},{key:"children",value:function(){}},{key:"tags",value:function(){return[].concat((0,o.default)(Object.keys(this.data)),(0,o.default)(Object.keys(this.variant)),["samples"])}},{key:"id",value:function(){return this._id}},{key:"dataFromVariant",value:function(e){var t=e.REF,r=e.ALT,n=e.POS,o=e.CHROM,i=e.INFO,l=e.ID,u=n-1,c=this._getSOTermAndDescription(t,r),s=(0,a.default)(c,2),d=s[0],f=s[1],p=null==r?void 0:r.some((function(e){return"<TRA>"===e}));return{refName:o,start:u,end:(null==r?void 0:r.some((function(e){return-1!==e.indexOf("<")})))&&i.END&&!p?+i.END[0]:u+t.length,description:f,type:d,name:null==l?void 0:l.join(","),aliases:l&&l.length>1?e.ID.slice(1):void 0}}},{key:"_getSOTermAndDescription",value:function(e,t){var r=this;if(!t||t===[])return["remark","no alternative alleles"];var n=new Set,i=new Set;if(t.forEach((function(t){var o=r._getSOAndDescFromAltDefs(e,t),l=(0,a.default)(o,2),u=l[0],c=l[1];if(!u){var s=r._getSOAndDescByExamination(e,t),d=(0,a.default)(s,2);u=d[0],c=d[1]}u&&c&&(n.add(u),i.add(c))})),i.size>1){var l=new Set((0,o.default)(i).map((function(e){var t=e.split("->");return t[1]?t[0]:e}))),u=(0,o.default)(l).map((function(e){var t=(0,o.default)(i).map((function(t){var r=t.split("-> ");return r[1]&&r[0]===e?r[1]:""})).filter((function(e){return!!e}));return t.length?e+"-> "+t.join(","):(0,o.default)(i).join(",")}));i=new Set(u)}return n.size?[(0,o.default)(n).join(","),(0,o.default)(i).join(",")]:[void 0,void 0]}},{key:"_getSOAndDescFromAltDefs",value:function(t,r){if("string"==typeof r&&!r.startsWith("<"))return[void 0,void 0];var n=e._altTypeToSO[r];if(!n&&this.parser.getMetadata("ALT",r)&&(n="sequence_variant"),n)return[n,r];var a=r.split(":");return a.length>1?this._getSOAndDescFromAltDefs(t,"<".concat(a.slice(0,a.length-1).join(":"),">")):[void 0,void 0]}},{key:"_getSOAndDescByExamination",value:function(e,t){return(0,c.parseBreakend)(t)?["breakend",t]:1===e.length&&1===t.length?["SNV",this._makeDescriptionString("SNV",e,t)]:"<INS>"===t?["insertion",t]:"<DEL>"===t||"<INV>"===t?["deletion",t]:"<TRA>"===t?["translocation",t]:t.includes("<")?["sv",t]:e.length===t.length?e.split("").reverse().join("")===t?["inversion",this._makeDescriptionString("inversion",e,t)]:["substitution",this._makeDescriptionString("substitution",e,t)]:e.length<=t.length?["insertion",this._makeDescriptionString("insertion",e,t)]:e.length>t.length?["deletion",this._makeDescriptionString("deletion",e,t)]:["indel",this._makeDescriptionString("indel",e,t)]}},{key:"_makeDescriptionString",value:function(e,t,r){return"".concat(e," ").concat(t," -> ").concat(r)}},{key:"toJSON",value:function(){return d(d(d({uniqueId:this._id},this.variant),this.data),{},{samples:this.variant.SAMPLES})}}]),e}();t.default=f,(0,u.default)(f,"_altTypeToSO",{DEL:"deletion",INS:"insertion",DUP:"duplication",INV:"inversion",INVDUP:"inverted duplication",CNV:"copy_number_variation",TRA:"translocation","DUP:TANDEM":"tandem_duplication",NON_REF:"sequence_variant","*":"sequence_variant"})},530:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(29),a=r(17),o=(0,n.ConfigurationSchema)("WiggleRenderer",{color:{type:"color",description:"the color of track, overrides posColor and negColor",defaultValue:"#f0f"},posColor:{type:"color",description:"the color to use when the score is positive",defaultValue:"blue"},negColor:{type:"color",description:"the color to use when the score is negative",defaultValue:"red"},highlightColor:{type:"color",description:"the color of highlights over the wiggle track",defaultValue:"rgba(255,255,0,0.5)"},clipColor:{type:"color",description:"the color of the clipping marker",defaultValue:"red"},renderType:{type:"stringEnum",model:a.types.enumeration("Rendering type",["xyplot","density","line"]),description:"The type of rendering for wiggle data to use",defaultValue:"xyplot"},filled:{type:"boolean",description:"fill in histogram",defaultValue:!0},bicolorPivot:{type:"stringEnum",model:a.types.enumeration("Scale type",["numeric","mean","z_score","none"]),description:"type of bicolor pivot",defaultValue:"numeric"},bicolorPivotValue:{type:"number",defaultValue:0,description:"value to use for bicolor pivot"},summaryScoreMode:{type:"stringEnum",model:a.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1}},{explicitlyTyped:!0});t.default=o},64:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUPPORTED=t.UNKNOWN=void 0,t.generateUnknownTrackConf=function(e,t,r){var n={type:"FeatureTrack",name:"".concat(e," (Unknown)"),description:'Could not determine track type for "'.concat(t,'"'),category:r,trackId:""};return n.trackId=(0,a.objectHash)(n),n},t.generateUnsupportedTrackConf=function(e,t,r){var n={type:"FeatureTrack",name:"".concat(e," (Unsupported)"),description:'Support not yet implemented for "'.concat(t,'"'),category:r,trackId:""};return n.trackId=(0,a.objectHash)(n),n},t.getBlob=function(e){return i[e]},t.getBlobMap=function(){return i},t.getFileName=function(e){var t="uri"in e?e.uri:void 0,r="localPath"in e?e.localPath:void 0,n="blobId"in e?e:void 0;return(null==n?void 0:n.name)||(null==t?void 0:t.slice(t.lastIndexOf("/")+1))||(null==r?void 0:r.slice(r.lastIndexOf("/")+1))||""},t.getParentRenderProps=function(e){for(var t=(0,n.getParent)(e);!(0,n.isRoot)(t);t=(0,n.getParent)(t))if("renderProps"in t)return t.renderProps();return{}},t.getRpcSessionId=function(e){for(var t,r=e;!(0,n.isRoot)(r);r=(0,n.getParent)(r))"rpcSessionId"in r&&(t=r.rpcSessionId);if(!t)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t},t.getTrackAssemblyNames=function(e){var t=e.configuration,r=(0,o.readConfObject)(t,"assemblyNames");if(!r){var a=(0,n.getParent)(e.configuration);if("sequence"in a)return[(0,o.readConfObject)(a,"name")]}return r},t.guessAdapter=function(e,t,r,a){if(a){var o=(0,n.getEnv)(a).pluginManager.evaluateExtensionPoint("Core-guessAdapterForLocation",(function(e,t,r){}))(e,t,r);if(o)return o}return{type:"UNKNOWN"}},t.guessTrackType=function(e,t){if(t){var r=(0,a.getSession)(t),o=(0,n.getEnv)(r).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",(function(e){}))(e);if(o)return o}return"FeatureTrack"},t.makeIndex=function(e,t){if("uri"in e)return{uri:e.uri+t,locationType:"UriLocation"};if("localPath"in e)return{localPath:e.localPath+t,locationType:"LocalPathLocation"};return e},t.makeIndexType=function(e,t,r){return null!=e&&e.toUpperCase().endsWith(t)?t:r},t.setBlobMap=function(e){i=e},t.storeBlobLocation=function(e){if(e&&"blob"in e){var t="b".concat(+Date.now());return i[t]=e.blob,{name:null==e?void 0:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e};var n=r(17),a=r(32),o=r(29);t.UNKNOWN="UNKNOWN";t.UNSUPPORTED="UNSUPPORTED";var i={}},72:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.UriLocationRaw=t.UriLocation=t.Region=t.PropTypes=t.NoAssemblyRegion=t.LocalPathLocation=t.FileLocation=t.ElementId=t.BlobLocation=void 0;var a=n(r(10)),o=n(r(45)),i=n(r(303)),l=r(17),u=n(r(0)),c=r(14),s=["baseUri"],d=["locationType"];function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var m=l.types.optional(l.types.identifier,i.default.generate);t.ElementId=m;var g={Region:u.default.shape({refName:u.default.string.isRequired,start:u.default.number.isRequired,end:u.default.number.isRequired}),ConfigSchema:c.PropTypes.objectOrObservableObject,Feature:u.default.shape({get:u.default.func.isRequired,id:u.default.func.isRequired})};t.PropTypes=g;var h=l.types.model("NoAssemblyRegion",{refName:l.types.string,start:l.types.number,end:l.types.number,reversed:l.types.optional(l.types.boolean,!1)}).actions((function(e){return{setRefName:function(t){e.refName=t}}}));t.NoAssemblyRegion=h;var v=l.types.compose("Region",h,l.types.model({assemblyName:l.types.string}));t.Region=v;var y=l.types.model("LocalPathLocation",{locationType:l.types.literal("LocalPathLocation"),localPath:l.types.string});t.LocalPathLocation=y;var b=l.types.model("BlobLocation",{locationType:l.types.literal("BlobLocation"),name:l.types.string,blobId:l.types.string});t.BlobLocation=b;var w=l.types.model("UriLocation",{locationType:l.types.literal("UriLocation"),uri:l.types.string,baseUri:l.types.maybe(l.types.string),internetAccountId:l.types.maybe(l.types.string),internetAccountPreAuthorization:l.types.maybe(l.types.model("InternetAccountPreAuthorization",{internetAccountType:l.types.string,authInfo:l.types.frozen()}))});t.UriLocationRaw=w;var O=l.types.snapshotProcessor(w,{postProcessor:function(e){var t=e.baseUri,r=(0,o.default)(e,s);return t?e:r}});t.UriLocation=O;var C=l.types.snapshotProcessor(l.types.union(y,O,b),{preProcessor:function(e){if(e){var t=e.locationType,r=(0,o.default)(e,d);if(!t){var n=r.uri,a=r.localPath,i=r.blob,l="";return void 0!==n?l="UriLocation":void 0!==a?l="LocalPathLocation":void 0!==i&&(l="BlobLocation"),p(p({},r),{},{locationType:l})}return e}}});t.FileLocation=C},8:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return m}));var n=r(1),a=r.n(n),o=r(2032),i=r(4);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var a=p(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return f(this,r)}}function f(e,t){if(t&&("object"===l(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,r,n,i=d(l);function l(){return u(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=e.id,r=e.assembly,n=e.tracks,i=e.defaultSession,l=e.aggregateTextSearchAdapters,u=e.configuration,c=Object(o.createViewState)({assembly:r,tracks:n,defaultSession:i,aggregateTextSearchAdapters:l,configuration:u});return a.a.createElement("div",{id:t},a.a.createElement(o.JBrowseCircularGenomeView,{viewState:c}))}}])&&c(t.prototype,r),n&&c(t,n),l}(n.Component);m.defaultProps=i.b,m.propTypes=i.c},84:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0});var o={LogoFull:!0,Logomark:!0,App:!0,ReturnToImportFormDialog:!0,ErrorMessage:!0,AssemblySelector:!0,FileSelector:!0,PrerenderedCanvas:!0,ResizeHandle:!0,EditableTypography:!0,FactoryResetDialog:!0,Tooltip:!0,FatalErrorDialog:!0,Menu:!0,CascadingMenu:!0,SanitizedHTML:!0};Object.defineProperty(t,"App",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"AssemblySelector",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"CascadingMenu",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"EditableTypography",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"ErrorMessage",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"FactoryResetDialog",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"FatalErrorDialog",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"FileSelector",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"LogoFull",{enumerable:!0,get:function(){return l.LogoFull}}),Object.defineProperty(t,"Logomark",{enumerable:!0,get:function(){return l.Logomark}}),Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"PrerenderedCanvas",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ResizeHandle",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"ReturnToImportFormDialog",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"SanitizedHTML",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return v.default}});var i=r(2036);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var l=r(900),u=n(r(2037)),c=n(r(2045)),s=n(r(515)),d=n(r(516)),f=n(r(905)),p=n(r(2049)),m=n(r(901)),g=n(r(514)),h=n(r(906)),v=n(r(2050)),y=n(r(2051)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=C(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(204));Object.keys(b).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===b[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}}))}));var w=n(r(907)),O=n(r(908));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(C=function(e){return e?r:t})(e)}},897:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationReference=function(e){return l.types.union(l.types.reference(e),e)},t.ConfigurationSchema=function(e,t,r){var n=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)throw new Error("first arg must be string name of the model that this config schema goes with");var n=t,a=r;r.baseConfiguration&&r.baseConfiguration.jbrowseSchemaDefinition&&(n=f(f({},r.baseConfiguration.jbrowseSchemaDefinition),n),delete(a=f(f({},r.baseConfiguration.jbrowseSchemaOptions||{}),r)).baseConfiguration);return{schemaDefinition:n,options:a}}(e,t,r),d=n.schemaDefinition,m=n.options,g=function(e,t,r){var n,d={};r.explicitlyTyped&&(d.type=l.types.optional(l.types.literal(e),e));if(r.explicitIdentifier&&r.implicitIdentifier)throw new Error("Cannot have both explicit and implicit identifiers in ".concat(e));r.explicitIdentifier?"string"==typeof r.explicitIdentifier?(d[r.explicitIdentifier]=l.types.identifier,n=r.explicitIdentifier):(d.id=l.types.identifier,n="id"):r.implicitIdentifier&&("string"==typeof r.implicitIdentifier?(d[r.implicitIdentifier]=u.ElementId,n=r.implicitIdentifier):(d.id=u.ElementId,n="id"));var m={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:r}};Object.entries(t).forEach((function(t){var r=(0,a.default)(t,2),n=r[0],o=r[1];if((0,l.isType)(o)&&(0,l.isLateType)(o)||(0,s.isConfigurationSchemaType)(o))d[n]=o;else if("string"==typeof o||"number"==typeof o)m[n]=o;else{if("object"!==(0,i.default)(o))throw new Error('invalid configuration schema definition, "'.concat(n,'" must be either a valid configuration slot definition, a constant, or a nested configuration schema'));if(!o.type)throw new Error("no type set for config slot ".concat(e,".").concat(n));try{d[n]=(0,c.default)(n,o)}catch(t){throw new Error("invalid config slot definition for ".concat(e,".").concat(n,": ").concat(t))}}}));var g=l.types.model("".concat(e,"ConfigurationSchema"),d).actions((function(e){return{setSubschema:function(t,r){if(!(0,s.isConfigurationSchemaType)(d[t]))throw new Error("".concat(t," is not a subschema, cannot replace"));var n=(0,l.isStateTreeNode)(r)?r:d[t].create(r);return e[t]=n,n}}}));Object.keys(m).length&&(g=g.volatile((function(){return m})));r.actions&&(g=g.actions(r.actions));r.views&&(g=g.views(r.views));r.extend&&(g=g.extend(r.extend));var h=n?(0,o.default)({},n,"placeholderId"):{},v=r.explicitlyTyped?f({type:e},h):h,y=(0,l.getSnapshot)(g.create(v));g=g.postProcessSnapshot((function(e){for(var t,r={},n=!0,o=0,l=Object.entries(e);o<l.length;o++){var u=(0,a.default)(l[o],2),c=u[0],s=u[1];n&&("object"===(0,i.default)(y[c])&&"object"===(0,i.default)(s)?JSON.stringify(y[c])!==JSON.stringify(s)&&(n=!1):y[c]!==s&&(n=!1)),void 0!==s&&void 0===m[c]&&(t=s,"object"!==(0,i.default)(t)||Array.isArray(t)||null===t||0!==Object.keys(t).length)&&!p(s)&&(r[c]=s)}return n?{}:r})),r.preProcessSnapshot&&(g=g.preProcessSnapshot(r.preProcessSnapshot));return l.types.optional(g,v)}(e,d,m);return g.isJBrowseConfigurationSchema=!0,g.jbrowseSchemaDefinition=d,g.jbrowseSchemaOptions=m,g};var a=n(r(12)),o=n(r(10)),i=n(r(11)),l=r(17),u=r(72),c=n(r(2035)),s=r(899);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e){return Array.isArray(e)&&0===e.length}},898:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new a.default.Jexl;return e.addFunction("get",(function(e,t){return e.get(t)})),e.addFunction("parent",(function(e){return e.parent()})),e.addFunction("id",(function(e){return e.id()})),e.addFunction("cast",(function(e){return e})),e.addFunction("log",(function(e){return console.log(e),e})),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(function(e,t){return e.split(t)})),e.addFunction("charAt",(function(e,t){return e.charAt(t)})),e.addFunction("charCodeAt",(function(e,t){return e.charCodeAt(t)})),e.addFunction("codePointAt",(function(e,t){return e.codePointAt(t)})),e.addFunction("startsWith",(function(e,t,r){return e.startsWith(t,r)})),e.addFunction("endsWith",(function(e,t,r){return e.endsWith(t,r)})),e.addFunction("padEnd",(function(e,t,r){return e.padEnd(t,r)})),e.addFunction("padStart",(function(e,t,r){return e.padStart(t,r)})),e.addFunction("repeat",(function(e,t){return e.repeat(t)})),e.addFunction("replace",(function(e,t,r){return e.replace(t,r)})),e.addFunction("replaceAll",(function(e,t,r){return e.replaceAll(t,r)})),e.addFunction("slice",(function(e,t,r){return e.slice(t,r)})),e.addFunction("startsWith",(function(e,t,r){return e.startsWith(t,r)})),e.addFunction("substring",(function(e,t,r){return e.substring(t,r)})),e.addFunction("toLowerCase",(function(e){return e.toLowerCase()})),e.addFunction("toUpperCase",(function(e){return e.toUpperCase()})),e.addFunction("trim",(function(e){return e.trim()})),e.addFunction("trimEnd",(function(e){return e.trimEnd()})),e.addFunction("trimStart",(function(e){return e.trimStart()})),e.addFunction("getTag",(function(e,t){var r=e.get("tags");return r?r[t]:e.get(t)})),e.addBinaryOp("&",15,(function(e,t){return e&t})),e};var a=n(r(665))},899:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.getConf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new TypeError("must provide a model object");var n=e,a=n.configuration;if(d(a))return u(a,t,r);throw new TypeError("cannot getConf on this model, it has no configuration")},t.getTypeNamesFromExplicitlyTypedUnion=function e(t){if((0,i.isType)(t)&&(t=(0,l.resolveLateType)(t),(0,i.isUnionType)(t))){var r=[];return(0,l.getUnionSubTypes)(t).forEach((function(t){t=(0,l.resolveLateType)(t);var n=e(t);n.length||(n=[(0,l.getDefaultValue)(t).type]);if(!n[0])throw new Error("invalid config schema type ".concat(t));r.push.apply(r,(0,o.default)(n))})),r}return[]},t.isBareConfigurationSchemaType=c,t.isConfigurationModel=d,t.isConfigurationSchemaType=s,t.isConfigurationSlotType=function(e){return"object"===(0,a.default)(e)&&null!==e&&"isJBrowseConfigurationSlot"in e},t.readConfObject=u;var a=n(r(11)),o=n(r(33)),i=r(17),l=r(166);function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new TypeError("must provide conf object to read");if(!t)return JSON.parse(JSON.stringify((0,i.getSnapshot)(e)));if("string"==typeof t){var n=e[t];if(!n&&(0,i.isStateTreeNode)(e)&&(0,i.isMapType)((0,i.getType)(e))&&(n=e.get(t)),!n)return;if(n.expr){var a=n.expr.evalSync(r);return(0,i.isStateTreeNode)(a)?JSON.parse(JSON.stringify((0,i.getSnapshot)(a))):a}return(0,i.isStateTreeNode)(n)?JSON.parse(JSON.stringify((0,i.getSnapshot)(n))):n}var o=t[0];if(t.length>1){var l=t.slice(1),c=e[o];return!c&&(0,i.isStateTreeNode)(e)&&(0,i.isMapType)((0,i.getType)(e))&&(c=e.get(o)),c?u(c,l,r):void 0}return u(e,o,r)}function c(e){if((0,i.isType)(e)){if((0,i.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema")))return!0;if((0,i.isLateType)(e))return!0}return!1}function s(e){return!!(0,i.isType)(e)&&(!!c(e)||((0,i.isUnionType)(e)?(0,l.getUnionSubTypes)(e).every((function(e){return s(e)||"undefined"===e.name})):!(!(0,i.isOptionalType)(e)||!s((0,l.getSubType)(e)))||(!(!(0,i.isArrayType)(e)||!s((0,l.getSubType)(e)))||!(!(0,i.isMapType)(e)||!s((0,l.getSubType)(e))))))}function d(e){return(0,i.isStateTreeNode)(e)&&s((0,i.getType)(e))}},90:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSequenceAdapter=t.BaseFeatureDataAdapter=t.BaseAdapter=void 0,t.isFeatureAdapter=function(e){return"getFeatures"in e},t.isRefNameAliasAdapter=function(e){return"getRefNameAliases"in e},t.isRegionsAdapter=function(e){return"getRegions"in e},t.isSequenceAdapter=function(e){return"getRegions"in e&&"getFeatures"in e},t.isTextSearchAdapter=function(e){return"searchIndex"in e};var a=n(r(19)),o=n(r(33)),i=n(r(21)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(16)),d=n(r(15)),f=n(r(10)),p=r(144),m=r(52),g=r(17),h=r(116),v=r(32),y=r(29),b=r(914),w=n(r(915));function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var E=(0,s.default)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,y.ConfigurationSchema)("empty",{}).create(),r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if((0,d.default)(this,e),this.config=t,this.getSubAdapter=r,this.pluginManager=n,(0,f.default)(this,"id",void 0),"undefined"==typeof jest){var a=(0,g.isStateTreeNode)(t)?(0,g.getSnapshot)(t):t;this.id="".concat((0,w.default)(a))}else this.id="test"}));t.BaseAdapter=E,(0,f.default)(E,"capabilities",[]);var S=function(e){(0,l.default)(w,e);var t,r,n,u,c,f,g=k(w);function w(){return(0,d.default)(this,w),g.apply(this,arguments)}return(0,s.default)(w,[{key:"getConf",value:function(e){return(0,y.readConfObject)(this.config,e)}},{key:"getHeader",value:(f=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"getMetadata",value:(c=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return c.apply(this,arguments)})},{key:"getFeaturesInRegion",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,h.ObservableCreate)(function(){var n=(0,i.default)(a.default.mark((function n(o){var i;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.hasDataForRefName(e.refName,r);case 2:i=n.sent,(0,v.checkAbortSignal)(r.signal),i?t.getFeatures(e,r).subscribe(o):o.complete();case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.merge.apply(void 0,(0,o.default)(e.map((function(e){return t.getFeaturesInRegion(e,r)}))))}},{key:"hasDataForRefName",value:(u=(0,i.default)(a.default.mark((function e(t){var r,n,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.getRefNames(r);case 3:return n=e.sent,e.abrupt("return",n.includes(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return u.apply(this,arguments)})},{key:"getRegionStats",value:(n=(0,i.default)(a.default.mark((function e(t,r){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getFeatures(t,r),e.abrupt("return",(0,b.scoresToStats)(t,n));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"getMultiRegionStats",value:(r=(0,i.default)(a.default.mark((function e(){var t,r,n,o,i,l,u,c,s,d=this,f=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:[],r=f.length>1?f[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",(0,b.blankStats)());case 4:return e.next=6,Promise.all(t.map((function(e){return d.getRegionStats(e,r)})));case 6:return n=e.sent,o=n.map((function(e){return e.scoreMax})).reduce((function(e,t){return Math.max(e,t)})),i=n.map((function(e){return e.scoreMin})).reduce((function(e,t){return Math.min(e,t)})),l=n.reduce((function(e,t){return e+t.scoreSum}),0),u=n.reduce((function(e,t){return e+t.scoreSumSquares}),0),c=n.reduce((function(e,t){return e+t.featureCount}),0),s=n.reduce((function(e,t){return e+t.basesCovered}),0),e.abrupt("return",(0,b.rectifyStats)({scoreMin:i,scoreMax:o,featureCount:c,basesCovered:s,scoreSumSquares:u,scoreSum:l}));case 14:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"estimateRegionsStats",value:(t=(0,i.default)(a.default.mark((function e(t,r){var n,o,l,u,c=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}throw new Error("No regions to estimate stats for");case 2:return n=t[0],o=+Date.now(),l=function(){var e=(0,i.default)(a.default.mark((function e(t,o){var i,l,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.start,l=n.end,s=.75*i+.25*l,d=C(C({},n),{},{start:Math.max(0,Math.round(s-t/2)),end:Math.min(Math.round(s+t/2),l)}),e.next=5,c.getFeatures(d,r).pipe((0,m.toArray)()).toPromise();case 5:return f=e.sent,e.abrupt("return",u(t,{featureDensity:f.length/t},f.length,o));case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),u=function(){var e=(0,i.default)(a.default.mark((function e(t,r,i,u){var c,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.end-n.start,!(i>=70||2*t>c)){e.next=5;break}return e.abrupt("return",r);case 5:if(!(u<=5e3)){e.next=12;break}return s=+Date.now(),u+=s-o,o=s,e.abrupt("return",l(2*t,u));case 12:return console.warn("Stats estimation reached timeout, or didn't get enough features"),e.abrupt("return",{featureDensity:1/0});case 14:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),e.abrupt("return",l(1e3,0));case 7:case"end":return e.stop()}}),e)}))),function(e,r){return t.apply(this,arguments)})}]),w}(E);t.BaseFeatureDataAdapter=S;var P=function(e){(0,l.default)(n,e);var t,r=k(n);function n(){return(0,d.default)(this,n),r.apply(this,arguments)}return(0,s.default)(n,[{key:"estimateRegionsStats",value:(t=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{featureDensity:0});case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),n}(S);t.BaseSequenceAdapter=P},900:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.LogoFull=function(e){var t=e.variant;return a.default.createElement("svg",{viewBox:"0 0 641 175"},a.default.createElement(l,{variant:t}),a.default.createElement(i,{variant:t}))},t.Logomark=function(e){var t=e.variant;return a.default.createElement("svg",{viewBox:"0 0 175 175"},a.default.createElement(i,{variant:t}))};var a=n(r(1));function o(e){return"black"===e?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:"white"===e?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function i(e){var t=o(e.variant);return a.default.createElement(a.default.Fragment,null,a.default.createElement("path",{style:{fill:t.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),a.default.createElement("path",{style:{fill:t.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),a.default.createElement("path",{style:{fill:t.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),a.default.createElement("path",{style:{fill:t.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),a.default.createElement("path",{style:{fill:t.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"}))}function l(e){var t=o(e.variant);return a.default.createElement("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:t.midnight}},a.default.createElement("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),a.default.createElement("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),a.default.createElement("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),a.default.createElement("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),a.default.createElement("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),a.default.createElement("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),a.default.createElement("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"}))}},901:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(36)),i=n(r(12)),l=n(r(45)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(34),s=n(r(20)),d=["onDrag","vertical","flexbox","className"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}var p=(0,c.makeStyles)({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});var m=function(e){var t,r=e.onDrag,n=e.vertical,a=void 0!==n&&n,c=e.flexbox,f=void 0!==c&&c,m=e.className,g=(0,l.default)(e,d),h=(0,u.useState)(!1),v=(0,i.default)(h,2),y=v[0],b=v[1],w=(0,u.useRef)(0),O=p();return(0,u.useEffect)((function(){function e(e){e.preventDefault();var t=a?e.clientX:e.clientY,n=t-w.current;n&&(r(n),w.current=t)}function t(){b(!1)}return y?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",t,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",t,!0)}):function(){}}),[y,r,a]),t=f?a?O.flexbox_verticalHandle:O.flexbox_horizontalHandle:a?O.verticalHandle:O.horizontalHandle,u.default.createElement("div",(0,o.default)({"data-resizer":"true",onMouseDown:function(e){e.preventDefault(),w.current=a?e.clientX:e.clientY,b(!0)},role:"presentation",className:(0,s.default)(t,m)},g))};t.default=m},902:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.abortBreakPoint=function(e){return b.apply(this,arguments)},t.checkAbortSignal=v,t.isAbortException=function(e){return e instanceof Error&&("AbortError"===e.name||"ERR_ABORTED"===e.code||!!e.message.match(/\b(aborted|AbortError)\b/i))},t.makeAbortError=w,t.observeAbortSignal=function(e){if(!e)return m.Observable.create();return(0,m.fromEvent)(e,"abort")};var a=n(r(19)),o=n(r(21)),i=n(r(16)),l=n(r(15)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(180)),p=n(r(10)),m=r(144);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var h=function(e){(0,c.default)(r,e);var t=g(r);function r(){var e;(0,l.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,p.default)((0,u.default)(e),"code",void 0),e}return(0,i.default)(r)}((0,f.default)(Error));function v(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw w()}}function y(e){return new Promise((function(t){return setTimeout(t,e)}))}function b(){return(b=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(1);case 2:v(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){if("undefined"!=typeof DOMException)return new DOMException("aborted","AbortError");var e=new h("aborted");return e.code="ERR_ABORTED",e}},903:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesIntersect2=function(e,t,r,n){return t>r&&e<n},t.intersection2=function(e,t,r,n){if(t>r&&e<n&&n-r&&t-e)return e>r?t<n?[e,t]:[e,n]:t<n?[r,t]:[r,n];return[]},t.isContainedWithin=function(e,t,r,n){return r<=e&&n>=t}},904:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.renderToAbstractCanvas=function(e,t,r,n){return s.apply(this,arguments)};var a=n(r(19)),o=n(r(21)),i=n(r(1)),l=r(513),u=r(185),c=r(32);function s(){return(s=(0,o.default)(a.default.mark((function e(t,r,n,o){var s,d,f,p,m,g,h,v,y;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=n.exportSVG,d=n.highResolutionScaling,f=void 0===d?1:d,!s){e.next=37;break}if(s.rasterizeLayers){e.next=9;break}return p=new u.CanvasSequence,e.next=6,o(p);case 6:return e.abrupt("return",{canvasRecordedData:p.toJSON()});case 9:if(m=4,g=(0,l.createCanvas)(Math.ceil(t*m),r*m),h=g.getContext("2d")){e.next=14;break}throw new Error("2d canvas rendering not supported on this platform");case 14:return h.scale(m,m),e.next=17,o(h);case 17:if(e.t0=i.default,e.t1=t,e.t2=r,!("convertToBlob"in g)){e.next=30;break}return e.t4=c.blobToDataURL,e.next=24,g.convertToBlob({type:"image/png"});case 24:return e.t5=e.sent,e.next=27,(0,e.t4)(e.t5);case 27:e.t3=e.sent,e.next=31;break;case 30:e.t3=g.toDataURL();case 31:return e.t6=e.t3,e.t7={width:e.t1,height:e.t2,xlinkHref:e.t6},e.t8=e.t0.createElement.call(e.t0,"image",e.t7),e.abrupt("return",{reactElement:e.t8});case 35:e.next=48;break;case 37:if(v=(0,l.createCanvas)(Math.ceil(t*f),r*f),y=v.getContext("2d")){e.next=41;break}throw new Error("2d canvas rendering not supported on this platform");case 41:return y.scale(f,f),e.next=44,o(y);case 44:return e.next=46,(0,l.createImageBitmap)(v);case 46:return e.t9=e.sent,e.abrupt("return",{imageData:e.t9});case 48:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},905:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(2046)).default;t.default=a},906:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(70)),o=n(r(104)),i=n(r(123)),l=n(r(124)),u=n(r(242)),c=n(r(156)),s=n(r(1));t.default=function(e){var t=e.onClose,r=e.open,n=e.onFactoryReset;function d(e){"reset"===e&&n(),t()}return s.default.createElement(o.default,{open:r,onClose:function(){return d()}},s.default.createElement(i.default,{id:"alert-dialog-title"},"Reset"),s.default.createElement(l.default,null,s.default.createElement(u.default,{id:"alert-dialog-description"},"Are you sure you want to reset? This will restore the default configuration.")),s.default.createElement(c.default,null,s.default.createElement(a.default,{onClick:function(){return d()},color:"primary"},"Cancel"),s.default.createElement(a.default,{onClick:function(){return d("reset")},color:"primary",variant:"contained"},"OK")))}},907:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(36)),i=n(r(45)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(23),c=r(204),s=r(326),d=n(r(702)),f=n(r(703)),p=["onClick"],m=["title","inset","popupId"],g=["popupState","onMenuItemClick","menuItems","classes"],h=["popupState","onMenuItemClick","menuItems"],v=["onMenuItemClick","menuItems"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}var b=l.default.createContext({parentPopupState:null,rootPopupState:null});function w(e){var t=e.onClick,r=(0,i.default)(e,p),n=(0,l.useContext)(b).rootPopupState;if(!n)throw new Error("must be used inside a CascadingMenu");var a=(0,l.useCallback)((function(e){n.close(e),t&&t(e)}),[n,t]);return l.default.createElement(u.MenuItem,(0,o.default)({},r,{onClick:a}))}function O(e){var t=e.title,r=e.inset,n=e.popupId,a=(0,i.default)(e,m),c=l.default.useContext(b).parentPopupState,d=(0,s.usePopupState)({popupId:n,variant:"popover",parentPopupState:c});return l.default.createElement(l.default.Fragment,null,l.default.createElement(u.MenuItem,(0,o.default)({},(0,s.bindHover)(d),(0,s.bindFocus)(d)),l.default.createElement(u.ListItemText,{primary:t,inset:r}),l.default.createElement(f.default,null)),l.default.createElement(C,(0,o.default)({},a,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},popupState:d})))}function C(e){var t=e.popupState,r=(e.onMenuItemClick,e.menuItems,e.classes,(0,i.default)(e,g)),n=(0,l.useContext)(b).rootPopupState,a=(0,l.useMemo)((function(){return{rootPopupState:n||t,parentPopupState:t}}),[n,t]);return l.default.createElement(b.Provider,{value:a},l.default.createElement(d.default,(0,o.default)({},r,(0,s.bindMenu)(t))))}function k(e){var t=e.popupState,r=(e.onMenuItemClick,e.menuItems,(0,i.default)(e,h)),n=l.default.useContext(b).rootPopupState,a=l.default.useMemo((function(){return{rootPopupState:n||t,parentPopupState:t}}),[n,t]);return l.default.createElement(b.Provider,{value:a},l.default.createElement(u.Menu,(0,o.default)({},r,(0,s.bindMenu)(t))))}function E(e){var t=e.item;return"subMenu"in t?l.default.createElement(c.MenuItemEndDecoration,{type:"subMenu"}):"checkbox"===t.type||"radio"===t.type?l.default.createElement(c.MenuItemEndDecoration,{type:t.type,checked:t.checked,disabled:t.disabled}):null}function S(e){var t=e.onMenuItemClick,r=e.menuItems,n=(0,i.default)(e,v);var a=r.some((function(e){return"icon"in e&&e.icon}));return l.default.createElement(l.default.Fragment,null,r.map((function(e,r){return"subMenu"in e?l.default.createElement(O,{key:"subMenu-".concat(e.label,"-").concat(r),popupId:"subMenu-".concat(e.label),title:e.label,inset:a,onMenuItemClick:t,menuItems:e.subMenu},l.default.createElement(S,(0,o.default)({},n,{onMenuItemClick:t,menuItems:e.subMenu}))):"divider"===e.type?l.default.createElement(u.Divider,{key:"divider-".concat(r),component:"li"}):"subHeader"===e.type?l.default.createElement(u.ListSubheader,{key:"subHeader-".concat(e.label,"-").concat(r)},e.label):l.default.createElement(w,{key:"".concat(e.label,"-").concat(r),onClick:"onClick"in e?(i=e.onClick,function(e){t(e,i)}):void 0,disabled:Boolean(e.disabled)},e.icon?l.default.createElement(u.ListItemIcon,null,l.default.createElement(e.icon,null)):null," ",l.default.createElement(u.ListItemText,{primary:e.label,secondary:e.subLabel,inset:a&&!e.icon}),l.default.createElement("div",{style:{flexGrow:1,minWidth:10}}),l.default.createElement(E,{item:e}));var i})))}var P=function(e){return l.default.createElement(k,e,l.default.createElement(S,e))};t.default=P},908:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.html,r=d(t)?t:(0,i.default)(t);return(0,o.useEffect)((function(){c||(c=!0,l.default.addHook("afterSanitizeAttributes",(function(e){"A"===e.tagName&&(e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"))})))}),[]),o.default.createElement("div",{dangerouslySetInnerHTML:{__html:l.default.sanitize(r)}})},t.isHTML=d;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),i=n(r(705)),l=n(r(706));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=!1,s=new RegExp(["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","td","tfoot","th","thead","tr","u","ul"].map((function(e){return"<".concat(e,"\\b[^>]*>")})).join("|"),"i");function d(e){return s.test(e)}},909:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createConfigModel",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"createSessionModel",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=n(r(2054)),o=n(r(944)),i=n(r(943))},910:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeAbortSignal=function(e){var t=e.abortSignalId,r=l.get(t);r||(r=new AbortController,l.set(t,r));return r.signal},t.isRemoteAbortSignal=function(e){return"object"===(0,a.default)(e)&&null!==e&&"abortSignalId"in e&&"number"==typeof e.abortSignalId},t.remoteAbort=u,t.remoteAbortRpcHandler=function(){return{signalAbort:u}},t.serializeAbortSignal=function(e,t){var r=i.get(e);r||(o+=1,i.set(e,o),r=o,e.addEventListener("abort",(function(){var r=i.get(e);void 0!==r&&t("signalAbort",r)})));return{abortSignalId:r}};var a=n(r(11)),o=0,i=new WeakMap;var l=new Map;function u(e){var t=e.signalId,r=l.get(t);r&&r.abort()}},911:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10)),d=n(r(114)),f=r(166);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var m=function(e){(0,l.default)(r,e);var t=p(r);function r(e){var n;if((0,o.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"stateModel",void 0),(0,s.default)((0,i.default)(n),"configSchema",void 0),n.stateModel=e.stateModel,n.configSchema=e.configSchema,!n.stateModel)throw new Error("no stateModel defined for internet account type ".concat(n.name));if(!n.configSchema)throw new Error("no configSchema provided for internet account type ".concat(n.name));if(!(0,f.getDefaultValue)(n.configSchema).type){var a=n.configSchema?n.configSchema.name:"UNKNOWN";throw new Error("".concat(a," is not explicitlyTyped"))}return n}return(0,a.default)(r)}(d.default);t.default=m},912:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(16)),o=n(r(15)),i=n(r(30)),l=n(r(25)),u=n(r(26)),c=n(r(24)),s=n(r(10));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,u.default)(this,r)}}var f=function(e){(0,l.default)(r,e);var t=d(r);function r(e){var n;if((0,o.default)(this,r),n=t.call(this,e),(0,s.default)((0,i.default)(n),"AdapterClass",void 0),(0,s.default)((0,i.default)(n),"configSchema",void 0),(0,s.default)((0,i.default)(n),"description",void 0),n.description=e.description,n.configSchema=e.configSchema,n.AdapterClass=e.AdapterClass,!n.AdapterClass)throw new Error("no AdapterClass defined for adapter type ".concat(n.name));return n}return(0,a.default)(r)}(n(r(114)).default);t.default=f},913:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(2060)).default;t.default=a},914:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.blankStats=function(){return{scoreMin:0,scoreMax:0,scoreMean:0,scoreStdDev:0,scoreSum:0,scoreSumSquares:0,featureCount:0,featureDensity:0,basesCovered:0}},t.calcPerBaseStats=function(e,t){var r=e.start,n=e.end,a=[],o=t.sort((function(e,t){return e.get("start")-t.get("start")})),i=r,l=0,u=0;for(;i<n;){for(;l<o.length&&i>=o[l].get("end");)l+=1;var c=o[l];c&&i>=c.get("start")&&i<c.get("end")?a[u]=c.get("score"):a[u]=0,u+=1,i+=1}return a},t.calcStdFromSums=s,t.rectifyStats=d,t.scoresToStats=function(e,t){return f.apply(this,arguments)};var a=n(r(19)),o=n(r(21)),i=n(r(10)),l=r(52);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){var n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return 0===r?0:(a?n=t/r-e*e/(r*r):(n=t-e*e/r,r>1&&(n/=r-1)),n<0?0:Math.sqrt(n))}function d(e){return c(c({},e),{},{scoreMean:(e.scoreSum||0)/(e.featureCount||e.basesCovered||1),scoreStdDev:s(e.scoreSum,e.scoreSumSquares,e.featureCount||e.basesCovered),featureDensity:(e.featureCount||1)/e.basesCovered})}function f(){return(f=(0,o.default)(a.default.mark((function e(t,r){var n,o,i,u,c,s,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.start,o=t.end,e.next=3,r.pipe((0,l.reduce)((function(e,t){var r=t.get("score");return e.scoreMax=Math.max(e.scoreMax,t.get("summary")?t.get("maxScore"):r),e.scoreMin=Math.min(e.scoreMin,t.get("summary")?t.get("minScore"):r),e.scoreSum+=r,e.scoreSumSquares+=r*r,e.featureCount+=1,e}),{scoreMin:Number.MAX_VALUE,scoreMax:Number.MIN_VALUE,scoreSum:0,scoreSumSquares:0,featureCount:0})).toPromise();case 3:return i=e.sent,u=i.scoreMin,c=i.scoreMax,s=i.scoreSum,f=i.scoreSumSquares,p=i.featureCount,e.abrupt("return",d({scoreMax:c,scoreMin:u,scoreSum:s,scoreSumSquares:f,featureCount:p,basesCovered:o-n+1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},915:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Object.keys(t),i=0;i<n.length;i++){var l=n[i];if(r.length>5e3)break;"object"===(0,a.default)(t[l])&&t[l]?r+=e(t[l],r):r+="".concat(l,"-").concat(t[l],";")}return(0,o.hashCode)(r)};var a=n(r(11)),o=r(32)},916:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.calculateUTRs=function(e,t){var r=e[0],n=e[e.length-1],o=t.findIndex((function(e){return e.end>=r.start&&e.start<=r.start})),i=t.findIndex((function(e){return e.end>=n.end&&e.start<=n.end})),u=t[i],c=t[o],s=[].concat((0,a.default)(t.slice(0,o)),[{start:c.start,end:r.start}]).map((function(e){return l(l({},e),{},{type:"five_prime_UTR"})})),d=[{start:n.end,end:u.end}].concat((0,a.default)(t.slice(i+1))).map((function(e){return l(l({},e),{},{type:"three_prime_UTR"})}));return[].concat((0,a.default)(s),(0,a.default)(d))},t.dedupe=function(e){return e.filter((function(e,t,r){return!t||u(e)!==u(r[t-1])}))},t.ellipses=function(e){return e.length>20?"".concat(e.slice(0,20),"..."):e},t.revlist=function(e,t){return e.map((function(e){return l(l({},e),{},{start:t-e.end,end:t-e.start})})).sort((function(e,t){return e.start-t.start}))},t.stitch=function(e,t){return e.map((function(e){return t.slice(e.start,e.end)})).join("")};var a=n(r(33)),o=n(r(10));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return"".concat(e.start,"-").concat(e.end)}},917:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.offsetPx,u=e.displayedRegions,c=e.bpPerPx,s=e.width,d=e.minimumBlockWidth,f=e.interRegionPaddingWidth;if(!s)throw new Error("view has no width, cannot calculate displayed blocks");var p=new l.BlockSet,m=0,g=n,h=g+s;return u.forEach((function(e,v){var y=e.assemblyName,b=e.refName,w=e.start,O=e.end,C=e.reversed,k=m+(O-w)/c,E=(O-w)/c;if(m<h&&k>g){var S,P,x,j,M,T=(0,o.intersection2)(g,h,m,k),R=(0,a.default)(T,2),D=R[0],I=R[1];C?(S=Math.max(w,O-(I-m)*c),x=(P=O-(D-m)*c)===O,j=S===w,M=m+(O-P)/c):(x=(S=(D-m)*c+w)===w,j=(P=Math.min(O,(I-m)*c+w))===O,M=m+(S-w)/c);var A={assemblyName:y,refName:b,start:S,end:P,reversed:C,offsetPx:M,parentRegion:e,regionNumber:v,widthPx:(P-S)/c,isLeftEndOfDisplayedRegion:x,isRightEndOfDisplayedRegion:j,key:""};A.key="".concat((0,i.assembleLocString)(A),"-").concat(v).concat(C?"-reversed":""),t&&0===p.length&&x&&p.push(new l.InterRegionPaddingBlock({key:"".concat(A.key,"-beforeFirstRegion"),widthPx:-n,offsetPx:A.offsetPx+n,variant:"boundary"})),r&&E<d?p.push(new l.ElidedBlock(A)):p.push(new l.ContentBlock(A)),t&&(E>=d&&A.isRightEndOfDisplayedRegion&&v<u.length-1&&(p.push(new l.InterRegionPaddingBlock({key:"".concat(A.key,"-rightpad"),widthPx:f,offsetPx:A.offsetPx+A.widthPx})),m+=f),v===u.length-1&&A.isRightEndOfDisplayedRegion&&(M=A.offsetPx+A.widthPx,p.push(new l.InterRegionPaddingBlock({key:"".concat(A.key,"-afterLastRegion"),widthPx:s-M+n,offsetPx:M,variant:"boundary"}))))}m+=(O-w)/c})),p};var a=n(r(12)),o=r(903),i=r(32),l=r(206)},918:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"undefined"!=typeof window&&window.innerWidth||e.width,l=e.offsetPx,u=e.displayedRegions,c=e.bpPerPx,s=e.minimumBlockWidth,d=e.interRegionPaddingWidth,f=l*c,p=(l+i)*c,m=i,g=Math.ceil(m*c),h=0,v=new a.BlockSet;return u.forEach((function(e,l){var m=e.assemblyName,y=e.refName,b=e.start,w=e.end,O=e.reversed,C=Math.ceil((w-b)/g),k=Math.floor((p-h)/g)+o;k>=C&&(k=C-1);var E=Math.floor((f-h)/g)-o;E<0&&(E=0);for(var S=(w-b)/c,P=E;P<=k;P+=1){var x=void 0,j=void 0,M=void 0,T=void 0;O?(x=Math.max(b,w-(P+1)*g),M=(j=w-P*g)===w,T=x===b):(M=(x=b+P*g)===b,T=(j=Math.min(w,b+(P+1)*g))===w);var R={assemblyName:m,refName:y,start:x,end:j,reversed:O,offsetPx:(h+P*g)/c,parentRegion:e,regionNumber:l,widthPx:(j-x)/c,isLeftEndOfDisplayedRegion:M,isRightEndOfDisplayedRegion:T,key:""};R.key="".concat((0,n.assembleLocString)(R),"-").concat(l).concat(O?"-reversed":""),t&&0===l&&0===P&&v.push(new a.InterRegionPaddingBlock({key:"".concat(R.key,"-beforeFirstRegion"),widthPx:i,offsetPx:R.offsetPx-i,variant:"boundary"})),r&&S<s?v.push(new a.ElidedBlock(R)):v.push(new a.ContentBlock(R)),t&&(S>=s&&R.isRightEndOfDisplayedRegion&&l<u.length-1&&(h+=d*c,v.push(new a.InterRegionPaddingBlock({key:"".concat(R.key,"-rightpad"),widthPx:d,offsetPx:R.offsetPx+R.widthPx}))),l===u.length-1&&R.isRightEndOfDisplayedRegion&&(h+=d*c,v.push(new a.InterRegionPaddingBlock({key:"".concat(R.key,"-afterLastRegion"),widthPx:i,offsetPx:R.offsetPx+R.widthPx,variant:"boundary"}))))}h+=w-b})),v};var n=r(32),a=r(206)},919:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LayoutSession=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(21)),l=n(r(30)),u=n(r(51)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(15)),p=n(r(16)),m=n(r(10)),g=n(r(332)),h=n(r(920)),v=n(r(520)),y=n(r(521)),b=n(r(207)),w=r(32),O=r(29);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){(0,m.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var S=function(){function e(t){(0,f.default)(this,e),(0,m.default)(this,"config",void 0),(0,m.default)(this,"bpPerPx",void 0),(0,m.default)(this,"filters",void 0),(0,m.default)(this,"cachedLayout",void 0),this.config=t.config,this.bpPerPx=t.bpPerPx,this.filters=t.filters,this.update(t)}return(0,p.default)(e,[{key:"update",value:function(e){Object.assign(this,e)}},{key:"makeLayout",value:function(){return new v.default(h.default,{maxHeight:(0,O.readConfObject)(this.config,"maxHeight"),displayMode:(0,O.readConfObject)(this.config,"displayMode"),pitchX:this.bpPerPx,pitchY:(0,O.readConfObject)(this.config,"noSpacing")?1:3})}},{key:"cachedLayoutIsValid",value:function(e){return e&&e.layout.subLayoutConstructorArgs.pitchX===this.bpPerPx&&(0,g.default)((0,O.readConfObject)(this.config),e.config)&&(0,g.default)(this.filters,e.filters)}},{key:"layout",get:function(){return this.cachedLayout&&this.cachedLayoutIsValid(this.cachedLayout)||(this.cachedLayout={layout:this.makeLayout(),config:(0,O.readConfObject)(this.config),filters:this.filters}),this.cachedLayout.layout}}]),e}();t.LayoutSession=S;var P=function(e){(0,c.default)(s,e);var t,r,n=E(s);function s(){var e;(0,f.default)(this,s);for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r)),(0,m.default)((0,l.default)(e),"sessions",{}),e}return(0,p.default)(s,[{key:"getWorkerSession",value:function(e){var t=(0,w.getLayoutId)(e);this.sessions[t]||(this.sessions[t]=this.createSession(e));var r=this.sessions[t];return r.update(e),r}},{key:"getExpandedRegion",value:function(e,t){if(!e)return e;var r=t.bpPerPx,n=t.config,a=void 0===n?0:(0,O.readConfObject)(n,"maxFeatureGlyphExpansion");if(!a)return e;var o=Math.round(a*r);return k(k({},e),{},{start:Math.floor(Math.max(e.start-o,0)),end:Math.ceil(e.end+o)})}},{key:"createSession",value:function(e){return new S(e)}},{key:"freeResourcesInClient",value:(r=(0,i.default)(a.default.mark((function e(t,r){var n,o,i,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.regions,o=(0,w.getLayoutId)(r),i=0,l=this.sessions[o],!n&&l&&(delete this.sessions[o],i=1),l&&n&&l.layout.discardRange(n[0].refName,n[0].start,n[0].end),e.t0=i,e.next=9,(0,u.default)((0,d.default)(s.prototype),"freeResourcesInClient",this).call(this,t,r);case 9:return e.t1=e.sent,e.abrupt("return",e.t0+e.t1);case 11:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"deserializeLayoutInClient",value:function(e){return new y.default(e)}},{key:"deserializeResultsInClient",value:function(e,t){var r=this.deserializeLayoutInClient(e.layout);return(0,u.default)((0,d.default)(s.prototype),"deserializeResultsInClient",this).call(this,k(k({},e),{},{layout:r}),t)}},{key:"createLayoutInWorker",value:function(e){var t=e.regions;return this.getWorkerSession(e).layout.getSublayout(t[0].refName)}},{key:"serializeResultsInWorker",value:function(e,t){var r=(0,u.default)((0,d.default)(s.prototype),"serializeResultsInWorker",this).call(this,e,t),n=(0,o.default)(t.regions,1)[0];return r.layout=e.layout.serializeRegion(this.getExpandedRegion(n,t)),r.layout.rectangles&&(r.features=r.features.filter((function(e){return Boolean(r.layout.rectangles[e.uniqueId])}))),r.maxHeightReached=r.layout.maxHeightReached,r}},{key:"render",value:(t=(0,i.default)(a.default.mark((function e(t){var r,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.layout||this.createLayoutInWorker(t),e.next=3,(0,u.default)((0,d.default)(s.prototype),"render",this).call(this,k(k({},t),{},{layout:r}));case 3:return n=e.sent,e.abrupt("return",k(k({},n),{},{layout:r}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(b.default);t.default=P},920:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(12)),o=n(r(15)),i=n(r(16)),l=n(r(10)),u=r(32);function c(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(e,t,r,n){return t>=r&&n>=e}var f=function(){function e(){(0,o.default)(this,e),(0,l.default)(this,"padding",void 0),(0,l.default)(this,"allFilled",void 0),(0,l.default)(this,"widthLimit",void 0),(0,l.default)(this,"rowState",void 0),this.padding=1,this.widthLimit=1e6}return(0,i.default)(e,[{key:"setAllFilled",value:function(e){this.allFilled=e}},{key:"getItemAt",value:function(e){if(this.allFilled)return this.allFilled;if(this.rowState&&void 0!==this.rowState.min&&!(e<this.rowState.min||e>=this.rowState.max)){var t=e-this.rowState.offset;return this.rowState.bits[t]}}},{key:"isRangeClear",value:function(e,t){if(this.allFilled)return!1;if(!this.rowState)return!0;var r=this.rowState,n=r.min,a=r.max;if(t<=n||e>=a)return!0;for(var o=Math.min(a,t),i=Math.max(n,e);i<t&&i<o;i+=1)if(this.getItemAt(i))return!1;return!0}},{key:"initialize",value:function(e,t){var r=t-e;return{offset:e-r,min:e,max:t,bits:new Array(3*r)}}},{key:"addRect",value:function(e,t){var r=e.l,n=e.r+this.padding;this.rowState||(this.rowState=this.initialize(r,n));var a=r-this.rowState.offset,o=n-this.rowState.offset,i=this.rowState.bits.length;if(o>=this.rowState.bits.length){var l=o+1;this.rowState.bits.length+l>this.widthLimit?(console.warn("Layout width limit exceeded, discarding old layout. Please be more careful about discarding unused blocks."),this.rowState=this.initialize(r,n)):l>0&&(this.rowState.bits=this.rowState.bits.concat(new Array(l)))}if(r<this.rowState.offset){var u=Math.min(i-a,this.rowState.offset);this.rowState.bits.length+u>this.widthLimit?(console.warn("Layout width limit exceeded, discarding old layout. Please be more careful about discarding unused blocks."),this.rowState=this.initialize(r,n)):(this.rowState.bits=new Array(u).concat(this.rowState.bits),this.rowState.offset-=u)}var c=(o=n-this.rowState.offset)-(a=r-this.rowState.offset);c>2e4&&console.warn("Layout X pitch set too low, feature spans ".concat(c," bits in a single row."),e,t);for(var s=a;s<o;s+=1)this.rowState.bits[s]=t;r<this.rowState.min&&(this.rowState.min=r),n>this.rowState.max&&(this.rowState.max=n)}},{key:"discardRange",value:function(e,t){if(!this.allFilled&&this.rowState&&!(t<=this.rowState.min||e>=this.rowState.max))if(e<=this.rowState.min&&t>=this.rowState.max)this.rowState=void 0;else{if(t>this.rowState.min&&e<=this.rowState.min&&(this.rowState.min=t),e<this.rowState.max&&t>=this.rowState.max&&(this.rowState.max=e),this.rowState.offset<this.rowState.min-1e4&&this.rowState.bits.length>this.rowState.max+1e4-this.rowState.offset){var r=this.rowState.min-this.rowState.offset,n=this.rowState.bits.length-1-(this.rowState.max-this.rowState.offset);this.rowState.bits=this.rowState.bits.slice(r,this.rowState.bits.length-n),this.rowState.offset+=r}else if(this.rowState.offset<this.rowState.min-1e4){var a=this.rowState.min-Math.floor(5e3)-this.rowState.offset;this.rowState.bits.splice(0,a),this.rowState.offset+=a}else if(this.rowState.bits.length>this.rowState.max-this.rowState.offset+1e4){var o=this.rowState.max-this.rowState.offset+1+Math.floor(5e3);this.rowState.bits.length=o}for(var i=Math.max(this.rowState.min,e)-this.rowState.offset,l=Math.min(t,this.rowState.max)-this.rowState.offset,u=i;u>=0&&u<l;u+=1)this.rowState.bits[u]=void 0}}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.pitchX,n=void 0===r?10:r,a=t.pitchY,i=void 0===a?10:a,u=t.maxHeight,c=void 0===u?1e4:u,s=t.hardRowLimit,d=void 0===s?1e4:s,f=t.displayMode,p=void 0===f?"normal":f;(0,o.default)(this,e),(0,l.default)(this,"pitchX",void 0),(0,l.default)(this,"pitchY",void 0),(0,l.default)(this,"hardRowLimit",void 0),(0,l.default)(this,"bitmap",void 0),(0,l.default)(this,"rectangles",void 0),(0,l.default)(this,"maxHeightReached",void 0),(0,l.default)(this,"maxHeight",void 0),(0,l.default)(this,"displayMode",void 0),(0,l.default)(this,"pTotalHeight",void 0),this.pitchX=n,this.pitchY=i,this.hardRowLimit=d,this.maxHeightReached=!1,this.displayMode=p,"compact"===this.displayMode&&(this.pitchY=Math.round(this.pitchY/4)||1,this.pitchX=Math.round(this.pitchX/4)||1),this.bitmap=[],this.rectangles=new Map,this.maxHeight=Math.ceil(c/this.pitchY),this.pTotalHeight=0}return(0,i.default)(e,[{key:"addRect",value:function(e,t,r,n,a){var o=this.rectangles.get(e);if(o)return null===o.top?null:(this.addRectToBitmap(o),o.top*this.pitchY);var i=Math.floor(t/this.pitchX),l=Math.floor(r/this.pitchX),u=Math.ceil(n/this.pitchY),c={id:e,l:i,r:l,top:null,h:u,originalHeight:n,data:a},s=this.maxHeight-u,d=0;if("collapse"!==this.displayMode){for(;d<=s&&this.collides(c,d);d+=1);if(d>s)return c.top=null,this.rectangles.set(e,c),this.maxHeightReached=!0,null}return c.top=d,this.addRectToBitmap(c),this.rectangles.set(e,c),this.pTotalHeight=Math.max(this.pTotalHeight||0,d+u),d*this.pitchY}},{key:"collides",value:function(e,t){for(var r=this.bitmap,n=t+e.h,a=t;a<n;a+=1){var o=r[a];if(o&&!o.isRangeClear(e.l,e.r))return!0}return!1}},{key:"autovivifyRow",value:function(e,t){var r=e[t];if(!r){if(t>this.hardRowLimit)throw new Error("layout hard limit (".concat(this.hardRowLimit*this.pitchY,"px) exceeded, aborting layout"));r=new f,e[t]=r}return r}},{key:"addRectToBitmap",value:function(e){if(null!==e.top){var t=e.id,r=e.top+e.h;if(e.r-e.l>2e4)for(var n=e.top;n<r;n+=1)this.autovivifyRow(this.bitmap,n).setAllFilled(t);else for(var a=e.top;a<r;a+=1)this.autovivifyRow(this.bitmap,a).addRect(e,t)}}},{key:"discardRange",value:function(e,t){for(var r=Math.floor(e/this.pitchX),n=Math.floor(t/this.pitchX),a=this.bitmap,o=0;o<a.length;o+=1){var i=a[o];i&&i.discardRange(r,n)}}},{key:"hasSeen",value:function(e){return this.rectangles.has(e)}},{key:"getByCoord",value:function(e,t){var r=Math.floor(t/this.pitchY),n=this.bitmap[r];if(n){var a=Math.floor(e/this.pitchX);return n.getItemAt(a)}}},{key:"getByID",value:function(e){var t=this.rectangles.get(e);if(t){var r=t.top*this.pitchY;return[t.l*this.pitchX,r,t.r*this.pitchX,r+t.originalHeight]}}},{key:"getDataByID",value:function(e){var t;return null===(t=this.rectangles.get(e))||void 0===t?void 0:t.data}},{key:"cleanup",value:function(){}},{key:"getTotalHeight",value:function(){return this.pTotalHeight*this.pitchY}},{key:"totalHeight",get:function(){return this.getTotalHeight()}},{key:"getRectangles",value:function(){var e=this;return new Map(Array.from(this.rectangles.entries()).map((function(t){var r=(0,a.default)(t,2),n=r[0],o=r[1],i=o.l,l=o.r,u=o.originalHeight,c=(o.top||0)*e.pitchY,s=c+u;return[n,[i*e.pitchX,c,l*e.pitchX,s]]})))}},{key:"serializeRegion",value:function(e){var t,r={},n=!1,o=c(this.rectangles.entries());try{for(o.s();!(t=o.n()).done;){var i=(0,a.default)(t.value,2),l=i[0],u=i[1],s=u.l,f=u.r,p=u.originalHeight,m=u.top;if(null===u.top)n=!0;else{var g=(m||0)*this.pitchY,h=g+p,v=s*this.pitchX,y=f*this.pitchX;d(e.start,e.end,v-this.pitchX,y+this.pitchX)&&(r[l]=[v,g,y,h])}}}catch(e){o.e(e)}finally{o.f()}return{rectangles:r,containsNoTransferables:!0,totalHeight:this.getTotalHeight(),maxHeightReached:n}}},{key:"toJSON",value:function(){return{rectangles:(0,u.objectFromEntries)(this.getRectangles()),containsNoTransferables:!0,totalHeight:this.getTotalHeight(),maxHeightReached:this.maxHeightReached}}}]),e}();t.default=p},921:function(e,t,r){"use strict";e.exports=r(2064)},922:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(15)),o=n(r(16)),i=n(r(10)),l=r(512),u=function(){function e(t){var r=t.filters,n=void 0===r?[]:r;(0,a.default)(this,e),(0,i.default)(this,"filterChain",void 0),this.filterChain=n.map((function(e){if("string"==typeof e)return{expr:(0,l.stringToJexlExpression)(e),string:e};throw new Error('invalid inputFilter string "'.concat(e,'"'))}))}return(0,o.default)(e,[{key:"passes",value:function(){for(var e=0;e<this.filterChain.length;e+=1)if(!this.filterChain[e].expr.evalSync({feature:arguments.length<=0?void 0:arguments[0]}))return!1;return!0}},{key:"toJSON",value:function(){return{filters:this.filterChain.map((function(e){return e.string}))}}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.default=u},923:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.useRef)(null),r=e.theme,n=e.html,a=e.RenderingComponent,f=(0,o.default)(e,d),p=(0,c.createJBrowseTheme)(r);return(0,l.useEffect)((function(){var e=t.current;return e&&(e&&(0,u.unmountComponentAtNode)(e),e.innerHTML=n,(0,s.rIC)((function(){(0,u.hydrate)(l.default.createElement(i.ThemeProvider,{theme:p},l.default.createElement(a,f)),e)}),{timeout:300})),function(){e&&(0,u.unmountComponentAtNode)(e)}}),[n,p,f,a]),l.default.createElement("div",{ref:t,"data-html-size":n.length,className:"ssr-container"})};var o=n(r(45)),i=r(34),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(6),c=r(84),s=r(32),d=["theme","html","RenderingComponent"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}},924:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,t.stateModelFactory=t.default=function(e){return i.types.model("BaseFeatureWidget",{id:s.ElementId,type:i.types.literal("BaseFeatureWidget"),featureData:i.types.frozen(),formattedFields:i.types.frozen(),unformattedFeatureData:i.types.frozen(),view:i.types.safeReference(e.pluggableMstType("view","stateModel")),track:i.types.safeReference(e.pluggableMstType("track","stateModel"))}).volatile((function(){return{}})).actions((function(e){return{setFeatureData:function(t){e.unformattedFeatureData=t},clearFeatureData:function(){e.featureData=void 0},setFormattedData:function(t){e.featureData=t}}})).actions((function(e){return{afterCreate:function(){(0,i.addDisposer)(e,(0,l.autorun)((function(){var t=e.unformattedFeatureData,r=e.track;if(t){var n=(0,c.default)(t);if(r)n.__jbrowsefmt=(0,u.getConf)(r,["formatDetails","feature"],{feature:n}),function e(t,r,n){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(r<=o)return i;return i.subfeatures=null===(a=t.subfeatures)||void 0===a?void 0:a.map((function(t){return e(t,r,n,o+1,i),n(t)})),i}(n,(0,u.getConf)(r,["formatDetails","depth"]),(function(e){e.__jbrowsefmt=(0,u.getConf)(r,["formatDetails","subfeatures"],{feature:e})}));e.setFormattedData(n)}})))}}})).preProcessSnapshot((function(e){return m({unformattedFeatureData:e.featureData,featureData:e.finalizedFeatureData},(0,o.default)(e,d))})).postProcessSnapshot((function(e){e.unformattedFeatureData;var t=e.featureData,r=(0,o.default)(e,f);return m({finalizedFeatureData:JSON.parse(JSON.stringify(t,(function(e,t){return void 0===t?null:t})))},r)}))};var a=n(r(10)),o=n(r(45)),i=r(17),l=r(42),u=r(29),c=n(r(334)),s=r(72),d=["featureData","finalizedFeatureData"],f=["unformattedFeatureData","featureData"];function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=(0,u.ConfigurationSchema)("BaseFeatureWidget",{});t.configSchema=g},925:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(10)),c=r(29),s=n(r(2085)),d=n(r(2086)),f=n(r(2087));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,u.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}d.default,f.default;var g=function(){function e(t,r,n){if((0,i.default)(this,e),this.pluginManager=t,this.mainConfiguration=r,this.backendConfigurations=n,(0,u.default)(this,"driverObjects",void 0),!r)throw new Error("RpcManager requires at least a main configuration");this.driverObjects=new Map}var t,r;return(0,l.default)(e,[{key:"getDriver",value:function(e){var t,r=this.driverObjects.get(e);if(r)return r;var n=this.mainConfiguration.drivers.get("WebWorkerRpcDriver");if("MainThreadRpcDriver"===e){var a=this.backendConfigurations.MainThreadRpcDriver;if(!a)throw new Error('requested RPC driver "'.concat(e,'" is missing config'));t=new f.default(m(m({},a),{},{config:n}))}else{if("WebWorkerRpcDriver"!==e)throw new Error('requested RPC driver "'.concat(e,'" is not installed'));var o=this.backendConfigurations.WebWorkerRpcDriver;if(!o)throw new Error('requested RPC driver "'.concat(e,'" is missing config'));t=new d.default(m(m({},o),{},{config:n}),{plugins:this.pluginManager.runtimePluginDefinitions})}return this.driverObjects.set(e,t),t}},{key:"getDriverForCall",value:(r=(0,o.default)(a.default.mark((function e(t,r,n){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.rpcDriverName||(0,c.readConfObject)(this.mainConfiguration,"defaultDriver"),e.abrupt("return",this.getDriver(o));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"call",value:(t=(0,o.default)(a.default.mark((function e(t,r,n){var o,i,l=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>3&&void 0!==l[3]?l[3]:{},t){e.next=3;break}throw new Error("sessionId is required");case 3:return e.next=5,this.getDriverForCall(t,r,n);case 5:return i=e.sent,e.abrupt("return",i.call(this.pluginManager,t,r,n,o));case 7:case"end":return e.stop()}}),e,this)}))),function(e,r,n){return t.apply(this,arguments)})}]),e}();t.default=g,(0,u.default)(g,"configSchema",s.default)},926:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.watchWorker=b;var a=n(r(19)),o=n(r(33)),i=n(r(12)),l=n(r(11)),u=n(r(15)),c=n(r(16)),s=n(r(10)),d=n(r(21)),f=r(17),p=r(32),m=r(910),g=r(29);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,s.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e){return"function"!=typeof e&&!(e instanceof Error)}function b(e,t,r){return w.apply(this,arguments)}function w(){return(w=(0,d.default)(a.default.mark((function e(t,r,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){!function e(){setTimeout((0,d.default)(a.default.mark((function i(){return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.call("ping",[],{timeout:2*r,rpcDriverClassName:n});case 3:e(),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),o(a.t0);case 9:case"end":return a.stop()}}),i,null,[[0,6]])}))),r)}()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){function e(t){(0,u.default)(this,e),this.driver=t,(0,s.default)(this,"workerP",void 0)}var t;return(0,c.default)(e,[{key:"getWorker",value:(t=(0,d.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.workerP||(this.workerP=this.driver.makeWorker().then((function(e){return b(e,t.driver.maxPingTime,t.driver.name).catch((function(r){e&&(console.error("worker did not respond, killing and generating new one"),console.error(r),e.destroy(),e.status="killed",e.error=r,t.workerP=void 0)})),e})).catch((function(e){throw t.workerP=void 0,e}))),e.abrupt("return",this.workerP);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),C=function(){function e(t){(0,u.default)(this,e),(0,s.default)(this,"name",void 0),(0,s.default)(this,"lastWorkerAssignment",-1),(0,s.default)(this,"workerAssignments",new Map),(0,s.default)(this,"workerPool",void 0),(0,s.default)(this,"maxPingTime",3e4),(0,s.default)(this,"workerCheckFrequency",5e3),(0,s.default)(this,"config",void 0),this.config=t.config}var t,r,n;return(0,c.default)(e,[{key:"filterArgs",value:function(e,t){var r=this;if(Array.isArray(e))return e.filter(y).map((function(e){return r.filterArgs(e,t)}));if("object"===(0,l.default)(e)&&null!==e){if(e instanceof AbortSignal)return(0,m.serializeAbortSignal)(e,this.remoteAbort.bind(this,t));if((0,f.isStateTreeNode)(e)&&!(0,f.isAlive)(e))throw new Error("dead state tree node passed to RPC call");return e instanceof File?e:(0,p.objectFromEntries)(Object.entries(e).filter((function(e){return y(e[1])})).map((function(e){var n=(0,i.default)(e,2),a=n[0],o=n[1];return[a,r.filterArgs(o,t)]})))}return e}},{key:"remoteAbort",value:(n=(0,d.default)(a.default.mark((function e(t,r,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWorker(t);case 2:e.sent.call(r,{signalId:n},{timeout:1e6,rpcDriverClassName:this.name});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"createWorkerPool",value:function(){var e,t,r=this,n=(e="undefined"!=typeof window,t=e&&"hardwareConcurrency"in window.navigator,e&&t?window.navigator.hardwareConcurrency:1),a=(0,g.readConfObject)(this.config,"workerCount")||(0,p.clamp)(1,Math.max(1,n-1),5);return(0,o.default)(new Array(a)).map((function(){return new O(r)}))}},{key:"getWorkerPool",value:function(){if(!this.workerPool){var e=this.createWorkerPool();return this.workerPool=e,e}return this.workerPool}},{key:"getWorker",value:(r=(0,d.default)(a.default.mark((function e(t){var r,n,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getWorkerPool(),void 0===(n=this.workerAssignments.get(t))&&(o=(this.lastWorkerAssignment+1)%r.length,this.workerAssignments.set(t,o),this.lastWorkerAssignment=o,n=o),i=r[n].getWorker()){e.next=6;break}throw new Error("no web workers registered for RPC");case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"call",value:(t=(0,d.default)(a.default.mark((function e(t,r,n,o){var i,l,u,c,s,d,f,p,m,g,h=this,y=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=y.length>4&&void 0!==y[4]?y[4]:{},r){e.next=3;break}throw new TypeError("sessionId is required");case 3:return l=!1,e.next=6,this.getWorker(r);case 6:return u=e.sent,c=t.getRpcMethodType(n),e.next=10,c.serializeArguments(o,this.name);case 10:return s=e.sent,d=this.filterArgs(s,r),f=u.call(n,d,v({timeout:3e5,statusCallback:o.statusCallback,rpcDriverClassName:this.name},i)).finally((function(){l=!0})),m=new Promise((function(e,t){p=setInterval((function(){"killed"===u.status?t(new Error("operation timed out, worker process stopped responding, ".concat(u.error))):l&&e(!0)}),h.workerCheckFrequency)})).finally((function(){clearInterval(p)})),g=Promise.race([f,m]),e.abrupt("return",c.deserializeReturn(g,o,this.name));case 16:case"end":return e.stop()}}),e,this)}))),function(e,r,n,a){return t.apply(this,arguments)})}]),e}();t.default=C},927:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(11)),o=n(r(12)),i=d(r(1)),l=r(32),u=r(23),c=r(14);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==(0,a.default)(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}var f=(0,u.makeStyles)({error:{color:"red",fontSize:"0.8em"}}),p=(0,i.lazy)((function(){return Promise.resolve().then((function(){return d(r(2099))}))}));function m(e){var t=e.slot,r=f(),n=(0,i.useState)(JSON.stringify(t.value,null,"  ")),a=(0,o.default)(n,2),c=a[0],s=a[1],d=(0,i.useState)(),m=(0,o.default)(d,2),g=m[0],h=m[1],v=(0,l.useDebounce)(c,400);return(0,i.useEffect)((function(){try{t.set(JSON.parse(v)),h(void 0)}catch(e){h(e.message)}}),[v,t]),i.default.createElement(i.default.Fragment,null,g?i.default.createElement("p",{className:r.error},g):null,i.default.createElement(u.FormControl,{error:g},i.default.createElement(u.InputLabel,{shrink:!0,htmlFor:"callback-editor"},t.name),i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("div",null)},i.default.createElement(p,{contents:c,setContents:s})),i.default.createElement(u.FormHelperText,null,t.description)))}m.propTypes={slot:c.PropTypes.objectOrObservableObject.isRequired};var g=(0,c.observer)(m);t.default=g},928:function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(1));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u="navigator"in e&&/Win/i.test(navigator.platform),c="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),s="npm__react-simple-code-editor__textarea",d=function(e){function t(){var e,r,a;i(this,t);for(var o=arguments.length,s=Array(o),d=0;d<o;d++)s[d]=arguments[d];return r=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={capture:!0},a._recordCurrentState=function(){var e=a._input;if(e){var t=e.value,r=e.selectionStart,n=e.selectionEnd;a._recordChange({value:t,selectionStart:r,selectionEnd:n})}},a._getLines=function(e,t){return e.substring(0,t).split("\n")},a._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=a._history,o=r.stack,i=r.offset;if(o.length&&i>-1){a._history.stack=o.slice(0,i+1);var l=a._history.stack.length;if(l>100){var u=l-100;a._history.stack=o.slice(u,l),a._history.offset=Math.max(a._history.offset-u,0)}}var c=Date.now();if(t){var s=a._history.stack[a._history.offset];if(s&&c-s.timestamp<3e3){var d=/[^a-z0-9]([a-z0-9]+)$/i,f=a._getLines(s.value,s.selectionStart).pop().match(d),p=a._getLines(e.value,e.selectionStart).pop().match(d);if(f&&p&&p[1].startsWith(f[1]))return void(a._history.stack[a._history.offset]=n({},e,{timestamp:c}))}}a._history.stack.push(n({},e,{timestamp:c})),a._history.offset++},a._updateInput=function(e){var t=a._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,a.props.onValueChange(e.value))},a._applyEdits=function(e){var t=a._input,r=a._history.stack[a._history.offset];r&&t&&(a._history.stack[a._history.offset]=n({},r,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),a._recordChange(e),a._updateInput(e)},a._undoEdit=function(){var e=a._history,t=e.stack,r=e.offset,n=t[r-1];n&&(a._updateInput(n),a._history.offset=Math.max(r-1,0))},a._redoEdit=function(){var e=a._history,t=e.stack,r=e.offset,n=t[r+1];n&&(a._updateInput(n),a._history.offset=Math.min(r+1,t.length-1))},a._handleKeyDown=function(e){var t=a.props,r=t.tabSize,n=t.insertSpaces,o=t.ignoreTabKey,i=t.onKeyDown;if(!i||(i(e),!e.defaultPrevented)){var l=e.target,s=l.value,d=l.selectionStart,f=l.selectionEnd,p=(n?" ":"     ").repeat(r);if(9===e.keyCode&&!o&&a.state.capture)if(e.preventDefault(),e.shiftKey){var m=a._getLines(s,d),g=m.length-1,h=a._getLines(s,f).length-1,v=s.split("\n").map((function(e,t){return t>=g&&t<=h&&e.startsWith(p)?e.substring(p.length):e})).join("\n");if(s!==v){var y=m[g];a._applyEdits({value:v,selectionStart:y.startsWith(p)?d-p.length:d,selectionEnd:f-(s.length-v.length)})}}else if(d!==f){var b=a._getLines(s,d),w=b.length-1,O=a._getLines(s,f).length-1,C=b[w];a._applyEdits({value:s.split("\n").map((function(e,t){return t>=w&&t<=O?p+e:e})).join("\n"),selectionStart:/\S/.test(C)?d+p.length:d,selectionEnd:f+p.length*(O-w+1)})}else{var k=d+p.length;a._applyEdits({value:s.substring(0,d)+p+s.substring(f),selectionStart:k,selectionEnd:k})}else if(8===e.keyCode){var E=d!==f;if(s.substring(0,d).endsWith(p)&&!E){e.preventDefault();var S=d-p.length;a._applyEdits({value:s.substring(0,d-p.length)+s.substring(f),selectionStart:S,selectionEnd:S})}}else if(13===e.keyCode){if(d===f){var P=a._getLines(s,d).pop().match(/^\s+/);if(P&&P[0]){e.preventDefault();var x="\n"+P[0],j=d+x.length;a._applyEdits({value:s.substring(0,d)+x+s.substring(f),selectionStart:j,selectionEnd:j})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var M=void 0;57===e.keyCode&&e.shiftKey?M=["(",")"]:219===e.keyCode?M=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?M=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(M=["`","`"]),d!==f&&M&&(e.preventDefault(),a._applyEdits({value:s.substring(0,d)+M[0]+s.substring(d,f)+M[1]+s.substring(f),selectionStart:d,selectionEnd:f+2}))}else!(c?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(c?e.metaKey&&90===e.keyCode&&e.shiftKey:u?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),a._redoEdit()):77!==e.keyCode||!e.ctrlKey||c&&!e.shiftKey||(e.preventDefault(),a.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),a._undoEdit())}},a._handleChange=function(e){var t=e.target,r=t.value,n=t.selectionStart,o=t.selectionEnd;a._recordChange({value:r,selectionStart:n,selectionEnd:o},!0),a.props.onValueChange(r)},a._history={stack:[],offset:-1},l(a,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,r=t.value,a=t.style,i=t.padding,l=t.highlight,u=t.textareaId,c=t.autoFocus,d=t.disabled,p=t.form,m=t.maxLength,g=t.minLength,h=t.name,v=t.placeholder,y=t.readOnly,b=t.required,w=t.onClick,O=t.onFocus,C=t.onBlur,k=t.onKeyUp,E=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),S={paddingTop:i,paddingRight:i,paddingBottom:i,paddingLeft:i},P=l(r);return o.createElement("div",n({},E,{style:n({},f.container,a)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:n({},f.editor,f.textarea,S),className:s,id:u,value:r,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:w,onKeyUp:k,onFocus:O,onBlur:C,disabled:d,form:p,maxLength:m,minLength:g,name:h,placeholder:v,readOnly:y,required:b,autoFocus:c,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",n({"aria-hidden":"true",style:n({},f.editor,f.highlight,S)},"string"==typeof P?{dangerouslySetInnerHTML:{__html:P+"<br />"}}:{children:P})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);d.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=d;var f={container:{position:"relative",textAlign:"left",whiteSpace:"pre-wrap",wordBreak:"keep-all",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"inherit",wordBreak:"inherit"}}}).call(this,r(49))},929:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.useSlotEditorStyles=t.default=void 0;var o=n(r(12)),i=n(r(36)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=w(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),u=r(14),c=r(17),s=r(84),d=r(166),f=r(23),p=n(r(109)),m=n(r(97)),g=n(r(307)),h=n(r(2101)),v=n(r(2102)),y=n(r(2103)),b=n(r(927));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(w=function(e){return e?r:t})(e)}var O=function(e){var t=e.helperText;return l.default.createElement(f.TextField,(0,i.default)({},e,{helperText:l.default.createElement(s.SanitizedHTML,{html:t}),FormHelperTextProps:{component:"div"},fullWidth:!0}))},C=(0,u.observer)((function(e){var t=e.slot;return l.default.createElement(O,{label:t.name,helperText:t.description,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),k=(0,u.observer)((function(e){var t=e.slot;return l.default.createElement(f.TextField,{label:t.name,helperText:t.description,multiline:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),E=function(){return l.default.createElement(f.SvgIcon,null,l.default.createElement("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"}))},S=(0,f.makeStyles)((function(e){return{card:{marginTop:e.spacing(1)}}})),P=(0,u.observer)((function(e){var t=e.slot,r=S(),n=(0,l.useState)(""),a=(0,o.default)(n,2),i=a[0],u=a[1];return l.default.createElement(l.default.Fragment,null,l.default.createElement(f.InputLabel,null,t.name),Array.from(t.value,(function(e){var n=(0,o.default)(e,2),a=n[0],i=n[1];return l.default.createElement(f.Card,{raised:!0,key:a,className:r.card},l.default.createElement(f.CardHeader,{title:a,action:l.default.createElement(f.IconButton,{color:"secondary",onClick:function(){return t.remove(a)}},l.default.createElement(p.default,null))}),l.default.createElement(f.CardContent,null,l.default.createElement(h.default,{slot:{value:i,description:"Values associated with entry ".concat(a),setAtIndex:function(e,r){t.setAtKeyIndex(a,e,r)},removeAtIndex:function(e){t.removeAtKeyIndex(a,e)},add:function(e){t.addToKey(a,e)}}})))})),l.default.createElement(f.Card,{raised:!0,className:r.card},l.default.createElement(f.CardHeader,{disableTypography:!0,title:l.default.createElement(f.TextField,{fullWidth:!0,value:i,placeholder:"add new",onChange:function(e){return u(e.target.value)},InputProps:{endAdornment:l.default.createElement(f.InputAdornment,{position:"end"},l.default.createElement(f.IconButton,{disabled:""===i,onClick:function(){t.add(i,[]),u("")},color:"secondary"},l.default.createElement(m.default,null)))}})})),l.default.createElement(f.FormHelperText,null,t.description))})),x=(0,u.observer)((function(e){var t=e.slot,r=S(),n=(0,l.useState)(""),a=(0,o.default)(n,2),i=a[0],u=a[1];return l.default.createElement(l.default.Fragment,null,l.default.createElement(f.InputLabel,null,t.name),Array.from(t.value,(function(e){var n=(0,o.default)(e,2),a=n[0],i=n[1];return l.default.createElement(f.Card,{raised:!0,key:a,className:r.card},l.default.createElement(f.CardHeader,{title:a,action:l.default.createElement(f.IconButton,{color:"secondary",onClick:function(){return t.remove(a)}},l.default.createElement(p.default,null))}),l.default.createElement(f.CardContent,null,l.default.createElement(j,{slot:{value:i,set:function(e){return t.add(a,e)}}})))})),l.default.createElement(f.Card,{raised:!0,className:r.card},l.default.createElement(f.CardHeader,{disableTypography:!0,title:l.default.createElement(f.TextField,{fullWidth:!0,value:i,placeholder:"add new",onChange:function(e){return u(e.target.value)},InputProps:{endAdornment:l.default.createElement(f.InputAdornment,{position:"end"},l.default.createElement(f.IconButton,{disabled:""===i,onClick:function(){t.add(i,0),u("")},color:"secondary"},l.default.createElement(m.default,null)))}})})),l.default.createElement(f.FormHelperText,null,t.description))})),j=(0,u.observer)((function(e){var t=e.slot,r=(0,l.useState)(t.value),n=(0,o.default)(r,2),a=n[0],i=n[1];return(0,l.useEffect)((function(){var e=parseFloat(a,10);Number.isNaN(e)?t.reset():t.set(e)}),[t,a]),l.default.createElement(O,{label:t.name,helperText:t.description,value:a,type:"number",onChange:function(e){return i(e.target.value)}})})),M=(0,u.observer)((function(e){var t=e.slot,r=(0,l.useState)(t.value),n=(0,o.default)(r,2),a=n[0],i=n[1];return(0,l.useEffect)((function(){var e=parseInt(a,10);Number.isNaN(e)||t.set(e)}),[t,a]),l.default.createElement(O,{label:t.name,helperText:t.description,value:a,type:"number",onChange:function(e){return i(e.target.value)}})})),T=(0,u.observer)((function(e){var t=e.slot;return l.default.createElement(f.FormControl,null,l.default.createElement(f.FormControlLabel,{label:t.name,control:l.default.createElement(f.Checkbox,{checked:t.value,onChange:function(e){return t.set(e.target.checked)}})}),l.default.createElement(f.FormHelperText,null,t.description))})),R=(0,u.observer)((function(e){var t=e.slot,r=e.slotSchema,n=(0,c.getPropertyMembers)((0,d.getSubType)(r)),a=(0,d.getUnionSubTypes)((0,d.getUnionSubTypes)((0,d.getSubType)((0,d.getPropertyType)(n,"value")))[1]).map((function(e){return e.value}));return l.default.createElement(O,{value:t.value,label:t.name,select:!0,helperText:t.description,onChange:function(e){return t.set(e.target.value)}},a.map((function(e){return l.default.createElement(f.MenuItem,{key:e,value:e},e)})))})),D=(0,u.observer)((function(e){var t,r=e.slot;return l.default.createElement(s.FileSelector,{location:r.value,setLocation:function(e){return r.set(e)},name:r.name,description:r.description,rootModel:null===(t=(0,c.getEnv)(r).pluginManager)||void 0===t?void 0:t.rootModel})})),I={string:C,text:k,fileLocation:D,stringArray:h.default,stringArrayMap:P,numberMap:x,number:j,integer:M,color:y.default,stringEnum:R,boolean:T,frozen:b.default,configRelationships:b.default},A=(0,f.makeStyles)((function(e){return{paper:{display:"flex",marginBottom:e.spacing(2),position:"relative"},paperContent:{width:"100%"},slotModeSwitch:{width:24,background:e.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}}}));t.useSlotEditorStyles=A;var _=(0,u.observer)((function(e){var t=e.slot,r=e.slotSchema,n=A(),a=t.type,o=t.isCallback?v.default:I[a];return o||(console.warn("no slot editor defined for ".concat(a,", editing as string")),o=C),a in I||console.warn("SlotEditor needs to implement ".concat(a)),l.default.createElement(f.Paper,{className:n.paper},l.default.createElement("div",{className:n.paperContent},l.default.createElement(o,{slot:t,slotSchema:r})),l.default.createElement("div",{className:n.slotModeSwitch},t.contextVariable.length?l.default.createElement(f.IconButton,{className:n.slotModeIcon,onClick:function(){return t.isCallback?t.convertToValue():t.convertToCallback()},title:"convert to ".concat(t.isCallback?"regular value":"callback"),color:"secondary"},t.isCallback?l.default.createElement(E,null):l.default.createElement(g.default,null)):null))}));t.default=_},930:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(99),a=(0,r(29).ConfigurationSchema)("UCSCTrackHubConnection",{hubTxtLocation:{type:"fileLocation",defaultValue:{uri:"http://mysite.com/path/to/hub.txt",locationType:"UriLocation"},description:"location of the hub file (usually called hub.txt)"},assemblyNames:{type:"stringArray",defaultValue:[],description:"optional list of genomes to import from this track hub, if empty all genomes will be imported"}},{baseConfiguration:n.baseConnectionConfig});t.default=a},931:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(r(19)),i=n(r(21)),l=n(r(12)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=b(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(14),s=r(17),d=r(23),f=r(32),p=n(r(138)),m=n(r(359)),g=n(r(861)),h=n(r(2118)),v=n(r(2120)),y=n(r(2121));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(b=function(e){return e?r:t})(e)}var w=(0,d.makeStyles)((function(e){return{root:{margin:e.spacing(1)},expandIcon:{color:"#fff"},adminBadge:{margin:"0.5em",borderRadius:3,backgroundColor:"#FFB11D",padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"0.5em",display:"flex",justifyContent:"center"}}}));var O=(0,c.observer)((function(e){var t=e.model,r=w(),n=(0,u.useState)(),a=(0,l.default)(n,2),c=a[0],b=a[1],O=(0,u.useState)(),C=(0,l.default)(O,2),k=C[0],E=C[1],S=(0,u.useState)(!1),P=(0,l.default)(S,2),x=P[0],j=P[1],M=(0,f.getSession)(t).adminMode,T=(0,s.getEnv)(t).pluginManager;return(0,u.useEffect)((function(){var e=new AbortController,t=e.signal;return(0,i.default)(o.default.mark((function e(){var r,n,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jbrowse.org/plugin-store/plugins.json",{signal:t});case 3:if((r=e.sent).ok){e.next=9;break}return e.next=7,r.text();case 7:throw n=e.sent,new Error("Failed to fetch plugin data: ".concat(r.status," ").concat(r.statusText," ").concat(n));case 9:return e.next=11,r.json();case 11:a=e.sent,t.aborted||b(a.plugins),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),E(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))(),function(){e.abort()}}),[]),u.default.createElement("div",{className:r.root},M&&u.default.createElement(u.default.Fragment,null,!f.isElectron&&u.default.createElement("div",{className:r.adminBadge},u.default.createElement(g.default,{style:{marginRight:"0.3em"}}),u.default.createElement(d.Typography,null,"You are using the ",u.default.createElement("code",null,"admin-server"),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.")),u.default.createElement("div",{className:r.customPluginButton},u.default.createElement(d.Button,{variant:"contained",color:"primary",onClick:function(){return j(!0)}},"Add custom plugin")),u.default.createElement(y.default,{open:x,onClose:function(){return j(!1)},model:t})),u.default.createElement(d.TextField,{label:"Filter plugins",value:t.filterText,onChange:function(e){return t.setFilterText(e.target.value)},fullWidth:!0,InputProps:{endAdornment:u.default.createElement(d.InputAdornment,{position:"end"},u.default.createElement(d.IconButton,{color:"secondary",onClick:function(){return t.clearFilterText()}},u.default.createElement(m.default,null)))}}),u.default.createElement(d.Accordion,{defaultExpanded:!0},u.default.createElement(d.AccordionSummary,{expandIcon:u.default.createElement(p.default,{className:r.expandIcon})},u.default.createElement(d.Typography,{variant:"h5"},"Installed plugins")),u.default.createElement("div",{style:{margin:"1em"}},u.default.createElement(h.default,{pluginManager:T,model:t}))),u.default.createElement(d.Accordion,{defaultExpanded:!0},u.default.createElement(d.AccordionSummary,{expandIcon:u.default.createElement(p.default,{className:r.expandIcon})},u.default.createElement(d.Typography,{variant:"h5"},"Available plugins")),k?u.default.createElement(d.Typography,{color:"error"},"".concat(k)):c?c.filter((function(e){return!!(f.isElectron||e.esmUrl||e.url||e.umdUrl)&&e.name.toLowerCase().includes(t.filterText.toLowerCase())})).map((function(e){return u.default.createElement(v.default,{key:e.name,plugin:e,model:t,adminMode:!!M})})):u.default.createElement(d.Typography,null,"Loading...")))}));t.default=O},932:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.cartesianToPolar=l,t.thetaRangesOverlap=function(e,t,r,n){if(t<=0||n<=0)return!1;if(t+1e-4>=u||n+1e-4>=u)return!0;if((e=(e%u+u)%u+u)<(r=(r%u+u)%u+u)+n&&e+t>r)return!0;if(e<(r-=u)+n&&e+t>r)return!0;return e<(r+=u+u)+n&&e+t>r},t.viewportVisibleSection=function(e,t,r){var n=(0,a.default)(e,4),u=n[0],c=n[1],s=n[2],d=n[3],f=(0,a.default)(t,2),p=f[0],m=f[1];if(c-=p,s-=m,d-=m,(u-=p)<0&&c>0&&s<0&&d>0){for(var g=[[u,s],[c,s],[u,d],[c,d]],h=-1/0,v=0;v<g.length;v+=1){var y=(0,a.default)(g[v],2),b=y[0],w=y[1],O=Math.sqrt(b*b+w*w);O>h&&(h=O)}return{rho:[0,Math.min(r,h)],theta:[0,2*Math.PI]}}var C=[[u,s],[c,s],[u,d],[c,d]];i(u,0,0,r,C),i(c,0,0,r,C),o(s,0,0,r,C),o(d,0,0,r,C),-u<r&&C.push([u,0]);c<r&&C.push([c,0]);-s<r&&C.push([0,s]);d<r&&C.push([0,d]);for(var k=u>=0?-1:1,E=1/0,S=-1/0,P=1/0,x=-1/0,j=0;j<C.length;j+=1){var M=(0,a.default)(C[j],2),T=M[0],R=M[1];if(T>=u&&T<=c&&R>=s&&R<=d){var D=l(T*k,R*k),I=(0,a.default)(D,2),A=I[0],_=I[1];A<=r+.001&&(_<P&&A>1e-4&&(P=_),_>x&&A>1e-4&&(x=_),A<E&&(E=A),A>S&&(S=A))}}-1===k&&(P+=Math.PI,x+=Math.PI);P>2*Math.PI&&x>2*Math.PI&&(P-=2*Math.PI,x-=2*Math.PI);return{rho:[E,Math.min(r,S)],theta:[P,x]}};var a=n(r(12));function o(e,t,r,n,a){var o=Math.abs(e-r);if(!(o>n)){o===n&&a.push([t,e]);var i=Math.sqrt(n*n-o*o);a.push([t-i,e]),a.push([t+i,e])}}function i(e,t,r,n,a){var o=Math.abs(e-t);if(!(o>n)){o===n&&a.push([e,r]);var i=Math.sqrt(n*n-o*o);a.push([e,r-i]),a.push([e,r+i])}}function l(e,t){var r=Math.sqrt(e*e+t*t);return 0===r?[0,0]:[r,function(e,t){var r=(Math.atan(t/e)+2*Math.PI)%(2*Math.PI);return e<0&&(t<=0?r+=Math.PI:r-=Math.PI),r}(e,t)]}var u=2*Math.PI},933:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return d.default}}),t.default=void 0;var o=n(r(12)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),l=r(14),u=r(23),c=r(29),s=r(84),d=n(r(2159)),f=n(r(2160));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}var m=(0,u.makeStyles)({display:{position:"relative",whiteSpace:"nowrap",textAlign:"left",width:"100%",minHeight:"100%"}}),g=(0,l.observer)((function(e){var t=m(),r=(0,u.useTheme)(),n=(0,i.useRef)(null),a=(0,i.useState)(),l=(0,o.default)(a,2),d=l[0],p=l[1],g=(0,i.useState)([0,0]),h=(0,o.default)(g,2),v=h[0],y=h[1],b=(0,i.useState)([0,0]),w=(0,o.default)(b,2),O=w[0],C=w[1],k=(0,i.useState)(),E=(0,o.default)(k,2),S=E[0],P=E[1],x=e.model,j=e.children,M=x.TooltipComponent,T=x.DisplayMessageComponent,R=x.contextMenuItems,D=x.height,I=x.setContextMenuFeature;return i.default.createElement("div",{ref:n,"data-testid":"display-".concat((0,c.getConf)(x,"displayId")),className:t.display,onContextMenu:function(e){e.preventDefault(),S?P(void 0):n.current&&P([e.clientX,e.clientY])},onMouseMove:function(e){if(n.current){var t=n.current.getBoundingClientRect(),r=t.left,a=t.top;y([e.clientX-r,e.clientY-a]),C([e.clientX,e.clientY]),p(t)}}},T?i.default.createElement(T,{model:x}):i.default.createElement(f.default,e),j,i.default.createElement(M,{model:x,height:D,offsetMouseCoord:v,clientMouseCoord:O,clientRect:d,mouseCoord:v}),i.default.createElement(s.Menu,{open:Boolean(S)&&Boolean(R().length),onMenuItemClick:function(e,t){t(),P(void 0)},onClose:function(){P(void 0),I(void 0)},TransitionProps:{onExit:function(){P(void 0),I(void 0)}},anchorReference:"anchorPosition",anchorPosition:S?{top:S[1],left:S[0]}:void 0,style:{zIndex:r.zIndex.tooltip},menuItems:R(),"data-testid":"base_linear_display_context_menu"}))}));t.default=g},934:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Polygon=t.Cytobands=void 0;var a=n(r(12)),o=n(r(10)),i=n(r(1)),l=r(23),u=r(14),c=n(r(20)),s=n(r(364)),d=r(32),f=r(206),p=r(131),m=r(367),g=n(r(2168));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,o.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var y=(0,l.makeStyles)((function(e){return{scaleBar:{height:p.HEADER_OVERVIEW_HEIGHT},scaleBarBorder:{border:"1px solid"},scaleBarContig:{backgroundColor:e.palette.background.default,position:"absolute",top:0,height:p.HEADER_OVERVIEW_HEIGHT},scaleBarContigForward:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M-.1 0L6 4.5L-.1 9' fill='none' stroke='%23ddd'/%3E%3C/svg%3E\")",backgroundRepeat:"repeat"},scaleBarContigReverse:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M6 0L0 4.5L6 9' fill='none' stroke='%23ddd'/%3E%3C/svg%3E\")",backgroundRepeat:"repeat"},scaleBarRefName:{position:"absolute",fontWeight:"bold",pointerEvents:"none",zIndex:100},scaleBarLabel:{height:p.HEADER_OVERVIEW_HEIGHT,position:"absolute",display:"flex",justifyContent:"center",pointerEvents:"none"},scaleBarVisibleRegion:{position:"absolute",height:p.HEADER_OVERVIEW_HEIGHT,pointerEvents:"none",zIndex:100,border:"1px solid"},overview:{height:p.HEADER_BAR_HEIGHT,position:"relative"},overviewSvg:{width:"100%",position:"absolute"}}})),b=(0,u.observer)((function(e){var t=e.model,r=e.overview,n=e.useOffset,a=void 0===n||n,o=(0,l.useTheme)(),u=Number(a),c=t.interRegionPaddingWidth,s=t.offsetPx,d=t.dynamicBlocks,f=t.cytobandOffset,m=d.contentBlocks,g=d.totalWidthPxWithoutBorders,h=o.palette,y=h.tertiary,b=h.primary,w=y?y.light:b.light;if(!m.length)return null;var O=m[0],C=m[m.length-1],k=(r.bpToPx(v(v({},O),{},{coord:O.reversed?O.end:O.start}))||0)+f*u,E=(r.bpToPx(v(v({},C),{},{coord:C.reversed?C.start:C.end}))||0)+f*u,S=Math.max(0,-s),P=S+g+m.length*c/2,x=[[S,p.HEADER_BAR_HEIGHT],[P,p.HEADER_BAR_HEIGHT],[E,0],[k,0]];return i.default.createElement("polygon",{points:x.toString(),fill:(0,l.alpha)(w,.3),stroke:(0,l.alpha)(w,.8)})}));function w(e,t,r,n,a){return"M"+e+","+t+"h"+(r-a)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(n-2*a)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(a-r)+"z"}t.Polygon=b;var O={gneg:"rgb(227,227,227)",gpos25:"rgb(142,142,142)",gpos50:"rgb(85,85,85)",gpos100:"rgb(0,0,0)",gpos75:"rgb(57,57,57)",gvar:"rgb(0,0,0)",stalk:"rgb(127,127,127)",acen:"#800"},C=(0,u.observer)((function(e){var t,r=e.overview,n=e.block,o=e.assembly,l=n.offsetPx,u=n.reversed,c=null==o||null===(t=o.cytobands)||void 0===t?void 0:t.map((function(e){return{refName:o.getCanonicalRefName(e.get("refName")),start:e.get("start"),end:e.get("end"),type:e.get("type")}})).filter((function(e){return e.refName===n.refName})).map((function(e){var t=e.refName,n=e.start,a=e.end,o=e.type;return[r.bpToPx({refName:t,coord:n}),r.bpToPx({refName:t,coord:a}),o]})),s=c||[],d=u?s.length-1:0,f=u?0:s.length-1,m=!0;return c?i.default.createElement("g",{transform:"translate(-".concat(l,")")},c.map((function(e,t){var r,n,o,l,u,c=(0,a.default)(e,3),s=c[0],g=c[1],h=c[2],v="".concat(s,"-").concat(g,"-").concat(h);return"acen"===h&&m?(m=!1,i.default.createElement("polygon",{key:v,points:[[s,0],[g,p.HEADER_OVERVIEW_HEIGHT/2],[s,p.HEADER_OVERVIEW_HEIGHT]].toString(),fill:O[h]})):"acen"!==h||m?d===t?i.default.createElement("path",{key:v,d:(r=Math.min(s,g),n=0,o=Math.abs(g-s),l=p.HEADER_OVERVIEW_HEIGHT,u=8,"M"+(r+u)+","+n+"h"+(o-u)+"v"+l+"h"+(u-o)+"a"+u+","+u+" 0 0 1 "+-u+","+-u+"v"+(2*u-l)+"a"+u+","+u+" 0 0 1 "+u+","+-u+"z"),fill:O[h]}):f===t?i.default.createElement("path",{key:v,d:w(Math.min(s,g),0,Math.abs(g-s)-2,p.HEADER_OVERVIEW_HEIGHT,8),fill:O[h]}):i.default.createElement("rect",{key:v,x:Math.min(s,g),y:0,width:Math.abs(g-s),height:p.HEADER_OVERVIEW_HEIGHT,fill:O[h]}):i.default.createElement("polygon",{key:v,points:[[s,p.HEADER_OVERVIEW_HEIGHT/2],[g,0],[g,p.HEADER_OVERVIEW_HEIGHT]].toString(),fill:O[h]})}))):null}));t.Cytobands=C;var k=(0,u.observer)((function(e){for(var t=e.scale,r=e.model,n=e.block,a=e.overview,o=y(),u=r.cytobandOffset,s=r.bpPerPx,f=r.showCytobands,p=n.start,g=n.end,h=n.reversed,v=n.refName,b=n.assemblyName,w=(0,m.chooseGridPitch)(t,120,15).majorPitch,O=(0,d.getSession)(r).assemblyManager.get(b),k=null==O?void 0:O.getRefNameColor(v),E=[],S=0;S<Math.floor((g-p)/w);S++){var P=(S+1)*w;E.push(h?g-P:p+P)}return i.default.createElement("div",null,i.default.createElement(l.Typography,{style:{left:n.offsetPx+3,color:f?"black":k},className:o.scaleBarRefName},v),i.default.createElement("div",{className:(0,c.default)(o.scaleBarContig,f?void 0:h?o.scaleBarContigReverse:o.scaleBarContigForward,f?void 0:o.scaleBarBorder),style:{left:n.offsetPx+u,width:n.widthPx,borderColor:k}},f?null:E.map((function(e,r){return i.default.createElement(l.Typography,{key:"".concat(JSON.stringify(n),"-").concat(e,"-").concat(r),className:o.scaleBarLabel,variant:"body2",style:{left:(r+1)*w/t,pointerEvents:"none",color:k}},(0,d.getTickDisplayStr)(e,s))})),f?i.default.createElement("svg",{style:{width:"100%"}},i.default.createElement(C,{overview:a,assembly:O,block:n})):null))})),E=(0,u.observer)((function(e){var t=e.model,r=e.scale,n=e.overview,a=y(),o=(0,l.useTheme)(),u=t.dynamicBlocks,c=t.showCytobands,s=t.cytobandOffset,d=u.contentBlocks,p=n.dynamicBlocks,m=o.palette,g=m.tertiary,h=m.primary,b=g?g.light:h.light;if(!d.length)return null;var w=d[0],O=n.bpToPx(v(v({},w),{},{coord:w.reversed?w.end:w.start}))||0,C=d[d.length-1],E=n.bpToPx(v(v({},C),{},{coord:C.reversed?C.start:C.end}))||0,S=c?"#f00":b,P=c?.1:.3;return i.default.createElement("div",{className:a.scaleBar},i.default.createElement("div",{className:a.scaleBarVisibleRegion,style:{width:E-O,left:O+s,background:(0,l.alpha)(S,P),borderColor:S}}),p.map((function(e,o){return e instanceof f.ContentBlock?i.default.createElement(k,{scale:r,block:e,model:t,overview:n,key:"".concat(JSON.stringify(e),"-").concat(o)}):i.default.createElement("div",{key:"".concat(JSON.stringify(e),"-").concat(o),className:a.scaleBarContig,style:{width:e.widthPx,left:e.offsetPx,backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"}})})))}));var S=(0,u.observer)((function(e){var t=e.model,r=e.children,n=y(),a=t.totalBp,o=t.width,l=t.cytobandOffset,u=t.displayedRegions,c=s.default.create({displayedRegions:JSON.parse(JSON.stringify(u)),interRegionPaddingWidth:0,minimumBlockWidth:t.minimumBlockWidth}),d=o-l;c.setVolatileWidth(d),c.showAllRegions();var f=a/(d-2*(u.length-1));return i.default.createElement("div",null,i.default.createElement(g.default,{model:t,overview:c,ControlComponent:i.default.createElement(E,{model:t,overview:c,scale:f})}),i.default.createElement("div",{className:n.overview},i.default.createElement("svg",{height:p.HEADER_BAR_HEIGHT,className:n.overviewSvg},i.default.createElement(b,{model:t,overview:c})),r))}));t.default=S},935:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dedupe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e,r,n){return r===n.findIndex((function(r){return t(r)===t(e)}))}))}},936:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(12)),i=n(r(33)),l=n(r(21)),u=n(r(1)),c=r(14),s=r(23),d=n(r(528)),f=r(32),p=n(r(527)),m=r(935),g=r(131),h=(0,s.makeStyles)((function(){return{headerRefName:{minWidth:100}}}));var v=(0,c.observer)((function(e){var t=e.model,r=e.showHelp,n=h(),c=(0,s.useTheme)(),v=(0,f.getSession)(t),y=v.textSearchManager,b=v.assemblyManager,w=t.assemblyNames,O=t.rankSearchResults,C=w[0],k=b.get(C),E=t.searchScope(C);function S(e,t){return P.apply(this,arguments)}function P(){return(P=(0,l.default)(a.default.mark((function e(t,r){var n,o,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y||console.warn("No text search manager"),e.next=3,null==y?void 0:y.search({queryString:t,searchType:r},E,O);case 3:return o=e.sent,l=null==k||null===(n=k.allRefNames)||void 0===n?void 0:n.filter((function(e){return e.startsWith(t)})).map((function(e){return new d.default({label:e})})).slice(0,10),e.abrupt("return",(0,m.dedupe)([].concat((0,i.default)(l||[]),(0,i.default)(o||[])),(function(e){return e.getId()})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=(0,l.default)(a.default.mark((function e(r){var n,i,l,u,c,s,d,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.getTrackId(),i=r.getLocation(),l=r.getLabel(),u=i.split(":"),c=(0,o.default)(u,2),s=c[0],d=c[1],f=(null==k?void 0:k.allRefNames)||[],e.prev=5,!(f.includes(i)||f.includes(s)&&void 0!==d&&!Number.isNaN(parseInt(d,10)))){e.next=10;break}t.navToLocString(i,C),e.next=21;break;case 10:return e.next=12,S(l,"exact");case 12:if(!((p=e.sent).length>1)){e.next=18;break}return t.setSearchResults(p,l.toLowerCase()),e.abrupt("return");case 18:1===p.length&&(i=p[0].getLocation(),n=p[0].getTrackId());case 19:t.navToLocString(i,C),n&&t.showTrack(n);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(5),console.error(e.t0),v.notify("".concat(e.t0),"warning");case 27:case"end":return e.stop()}}),e,null,[[5,23]])})))).apply(this,arguments)}return u.default.createElement(p.default,{showHelp:r,onSelect:function(e){return x.apply(this,arguments)},assemblyName:C,fetchResults:S,model:t,TextFieldProps:{variant:"outlined",className:n.headerRefName,style:{margin:g.SPACING,minWidth:"175px"},InputProps:{style:{padding:0,height:g.WIDGET_HEIGHT,background:(0,s.alpha)(c.palette.background.paper,.8)}}}})}));t.default=v},937:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(1)),o=r(23),i=r(208),l=r(14),u=n(r(2171)),c=n(r(2173)),s=n(r(2175)),d=n(r(2180)),f=n(r(2181)),p=n(r(2182)),m=n(r(938)),g=(0,o.makeStyles)((function(e){return{note:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},dots:{"&::after":{display:"inline-block",animation:"$ellipsis 1.5s infinite",content:'"."',width:"1em",textAlign:"left"}},"@keyframes ellipsis":{"0%":{content:'"."'},"33%":{content:'".."'},"66%":{content:'"..."'}}}})),h=(0,l.observer)((function(e){var t=e.model,r=t.tracks,n=t.error,l=t.hideHeader,h=t.initialized,v=t.hasDisplayedRegions,y=g();return h||n?!v||n?a.default.createElement(d.default,{model:t}):a.default.createElement("div",{style:{position:"relative"}},t.seqDialogDisplayed?a.default.createElement(p.default,{model:t,handleClose:function(){t.setSequenceDialogOpen(!1)}}):null,t.isSearchDialogDisplayed?a.default.createElement(m.default,{model:t,handleClose:function(){t.setSearchResults(void 0,void 0)}}):null,l?a.default.createElement("div",{style:{position:"absolute",right:0,zIndex:1001}},a.default.createElement(f.default,{model:t})):a.default.createElement(u.default,{model:t}),a.default.createElement(s.default,{model:t},r.length?r.map((function(e){return a.default.createElement(c.default,{key:e.id,model:t,track:e})})):a.default.createElement(o.Paper,{variant:"outlined",className:y.note},t.hideNoTracksActive?a.default.createElement("div",{style:{height:"48px"}}):a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Typography,null,"No tracks active."),a.default.createElement(o.Button,{variant:"contained",color:"primary",onClick:t.activateTrackSelector,style:{zIndex:1e3},startIcon:a.default.createElement(i.TrackSelector,null)},"Open track selector"))))):a.default.createElement(o.Typography,{className:y.dots,variant:"h5"},"Loading")}));t.default=h},938:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,n=e.model,s=e.optAssemblyName,d=e.handleClose,f=c(),p=(0,i.getSession)(n),m=(0,o.getEnv)(p).pluginManager,g=p.assemblyManager,h=s;n.displayedRegions.length>0&&(h=null===(r=n.displayedRegions[0])||void 0===r?void 0:r.assemblyName);if(!h)throw new Error("Assembly name not found");var v=g.get(h);if(!v)throw new Error("assembly ".concat(h," not found"));if(!v.regions)throw new Error("assembly ".concat(h," regions not loaded"));var y=v.regions;function b(e){if(e){var t,r=m.pluggableConfigSchemaType("track"),a=(0,o.resolveIdentifier)(r,(0,o.getRoot)(n),e);if(a)return null===(t=a.name)||void 0===t?void 0:t.value}return""}return a.default.createElement(l.Dialog,{open:!0,maxWidth:"xl",onClose:d},a.default.createElement(l.DialogTitle,null,"Search results",d?a.default.createElement(l.IconButton,{"data-testid":"close-resultsDialog",className:f.closeButton,onClick:function(){d()}},a.default.createElement(u.default,null)):null),a.default.createElement(l.Divider,null),a.default.createElement(l.DialogContent,null,null!==(t=n.searchResults)&&void 0!==t&&t.length?a.default.createElement(a.default.Fragment,null,a.default.createElement(l.Typography,null,"Showing results for ",a.default.createElement("b",null,n.searchQuery)),a.default.createElement(l.TableContainer,{component:l.Paper},a.default.createElement(l.Table,null,a.default.createElement(l.TableHead,null,a.default.createElement(l.TableRow,null,a.default.createElement(l.TableCell,null,"Name"),a.default.createElement(l.TableCell,{align:"right"},"Location"),a.default.createElement(l.TableCell,{align:"right"},"Track"),a.default.createElement(l.TableCell,{align:"right"}))),a.default.createElement(l.TableBody,null,n.searchResults.map((function(e){return a.default.createElement(l.TableRow,{key:"".concat(e.getId())},a.default.createElement(l.TableCell,{component:"th",scope:"row"},e.getLabel()),a.default.createElement(l.TableCell,{align:"right"},e.getLocation()),a.default.createElement(l.TableCell,{align:"right"},b(e.getTrackId())||"N/A"),a.default.createElement(l.TableCell,{align:"right"},a.default.createElement(l.Button,{onClick:function(){!function(e){try{var t=y.find((function(t){return e===t.refName}));t?(n.setDisplayedRegions([t]),n.showAllRegions()):n.navToLocString(e,h)}catch(e){console.warn(e),p.notify("".concat(e),"warning")}}(e.getLocation());var t=e.getTrackId();t&&n.showTrack(t),d()},disabled:!b(e.getTrackId()),color:"primary",variant:"contained"},"Go")))})))))):a.default.createElement(l.Typography,null,"No results found for ",a.default.createElement("b",null,n.searchQuery))),a.default.createElement(l.Divider,null),a.default.createElement(l.DialogActions,null,a.default.createElement(l.Button,{onClick:function(){return d()},color:"primary"},"Cancel")))},t.useStyles=void 0;var a=n(r(1)),o=r(17),i=r(32),l=r(23),u=n(r(40)),c=(0,l.makeStyles)((function(e){return{dialogContent:{width:"80em"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));t.useStyles=c},939:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReactComponent",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"configSchema",{enumerable:!0,get:function(){return o.default}});var a=n(r(2192)),o=n(r(2193))},940:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(r(19)),o=n(r(21)),i=n(r(15)),l=n(r(16)),u=n(r(30)),c=n(r(25)),s=n(r(26)),d=n(r(24)),f=n(r(10)),p=r(377),m=r(90),g=r(100),h=r(116),v=r(32),y=n(r(87)),b=n(r(517));function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){(0,f.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return(0,s.default)(this,r)}}var k=function(e){(0,c.default)(s,e);var t,r,n=C(s);function s(e,t,r){var l,c;(0,i.default)(this,s),l=n.call(this,e,t,r),(0,f.default)((0,u.default)(l),"fasta",void 0),(0,f.default)((0,u.default)(l),"header",void 0),(0,f.default)((0,u.default)(l),"seqCache",new y.default({cache:new b.default({maxSize:200}),fill:(c=(0,o.default)(a.default.mark((function e(t,r){var n,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.refName,o=t.start,i=t.end,e.abrupt("return",l.fasta.getSequence(n,o,i,O(O({},t),{},{signal:r})));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return c.apply(this,arguments)})}));var d=l.getConf("fastaLocation"),m=l.getConf("faiLocation"),h={fasta:(0,g.openLocation)(d,l.pluginManager),fai:(0,g.openLocation)(m,l.pluginManager)};return l.fasta=new p.IndexedFasta(h),l}return(0,l.default)(s,[{key:"getRefNames",value:function(e){return this.fasta.getSequenceNames(e)}},{key:"getRegions",value:(r=(0,o.default)(a.default.mark((function e(t){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fasta.getSequenceSizes(t);case 2:return r=e.sent,e.abrupt("return",Object.keys(r).map((function(e){return{refName:e,start:0,end:r[e]}})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getHeader",value:(t=(0,o.default)(a.default.mark((function e(){var t,r=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.header){e.next=2;break}return e.abrupt("return",this.header);case 2:if(""!==(t=this.getConf("metadataLocation")).uri&&"/path/to/fa.metadata.yaml"!==t.uri){e.next=5;break}return e.abrupt("return",null);case 5:return this.header=(0,g.openLocation)(t).readFile("utf8").catch((function(e){throw r.header=void 0,e})),e.abrupt("return",this.header);case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e,t){var r=this,n=e.refName,i=e.start,l=e.end;return(0,h.ObservableCreate)(function(){var e=(0,o.default)(a.default.mark((function e(o){var u,c,s,d,f,p,m,g;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.fasta.getSequenceSize(n,t);case 2:for(u=e.sent,c=void 0!==u?Math.min(u,l):l,s=[],128e3,f=l+(128e3-l%128e3),p=d=i-i%128e3;p<f;p+=128e3)m={refName:n,start:p,end:p+128e3},s.push(r.seqCache.get(JSON.stringify(m),m,null==t?void 0:t.signal));return e.next=11,Promise.all(s);case 11:(g=e.sent.join("").slice(i-d).slice(0,l-i))&&o.next(new v.SimpleFeature({id:"".concat(n," ").concat(i,"-").concat(c),data:{refName:n,start:i,end:c,seq:g}})),o.complete();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),s}(m.BaseSequenceAdapter);t.default=k},941:function(e,t,r){"use strict";var n=r(9),a=r(11);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Tooltip=void 0;var o=n(r(36)),i=n(r(10)),l=n(r(12)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(n,i,l):n[i]=e[i]}n.default=e,r&&r.set(e,n);return n}(r(1)),c=r(14),s=r(23),d=r(370),f=r(372);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return+(+e).toPrecision(6)}var v=function(e){return e.toLocaleString("en-US")},y=(0,s.makeStyles)((function(e){return{tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:(0,s.alpha)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(12),lineHeight:"".concat((t=1.4,Math.round(1e5*t)/1e5),"em"),maxWidth:300,wordWrap:"break-word"},hoverVertical:{background:"#333",border:"none",width:1,height:"100%",top:d.YSCALEBAR_LABEL_OFFSET,cursor:"default",position:"absolute",pointerEvents:"none"}};var t})),b=u.default.forwardRef((function(e,t){var r=e.feature,n=r.get("start"),a=r.get("end"),o=[r.get("refName"),n===a?v(n):"".concat(v(n),"..").concat(v(a))].filter((function(e){return!!e})).join(":");return void 0!==r.get("summary")?u.default.createElement("div",{ref:t},o,u.default.createElement("br",null),"Max: ",h(r.get("maxScore")),u.default.createElement("br",null),"Avg: ",h(r.get("score")),u.default.createElement("br",null),"Min: ",h(r.get("minScore"))):u.default.createElement("div",{ref:t},o,u.default.createElement("br",null),"".concat(h(r.get("score"))))})),w=(0,c.observer)((function(e){var t=e.model,r=e.height,n=e.clientMouseCoord,a=e.offsetMouseCoord,i=e.clientRect,c=e.TooltipContents,p=t.featureUnderMouse,m=(0,u.useState)(0),h=(0,l.default)(m,2),v=h[0],b=h[1],w=(0,u.useState)(null),O=(0,l.default)(w,2),C=O[0],k=O[1],E=y(),S=(0,u.useMemo)((function(){return{getBoundingClientRect:function(){var e=n[0]+v/2+20,t=(null==i?void 0:i.top)||0;return{top:t,left:e,bottom:t,right:e,width:0,height:0,x:e,y:t,toJSON:function(){}}}}}),[null==i?void 0:i.top,n,v]),P=(0,f.usePopper)(S,C),x=P.styles,j=P.attributes;return p?u.default.createElement(u.default.Fragment,null,u.default.createElement(s.Portal,null,u.default.createElement("div",(0,o.default)({ref:k,className:E.tooltip,style:g(g({},x.popper),{},{zIndex:1e5})},j.popper),u.default.createElement(c,{ref:function(e){b((null==e?void 0:e.getBoundingClientRect().width)||0)},feature:p}))),u.default.createElement("div",{className:E.hoverVertical,style:{left:a[0],height:r-2*d.YSCALEBAR_LABEL_OFFSET}})):null}));t.Tooltip=w;var O=(0,c.observer)((function(e){return u.default.createElement(w,(0,o.default)({TooltipContents:b},e))}));t.default=O},942:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"YScaleBar",{enumerable:!0,get:function(){return c.default}}),t.default=void 0;var a=n(r(1)),o=r(32),i=r(29),l=r(143),u=r(14),c=n(r(2231)),s=(0,u.observer)((function(e){var t=e.model,r=t.stats,n=t.height,u=t.needsScalebar,s="overlapping"===(0,o.getContainingView)(t).trackLabels?(0,o.measureText)((0,i.getConf)((0,o.getContainingTrack)(t),"name"),12.8)+100:50;return a.default.createElement("div",null,a.default.createElement(l.BaseLinearDisplayComponent,e),r&&u?a.default.createElement("svg",{style:{position:"absolute",top:0,left:s,pointerEvents:"none",height:n,width:50}},a.default.createElement(c.default,{model:t})):null)}));t.default=s},943:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return i.types.model("Configuration",{configuration:(0,a.ConfigurationSchema)("Root",{rpc:o.default.configSchema,highResolutionScaling:{type:"number",defaultValue:2},theme:{type:"frozen",defaultValue:{}}}),assembly:t,tracks:i.types.array(e.pluggableConfigSchemaType("track")),connections:i.types.array(e.pluggableConfigSchemaType("connection")),aggregateTextSearchAdapters:i.types.array(e.pluggableConfigSchemaType("text search adapter")),plugins:i.types.frozen()}).views((function(e){return{get assemblies(){return[e.assembly]},get assemblyName(){return(0,a.readConfObject)(e.assembly,"name")},get rpcManager(){return(0,i.getParent)(e).rpcManager}}}))};var a=r(29),o=n(r(925)),i=r(17)},944:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=u.types.model("ReactCircularGenomeViewSession",{name:u.types.identifier,view:e.getViewType("CircularView").stateModel,widgets:u.types.map(e.pluggableMstType("widget","stateModel")),activeWidgets:u.types.map(u.types.safeReference(e.pluggableMstType("widget","stateModel"))),connectionInstances:u.types.array(e.pluggableMstType("connection","stateModel"))}).volatile((function(){return{selection:void 0,task:void 0,queueOfDialogs:[]}})).views((function(e){return{get DialogComponent(){if(e.queueOfDialogs.length){var t=e.queueOfDialogs[0];return t&&t[0]}},get DialogProps(){if(e.queueOfDialogs.length){var t=e.queueOfDialogs[0];return t&&t[1]}},get rpcManager(){return(0,u.getParent)(e).rpcManager},get configuration(){return(0,u.getParent)(e).config.configuration},get assemblies(){return[(0,u.getParent)(e).config.assembly]},get assemblyNames(){return[(0,u.getParent)(e).config.assemblyName]},get tracks(){return(0,u.getParent)(e).config.tracks},get aggregateTextSearchAdapters(){return(0,u.getParent)(e).config.aggregateTextSearchAdapters},get connections(){return(0,u.getParent)(e).config.connections},get adminMode(){return!1},get assemblyManager(){return(0,u.getParent)(e).assemblyManager},get version(){return""},get views(){return[e.view]},renderProps:function(){return{theme:(0,c.readConfObject)(this.configuration,"theme")}},get visibleWidget(){if((0,u.isAlive)(e))return Array.from(e.activeWidgets.values())[e.activeWidgets.size-1]},getReferring:function(t){var r=[];return(0,u.walk)((0,u.getParent)(e),(function(e){if((0,u.isModelType)((0,u.getType)(e))){var n=(0,u.getMembers)(e);Object.entries(n.properties).forEach((function(n){var a=(0,i.default)(n,2),o=a[0],l=a[1];(0,u.isReferenceType)(l)&&e[o]===t&&r.push({node:e,key:o})}))}})),r}}})).actions((function(t){return{queueDialog:function(e){var r=this,n=e((function(){r.removeActiveDialog()})),a=(0,i.default)(n,2),l=a[0],u=a[1];t.queueOfDialogs=[].concat((0,o.default)(t.queueOfDialogs),[[l,u]])},removeActiveDialog:function(){t.queueOfDialogs=t.queueOfDialogs.slice(1)},makeConnection:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.type;if(!a)throw new Error("track configuration has no `type` listed");var o=(0,c.readConfObject)(r,"name"),i=e.getConnectionType(a);if(!i)throw new Error("unknown connection type ".concat(a));var l=m(m({},n),{},{name:o,type:a,configuration:r}),u=t.connectionInstances.push(l);return t.connectionInstances[u-1]},removeReferring:function(e,t,r,n){var a=this;e.forEach((function(e){var o=e.node,i=!1;try{var c="open track(s)",s=(0,l.getContainingView)(o);r.push((function(){return s.hideTrack(t.trackId)})),i=!0,n[c]||(n[c]=0),n[c]+=1}catch(e){}if(a.hasWidget(o)){var d="configuration editor widget(s)";r.push((function(){return a.hideWidget(o)})),i=!0,n[d]||(n[d]=0),n[d]+=1}if(!i)throw new Error("Error when closing this connection, the following node is still referring to a track configuration: ".concat(JSON.stringify((0,u.getSnapshot)(o))))}))},prepareToBreakConnection:function(e){var r=this,n=[],a={},o=(0,c.readConfObject)(e,"name");t.connectionInstances.find((function(e){return e.name===o})).tracks.forEach((function(e){var o=t.getReferring(e);r.removeReferring(o,e,n,a)}));return[function(){n.forEach((function(e){return e()})),r.breakConnection(e)},a]},breakConnection:function(e){var r=(0,c.readConfObject)(e,"name"),n=t.connectionInstances.find((function(e){return e.name===r}));t.connectionInstances.remove(n)},addView:function(r){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.getElementType("view",r);if(!a)throw new Error("unknown view type ".concat(r));t.view=m(m({},n),{},{type:r})},removeView:function(){},addWidget:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{type:r},i=e.getElementType("widget",r);if(!i)throw new Error("unknown widget type ".concat(r));var l=m(m({},a),{},{id:n,type:r,configuration:o});return t.widgets.set(n,l),t.widgets.get(n)},showWidget:function(e){t.activeWidgets.has(e.id)&&t.activeWidgets.delete(e.id),t.activeWidgets.set(e.id,e)},hasWidget:function(e){return t.activeWidgets.has(e.id)},hideWidget:function(e){t.activeWidgets.delete(e.id)},hideAllWidgets:function(){t.activeWidgets.clear()},setSelection:function(e){t.selection=e},clearSelection:function(){t.selection=void 0},clearConnections:function(){t.connectionInstances.length=0},renameCurrentSession:function(e){return(0,u.getParent)(t).renameCurrentSession(e)}}})).views((function(e){return{getTrackActionMenuItems:function(t){return[{label:"About track",onClick:function(){e.queueDialog((function(e){return[d.default,{config:t,handleClose:e}]}))},icon:s.default}]}}}));return(0,f.default)(t)};var a=n(r(10)),o=n(r(33)),i=n(r(12)),l=r(32),u=r(17),c=r(29),s=n(r(895)),d=n(r(2240)),f=n(r(2241));function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){(0,a.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}},98:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.isFeature=function(e){return"object"===(0,l.default)(e)&&null!==e&&"function"==typeof e.get&&"function"==typeof e.id};var a=n(r(15)),o=n(r(16)),i=n(r(10)),l=n(r(11));function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,i.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e){return"uniqueId"in e&&"object"!==(0,l.default)(e.data)}var d=function(){function e(t){var r=this;(0,a.default)(this,e),(0,i.default)(this,"data",void 0),(0,i.default)(this,"subfeatures",void 0),(0,i.default)(this,"parentHandle",void 0),(0,i.default)(this,"uniqueId",void 0),s(t)?this.data=t:(this.data=t.data||{},this.parentHandle=t.parent);var n,o=s(t)?t.uniqueId:t.id;if(null==o)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(o),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error("invalid feature data, end less than start. end: ".concat(this.data.end," start: ").concat(this.data.start));this.data.subfeatures&&(this.subfeatures=null===(n=this.data.subfeatures)||void 0===n?void 0:n.map((function(t,n){return"function"!=typeof t.get?new e({id:t.uniqueId||"".concat(o,"-").concat(n),data:c({strand:r.data.strand},t),parent:r}):t})))}return(0,o.default)(e,[{key:"get",value:function(e){return"subfeatures"===e?this.subfeatures:"parent"===e?this.parent():this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"tags",value:function(){return Object.keys(this.data)}},{key:"id",value:function(){return this.uniqueId}},{key:"parent",value:function(){return this.parentHandle}},{key:"children",value:function(){return this.get("subfeatures")}},{key:"toJSON",value:function(){var e=c(c({},this.data),{},{uniqueId:this.id()}),t=this.parent();t&&(e.parentId=t.id());var r=this.children();return r&&(e.subfeatures=r.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(t){return new e(c({},t))}}]),e}();t.default=d},99:function(e,t,r){"use strict";var n=r(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseConnectionModelFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BaseDisplay",{enumerable:!0,get:function(){return l.BaseDisplay}}),Object.defineProperty(t,"BaseInternetAccountConfig",{enumerable:!0,get:function(){return c.BaseInternetAccountConfig}}),Object.defineProperty(t,"BaseViewModel",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"InternetAccount",{enumerable:!0,get:function(){return u.InternetAccount}}),Object.defineProperty(t,"baseConnectionConfig",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"createBaseTrackConfig",{enumerable:!0,get:function(){return d.createBaseTrackConfig}}),Object.defineProperty(t,"createBaseTrackModel",{enumerable:!0,get:function(){return s.createBaseTrackModel}});var a=n(r(2066)),o=n(r(2067)),i=n(r(2068)),l=r(2069),u=r(2070),c=r(2072),s=r(2073),d=r(2074)}}]);
//# sourceMappingURL=async-CircularGenomeView.js.map
//# sourceMappingURL=async-CircularGenomeView.js.map