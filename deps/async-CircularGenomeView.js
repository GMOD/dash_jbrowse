/*! For license information please see async-CircularGenomeView.js.LICENSE.txt */
(window.webpackJsonpdash_jbrowse=window.webpackJsonpdash_jbrowse||[]).push([[2],{106:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0});var o={LogoFull:!0,Logomark:!0,App:!0,ReturnToImportFormDialog:!0,ErrorMessage:!0,AssemblySelector:!0,FileSelector:!0,PrerenderedCanvas:!0,ResizeHandle:!0,EditableTypography:!0,FactoryResetDialog:!0,Tooltip:!0,FatalErrorDialog:!0,Menu:!0,SanitizedHTML:!0};Object.defineProperty(t,"App",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"AssemblySelector",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"EditableTypography",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"ErrorMessage",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"FactoryResetDialog",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(t,"FatalErrorDialog",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"FileSelector",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"LogoFull",{enumerable:!0,get:function(){return l.LogoFull}}),Object.defineProperty(t,"Logomark",{enumerable:!0,get:function(){return l.Logomark}}),Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"PrerenderedCanvas",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"ResizeHandle",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"ReturnToImportFormDialog",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"SanitizedHTML",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"Tooltip",{enumerable:!0,get:function(){return b.default}});var i=n(1267);Object.keys(i).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===i[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}}))}));var l=n(832),c=r(n(1268)),u=r(n(1276)),s=r(n(461)),d=r(n(462)),f=r(n(838)),p=r(n(1282)),m=r(n(833)),h=r(n(460)),g=r(n(840)),b=r(n(1283)),v=r(n(1284)),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(254));Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var w=r(n(841));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}},107:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.isFeature=function(e){return"object"===(0,l.default)(e)&&null!==e&&"function"==typeof e.get&&"function"==typeof e.id};var a=r(n(15)),o=r(n(16)),i=r(n(13)),l=r(n(21));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e){return"uniqueId"in e&&"object"!==(0,l.default)(e.data)}var d=function(){function e(t){var n=this;(0,a.default)(this,e),(0,i.default)(this,"data",void 0),(0,i.default)(this,"subfeatures",void 0),(0,i.default)(this,"parentHandle",void 0),(0,i.default)(this,"uniqueId",void 0),s(t)?this.data=t:(this.data=t.data||{},this.parentHandle=t.parent);var r,o=s(t)?t.uniqueId:t.id;if(null==o)throw new Error("SimpleFeature requires a unique `id` or `data.uniqueId` attribute");if(this.uniqueId=String(o),!(this.data.aliases||this.data.end-this.data.start>=0))throw new Error("invalid feature data, end less than start. end: ".concat(this.data.end," start: ").concat(this.data.start));this.data.subfeatures&&(this.subfeatures=null===(r=this.data.subfeatures)||void 0===r?void 0:r.map((function(t,r){return"function"!=typeof t.get?new e({id:t.uniqueId||"".concat(o,"-").concat(r),data:u({strand:n.data.strand},t),parent:n}):t})))}return(0,o.default)(e,[{key:"get",value:function(e){return"subfeatures"===e?this.subfeatures:"parent"===e?this.parent():this.data[e]}},{key:"set",value:function(e,t){this.data[e]=t}},{key:"tags",value:function(){return Object.keys(this.data)}},{key:"id",value:function(){return this.uniqueId}},{key:"parent",value:function(){return this.parentHandle}},{key:"children",value:function(){return this.get("subfeatures")}},{key:"toJSON",value:function(){var e=u(u({},this.data),{},{uniqueId:this.id()}),t=this.parent();t&&(e.parentId=t.id());var n=this.children();return n&&(e.subfeatures=n.map((function(e){return e.toJSON()}))),e}}],[{key:"fromJSON",value:function(t){return new e(u({},t))}}]),e}();t.default=d},108:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(13)),l=(0,a.default)((function e(t){(0,o.default)(this,e),(0,i.default)(this,"name",""),this.name=t.name}));t.default=l},109:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(13)),l=function(){function e(){(0,a.default)(this,e),(0,i.default)(this,"name",void 0),(0,i.default)(this,"url",void 0),(0,i.default)(this,"version",void 0),(0,i.default)(this,"configurationSchema",void 0)}return(0,o.default)(e,[{key:"install",value:function(e){}},{key:"configure",value:function(e){}}]),e}();t.default=l},1266:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=t.description,r=void 0===n?"":n,l=t.model,s=t.type,d=t.defaultValue,m=t.contextVariable,h=void 0===m?[]:m;if(!s)throw new Error("type name required");l||(l=c[s]);if(!l)throw new Error('no builtin config slot type "'.concat(s,"\", and no 'model' param provided"));if(void 0===d)throw new Error("no 'defaultValue' provided");var g="".concat(e.charAt(0).toUpperCase()).concat(e.slice(1),"ConfigSlot"),b=o.types.model(g,{name:o.types.literal(e),description:o.types.literal(r),type:o.types.literal(s),value:o.types.optional(o.types.union(p,l),d)}).volatile((function(){return{contextVariable:h}})).views((function(e){return{get isCallback(){return String(e.value).startsWith("jexl:")}}})).views((function(e){return{get expr(){if(e.isCallback){var t=(0,o.getEnv)(e).pluginManager;return t||"undefined"!=typeof jest||console.warn("no pluginManager detected on config env (if you dynamically instantiate a config, for example in renderProps for your display model, check that you add the env argument)"),(0,i.stringToJexlExpression)(String(e.value),null==t?void 0:t.jexl)}return{evalSync:function(){return e.value}}},get valueJSON(){var t;if(!e.isCallback)return(t=e.value)&&t.toJSON?t.toJSON():'"'.concat(t,'"')}}})).preProcessSnapshot((function(t){return"object"===(0,a.default)(t)&&t.name===e?t:{name:e,description:r,type:s,value:t}})).postProcessSnapshot((function(e){return"object"===(0,a.default)(e.value)?JSON.stringify(e.value)!==JSON.stringify(d)?e.value:void 0:e.value!==d?e.value:void 0})).actions((function(e){return{set:function(t){e.value=t},reset:function(){e.value=d},convertToCallback:function(){e.isCallback||(e.value="jexl:".concat(e.valueJSON||"''"))},convertToValue:function(){if(e.isCallback){try{var t=e.expr.evalSync();if(void 0!==t)return void(e.value=t)}catch(e){}if(e.value=d,e.isCallback){if(!(s in u))throw new Error("no fallbackDefault defined for type ".concat(s));e.value=u[s]}}}}}));f[s]&&(b=b.extend(f[s]));var v=o.types.optional(b,{name:e,type:s,description:r,value:d});return Object.defineProperty(v,"isJBrowseConfigurationSlot",{value:!0}),v};var a=r(n(21)),o=n(19),i=n(458),l=n(78);var c={stringArray:o.types.array(o.types.string),stringArrayMap:o.types.map(o.types.array(o.types.string)),numberMap:o.types.map(o.types.number),boolean:o.types.boolean,color:o.types.refinement("Color",o.types.string,(function(){return!0})),integer:o.types.integer,number:o.types.number,string:o.types.string,text:o.types.string,fileLocation:l.FileLocation,frozen:o.types.frozen()},u={stringArray:[],stringArrayMap:{},numberMap:{},boolean:!0,color:"black",integer:1,number:1,string:"",text:"",fileLocation:{uri:"/path/to/resource.txt",locationType:"UriLocation"},frozen:{}},s=function(e){return{views:{get valueJSON(){return e.value}}}},d=function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}}}},f={fileLocation:d,number:s,integer:s,boolean:s,frozen:d,stringArray:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t){e.value.push(t)},removeAtIndex:function(t){e.value.splice(t,1)},setAtIndex:function(t,n){e.value[t]=n}}}},stringArrayMap:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t,n){e.value.set(t,n)},remove:function(t){e.value.delete(t)},addToKey:function(t,n){var r=e.value.get(t);if(!r)throw new Error("".concat(t," not found"));r.push(n)},removeAtKeyIndex:function(t,n){var r=e.value.get(t);if(!r)throw new Error("".concat(t," not found"));r.splice(n,1)},setAtKeyIndex:function(t,n,r){var a=e.value.get(t);if(!a)throw new Error("".concat(t," not found"));a[n]=r}}}},numberMap:function(e){return{views:{get valueJSON(){return JSON.stringify(e.value)}},actions:{add:function(t,n){e.value.set(t,n)},remove:function(t){e.value.delete(t)}}}}},p=o.types.refinement("JexlString",o.types.string,(function(e){return e.startsWith("jexl:")}))},1267:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createJBrowseDefaultOverrides=p,t.createJBrowseDefaultProps=f,t.createJBrowseTheme=function(e){var t,n;if(!e)return(0,i.createTheme)(m);null!==(t=e.palette)&&void 0!==t&&t.tertiary&&(e=u(u({},e),{},{palette:u(u({},e.palette),{},{tertiary:s.palette.augmentColor(e.palette.tertiary)})}));null!==(n=e.palette)&&void 0!==n&&n.quaternary&&(e=u(u({},e),{},{palette:u(u({},e.palette),{},{quaternary:s.palette.augmentColor(e.palette.quaternary)})}));return e=u(u({},e),{},{props:(0,l.default)({MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},e.props||{}),overrides:(0,l.default)(p(e.palette),e.overrides||{})}),(0,i.createTheme)((0,l.default)(m,e))},t.jbrowseDefaultPalette=t.jbrowseBaseTheme=void 0;var a=r(n(13)),o=n(189),i=n(18),l=(n(574),r(n(282)));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=(0,i.createTheme)(),d={primary:{main:"#0D233F"},secondary:{main:"#721E63"},tertiary:s.palette.augmentColor({main:"#135560"}),quaternary:s.palette.augmentColor({main:"#FFB11D"}),stopCodon:"#e22",startCodon:"#3e3",bases:{A:s.palette.augmentColor(o.green),C:s.palette.augmentColor(o.blue),G:s.palette.augmentColor(o.amber),T:s.palette.augmentColor(o.red)}};function f(){return{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,l.default)(d,e);return{MuiIconButton:{colorSecondary:{color:t.tertiary.main}},MuiButton:{textSecondary:{color:t.tertiary.main}},MuiFab:{secondary:{backgroundColor:t.quaternary.main}},MuiLink:{root:{color:t.tertiary.main}},MuiAccordion:{root:{margin:0,"&$expanded":{margin:0}}},MuiAccordionSummary:{root:{backgroundColor:t.tertiary.main+" !important",width:"100%","&$expanded":{minHeight:0,color:t.tertiary.contrastText,backgroundColor:t.tertiary.main},minHeight:0},content:{"&$expanded":{margin:"8px 8px"},margin:"8px 8px",color:t.tertiary.contrastText}},MuiMenuItem:{root:{paddingTop:3,paddingBottom:3}},MuiListItemIcon:{root:{minWidth:32}},MuiListItemText:{inset:{paddingLeft:32}}}}t.jbrowseDefaultPalette=d;var m={palette:d,typography:{fontSize:12},spacing:4,props:{MuiButton:{size:"small"},MuiFilledInput:{margin:"dense"},MuiFormControl:{margin:"dense"},MuiFormHelperText:{margin:"dense"},MuiIconButton:{size:"small"},MuiInputBase:{margin:"dense"},MuiList:{dense:!0},MuiListItem:{dense:!0},MuiOutlinedInput:{margin:"dense"},MuiFab:{size:"small"},MuiTable:{size:"small"},MuiTextField:{margin:"dense",size:"small"},MuiToolbar:{variant:"dense"},MuiSvgIcon:{fontSize:"small"},MuiToggleButtonGroup:{size:"small"},MuiCheckbox:{size:"small"},MuiLink:{underline:"always"}},overrides:p()};t.jbrowseBaseTheme=m},1268:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),l=n(29),c=r(n(619)),u=n(34),s=n(19),d=n(41),f=r(n(1269)),p=r(n(1271)),m=r(n(460)),h=n(832),g=r(n(1274)),b=r(n(1275));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=(0,l.makeStyles)((function(e){return{"@global":{html:{"font-family":"Roboto"},"*":{"scrollbar-width":"auto","scrollbar-color":"rgba(0,0,0,.5) rgba(128,128,128)"},"*::-webkit-scrollbar":{"-webkit-appearance":"none",width:"12px"},"*::-webkit-scrollbar-thumb":{"background-color":"rgba(0,0,0,.5)","-webkit-box-shadow":"0 0 1px rgba(255,255,255,.5)"}},root:{display:"grid",height:"100vh",width:"100%"},fabLeft:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),left:e.spacing(2)},fabRight:{zIndex:1e4,position:"fixed",bottom:e.spacing(2),right:e.spacing(2)},menuBarAndComponents:{gridColumn:"main",display:"grid",gridTemplateRows:"[menubar] min-content [components] auto",height:"100vh"},menuBar:{gridRow:"menubar"},components:{overflowY:"auto",gridRow:"components"},appBar:{flexGrow:1},grow:{flexGrow:1},inputBase:{color:e.palette.primary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.primary.light}},inputFocused:{borderColor:e.palette.secondary.main,backgroundColor:e.palette.primary.light},selectPaper:{padding:e.spacing(4)}}})),w=(0,u.observer)((function(e){var t=e.session.configuration,n=(0,d.readConfObject)(t,"logoPath");return null!=n&&n.uri?i.default.createElement("img",{src:n.uri,alt:"Custom logo"}):i.default.createElement(h.LogoFull,{variant:"white"})})),O=(0,u.observer)((function(e){var t,n,r=e.session,a=e.HeaderButtons,u=void 0===a?i.default.createElement("div",null):a,d=y(),h=(0,s.getEnv)(r).pluginManager,v=h.getElementTypeRecord("view").all(),O=(0,i.useState)(null===(t=v[0])||void 0===t?void 0:t.name),C=(0,o.default)(O,2),E=C[0],k=C[1],x=r.visibleWidget,S=r.drawerWidth,j=r.minimized,P=r.activeWidgets,T=r.savedSessionNames,R=r.name,M=r.menus,I=r.views,A=r.drawerPosition;var L,F=x&&!j;return"right"===A?L=["[main] 1fr",F?"[drawer] ".concat(S,"px"):void 0]:"left"===A&&(L=[F?"[drawer] ".concat(S,"px"):void 0,"[main] 1fr"]),i.default.createElement("div",{className:d.root,style:{gridTemplateColumns:null===(n=L)||void 0===n?void 0:n.filter((function(e){return!!e})).join(" ")}},F&&"left"===A?i.default.createElement(f.default,{session:r}):null,r.DialogComponent?i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null)},i.default.createElement(r.DialogComponent,r.DialogProps)):null,i.default.createElement("div",{className:d.menuBarAndComponents},i.default.createElement("div",{className:d.menuBar},i.default.createElement(l.AppBar,{className:d.appBar,position:"static"},i.default.createElement(l.Toolbar,null,M.map((function(e){return i.default.createElement(p.default,{key:e.label,menuTitle:e.label,menuItems:e.menuItems,session:r})})),i.default.createElement("div",{className:d.grow}),i.default.createElement(l.Tooltip,{title:"Rename Session",arrow:!0},i.default.createElement(m.default,{value:R,setValue:function(e){null!=T&&T.includes(e)?r.notify('Cannot rename session to "'.concat(e,'", a saved session with that name already exists'),"warning"):r.renameCurrentSession(e)},variant:"body1",classes:{inputBase:d.inputBase,inputRoot:d.inputRoot,inputFocused:d.inputFocused}})),u,i.default.createElement("div",{className:d.grow}),i.default.createElement("div",{style:{width:150,maxHeight:48}},i.default.createElement(w,{session:r}))))),i.default.createElement("div",{className:d.components},I.length?I.map((function(e){var t=h.getViewType(e.type);if(!t)throw new Error("unknown view type ".concat(e.type));var n=t.ReactComponent;return i.default.createElement(b.default,{key:"view-".concat(e.id),view:e,onClose:function(){return r.removeView(e)}},i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null,"Loading...")},i.default.createElement(n,{model:e,session:r,getTrackType:h.getTrackType})))})):i.default.createElement(l.Paper,{className:d.selectPaper},i.default.createElement(l.Typography,null,"Select a view to launch"),i.default.createElement(l.Select,{value:E,onChange:function(e){return k(e.target.value)}},v.map((function(e){var t=e.name;return i.default.createElement(l.MenuItem,{key:t,value:t},t)}))),i.default.createElement(l.Button,{onClick:function(){r.addView(E,{})},variant:"contained",color:"primary"},"Launch view")),i.default.createElement("div",{style:{height:300}}))),P.size>0&&j?i.default.createElement(l.Tooltip,{title:"Open drawer widget"},i.default.createElement(l.Fab,{className:"right"===A?d.fabRight:d.fabLeft,color:"primary","data-testid":"drawer-maximize",onClick:function(){return r.showWidgetDrawer()}},i.default.createElement(c.default,null))):null,F&&"right"===A?i.default.createElement(f.default,{session:r}):null,i.default.createElement(g.default,{session:r}))}));t.default=O},1269:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),l=n(29),c=n(34),u=n(19),s=r(n(167)),d=r(n(60)),f=r(n(624)),p=r(n(286)),m=r(n(1270));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}var g=(0,l.makeStyles)((function(e){return{drawerActions:{float:"right","&:hover":{backgroundColor:(0,l.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},drawerToolbar:{paddingLeft:e.spacing(2)},spacer:{flexGrow:1},drawerSelect:{color:e.palette.secondary.contrastText},drawerLoading:{margin:e.spacing(2)},dropDownIcon:{color:e.palette.secondary.contrastText},header:{background:e.palette.secondary.main}}})),b=(0,c.observer)((function(e){var t=e.session,n=e.setToolbarHeight,r=(0,u.getEnv)(t).pluginManager,a=t.visibleWidget,c=t.activeWidgets,m=t.drawerPosition,h=g(),b=i.default.useState(null),v=(0,o.default)(b,2),y=v[0],w=v[1];return i.default.createElement(l.AppBar,{position:"sticky",className:h.header,ref:function(e){return n((null==e?void 0:e.getBoundingClientRect().height)||0)}},i.default.createElement(l.Toolbar,{disableGutters:!0,className:h.drawerToolbar},i.default.createElement(l.Select,{value:null==a?void 0:a.id,"data-testid":"widget-drawer-selects",className:h.drawerSelect,classes:{icon:h.dropDownIcon},renderValue:function(e){var n=t.activeWidgets.get(e);if(!n)return i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},"Unknown widget");var a=r.getWidgetType(n.type),o=a.HeadingComponent,c=a.heading;return o?i.default.createElement(o,{model:n}):i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},c)},onChange:function(e){var n=t.activeWidgets.get(e.target.value);n||t.notify("Widget not found "+e.target.value,"warning"),t.showWidget(n)}},Array.from(c.values()).map((function(e){var n=r.getWidgetType(e.type),a=n.HeadingComponent,o=n.heading;return i.default.createElement(l.MenuItem,{"data-testid":"widget-drawer-selects-item-".concat(e.type),key:e.id,value:e.id},a?i.default.createElement(a,{model:e}):i.default.createElement(l.Typography,{variant:"h6",color:"inherit"},o),i.default.createElement(l.ListItemSecondaryAction,null,i.default.createElement(l.IconButton,{"data-testid":"".concat(e.type,"-drawer-delete"),color:"inherit","aria-label":"Delete",onClick:function(){t.hideWidget(e)}},i.default.createElement(s.default,null))))}))),i.default.createElement("div",{className:h.spacer}),i.default.createElement("div",null,i.default.createElement(l.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:function(e){return w(e.currentTarget)}},i.default.createElement(p.default,null)),i.default.createElement(l.Tooltip,{title:"Minimize drawer"},i.default.createElement(l.IconButton,{"data-testid":"drawer-minimize",color:"inherit",onClick:function(){t.notify("Drawer minimized, click button on ".concat(m," side of screen to re-open"),"info"),t.minimizeWidgetDrawer()}},i.default.createElement(f.default,null))),i.default.createElement(l.Tooltip,{title:"Close drawer"},i.default.createElement(l.IconButton,{"data-testid":"drawer-close",color:"inherit",onClick:function(){t.hideWidget(a)}},i.default.createElement(d.default,null))))),i.default.createElement(l.Menu,{anchorEl:y,open:Boolean(y),onClose:function(){return w(null)}},["left","right"].map((function(e){return i.default.createElement(l.MenuItem,{key:e,selected:"option"===m,onClick:function(){t.setDrawerPosition(e),w(null)}},e)}))))})),v=(0,c.observer)((function(e){var t=e.session,n=t.visibleWidget,r=(0,u.getEnv)(t).pluginManager,a=n?r.getWidgetType(n.type).ReactComponent:null,l=(0,i.useState)(0),c=(0,o.default)(l,2),s=c[0],d=c[1];return i.default.createElement(m.default,{session:t},i.default.createElement(b,{session:t,setToolbarHeight:d}),i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",null,"Loading...")},i.default.createElement(a,{model:n,session:t,toolbarHeight:s})))}));t.default=v},1270:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=r(n(48)),i=n(18),l=n(34),c=r(n(833)),u=(0,i.makeStyles)((function(e){return{paper:{overflowY:"auto",height:"100%",zIndex:e.zIndex.drawer,outline:"none",background:e.palette.background.default},resizeHandle:{width:4,position:"fixed",top:0,zIndex:e.zIndex.drawer+1}}}));var s=(0,l.observer)((function(e){var t=e.children,n=e.session,r=n.drawerPosition,i=n.drawerWidth,l=u();return a.default.createElement(o.default,{className:l.paper,elevation:16,square:!0},"right"===r?a.default.createElement(c.default,{onDrag:n.resizeDrawer,className:l.resizeHandle,vertical:!0}):null,t,"left"===r?a.default.createElement(c.default,{onDrag:n.resizeDrawer,className:l.resizeHandle,style:{left:i},vertical:!0}):null)}));t.default=s},1271:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),l=n(29),c=n(18),u=r(n(168)),s=n(34),d=r(n(0)),f=r(n(254));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}var m=(0,c.makeStyles)((function(e){return{root:{display:"flex"},buttonRoot:{"&:hover":{backgroundColor:(0,c.alpha)(e.palette.primary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}}));function h(e){var t=e.menuTitle,n=e.session,r=e.menuItems,a=(0,i.useState)(!1),c=(0,o.default)(a,2),s=c[0],d=c[1],p=(0,i.useRef)(null),h=m();function g(){d(!1)}return i.default.createElement("div",{className:h.root},i.default.createElement(l.Button,{ref:p,onClick:function(){d(!s)},color:"inherit","data-testid":"dropDownMenuButton",classes:{root:h.buttonRoot}},t,i.default.createElement(u.default,null)),i.default.createElement(f.default,{anchorEl:p.current,anchorOrigin:{vertical:"bottom",horizontal:"left"},onMenuItemClick:function(e,t){t(n),g()},open:s,onClose:g,menuItems:r}))}h.propTypes={menuTitle:d.default.string.isRequired,menuItems:s.PropTypes.arrayOrObservableArray.isRequired,session:s.PropTypes.objectOrObservableObject.isRequired};var g=(0,s.observer)(h);t.default=g},1272:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1273:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.when=c,t.whenPresent=function(e){return u.apply(this,arguments)};var a=r(n(22)),o=r(n(25)),i=n(46),l=n(834);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout,r=t.signal,a=t.name;return new Promise((function(t,o){var c,u=!1,s=(0,i.when)(e),d=function(){};n&&(c=setTimeout((function(){u||(u=!0,s.cancel(),o(new Error("timed out waiting for ".concat(a||"whenPresent"))))}),n),d=function(){return c&&clearTimeout(c)}),r&&r.addEventListener("abort",(function(){u||(u=!0,s.cancel(),d(),o((0,l.makeAbortError)()))})),s.then((function(){u||(u=!0,d(),t(!0))})).catch((function(e){u||(u=!0,d(),o(e))}))}))}function u(){return(u=(0,o.default)(a.default.mark((function e(t){var n,r=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.next=3,c((function(){var e=t();return null!=e}),n);case 3:return e.abrupt("return",t());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1274:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),l=n(29),c=r(n(60)),u=r(n(333));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var d=(0,n(34).observer)((function(e){var t=e.session,n=(0,i.useState)(!1),r=(0,o.default)(n,2),a=r[0],s=r[1],d=(0,i.useState)(),f=(0,o.default)(d,2),p=f[0],m=f[1],h=t.popSnackbarMessage,g=t.snackbarMessages,b=g.length?g[g.length-1]:null;(0,i.useEffect)((function(){var e;return p?b?p[0]!==b[0]&&(s(!1),e=setTimeout((function(){m(b),s(!0)}),100)):m(void 0):b&&(m(b),s(!0)),function(){clearTimeout(e)}}),[b,p]);var v=function(e,t){"clickaway"!==t&&(h(),s(!1))},y=p||[],w=(0,o.default)(y,2),O=w[0],C=w[1];return i.default.createElement(l.Snackbar,{open:a&&!!O,onClose:v,action:i.default.createElement(l.IconButton,{"aria-label":"close",color:"inherit",onClick:v},i.default.createElement(c.default,null))},i.default.createElement(u.default,{onClose:v,severity:C||"warning"},O))}));t.default=d},1275:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(13)),i=r(n(49)),l=r(n(23)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),u=n(29),s=n(34),d=n(19),f=n(656),p=r(n(60)),m=r(n(174)),h=r(n(460)),g=r(n(254));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,u.makeStyles)((function(e){return{viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(.5)},icon:{color:e.palette.secondary.contrastText},grow:{flexGrow:1},iconRoot:{"&:hover":{backgroundColor:(0,u.alpha)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},input:{paddingBottom:0,paddingTop:2},inputBase:{color:e.palette.secondary.contrastText},inputRoot:{"&:hover":{backgroundColor:e.palette.secondary.light}},inputFocused:{borderColor:e.palette.primary.main,backgroundColor:e.palette.secondary.light}}})),O=(0,s.observer)((function(e){var t=e.model,n=e.IconButtonProps,r=e.IconProps,a=(0,c.useState)(),o=(0,l.default)(a,2),s=o[0],d=o[1],f=t.menuItems,p="function"==typeof f?f():f;return null!=p&&p.length?c.default.createElement(c.default.Fragment,null,c.default.createElement(u.IconButton,(0,i.default)({},n,{"aria-label":"more","aria-controls":"view-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)},"data-testid":"view_menu_icon"}),c.default.createElement(m.default,r)),c.default.createElement(g.default,{anchorEl:s,open:Boolean(s),onMenuItemClick:function(e,t){t(),d(void 0)},onClose:function(){d(void 0)},menuItems:t.menuItems()})):null})),C=(0,f.withSize)()((0,s.observer)((function(e){var t=e.view,n=e.onClose,r=e.style,a=e.children,o=e.size.width,i=w(),l=(0,u.useTheme)().spacing(1);(0,c.useEffect)((function(){o&&(0,d.isAlive)(t)&&t.setWidth(o-2*l)}),[l,t,o]);var s=(0,c.useRef)(null);return(0,c.useEffect)((function(){var e,t;null===(e=s.current)||void 0===e||null===(t=e.scrollIntoView)||void 0===t||t.call(e,{block:"center"})}),[]),c.default.createElement(u.Paper,{elevation:12,className:i.viewContainer,style:y(y({},r),{},{padding:"0px ".concat(l,"px ").concat(l,"px")})},c.default.createElement("div",{ref:s,style:{display:"flex"}},c.default.createElement(O,{model:t,IconButtonProps:{classes:{root:i.iconRoot},edge:"start"},IconProps:{className:i.icon}}),c.default.createElement("div",{className:i.grow}),c.default.createElement(u.Tooltip,{title:"Rename view",arrow:!0},c.default.createElement(h.default,{value:t.displayName||(t.assemblyNames?t.assemblyNames.join(","):"Untitled view"),setValue:function(e){t.setDisplayName(e)},variant:"body2",classes:{input:i.input,inputBase:i.inputBase,inputRoot:i.inputRoot,inputFocused:i.inputFocused}})),c.default.createElement("div",{className:i.grow}),c.default.createElement(u.IconButton,{"data-testid":"close_view",classes:{root:i.iconRoot},edge:"end",onClick:n},c.default.createElement(p.default,{className:i.icon}))),c.default.createElement(u.Paper,null,a))})));t.default=C},1276:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(34),i=n(18),l=n(29),c=r(n(60)),u=(0,i.makeStyles)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var s=(0,o.observer)((function(e){var t=e.model,n=e.handleClose,r=u();return a.default.createElement(l.Dialog,{maxWidth:"xl",open:!0,onClose:n},a.default.createElement(l.DialogTitle,null,"Reference sequence",n?a.default.createElement(l.IconButton,{className:r.closeButton,onClick:function(){return n()}},a.default.createElement(c.default,null)):null),a.default.createElement(l.Divider,null),a.default.createElement(l.DialogContent,null,a.default.createElement(l.Typography,null,"Are you sure you want to return to the import form? This will lose your current view")),a.default.createElement(l.DialogActions,null,a.default.createElement(l.Button,{onClick:function(){t.clearView(),n()},variant:"contained",color:"primary",autoFocus:!0},"OK"),a.default.createElement(l.Button,{onClick:function(){return n()},color:"secondary",variant:"contained"},"Cancel")))}));t.default=s},1277:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(40)),i=r(n(49)),l=r(n(13)),c=r(n(23)),u=r(n(56)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),d=n(29),f=n(475),p=n(34),m=n(129),h=r(n(168)),g=r(n(1280)),b=r(n(1281)),v=["title","children"];function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e){var t=e.title,n=e.children,r=(0,u.default)(e,v);return s.default.createElement(d.Tooltip,{title:t||""},s.default.createElement(f.ToggleButton,r,n))}function E(e,t){return"string"==typeof e&&e.length>t?"".concat(e.substring(0,t),"…"):e}var k=(0,p.observer)((function(e){var t=e.location,n=e.name,r=e.description,a=e.rootModel,l=e.setLocation,u=!t||(0,m.isUriLocation)(t)?"url":"file",p=(0,s.useState)(t&&"internetAccountId"in t&&t.internetAccountId?t.internetAccountId:u),v=(0,c.default)(p,2),y=v[0],w=v[1],k=(0,m.isAppRootModel)(a)?a.internetAccounts.slice():[],x=(0,s.useState)(k.slice(0,2)),S=(0,c.default)(x,2),j=S[0],P=S[1],T=(0,s.useState)(k.slice(2)),R=(0,c.default)(T,2),M=R[0],I=R[1],A=(0,s.useState)(null),L=(0,c.default)(A,2),F=L[0],N=L[1],D=k.find((function(e){return e.internetAccountId===y})),_=function(e){l(O(O({},e),{},{internetAccountId:D?D.internetAccountId:void 0}))};t&&D&&(0,m.isUriLocation)(t)&&t.internetAccountId!==D.internetAccountId&&_(t);var z=s.default.createElement(b.default,(0,i.default)({},e,{setLocation:_,label:null==D?void 0:D.selectorLabel}));if("file"===y&&(z=s.default.createElement(g.default,e)),null!=D&&D.SelectorComponent){var B=D.SelectorComponent;z=s.default.createElement(B,(0,i.default)({},e,{setLocation:_}))}return s.default.createElement(s.default.Fragment,null,s.default.createElement(d.Box,{display:"flex"},s.default.createElement(d.InputLabel,{shrink:!0},n)),s.default.createElement(d.Box,{display:"flex",flexDirection:"row"},s.default.createElement(d.Box,null,s.default.createElement(f.ToggleButtonGroup,{value:y,exclusive:!0,onChange:function(e,n){n&&w(n),(0,m.isUriLocation)(t)&&_(t)},"aria-label":"file, url, or account picker"},new URLSearchParams(window.location.search).get("adminKey")?null:s.default.createElement(f.ToggleButton,{value:"file","aria-label":"local file"},"File"),s.default.createElement(f.ToggleButton,{value:"url","aria-label":"url"},"URL"),j.map((function(e){var t=e.internetAccountId,n=e.toggleContents,r=e.name;return s.default.createElement(C,{key:t,value:t,"aria-label":r,title:r},"string"==typeof n?E(n,5):n||E(r,5))})),M.length?s.default.createElement(f.ToggleButton,{onClick:function(e){return N(e.target)},selected:!1},"More",s.default.createElement(h.default,null)):null),s.default.createElement(d.Menu,{open:Boolean(F),anchorEl:F,onClose:function(){return N(null)},getContentAnchorEl:null,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},null==M?void 0:M.map((function(e,t){return s.default.createElement(d.MenuItem,{key:e.internetAccountId,value:e.internetAccountId,onClick:function(){var n=j[j.length-1];P([].concat((0,o.default)(j.slice(0,j.length-1)),[e])),I([n].concat((0,o.default)(M.slice(0,t)),(0,o.default)(M.slice(t+1)))),w(e.internetAccountId),N(null)}},e.name)}))))),z,s.default.createElement(d.FormHelperText,null,r))}));t.default=k},1278:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(10),a=n(54),o=(n(120),n(1)),i=n(206),l=n(111),c=n(100),u=n(121);function s(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ignoreAccents,n=void 0===t||t,r=e.ignoreCase,a=void 0===r||r,o=e.limit,i=e.matchFrom,l=void 0===i?"any":i,c=e.stringify,u=e.trim,d=void 0!==u&&u;return function(e,t){var r=t.inputValue,i=t.getOptionLabel,u=d?r.trim():r;a&&(u=u.toLowerCase()),n&&(u=s(u));var f=e.filter((function(e){var t=(c||i)(e);return a&&(t=t.toLowerCase()),n&&(t=s(t)),"start"===l?0===t.indexOf(u):t.indexOf(u)>-1}));return"number"==typeof o?f.slice(0,o):f}}function f(e,t){for(var n=0;n<e.length;n+=1)if(t(e[n]))return n;return-1}var p=d();function m(e){var t=e.autoComplete,n=void 0!==t&&t,s=e.autoHighlight,d=void 0!==s&&s,m=e.autoSelect,h=void 0!==m&&m,g=e.blurOnSelect,b=void 0!==g&&g,v=e.clearOnBlur,y=void 0===v?!e.freeSolo:v,w=e.clearOnEscape,O=void 0!==w&&w,C=e.componentName,E=void 0===C?"useAutocomplete":C,k=e.debug,x=void 0!==k&&k,S=e.defaultValue,j=void 0===S?e.multiple?[]:null:S,P=e.disableClearable,T=void 0!==P&&P,R=e.disableCloseOnSelect,M=void 0!==R&&R,I=e.disabledItemsFocusable,A=void 0!==I&&I,L=e.disableListWrap,F=void 0!==L&&L,N=e.filterOptions,D=void 0===N?p:N,_=e.filterSelectedOptions,z=void 0!==_&&_,B=e.freeSolo,H=void 0!==B&&B,W=e.getOptionDisabled,V=e.getOptionLabel,G=void 0===V?function(e){return e}:V,U=e.getOptionSelected,q=void 0===U?function(e,t){return e===t}:U,$=e.groupBy,K=e.handleHomeEndKeys,J=void 0===K?!e.freeSolo:K,Y=e.id,X=e.includeInputInList,Z=void 0!==X&&X,Q=e.inputValue,ee=e.multiple,te=void 0!==ee&&ee,ne=e.onChange,re=e.onClose,ae=e.onHighlightChange,oe=e.onInputChange,ie=e.onOpen,le=e.open,ce=e.openOnFocus,ue=void 0!==ce&&ce,se=e.options,de=e.selectOnFocus,fe=void 0===de?!e.freeSolo:de,pe=e.value,me=Object(i.a)(Y),he=G;var ge=o.useRef(!1),be=o.useRef(!0),ve=o.useRef(null),ye=o.useRef(null),we=o.useState(null),Oe=we[0],Ce=we[1],Ee=o.useState(-1),ke=Ee[0],xe=Ee[1],Se=d?0:-1,je=o.useRef(Se),Pe=Object(l.a)({controlled:pe,default:j,name:E}),Te=Object(a.a)(Pe,2),Re=Te[0],Me=Te[1],Ie=Object(l.a)({controlled:Q,default:"",name:E,state:"inputValue"}),Ae=Object(a.a)(Ie,2),Le=Ae[0],Fe=Ae[1],Ne=o.useState(!1),De=Ne[0],_e=Ne[1],ze=Object(c.a)((function(e,t){var n;if(te)n="";else if(null==t)n="";else{var r=he(t);n="string"==typeof r?r:""}Le!==n&&(Fe(n),oe&&oe(e,n,"reset"))}));o.useEffect((function(){ze(null,Re)}),[Re,ze]);var Be=Object(l.a)({controlled:le,default:!1,name:E,state:"open"}),He=Object(a.a)(Be,2),We=He[0],Ve=He[1],Ge=!te&&null!=Re&&Le===he(Re),Ue=We,qe=Ue?D(se.filter((function(e){return!z||!(te?Re:[Re]).some((function(t){return null!==t&&q(e,t)}))})),{inputValue:Ge?"":Le,getOptionLabel:he}):[],$e=Object(c.a)((function(e){-1===e?ve.current.focus():Oe.querySelector('[data-tag-index="'.concat(e,'"]')).focus()}));o.useEffect((function(){te&&ke>Re.length-1&&(xe(-1),$e(-1))}),[Re,te,ke,$e]);var Ke=Object(c.a)((function(e){var t=e.event,n=e.index,r=e.reason,a=void 0===r?"auto":r;if(je.current=n,-1===n?ve.current.removeAttribute("aria-activedescendant"):ve.current.setAttribute("aria-activedescendant","".concat(me,"-option-").concat(n)),ae&&ae(t,-1===n?null:qe[n],a),ye.current){var o=ye.current.querySelector("[data-focus]");o&&o.removeAttribute("data-focus");var i=ye.current.parentElement.querySelector('[role="listbox"]');if(i)if(-1!==n){var l=ye.current.querySelector('[data-option-index="'.concat(n,'"]'));if(l&&(l.setAttribute("data-focus","true"),i.scrollHeight>i.clientHeight&&"mouse"!==a)){var c=l,u=i.clientHeight+i.scrollTop,s=c.offsetTop+c.offsetHeight;s>u?i.scrollTop=s-i.clientHeight:c.offsetTop-c.offsetHeight*($?1.3:0)<i.scrollTop&&(i.scrollTop=c.offsetTop-c.offsetHeight*($?1.3:0))}}else i.scrollTop=0}})),Je=Object(c.a)((function(e){var t=e.event,r=e.diff,a=e.direction,o=void 0===a?"next":a,i=e.reason,l=void 0===i?"auto":i;if(Ue){var c=function(e,t){if(!ye.current||-1===e)return-1;for(var n=e;;){if("next"===t&&n===qe.length||"previous"===t&&-1===n)return-1;var r=ye.current.querySelector('[data-option-index="'.concat(n,'"]')),a=!A&&(r&&(r.disabled||"true"===r.getAttribute("aria-disabled")));if(!(r&&!r.hasAttribute("tabindex")||a))return n;n+="next"===t?1:-1}}(function(){var e=qe.length-1;if("reset"===r)return Se;if("start"===r)return 0;if("end"===r)return e;var t=je.current+r;return t<0?-1===t&&Z?-1:F&&-1!==je.current||Math.abs(r)>1?0:e:t>e?t===e+1&&Z?-1:F||Math.abs(r)>1?e:0:t}(),o);if(Ke({index:c,reason:l,event:t}),n&&"reset"!==r)if(-1===c)ve.current.value=Le;else{var u=he(qe[c]);ve.current.value=u,0===u.toLowerCase().indexOf(Le.toLowerCase())&&Le.length>0&&ve.current.setSelectionRange(Le.length,u.length)}}})),Ye=o.useCallback((function(){if(Ue){var e=te?Re[0]:Re;if(0!==qe.length&&null!=e){if(ye.current)if(z||null==e)je.current>=qe.length-1?Ke({index:qe.length-1}):Ke({index:je.current});else{var t=qe[je.current];if(te&&t&&-1!==f(Re,(function(e){return q(t,e)})))return;var n=f(qe,(function(t){return q(t,e)}));-1===n?Je({diff:"reset"}):Ke({index:n})}}else Je({diff:"reset"})}}),[0===qe.length,!te&&Re,z,Je,Ke,Ue,Le,te]),Xe=Object(c.a)((function(e){Object(u.a)(ye,e),e&&Ye()}));o.useEffect((function(){Ye()}),[Ye]);var Ze=function(e){We||(Ve(!0),ie&&ie(e))},Qe=function(e,t){We&&(Ve(!1),re&&re(e,t))},et=function(e,t,n,r){Re!==t&&(ne&&ne(e,t,n,r),Me(t))},tt=o.useRef(!1),nt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"select-option",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",a=n,o=t;if(te){var i=f(o=Array.isArray(Re)?Re.slice():[],(function(e){return q(t,e)}));-1===i?o.push(t):"freeSolo"!==r&&(o.splice(i,1),a="remove-option")}ze(e,o),et(e,o,a,{option:t}),M||Qe(e,a),(!0===b||"touch"===b&&tt.current||"mouse"===b&&!tt.current)&&ve.current.blur()};var rt=function(e,t){if(te){Qe(e,"toggleInput");var n=ke;-1===ke?""===Le&&"previous"===t&&(n=Re.length-1):((n+="next"===t?1:-1)<0&&(n=0),n===Re.length&&(n=-1)),n=function(e,t){if(-1===e)return-1;for(var n=e;;){if("next"===t&&n===Re.length||"previous"===t&&-1===n)return-1;var r=Oe.querySelector('[data-tag-index="'.concat(n,'"]'));if(!r||r.hasAttribute("tabindex")&&!r.disabled&&"true"!==r.getAttribute("aria-disabled"))return n;n+="next"===t?1:-1}}(n,t),xe(n),$e(n)}},at=function(e){ge.current=!0,Fe(""),oe&&oe(e,"","clear"),et(e,te?[]:null,"clear")},ot=function(e){return function(t){switch(-1!==ke&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(xe(-1),$e(-1)),t.key){case"Home":Ue&&J&&(t.preventDefault(),Je({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ue&&J&&(t.preventDefault(),Je({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),Je({diff:-5,direction:"previous",reason:"keyboard",event:t}),Ze(t);break;case"PageDown":t.preventDefault(),Je({diff:5,direction:"next",reason:"keyboard",event:t}),Ze(t);break;case"ArrowDown":t.preventDefault(),Je({diff:1,direction:"next",reason:"keyboard",event:t}),Ze(t);break;case"ArrowUp":t.preventDefault(),Je({diff:-1,direction:"previous",reason:"keyboard",event:t}),Ze(t);break;case"ArrowLeft":rt(t,"previous");break;case"ArrowRight":rt(t,"next");break;case"Enter":if(229===t.which)break;if(-1!==je.current&&Ue){var r=qe[je.current],a=!!W&&W(r);if(t.preventDefault(),a)return;nt(t,r,"select-option"),n&&ve.current.setSelectionRange(ve.current.value.length,ve.current.value.length)}else H&&""!==Le&&!1===Ge&&(te&&t.preventDefault(),nt(t,Le,"create-option","freeSolo"));break;case"Escape":Ue?(t.preventDefault(),t.stopPropagation(),Qe(t,"escape")):O&&(""!==Le||te&&Re.length>0)&&(t.preventDefault(),t.stopPropagation(),at(t));break;case"Backspace":if(te&&""===Le&&Re.length>0){var o=-1===ke?Re.length-1:ke,i=Re.slice();i.splice(o,1),et(t,i,"remove-option",{option:Re[o]})}}e.onKeyDown&&e.onKeyDown(t)}},it=function(e){_e(!0),ue&&!ge.current&&Ze(e)},lt=function(e){null===ye.current||document.activeElement!==ye.current.parentElement?(_e(!1),be.current=!0,ge.current=!1,x&&""!==Le||(h&&-1!==je.current&&Ue?nt(e,qe[je.current],"blur"):h&&H&&""!==Le?nt(e,Le,"blur","freeSolo"):y&&ze(e,Re),Qe(e,"blur"))):ve.current.focus()},ct=function(e){var t=e.target.value;Le!==t&&(Fe(t),oe&&oe(e,t,"input")),""===t?T||te||et(e,null,"clear"):Ze(e)},ut=function(e){Ke({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},st=function(){tt.current=!0},dt=function(e){var t=Number(e.currentTarget.getAttribute("data-option-index"));nt(e,qe[t],"select-option"),tt.current=!1},ft=function(e){return function(t){var n=Re.slice();n.splice(e,1),et(t,n,"remove-option",{option:Re[e]})}},pt=function(e){We?Qe(e,"toggleInput"):Ze(e)},mt=function(e){e.target.getAttribute("id")!==me&&e.preventDefault()},ht=function(){ve.current.focus(),fe&&be.current&&ve.current.selectionEnd-ve.current.selectionStart==0&&ve.current.select(),be.current=!1},gt=function(e){""!==Le&&We||pt(e)},bt=H&&Le.length>0;bt=bt||(te?Re.length>0:null!==Re);var vt=qe;if($){new Map;vt=qe.reduce((function(e,t,n){var r=$(t);return e.length>0&&e[e.length-1].group===r?e[e.length-1].options.push(t):e.push({key:n,index:n,group:r,options:[t]}),e}),[])}return{getRootProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)({"aria-owns":Ue?"".concat(me,"-popup"):null,role:"combobox","aria-expanded":Ue},e,{onKeyDown:ot(e),onMouseDown:mt,onClick:ht})},getInputLabelProps:function(){return{id:"".concat(me,"-label"),htmlFor:me}},getInputProps:function(){return{id:me,value:Le,onBlur:lt,onFocus:it,onChange:ct,onMouseDown:gt,"aria-activedescendant":Ue?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Ue?"".concat(me,"-popup"):null,autoComplete:"off",ref:ve,autoCapitalize:"none",spellCheck:"false"}},getClearProps:function(){return{tabIndex:-1,onClick:at}},getPopupIndicatorProps:function(){return{tabIndex:-1,onClick:pt}},getTagProps:function(e){var t=e.index;return{key:t,"data-tag-index":t,tabIndex:-1,onDelete:ft(t)}},getListboxProps:function(){return{role:"listbox",id:"".concat(me,"-popup"),"aria-labelledby":"".concat(me,"-label"),ref:Xe,onMouseDown:function(e){e.preventDefault()}}},getOptionProps:function(e){var t=e.index,n=e.option,r=(te?Re:[Re]).some((function(e){return null!=e&&q(n,e)})),a=!!W&&W(n);return{key:t,tabIndex:-1,role:"option",id:"".concat(me,"-option-").concat(t),onMouseOver:ut,onClick:dt,onTouchStart:st,"data-option-index":t,"aria-disabled":a,"aria-selected":r}},id:me,inputValue:Le,value:Re,dirty:bt,popupOpen:Ue,focused:De||-1!==ke,anchorEl:Oe,setAnchorEl:Ce,focusedTag:ke,groupedOptions:vt}}},1279:function(e,t,n){"use strict";var r=60103,a=60106,o=60107,i=60108,l=60114,c=60109,u=60110,s=60112,d=60113,f=60120,p=60115,m=60116,h=60121,g=60122,b=60117,v=60129,y=60131;if("function"==typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),a=w("react.portal"),o=w("react.fragment"),i=w("react.strict_mode"),l=w("react.profiler"),c=w("react.provider"),u=w("react.context"),s=w("react.forward_ref"),d=w("react.suspense"),f=w("react.suspense_list"),p=w("react.memo"),m=w("react.lazy"),h=w("react.block"),g=w("react.server.block"),b=w("react.fundamental"),v=w("react.debug_trace_mode"),y=w("react.legacy_hidden")}function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case l:case i:case d:case f:return e;default:switch(e=e&&e.$$typeof){case u:case s:case m:case p:case c:return e;default:return t}}case a:return t}}}var C=c,E=r,k=s,x=o,S=m,j=p,P=a,T=l,R=i,M=d;t.ContextConsumer=u,t.ContextProvider=C,t.Element=E,t.ForwardRef=k,t.Fragment=x,t.Lazy=S,t.Memo=j,t.Portal=P,t.Profiler=T,t.StrictMode=R,t.Suspense=M,t.isAsyncMode=function(){return!1},t.isConcurrentMode=function(){return!1},t.isContextConsumer=function(e){return O(e)===u},t.isContextProvider=function(e){return O(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return O(e)===s},t.isFragment=function(e){return O(e)===o},t.isLazy=function(e){return O(e)===m},t.isMemo=function(e){return O(e)===p},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===l},t.isStrictMode=function(e){return O(e)===i},t.isSuspense=function(e){return O(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===l||e===v||e===i||e===d||e===f||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===c||e.$$typeof===u||e.$$typeof===s||e.$$typeof===b||e.$$typeof===h||e[0]===g)},t.typeOf=O},1280:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(29),i=n(42),l=n(99);function c(e){return"blobId"in e}var u=(0,o.makeStyles)((function(e){return{filename:{marginLeft:e.spacing(1)}}}));var s=function(e){var t=u(),n=e.location,r=e.setLocation,s=n&&(c(n)&&n.name||function(e){return"localPath"in e}(n)&&n.localPath),d=n&&c(n)&&!(0,l.getBlob)(n.blobId);return a.default.createElement(o.Box,{display:"flex",flexDirection:"row",alignItems:"center"},a.default.createElement(o.Box,null,a.default.createElement(o.FormControl,{fullWidth:!0},a.default.createElement(o.Button,{variant:"outlined",component:"label"},"Choose File",a.default.createElement("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target,n=t&&t.files&&t.files[0];n&&(i.isElectron?r({localPath:n.path,locationType:"LocalPathLocation"}):r((0,l.storeBlobLocation)({blob:n})))}})))),a.default.createElement(o.Box,null,a.default.createElement(o.Typography,{component:"span",className:t.filename,color:s?"initial":"textSecondary"},s||"No file chosen"),d?a.default.createElement(o.Typography,{color:"error"},"(need to reload)"):null))};t.default=s},1281:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(29),i=n(34),l=n(129);var c=(0,i.observer)((function(e){var t=e.location,n=e.setLocation,r=e.label;return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.TextField,{fullWidth:!0,variant:"outlined",inputProps:{"data-testid":"urlInput"},defaultValue:t&&(0,l.isUriLocation)(t)?t.uri:"",label:r||"Enter URL",onChange:function(e){n({uri:e.target.value.trim(),locationType:"UriLocation"})}}))}));t.default=c},1282:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(13)),i=r(n(40)),l=r(n(0)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),u=n(459);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=e.width,n=e.height,r=e.highResolutionScaling,a=e.style,o=e.imageData,l=e.blockKey,s=e.showSoftClip,d=(0,c.useRef)(null);(0,c.useEffect)((function(){if(o){var e=d.current;if(e){var t=e.getContext("2d");if(t)if(o.commands)o.commands.forEach((function(e){"strokeStyle"===e.type?t.strokeStyle=e.style:"fillStyle"===e.type?t.fillStyle=e.style:"font"===e.type?t.font=e.style:t[e.type].apply(t,(0,i.default)(e.args))}));else if(o instanceof u.ImageBitmapType)t.drawImage(o,0,0);else if(o.dataURL){var n=new Image;n.onload=function(){return t.drawImage(n,0,0)},n.src=o.dataURL}}}}),[o]);var p=l?"_"+l:"",m="prerendered_canvas".concat(s?"_softclipped":"").concat(p);return c.default.createElement("canvas",{"data-testid":m,ref:d,width:t*r,height:n*r,style:f({width:t,height:n},a)})}p.propTypes={height:l.default.number.isRequired,width:l.default.number.isRequired,highResolutionScaling:l.default.number,style:l.default.objectOf(l.default.any),imageData:l.default.any},p.defaultProps={imageData:void 0,highResolutionScaling:1,style:{}};var m=p;t.default=m},1283:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),l=n(29),c=n(34),u=n(41);function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var d=(0,l.makeStyles)({hoverLabel:{border:"1px solid black",position:"absolute",background:"#fffa",pointerEvents:"none",zIndex:1e4}}),f=(0,c.observer)((function(e){var t=e.offsetX,n=e.offsetY,r=e.configuration,a=e.feature,l=e.timeout,c=void 0===l?300:l,s=d(),f=(0,i.useState)(!1),p=(0,o.default)(f,2),m=p[0],h=p[1];if((0,i.useEffect)((function(){var e=setTimeout((function(){return h(!0)}),c);return function(){return clearTimeout(e)}})),a&&m){var g=(0,u.readConfObject)(r,"mouseover",{feature:a});return i.default.createElement("div",{className:s.hoverLabel,style:{left:t,top:n}},g)}return null}));t.default=f},1284:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(23)),i=r(n(63)),l=r(n(92)),c=r(n(146)),u=r(n(114)),s=r(n(113)),d=r(n(0)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),p=r(n(840));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var h=function(e){var t=e.onFactoryReset,n=e.resetButtonText,r=(0,f.useState)(!1),a=(0,o.default)(r,2),l=a[0],c=a[1];return f.default.createElement(f.default.Fragment,null,f.default.createElement(i.default,{"data-testid":"fatal-error",color:"primary",variant:"contained",onClick:function(){return c(!0)}},n),f.default.createElement(p.default,{onClose:function(){return c(!1)},open:l,onFactoryReset:t}))};h.propTypes={onFactoryReset:d.default.func.isRequired,resetButtonText:d.default.string.isRequired};var g=function(e){var t=e.componentStack,n=e.error,r=e.onFactoryReset,a=e.resetButtonText;return f.default.createElement(l.default,{open:!0},f.default.createElement(s.default,{style:{backgroundColor:"#e88"}},"Fatal error"),f.default.createElement(u.default,null,f.default.createElement("pre",null,n.toString(),t)),f.default.createElement(c.default,null,f.default.createElement(i.default,{color:"secondary",variant:"contained",onClick:function(){return window.location.reload()}},"Refresh"),f.default.createElement(h,{onFactoryReset:r,resetButtonText:a})))};g.propTypes={componentStack:d.default.string,error:d.default.shape({}),onFactoryReset:d.default.func.isRequired,resetButtonText:d.default.string},g.defaultProps={error:{message:"No error message provided"},componentStack:"",resetButtonText:"Factory Reset"};var b=g;t.default=b},1285:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"assemblyConfigSchemaFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a.default}});var a=r(n(1286)),o=r(n(1288))},1286:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,d.default)(e,t);return c.types.model({assemblies:c.types.array(n)}).views((function(e){return{get:function(t){return e.assemblies.find((function(e){return e.hasName(t)}))},get assemblyNamesList(){return this.assemblyList.map((function(e){return e.name}))},get assemblyList(){var t=(0,c.getParent)(e),n=t.jbrowse.assemblies,r=t.session,a=(r=void 0===r?{}:r).sessionAssemblies,o=void 0===a?[]:a;return[].concat((0,i.default)(n),(0,i.default)(o))},get rpcManager(){return(0,c.getParent)(e).rpcManager},get pluginManager(){return(0,c.getParent)(e).pluginManager},get allPossibleRefNames(){var t,n=[],r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e.assemblies);try{for(r.s();!(t=r.n()).done;){var a=t.value;if(!a.allRefNames)return;n=n.concat(a.allRefNames)}}catch(e){r.e(e)}finally{r.f()}return n}}})).views((function(e){return{waitForAssembly:function(t){return(0,o.default)(a.default.mark((function n(){var r;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}throw new Error("no assembly name supplied to waitForAssembly");case 2:if(!(r=e.get(t))){n.next=9;break}return n.next=6,(0,u.when)((function(){return Boolean(r.regions&&r.refNameAliases)||!!r.error}));case 6:if(!r.error){n.next=8;break}throw r.error;case 8:return n.abrupt("return",r);case 9:return n.abrupt("return",void 0);case 10:case"end":return n.stop()}}),n)})))()},getRefNameMapForAdapter:function(t,n,r){return(0,o.default)(a.default.mark((function o(){var i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,u.when)((function(){return Boolean(e.get(n))}),{signal:r.signal,name:"when assembly ready"});case 2:if(!(i=e.get(n))){a.next=5;break}return a.abrupt("return",i.getRefNameMapForAdapter(t,r));case 5:return a.abrupt("return",void 0);case 6:case"end":return a.stop()}}),o)})))()},getReverseRefNameMapForAdapter:function(t,n,r){return(0,o.default)(a.default.mark((function o(){var i;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,u.when)((function(){return Boolean(e.get(n))}),{signal:r.signal,name:"when assembly ready"});case 2:if(!(i=e.get(n))){a.next=5;break}return a.abrupt("return",i.getReverseRefNameMapForAdapter(t,r));case 5:return a.abrupt("return",void 0);case 6:case"end":return a.stop()}}),o)})))()},isValidRefName:function(t,n){if(n){var r=e.get(n);if(r)return r.isValidRefName(t);throw new Error("isValidRefName for ".concat(n," failed, assembly does not exist"))}if(!e.allPossibleRefNames)throw new Error("isValidRefName not available, assemblyManager has not yet finished loading. If you are looking for a refname in a specific assembly, pass assembly argument");return e.allPossibleRefNames.includes(t)}}})).actions((function(e){return{removeAssembly:function(t){e.assemblies.remove(t)},afterAttach:function(){var t=this;(0,c.addDisposer)(e,(0,l.reaction)((function(){return e.assemblyList}),(function(n){e.assemblies.forEach((function(e){e.configuration||t.removeAssembly(e)})),n.forEach((function(n){-1===e.assemblies.findIndex((function(e){return e.name===(0,s.readConfObject)(n,"name")}))&&t.addAssembly(n)}))}),{fireImmediately:!0,name:"assemblyManagerAfterAttach"}))},addAssembly:function(t){e.assemblies.push({configuration:t})},replaceAssembly:function(t,n){e.assemblies[t]=(0,c.cast)({configuration:n})}}}))};var a=r(n(22)),o=r(n(25)),i=r(n(40)),l=n(46),c=n(19),u=n(42),s=n(41),d=r(n(1287));function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},1287:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=new f.default({cache:new h.default({maxSize:1e3}),fill:function(e,t,n){return(0,u.default)(i.default.mark((function r(){var a,o,l;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.adapterConf,o=e.self,l=e.options,r.abrupt("return",w(o,a,v(v({},l),{},{statusCallback:n}),t));case 2:case"end":return r.stop()}}),r)})))()}});return d.types.model({configuration:d.types.safeReference(e)}).volatile((function(){return{error:void 0,regions:void 0,refNameAliases:void 0,cytobands:void 0}})).views((function(e){return{get initialized(){return!!e.refNameAliases},get name(){return(0,p.getConf)(e,"name")},get aliases(){return(0,p.getConf)(e,"aliases")},hasName:function(e){return this.allAliases.includes(e)},get allAliases(){return[this.name].concat((0,l.default)(this.aliases))},get refNames(){var t;return null===(t=e.regions)||void 0===t?void 0:t.map((function(e){return e.refName}))},get allRefNames(){return e.refNameAliases?Object.keys(e.refNameAliases):void 0},get rpcManager(){return(0,d.getParent)(e,2).rpcManager},get refNameColors(){var t=(0,p.getConf)(e,"refNameColors");return 0===t.length?y:t}}})).views((function(e){return{getCanonicalRefName:function(t){if(!e.refNameAliases)throw new Error("aliases not loaded, we expect them to be loaded before getCanonicalRefName can be called");return e.refNameAliases[t]},getRefNameColor:function(t){var n,r=null===(n=e.refNames)||void 0===n?void 0:n.findIndex((function(e){return e===t}));if(void 0!==r&&-1!==r)return e.refNameColors[r%e.refNameColors.length]},isValidRefName:function(t){if(!e.refNameAliases)throw new Error("isValidRefName cannot be called yet, the assembly has not finished loading");return!!this.getCanonicalRefName(t)}}})).actions((function(e){return{setLoading:function(){},setLoaded:function(e){var t=e.adapterRegionsWithAssembly,n=e.refNameAliases,r=e.cytobands;this.setRegions(t),this.setRefNameAliases(n),this.setCytobands(r)},setError:function(t){console.error(t),e.error=t},setRegions:function(t){e.regions=t},setRefNameAliases:function(t){e.refNameAliases=t},setCytobands:function(t){e.cytobands=t},afterAttach:function(){(0,m.makeAbortableReaction)(e,function(e){return function(t){if(t.configuration){var n=t.configuration,r=n.sequence,a=n.refNameAliases,o=n.cytobands,i=r.adapter,l=null==a?void 0:a.adapter,c=null==o?void 0:o.adapter;return{sequenceAdapterConfig:i,assemblyName:t.name,refNameAliasesAdapterConfig:l,cytobandAdapterConfig:c,pluginManager:e}}}}(t),E,{name:"".concat(e.name," assembly loading"),fireImmediately:!0},this.setLoading,this.setLoaded,this.setError)}}})).views((function(e){return{getAdapterMapEntry:function(t,r){r.signal;var a=r.statusCallback,i=(0,o.default)(r,g);if(!r.sessionId)throw new Error("sessionId is required");var l=function(e){return(0,s.default)(e)}(t);return n.get(l,{adapterConf:t,self:e,options:i},void 0,a)},getRefNameMapForAdapter:function(e,t){var n=this;return(0,u.default)(i.default.mark((function r(){var a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&t.sessionId){r.next=2;break}throw new Error("sessionId is required");case 2:return r.next=4,n.getAdapterMapEntry(e,t);case 4:return a=r.sent,r.abrupt("return",a.forwardMap);case 6:case"end":return r.stop()}}),r)})))()},getReverseRefNameMapForAdapter:function(e,t){var n=this;return(0,u.default)(i.default.mark((function r(){var a;return i.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.getAdapterMapEntry(e,t);case 2:return a=r.sent,r.abrupt("return",a.reverseMap);case 4:case"end":return r.stop()}}),r)})))()}}}))};var a=r(n(23)),o=r(n(56)),i=r(n(22)),l=r(n(40)),c=r(n(13)),u=r(n(25)),s=r(n(666)),d=n(19),f=r(n(93)),p=n(41),m=n(42),h=r(n(464)),g=["signal","statusCallback"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=["rgb(153, 102, 0)","rgb(102, 102, 0)","rgb(153, 153, 30)","rgb(204, 0, 0)","rgb(255, 0, 0)","rgb(255, 0, 204)","rgb(165, 132, 132)","rgb(204, 122, 0)","rgb(178, 142, 0)","rgb(153, 153, 0)","rgb(122, 153, 0)","rgb(0, 165, 0)","rgb(53, 128, 0)","rgb(0, 0, 204)","rgb(96, 145, 242)","rgb(107, 142, 178)","rgb(0, 165, 165)","rgb(122, 153, 153)","rgb(153, 0, 204)","rgb(204, 51, 255)","rgb(173, 130, 216)","rgb(102, 102, 102)","rgb(145, 145, 145)","rgb(142, 142, 142)","rgb(142, 142, 107)","rgb(96, 163, 48)"];function w(e,t,n,r){return O.apply(this,arguments)}function O(){return(O=(0,u.default)(i.default.mark((function e(t,n,r,o){var l,c,u,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=r.sessionId,e.next=3,(0,m.when)((function(){return Boolean(t.regions&&t.refNameAliases)}),{signal:o,name:"when assembly ready"});case 3:return e.next=5,t.rpcManager.call(l,"CoreGetRefNames",v({adapterConfig:n,signal:o},r),{timeout:1e6});case 5:if(c=e.sent,t.refNameAliases){e.next=9;break}throw new Error("error loading assembly ".concat(t.name,"'s refNameAliases"));case 9:return u=Object.fromEntries(c.map((function(e){return C(e),[t.getCanonicalRefName(e),e]}))),s=Object.fromEntries(Object.entries(u).map((function(e){var t=(0,a.default)(e,2),n=t[0];return[t[1],n]}))),e.abrupt("return",{forwardMap:u,reverseMap:s});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(e){if(!e.match(/[0-9A-Za-z!#$%&+./:;?@^_|~-][0-9A-Za-z!#$%&*+./:;=?@^_|~-]*/))throw new Error('Encountered invalid refName: "'.concat(e,'"'))}function E(e,t){return k.apply(this,arguments)}function k(){return(k=(0,u.default)(i.default.mark((function e(t,n){var r,a,o,l,c,u,s,d,f,p;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=t.sequenceAdapterConfig,a=t.assemblyName,o=t.refNameAliasesAdapterConfig,l=t.cytobandAdapterConfig,c=t.pluginManager,e.next=5,T(r,c,n);case 5:return u=e.sent,s=u.map((function(e){return C(e.refName),v(v({},e),{},{assemblyName:a})})),d={},e.next=10,x(o,c,n);case 10:return f=e.sent,e.next=13,j(l,c);case 13:return p=e.sent,f.forEach((function(e){var t=e.refName;e.aliases.forEach((function(e){C(e),d[e]=t}))})),s.forEach((function(e){d[e.refName]=e.refName})),e.abrupt("return",{adapterRegionsWithAssembly:s,refNameAliases:d,cytobands:p});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,t,n){return S.apply(this,arguments)}function S(){return(S=(0,u.default)(i.default.mark((function e(t,n,r){var a,o,l,c;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n.getAdapterType(t.type),e.next=3,null===(a=o.getAdapterClass)||void 0===a?void 0:a.call(o);case 3:return l=e.sent,c=new l(t,void 0,n),e.abrupt("return",c.getRefNameAliases({signal:r}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e,t){return P.apply(this,arguments)}function P(){return(P=(0,u.default)(i.default.mark((function e(t,n){var r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getAdapterType(t.type),e.next=3,r.getAdapterClass();case 3:return a=e.sent,o=new a(t,void 0,n),e.abrupt("return",o.getData());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return R.apply(this,arguments)}function R(){return(R=(0,u.default)(i.default.mark((function e(t,n,r){var a,o,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.getAdapterType(t.type),e.next=3,a.getAdapterClass();case 3:return o=e.sent,l=new o(t,void 0,n),e.abrupt("return",l.getRegions({signal:r}));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1288:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(41);t.default=function(e){return(0,r.ConfigurationSchema)("BaseAssembly",{aliases:{type:"stringArray",defaultValue:[],description:"Other possible names for the assembly"},sequence:e.getTrackType("ReferenceSequenceTrack").configSchema,refNameColors:{type:"stringArray",defaultValue:[],description:"Define custom colors for each reference sequence. Will cycle through this list if there are not enough colors for every sequence."},refNameAliases:(0,r.ConfigurationSchema)("RefNameAliases",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:function(e){return e.adapter?e:{adapter:{type:"RefNameAliasAdapter"}}}}),cytobands:(0,r.ConfigurationSchema)("Cytoband",{adapter:e.pluggableConfigSchemaType("adapter")},{preProcessSnapshot:function(e){return e.adapter?e:{adapter:{type:"CytobandAdapter"}}}}),displayName:{type:"string",defaultValue:"",description:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)" while the assembly name may just be "hg38"'}},{explicitIdentifier:"name"})}},1289:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(40)),l=r(n(23)),c=r(n(15)),u=r(n(16)),s=r(n(13)),d=n(19),f=r(n(255)),p=r(n(130)),m=r(n(156)),h=r(n(186)),g=r(n(256)),b=r(n(157)),v=r(n(465)),y=r(n(335)),w=r(n(843)),O=r(n(844)),C=n(41),E=r(n(109)),k=r(n(845)),x=r(n(1312)),S=r(n(830));function j(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=function(){function e(){(0,c.default)(this,e),(0,s.default)(this,"phaseCallbacks",new Map),(0,s.default)(this,"phaseOrder",[]);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.phaseOrder=n}return(0,u.default)(e,[{key:"add",value:function(e,t){if(!this.phaseOrder.includes(e))throw new Error("unknown phase ".concat(e));var n=this.phaseCallbacks.get(e);n||(n=[],this.phaseCallbacks.set(e,n)),n.push(t)}},{key:"run",value:function(){var e=this;this.phaseOrder.forEach((function(t){var n=e.phaseCallbacks.get(t);n&&n.forEach((function(e){return e()}))}))}}]),e}(),R=function(){function e(t,n){(0,c.default)(this,e),this.typeName=t,this.baseClass=n,(0,s.default)(this,"registeredTypes",{})}return(0,u.default)(e,[{key:"add",value:function(e,t){this.registeredTypes[e]=t}},{key:"has",value:function(e){return e in this.registeredTypes}},{key:"get",value:function(e){if(!this.has(e))throw new Error("".concat(this.typeName," '").concat(e,"' not found, perhaps its plugin is not loaded or its plugin has not added it."));return this.registeredTypes[e]}},{key:"all",value:function(){return Object.values(this.registeredTypes)}}]),e}(),M=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.default)(this,e),(0,s.default)(this,"plugins",[]),(0,s.default)(this,"jexl",(0,S.default)()),(0,s.default)(this,"pluginMetadata",{}),(0,s.default)(this,"runtimePluginDefinitions",[]),(0,s.default)(this,"elementCreationSchedule",new T("renderer","adapter","text search adapter","display","track","connection","view","widget","rpc method","internet account")),(0,s.default)(this,"rendererTypes",new R("RendererType",f.default)),(0,s.default)(this,"adapterTypes",new R("AdapterType",p.default)),(0,s.default)(this,"textSearchAdapterTypes",new R("TextSearchAdapterType",O.default)),(0,s.default)(this,"trackTypes",new R("TrackType",m.default)),(0,s.default)(this,"displayTypes",new R("DisplayType",h.default)),(0,s.default)(this,"connectionTypes",new R("ConnectionType",v.default)),(0,s.default)(this,"viewTypes",new R("ViewType",g.default)),(0,s.default)(this,"widgetTypes",new R("WidgetType",b.default)),(0,s.default)(this,"rpcMethods",new R("RpcMethodType",y.default)),(0,s.default)(this,"internetAccountTypes",new R("InternetAccountType",w.default)),(0,s.default)(this,"configured",!1),(0,s.default)(this,"rootModel",void 0),(0,s.default)(this,"extensionPoints",new Map),(0,s.default)(this,"jbrequireCache",new Map),(0,s.default)(this,"lib",k.default),(0,s.default)(this,"load",(function(e){return t.jbrequireCache.has(e)||t.jbrequireCache.set(e,e(t)),t.jbrequireCache.get(e)})),(0,s.default)(this,"jbrequire",(function(e){if("string"==typeof e){var n=t.lib[e];if(!n)throw new TypeError("No jbrequire re-export defined for package '".concat(e,"'. If this package must be shared between plugins, add it to ReExports.js. If it does not need to be shared, just import it normally."));return n}if("function"==typeof e)return t.load(e);if(e.default)return t.jbrequire(e.default);throw new TypeError("lib passed to jbrequire must be either a string or a function")})),this.addPlugin({plugin:new x.default,metadata:{isCore:!0}}),n.forEach((function(e){t.addPlugin(e)}))}var t;return(0,u.default)(e,[{key:"pluginConfigurationSchemas",value:function(){var e={};return this.plugins.forEach((function(t){t.configurationSchema&&(e[t.name]=t.configurationSchema)})),e}},{key:"addPlugin",value:function(e){if(this.configured)throw new Error("JBrowse already configured, cannot add plugins");var t=e instanceof E.default?[e,{}]:[e.plugin,e.metadata],n=(0,l.default)(t,2),r=n[0],a=n[1],o=void 0===a?{}:a;if(this.plugins.includes(r))throw new Error("plugin already installed");return this.pluginMetadata[r.name]=o,"definition"in e&&this.runtimePluginDefinitions.push(e.definition),r.install(this),this.plugins.push(r),this}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))}},{key:"hasPlugin",value:function(e){return void 0!==this.getPlugin(e)}},{key:"createPluggableElements",value:function(){return this.elementCreationSchedule&&(this.elementCreationSchedule.run(),delete this.elementCreationSchedule),this}},{key:"setRootModel",value:function(e){this.rootModel=e}},{key:"configure",value:function(){var e=this;if(this.configured)throw new Error("already configured");return this.plugins.forEach((function(t){return t.configure(e)})),this.configured=!0,this}},{key:"getElementTypeRecord",value:function(e){switch(e){case"adapter":return this.adapterTypes;case"text search adapter":return this.textSearchAdapterTypes;case"connection":return this.connectionTypes;case"widget":return this.widgetTypes;case"renderer":return this.rendererTypes;case"display":return this.displayTypes;case"track":return this.trackTypes;case"view":return this.viewTypes;case"rpc method":return this.rpcMethods;case"internet account":return this.internetAccountTypes;default:throw new Error("invalid element type '".concat(e,"'"))}}},{key:"addElementType",value:function(e,t){var n=this;if("function"!=typeof t)throw new Error("must provide a callback function that returns the new type object");var r=this.getElementTypeRecord(e);return this.elementCreationSchedule&&this.elementCreationSchedule.add(e,(function(){var a=t(n);if(!a.name)throw new Error("cannot add a ".concat(e," with no name"));if(r.has(a.name))throw new Error("".concat(e," ").concat(a.name," already registered, cannot register it again"));a=n.evaluateExtensionPoint("Core-extendPluggableElement",a),r.add(a.name,a)})),this}},{key:"getElementType",value:function(e,t){return this.getElementTypeRecord(e).get(t)}},{key:"getElementTypesInGroup",value:function(e){return this.getElementTypeRecord(e).all()}},{key:"pluggableMstType",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.types.maybe(d.types.null),r=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,d.isType)(e)&&(0,d.isModelType)(e)}));return 0===r.length?(console.warn("No JBrowse pluggable types found matching ('".concat(e,"','").concat(t,"')")),n):d.types.union.apply(d.types,(0,i.default)(r))}},{key:"pluggableConfigSchemaType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"configSchema",n=this.getElementTypeRecord(e).all().map((function(e){return e[t]})).filter((function(e){return(0,C.isBareConfigurationSchemaType)(e)}));return 0===n.length&&n.push((0,C.ConfigurationSchema)("Null",{})),d.types.union.apply(d.types,(0,i.default)(n))}},{key:"getRendererType",value:function(e){return this.rendererTypes.get(e)}},{key:"getRendererTypes",value:function(){return this.rendererTypes.all()}},{key:"getAdapterType",value:function(e){return this.adapterTypes.get(e)}},{key:"getTextSearchAdapterType",value:function(e){return this.textSearchAdapterTypes.get(e)}},{key:"getTrackType",value:function(e){return this.trackTypes.get(e)}},{key:"getDisplayType",value:function(e){return this.displayTypes.get(e)}},{key:"getViewType",value:function(e){return this.viewTypes.get(e)}},{key:"getWidgetType",value:function(e){return this.widgetTypes.get(e)}},{key:"getConnectionType",value:function(e){return this.connectionTypes.get(e)}},{key:"getRpcMethodType",value:function(e){return this.rpcMethods.get(e)}},{key:"getInternetAccountType",value:function(e){return this.internetAccountTypes.get(e)}},{key:"addRendererType",value:function(e){return this.addElementType("renderer",e)}},{key:"addAdapterType",value:function(e){return this.addElementType("adapter",e)}},{key:"addTextSearchAdapterType",value:function(e){return this.addElementType("text search adapter",e)}},{key:"addTrackType",value:function(e){var t=this;return this.addElementType("track",(function(){var n=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.trackType!==n.name||n.displayTypes.includes(e)||n.addDisplayType(e)})),n}))}},{key:"addDisplayType",value:function(e){return this.addElementType("display",e)}},{key:"addViewType",value:function(e){var t=this;return this.addElementType("view",(function(){var n=e(t);return t.getElementTypesInGroup("display").forEach((function(e){e.viewType!==n.name||n.displayTypes.includes(e)||n.addDisplayType(e)})),n}))}},{key:"addWidgetType",value:function(e){return this.addElementType("widget",e)}},{key:"addConnectionType",value:function(e){return this.addElementType("connection",e)}},{key:"addRpcMethod",value:function(e){return this.addElementType("rpc method",e)}},{key:"addInternetAccountType",value:function(e){return this.addElementType("internet account",e)}},{key:"addToExtensionPoint",value:function(e,t){var n=this.extensionPoints.get(e);n||(n=[],this.extensionPoints.set(e,n)),n.push(t)}},{key:"evaluateExtensionPoint",value:function(e,t){var n=this.extensionPoints.get(e),r=t;if(n){var a,o=j(n);try{for(o.s();!(a=o.n()).done;){var i=a.value;try{r=i(r)}catch(e){console.error(e)}}}catch(e){o.e(e)}finally{o.f()}}return r}},{key:"evaluateAsyncExtensionPoint",value:(t=(0,o.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.extensionPoints.get(t),o=n,!r){e.next=27;break}i=j(r),e.prev=4,i.s();case 6:if((l=i.n()).done){e.next=19;break}return c=l.value,e.prev=8,e.next=11,c(o);case 11:o=e.sent,e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.error(e.t0);case 17:e.next=6;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(4),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:return e.abrupt("return",o);case 28:case"end":return e.stop()}}),e,this,[[4,21,24,27],[8,14]])}))),function(e,n){return t.apply(this,arguments)})}]),e}();t.default=M},129:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0});var a={isViewContainer:!0,isSessionModel:!0,isSessionModelWithConfigEditing:!0,isSessionWithAddTracks:!0,isSessionModelWithWidgets:!0,isSessionWithSessionPlugins:!0,isSelectionContainer:!0,isViewModel:!0,isTrackModel:!0,isDisplayModel:!0,isTrackViewModel:!0,isAppRootModel:!0,isAbstractMenuManager:!0,isUriLocation:!0,AuthNeededError:!0,RetryError:!0,isAuthNeededException:!0,isRetryException:!0};t.RetryError=t.AuthNeededError=void 0,t.isAbstractMenuManager=function(e){return"object"===(0,f.default)(e)&&null!==e&&"appendMenu"in e&&"appendToSubMenu"in e},t.isAppRootModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"isAssemblyEditing"in e&&"findAppropriateInternetAccount"in e},t.isAuthNeededException=function(e){return e instanceof Error&&("AuthNeededError"===e.name||void 0!==e.url)},t.isDisplayModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"configuration"in e&&e.configuration.displayId},t.isRetryException=function(e){return"RetryError"===e.name||void 0!==e.internetAccountId},t.isSelectionContainer=function(e){return"object"===(0,f.default)(e)&&null!==e&&"selection"in e&&"setSelection"in e},t.isSessionModel=g,t.isSessionModelWithConfigEditing=function(e){return g(e)&&"editConfiguration"in e},t.isSessionModelWithWidgets=function(e){return g(e)&&"widgets"in e},t.isSessionWithAddTracks=function(e){return g(e)&&"addTrackConf"in e},t.isSessionWithSessionPlugins=function(e){return g(e)&&"sessionPlugins"in e},t.isTrackModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"configuration"in e&&e.configuration.trackId},t.isTrackViewModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"showTrack"in e&&"hideTrack"in e},t.isUriLocation=function(e){return"object"===(0,f.default)(e)&&null!==e&&"locationType"in e&&"uri"in e},t.isViewContainer=function(e){return(0,p.isStateTreeNode)(e)&&"removeView"in e&&"addView"in e&&"views"in e},t.isViewModel=function(e){return"object"===(0,f.default)(e)&&null!==e&&"width"in e&&"setWidth"in e};var o=r(n(16)),i=r(n(15)),l=r(n(35)),c=r(n(27)),u=r(n(28)),s=r(n(26)),d=r(n(169)),f=r(n(21)),p=n(19),m=n(1272);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}function g(e){return"object"===(0,f.default)(e)&&null!==e&&"rpcManager"in e&&"configuration"in e}Object.keys(m).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===m[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}}))}));var b=function(e){(0,c.default)(n,e);var t=h(n);function n(e,r){var a;return(0,i.default)(this,n),(a=t.call(this,e)).message=e,a.url=r,a.name="AuthNeededError",Object.setPrototypeOf((0,l.default)(a),n.prototype),a}return(0,o.default)(n)}((0,d.default)(Error));t.AuthNeededError=b;var v=function(e){(0,c.default)(n,e);var t=h(n);function n(e,r){var a;return(0,i.default)(this,n),(a=t.call(this,e)).message=e,a.internetAccountId=r,a.name="RetryError",a}return(0,o.default)(n)}((0,d.default)(Error));t.RetryError=v},1290:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(1)),i=Ee(n(6)),l=Ee(n(46)),c=Ee(n(19)),u=Ee(n(34)),s=r(n(0)),d=Ee(n(18)),f=Ee(n(29)),p=Ee(n(24)),m=r(n(115)),h=Ee(n(475)),g=Ee(n(466)),b=r(n(207)),v=r(n(63)),y=r(n(229)),w=r(n(230)),O=r(n(231)),C=r(n(148)),E=r(n(232)),k=r(n(92)),x=r(n(175)),S=r(n(112)),j=r(n(149)),P=r(n(176)),T=r(n(233)),R=r(n(234)),M=r(n(53)),I=r(n(235)),A=r(n(177)),L=r(n(150)),F=r(n(236)),N=r(n(237)),D=r(n(85)),_=r(n(238)),z=r(n(209)),B=r(n(116)),H=r(n(239)),W=r(n(178)),V=r(n(80)),G=r(n(95)),U=r(n(47)),q=r(n(336)),$=r(n(337)),K=Ee(n(158)),J=Ee(n(338)),Y=r(n(849)),X=Ee(n(1292)),Z=r(n(256)),Q=r(n(130)),ee=r(n(186)),te=r(n(156)),ne=r(n(157)),re=Ee(n(131)),ae=Ee(n(257)),oe=r(n(340)),ie=Ee(n(852)),le=Ee(n(188)),ce=Ee(n(255)),ue=Ee(n(41)),se=r(n(109)),de=Ee(n(106)),fe=Ee(n(42)),pe=Ee(n(470)),me=Ee(n(1306)),he=Ee(n(99)),ge=Ee(n(132)),be=Ee(n(155)),ve=Ee(n(187)),ye=Ee(n(1310)),we=Ee(n(78)),Oe=r(n(1311));function Ce(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(Ce=function(e){return e?n:t})(e)}function Ee(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=Ce(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var ke={mobx:l,"mobx-state-tree":c,react:o.default,"react-dom":i,"mobx-react":u,"prop-types":s.default,"@material-ui/core":f,"@material-ui/core/SvgIcon":m.default,"@material-ui/core/utils":p,"@material-ui/lab":h,"@mui/x-data-grid":g,"@material-ui/data-grid":g,"@material-ui/core/colors":ye,"@material-ui/core/styles":d,"@material-ui/core/Box":b.default,"@material-ui/core/Button":v.default,"@material-ui/core/ButtonGroup":y.default,"@material-ui/core/Card":w.default,"@material-ui/core/CardContent":O.default,"@material-ui/core/Container":E.default,"@material-ui/core/Checkbox":C.default,"@material-ui/core/Dialog":k.default,"@material-ui/core/FormGroup":P.default,"@material-ui/core/FormLabel":x.default,"@material-ui/core/FormControl":S.default,"@material-ui/core/FormControlLabel":j.default,"@material-ui/core/Grid":T.default,"@material-ui/core/Icon":R.default,"@material-ui/core/IconButton":M.default,"@material-ui/core/InputAdornment":I.default,"@material-ui/core/LinearProgress":A.default,"@material-ui/core/ListItemIcon":L.default,"@material-ui/core/ListItemText":F.default,"@material-ui/core/Menu":N.default,"@material-ui/core/MenuItem":D.default,"@material-ui/core/RadioGroup":z.default,"@material-ui/core/Radio":_.default,"@material-ui/core/Select":B.default,"@material-ui/core/Snackbar":H.default,"@material-ui/core/SnackbarContent":W.default,"@material-ui/core/TextField":V.default,"@material-ui/core/Tooltip":G.default,"@material-ui/core/Typography":U.default,"@material-ui/lab/ToggleButton":q.default,"@material-ui/lab/ToggleButtonGroup":$.default,"@jbrowse/core/Plugin":se.default,"@jbrowse/core/pluggableElementTypes":X,"@jbrowse/core/pluggableElementTypes/ViewType":Z.default,"@jbrowse/core/pluggableElementTypes/AdapterType":Q.default,"@jbrowse/core/pluggableElementTypes/DisplayType":ee.default,"@jbrowse/core/pluggableElementTypes/TrackType":te.default,"@jbrowse/core/pluggableElementTypes/WidgetType":ne.default,"@jbrowse/core/pluggableElementTypes/models":re,"@jbrowse/core/pluggableElementTypes/renderers/ServerSideRendererType":ae,"@jbrowse/core/pluggableElementTypes/renderers/CircularChordRendererType":oe.default,"@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType":ie,"@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType":le,"@jbrowse/core/pluggableElementTypes/renderers/RendererType":ce,"@jbrowse/core/configuration":ue,"@jbrowse/core/util/types/mst":we,"@jbrowse/core/ui":de,"@jbrowse/core/util":fe,"@jbrowse/core/util/color":pe,"@jbrowse/core/util/layouts":me,"@jbrowse/core/util/tracks":he,"@jbrowse/core/util/Base1DViewModel":Y.default,"@jbrowse/core/util/io":ge,"@jbrowse/core/util/mst-reflection":be,"@jbrowse/core/util/rxjs":ve,"@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail":J,"@jbrowse/core/data_adapters/BaseAdapter":K};Oe.default.forEach((function(e){if(!(e in ke))throw new Error("ReExports/modules is missing ".concat(e))}));var xe=ke;t.default=xe},1291:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.SequencePanel=void 0,t.default=function(e){var t,n=e.model,r=e.feature,a=w(),c=r,u=null===(t=c.subfeatures)||void 0===t?void 0:t.find((function(e){return"CDS"===e.type})),g=(0,s.useRef)(null),b=(0,f.useInView)(),v=b.ref,y=b.inView,O=(0,s.useState)(),C=(0,l.default)(O,2),E=C[0],x=C[1],S=(0,s.useState)(),j=(0,l.default)(S,2),P=j[0],T=j[1],R=(0,s.useState)(u?"cds":"cdna"),M=(0,l.default)(R,2),I=M[0],A=M[1],L=(0,s.useState)(!1),F=(0,l.default)(L,2),N=F[0],D=F[1],_=(0,s.useState)(!1),z=(0,l.default)(_,2),B=z[0],H=z[1];(0,s.useEffect)((function(){var e,t=!1;if(!n||!y)return function(){};var a=(0,m.getSession)(n),c=a.assemblyManager,u=a.rpcManager,s=(null===(e=n.view)||void 0===e?void 0:e.assemblyNames)||[],d=(0,l.default)(s,1)[0];function f(e,t,n){return p.apply(this,arguments)}function p(){return(p=(0,i.default)(o.default.mark((function e(t,n,r){var a,i,s,f,p;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.waitForAssembly(d);case 2:if(a=e.sent){e.next=5;break}throw new Error("assembly not found");case 5:return"getSequence",e.next=8,u.call("getSequence","CoreGetFeatures",{adapterConfig:(0,h.getConf)(a,["sequence","adapter"]),sessionId:"getSequence",region:{start:t,end:n,refName:a.getCanonicalRefName(r)}});case 8:if(i=e.sent,s=i,f=(0,l.default)(s,1),p=f[0]){e.next=12;break}throw new Error("sequence not found for feature with refName:".concat(r));case 12:return e.abrupt("return",p.get("seq"));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.default)(o.default.mark((function e(){var n,a,i,l,c,u,s;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=(n=r).start,i=n.end,l=n.refName,e.next=4,f(a,i,l);case 4:return c=e.sent,e.next=7,f(Math.max(0,a-500),a,l);case 7:return u=e.sent,e.next=10,f(i,i+500,l);case 10:s=e.sent,t||x({seq:c,upstream:u,downstream:s}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),T(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})))(),function(){t=!0}}),[r,y,n]);var W=!E;return s.default.createElement("div",{ref:v},s.default.createElement(d.Select,{value:I,onChange:function(e){return A(e.target.value)}},u?s.default.createElement(d.MenuItem,{value:"cds"},"CDS"):null,u?s.default.createElement(d.MenuItem,{value:"protein"},"Protein"):null,s.default.createElement(d.MenuItem,{value:"gene"},"Gene w/ introns"),s.default.createElement(d.MenuItem,{value:"gene_collapsed_intron"},"Gene w/ 10bp of intron"),s.default.createElement(d.MenuItem,{value:"gene_updownstream"},"Gene w/ 500bp up+down stream"),s.default.createElement(d.MenuItem,{value:"gene_updownstream_collapsed_intron"},"Gene w/ 500bp up+down stream w/ 10bp intron"),s.default.createElement(d.MenuItem,{value:"cdna"},"cDNA")),s.default.createElement(d.Button,{className:a.button,type:"button",variant:"contained",onClick:function(){var e=g.current;e&&((0,p.default)(e.textContent||"",{format:"text/plain"}),D(!0),setTimeout((function(){return D(!1)}),1e3))}},N?"Copied to clipboard!":"Copy as plaintext"),s.default.createElement(d.Tooltip,{title:"Note that 'Copy as HTML' can retain the colors but cannot be pasted into some programs like notepad that only expect plain text"},s.default.createElement(d.Button,{className:a.button,type:"button",variant:"contained",onClick:function(){var e=g.current;e&&((0,p.default)(e.innerHTML,{format:"text/html"}),H(!0),setTimeout((function(){return H(!1)}),1e3))}},B?"Copied to clipboard!":"Copy as HTML")),s.default.createElement("div",{"data-testid":"feature_sequence"},P?s.default.createElement(d.Typography,{color:"error"},"".concat(P)):W?s.default.createElement("div",null,"Loading gene sequence..."):E?s.default.createElement(k,{ref:g,feature:c,mode:I,sequence:E}):s.default.createElement("div",null,"No sequence found")))};var o=r(n(22)),i=r(n(25)),l=r(n(23)),c=r(n(13)),u=r(n(40)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),d=n(29),f=n(678),p=r(n(242)),m=n(42),h=n(41),g=n(848);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=(0,d.makeStyles)((function(e){return{button:{margin:e.spacing(1)}}}));function O(e){var t=e.cds,n=e.sequence;return s.default.createElement("span",{style:{background:"rgb(220,220,180)"}},(0,g.stitch)(t,n))}function C(e){for(var t=e.cds,n=e.sequence,r=e.codonTable,a=(0,g.stitch)(t,n),o="",i=0;i<a.length;i+=3)o+=r[a.slice(i,i+3)]||"&";return s.default.createElement("span",{style:{background:"rgb(220,160,220)"}},o)}function E(e){var t=e.utr,n=e.cds,r=e.exons,a=e.sequence,o=e.upstream,i=e.downstream,l=e.includeIntrons,c=e.collapseIntron,d=n.length?[].concat((0,u.default)(n),(0,u.default)(t)).sort((function(e,t){return e.start-t.start})):r;return s.default.createElement(s.default.Fragment,null,o?s.default.createElement("span",{style:{background:"rgba(250,200,200)"}},o):null,d.filter((function(e){return e.start!==e.end})).map((function(e,t){var n,r=a.slice(e.end,null===(n=d[t+1])||void 0===n?void 0:n.start);return s.default.createElement(s.default.Fragment,{key:JSON.stringify(e)},s.default.createElement("span",{style:{background:"CDS"===e.type?"rgb(220,220,180)":"rgb(200,240,240)"}},a.slice(e.start,e.end)),l&&t<d.length-1?s.default.createElement("span",{style:{background:void 0}},c&&r.length>20?"".concat(r.slice(0,10),"...").concat(r.slice(-10)):r):null)})),i?s.default.createElement("span",{style:{background:"rgba(250,200,200)"}},i):null)}var k=s.default.forwardRef((function(e,t){var n=e.feature,r=e.mode,a=e.sequence,o=a.seq,i=a.upstream,l=void 0===i?"":i,c=a.downstream,u=void 0===c?"":c,d=n.subfeatures,f=(0,m.generateCodonTable)(m.defaultCodonTable);if(!d)return null;var p=d.sort((function(e,t){return e.start-t.start})).map((function(e){return y(y({},e),{},{start:e.start-n.start,end:e.end-n.start})})),h=(0,g.dedupe)(p.filter((function(e){return"CDS"===e.type}))),b=(0,g.dedupe)(p.filter((function(e){return e.type.match(/utr/i)}))),v=(0,g.dedupe)(p.filter((function(e){return"exon"===e.type})));if(!b.length&&h.length&&v.length&&(b=(0,g.calculateUTRs)(h,v)),-1===n.strand){var w=[(0,m.revcom)(o),(0,m.revcom)(u),(0,m.revcom)(l)];o=w[0],l=w[1],u=w[2],h=(0,g.revlist)(h,o.length),v=(0,g.revlist)(v,o.length),b=(0,g.revlist)(b,o.length)}return s.default.createElement("div",{ref:t,"data-testid":"sequence_panel"},s.default.createElement("div",{style:{fontFamily:"monospace",wordWrap:"break-word",maxWidth:600}},">".concat(n.name||n.id||"unknown","-").concat(r,"\n"),"cds"===r?s.default.createElement(O,{cds:h,sequence:o}):"cdna"===r?s.default.createElement(E,{exons:v,cds:h,utr:b,sequence:o}):"protein"===r?s.default.createElement(C,{cds:h,codonTable:f,sequence:o}):"gene"===r?s.default.createElement(E,{exons:v,cds:h,utr:b,sequence:o,includeIntrons:!0}):"gene_collapsed_intron"===r?s.default.createElement(E,{exons:v,cds:h,sequence:o,utr:b,includeIntrons:!0,collapseIntron:!0}):"gene_updownstream"===r?s.default.createElement(E,{exons:v,cds:h,sequence:o,utr:b,upstream:l,downstream:u,includeIntrons:!0}):"gene_updownstream_collapsed_intron"===r?s.default.createElement(E,{exons:v,cds:h,sequence:o,utr:b,upstream:l,downstream:u,includeIntrons:!0,collapseIntron:!0}):s.default.createElement("div",null,"Unknown type")))}));t.SequencePanel=k},1292:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0});var a={AdapterType:!0,ConnectionType:!0,RendererType:!0,WidgetType:!0,TrackType:!0,DisplayType:!0,ViewType:!0,RpcMethodType:!0,InternetAccountType:!0,TextSearchAdapterType:!0};Object.defineProperty(t,"AdapterType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ConnectionType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"DisplayType",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"InternetAccountType",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"RendererType",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"RpcMethodType",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"TextSearchAdapterType",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"TrackType",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ViewType",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"WidgetType",{enumerable:!0,get:function(){return c.default}});var o=r(n(130)),i=r(n(465)),l=r(n(255)),c=r(n(157)),u=r(n(156)),s=r(n(186)),d=r(n(256)),f=r(n(335)),p=r(n(843)),m=r(n(844)),h=n(1293);Object.keys(h).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===h[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}}))}));var g=n(131);Object.keys(g).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===g[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}}))}))},1293:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BoxRendererType",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"CircularChordRendererType",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"ComparativeServerSideRendererType",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"FeatureRendererType",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"RendererType",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"ServerSideRenderedContent",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"ServerSideRendererType",{enumerable:!0,get:function(){return s.default}});var a=r(n(852)),o=r(n(340)),i=r(n(1295)),l=r(n(188)),c=r(n(255)),u=r(n(856)),s=r(n(257))},1294:function(e,t,n){"use strict";var r=n(686),a=n(1);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=60106,l=60107,c=60108,u=60114,s=60109,d=60110,f=60112,p=60113,m=60120,h=60115,g=60116,b=60121,v=60117,y=60119,w=60129,O=60131;if("function"==typeof Symbol&&Symbol.for){var C=Symbol.for;i=C("react.portal"),l=C("react.fragment"),c=C("react.strict_mode"),u=C("react.profiler"),s=C("react.provider"),d=C("react.context"),f=C("react.forward_ref"),p=C("react.suspense"),m=C("react.suspense_list"),h=C("react.memo"),g=C("react.lazy"),b=C("react.block"),v=C("react.fundamental"),y=C("react.scope"),w=C("react.debug_trace_mode"),O=C("react.legacy_hidden")}function E(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case i:return"Portal";case u:return"Profiler";case c:return"StrictMode";case p:return"Suspense";case m:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case d:return(e.displayName||"Context")+".Consumer";case s:return(e._context.displayName||"Context")+".Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case h:return E(e.type);case b:return E(e._render);case g:t=e._payload,e=e._init;try{return E(e(t))}catch(e){}}return null}var k=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x={};function S(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var j=new Uint16Array(16),P=0;15>P;P++)j[P]=P+1;j[15]=0;var T=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R=Object.prototype.hasOwnProperty,M={},I={};function A(e){return!!R.call(I,e)||!R.call(M,e)&&(T.test(e)?I[e]=!0:(M[e]=!0,!1))}function L(e,t,n,r,a,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){F[e]=new L(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];F[t]=new L(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){F[e]=new L(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){F[e]=new L(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){F[e]=new L(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){F[e]=new L(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){F[e]=new L(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){F[e]=new L(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){F[e]=new L(e,5,!1,e.toLowerCase(),null,!1,!1)}));var N=/[\-:]([a-z])/g;function D(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(N,D);F[t]=new L(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(N,D);F[t]=new L(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(N,D);F[t]=new L(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){F[e]=new L(e,1,!1,e.toLowerCase(),null,!1,!1)})),F.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){F[e]=new L(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=/["'&<>]/;function z(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=_.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}function B(e,t){var n,r=F.hasOwnProperty(e)?F[e]:null;return(n="style"!==e)&&(n=null!==r?0===r.type:2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])),n||function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(e,t,r,!1)?"":null!==r?(e=r.attributeName,3===(n=r.type)||4===n&&!0===t?e+'=""':(r.sanitizeURL&&(t=""+t),e+'="'+z(t)+'"')):A(e)?e+'="'+z(t)+'"':""}var H="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},W=null,V=null,G=null,U=!1,q=!1,$=null,K=0;function J(){if(null===W)throw Error(o(321));return W}function Y(){if(0<K)throw Error(o(312));return{memoizedState:null,queue:null,next:null}}function X(){return null===G?null===V?(U=!1,V=G=Y()):(U=!0,G=V):null===G.next?(U=!1,G=G.next=Y()):(U=!0,G=G.next),G}function Z(e,t,n,r){for(;q;)q=!1,K+=1,G=null,n=e(t,r);return Q(),n}function Q(){W=null,q=!1,V=null,K=0,G=$=null}function ee(e,t){return"function"==typeof t?t(e):t}function te(e,t,n){if(W=J(),G=X(),U){var r=G.queue;if(t=r.dispatch,null!==$&&void 0!==(n=$.get(r))){$.delete(r),r=G.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return G.memoizedState=r,[r,t]}return[G.memoizedState,t]}return e=e===ee?"function"==typeof t?t():t:void 0!==n?n(t):t,G.memoizedState=e,e=(e=G.queue={last:null,dispatch:null}).dispatch=re.bind(null,W,e),[G.memoizedState,e]}function ne(e,t){if(W=J(),t=void 0===t?null:t,null!==(G=X())){var n=G.memoizedState;if(null!==n&&null!==t){var r=n[1];e:if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++)if(!H(t[a],r[a])){r=!1;break e}r=!0}if(r)return n[0]}}return e=e(),G.memoizedState=[e,t],e}function re(e,t,n){if(!(25>K))throw Error(o(301));if(e===W)if(q=!0,e={action:n,next:null},null===$&&($=new Map),void 0===(n=$.get(t)))$.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}function ae(){}var oe=null,ie={readContext:function(e){var t=oe.threadID;return S(e,t),e[t]},useContext:function(e){J();var t=oe.threadID;return S(e,t),e[t]},useMemo:ne,useReducer:te,useRef:function(e){W=J();var t=(G=X()).memoizedState;return null===t?(e={current:e},G.memoizedState=e):t},useState:function(e){return te(ee,e)},useLayoutEffect:function(){},useCallback:function(e,t){return ne((function(){return e}),t)},useImperativeHandle:ae,useEffect:ae,useDebugValue:ae,useDeferredValue:function(e){return J(),e},useTransition:function(){return J(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(oe.identifierPrefix||"")+"R:"+(oe.uniqueID++).toString(36)},useMutableSource:function(e,t){return J(),t(e._source)}},le="http://www.w3.org/1999/xhtml";function ce(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ue={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},se=r({menuitem:!0},ue),de={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];Object.keys(de).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var pe=/([A-Z])/g,me=/^ms-/,he=a.Children.toArray,ge=k.ReactCurrentDispatcher,be={listing:!0,pre:!0,textarea:!0},ve=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ye={},we={};var Oe=Object.prototype.hasOwnProperty,Ce={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function Ee(e,t){if(void 0===e)throw Error(o(152,E(t)||"Component"))}function ke(e,t,n){function i(a,i){var l=i.prototype&&i.prototype.isReactComponent,c=function(e,t,n,r){if(r&&("object"==typeof(r=e.contextType)&&null!==r))return S(r,n),r[n];if(e=e.contextTypes){for(var a in n={},e)n[a]=t[a];t=n}else t=x;return t}(i,t,n,l),u=[],s=!1,d={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===u)return null},enqueueReplaceState:function(e,t){s=!0,u=[t]},enqueueSetState:function(e,t){if(null===u)return null;u.push(t)}};if(l){if(l=new i(a.props,c,d),"function"==typeof i.getDerivedStateFromProps){var f=i.getDerivedStateFromProps.call(null,a.props,l.state);null!=f&&(l.state=r({},l.state,f))}}else if(W={},l=i(a.props,c,d),null==(l=Z(i,a.props,l,c))||null==l.render)return void Ee(e=l,i);if(l.props=a.props,l.context=c,l.updater=d,void 0===(d=l.state)&&(l.state=d=null),"function"==typeof l.UNSAFE_componentWillMount||"function"==typeof l.componentWillMount)if("function"==typeof l.componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&"function"!=typeof i.getDerivedStateFromProps&&l.UNSAFE_componentWillMount(),u.length){d=u;var p=s;if(u=null,s=!1,p&&1===d.length)l.state=d[0];else{f=p?d[0]:l.state;var m=!0;for(p=p?1:0;p<d.length;p++){var h=d[p];null!=(h="function"==typeof h?h.call(l,f,a.props,c):h)&&(m?(m=!1,f=r({},f,h)):r(f,h))}l.state=f}}else u=null;if(Ee(e=l.render(),i),"function"==typeof l.getChildContext&&"object"==typeof(a=i.childContextTypes)){var g=l.getChildContext();for(var b in g)if(!(b in a))throw Error(o(108,E(i)||"Unknown",b))}g&&(t=r({},t,g))}for(;a.isValidElement(e);){var l=e,c=l.type;if("function"!=typeof c)break;i(l,c)}return{child:e,context:t}}var xe=function(){function e(e,t,n){a.isValidElement(e)?e.type!==l?e=[e]:(e=e.props.children,e=a.isValidElement(e)?[e]:he(e)):e=he(e),e={type:null,domNamespace:le,children:e,childIndex:0,context:x,footer:""};var r=j[0];if(0===r){var i=j,c=2*(r=i.length);if(!(65536>=c))throw Error(o(304));var u=new Uint16Array(c);for(u.set(i),(j=u)[0]=r+1,i=r;i<c-1;i++)j[i]=i+1;j[c-1]=0}else j[0]=j[r];this.threadID=r,this.stack=[e],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=t,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=n&&n.identifierPrefix||""}var t=e.prototype;return t.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;j[e]=j[0],j[0]=e}},t.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;S(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},t.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},t.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},t.read=function(e){if(this.exhausted)return null;var t=oe;oe=this;var n=ge.current;ge.current=ie;try{for(var r=[""],a=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var i=this.threadID;j[i]=j[0],j[0]=i;break}var l=this.stack[this.stack.length-1];if(a||l.childIndex>=l.children.length){var c=l.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===l.type)this.currentSelectValue=null;else if(null!=l.type&&null!=l.type.type&&l.type.type.$$typeof===s)this.popProvider(l.type);else if(l.type===p){this.suspenseDepth--;var u=r.pop();if(a){a=!1;var d=l.fallbackFrame;if(!d)throw Error(o(303));this.stack.push(d),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=u}r[this.suspenseDepth]+=c}else{var f=l.children[l.childIndex++],m="";try{m+=this.render(f,l.context,l.domNamespace)}catch(e){if(null!=e&&"function"==typeof e.then)throw Error(o(294));throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=m}}return r[0]}finally{ge.current=n,oe=t,Q()}},t.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?z(n):this.previousWasTextNode?"\x3c!-- --\x3e"+z(n):(this.previousWasTextNode=!0,z(n));if(e=(t=ke(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){if((n=e.$$typeof)===i)throw Error(o(257));throw Error(o(258,n.toString()))}return e=he(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}var b=e.type;if("string"==typeof b)return this.renderDOM(e,t,n);switch(b){case O:case w:case c:case u:case m:case l:return e=he(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case p:throw Error(o(294));case y:throw Error(o(343))}if("object"==typeof b&&null!==b)switch(b.$$typeof){case f:W={};var C=b.render(e.props,e.ref);return C=Z(b.render,e.props,C,e.ref),C=he(C),this.stack.push({type:null,domNamespace:n,children:C,childIndex:0,context:t,footer:""}),"";case h:return e=[a.createElement(b.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case s:return n={type:e,domNamespace:n,children:b=he(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case d:b=e.type,C=e.props;var E=this.threadID;return S(b,E),b=he(C.children(b[E])),this.stack.push({type:e,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case v:throw Error(o(338));case g:return b=(C=(b=e.type)._init)(b._payload),e=[a.createElement(b,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}throw Error(o(130,null==b?b:typeof b,""))},t.renderDOM=function(e,t,n){var i=e.type.toLowerCase();if(n===le&&ce(i),!ye.hasOwnProperty(i)){if(!ve.test(i))throw Error(o(65,i));ye[i]=!0}var l=e.props;if("input"===i)l=r({type:void 0},l,{defaultChecked:void 0,defaultValue:void 0,value:null!=l.value?l.value:l.defaultValue,checked:null!=l.checked?l.checked:l.defaultChecked});else if("textarea"===i){var c=l.value;if(null==c){c=l.defaultValue;var u=l.children;if(null!=u){if(null!=c)throw Error(o(92));if(Array.isArray(u)){if(!(1>=u.length))throw Error(o(93));u=u[0]}c=""+u}null==c&&(c="")}l=r({},l,{value:void 0,children:""+c})}else if("select"===i)this.currentSelectValue=null!=l.value?l.value:l.defaultValue,l=r({},l,{value:void 0});else if("option"===i){u=this.currentSelectValue;var s=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(l.children);if(null!=u){var d=null!=l.value?l.value+"":s;if(c=!1,Array.isArray(u)){for(var f=0;f<u.length;f++)if(""+u[f]===d){c=!0;break}}else c=""+u===d;l=r({selected:void 0,children:void 0},l,{selected:c,children:s})}}if(c=l){if(se[i]&&(null!=c.children||null!=c.dangerouslySetInnerHTML))throw Error(o(137,i));if(null!=c.dangerouslySetInnerHTML){if(null!=c.children)throw Error(o(60));if("object"!=typeof c.dangerouslySetInnerHTML||!("__html"in c.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=c.style&&"object"!=typeof c.style)throw Error(o(62))}c=l,u=this.makeStaticMarkup,s=1===this.stack.length,d="<"+e.type;e:if(-1===i.indexOf("-"))f="string"==typeof c.is;else switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":f=!1;break e;default:f=!0}for(O in c)if(Oe.call(c,O)){var p=c[O];if(null!=p){if("style"===O){var m=void 0,h="",g="";for(m in p)if(p.hasOwnProperty(m)){var b=0===m.indexOf("--"),v=p[m];if(null!=v){if(b)var y=m;else if(y=m,we.hasOwnProperty(y))y=we[y];else{var w=y.replace(pe,"-$1").toLowerCase().replace(me,"-ms-");y=we[y]=w}h+=g+y+":",g=m,h+=b=null==v||"boolean"==typeof v||""===v?"":b||"number"!=typeof v||0===v||de.hasOwnProperty(g)&&de[g]?(""+v).trim():v+"px",g=";"}}p=h||null}m=null,f?Ce.hasOwnProperty(O)||(m=A(m=O)&&null!=p?m+'="'+z(p)+'"':""):m=B(O,p),m&&(d+=" "+m)}}u||s&&(d+=' data-reactroot=""');var O=d;c="",ue.hasOwnProperty(i)?O+="/>":(O+=">",c="</"+e.type+">");e:{if(null!=(u=l.dangerouslySetInnerHTML)){if(null!=u.__html){u=u.__html;break e}}else if("string"==typeof(u=l.children)||"number"==typeof u){u=z(u);break e}u=null}return null!=u?(l=[],be.hasOwnProperty(i)&&"\n"===u.charAt(0)&&(O+="\n"),O+=u):l=he(l.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?ce(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:i,children:l,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,O},e}();t.renderToNodeStream=function(){throw Error(o(207))},t.renderToStaticMarkup=function(e,t){e=new xe(e,!0,t);try{return e.read(1/0)}finally{e.destroy()}},t.renderToStaticNodeStream=function(){throw Error(o(208))},t.renderToString=function(e,t){e=new xe(e,!1,t);try{return e.read(1/0)}finally{e.destroy()}},t.version="17.0.2"},1295:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(13)),i=r(n(25)),l=r(n(15)),c=r(n(16)),u=r(n(77)),s=r(n(27)),d=r(n(28)),f=r(n(26)),p=n(52),m=r(n(257)),h=n(339);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var y=function(e){(0,s.default)(d,e);var t,n,r,o=v(d);function d(){return(0,l.default)(this,d),o.apply(this,arguments)}return(0,c.default)(d,[{key:"renameRegionsIfNeeded",value:(r=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:"serializeArgsInClient",value:function(e){var t=b(b({},e),{},{displayModel:{}});return(0,u.default)((0,f.default)(d.prototype),"serializeArgsInClient",this).call(this,t)}},{key:"deserializeResultsInClient",value:function(e,t){return b(b({},(0,u.default)((0,f.default)(d.prototype),"deserializeResultsInClient",this).call(this,e,t)),{},{blockKey:t.blockKey})}},{key:"renderInClient",value:(n=(0,i.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.call(n.sessionId,"ComparativeRender",n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return n.apply(this,arguments)})},{key:"featurePassesFilters",value:function(e,t){return!e.filters||e.filters.passes(t,e)}},{key:"getFeatures",value:(t=(0,i.default)(a.default.mark((function e(t){var n,r,o,i,l,c,u,s,d=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.sessionId,o=t.adapterConfig,e.next=3,(0,h.getAdapter)(this.pluginManager,r,o);case 3:if(i=e.sent,l=i.dataAdapter,c=[],(c=t.regions)&&0!==c.length){e.next=10;break}return console.warn("no regions supplied to comparative renderer"),e.abrupt("return",[]);case 10:return u=c.map((function(e){var t=b({},e);return t.start&&(t.start=Math.floor(t.start)),t.end&&(t.end=Math.floor(t.end)),t})),s=l.getFeaturesInMultipleRegions(u,{signal:n}),e.abrupt("return",s.pipe((0,p.filter)((function(e){return d.featurePassesFilters(t,e)})),(0,p.toArray)()).toPromise());case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),d}(m.default);t.default=y},1296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,n(41).ConfigurationSchema)("BaseConnection",{name:{type:"string",defaultValue:"nameOfConnection",description:"a unique name for this connection"},assemblyNames:{type:"stringArray",defaultValue:[],description:"optional list of names of assemblies in this connection"}},{explicitlyTyped:!0,explicitIdentifier:"connectionId"});t.default=r},1297:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(40)),o=n(19);t.default=function(e){return o.types.model("Connection",{name:o.types.identifier,tracks:o.types.array(e.pluggableConfigSchemaType("track"))}).actions((function(e){return{afterAttach:function(){e.tracks.length||e.connect(e.configuration)},addTrackConf:function(t){var n=e.tracks.push(t);return e.tracks[n-1]},addTrackConfs:function(t){var n,r=(n=e.tracks).push.apply(n,(0,a.default)(t));return e.tracks.slice(r-1-t.length,r-1)},setTrackConfs:function(t){return e.tracks=t,e.tracks},clear:function(){}}}))}},1298:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(19),a=n(78),o=r.types.model("BaseView",{id:a.ElementId,displayName:r.types.maybe(r.types.string)}).volatile((function(){return{width:800}})).views((function(){return{menuItems:function(){return[]}}})).actions((function(e){return{setDisplayName:function(t){e.displayName=t},setWidth:function(t){e.width=t}}}));t.default=o},1299:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseDisplay=void 0;var a=r(n(13)),o=n(19),i=n(41),l=n(99),c=n(78);function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d=o.types.model("BaseDisplay",{id:c.ElementId,type:o.types.string,rpcDriverName:o.types.maybe(o.types.string)}).volatile((function(){return{rendererTypeName:"",error:void 0}})).views((function(e){return{get RenderingComponent(){return(0,o.getEnv)(e).pluginManager.getDisplayType(e.type).ReactComponent},get DisplayBlurb(){return null},get adapterConfig(){return(0,i.getConf)(this.parentTrack,"adapter")},get parentTrack(){for(var t=(0,o.getParent)(e);!t.configuration||!(0,i.getConf)(t,"trackId");){if((0,o.isRoot)(t))throw new Error("No parent track found for ".concat(e.type," ").concat(e.id));t=(0,o.getParent)(t)}return t},renderProps:function(){return s(s({},(0,l.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e})},get rendererType(){var t=(0,o.getEnv)(e).pluginManager.getRendererType(e.rendererTypeName);if(!t)throw new Error('renderer "'.concat(e.rendererTypeName,'" not found'));if(!t.ReactComponent)throw new Error("renderer ".concat(e.rendererTypeName," has no ReactComponent, it may not be completely implemented yet"));return t},get DisplayMessageComponent(){},trackMenuItems:function(){return[]},get viewMenuActions(){return[]},regionCannotBeRendered:function(){}}})).actions((function(e){return{setError:function(t){e.error=t},setRpcDriverName:function(t){e.rpcDriverName=t},reload:function(){}}}));t.BaseDisplay=d},130:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(16)),l=r(n(15)),c=r(n(35)),u=r(n(27)),s=r(n(28)),d=r(n(26)),f=r(n(13));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var m=function(e){(0,u.default)(n,e);var t=p(n);function n(e){var r;if((0,l.default)(this,n),r=t.call(this,e),(0,f.default)((0,c.default)(r),"AdapterClass",void 0),(0,f.default)((0,c.default)(r),"getAdapterClass",void 0),(0,f.default)((0,c.default)(r),"configSchema",void 0),(0,f.default)((0,c.default)(r),"adapterCapabilities",void 0),(0,f.default)((0,c.default)(r),"adapterMetadata",void 0),"AdapterClass"in e)r.AdapterClass=e.AdapterClass,r.getAdapterClass=(0,o.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.AdapterClass);case 1:case"end":return t.stop()}}),t)})));else{if(!("getAdapterClass"in e))throw new Error("no AdapterClass or getAdapterClass is defined for adapter type ".concat(r.name));r.getAdapterClass=e.getAdapterClass}return r.configSchema=e.configSchema,r.adapterCapabilities=e.adapterCapabilities||[],r.adapterMetadata=e.adapterMetadata,r}return(0,i.default)(n)}(r(n(108)).default);t.default=m},1300:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.InternetAccount=void 0;var a=r(n(22)),o=r(n(13)),i=r(n(25)),l=n(19),c=n(41),u=n(132),s=n(78);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p="undefined"==typeof sessionStorage,m=l.types.model("InternetAccount",{id:s.ElementId,type:l.types.string}).views((function(e){return{get name(){return(0,c.getConf)(e,"name")},get description(){return(0,c.getConf)(e,"description")},get internetAccountId(){return(0,c.getConf)(e,"internetAccountId")},get authHeader(){return(0,c.getConf)(e,"authHeader")},get tokenType(){return(0,c.getConf)(e,"tokenType")},get domains(){return(0,c.getConf)(e,"domains")},get toggleContents(){return null},get SelectorComponent(){},get selectorLabel(){}}})).views((function(e){return{handlesLocation:function(t){return e.domains.some((function(e){return null==t?void 0:t.uri.includes(e)}))},get tokenKey(){return"".concat(e.internetAccountId,"-token")}}})).actions((function(e){return{getTokenFromUser:function(e,t){throw new Error("getTokenFromUser must be implemented by extending model")},storeToken:function(t){sessionStorage.setItem(e.tokenKey,t)},removeToken:function(){sessionStorage.removeItem(e.tokenKey)},retrieveToken:function(){return sessionStorage.getItem(e.tokenKey)},validateToken:function(e,t){return(0,i.default)(a.default.mark((function t(){return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})))()}}})).actions((function(e){var t=void 0;return{getToken:function(n){return(0,i.default)(a.default.mark((function r(){var o,l,c;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=2;break}return r.abrupt("return",t);case 2:if(!(c=null==n||null===(o=n.internetAccountPreAuthorization)||void 0===o||null===(l=o.authInfo)||void 0===l?void 0:l.token)){r.next=6;break}return t=Promise.resolve(c),r.abrupt("return",t);case 6:if(!p){r.next=8;break}throw new Error("Did not get internet account pre-authorization info in worker");case 8:if(!(c=e.retrieveToken())){r.next=12;break}return t=Promise.resolve(c),r.abrupt("return",t);case 12:return t=new Promise(function(){var t=(0,i.default)(a.default.mark((function t(n,r){var o,i;return a.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=function(t){e.removeToken(),r(t)},o=function(t){e.storeToken(t),n(t)},e.getTokenFromUser(o,i);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),r.abrupt("return",t);case 14:case"end":return r.stop()}}),r)})))()}}})).actions((function(e){return{addAuthHeaderToInit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.tokenType?"".concat(e.tokenType," ").concat(n):n,a=new Headers(t.headers||{});return a.append(e.authHeader,r),f(f({},t),{},{headers:a})},getPreAuthorizationInformation:function(t){return(0,i.default)(a.default.mark((function n(){var r,o;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getToken(t);case 2:return r=n.sent,n.prev=3,n.next=6,e.validateToken(r,t);case 6:o=n.sent,n.next=13;break;case 9:throw n.prev=9,n.t0=n.catch(3),e.removeToken(),n.t0;case 13:return n.abrupt("return",{internetAccountType:e.type,authInfo:{token:o,configuration:(0,c.getConf)(e)}});case 14:case"end":return n.stop()}}),n,null,[[3,9]])})))()}}})).actions((function(e){return{getFetcher:function(t){return function(){var n=(0,i.default)(a.default.mark((function n(r,o){var i,l;return a.default.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getToken(t);case 2:return i=n.sent,l=e.addAuthHeaderToInit(o,i),n.abrupt("return",fetch(r,l));case 5:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}}})).actions((function(e){return{openLocation:function(t){return new u.RemoteFileWithRangeCache(t.uri,{fetch:e.getFetcher(t)})}}}));t.InternetAccount=m},1301:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteFileWithRangeCache=void 0,t.clearCache=function(){E.reset()};var a=r(n(22)),o=r(n(13)),i=r(n(23)),l=r(n(25)),c=r(n(15)),u=r(n(16)),s=r(n(77)),d=r(n(27)),f=r(n(28)),p=r(n(26)),m=n(691),h=n(36),g=n(82);function b(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var C={};var E=new m.HttpRangeFetcher({fetch:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=C[e];if(!a)throw new Error("fetch not registered for ".concat(e));return a(e,t,n,r)},size:500*Math.pow(1024,2),chunkSize:15872,maxFetchSize:100*Math.pow(1024,2),minimumTTL:864e5});var k=function(e){(0,d.default)(o,e);var t,n,r=O(o);function o(){return(0,c.default)(this,o),r.apply(this,arguments)}return(0,u.default)(o,[{key:"fetch",value:(n=(0,l.default)(a.default.mark((function e(t,n){var r,l,c,u,d,f,m,h,g,b,v,y;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C[String(t)]||(C[String(t)]=this.fetchBinaryRange.bind(this)),(r=n&&n.headers)&&(r instanceof Headers?l=r.get("range"):Array.isArray(r)?(c=r.find((function(e){return"range"===(0,i.default)(e,1)[0]}))||[void 0,void 0],u=(0,i.default)(c,2),l=u[1]):l=r.range),!l){e.next=14;break}if(!(d=/bytes=(\d+)-(\d+)/.exec(l))){e.next=14;break}return f=(0,i.default)(d,3),m=f[1],h=f[2],g=parseInt(m,10),b=parseInt(h,10),e.next=11,E.getRange(t,g,b-g+1,{signal:n&&n.signal});case 11:return v=e.sent,y=v.headers,e.abrupt("return",new Response(v.buffer,{status:206,headers:y}));case 14:return e.abrupt("return",(0,s.default)((0,p.default)(o.prototype),"fetch",this).call(this,t,n));case 15:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"fetchBinaryRange",value:(t=(0,l.default)(a.default.mark((function e(t,n,r){var l,c,u,d,f,m,g,v,y,O,C,E,k,x,S=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=S.length>3&&void 0!==S[3]?S[3]:{},c=new Date,u=w(w({},l.headers),{},{range:"bytes=".concat(n,"-").concat(r)}),e.next=5,(0,s.default)((0,p.default)(o.prototype),"fetch",this).call(this,t,w(w({},l),{},{headers:u}));case 5:if(d=e.sent,f=new Date,206===d.status){e.next=11;break}throw m="HTTP ".concat(d.status," (").concat(d.statusText,") when fetching ").concat(t," bytes ").concat(n,"-").concat(r),g=" (should be 206 for range requests)",new Error("".concat(m).concat(200===d.status?g:""));case 11:v={},y=b(d.headers.entries());try{for(y.s();!(O=y.n()).done;)C=(0,i.default)(O.value,2),E=C[0],k=C[1],v[E]=k}catch(e){y.e(e)}finally{y.f()}return e.next=16,d.arrayBuffer();case 16:return x=e.sent,e.abrupt("return",{headers:v,requestDate:c,responseDate:f,buffer:h.Buffer.from(x)});case 18:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),o}(g.RemoteFile);t.RemoteFileWithRangeCache=k},1302:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseInternetAccountConfig=void 0;var r=(0,n(41).ConfigurationSchema)("InternetAccount",{name:{description:"descriptive name of the internet account",type:"string",defaultValue:""},description:{description:"a description of the internet account",type:"string",defaultValue:""},authHeader:{description:"request header for credentials",type:"string",defaultValue:"Authorization"},tokenType:{description:"a custom name for a token to include in the header",type:"string",defaultValue:""},domains:{description:"array of valid domains the url can contain to use this account",type:"stringArray",defaultValue:[]}},{explicitIdentifier:"internetAccountId",explicitlyTyped:!0});t.BaseInternetAccountConfig=r},1303:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseTrackModel=function(e,t,n){return l.types.model(t,{id:f.ElementId,type:l.types.literal(t),configuration:(0,u.ConfigurationReference)(n),displays:l.types.array(e.pluggableMstType("display","stateModel"))}).views((function(e){return{get rpcSessionId(){return e.configuration.trackId},get name(){return(0,c.getConf)(e,"name")},get textSearchAdapter(){return(0,c.getConf)(e,"textSearchAdapter")},get adapterType(){var t=(0,c.getConf)(e,"adapter"),n=(0,l.getEnv)(e).pluginManager;if(!t)throw new Error("no adapter configuration provided for ".concat(e.type));var r=n.getAdapterType(t.type);if(!r)throw new Error("unknown adapter type ".concat(t.type));return r},get viewMenuActions(){var t=[];return e.displays.forEach((function(e){t.push.apply(t,(0,o.default)(e.viewMenuActions))})),t},get canConfigure(){var t=(0,s.getSession)(e);return(0,d.isSessionModelWithConfigEditing)(t)&&(t.adminMode||t.sessionTracks.find((function(t){return t.trackId===e.configuration.trackId})))}}})).actions((function(t){return{activateConfigurationUI:function(){var e=(0,s.getSession)(t),n=(0,s.getContainingView)(t);if((0,d.isSessionModelWithConfigEditing)(e)){var r=e.editTrackConfiguration(t.configuration);r&&r!==t.configuration&&(n.hideTrack(t.configuration),n.showTrack(r))}},showDisplay:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.pluggableConfigSchemaType("display"),o=(0,l.resolveIdentifier)(a,(0,l.getRoot)(t),n),i=e.getDisplayType(o.type);if(!i)throw new Error("unknown display type ".concat(o.type));var c=i.stateModel.create(m(m({},r),{},{type:o.type,configuration:o}));t.displays.push(c)},hideDisplay:function(n){var r=e.pluggableConfigSchemaType("display"),a=(0,l.resolveIdentifier)(r,(0,l.getRoot)(t),n),o=t.displays.filter((function(e){return e.configuration===a}));return(0,i.transaction)((function(){return o.forEach((function(e){return t.displays.remove(e)}))})),o.length},replaceDisplay:function(n,r){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=t.displays.findIndex((function(e){return e.configuration.displayId===n}));if(-1===o)throw new Error("could not find display id ".concat(n," to replace"));var i=e.pluggableConfigSchemaType("display"),c=(0,l.resolveIdentifier)(i,(0,l.getRoot)(t),r),u=e.getDisplayType(c.type);if(!u)throw new Error("unknown display type ".concat(c.type));t.displays.splice(o,1,m(m({},a),{},{type:c.type,configuration:c}))}}})).views((function(t){return{trackMenuItems:function(){var n=[];t.displays.forEach((function(e){n.push.apply(n,(0,o.default)(e.trackMenuItems()))}));var r=[],a=(0,s.getContainingView)(t),i=e.getViewType(a.type).displayTypes.map((function(e){return e.name})),l=t.configuration.displays.filter((function(e){return i.includes(e.type)})),c=t.displays[0].configuration.displayId;return l.length>1&&(r.push({type:"divider"},{type:"subHeader",label:"Display types"}),l.forEach((function(e){r.push({type:"radio",label:"".concat(e.type),onClick:function(){t.replaceDisplay(c,e.displayId)},checked:e.displayId===c})}))),[].concat(n,r)}}}))};var a=r(n(13)),o=r(n(40)),i=n(46),l=n(19),c=n(41),u=n(457),s=n(42),d=n(129),f=n(78);function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},1304:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createBaseTrackConfig=function(e){return(0,i.ConfigurationSchema)("BaseTrack",{name:{description:"descriptive name of the track",type:"string",defaultValue:"Track"},assemblyNames:{description:"name of the assembly (or assemblies) track belongs to",type:"stringArray",defaultValue:["assemblyName"]},description:{description:"a description of the track",type:"string",defaultValue:""},category:{description:"the category and sub-categories of a track",type:"stringArray",defaultValue:[]},metadata:{type:"frozen",description:"anything to add about this track",defaultValue:{}},adapter:e.pluggableConfigSchemaType("adapter"),textSearching:(0,i.ConfigurationSchema)("textSearching",{indexingAttributes:{type:"stringArray",description:"list of which feature attributes to index for text searching",defaultValue:["Name","ID"]},indexingFeatureTypesToExclude:{type:"stringArray",description:"list of feature types to exclude in text search index",defaultValue:["CDS","exon"]},textSearchAdapter:e.pluggableConfigSchemaType("text search adapter")}),displays:o.types.array(e.pluggableConfigSchemaType("display"))},{preProcessSnapshot:function(t){var n=JSON.parse(JSON.stringify(t)),r=new Set,a=n.displays,o=void 0===a?[]:a;"placeholderId"!==n.trackId&&(o.forEach((function(e){return e&&r.add(e.type)})),e.getTrackType(n.type).displayTypes.forEach((function(e){r.has(e.name)||o.push({displayId:"".concat(n.trackId,"-").concat(e.name),type:e.name})})));return c(c({},n),{},{displays:o})},explicitIdentifier:"trackId",explicitlyTyped:!0,actions:function(e){return{addDisplayConf:function(t){var n=t.type;if(!n)throw new Error("unknown display type ".concat(n));var r=e.displays.find((function(e){return e&&e.displayId===t.displayId}));if(r)return r;var a=e.displays.push(t);return e.displays[a-1]}}}})};var a=r(n(13)),o=n(19),i=n(41);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},1305:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNamedColor=function(e){return!!r[e]},t.namedColorToHex=function(e){return r[e]};var r={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"}},1306:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0});var a={GranularRectLayout:!0,MultiLayout:!0,PrecomputedLayout:!0,PrecomputedMultiLayout:!0,SceneGraph:!0};Object.defineProperty(t,"GranularRectLayout",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"MultiLayout",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"PrecomputedLayout",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"PrecomputedMultiLayout",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"SceneGraph",{enumerable:!0,get:function(){return s.default}});var o=n(1307);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=r(n(853)),l=r(n(468)),c=r(n(469)),u=r(n(1308)),s=r(n(1309))},1307:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},1308:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(23)),o=r(n(27)),i=r(n(28)),l=r(n(26)),c=r(n(16)),u=r(n(15)),s=r(n(468)),d=r(n(469));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var p=(0,c.default)((function e(){throw(0,u.default)(this,e),new Error("invalid layout name")})),m=function(e){(0,o.default)(n,e);var t=f(n);function n(e){var r;return(0,u.default)(this,n),r=t.call(this,p),Object.entries(e).forEach((function(e){var t=(0,a.default)(e,2),n=t[0],o=t[1];r.subLayouts.set(n,new d.default(o))})),r}return(0,c.default)(n)}(s.default);t.default=m},1309:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(13)),l=n(42);function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){function e(t,n,r,o,c,u){if((0,a.default)(this,e),this.name=t,this.left=n,this.top=r,this.width=o,this.height=c,this.data=u,(0,i.default)(this,"children",void 0),(0,i.default)(this,"absoluteCache",void 0),(0,i.default)(this,"parent",void 0),l.inDevelopment&&("string"!=typeof t||"number"!=typeof n||Number.isNaN(n)||"number"!=typeof r||Number.isNaN(r)||"number"!=typeof o||Number.isNaN(o)||"number"!=typeof c||Number.isNaN(c)))throw new TypeError("invalid SceneGraph arguments");this.children=new Map,this.absoluteCache={dirty:!0}}return(0,o.default)(e,[{key:"addChild",value:function(t,n,r,a,o,i){var l;if(!((l=t instanceof e?t:new e(t,n,r,a,o,i))instanceof e))throw new TypeError("argument to addChild must be an array or a SceneGraph");if(this.children.has(l.name))throw new Error('child named "'.concat(l.name,'" already exists'));l.parent=this;var c=l.absolute,u=c.left,s=c.right,d=c.top,f=c.bottom;return void 0!==u&&void 0!==s&&void 0!==d&&void 0!==f&&(this.expand(u,s,d,f),this.children.set(l.name,l)),l}},{key:"getSubRecord",value:function(e){return this.children.get(e)}},{key:"expand",value:function(e,t,n,r){var a=this.absolute,o=a.left,i=a.right,l=a.top,c=a.bottom;if(void 0!==o&&e<o){var u=o-e;this.width+=u,this.left-=u}if(void 0!==i&&t>i&&(this.width+=t-i),void 0!==l&&n<l){var s=l-n;this.height+=s,this.top-=s}void 0!==c&&r>c&&(this.height+=r-c),this.parent&&this.parent.expand(e,t,n,r),this.absoluteCache.dirty=!0}},{key:"bottom",get:function(){return this.top+this.height}},{key:"right",get:function(){return this.left+this.width}},{key:"walkParents",value:function(e){this.parent&&(e(this.parent),this.parent.walkParents(e))}},{key:"walkChildren",value:function(e){var t,n=c(this.children.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;e(r),r.walkChildren(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"absolute",get:function(){if(this.absoluteCache.dirty){var e=0,t=0;this.walkParents((function(n){e+=n.left,t+=n.top})),this.absoluteCache={dirty:!1,left:this.left+e,right:this.right+e,top:this.top+t,bottom:this.bottom+t,width:this.width,height:this.height}}return this.absoluteCache}},{key:"move",value:function(e,t){this.left+=e,this.top+=t,this.absoluteCache.dirty=!0,this.walkChildren((function(e){e.absoluteCache.dirty=!0}));var n=this.absolute,r=n.left,a=n.right,o=n.top,i=n.bottom;void 0!==r&&void 0!==a&&void 0!==o&&void 0!==i&&this.expand(r,a,o,i)}}]),e}();t.default=s},131:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BaseConnectionModelFactory",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"BaseDisplay",{enumerable:!0,get:function(){return l.BaseDisplay}}),Object.defineProperty(t,"BaseInternetAccountConfig",{enumerable:!0,get:function(){return u.BaseInternetAccountConfig}}),Object.defineProperty(t,"BaseViewModel",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"InternetAccount",{enumerable:!0,get:function(){return c.InternetAccount}}),Object.defineProperty(t,"baseConnectionConfig",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"createBaseTrackConfig",{enumerable:!0,get:function(){return d.createBaseTrackConfig}}),Object.defineProperty(t,"createBaseTrackModel",{enumerable:!0,get:function(){return s.createBaseTrackModel}});var a=r(n(1296)),o=r(n(1297)),i=r(n(1298)),l=n(1299),c=n(1300),u=n(1302),s=n(1303),d=n(1304)},1310:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"amber",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(t,"blue",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"blueGrey",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(t,"brown",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(t,"cyan",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"deepOrange",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(t,"deepPurple",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"green",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"grey",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(t,"indigo",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"lightBlue",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"lightGreen",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(t,"lime",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"orange",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(t,"pink",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"purple",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"red",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"teal",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"yellow",{enumerable:!0,get:function(){return g.default}});var a=r(n(374)),o=r(n(373)),i=r(n(695)),l=r(n(696)),c=r(n(372)),u=r(n(376)),s=r(n(697)),d=r(n(698)),f=r(n(699)),p=r(n(377)),m=r(n(700)),h=r(n(701)),g=r(n(702)),b=r(n(703)),v=r(n(375)),y=r(n(704)),w=r(n(705)),O=r(n(371)),C=r(n(706))},1311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=["mobx","mobx-state-tree","react","react-dom","mobx-react","prop-types","@material-ui/core","@material-ui/core/SvgIcon","@material-ui/core/utils","@material-ui/lab","@mui/x-data-grid","@jbrowse/core/Plugin","@jbrowse/core/pluggableElementTypes","@jbrowse/core/pluggableElementTypes/ViewType","@jbrowse/core/pluggableElementTypes/AdapterType","@jbrowse/core/pluggableElementTypes/DisplayType","@jbrowse/core/pluggableElementTypes/TrackType","@jbrowse/core/pluggableElementTypes/WidgetType","@jbrowse/core/pluggableElementTypes/models","@jbrowse/core/pluggableElementTypes/renderers/ServerSideRendererType","@jbrowse/core/pluggableElementTypes/renderers/CircularChordRendererType","@jbrowse/core/pluggableElementTypes/renderers/BoxRendererType","@jbrowse/core/pluggableElementTypes/renderers/FeatureRendererType","@jbrowse/core/pluggableElementTypes/renderers/RendererType","@jbrowse/core/configuration","@jbrowse/core/util/types/mst","@jbrowse/core/ui","@jbrowse/core/util","@jbrowse/core/util/color","@jbrowse/core/util/layouts","@jbrowse/core/util/tracks","@jbrowse/core/util/Base1DViewModel","@jbrowse/core/util/io","@jbrowse/core/util/mst-reflection","@jbrowse/core/util/rxjs","@jbrowse/core/BaseFeatureWidget/BaseFeatureDetail","@jbrowse/core/data_adapters/BaseAdapter"]},1312:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(15)),i=r(n(16)),l=r(n(35)),c=r(n(27)),u=r(n(28)),s=r(n(26)),d=r(n(13)),f=n(1),p=n(1313),m=r(n(109)),h=w(n(1314)),g=r(n(130)),b=r(n(157)),v=n(1315);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,s.default)(e);if(t){var a=(0,s.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,u.default)(this,n)}}var C=function(e){(0,c.default)(r,e);var t=O(r);function r(){var e;(0,o.default)(this,r);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),(0,d.default)((0,l.default)(e),"name","CorePlugin"),e}return(0,i.default)(r,[{key:"install",value:function(e){Object.values(h).forEach((function(t){e.addRpcMethod((function(){return new t(e)}))})),e.addAdapterType((function(){return new g.default({name:"CytobandAdapter",configSchema:v.configSchema,AdapterClass:v.DataAdapter})})),e.addWidgetType((function(){return new b.default({name:"BaseFeatureWidget",heading:"Feature details",configSchema:p.configSchema,stateModel:(0,p.stateModelFactory)(e),ReactComponent:(0,f.lazy)((function(){return Promise.resolve().then((function(){return w(n(338))}))}))})}))}}]),r}(m.default);t.default=C},1313:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=void 0,t.stateModelFactory=t.default=function(e){return r.types.model("BaseFeatureWidget",{id:o.ElementId,type:r.types.literal("BaseFeatureWidget"),featureData:r.types.frozen(),view:r.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{setFeatureData:function(t){e.featureData=t},clearFeatureData:function(){e.featureData=void 0}}}))};var r=n(19),a=n(41),o=n(78),i=(0,a.ConfigurationSchema)("BaseFeatureWidget",{});t.configSchema=i},1314:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.CoreRender=t.CoreGetRefNames=t.CoreGetMetadata=t.CoreGetFileInfo=t.CoreGetFeatures=t.CoreFreeResources=t.CoreEstimateRegionStats=void 0;var a=r(n(22)),o=r(n(77)),i=r(n(25)),l=r(n(15)),c=r(n(16)),u=r(n(35)),s=r(n(27)),d=r(n(28)),f=r(n(26)),p=r(n(13)),m=n(52),h=n(339),g=r(n(335)),b=r(n(257)),v=n(158),y=n(42),w=r(n(107));function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var k=function(e){(0,s.default)(r,e);var t,n=E(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,p.default)((0,u.default)(e),"name","CoreGetRefNames"),e}return(0,c.default)(r,[{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.sessionId,i=r.adapterConfig,e.next=6,(0,h.getAdapter)(this.pluginManager,o,i);case 6:if(l=e.sent,!((c=l.dataAdapter)instanceof v.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",c.getRefNames(r));case 10:return e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(g.default);t.CoreGetRefNames=k;var x=function(e){(0,s.default)(r,e);var t,n=E(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,p.default)((0,u.default)(e),"name","CoreGetInfo"),e}return(0,c.default)(r,[{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.sessionId,i=r.adapterConfig,e.next=6,(0,h.getAdapter)(this.pluginManager,o,i);case 6:return l=e.sent,c=l.dataAdapter,e.abrupt("return",(0,v.isFeatureAdapter)(c)?c.getHeader(r):null);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(g.default);t.CoreGetFileInfo=x;var S=function(e){(0,s.default)(r,e);var t,n=E(r);function r(){var e;(0,l.default)(this,r);for(var t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return e=n.call.apply(n,[this].concat(a)),(0,p.default)((0,u.default)(e),"name","CoreGetMetadata"),e}return(0,c.default)(r,[{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.sessionId,i=r.adapterConfig,e.next=6,(0,h.getAdapter)(this.pluginManager,o,i);case 6:return l=e.sent,c=l.dataAdapter,e.abrupt("return",(0,v.isFeatureAdapter)(c)?c.getMetadata(r):null);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),r}(g.default);t.CoreGetMetadata=S;var j=function(e){(0,s.default)(d,e);var t,n,r=E(d);function d(){var e;(0,l.default)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,p.default)((0,u.default)(e),"name","CoreGetFeatures"),e}return(0,c.default)(d,[{key:"deserializeReturn",value:(n=(0,i.default)(a.default.mark((function e(t,n,r){var i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)((0,f.default)(d.prototype),"deserializeReturn",this).call(this,t,n,r);case 2:return i=e.sent,e.abrupt("return",i.map((function(e){return new w.default(e)})));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l,c,u,s,d,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.signal,i=r.sessionId,l=r.adapterConfig,c=r.region,u=r.opts,e.next=6,(0,h.getAdapter)(this.pluginManager,i,l);case 6:if(s=e.sent,d=s.dataAdapter,(0,v.isFeatureAdapter)(d)){e.next=10;break}return e.abrupt("return",[]);case 10:return f=d.getFeatures(c,C(C({},u),{},{signal:o})),e.next=13,f.pipe((0,m.toArray)()).toPromise();case 13:return p=e.sent,e.abrupt("return",p.map((function(e){return e.toJSON()})));case 15:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),d}(g.default);t.CoreGetFeatures=j;var P=function(e){(0,s.default)(o,e);var t,n,r=E(o);function o(){var e;(0,l.default)(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,p.default)((0,u.default)(e),"name","CoreFreeResources"),e}return(0,c.default)(o,[{key:"execute",value:(n=(0,i.default)(a.default.mark((function e(t){var n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,n+=(0,h.freeAdapterResources)(t),this.pluginManager.getRendererTypes().forEach((function(e){var t=e.freeResources();t&&(n+=t)})),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"serializeArguments",value:(t=(0,i.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),o}(g.default);t.CoreFreeResources=P;var T=function(e){(0,s.default)(d,e);var t,n,r=E(d);function d(){var e;(0,l.default)(this,d);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,p.default)((0,u.default)(e),"name","CoreEstimateRegionStats"),e}return(0,c.default)(d,[{key:"serializeArguments",value:(n=(0,i.default)(a.default.mark((function e(t,n){var r,i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=null===(r=this.pluginManager.rootModel)||void 0===r||null===(i=r.session)||void 0===i?void 0:i.assemblyManager){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,(0,y.renameRegionsIfNeeded)(l,C(C({},t),{},{filters:t.filters&&t.filters.toJSON().filters}));case 5:return c=e.sent,e.abrupt("return",(0,o.default)((0,f.default)(d.prototype),"serializeArguments",this).call(this,c,n));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"execute",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l,c,u;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,o=r.adapterConfig,i=r.sessionId,l=r.regions,e.next=6,(0,h.getAdapter)(this.pluginManager,i,o);case 6:if(c=e.sent,!((u=c.dataAdapter)instanceof v.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",u.estimateRegionsStats(l,r));case 10:throw new Error("Data adapter not found");case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),d}(g.default);t.CoreEstimateRegionStats=T;var R=function(e){(0,s.default)(m,e);var t,n,r,d=E(m);function m(){var e;(0,l.default)(this,m);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e=d.call.apply(d,[this].concat(n)),(0,p.default)((0,u.default)(e),"name","CoreRender"),e}return(0,c.default)(m,[{key:"serializeArguments",value:(r=(0,i.default)(a.default.mark((function e(t,n){var r,i,l,c,u,s,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(l=null===(r=this.pluginManager.rootModel)||void 0===r||null===(i=r.session)||void 0===i?void 0:i.assemblyManager)){e.next=7;break}return e.next=4,(0,y.renameRegionsIfNeeded)(l,t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=t;case 8:return c=e.t0,e.next=11,(0,o.default)((0,f.default)(m.prototype),"serializeArguments",this).call(this,c,n);case 11:if(u=e.sent,"MainThreadRpcDriver"!==n){e.next=14;break}return e.abrupt("return",u);case 14:return s=t.rendererType,d=M(s,this.pluginManager.getRendererType(s)),e.abrupt("return",d.serializeArgsInClient(u));case 17:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"execute",value:(n=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l,c,u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t,"MainThreadRpcDriver"===n){e.next=5;break}return e.next=4,this.deserializeArguments(t,n);case 4:r=e.sent;case 5:if(i=(o=r).sessionId,l=o.rendererType,c=o.signal,i){e.next=8;break}throw new Error("must pass a unique session id");case 8:if((0,y.checkAbortSignal)(c),u=M(l,this.pluginManager.getRendererType(l)),"MainThreadRpcDriver"!==n){e.next=16;break}return e.next=13,u.render(r);case 13:e.t0=e.sent,e.next=19;break;case 16:return e.next=18,u.renderInWorker(r);case 18:e.t0=e.sent;case 19:return s=e.t0,(0,y.checkAbortSignal)(c),e.abrupt("return",s);case 22:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"deserializeReturn",value:(t=(0,i.default)(a.default.mark((function e(t,n,r){var i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.default)((0,f.default)(m.prototype),"deserializeReturn",this).call(this,t,n,r);case 2:if(i=e.sent,"MainThreadRpcDriver"!==r){e.next=5;break}return e.abrupt("return",i);case 5:return l=n.rendererType,c=M(l,this.pluginManager.getRendererType(l)),e.abrupt("return",c.deserializeResultsInClient(i,n));case 8:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),m}(g.default);function M(e,t){if(!t)throw new Error('renderer "'.concat(e,'" not found'));if(!t.ReactComponent)throw new Error("renderer ".concat(e," has no ReactComponent, it may not be completely implemented yet"));if(!(t instanceof b.default))throw new Error("CoreRender requires a renderer that is a subclass of ServerSideRendererType");return t}t.CoreRender=R},1315:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.configSchema=t.DataAdapter=void 0;var a=r(n(22)),o=r(n(23)),i=r(n(25)),l=r(n(15)),c=r(n(16)),u=r(n(27)),s=r(n(28)),d=r(n(26)),f=r(n(107)),p=n(41),m=n(132),h=n(158);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var b=(0,p.ConfigurationSchema)("CytobandAdapter",{cytobandLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/cytoband.txt.gz"}}},{explicitlyTyped:!0});t.configSchema=b;var v=function(e){(0,u.default)(r,e);var t,n=g(r);function r(){return(0,l.default)(this,r),n.apply(this,arguments)}return(0,c.default)(r,[{key:"getData",value:(t=(0,i.default)(a.default.mark((function e(){var t,n;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=(0,p.readConfObject)(this.config,"cytobandLocation")).uri&&"/path/to/cytoband.txt.gz"!==t.uri){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,(0,m.openLocation)(t).readFile("utf8");case 5:return n=e.sent,e.abrupt("return",n.split("\n").filter((function(e){return!!e.trim()})).map((function(e){var t=e.split("\t"),n=(0,o.default)(t,5),r=n[0],a=n[1],i=n[2],l=n[3],c=n[4];return new f.default({uniqueId:e,refName:r,start:+a,end:+i,name:l,type:c})})));case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),r}(h.BaseAdapter);t.DataAdapter=v},1316:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(15)),l=r(n(16)),c=r(n(13)),u=n(41),s=r(n(1317)),d=r(n(1318)),f=r(n(1319));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}d.default,f.default;var h=function(){function e(t,n,r){if((0,i.default)(this,e),this.pluginManager=t,this.mainConfiguration=n,this.backendConfigurations=r,(0,c.default)(this,"driverObjects",void 0),!n)throw new Error("RpcManager requires at least a main configuration");this.driverObjects=new Map}var t,n;return(0,l.default)(e,[{key:"getDriver",value:function(e){var t,n=this.driverObjects.get(e);if(n)return n;var r=this.mainConfiguration.drivers.get("WebWorkerRpcDriver");if("MainThreadRpcDriver"===e){var a=this.backendConfigurations.MainThreadRpcDriver;if(!a)throw new Error('requested RPC driver "'.concat(e,'" is missing config'));t=new f.default(m(m({},a),{},{config:r}))}else{if("WebWorkerRpcDriver"!==e)throw new Error('requested RPC driver "'.concat(e,'" is not installed'));var o=this.backendConfigurations.WebWorkerRpcDriver;if(!o)throw new Error('requested RPC driver "'.concat(e,'" is missing config'));t=new d.default(m(m({},o),{},{config:r}),{plugins:this.pluginManager.runtimePluginDefinitions})}return this.driverObjects.set(e,t),t}},{key:"getDriverForCall",value:(n=(0,o.default)(a.default.mark((function e(t,n,r){var o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.rpcDriverName||(0,u.readConfObject)(this.mainConfiguration,"defaultDriver"),e.abrupt("return",this.getDriver(o));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"call",value:(t=(0,o.default)(a.default.mark((function e(t,n,r){var o,i,l=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=l.length>3&&void 0!==l[3]?l[3]:{},t){e.next=3;break}throw new Error("sessionId is required");case 3:return e.next=5,this.getDriverForCall(t,n,r);case 5:return i=e.sent,e.abrupt("return",i.call(this.pluginManager,t,n,r,o));case 7:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),e}();t.default=h,(0,c.default)(h,"configSchema",s.default)},1317:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(19),a=n(41),o=(0,a.ConfigurationSchema)("BaseRpcDriver",{workerCount:{type:"number",description:"The number of workers to use. If 0 (the default) JBrowse will decide how many workers to use.",defaultValue:0}},{explicitlyTyped:!0}),i=(0,a.ConfigurationSchema)("MainThreadRpcDriver",{},{explicitlyTyped:!0,baseConfiguration:o}),l=(0,a.ConfigurationSchema)("WebWorkerRpcDriver",{},{explicitlyTyped:!0,baseConfiguration:o}),c=(0,a.ConfigurationSchema)("RpcOptions",{defaultDriver:{type:"string",description:"the RPC driver to use for tracks and tasks that are not configured to use a specific RPC backend",defaultValue:"MainThreadRpcDriver"},drivers:r.types.optional(r.types.map(r.types.union(i,l)),{MainThreadRpcDriver:{type:"MainThreadRpcDriver"}})},{actions:function(e){return{addDriverConfig:function(t,n){e.drivers.set(t,n)}}}});t.default=c},1318:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(35)),i=r(n(13)),l=r(n(25)),c=r(n(15)),u=r(n(16)),s=r(n(77)),d=r(n(27)),f=r(n(28)),p=r(n(26)),m=r(n(707)),h=r(n(284)),g=r(n(857));function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var w=function(e){(0,d.default)(r,e);var t,n=y(r);function r(){return(0,c.default)(this,r),n.apply(this,arguments)}return(0,u.default)(r,[{key:"destroy",value:function(){this.workers[0].terminate()}},{key:"call",value:(t=(0,l.default)(a.default.mark((function e(t,n,o){var i,l,c,u,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.statusCallback,l=o.rpcDriverClassName,c="message-".concat(h.default.generate()),u=function(e){i&&i(e)},this.on(c,u),e.next=6,(0,s.default)((0,p.default)(r.prototype),"call",this).call(this,t,v(v({},n),{},{channel:c,rpcDriverClassName:l}),o);case 6:return d=e.sent,this.off(c,u),e.abrupt("return",d);case 9:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})}]),r}(m.default.Client),O=function(e){(0,d.default)(r,e);var t,n=y(r);function r(e,t){var a;return(0,c.default)(this,r),(a=n.call(this,e)).workerBootConfiguration=t,(0,i.default)((0,o.default)(a),"name","WebWorkerRpcDriver"),(0,i.default)((0,o.default)(a),"WorkerClass",void 0),a.WorkerClass=e.WorkerClass,a}return(0,u.default)(r,[{key:"makeWorker",value:(t=(0,l.default)(a.default.mark((function e(){var t,n,r=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new w({workers:[new this.WorkerClass]}),n=new Promise((function(e,n){t.workers[0].onmessage=function(a){"ready"===a.data?e(t):"readyForConfig"===a.data?t.workers[0].postMessage(r.workerBootConfiguration):n()}})),e.abrupt("return",n);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),r}(g.default);t.default=O},1319:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(35)),i=r(n(27)),l=r(n(28)),c=r(n(26)),u=r(n(13)),s=r(n(25)),d=r(n(15)),f=r(n(16)),p=r(n(857));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var h=function(){function e(){(0,d.default)(this,e)}var t;return(0,f.default)(e,[{key:"destroy",value:function(){}},{key:"call",value:(t=(0,s.default)(a.default.mark((function e(t,n){var r=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.length>2&&void 0!==r[2]&&r[2],e.abrupt("return",void 0);case 2:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),e}(),g=function(e){(0,i.default)(r,e);var t,n=m(r);function r(e){var t;return(0,d.default)(this,r),t=n.call(this,e),(0,u.default)((0,o.default)(t),"name","MainThreadRpcDriver"),(0,u.default)((0,o.default)(t),"makeWorker",void 0),t.makeWorker=(0,s.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new h);case 1:case"end":return e.stop()}}),e)}))),t}return(0,f.default)(r,[{key:"call",value:(t=(0,s.default)(a.default.mark((function e(t,n,r,o){var i,l,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new TypeError("sessionId is required");case 2:return i=t.getRpcMethodType(r),e.next=5,i.serializeArguments(o,this.name);case 5:return l=e.sent,e.next=8,i.execute(l,this.name);case 8:return c=e.sent,e.abrupt("return",i.deserializeReturn(c,o,this.name));case 10:case"end":return e.stop()}}),e,this)}))),function(e,n,r,a){return t.apply(this,arguments)})}]),r}(p.default);t.default=g},132:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RemoteFileWithRangeCache",{enumerable:!0,get:function(){return c.RemoteFileWithRangeCache}}),t.getFetcher=function(e,t){if(!(0,u.isUriLocation)(e))throw new Error("Not a valid UriLocation: ".concat(JSON.stringify(e)));var n=m(e,t);if(n)return n.getFetcher(e);return h},t.openLocation=function(e,t){if(!e)throw new Error("must provide a location to openLocation");if(function(e){return"localPath"in e}(e)){if(!e.localPath)throw new Error("No local path provided");if(d.default)return new l.LocalFile(e.localPath);throw new Error("can't use local files in the browser")}if(function(e){return"blobId"in e}(e)){var n=(0,s.getBlob)(e.blobId);if(!n)throw new Error('file ("'.concat(e.name,'") was opened locally from a previous session. To restore it, go to track settings and reopen the file'));return new l.BlobFile(n)}if((0,u.isUriLocation)(e)){if(!e.uri)throw new Error("No URI provided");var r=e.baseUri?p(p({},e),{},{uri:new URL(e.uri,e.baseUri).href}):e;if(t){var a=m(e,t);if(a)return a.openLocation(r)}return new c.RemoteFileWithRangeCache(r.uri,{fetch:h})}throw new Error("invalid fileLocation")};var a=r(n(22)),o=r(n(25)),i=r(n(13)),l=n(82),c=n(1301),u=n(129),s=n(99),d=r(n(305));function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){var n=t.rootModel;if(n&&(0,u.isAppRootModel)(n))return n.findAppropriateInternetAccount(e);if(e.internetAccountPreAuthorization){if(!e.internetAccountPreAuthorization.authInfo.token)throw new Error("Failed to obtain token from internet account. Try reloading the page");return t.getInternetAccountType(e.internetAccountPreAuthorization.internetAccountType).stateModel.create({type:e.internetAccountPreAuthorization.internetAccountType,configuration:e.internetAccountPreAuthorization.authInfo.configuration})}}function h(e,t){return g.apply(this,arguments)}function g(){return(g=(0,o.default)(a.default.mark((function e(t,n){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,n);case 2:if(401!==(r=e.sent).status){e.next=7;break}if(!(o=r.headers.get("WWW-Authenticate"))||!o.includes("Basic")){e.next=7;break}throw new u.AuthNeededError("Accessing HTTPBasic resource without authentication",t.toString());case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1320:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(40)),l=r(n(15)),c=r(n(16)),u=r(n(13)),s=r(n(464)),d=n(41),f=function(){function e(t){(0,l.default)(this,e),this.pluginManager=t,(0,u.default)(this,"adapterCache",void 0),this.adapterCache=new s.default({maxSize:15})}var t;return(0,c.default)(e,[{key:"loadTextSearchAdapters",value:function(e){var t=this;return this.relevantAdapters(e).map((function(e){var n=(0,d.readConfObject)(e,"textSearchAdapterId");if(t.adapterCache.has(n))return t.adapterCache.get(n);var r=new(0,t.pluginManager.getTextSearchAdapterType(e.type).AdapterClass)(e,void 0,t.pluginManager);return t.adapterCache.set(n,r),r}))}},{key:"relevantAdapters",value:function(e){var t,n=null===(t=this.pluginManager.rootModel)||void 0===t?void 0:t.jbrowse,r=n.aggregateTextSearchAdapters,a=n.tracks,o=e.assemblyName;return[].concat((0,i.default)(this.getAdaptersWithAssembly(o,r)),(0,i.default)(this.getAdaptersWithAssembly(o,a.map((function(e){return(0,d.readConfObject)(e,["textSearching","textSearchAdapter"])})))))}},{key:"getAdaptersWithAssembly",value:function(e,t){return t.filter((function(t){var n;return null===(n=(0,d.readConfObject)(t,"assemblyNames"))||void 0===n?void 0:n.includes(e)}))}},{key:"search",value:(t=(0,o.default)(a.default.mark((function e(t,n,r){var o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.loadTextSearchAdapters(n),e.next=3,Promise.all(o.map((function(e){return e.searchIndex(t)})));case 3:return i=e.sent,e.abrupt("return",this.sortResults(i.flat(),r));case 5:case"end":return e.stop()}}),e,this)}))),function(e,n,r){return t.apply(this,arguments)})},{key:"sortResults",value:function(e,t){return t(e.sort((function(e,t){return-t.getLabel().localeCompare(e.getLabel())}))).sort((function(e,t){return e.getScore()-t.getScore()}))}}]),e}();t.default=f},1321:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c="navigator"in e&&/Win/i.test(navigator.platform),u="navigator"in e&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),s="npm__react-simple-code-editor__textarea",d=function(e){function t(){var e,n,a;i(this,t);for(var o=arguments.length,s=Array(o),d=0;d<o;d++)s[d]=arguments[d];return n=a=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.state={capture:!0},a._recordCurrentState=function(){var e=a._input;if(e){var t=e.value,n=e.selectionStart,r=e.selectionEnd;a._recordChange({value:t,selectionStart:n,selectionEnd:r})}},a._getLines=function(e,t){return e.substring(0,t).split("\n")},a._recordChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a._history,o=n.stack,i=n.offset;if(o.length&&i>-1){a._history.stack=o.slice(0,i+1);var l=a._history.stack.length;if(l>100){var c=l-100;a._history.stack=o.slice(c,l),a._history.offset=Math.max(a._history.offset-c,0)}}var u=Date.now();if(t){var s=a._history.stack[a._history.offset];if(s&&u-s.timestamp<3e3){var d=/[^a-z0-9]([a-z0-9]+)$/i,f=a._getLines(s.value,s.selectionStart).pop().match(d),p=a._getLines(e.value,e.selectionStart).pop().match(d);if(f&&p&&p[1].startsWith(f[1]))return void(a._history.stack[a._history.offset]=r({},e,{timestamp:u}))}}a._history.stack.push(r({},e,{timestamp:u})),a._history.offset++},a._updateInput=function(e){var t=a._input;t&&(t.value=e.value,t.selectionStart=e.selectionStart,t.selectionEnd=e.selectionEnd,a.props.onValueChange(e.value))},a._applyEdits=function(e){var t=a._input,n=a._history.stack[a._history.offset];n&&t&&(a._history.stack[a._history.offset]=r({},n,{selectionStart:t.selectionStart,selectionEnd:t.selectionEnd})),a._recordChange(e),a._updateInput(e)},a._undoEdit=function(){var e=a._history,t=e.stack,n=e.offset,r=t[n-1];r&&(a._updateInput(r),a._history.offset=Math.max(n-1,0))},a._redoEdit=function(){var e=a._history,t=e.stack,n=e.offset,r=t[n+1];r&&(a._updateInput(r),a._history.offset=Math.min(n+1,t.length-1))},a._handleKeyDown=function(e){var t=a.props,n=t.tabSize,r=t.insertSpaces,o=t.ignoreTabKey,i=t.onKeyDown;if(!i||(i(e),!e.defaultPrevented)){var l=e.target,s=l.value,d=l.selectionStart,f=l.selectionEnd,p=(r?" ":"     ").repeat(n);if(9===e.keyCode&&!o&&a.state.capture)if(e.preventDefault(),e.shiftKey){var m=a._getLines(s,d),h=m.length-1,g=a._getLines(s,f).length-1,b=s.split("\n").map((function(e,t){return t>=h&&t<=g&&e.startsWith(p)?e.substring(p.length):e})).join("\n");if(s!==b){var v=m[h];a._applyEdits({value:b,selectionStart:v.startsWith(p)?d-p.length:d,selectionEnd:f-(s.length-b.length)})}}else if(d!==f){var y=a._getLines(s,d),w=y.length-1,O=a._getLines(s,f).length-1,C=y[w];a._applyEdits({value:s.split("\n").map((function(e,t){return t>=w&&t<=O?p+e:e})).join("\n"),selectionStart:/\S/.test(C)?d+p.length:d,selectionEnd:f+p.length*(O-w+1)})}else{var E=d+p.length;a._applyEdits({value:s.substring(0,d)+p+s.substring(f),selectionStart:E,selectionEnd:E})}else if(8===e.keyCode){var k=d!==f;if(s.substring(0,d).endsWith(p)&&!k){e.preventDefault();var x=d-p.length;a._applyEdits({value:s.substring(0,d-p.length)+s.substring(f),selectionStart:x,selectionEnd:x})}}else if(13===e.keyCode){if(d===f){var S=a._getLines(s,d).pop().match(/^\s+/);if(S&&S[0]){e.preventDefault();var j="\n"+S[0],P=d+j.length;a._applyEdits({value:s.substring(0,d)+j+s.substring(f),selectionStart:P,selectionEnd:P})}}}else if(57===e.keyCode||219===e.keyCode||222===e.keyCode||192===e.keyCode){var T=void 0;57===e.keyCode&&e.shiftKey?T=["(",")"]:219===e.keyCode?T=e.shiftKey?["{","}"]:["[","]"]:222===e.keyCode?T=e.shiftKey?['"','"']:["'","'"]:192!==e.keyCode||e.shiftKey||(T=["`","`"]),d!==f&&T&&(e.preventDefault(),a._applyEdits({value:s.substring(0,d)+T[0]+s.substring(d,f)+T[1]+s.substring(f),selectionStart:d,selectionEnd:f+2}))}else!(u?e.metaKey&&90===e.keyCode:e.ctrlKey&&90===e.keyCode)||e.shiftKey||e.altKey?(u?e.metaKey&&90===e.keyCode&&e.shiftKey:c?e.ctrlKey&&89===e.keyCode:e.ctrlKey&&90===e.keyCode&&e.shiftKey)&&!e.altKey?(e.preventDefault(),a._redoEdit()):77!==e.keyCode||!e.ctrlKey||u&&!e.shiftKey||(e.preventDefault(),a.setState((function(e){return{capture:!e.capture}}))):(e.preventDefault(),a._undoEdit())}},a._handleChange=function(e){var t=e.target,n=t.value,r=t.selectionStart,o=t.selectionEnd;a._recordChange({value:n,selectionStart:r,selectionEnd:o},!0),a.props.onValueChange(n)},a._history={stack:[],offset:-1},l(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentDidMount",value:function(){this._recordCurrentState()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.style,i=t.padding,l=t.highlight,c=t.textareaId,u=t.autoFocus,d=t.disabled,p=t.form,m=t.maxLength,h=t.minLength,g=t.name,b=t.placeholder,v=t.readOnly,y=t.required,w=t.onClick,O=t.onFocus,C=t.onBlur,E=t.onKeyUp,k=(t.onKeyDown,t.onValueChange,t.tabSize,t.insertSpaces,t.ignoreTabKey,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["value","style","padding","highlight","textareaId","autoFocus","disabled","form","maxLength","minLength","name","placeholder","readOnly","required","onClick","onFocus","onBlur","onKeyUp","onKeyDown","onValueChange","tabSize","insertSpaces","ignoreTabKey"])),x={paddingTop:i,paddingRight:i,paddingBottom:i,paddingLeft:i},S=l(n);return o.createElement("div",r({},k,{style:r({},f.container,a)}),o.createElement("textarea",{ref:function(t){return e._input=t},style:r({},f.editor,f.textarea,x),className:s,id:c,value:n,onChange:this._handleChange,onKeyDown:this._handleKeyDown,onClick:w,onKeyUp:E,onFocus:O,onBlur:C,disabled:d,form:p,maxLength:m,minLength:h,name:g,placeholder:b,readOnly:v,required:y,autoFocus:u,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"data-gramm":!1}),o.createElement("pre",r({"aria-hidden":"true",style:r({},f.editor,f.highlight,x)},"string"==typeof S?{dangerouslySetInnerHTML:{__html:S+"<br />"}}:{children:S})),o.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:"\n/**\n * Reset the text fill color so that placeholder is visible\n */\n.npm__react-simple-code-editor__textarea:empty {\n  -webkit-text-fill-color: inherit !important;\n}\n\n/**\n * Hack to apply on some CSS on IE10 and IE11\n */\n@media all and (-ms-high-contrast: none), (-ms-high-contrast: active) {\n  /**\n    * IE doesn't support '-webkit-text-fill-color'\n    * So we use 'color: transparent' to make the text transparent on IE\n    * Unlike other browsers, it doesn't affect caret color in IE\n    */\n  .npm__react-simple-code-editor__textarea {\n    color: transparent !important;\n  }\n\n  .npm__react-simple-code-editor__textarea::selection {\n    background-color: #accef7 !important;\n    color: transparent !important;\n  }\n}\n"}}))}},{key:"session",get:function(){return{history:this._history}},set:function(e){this._history=e.history}}]),t}(o.Component);d.defaultProps={tabSize:2,insertSpaces:!0,ignoreTabKey:!1,padding:0},t.default=d;var f={container:{position:"relative",textAlign:"left",whiteSpace:"pre-wrap",wordBreak:"keep-all",boxSizing:"border-box",padding:0,overflow:"hidden"},textarea:{position:"absolute",top:0,left:0,height:"100%",width:"100%",resize:"none",color:"inherit",overflow:"hidden",MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased",WebkitTextFillColor:"transparent"},highlight:{position:"relative",pointerEvents:"none"},editor:{margin:0,border:0,background:"none",boxSizing:"inherit",display:"inherit",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontVariantLigatures:"inherit",fontWeight:"inherit",letterSpacing:"inherit",lineHeight:"inherit",tabSize:"inherit",textIndent:"inherit",textRendering:"inherit",textTransform:"inherit",whiteSpace:"inherit",wordBreak:"inherit"}}}).call(this,n(45))},1322:function(e,t,n){"use strict";(function(e){var r=n(1),a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(r=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(a)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},u=void 0;u="undefined"!=typeof window?window:"undefined"!=typeof self?self:e;var s=null,d=null,f=u.clearTimeout,p=u.setTimeout,m=u.cancelAnimationFrame||u.mozCancelAnimationFrame||u.webkitCancelAnimationFrame,h=u.requestAnimationFrame||u.mozRequestAnimationFrame||u.webkitRequestAnimationFrame;function g(e){var t=void 0,n=void 0,r=void 0,a=void 0,o=void 0,i=void 0,l=void 0,c="undefined"!=typeof document&&document.attachEvent;if(!c){i=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},o=function(e){return e.offsetWidth!==e.__resizeLast__.width||e.offsetHeight!==e.__resizeLast__.height},l=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;i(this),this.__resizeRAF__&&s(this.__resizeRAF__),this.__resizeRAF__=d((function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}};var f=!1,p="";r="animationstart";var m="Webkit Moz O ms".split(" "),h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=document.createElement("fakeelement");if(void 0!==g.style.animationName&&(f=!0),!1===f)for(var b=0;b<m.length;b++)if(void 0!==g.style[m[b]+"AnimationName"]){p="-"+m[b].toLowerCase()+"-",r=h[b],f=!0;break}t="@"+p+"keyframes "+(n="resizeanim")+" { from { opacity: 0; } to { opacity: 0; } } ",a=p+"animation: 1ms "+n+"; "}return{addResizeListener:function(o,s){if(c)o.attachEvent("onresize",s);else{if(!o.__resizeTriggers__){var d=o.ownerDocument,f=u.getComputedStyle(o);f&&"static"===f.position&&(o.style.position="relative"),function(n){if(!n.getElementById("detectElementResize")){var r=(t||"")+".resize-triggers { "+(a||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',o=n.head||n.getElementsByTagName("head")[0],i=n.createElement("style");i.id="detectElementResize",i.type="text/css",null!=e&&i.setAttribute("nonce",e),i.styleSheet?i.styleSheet.cssText=r:i.appendChild(n.createTextNode(r)),o.appendChild(i)}}(d),o.__resizeLast__={},o.__resizeListeners__=[],(o.__resizeTriggers__=d.createElement("div")).className="resize-triggers";var p=d.createElement("div");p.className="expand-trigger",p.appendChild(d.createElement("div"));var m=d.createElement("div");m.className="contract-trigger",o.__resizeTriggers__.appendChild(p),o.__resizeTriggers__.appendChild(m),o.appendChild(o.__resizeTriggers__),i(o),o.addEventListener("scroll",l,!0),r&&(o.__resizeTriggers__.__animationListener__=function(e){e.animationName===n&&i(o)},o.__resizeTriggers__.addEventListener(r,o.__resizeTriggers__.__animationListener__))}o.__resizeListeners__.push(s)}},removeResizeListener:function(e,t){if(c)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",l,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(r,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}null==m||null==h?(s=f,d=function(e){return p(e,20)}):(s=function(e){var t=c(e,2),n=t[0],r=t[1];m(n),f(r)},d=function(e){var t=h((function(){f(n),e()})),n=p((function(){m(t),e()}),20);return[t,n]});var b=function(e){function t(){var e,n,r;a(this,t);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,a=e.onResize;if(r._parentNode){var o=r._parentNode.offsetHeight||0,i=r._parentNode.offsetWidth||0,l=window.getComputedStyle(r._parentNode)||{},c=parseInt(l.paddingLeft,10)||0,u=parseInt(l.paddingRight,10)||0,s=parseInt(l.paddingTop,10)||0,d=parseInt(l.paddingBottom,10)||0,f=o-s-d,p=i-c-u;(!t&&r.state.height!==f||!n&&r.state.width!==p)&&(r.setState({height:o-s-d,width:i-c-u}),a({height:o,width:i}))}},r._setRef=function(e){r._autoSizer=e},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._detectElementResize=g(e),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,a=e.disableHeight,o=e.disableWidth,l=e.style,c=this.state,u=c.height,s=c.width,d={overflow:"visible"},f={},p=!1;return a||(0===u&&(p=!0),d.height=0,f.height=u),o||(0===s&&(p=!0),d.width=0,f.width=s),Object(r.createElement)("div",{className:n,ref:this._setRef,style:i({},d,l)},!p&&t(f))}}]),t}(r.PureComponent);b.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},t.a=b}).call(this,n(45))},1323:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(15)),i=r(n(16));function l(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=function(e){function t(e){(0,o.default)(this,t),this.submaps=e}return(0,i.default)(t,[{key:"has",value:function(e){var t,n=l(this.submaps.values());try{for(n.s();!(t=n.n()).done;){if(t.value.has(e))return!0}}catch(e){n.e(e)}finally{n.f()}return!1}},{key:"get",value:function(e){var t,n=l(this.submaps.values());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.has(e))return r.get(e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"values",value:a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l(this.keys()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,this.get(r);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"keys",value:a.default.mark((function(){var e,t,n,r,o,i,c,u,s,d;return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e=new Set,t=l(this.submaps.values());try{for(t.s();!(n=t.n()).done;){r=n.value,o=l(r.keys());try{for(o.s();!(i=o.n()).done;)c=i.value,e.add(c)}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}u=l(e),a.prev=4,u.s();case 6:if((s=u.n()).done){a.next=12;break}return d=s.value,a.next=10,d;case 10:a.next=6;break;case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(4),u.e(a.t0);case 17:return a.prev=17,u.f(),a.finish(17);case 20:case"end":return a.stop()}}),e,this,[[4,14,17,20]])}))},{key:"find",value:function(e){var t,n=l(this.submaps.values());try{for(n.s();!(t=n.n()).done;){var r,a=l(t.value.values());try{for(a.s();!(r=a.n()).done;){var o=r.value;if(e(o))return o}}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}}},{key:e,value:a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l(this.keys()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,[r,this.get(r)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"entries",value:a.default.mark((function e(){var t,n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=l(this.keys()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,[r,this.get(r)];case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))}]),t}(Symbol.iterator);t.default=u},1324:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.RefSequenceResult=void 0;var a=r(n(35)),o=r(n(27)),i=r(n(28)),l=r(n(26)),c=r(n(15)),u=r(n(16)),s=r(n(13));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}var f=function(){function e(t){(0,c.default)(this,e),(0,s.default)(this,"label",void 0),(0,s.default)(this,"renderingComponent",void 0),(0,s.default)(this,"displayString",void 0),(0,s.default)(this,"matchedAttribute",void 0),(0,s.default)(this,"matchedObject",void 0),(0,s.default)(this,"textSearchAdapter",void 0),(0,s.default)(this,"relevance",void 0),(0,s.default)(this,"trackId",void 0),(0,s.default)(this,"score",void 0),(0,s.default)(this,"locString",void 0),this.label=t.label,this.locString=t.locString,this.renderingComponent=t.renderingComponent,this.displayString=t.displayString,this.matchedAttribute=t.matchedAttribute,this.matchedObject=t.matchedObject,this.textSearchAdapter=t.textSearchAdapter,this.relevance=t.relevance,this.trackId=t.trackId,this.score=t.score||1}return(0,u.default)(e,[{key:"getLabel",value:function(){return this.label}},{key:"getDisplayString",value:function(){return this.displayString||this.label}},{key:"getRenderingComponent",value:function(){return this.renderingComponent}},{key:"getTrackId",value:function(){return this.trackId}},{key:"getScore",value:function(){return this.score}},{key:"updateScore",value:function(e){return this.score=e,this.score}},{key:"getId",value:function(){return"".concat(this.getLabel(),"-").concat(this.getLocation(),"-").concat(this.getTrackId())}},{key:"getLocation",value:function(){return this.locString||this.label}}]),e}();t.default=f;var p=function(e){(0,o.default)(n,e);var t=d(n);function n(e){var r,o;return(0,c.default)(this,n),o=t.call(this,e),(0,s.default)((0,a.default)(o),"refName",void 0),o.refName=null!==(r=e.refName)&&void 0!==r?r:"",o}return(0,u.default)(n,[{key:"getLocation",value:function(){return this.refName}}]),n}(f);t.RefSequenceResult=p},1325:function(e,t,n){"use strict";function r(e){return e.replace(/(.{1,80})/g,"$1\n").trimEnd()}Object.defineProperty(t,"__esModule",{value:!0}),t.formatFastaLines=r,t.formatSeqFasta=function(e){return e.map((function(e){return">".concat(e.header,"\n").concat(r(e.seq))})).join("\n")}},1326:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.extend((function(){return function(e){return{views:{get snackbarMessages(){return e}},actions:{notify:function(e,t){var n=this;this.pushSnackbarMessage(e,t),"info"!==t&&"success"!==t||setTimeout((function(){n.removeSnackbarMessage(e)}),5e3)},pushSnackbarMessage:function(t,n){return e.push([t,n])},popSnackbarMessage:function(){return e.pop()},removeSnackbarMessage:function(t){var n=e.find((function(e){return e[0]===t}));n&&e.remove(n)}}}}(r.observable.array())}))};var r=n(46)},1327:function(e,t,n){"use strict";(function(e){var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.PluginSourceConfigurationSchema=void 0,t.isCJSPluginDefinition=C,t.isESMPluginDefinition=O,t.isUMDPluginDefinition=w;var o=r(n(22)),i=r(n(23)),l=r(n(25)),c=r(n(15)),u=r(n(16)),s=r(n(13)),d=r(n(21)),f=r(n(815)),p=r(n(816)),m=n(41),h=r(n(845)),g=n(42);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}return r.default=e,n&&n.set(e,r),r}var y=(0,m.ConfigurationSchema)("PluginSource",{name:{type:"string",defaultValue:""},url:{type:"string",defaultValue:""}});function w(e){return(void 0!==e.umdUrl||void 0!==e.url)&&void 0!==e.name}function O(e){return void 0!==e.esmUrl}function C(e){return void 0!==e.cjsUrl}function E(){return"object"===("undefined"==typeof self?"undefined":(0,d.default)(self))&&self.self===self&&self||"object"===(void 0===e?"undefined":(0,d.default)(e))&&e.global===e&&e||this}t.PluginSourceConfigurationSchema=y;var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,c.default)(this,e),(0,s.default)(this,"definitions",[]),this.definitions=JSON.parse(JSON.stringify(t))}var t,r,a,d,m;return(0,u.default)(e,[{key:"loadScript",value:function(e){var t=E();if(!function(e){return Boolean("WorkerGlobalScope"in e)}(t))return(0,f.default)(e);if(t&&t.importScripts)return new Promise((function(n,r){try{t.importScripts(e)}catch(t){return void r(t||new Error("failed to load ".concat(e)))}n()}));throw new Error("cannot figure out how to load external JS scripts in this environment")}},{key:"loadCJSPlugin",value:(m=(0,l.default)(o.default.mark((function e(t){var r,a,i,l,c,u,s,d,f,m,h,g;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new URL(t.cjsUrl,E().location.href),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.error(e.t0),new Error("Error parsing URL: ".concat(t.cjsUrl));case 8:if("http:"===r.protocol||"https:"===r.protocol){e.next=10;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 10:return a=n(817),i=n(818),l=n(819),c=n(820),u=a.promises,e.next=17,u.realpath(l.tmpdir());case 17:return s=e.sent,e.next=20,u.mkdtemp(i.join(s,"jbrowse-plugin-"));case 20:return d=e.sent,f=void 0,e.prev=22,m=i.join(d,(0,p.default)(r.href)),h=i.relative(".",m),g=new Promise((function(e,t){var n=a.createWriteStream(m);c.get(r.href,(function(t){t.pipe(n),n.on("finish",(function(){e()}))})).on("error",(function(e){a.unlinkSync(m),t(e)}))})),e.next=28,g;case 28:f=require(h);case 29:return e.prev=29,u.rmdir(d,{recursive:!0}),e.finish(29);case 32:if(f){e.next=34;break}throw new Error("Could not load CJS plugin: ".concat(r));case 34:return e.abrupt("return",f);case 35:case"end":return e.stop()}}),e,null,[[0,4],[22,,29,32]])}))),function(e){return m.apply(this,arguments)})},{key:"loadESMPlugin",value:(d=(0,l.default)(o.default.mark((function e(t){var r,a;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,r=new URL(t.esmUrl,E().location.href),e.next=8;break;case 4:throw e.prev=4,e.t0=e.catch(0),console.error(e.t0),new Error("Error parsing URL: ".concat(t.esmUrl));case 8:if("http:"===r.protocol||"https:"===r.protocol){e.next=10;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 10:return e.next=12,Promise.resolve("".concat(r.href)).then((function(e){return v(n(1328)(e))}));case 12:if(a=e.sent){e.next=15;break}throw new Error("Could not load ESM plugin: ".concat(r));case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[0,4]])}))),function(e){return d.apply(this,arguments)})},{key:"loadUMDPlugin",value:(a=(0,l.default)(o.default.mark((function e(t){var n,r,a,i,l,c;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n="url"in t?t.url:t.umdUrl,e.prev=1,r=new URL(n,E().location.href),e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(1),console.error(e.t0),new Error("Error parsing URL: ".concat(n));case 9:if("http:"===r.protocol||"https:"===r.protocol){e.next=11;break}throw new Error('cannot load plugins using protocol "'.concat(r.protocol,'"'));case 11:return e.next=13,this.loadScript(r.href);case 13:if(a=t.name,i="JBrowsePlugin".concat(a),l=E(),c=l[i]){e.next=19;break}throw new Error("Failed to load UMD bundle for ".concat(a,", ").concat(l.constructor.name,".").concat(i," is undefined"));case 19:return e.abrupt("return",c);case 20:case"end":return e.stop()}}),e,this,[[1,5]])}))),function(e){return a.apply(this,arguments)})},{key:"loadPlugin",value:(r=(0,l.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.isElectron||!C(t)){e.next=6;break}return e.next=3,this.loadCJSPlugin(t);case 3:n=e.sent,e.next=23;break;case 6:if(!O(t)){e.next=12;break}return e.next=9,this.loadESMPlugin(t);case 9:n=e.sent,e.next=23;break;case 12:if(!w(t)){e.next=18;break}return e.next=15,this.loadUMDPlugin(t);case 15:n=e.sent,e.next=23;break;case 18:if(g.isElectron||!C(t)){e.next=22;break}throw new Error("Only CommonJS plugin found, but not in a NodeJS environment: ".concat(JSON.stringify(t)));case 22:throw new Error("Could not determine plugin type: ".concat(JSON.stringify(t)));case 23:return e.abrupt("return",n.default);case 24:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"installGlobalReExports",value:function(e){e.JBrowseExports=Object.fromEntries(Object.entries(h.default).map((function(e){var t=(0,i.default)(e,2);return[t[0],t[1]]})))}},{key:"load",value:(t=(0,l.default)(o.default.mark((function e(){var t=this;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(this.definitions.map(function(){var e=(0,l.default)(o.default.mark((function e(n){return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.loadPlugin(n);case 2:return e.t0=e.sent,e.t1=n,e.abrupt("return",{plugin:e.t0,definition:e.t1});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}();t.default=k}).call(this,n(45))},1328:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=1328},1402:function(e,t,n){"use strict";function r(e,t){return()=>null}n.d(t,"a",(function(){return r}))},155:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultValue=function(e){if(!(0,r.isOptionalType)(e))throw new TypeError("type must be an optional type");return e._defaultValue||e.defaultValue},t.getEnumerationValues=function(e){return o(e).map((function(e){return e.value}))},t.getPropertyType=function(e,t){return e.properties[t]},t.getSubType=a,t.getUnionSubTypes=o,t.resolveLateType=function(e){if(!(0,r.isUnionType)(e)&&!(0,r.isArrayType)(e)&&(0,r.isLateType)(e))return e.getSubType();return e};var r=n(19);function a(e){var t;if((0,r.isOptionalType)(e))t=e._subtype||e.type;else{if(!(0,r.isArrayType)(e)&&!(0,r.isMapType)(e)){if("function"==typeof e.getSubType)return e.getSubType();throw new TypeError("unsupported mst type")}t=e._subtype||e._subType||e.subType}if(!t)throw new Error("failed to get subtype");return t}function o(e){if(!(0,r.isUnionType)(e))throw new TypeError("not an MST union type");var t=e._types||e.types||a(e)._types||a(e).types;if(!t)throw new Error("failed to extract subtypes from mst union");return t}},156:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13)),d=r(n(108)),f=n(155);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=p(n);function n(e){var r;if((0,a.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"stateModel",void 0),(0,s.default)((0,i.default)(r),"configSchema",void 0),(0,s.default)((0,i.default)(r),"displayTypes",[]),r.stateModel=e.stateModel,r.configSchema=e.configSchema,!r.stateModel)throw new Error("no stateModel defined for track ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema provided for track ".concat(r.name));if(!(0,f.getDefaultValue)(r.configSchema).type){var o=r.configSchema?r.configSchema.name:"UNKNOWN";throw new Error("".concat(o," is not explicitlyTyped"))}return r}return(0,o.default)(n,[{key:"addDisplayType",value:function(e){this.displayTypes.push(e)}}]),n}(d.default);t.default=m},157:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var f=function(e){(0,l.default)(n,e);var t=d(n);function n(e){var r;if((0,o.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"heading",void 0),(0,s.default)((0,i.default)(r),"configSchema",void 0),(0,s.default)((0,i.default)(r),"HeadingComponent",void 0),(0,s.default)((0,i.default)(r),"ReactComponent",void 0),(0,s.default)((0,i.default)(r),"stateModel",void 0),r.heading=e.heading,r.HeadingComponent=e.HeadingComponent,r.configSchema=e.configSchema,r.stateModel=e.stateModel,r.ReactComponent=e.ReactComponent,!r.ReactComponent)throw new Error("no ReactComponent defined for widget ".concat(r.name));if(!r.stateModel)throw new Error("no stateModel defined for widget ".concat(r.name));return r}return(0,a.default)(n)}(r(n(108)).default);t.default=f},158:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseSequenceAdapter=t.BaseFeatureDataAdapter=t.BaseAdapter=void 0,t.isFeatureAdapter=function(e){return"getFeatures"in e},t.isRefNameAliasAdapter=function(e){return"getRefNameAliases"in e},t.isRegionsAdapter=function(e){return"getRegions"in e},t.isSequenceAdapter=function(e){return"getRegions"in e&&"getFeatures"in e},t.isTextSearchAdapter=function(e){return"searchIndex"in e};var a=r(n(22)),o=r(n(40)),i=r(n(25)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(16)),d=r(n(15)),f=r(n(13)),p=n(133),m=n(52),h=n(19),g=n(187),b=n(42),v=n(41),y=n(846),w=r(n(847));function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,f.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var k=(0,s.default)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,v.ConfigurationSchema)("empty",{}).create(),n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;if((0,d.default)(this,e),this.config=t,this.getSubAdapter=n,this.pluginManager=r,(0,f.default)(this,"id",void 0),"undefined"==typeof jest){var a=(0,h.isStateTreeNode)(t)?(0,h.getSnapshot)(t):t;this.id="".concat((0,w.default)(a))}else this.id="test"}));t.BaseAdapter=k,(0,f.default)(k,"capabilities",[]);var x=function(e){(0,l.default)(w,e);var t,n,r,c,u,f,h=E(w);function w(){return(0,d.default)(this,w),h.apply(this,arguments)}return(0,s.default)(w,[{key:"getConf",value:function(e){return(0,v.readConfObject)(this.config,e)}},{key:"getHeader",value:(f=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return f.apply(this,arguments)})},{key:"getMetadata",value:(u=(0,i.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})},{key:"getFeaturesInRegion",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,g.ObservableCreate)(function(){var r=(0,i.default)(a.default.mark((function r(o){var i;return a.default.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.hasDataForRefName(e.refName,n);case 2:i=r.sent,(0,b.checkAbortSignal)(n.signal),i?t.getFeatures(e,n).subscribe(o):o.complete();case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.merge.apply(void 0,(0,o.default)(e.map((function(e){return t.getFeaturesInRegion(e,n)}))))}},{key:"hasDataForRefName",value:(c=(0,i.default)(a.default.mark((function e(t){var n,r,o=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},e.next=3,this.getRefNames(n);case 3:return r=e.sent,e.abrupt("return",r.includes(t));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"getRegionStats",value:(r=(0,i.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getFeatures(t,n),e.abrupt("return",(0,y.scoresToStats)(t,r));case 2:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"getMultiRegionStats",value:(n=(0,i.default)(a.default.mark((function e(){var t,n,r,o,i,l,c,u,s,d=this,f=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.length>0&&void 0!==f[0]?f[0]:[],n=f.length>1?f[1]:void 0,t.length){e.next=4;break}return e.abrupt("return",(0,y.blankStats)());case 4:return e.next=6,Promise.all(t.map((function(e){return d.getRegionStats(e,n)})));case 6:return r=e.sent,o=r.map((function(e){return e.scoreMax})).reduce((function(e,t){return Math.max(e,t)})),i=r.map((function(e){return e.scoreMin})).reduce((function(e,t){return Math.min(e,t)})),l=r.reduce((function(e,t){return e+t.scoreSum}),0),c=r.reduce((function(e,t){return e+t.scoreSumSquares}),0),u=r.reduce((function(e,t){return e+t.featureCount}),0),s=r.reduce((function(e,t){return e+t.basesCovered}),0),e.abrupt("return",(0,y.rectifyStats)({scoreMin:i,scoreMax:o,featureCount:u,basesCovered:s,scoreSumSquares:c,scoreSum:l}));case 14:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})},{key:"estimateRegionsStats",value:(t=(0,i.default)(a.default.mark((function e(t,n){var r,o,l,c,u=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}throw new Error("No regions to estimate stats for");case 2:return r=t[0],o=+Date.now(),l=function(){var e=(0,i.default)(a.default.mark((function e(t,o){var i,l,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.start,l=r.end,s=.75*i+.25*l,d=C(C({},r),{},{start:Math.max(0,Math.round(s-t/2)),end:Math.min(Math.round(s+t/2),l)}),e.next=5,u.getFeatures(d,n).pipe((0,m.toArray)()).toPromise();case 5:return f=e.sent,e.abrupt("return",c(t,{featureDensity:f.length/t},f.length,o));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),c=function(){var e=(0,i.default)(a.default.mark((function e(t,n,i,c){var u,s;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.end-r.start,!(i>=70||2*t>u)){e.next=5;break}return e.abrupt("return",n);case 5:if(!(c<=5e3)){e.next=12;break}return s=+Date.now(),c+=s-o,o=s,e.abrupt("return",l(2*t,c));case 12:return console.warn("Stats estimation reached timeout, or didn't get enough features"),e.abrupt("return",{featureDensity:1/0});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),e.abrupt("return",l(1e3,0));case 7:case"end":return e.stop()}}),e)}))),function(e,n){return t.apply(this,arguments)})}]),w}(k);t.BaseFeatureDataAdapter=x;var S=function(e){(0,l.default)(r,e);var t,n=E(r);function r(){return(0,d.default)(this,r),n.apply(this,arguments)}return(0,s.default)(r,[{key:"estimateRegionsStats",value:(t=(0,i.default)(a.default.mark((function e(){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{featureDensity:0});case 1:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),r}(x);t.BaseSequenceAdapter=S},186:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13)),d=r(n(108)),f=n(155);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=p(n);function n(e){var r;if((0,o.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"stateModel",void 0),(0,s.default)((0,i.default)(r),"configSchema",void 0),(0,s.default)((0,i.default)(r),"ReactComponent",void 0),(0,s.default)((0,i.default)(r),"trackType",void 0),(0,s.default)((0,i.default)(r),"viewType",void 0),r.stateModel=e.stateModel,r.configSchema=e.configSchema,r.ReactComponent=e.ReactComponent,r.trackType=e.trackType,r.viewType=e.viewType,!r.stateModel)throw new Error("no stateModel defined for display ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema provided for display ".concat(r.name));if(!r.ReactComponent)throw new Error("no ReactComponent provided for display ".concat(r.name));if(!r.trackType)throw new Error("no trackType provided for display ".concat(r.name));if(!r.viewType)throw new Error("no viewType provided for display ".concat(r.name));if(!(0,f.getDefaultValue)(r.configSchema).type){var a=r.configSchema?r.configSchema.name:"UNKNOWN";throw new Error("".concat(a," is not explicitlyTyped"))}return r}return(0,a.default)(n)}(d.default);t.default=m},187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObservableCreate=function(e,t){return r.Observable.create((function(t){try{var n=e(t);n&&n.catch&&n.catch((function(e){return t.error(e)}))}catch(e){t.error(e)}})).pipe((0,a.takeUntil)((0,o.observeAbortSignal)(t)))};var r=n(133),a=n(52),o=n(42)},188:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NewFeatureRendererType=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(13)),l=r(n(15)),c=r(n(16)),u=r(n(77)),s=r(n(27)),d=r(n(28)),f=r(n(26)),p=n(52),m=n(42),h=r(n(107)),g=n(339),b=r(n(257));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var O=function(e){(0,s.default)(i,e);var t,n,r=w(i);function i(){return(0,l.default)(this,i),r.apply(this,arguments)}return(0,c.default)(i,[{key:"serializeArgsInClient",value:function(e){var t=e.displayModel,n=e.regions,r=y(y({},e),{},{displayModel:t&&{id:t.id,selectedFeatureId:t.selectedFeatureId},regions:JSON.parse(JSON.stringify(n))});return(0,u.default)((0,f.default)(i.prototype),"serializeArgsInClient",this).call(this,r)}},{key:"deserializeResultsInClient",value:function(e,t){var n=new Map;e.features.forEach((function(e){var t=h.default.fromJSON(e);n.set(String(t.id()),t)}));var r=(0,u.default)((0,f.default)(i.prototype),"deserializeResultsInClient",this).call(this,y(y({},e),{},{features:n}),t);return y(y({},r),{},{blockKey:t.blockKey,features:n})}},{key:"serializeResultsInWorker",value:function(e,t){var n=(0,u.default)((0,f.default)(i.prototype),"serializeResultsInWorker",this).call(this,e,t),r=e.features;return y(y({},n),{},{features:(0,m.iterMap)(r.values(),(function(e){return e.toJSON()}),r.size)})}},{key:"getExpandedRegion",value:function(e,t){return e}},{key:"getFeatures",value:(n=(0,o.default)(a.default.mark((function e(t){var n,r,o,i,l,c,u,s,d,f,h,b=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.regions,o=t.sessionId,i=t.adapterConfig,e.next=3,(0,g.getAdapter)(this.pluginManager,o,i);case 3:if(l=e.sent,c=l.dataAdapter,u=new Map,r&&0!==r.length){e.next=8;break}return e.abrupt("return",u);case 8:return s=r.map((function(e){var t=y({},e);return t.start&&(t.start=Math.floor(t.start)),t.end&&(t.end=Math.ceil(t.end)),t})),d=s[0],f=1===s.length?c.getFeatures(this.getExpandedRegion(d,t),t):c.getFeaturesInMultipleRegions(s,t),e.next=13,f.pipe((0,p.toArray)()).toPromise();case 13:return h=e.sent,(0,m.checkAbortSignal)(n),e.abrupt("return",new Map(h.filter((function(e){return b.featurePassesFilters(t,e)})).map((function(e){return[e.id(),e]}))));case 16:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"featurePassesFilters",value:function(e,t){return!e.filters||e.filters.passes(t,e)}},{key:"render",value:(t=(0,o.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.features,e.t0){e.next=5;break}return e.next=4,this.getFeatures(t);case 4:e.t0=e.sent;case 5:return n=e.t0,e.next=8,(0,u.default)((0,f.default)(i.prototype),"render",this).call(this,y(y({},t),{},{features:n}));case 8:return r=e.sent,e.abrupt("return",y(y({},r),{},{features:n}));case 10:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),i}(b.default);t.default=O;var C=function(e){(0,s.default)(n,e);var t=w(n);function n(){return(0,l.default)(this,n),t.apply(this,arguments)}return(0,c.default)(n)}(b.default);t.NewFeatureRendererType=C},254:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(49)),i=r(n(56)),l=r(n(13)),c=r(n(23)),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),s=n(29),d=r(n(287)),f=r(n(626)),p=r(n(627)),m=r(n(628)),h=r(n(288)),g=n(42),b=["open","onClose","menuItems","onMenuItemClick"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=(0,s.makeStyles)({paper:{position:"fixed",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",top:0,left:0,outline:0},menuItemEndDecoration:{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",padding:2,marginRight:-12,display:"inline-flex"}});function C(e){var t,n,r,a=O(),o=e.type;if("checked"in e&&(t=e.checked,n=e.disabled),"subMenu"===o)r=u.default.createElement(d.default,{color:"action"});else if("checkbox"===o)if(t){var i=n?"inherit":"secondary";r=u.default.createElement(f.default,{color:i})}else r=u.default.createElement(p.default,{color:"action"});else if("radio"===o)if(t){var l=n?"inherit":"secondary";r=u.default.createElement(m.default,{color:l})}else r=u.default.createElement(h.default,{color:"action"});return u.default.createElement("div",{className:a.menuItemEndDecoration},r)}var E=u.default.forwardRef((function(e,t){var n=(0,u.useState)(),r=(0,c.default)(n,2),a=r[0],o=r[1],i=(0,u.useState)(),l=(0,c.default)(i,2),d=l[0],f=l[1],p=(0,u.useState)(!1),m=(0,c.default)(p,2),h=m[0],b=m[1],v=(0,u.useState)(),y=(0,c.default)(v,2),k=y[0],x=y[1],S=(0,u.useState)(),j=(0,c.default)(S,2),P=j[0],T=j[1],R=(0,u.useRef)(),M=O(),I=e.menuItems,A=e.onMenuItemClick,L=e.open,F=e.onClose,N=e.anchorEl,D=e.top,_=void 0!==D&&D;(0,u.useEffect)((function(){L||(o(void 0),f(void 0))}),[L]),(0,u.useEffect)((function(){var e,t=L&&Boolean(a);return t&&!h?e=setTimeout((function(){b(!0)}),300):!t&&h&&(e=setTimeout((function(){b(!1)}),300)),function(){clearTimeout(e)}}),[h,L,a]),(0,u.useEffect)((function(){if(N){var e=N.getBoundingClientRect();P&&e.top===P.top&&e.left+e.width===P.left||T({top:e.top,left:e.left+e.width})}else P||T({})}),[P,N]);var z=I.some((function(e){return"subMenu"in e||"checkbox"===e.type||"radio"===e.type})),B=I.some((function(e){return"icon"in e&&e.icon})),H={};z&&(H.paddingRight=48);var W=u.default.createElement(u.default.Fragment,null,u.default.createElement(s.MenuList,{autoFocusItem:L&&!h},I.sort((function(e,t){return(t.priority||0)-(e.priority||0)})).map((function(e,t){if("divider"===e.type)return u.default.createElement(s.Divider,{key:"divider-".concat(t),component:"li"});if("subHeader"===e.type)return u.default.createElement(s.ListSubheader,{key:"subHeader-".concat(e.label,"-").concat(t)},e.label);var n=null,r=null;if(e.icon){var a=e.icon;n=u.default.createElement(s.ListItemIcon,null,u.default.createElement(a,null))}"subMenu"in e?r=u.default.createElement(C,{type:"subMenu"}):"checkbox"!==e.type&&"radio"!==e.type||(r=u.default.createElement(C,{type:e.type,checked:e.checked,disabled:e.disabled}));var i,l="onClick"in e?(i=e.onClick,function(e){A(e,i)}):void 0;return u.default.createElement(s.MenuItem,{key:e.label,style:H,selected:t===k,onClick:l,onMouseMove:function(n){n.currentTarget!==document.activeElement&&(n.currentTarget.focus(),x(t)),"subMenu"in e?d!==t&&(o(n.currentTarget),f(t)):(o(void 0),f(void 0))},onKeyDown:function(n){if("ArrowLeft"===n.key||"Escape"===n.key)F&&F(n,"escapeKeyDown");else if("ArrowUp"===n.key)x(function(e,t){return(0,g.findLastIndex)(e.slice(0,t),(function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}))}(I,t));else if("ArrowDown"===n.key){var r=function(e,t){var n=e.slice(t+1).findIndex((function(e){return"divider"!==e.type&&"subHeader"!==e.type&&!e.disabled}));return-1===n?n:t+1+n}(I,t);x(r)}else"subMenu"in e&&("ArrowRight"!==n.key&&"Enter"!==n.key||(o(n.currentTarget),f(t),b(!0)))},disabled:Boolean(e.disabled)},n,u.default.createElement(s.ListItemText,{primary:e.label,secondary:e.subLabel,inset:B&&!e.icon}),r)}))),I.map((function(e,t){var n=null;return"subMenu"in e&&(n=u.default.createElement(E,{key:e.label,anchorEl:a,open:h&&d===t,onClose:function(){b(!1),o(void 0)},onMenuItemClick:A,menuItems:e.subMenu})),n})));return _?W:u.default.createElement(s.Grow,{in:L,style:{transformOrigin:"0 0 0"},ref:t},u.default.createElement(s.Paper,{elevation:8,ref:R,className:M.paper,style:w({},P)},W))}));var k=function(e){var t=e.open,n=e.onClose,r=e.menuItems,a=e.onMenuItemClick,l=(0,i.default)(e,b);return u.default.createElement(s.Popover,(0,o.default)({transitionDuration:0,open:t,onClose:n,BackdropProps:{invisible:!0}},l),u.default.createElement(E,{open:t,onClose:n,menuItems:r,onMenuItemClick:a,top:!0}))};t.default=k},255:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(15)),l=r(n(16)),c=r(n(35)),u=r(n(27)),s=r(n(28)),d=r(n(26)),f=r(n(13)),p=r(n(1)),m=n(155);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,u.default)(r,e);var t,n=h(r);function r(e){var t;if((0,i.default)(this,r),t=n.call(this,e),(0,f.default)((0,c.default)(t),"ReactComponent",void 0),(0,f.default)((0,c.default)(t),"supportsSVG",!1),(0,f.default)((0,c.default)(t),"configSchema",void 0),(0,f.default)((0,c.default)(t),"pluginManager",void 0),t.ReactComponent=e.ReactComponent,t.configSchema=e.configSchema,t.pluginManager=e.pluginManager,!t.ReactComponent)throw new Error("no ReactComponent defined for renderer ".concat(t.name));if(!(0,m.getDefaultValue)(t.configSchema).type)throw new Error("".concat(t.name," config schema ").concat(t.configSchema.name," is not explicitlyTyped"));if(!t.pluginManager)throw new Error("no plugin manager defined for renderer ".concat(t.name));return t}return(0,l.default)(r,[{key:"render",value:(t=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{reactElement:p.default.createElement(this.ReactComponent,t,null)});case 1:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"freeResources",value:function(){return 0}}]),r}(r(n(108)).default);t.default=g},256:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var f=function(e){(0,l.default)(n,e);var t=d(n);function n(e){var r;if((0,a.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"ReactComponent",void 0),(0,s.default)((0,i.default)(r),"stateModel",void 0),(0,s.default)((0,i.default)(r),"displayTypes",[]),r.ReactComponent=e.ReactComponent,r.stateModel=e.stateModel,!r.ReactComponent)throw new Error("no ReactComponent defined for view ".concat(r.name));if(!r.stateModel)throw new Error("no stateModel defined for view ".concat(r.name));return r}return(0,o.default)(n,[{key:"addDisplayType",value:function(e){this.displayTypes.push(e)}}]),n}(r(n(108)).default);t.default=f},257:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(25)),i=r(n(49)),l=r(n(56)),c=r(n(13)),u=r(n(15)),s=r(n(16)),d=r(n(27)),f=r(n(28)),p=r(n(26)),m=r(n(1)),h=n(18),g=n(854),b=n(19),v=n(42),y=r(n(255)),w=r(n(855)),O=n(106),C=r(n(856)),E=["html"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,p.default)(e);if(t){var a=(0,p.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var j=function(e){(0,d.default)(f,e);var t,n,r,c=S(f);function f(){return(0,u.default)(this,f),c.apply(this,arguments)}return(0,s.default)(f,[{key:"serializeArgsInClient",value:function(e){return x(x({},e),{},{config:(0,b.isStateTreeNode)(e.config)?(0,b.getSnapshot)(e.config):e.config,filters:e.filters&&e.filters.toJSON().filters})}},{key:"deserializeResultsInClient",value:function(e,t){e.html;var n=(0,l.default)(e,E);return t.exportSVG?x(x({},e),{},{html:this.supportsSVG?e.html:'<text y="12" fill="black">SVG export not supported for this track</text>'}):x(x({},n),{},{reactElement:m.default.createElement(C.default,(0,i.default)({},t,e,{RenderingComponent:this.ReactComponent}))})}},{key:"deserializeArgsInWorker",value:function(e){var t=x({},e);return t.config=this.configSchema.create(e.config||{},{pluginManager:this.pluginManager}),t.filters=new w.default({filters:e.filters}),t}},{key:"serializeResultsInWorker",value:function(e,t){var n=(0,g.renderToString)(m.default.createElement(h.ThemeProvider,{theme:(0,O.createJBrowseTheme)(t.theme)},e.reactElement));return delete e.reactElement,x(x({},e),{},{html:n})}},{key:"renderInClient",value:(r=(0,o.default)(a.default.mark((function e(t,n){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.call(n.sessionId,"CoreRender",n));case 1:case"end":return e.stop()}}),e)}))),function(e,t){return r.apply(this,arguments)})},{key:"renderInWorker",value:(n=(0,o.default)(a.default.mark((function e(t){var n,r,o,i,l,c,u=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.signal,r=t.statusCallback,o=void 0===r?function(){}:r,(0,v.checkAbortSignal)(n),i=this.deserializeArgsInWorker(t),(0,v.checkAbortSignal)(n),e.next=6,(0,v.updateStatus)("Rendering plot",o,(function(){return u.render(i)}));case 6:return l=e.sent,(0,v.checkAbortSignal)(n),e.next=10,(0,v.updateStatus)("Serializing results",o,(function(){return u.serializeResultsInWorker(l,i)}));case 10:return c=e.sent,e.abrupt("return",c);case 12:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"freeResourcesInClient",value:(t=(0,o.default)(a.default.mark((function e(t,n){var r,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.serializeArgsInClient(n),o=this.freeResources(),e.next=4,t.call(n.sessionId,"CoreFreeResources",r);case 4:return i=e.sent,e.abrupt("return",o+i);case 6:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),f}(y.default);t.default=j},333:function(e,t,n){"use strict";n.r(t);var r=n(860);n.d(t,"default",(function(){return r.a}))},334:function(e,t,n){"use strict";var r=n(1278);n.d(t,"a",(function(){return r.a}))},335:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(21)),i=r(n(25)),l=r(n(15)),c=r(n(16)),u=r(n(35)),s=r(n(27)),d=r(n(28)),f=r(n(26)),p=r(n(13)),m=r(n(108)),h=n(99),g=n(19),b=n(129),v=n(842);function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,p.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,f.default)(e);if(t){var a=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,d.default)(this,n)}}var k=function(e){(0,s.default)(O,e);var t,n,r,d,f,m,w=E(O);function O(e){var t;return(0,l.default)(this,O),(t=w.call(this,{name:""})).pluginManager=e,(0,p.default)((0,u.default)(t),"name","UNKNOWN"),t}return(0,c.default)(O,[{key:"serializeArguments",value:(m=(0,i.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,h.getBlobMap)(),e.next=3,this.augmentLocationObjects(t);case 3:return e.abrupt("return",C(C({},t),{},{blobMap:r}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return m.apply(this,arguments)})},{key:"serializeNewAuthArguments",value:(f=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.pluginManager.rootModel,(0,b.isAppRootModel)(n)&&!t.internetAccountPreAuthorization){e.next=3;break}return e.abrupt("return",t);case 3:if(!(r=null==n?void 0:n.findAppropriateInternetAccount(t))){e.next=8;break}return e.next=7,r.getPreAuthorizationInformation(t);case 7:t.internetAccountPreAuthorization=e.sent;case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return f.apply(this,arguments)})},{key:"deserializeArguments",value:(d=(0,i.default)(a.default.mark((function e(t,n){var r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.blobMap&&(0,h.setBlobMap)(t.blobMap),!(r=t.signal)||!(0,v.isRemoteAbortSignal)(r)){e.next=4;break}return e.abrupt("return",C(C({},t),{},{signal:(0,v.deserializeAbortSignal)(r)}));case 4:return e.abrupt("return",C(C({},t),{},{signal:void 0}));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return d.apply(this,arguments)})},{key:"serializeReturn",value:(r=(0,i.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"deserializeReturn",value:(n=(0,i.default)(a.default.mark((function e(t,n,r){var o,i,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.pluginManager.rootModel,e.prev=1,e.next=4,t;case 4:o=e.sent,e.next=13;break;case 7:if(e.prev=7,e.t0=e.catch(1),!(0,b.isAuthNeededException)(e.t0)){e.next=12;break}throw l=null==i?void 0:i.createEphemeralInternetAccount("HTTPBasicInternetAccount-".concat(new URL(e.t0.url).origin),{},e.t0.url),new b.RetryError("Retrying with created internet account",l.internetAccountId);case 12:throw e.t0;case 13:return e.abrupt("return",o);case 14:case"end":return e.stop()}}),e,this,[[1,7]])}))),function(e,t,r){return n.apply(this,arguments)})},{key:"augmentLocationObjects",value:(t=(0,i.default)(a.default.mark((function e(t){var n,r,i,l,c,u,s,d,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,g.isStateTreeNode)(t)||(0,g.isAlive)(t)){e.next=2;break}return e.abrupt("return",t);case 2:if(!(0,b.isUriLocation)(t)){e.next=5;break}return e.next=5,this.serializeNewAuthArguments(t);case 5:if(!Array.isArray(t)){e.next=23;break}n=y(t),e.prev=7,n.s();case 9:if((r=n.n()).done){e.next=15;break}return i=r.value,e.next=13,this.augmentLocationObjects(i);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:if("object"!==(0,o.default)(t)||null===t){e.next=53;break}l=0,c=Object.values(t);case 25:if(!(l<c.length)){e.next=53;break}if(u=c[l],!Array.isArray(u)){e.next=47;break}s=y(u),e.prev=29,s.s();case 31:if((d=s.n()).done){e.next=37;break}return f=d.value,e.next=35,this.augmentLocationObjects(f);case 35:e.next=31;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(29),s.e(e.t1);case 42:return e.prev=42,s.f(),e.finish(42);case 45:e.next=50;break;case 47:if("object"!==(0,o.default)(u)||null===u){e.next=50;break}return e.next=50,this.augmentLocationObjects(u);case 50:l++,e.next=25;break;case 53:case"end":return e.stop()}}),e,this,[[7,17,20,23],[29,39,42,45]])}))),function(e){return t.apply(this,arguments)})}]),O}(m.default);t.default=k},336:function(e,t,n){"use strict";n.r(t);var r=n(839);n.d(t,"default",(function(){return r.a}))},337:function(e,t,n){"use strict";n.r(t);var r=n(870);n.d(t,"default",(function(){return r.a}))},338:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAttributes=t.Attributes=void 0,t.BaseCard=R,t.useStyles=t.default=t.SimpleValue=t.FieldName=t.FeatureDetails=t.BasicValue=t.BaseCoreDetails=void 0;var o=r(n(56)),i=r(n(49)),l=r(n(13)),c=r(n(40)),u=r(n(23)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),d=n(676),f=n(29),p=r(n(180)),m=n(466),h=n(34),g=r(n(12)),b=r(n(677)),v=n(41),y=n(42),w=r(n(841)),O=r(n(1291)),C=n(848),E=["id"];function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=["length","position","subfeatures","uniqueId","exonFrames","parentId","thickStart","thickEnd"],P=["name","start","end","strand","refName","description","type"],T=(0,f.makeStyles)((function(e){return{expansionPanelDetails:{display:"block",padding:e.spacing(1)},expandIcon:{color:"#FFFFFF"},field:{display:"flex",flexWrap:"wrap"},fieldDescription:{"&:hover":{background:"yellow"}},fieldName:{wordBreak:"break-all",minWidth:"90px",borderBottom:"1px solid #0003",background:e.palette.grey[200],marginRight:e.spacing(1),padding:e.spacing(.5)},fieldValue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),overflow:"auto"},fieldSubvalue:{wordBreak:"break-word",maxHeight:300,padding:e.spacing(.5),background:e.palette.grey[100],border:"1px solid ".concat(e.palette.grey[300]),boxSizing:"border-box",overflow:"auto"}}}));function R(e){var t=e.children,n=e.title,r=e.defaultExpanded,a=void 0===r||r,o=T(),i=(0,s.useState)(a),l=(0,u.default)(i,2),c=l[0],d=l[1];return s.default.createElement(f.Accordion,{expanded:c,onChange:function(){return d((function(e){return!e}))},TransitionProps:{unmountOnExit:!0}},s.default.createElement(f.AccordionSummary,{expandIcon:s.default.createElement(p.default,{className:o.expandIcon})},s.default.createElement(f.Typography,{variant:"button"}," ",n)),s.default.createElement(f.AccordionDetails,{className:o.expansionPanelDetails},t))}t.useStyles=T;var M=function(e){var t=e.description,n=e.name,r=e.prefix,a=void 0===r?[]:r,o=e.width,i=T(),l=[].concat((0,c.default)(a),[n]).join(".");return t?s.default.createElement(f.Tooltip,{title:t,placement:"left"},s.default.createElement("div",{className:(0,g.default)(i.fieldDescription,i.fieldName)},l)):s.default.createElement("div",{className:i.fieldName,style:{width:o}},l)};t.FieldName=M;var I=function(e){var t=e.value,n=T();return s.default.createElement("div",{className:n.fieldValue},s.default.isValidElement(t)?t:s.default.createElement(w.default,{html:(0,b.default)(t)?JSON.stringify(t):String(t)}))};t.BasicValue=I;var A=function(e){var t=e.name,n=e.value,r=e.description,a=e.prefix,o=e.width,i=T();return null!=n?s.default.createElement("div",{className:i.field},s.default.createElement(M,{prefix:a,description:r,name:t,width:o}),s.default.createElement(I,{value:n})):null};t.SimpleValue=A;var L=function(e){var t=e.name,n=e.value,r=e.description,a=e.prefix,o=void 0===a?[]:a,i=T();return s.default.createElement(s.default.Fragment,null,1===n.length?(0,b.default)(n[0])?s.default.createElement(D,{attributes:n[0],prefix:[].concat((0,c.default)(o),[t])}):s.default.createElement("div",{className:i.field},s.default.createElement(M,{prefix:o,description:r,name:t}),s.default.createElement(I,{value:n[0]})):n.every((function(e){return(0,b.default)(e)}))?n.map((function(e,n){return s.default.createElement(D,{key:JSON.stringify(e)+"-"+n,attributes:e,prefix:[].concat((0,c.default)(o),[t+"-"+n])})})):s.default.createElement("div",{className:i.field},s.default.createElement(M,{prefix:o,description:r,name:t}),n.map((function(e,t){return s.default.createElement("div",{key:JSON.stringify(e)+"-"+t,className:i.fieldSubvalue},s.default.createElement(I,{value:e}))}))))};function F(e){var t=e.feature,n=t,r=n.refName,a=n.start,o=n.end,i=n.strand,l={"-1":"-",0:"",1:"+"},c=l[i]?"(".concat(l[i],")"):"",d=(a+1).toLocaleString("en-US"),f=o.toLocaleString("en-US"),p=r?"".concat(r,":"):"",m=S(S({},t),{},{length:(o-a).toLocaleString("en-US"),position:"".concat(p).concat(d,"..").concat(f," ").concat(c)});return s.default.createElement(s.default.Fragment,null,["Position","Description","Name","Length","Type"].map((function(e){return[e,m[e.toLowerCase()]]})).filter((function(e){var t=(0,u.default)(e,2)[1];return null!=t})).map((function(e){var t=(0,u.default)(e,2),n=t[0],r=t[1];return s.default.createElement(A,{key:n,name:n,value:r})})))}t.BaseCoreDetails=function(e){return s.default.createElement(R,(0,i.default)({},e,{title:"Primary data"}),s.default.createElement(F,e))};var N=function(e){var t=e.value,n=e.prefix,r=e.name,a=Object.keys(t[0]).sort(),i=new Set(a);if(t.forEach((function(e){return Object.keys(e).forEach((function(e){return i.add(e)}))})),i.size<a.length+5){var l,d=Object.entries(t).map((function(e){var t=(0,u.default)(e,2),n=t[0],r=t[1];return S({id:n,identifier:r.id},(0,o.default)(r,E))}));i.has("id")?(i.delete("id"),l=["identifier"].concat((0,c.default)(i))):l=(0,c.default)(i);var f=l.map((function(e){return{field:e,width:Math.max.apply(Math,(0,c.default)(d.map((function(t){var n=String(t[e]);return Math.min(Math.max((0,y.measureText)(n,14)+50,80),1e3)}))))}}));return s.default.createElement(s.default.Fragment,null,s.default.createElement(M,{prefix:n,name:r}),s.default.createElement("div",{style:{height:20*Math.min(d.length,100)+50+(d.length<100?0:50),width:"100%"}},s.default.createElement(m.DataGrid,{disableSelectionOnClick:!0,rowHeight:20,headerHeight:25,rows:d,rowsPerPageOptions:[],hideFooterRowCount:!0,hideFooterSelectedRowCount:!0,columns:f,hideFooter:d.length<100})))}return null};var D=function e(t){var n=t.attributes,r=t.omit,a=void 0===r?[]:r,o=t.descriptions,i=t.formatter,l=void 0===i?function(e){return e}:i,d=t.prefix,f=void 0===d?[]:d,p=[].concat((0,c.default)(a),j),m=function(e,t){var n=[];return e.forEach((function(e,r){var a=[].concat((0,c.default)(t),[e[0]]).join(".");n.push((0,y.measureText)(a,12))})),Math.ceil(Math.max.apply(Math,n))+10}(Object.entries(n).filter((function(e){var t=(0,u.default)(e,2),n=t[0];return void 0!==t[1]&&!p.includes(n)})),f),h=m<=170?m:170;return s.default.createElement(s.default.Fragment,null,Object.entries(n).filter((function(e){var t=(0,u.default)(e,2),n=t[0];return void 0!==t[1]&&!p.includes(n)})).map((function(t){var n=(0,u.default)(t,2),r=n[0],a=n[1];if(Array.isArray(a)&&a.length>2&&a.every((function(e){return(0,b.default)(e)})))return s.default.createElement(N,{key:r,prefix:f,name:r,value:a});var i=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.forEach((function(e){n&&(n=n[e])})),"string"==typeof n?n:"string"==typeof(null===(t=n)||void 0===t?void 0:t.Description)?n.Description:void 0}([].concat((0,c.default)(f),[r]),o);return Array.isArray(a)?s.default.createElement(L,{key:r,name:r,value:a,description:i,prefix:f}):(0,b.default)(a)?s.default.createElement(e,{omit:p,key:r,attributes:a,descriptions:o,prefix:[].concat((0,c.default)(f),[r])}):s.default.createElement(A,{key:r,name:r,value:l(a,r),description:i,prefix:f,width:h})})))};t.Attributes=D;t.BaseAttributes=function(e){var t=e.feature;return s.default.createElement(R,(0,i.default)({},e,{title:"Attributes"}),s.default.createElement(D,(0,i.default)({},e,{attributes:t})))};var _=function e(t){var n=t.omit,r=void 0===n?[]:n,a=t.model,o=t.feature,l=t.depth,u=void 0===l?0:l,p=o.name,m=void 0===p?"":p,h=o.id,g=void 0===h?"":h,b=o.type,w=void 0===b?"":b,E=o.subfeatures,k=(0,y.getSession)(a),x=(0,v.getConf)(k,["featureDetails","sequenceTypes"])||["mRNA","transcript"];return s.default.createElement(R,{title:[(0,C.ellipses)(m||g),w].filter((function(e){return!!e})).join(" - ")},s.default.createElement(f.Typography,null,"Core details"),s.default.createElement(F,t),s.default.createElement(f.Divider,null),s.default.createElement(f.Typography,null,"Attributes"),s.default.createElement(D,(0,i.default)({attributes:o},t,{omit:[].concat((0,c.default)(r),P)})),x.includes(o.type)?s.default.createElement(d.ErrorBoundary,{FallbackComponent:function(e){var t=e.error;return s.default.createElement(f.Typography,{color:"error"},"Failed to fetch sequence for feature: ","".concat(t))}},s.default.createElement(O.default,t)):null,null!=E&&E.length?s.default.createElement(R,{title:"Subfeatures",defaultExpanded:!x.includes(o.type)},E.map((function(t){return s.default.createElement(e,{key:JSON.stringify(t),feature:t,model:a,depth:u+1})}))):null)};t.FeatureDetails=_;var z=(0,h.observer)((function(e){var t=e.model,n=t.featureData;if(!n)return null;var r,a=JSON.parse(JSON.stringify(n));return r=a,0===Object.keys(r).length?null:s.default.createElement(_,{model:t,feature:a})}));t.default=z},339:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.clearAdapterCache=function(){u={}},t.freeAdapterResources=function(e){var t=0,n=Object.keys(e);if(1===n.length&&"sessionId"===n[0]){var r=e.sessionId;Object.entries(u).forEach((function(e){var n=(0,o.default)(e,2),a=n[0],i=n[1];i.sessionIds.delete(r),0===i.sessionIds.size&&(t+=1,delete u[a])}))}else Object.values(u).forEach((function(t){t.dataAdapter.freeResources?(e.regions||(e.region?[e.region]:[])).forEach((function(e){void 0!==e.refName&&t.dataAdapter.freeResources(e)})):console.warn(t.dataAdapter,"does not implement freeResources")}));return t},t.getAdapter=s;var a=r(n(22)),o=r(n(23)),i=r(n(25)),l=r(n(847));function c(e){return"".concat((0,l.default)(e))}var u={};function s(e,t,n){return d.apply(this,arguments)}function d(){return(d=(0,i.default)(a.default.mark((function e(t,n,r){var o,i,l,d,f,p,m,h,g,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=c(r),u[o]){e.next=21;break}if(i=(r||{}).type){e.next=5;break}throw new Error("could not determine adapter type from adapter config snapshot");case 5:if(l=t.getAdapterType(i)){e.next=8;break}throw new Error("unknown data adapter type ".concat(i));case 8:if(d=l.configSchema.create(r,{pluginManager:t}),f=s.bind(null,t,n),p=l.AdapterClass,m=l.getAdapterClass,e.t0=p,e.t0){e.next=16;break}return e.next=15,m();case 15:e.t0=e.sent;case 16:if(h=e.t0){e.next=19;break}throw new Error("Failed to get adapter");case 19:g=new h(d,f,t),u[o]={dataAdapter:g,sessionIds:new Set([n])};case 21:return(b=u[o]).sessionIds.add(n),e.abrupt("return",b);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},340:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(27)),l=r(n(28)),c=r(n(26));function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,c.default)(e);if(t){var a=(0,c.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.default)(this,n)}}var s=function(e){(0,i.default)(n,e);var t=u(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,a.default)(n)}(r(n(188)).default);t.default=s},41:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={ConfigurationSchema:!0,ConfigurationReference:!0};Object.defineProperty(t,"ConfigurationReference",{enumerable:!0,get:function(){return a.ConfigurationReference}}),Object.defineProperty(t,"ConfigurationSchema",{enumerable:!0,get:function(){return a.ConfigurationSchema}});var a=n(457),o=n(831);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(r,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}))},42:function(e,t,n){"use strict";(function(e){var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0});var o={inDevelopment:!0,inProduction:!0,useDebounce:!0,useDebouncedCallback:!0,findParentThat:!0,springAnimate:!0,findParentThatIs:!0,getSession:!0,getContainingView:!0,getContainingTrack:!0,getContainingDisplay:!0,assembleLocString:!0,parseLocStringOneBased:!0,parseLocString:!0,compareLocs:!0,compareLocStrings:!0,clamp:!0,bpToPx:!0,radToDeg:!0,degToRad:!0,polarToCartesian:!0,cartesianToPolar:!0,featureSpanPx:!0,bpSpanPx:!0,objectFromEntries:!0,iterMap:!0,mergeConfigs:!0,findLastIndex:!0,makeAbortableReaction:!0,renameRegionIfNeeded:!0,renameRegionsIfNeeded:!0,minmax:!0,stringify:!0,isElectron:!0,revcom:!0,complement:!0,blobToDataURL:!0,rIC:!0,measureText:!0,defaultStarts:!0,defaultStops:!0,defaultCodonTable:!0,generateCodonTable:!0,updateStatus:!0,hashCode:!0,objectHash:!0,bytesForRegions:!0,viewBpToPx:!0,getBpDisplayStr:!0,SimpleFeature:!0,isFeature:!0};Object.defineProperty(t,"SimpleFeature",{enumerable:!0,get:function(){return b.default}}),t.assembleLocString=function(e){var t,n,r=e.assemblyName,a=e.refName,o=e.start,i=e.end,l=e.reversed,c=r?"{".concat(r,"}"):"";t=void 0!==o?":".concat((o+1).toLocaleString("en-US")):void 0!==i?":1":"";n=void 0!==i?void 0!==o&&o+1===i?"":"..".concat(i.toLocaleString("en-US")):void 0!==o?"..":"";var u="";l&&(u="[rev]");return"".concat(c).concat(a).concat(t).concat(n).concat(u)},t.blobToDataURL=function(e){var t=new FileReader;return new Promise((function(n,r){t.onload=function(e){e.target?n(e.target.result):r(new Error("unknown result reading blob from canvas"))},t.readAsDataURL(e)}))},t.bpSpanPx=_,t.bpToPx=F,t.bytesForRegions=function(e,t){return J.apply(this,arguments)},t.cartesianToPolar=function(e,t){var n=Math.sqrt(e*e+t*t),r=Math.atan(t/e);return[n,r]},t.clamp=function(e,t,n){if(e<t)return t;if(e>n)return n;return e},t.compareLocStrings=function(e,t,n){var r=A(e,n),a=A(t,n);return L(r,a)},t.compareLocs=L,t.defaultStops=t.defaultStarts=t.defaultCodonTable=t.complement=void 0,t.degToRad=function(e){return e*D%(2*Math.PI)},t.featureSpanPx=function(e,t,n){return _(e.get("start"),e.get("end"),t,n)},t.findLastIndex=function(e,t){var n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1},t.findParentThat=R,t.findParentThatIs=M,t.generateCodonTable=function(e){var t={};return Object.keys(e).forEach((function(n){for(var r=e[n],a=[],o=0;o<3;o++){var i=n.charAt(o);a[o]=[],a[o][0]=i.toUpperCase(),a[o][1]=i.toLowerCase()}for(var l=0;l<2;l++)for(var c=a[0][l],u=0;u<2;u++)for(var s=a[1][u],d=0;d<2;d++){var f=a[2][d];t[c+s+f]=r}})),t},t.getBpDisplayStr=function(e){var t;t=Math.floor(e/1e6)>0?"".concat(parseFloat((e/1e6).toPrecision(3)),"Mbp"):Math.floor(e/1e3)>0?"".concat(parseFloat((e/1e3).toPrecision(3)),"Kbp"):"".concat(Math.floor(e),"bp");return t},t.getContainingDisplay=function(e){try{return M(e,v.isDisplayModel)}catch(e){throw new Error("no containing display found")}},t.getContainingTrack=function(e){try{return M(e,v.isTrackModel)}catch(e){throw new Error("no containing track found")}},t.getContainingView=function(e){try{return M(e,v.isViewModel)}catch(e){throw new Error("no containing view found")}},t.getSession=function(e){try{return M(e,v.isSessionModel)}catch(e){throw new Error("no session model found!")}},t.hashCode=K,t.isElectron=t.inProduction=t.inDevelopment=void 0,Object.defineProperty(t,"isFeature",{enumerable:!0,get:function(){return b.isFeature}}),t.iterMap=function(e,t,n){var r,a=n?new Array(n):[],o=0,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(e);try{for(i.s();!(r=i.n()).done;){var l=r.value;a[o]=t(l),o+=1}}catch(e){i.e(e)}finally{i.f()}return a},t.makeAbortableReaction=function(e,t,n,r,a,o,l){var u;function s(t){(0,y.isAbortException)(t)||((0,p.isAlive)(e)?l(t):console.error(t))}var d=(0,m.reaction)((function(){try{return t(e)}catch(e){return void s(e)}}),function(){var t=(0,c.default)(i.default.mark((function t(r,l){var c,d;return i.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u&&!u.signal.aborted&&u.abort(),(0,p.isAlive)(e)){t.next=3;break}return t.abrupt("return");case 3:return u=new AbortController,a(c=u),t.prev=6,t.next=9,n(r,c.signal,e,l);case 9:d=t.sent,(0,y.checkAbortSignal)(c.signal),(0,p.isAlive)(e)&&o(d),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(6),c&&!c.signal.aborted&&c.abort(),s(t.t0);case 18:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,n){return t.apply(this,arguments)}}(),r);(0,p.addDisposer)(e,d),(0,p.addDisposer)(e,(function(){u&&!u.signal.aborted&&u.abort()}))},t.measureText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2796875,.2765625,.3546875,.5546875,.5546875,.8890625,.665625,.190625,.3328125,.3328125,.3890625,.5828125,.2765625,.3328125,.2765625,.3015625,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.5546875,.2765625,.2765625,.584375,.5828125,.584375,.5546875,1.0140625,.665625,.665625,.721875,.721875,.665625,.609375,.7765625,.721875,.2765625,.5,.665625,.5546875,.8328125,.721875,.7765625,.665625,.7765625,.721875,.665625,.609375,.721875,.665625,.94375,.665625,.665625,.609375,.2765625,.3546875,.2765625,.4765625,.5546875,.3328125,.5546875,.5546875,.5,.5546875,.5546875,.2765625,.5546875,.5546875,.221875,.240625,.5,.221875,.8328125,.5546875,.5546875,.5546875,.5546875,.3328125,.5,.2765625,.5546875,.5,.721875,.5,.5,.5,.3546875,.259375,.353125,.5890625],r=.5279276315789471;return String(e).split("").map((function(e){return e.charCodeAt(0)<n.length?n[e.charCodeAt(0)]:r})).reduce((function(e,t){return t+e}),0)*t},t.mergeConfigs=function(e,t){var n=(0,g.default)(e,t);t.defaultSession?n.defaultSession=t.defaultSession:e.defaultSession&&(n.defaultSession=e.defaultSession);return n},t.minmax=function(e,t){return[Math.min(e,t),Math.max(e,t)]},t.objectFromEntries=void 0,t.objectHash=function(e){return"".concat(K(JSON.stringify(e)))},t.parseLocString=A,t.parseLocStringOneBased=I,t.polarToCartesian=function(e,t){return[e*Math.cos(t),e*Math.sin(t)]},t.rIC=void 0,t.radToDeg=function(e){return e*N%360},t.renameRegionIfNeeded=B,t.renameRegionsIfNeeded=function(e,t){return H.apply(this,arguments)},t.revcom=function(e){return U(e).split("").reverse().join("")},t.springAnimate=function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:170,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:26,c=1;o||(o=Math.abs(t-e)/1e3);function u(e){var s=Date.now(),d=e.lastPosition,f=e.lastTime||s,p=e.lastVelocity||0;s>f+64&&(f=s);for(var m=Math.floor(s-f),h=0;h<m;++h){d+=1*(p+=1*((-i*(d-t)+-l*p)/c)/1e3)/1e3}var g=Math.abs(p)<=o,b=0===i||Math.abs(t-d)<=o;g&&b?(n(t),a()):(n(d),r=requestAnimationFrame((function(){return u({lastPosition:d,lastTime:s,lastVelocity:p})})))}return[function(){return u({lastPosition:e})},function(){return cancelAnimationFrame(r)}]},t.stringify=function(e){var t=e.refName,n=e.coord,r=e.oob;return"".concat(t,":").concat(n.toLocaleString("en-US")).concat(r?" (out of bounds)":"")},t.updateStatus=function(e,t,n){return $.apply(this,arguments)},t.useDebounce=function(e,t){var n=(0,f.useState)(e),r=(0,s.default)(n,2),a=r[0],o=r[1];return(0,f.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),a},t.useDebouncedCallback=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=(0,f.useRef)(),r=(0,f.useRef)();function a(){r.current&&clearTimeout(r.current)}return(0,f.useEffect)((function(){return a}),[]),function(){for(var o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];n.current=i,a(),r.current=setTimeout((function(){n.current&&e.apply(void 0,(0,u.default)(n.current))}),t)}},t.viewBpToPx=function(e){var t=e.refName,n=e.coord,r=e.regionNumber,a=e.self,o=0,i=a.interRegionPaddingWidth*a.bpPerPx,l=a.minimumBlockWidth*a.bpPerPx,c=a.displayedRegions.findIndex((function(e,c){var u=e.end-e.start;return t===e.refName&&n>=e.start&&n<=e.end&&(!r||r===c)?(o+=e.reversed?e.end-n:n-e.start,!0):(u>l&&o/a.bpPerPx>=0&&o/a.bpPerPx<a.width?o+=u+i:o+=u,!1)}));if(a.displayedRegions[c])return{index:c,offsetPx:Math.round(o/a.bpPerPx)};return};var i=r(n(22)),l=r(n(13)),c=r(n(25)),u=r(n(40)),s=r(n(23)),d=r(n(21)),f=n(1),p=n(19),m=n(46),h=r(n(387)),g=r(n(282)),b=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(107)),v=n(129);Object.keys(v).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===v[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}}))}));var y=n(834);Object.keys(y).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===y[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}}))}));var w=n(1273);Object.keys(w).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===w[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return w[e]}}))}));var O=n(835);Object.keys(O).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===O[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return O[e]}}))}));var C=n(459);Object.keys(C).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===C[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return C[e]}}))}));var E=n(836);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){(0,l.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object.keys(E).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(o,e)||e in t&&t[e]===E[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return E[e]}}))})),Object.fromEntries||h.default.shim();var P="object"===(void 0===e?"undefined":(0,d.default)(e))&&e.env&&!1;t.inDevelopment=P;var T=!P;function R(e,t){if(!(0,p.hasParent)(e))throw new Error("node does not have parent");for(var n=(0,p.getParent)(e);n&&(0,p.isAlive)(n);){if(t(n))return n;if(!(0,p.hasParent)(n))break;n=(0,p.getParent)(n)}throw new Error("no matching node found")}function M(e,t){return R(e,t)}function I(e,t){if(!e)throw new Error("no location string provided, could not parse");var n=!1;e.endsWith("[rev]")&&(n=!0,e=e.replace(/\[rev\]$/,""));var r=(e=e.replace(/\s/,"")).match(/(\{(.+)\})?(.+)/);if(!r)throw new Error('invalid location string: "'.concat(e,'"'));var a=(0,s.default)(r,4),o=a[2],i=a[3];if(!o&&i.startsWith("{}"))throw new Error('no assembly name was provided in location "'.concat(i,'"'));var l=i.lastIndexOf(":");if(-1===l){if(t(i,o))return{assemblyName:o,refName:i,reversed:n};throw new Error('Unknown reference sequence "'.concat(i,'"'))}var c=i.slice(0,l),u=i.slice(l+1);if(t(c,o)&&t(i,o))throw new Error('ambiguous location string: "'.concat(e,'"'));if(t(c,o)){if(!u)return{assemblyName:o,refName:c,reversed:n};var d=u.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)(-?(\d+|\d{1,3}(,\d{3})*))$/),f=u.match(/^(-?(\d+|\d{1,3}(,\d{3})*))(\.\.|-)?$/);if(d){var p=(0,s.default)(d,6),m=p[1],h=p[5];if(void 0!==m&&void 0!==h)return{assemblyName:o,refName:c,start:+m.replace(/,/g,""),end:+h.replace(/,/g,""),reversed:n}}else{if(!f)throw new Error('could not parse range "'.concat(u,'" on location "').concat(e,'"'));var g=(0,s.default)(f,5),b=g[1],v=g[4];if(void 0!==b)return v?{assemblyName:o,refName:c,start:+b.replace(/,/g,""),reversed:n}:{assemblyName:o,refName:c,start:+b.replace(/,/g,""),end:+b.replace(/,/g,""),reversed:n}}}else if(t(i,o))return{assemblyName:o,refName:i,reversed:n};throw new Error('unknown reference sequence name in location "'.concat(e,'"'))}function A(e,t){var n=I(e,t);return"number"==typeof n.start&&(n.start-=1),n}function L(e,t){var n=e.assemblyName||t.assemblyName?(e.assemblyName||"").localeCompare(t.assemblyName||""):0;if(n)return n;var r=e.refName||t.refName?(e.refName||"").localeCompare(t.refName||""):0;if(r)return r;if(void 0!==e.start&&void 0!==t.start){var a=e.start-t.start;if(a)return a}if(void 0!==e.end&&void 0!==t.end){var o=e.end-t.end;if(o)return o}return 0}function F(e,t,n){var r,a=t.reversed,o=t.end,i=void 0===o?0:o,l=t.start;return r=(a?i-e:e-(void 0===l?0:l))/n,Math.round(10*r)/10}t.inProduction=T;var N=180/Math.PI,D=Math.PI/180;function _(e,t,n,r){var a=F(e,n,r),o=F(t,n,r);return n.reversed?[o,a]:[a,o]}var z=Object.fromEntries.bind(Object);function B(e,t){if((0,p.isStateTreeNode)(t)&&!(0,p.isAlive)(t))return t;if(t&&e&&e[t.refName]){var n=e[(t=(0,p.isStateTreeNode)(t)?S({},(0,p.getSnapshot)(t)):S({},t)).refName];if(n)return S(S({},t),{},{refName:n,originalRefName:t.refName})}return t}function H(){return(H=(0,c.default)(i.default.mark((function e(t,n){var r,a,o,l,u;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.regions,a=void 0===r?[]:r,o=n.adapterConfig,n.sessionId){e.next=3;break}throw new Error("sessionId is required");case 3:return l=a.map((function(e){return e.assemblyName})),e.t0=Object,e.next=7,Promise.all(l.map(function(){var e=(0,c.default)(i.default.mark((function e(r){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=r,e.next=3,t.getRefNameMapForAdapter(o,r,n);case 3:return e.t1=e.sent,e.abrupt("return",[e.t0,e.t1]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:return e.t1=e.sent,u=e.t0.fromEntries.call(e.t0,e.t1),e.abrupt("return",S(S({},n),{},{regions:a.map((function(e,t){return B(u[l[t]],e)}))}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.objectFromEntries=z;var W=/electron/i.test("undefined"!=typeof navigator?navigator.userAgent:"");t.isElectron=W;var V,G,U=(V=/[ACGT]/gi,G={S:"S",w:"w",T:"A",r:"y",a:"t",N:"N",K:"M",x:"x",d:"h",Y:"R",V:"B",y:"r",M:"K",h:"d",k:"m",C:"G",g:"c",t:"a",A:"T",n:"n",W:"W",X:"X",m:"k",v:"b",B:"V",s:"s",H:"D",c:"g",D:"H",b:"v",R:"Y",G:"C"},function(e){return e.replace(V,(function(e){return G[e]||""}))});t.complement=U;var q="undefined"==typeof jest?"undefined"!=typeof window&&window.requestIdleCallback?window.requestIdleCallback:function(e){return setTimeout((function(){return e()}),1)}:function(e){return e()};t.rIC=q;t.defaultStarts=["ATG"];t.defaultStops=["TAA","TAG","TGA"];function $(){return($=(0,c.default)(i.default.mark((function e(t,n,r){var a;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(t),e.next=3,r();case 3:return a=e.sent,n(""),e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t|=0}return t}function J(){return(J=(0,c.default)(i.default.mark((function e(t,n){var r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return n.blocksForRange(e.refName,e.start,e.end)})));case 2:return r=e.sent,e.abrupt("return",r.flat().map((function(e){return{start:e.minv.blockPosition,end:e.maxv.blockPosition+65535}})).reduce((function(e,t){return e+t.end-t.start}),0));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.defaultCodonTable={TCA:"S",TCC:"S",TCG:"S",TCT:"S",TTC:"F",TTT:"F",TTA:"L",TTG:"L",TAC:"Y",TAT:"Y",TAA:"*",TAG:"*",TGC:"C",TGT:"C",TGA:"*",TGG:"W",CTA:"L",CTC:"L",CTG:"L",CTT:"L",CCA:"P",CCC:"P",CCG:"P",CCT:"P",CAC:"H",CAT:"H",CAA:"Q",CAG:"Q",CGA:"R",CGC:"R",CGG:"R",CGT:"R",ATA:"I",ATC:"I",ATT:"I",ATG:"M",ACA:"T",ACC:"T",ACG:"T",ACT:"T",AAC:"N",AAT:"N",AAA:"K",AAG:"K",AGC:"S",AGT:"S",AGA:"R",AGG:"R",GTA:"V",GTC:"V",GTG:"V",GTT:"V",GCA:"A",GCC:"A",GCG:"A",GCT:"A",GAC:"D",GAT:"D",GAA:"E",GAG:"E",GGA:"G",GGC:"G",GGG:"G",GGT:"G"}}).call(this,n(64))},457:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationReference=function(e){return l.types.union(l.types.reference(e),e)},t.ConfigurationSchema=function(e,t,n){var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"!=typeof e)throw new Error("first arg must be string name of the model that this config schema goes with");var r=t,a=n;n.baseConfiguration&&n.baseConfiguration.jbrowseSchemaDefinition&&(r=f(f({},n.baseConfiguration.jbrowseSchemaDefinition),r),delete(a=f(f({},n.baseConfiguration.jbrowseSchemaOptions||{}),n)).baseConfiguration);return{schemaDefinition:r,options:a}}(e,t,n),d=r.schemaDefinition,m=r.options,h=function(e,t,n){var r,d={};n.explicitlyTyped&&(d.type=l.types.optional(l.types.literal(e),e));if(n.explicitIdentifier&&n.implicitIdentifier)throw new Error("Cannot have both explicit and implicit identifiers in ".concat(e));n.explicitIdentifier?"string"==typeof n.explicitIdentifier?(d[n.explicitIdentifier]=l.types.identifier,r=n.explicitIdentifier):(d.id=l.types.identifier,r="id"):n.implicitIdentifier&&("string"==typeof n.implicitIdentifier?(d[n.implicitIdentifier]=c.ElementId,r=n.implicitIdentifier):(d.id=c.ElementId,r="id"));var m={isJBrowseConfigurationSchema:!0,jbrowseSchema:{modelName:e,definition:t,options:n}};Object.entries(t).forEach((function(t){var n=(0,a.default)(t,2),r=n[0],o=n[1];if((0,l.isType)(o)&&(0,l.isLateType)(o)||(0,s.isConfigurationSchemaType)(o))d[r]=o;else if("string"==typeof o||"number"==typeof o)m[r]=o;else{if("object"!==(0,i.default)(o))throw new Error('invalid configuration schema definition, "'.concat(r,'" must be either a valid configuration slot definition, a constant, or a nested configuration schema'));if(!o.type)throw new Error("no type set for config slot ".concat(e,".").concat(r));try{d[r]=(0,u.default)(r,o)}catch(t){throw new Error("invalid config slot definition for ".concat(e,".").concat(r,": ").concat(t))}}}));var h=l.types.model("".concat(e,"ConfigurationSchema"),d).actions((function(e){return{setSubschema:function(t,n){if(!(0,s.isConfigurationSchemaType)(d[t]))throw new Error("".concat(t," is not a subschema, cannot replace"));var r=(0,l.isStateTreeNode)(n)?n:d[t].create(n);return e[t]=r,r}}}));Object.keys(m).length&&(h=h.volatile((function(){return m})));n.actions&&(h=h.actions(n.actions));n.views&&(h=h.views(n.views));n.extend&&(h=h.extend(n.extend));var g=r?(0,o.default)({},r,"placeholderId"):{},b=n.explicitlyTyped?f({type:e},g):g,v=(0,l.getSnapshot)(h.create(b));h=h.postProcessSnapshot((function(e){for(var t,n={},r=!0,o=0,l=Object.entries(e);o<l.length;o++){var c=(0,a.default)(l[o],2),u=c[0],s=c[1];r&&("object"===(0,i.default)(v[u])&&"object"===(0,i.default)(s)?JSON.stringify(v[u])!==JSON.stringify(s)&&(r=!1):v[u]!==s&&(r=!1)),void 0!==s&&void 0===m[u]&&(t=s,"object"!==(0,i.default)(t)||Array.isArray(t)||null===t||0!==Object.keys(t).length)&&!p(s)&&(n[u]=s)}return r?{}:n})),n.preProcessSnapshot&&(h=h.preProcessSnapshot(n.preProcessSnapshot));return l.types.optional(h,b)}(e,d,m);return h.isJBrowseConfigurationSchema=!0,h.jbrowseSchemaDefinition=d,h.jbrowseSchemaOptions=m,h};var a=r(n(23)),o=r(n(13)),i=r(n(21)),l=n(19),c=n(78),u=r(n(1266)),s=n(831);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){return Array.isArray(e)&&0===e.length}},458:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.stringToJexlExpression=function(e,t){var n="nosig|".concat(e);if(!o[n]){if(!e.startsWith("jexl:"))throw new Error("string does not appear to be in jexl format");var r=e.split("jexl:")[1],i=t?t.compile("".concat(r)):(0,a.default)().compile("".concat(r));o[n]=i}return o[n]};var a=r(n(830)),o={}},459:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.createImageBitmap=t.createCanvas=t.PonyfillOffscreenContext=t.PonyfillOffscreenCanvas=t.ImageBitmapType=void 0;var a,o,i,l=r(n(22)),c=r(n(21)),u=r(n(25)),s=r(n(40)),d=r(n(49)),f=r(n(23)),p=r(n(15)),m=r(n(16)),h=r(n(1)),g=r(n(651)),b=r(n(223)),v=r(n(305));t.createCanvas=a,t.createImageBitmap=o,t.ImageBitmapType=i;var y="function"==typeof OffscreenCanvas,w=v.default,O=function(){function e(t,n){(0,p.default)(this,e),this.width=t,this.height=n,this.commands=[],this.currentFont="12px Courier New, monospace"}return(0,m.default)(e,[{key:"strokeStyle",set:function(e){e!==this.currentStrokeStyle&&(this.commands.push({type:"strokeStyle",style:e}),this.currentStrokeStyle=e)}},{key:"fillStyle",set:function(e){e!==this.currentFillStyle&&(this.commands.push({type:"fillStyle",style:e}),this.currentFillStyle=e)}},{key:"font",set:function(e){this.currentFont=e,this.commands.push({type:"font",style:e})}},{key:"arc",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"arc",args:t})}},{key:"arcTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"arcTo",args:t})}},{key:"bezierCurveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"bezierCurveTo",args:t})}},{key:"beginPath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"beginPath",args:t})}},{key:"clearRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"clearRect",args:t})}},{key:"clip",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"clip",args:t})}},{key:"closePath",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"closePath",args:t})}},{key:"createLinearGradient",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"createLinearGradient",args:t})}},{key:"createPattern",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"createPattern",args:t})}},{key:"createRadialGradient",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"createRadialGradient",args:t})}},{key:"drawFocusIfNeeded",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"drawFocusIfNeeded",args:t})}},{key:"drawImage",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"drawImage",args:t})}},{key:"ellipse",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"ellipse",args:t})}},{key:"fill",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"fill",args:t})}},{key:"fillRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],a=t[1],o=t[2],i=t[3];if(!(r>this.width||r+o<0)){var l=Math.max(r,0),c=o-(l-r);this.commands.push({type:"fillRect",args:[l,a,c,i]})}}},{key:"fillText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"fillText",args:t})}},{key:"lineTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"lineTo",args:t})}},{key:"measureText",value:function(e){var t=+this.currentFont.match(/\d+/)[0];return{width:t/2*e.length,height:t}}},{key:"moveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"moveTo",args:t})}},{key:"quadraticCurveTo",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"quadraticCurveTo",args:t})}},{key:"rect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"rect",args:t})}},{key:"restore",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"restore",args:t})}},{key:"rotate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"rotate",args:t})}},{key:"save",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"save",args:t})}},{key:"setLineDash",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"setLineDash",args:t})}},{key:"setTransform",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"setTransform",args:t})}},{key:"scale",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"scale",args:t})}},{key:"stroke",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"stroke",args:t})}},{key:"strokeRect",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"strokeRect",args:t})}},{key:"strokeText",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"strokeText",args:t})}},{key:"transform",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"transform",args:t})}},{key:"translate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.commands.push({type:"translate",args:t})}}]),e}();function C(e){var t=(0,b.default)(e);return{hex:t.hex(),opacity:t.alpha()}}t.PonyfillOffscreenContext=O;var E=function(){function e(t,n){(0,p.default)(this,e),this.width=t,this.height=n}return(0,m.default)(e,[{key:"getContext",value:function(e){if("2d"!==e)throw new Error("unknown type ".concat(e));return this.context=new O(this.width,this.height),this.context}},{key:"getSerializedSvg",value:function(){var e,t,n,r,a=[],o=[];return this.context.commands.forEach((function(i,l){if("font"===i.type&&i.style){var c=function(e){var t,n=null,r=null,a="normal",o="normal",i="normal",l="normal",c=e.split(/\s+/);e:for(;t=c.shift();)switch(t){case"normal":break;case"italic":case"oblique":a=t;break;case"small-caps":i=t;break;case"bold":case"bolder":case"lighter":case"100":case"200":case"300":case"400":case"500":case"600":case"700":case"800":case"900":o=t;break;default:if(!r){var u=t.split("/");r=u[0],u.length>1&&(l=u[1]);break}n=t,c.length&&(n+=" ".concat(c.join(" ")));break e}return{fontStyle:a,fontVariant:i,fontWeight:o,fontSize:r,lineHeight:l,fontFamily:n}}(i.style),u=c.fontStyle,p=c.fontFamily,m=c.fontSize;r={fontStyle:u,fontFamily:p,fontSize:m}}if("fillStyle"===i.type&&i.style&&(e=i.style),"strokeStyle"===i.type&&i.style&&(t=i.style),"fillRect"===i.type){var b=(0,f.default)(i.args,4),v=b[0],y=b[1],w=b[2],O=b[3],E=C(e),k=E.hex,x=E.opacity,S=Math.min(y,y+O),j=Math.abs(O);o.push(h.default.createElement("rect",{key:l,fill:k,fillOpacity:1!==x?x:void 0,x:v.toFixed(3),y:S.toFixed(3),width:w.toFixed(3),height:j.toFixed(3)}))}if("fillText"===i.type){var P=(0,f.default)(i.args,3),T=P[0],R=P[1],M=P[2],I=C(e),A=I.hex,L=I.opacity;o.push(h.default.createElement("text",(0,d.default)({key:l,fill:A,fillOpacity:1!==L?L:void 0,x:R.toFixed(3),y:M.toFixed(3)},r),T))}if("beginPath"===i.type&&(a=[]),"moveTo"===i.type&&a.push(i.args),"lineTo"===i.type&&a.push(i.args),i.type,"fill"===i.type){for(var F,N=(F=(0,g.default)()).moveTo.apply(F,(0,s.default)(a[0])),D=1;D<a.length;D++){var _;N=(_=N).lineTo.apply(_,(0,s.default)(a[D]))}N.end();var z=C(e),B=z.hex,H=z.opacity;o.push(h.default.createElement("path",{key:l,fill:B,d:N,fillOpacity:1!==H?H:void 0}))}if("stroke"===i.type){for(var W,V=(W=(0,g.default)()).moveTo.apply(W,(0,s.default)(a[0])),G=1;G<a.length;G++){var U;V=(U=V).lineTo.apply(U,(0,s.default)(a[G]))}V.end();var q=C(t),$=q.hex,K=q.opacity;o.push(h.default.createElement("path",{key:l,fill:"none",stroke:$,fillOpacity:1!==K?K:void 0,d:V}))}"rotate"===i.type&&(n=180*i.args[0]/Math.PI)})),n?h.default.createElement("g",{transform:"rotate(".concat(n,")")},[].concat(o)):h.default.createElement(h.default.Fragment,null,[].concat(o))}}]),e}();if(t.PonyfillOffscreenCanvas=E,y)t.createCanvas=a=function(e,t){return new OffscreenCanvas(e,t)},t.createImageBitmap=o=window.createImageBitmap||self.createImageBitmap,t.ImageBitmapType=i=window.ImageBitmap||self.ImageBitmap;else if(w){var k=n(654),x=k.createCanvas,S=k.Image;t.createCanvas=a=x,t.createImageBitmap=o=function(){var e=(0,u.default)(l.default.mark((function e(t){var n,r,a=arguments;return l.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.length<=1||!(a.length-1)){e.next=2;break}throw new Error("only one-argument uses of createImageBitmap are supported by the node offscreencanvas ponyfill");case 2:return n=t.toDataURL(),r=new S,e.abrupt("return",new Promise((function(e,t){r.onload=function(){return e(r)},r.onerror=t,r.src=n})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.ImageBitmapType=i=S}else t.createCanvas=a=function(e,t){return new E(e,t)},t.createImageBitmap=o=function(e){return e.context},t.ImageBitmapType=i=(0,c.default)("StringArray")},460:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(49)),i=r(n(13)),l=r(n(23)),c=r(n(56)),u=r(n(91)),s=r(n(47)),d=n(18),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),p=["value","setValue","variant"];function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=(0,d.makeStyles)((function(e){return{input:{},inputBase:{},typography:{top:6,left:2,position:"absolute",whiteSpace:"nowrap",visibility:"hidden"},inputRoot:{padding:e.spacing(.5)},inputFocused:{borderStyle:"solid",borderRadius:e.shape.borderRadius,borderWidth:2}}})),v=f.default.forwardRef((function(e,t){var n=e.value,r=e.setValue,a=e.variant,i=(0,c.default)(e,p),m=(0,f.useState)(),h=(0,l.default)(m,2),v=h[0],y=h[1],w=(0,f.useState)(0),O=(0,l.default)(w,2),C=O[0],E=O[1],k=(0,f.useState)(null),x=(0,l.default)(k,2),S=x[0],j=x[1],P=(0,f.useState)(null),T=(0,l.default)(P,2),R=T[0],M=T[1],I=(0,f.useState)(!1),A=(0,l.default)(I,2),L=A[0],F=A[1];(0,f.useEffect)((function(){L&&(R&&R.blur(),F(!1))}),[L,R]);var N=b(e),D=(0,d.useTheme)(),_=S&&S.clientWidth;_&&_!==C&&E(_);return f.default.createElement("div",(0,o.default)({},i,{ref:t}),f.default.createElement("div",{style:{position:"relative"}},f.default.createElement(s.default,{ref:function(e){j(e)},component:"span",variant:a,className:N.typography},void 0===v?n:v)),f.default.createElement(u.default,{inputRef:function(e){M(e)},className:N.inputBase,inputProps:{style:g({width:C},a&&"inherit"!==a&&"srOnly"!==a?D.typography[a]:{})},classes:{input:N.input,root:N.inputRoot,focused:N.inputFocused},value:void 0===v?n:v,onChange:function(e){y(e.target.value)},onKeyDown:function(e){"Enter"===e.key?R&&R.blur():"Escape"===e.key&&(y(void 0),F(!0))},onBlur:function(){v&&v!==n&&r(v),y(void 0)}}))}));t.default=v},461:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=(0,n(29).makeStyles)((function(e){return{message:{border:"1px solid black",background:"#f88",overflow:"auto",maxHeight:200,margin:e.spacing(1),padding:e.spacing(1)},errorBox:{background:"lightgrey",border:"1px solid black",margin:20}}})),i=function(e){var t=e.error,n=o(),r="",i="".concat(t),l=i.indexOf("is not assignable");if(-1!==l){var c=i.slice(0,l+"is not assignable".length),u=c.match(/.*at path "(.*)" snapshot `(.*)` is not assignable/m);u&&(i="Failed to load element at ".concat(u[1],"...Failed element had snapshot"),r=u[2]);var s=c.match(/.*snapshot `(.*)` is not assignable/);s&&(i="Failed to load element...Failed element had snapshot",r=s[1])}return a.default.createElement("div",{className:n.message},i.slice(0,1e4),r?a.default.createElement("pre",{className:n.errorBox},JSON.stringify(JSON.parse(r),null,2)):null)};t.default=i},462:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1)),o=n(34),i=n(41),l=n(29),c=(0,l.makeStyles)((function(){return{importFormEntry:{minWidth:180}}})),u=(0,o.observer)((function(e){var t=e.session,n=e.onChange,r=e.selected,o=c(),u=t.assemblyNames,s=t.assemblyManager,d=u.length?"":"No configured assemblies";return a.default.createElement(l.TextField,{select:!0,label:"Assembly",variant:"outlined",margin:"normal",helperText:d||"Select assembly to view",value:d?"":r,inputProps:{"data-testid":"assembly-selector"},onChange:function(e){return n(e.target.value)},error:!!d,disabled:!!d,className:o.importFormEntry},u.map((function(e){var t=s.get(e),n=t?(0,i.getConf)(t,"displayName"):"";return a.default.createElement(l.MenuItem,{key:e,value:e},n||e)})))}));t.default=u},463:function(e,t,n){"use strict";e.exports=n(1279)},464:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(22)),o=r(n(23)),i=r(n(15)),l=r(n(16));function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((0,i.default)(this,t),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}return(0,l.default)(t,[{key:"_set",value:function(e,t){this.cache.set(e,t),this._size+=1,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}},{key:"get",value:function(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){var t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}},{key:"set",value:function(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}},{key:"has",value:function(e){return this.cache.has(e)||this.oldCache.has(e)}},{key:"peek",value:function(e){return this.cache.has(e)?this.cache.get(e):this.oldCache.has(e)?this.oldCache.get(e):void 0}},{key:"delete",value:function(e){var t=this.cache.delete(e);return t&&(this._size-=1),this.oldCache.delete(e)||t}},{key:"clear",value:function(){this.cache.clear(),this.oldCache.clear(),this._size=0}},{key:"keys",value:a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=(0,o.default)(n.value,1),i=r[0],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:"values",value:a.default.mark((function e(){var t,n,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c(this),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=(0,o.default)(n.value,2),i=r[1],e.next=7,i;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[1,11,14,17]])}))},{key:e,value:a.default.mark((function e(){var t,n,r,i,l,u,s,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=c(this.cache),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=9;break}return r=n.value,e.next=7,r;case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.e(e.t0);case 14:return e.prev=14,t.f(),e.finish(14);case 17:i=c(this.oldCache),e.prev=18,i.s();case 20:if((l=i.n()).done){e.next=28;break}if(u=l.value,s=(0,o.default)(u,1),d=s[0],this.cache.has(d)){e.next=26;break}return e.next=26,u;case 26:e.next=20;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(18),i.e(e.t1);case 33:return e.prev=33,i.f(),e.finish(33);case 36:case"end":return e.stop()}}),e,this,[[1,11,14,17],[18,30,33,36]])}))},{key:"size",get:function(){var e,t=0,n=c(this.oldCache.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;this.cache.has(r)||(t+=1)}}catch(e){n.e(e)}finally{n.f()}return this._size+t}}]),t}(Symbol.iterator);t.default=s},465:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var f=function(e){(0,l.default)(n,e);var t=d(n);function n(e){var r;if((0,o.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"stateModel",void 0),(0,s.default)((0,i.default)(r),"configSchema",void 0),(0,s.default)((0,i.default)(r),"displayName",void 0),(0,s.default)((0,i.default)(r),"description",void 0),(0,s.default)((0,i.default)(r),"url",void 0),(0,s.default)((0,i.default)(r),"configEditorComponent",void 0),r.stateModel=e.stateModel,r.configSchema=e.configSchema,r.displayName=e.displayName,r.description=e.description,r.url=e.url,r.configEditorComponent=e.configEditorComponent,!r.stateModel)throw new Error("no stateModel defined for connection ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema defined for connection ".concat(r.name));return r}return(0,a.default)(n)}(r(n(108)).default);t.default=f},466:function(e,t,n){"use strict";n.r(t),function(e,r,a){n.d(t,"DEFAULT_GRID_COL_TYPE_KEY",(function(){return Za})),n.d(t,"DEFAULT_GRID_OPTIONS",(function(){return On})),n.d(t,"DEFAULT_GRID_PROPS_FROM_OPTIONS",(function(){return wn})),n.d(t,"DEFAULT_GRID_SLOTS_COMPONENTS",(function(){return _l})),n.d(t,"DataGrid",(function(){return bc})),n.d(t,"GRID_BOOLEAN_COLUMN_TYPE",(function(){return oo})),n.d(t,"GRID_CELL_CSS_CLASS",(function(){return Ko})),n.d(t,"GRID_CELL_CSS_CLASS_SUFFIX",(function(){return Uo})),n.d(t,"GRID_COLUMN_HEADER_CSS_CLASS",(function(){return qo})),n.d(t,"GRID_COLUMN_HEADER_CSS_CLASS_SUFFIX",(function(){return Vo})),n.d(t,"GRID_COLUMN_HEADER_DRAGGING_CSS_CLASS",(function(){return Zo})),n.d(t,"GRID_COLUMN_HEADER_DROP_ZONE_CSS_CLASS",(function(){return Xo})),n.d(t,"GRID_COLUMN_HEADER_SEPARATOR_RESIZABLE_CSS_CLASS",(function(){return Jo})),n.d(t,"GRID_COLUMN_HEADER_TITLE_CSS_CLASS",(function(){return Yo})),n.d(t,"GRID_CSS_CLASS_PREFIX",(function(){return Ho})),n.d(t,"GRID_DATETIME_COLUMN_TYPE",(function(){return ao})),n.d(t,"GRID_DATETIME_COL_DEF",(function(){return Ga})),n.d(t,"GRID_DATE_COLUMN_TYPE",(function(){return ro})),n.d(t,"GRID_DATE_COL_DEF",(function(){return Va})),n.d(t,"GRID_DEFAULT_LOCALE_TEXT",(function(){return bn})),n.d(t,"GRID_EXPERIMENTAL_ENABLED",(function(){return Ii})),n.d(t,"GRID_NUMBER_COLUMN_TYPE",(function(){return no})),n.d(t,"GRID_NUMERIC_COL_DEF",(function(){return La})),n.d(t,"GRID_ROOT_CSS_CLASS_SUFFIX",(function(){return Wo})),n.d(t,"GRID_ROW_CSS_CLASS",(function(){return $o})),n.d(t,"GRID_ROW_CSS_CLASS_SUFFIX",(function(){return Go})),n.d(t,"GRID_STRING_COLUMN_TYPE",(function(){return to})),n.d(t,"GRID_STRING_COL_DEF",(function(){return Pa})),n.d(t,"GridAddIcon",(function(){return ya})),n.d(t,"GridApiContext",(function(){return X})),n.d(t,"GridArrowDownwardIcon",(function(){return ia})),n.d(t,"GridArrowUpwardIcon",(function(){return oa})),n.d(t,"GridAutoSizer",(function(){return Do})),n.d(t,"GridBody",(function(){return ii})),n.d(t,"GridCell",(function(){return ti})),n.d(t,"GridCellCheckboxForwardRef",(function(){return Wr})),n.d(t,"GridCellCheckboxRenderer",(function(){return Vr})),n.d(t,"GridCellModes",(function(){return qa})),n.d(t,"GridCheckCircleIcon",(function(){return da})),n.d(t,"GridCheckIcon",(function(){return Ea})),n.d(t,"GridCloseIcon",(function(){return va})),n.d(t,"GridColumnHeaderItem",(function(){return xo})),n.d(t,"GridColumnHeaderMenu",(function(){return ko})),n.d(t,"GridColumnHeaderSeparator",(function(){return ho})),n.d(t,"GridColumnHeaderSortIcon",(function(){return io})),n.d(t,"GridColumnHeaderTitle",(function(){return mo})),n.d(t,"GridColumnHeadersItemCollection",(function(){return So})),n.d(t,"GridColumnIcon",(function(){return fa})),n.d(t,"GridColumnMenu",(function(){return Oi})),n.d(t,"GridColumnMenuContainer",(function(){return vi})),n.d(t,"GridColumnsContainer",(function(){return Lo})),n.d(t,"GridColumnsHeader",(function(){return Ao})),n.d(t,"GridColumnsMenuItem",(function(){return gi})),n.d(t,"GridColumnsPanel",(function(){return Li})),n.d(t,"GridDataContainer",(function(){return zo})),n.d(t,"GridDensityTypes",(function(){return vn})),n.d(t,"GridDragIcon",(function(){return Oa})),n.d(t,"GridEditInputCell",(function(){return Zr})),n.d(t,"GridEditModes",(function(){return Ua})),n.d(t,"GridEditSingleSelectCell",(function(){return Ja})),n.d(t,"GridEmptyCell",(function(){return Dn})),n.d(t,"GridErrorHandler",(function(){return ci})),n.d(t,"GridEvents",(function(){return o})),n.d(t,"GridFeatureModeConstant",(function(){return yn})),n.d(t,"GridFilterAltIcon",(function(){return ca})),n.d(t,"GridFilterForm",(function(){return Bi})),n.d(t,"GridFilterInputValue",(function(){return Sa})),n.d(t,"GridFilterListIcon",(function(){return la})),n.d(t,"GridFilterMenuItem",(function(){return bi})),n.d(t,"GridFilterPanel",(function(){return Hi})),n.d(t,"GridFooter",(function(){return Yi})),n.d(t,"GridFooterContainer",(function(){return pi})),n.d(t,"GridFooterPlaceholder",(function(){return ui})),n.d(t,"GridHeader",(function(){return Xi})),n.d(t,"GridHeaderCheckbox",(function(){return Yr})),n.d(t,"GridHeaderPlaceholder",(function(){return si})),n.d(t,"GridLinkOperator",(function(){return kn})),n.d(t,"GridLoadIcon",(function(){return wa})),n.d(t,"GridLoadingOverlay",(function(){return Zi})),n.d(t,"GridMenu",(function(){return Eo})),n.d(t,"GridMenuIcon",(function(){return sa})),n.d(t,"GridNoRowsOverlay",(function(){return Qi})),n.d(t,"GridOverlay",(function(){return mi})),n.d(t,"GridOverlays",(function(){return oi})),n.d(t,"GridPagination",(function(){return tl})),n.d(t,"GridPanel",(function(){return Di})),n.d(t,"GridPanelContent",(function(){return Ei})),n.d(t,"GridPanelFooter",(function(){return xi})),n.d(t,"GridPanelHeader",(function(){return ji})),n.d(t,"GridPanelWrapper",(function(){return Ri})),n.d(t,"GridPreferencePanelsValue",(function(){return yo})),n.d(t,"GridPreferencesPanel",(function(){return _i})),n.d(t,"GridRenderingZone",(function(){return Bo})),n.d(t,"GridRoot",(function(){return fi})),n.d(t,"GridRow",(function(){return Qo})),n.d(t,"GridRowCells",(function(){return ni})),n.d(t,"GridRowCount",(function(){return Ki})),n.d(t,"GridRowModes",(function(){return $a})),n.d(t,"GridSaveAltIcon",(function(){return Ca})),n.d(t,"GridScrollArea",(function(){return Wn})),n.d(t,"GridSearchIcon",(function(){return ua})),n.d(t,"GridSelectedRowCount",(function(){return Ji})),n.d(t,"GridSeparatorIcon",(function(){return pa})),n.d(t,"GridStickyContainer",(function(){return ri})),n.d(t,"GridTableRowsIcon",(function(){return ha})),n.d(t,"GridToolbar",(function(){return $i})),n.d(t,"GridToolbarColumnsButton",(function(){return Wi})),n.d(t,"GridToolbarContainer",(function(){return hi})),n.d(t,"GridToolbarDensitySelector",(function(){return Vi})),n.d(t,"GridToolbarExport",(function(){return qi})),n.d(t,"GridToolbarFilterButton",(function(){return Ui})),n.d(t,"GridTripleDotsVerticalIcon",(function(){return ba})),n.d(t,"GridViewHeadlineIcon",(function(){return ma})),n.d(t,"GridViewStreamIcon",(function(){return ga})),n.d(t,"GridViewport",(function(){return ai})),n.d(t,"GridWindow",(function(){return No})),n.d(t,"HideGridColMenuItem",(function(){return yi})),n.d(t,"MAX_PAGE_SIZE",(function(){return hc})),n.d(t,"SUBMIT_FILTER_STROKE_TIME",(function(){return xa})),n.d(t,"SortGridMenuItems",(function(){return wi})),n.d(t,"activeGridFilterItemsSelector",(function(){return ur})),n.d(t,"allGridColumnsFieldsSelector",(function(){return ee})),n.d(t,"allGridColumnsSelector",(function(){return ne})),n.d(t,"arSD",(function(){return Wl})),n.d(t,"bgBG",(function(){return Vl})),n.d(t,"checkGridRowIdIsValid",(function(){return ei})),n.d(t,"convertGridRowsPropToState",(function(){return El})),n.d(t,"csCZ",(function(){return Gl})),n.d(t,"deDE",(function(){return Ul})),n.d(t,"elGR",(function(){return ql})),n.d(t,"enUS",(function(){return $l})),n.d(t,"esES",(function(){return Kl})),n.d(t,"filterGridColumnLookupSelector",(function(){return dr})),n.d(t,"filterGridItemsCounterSelector",(function(){return sr})),n.d(t,"filterGridStateSelector",(function(){return cr})),n.d(t,"filterableGridColumnsIdsSelector",(function(){return ie})),n.d(t,"filterableGridColumnsSelector",(function(){return oe})),n.d(t,"frFR",(function(){return Jl})),n.d(t,"getGridColDef",(function(){return eo})),n.d(t,"getGridDateOperators",(function(){return _a})),n.d(t,"getGridDefaultColumnTypes",(function(){return Qa})),n.d(t,"getGridNumericColumnOperators",(function(){return Aa})),n.d(t,"getGridStringOperators",(function(){return ja})),n.d(t,"getInitialGridColumnReorderState",(function(){return Cn})),n.d(t,"getInitialGridColumnResizeState",(function(){return En})),n.d(t,"getInitialGridColumnsState",(function(){return gn})),n.d(t,"getInitialGridFilterState",(function(){return xn})),n.d(t,"getInitialGridRenderingState",(function(){return Tn})),n.d(t,"getInitialGridRowState",(function(){return jn})),n.d(t,"getInitialGridSortingState",(function(){return Pn})),n.d(t,"getInitialGridState",(function(){return Rn})),n.d(t,"getInitialVisibleGridRowsState",(function(){return Sn})),n.d(t,"gridCheckboxSelectionColDef",(function(){return Ia})),n.d(t,"gridClasses",(function(){return Nn})),n.d(t,"gridColumnLookupSelector",(function(){return te})),n.d(t,"gridColumnMenuStateSelector",(function(){return Cr})),n.d(t,"gridColumnReorderDragColSelector",(function(){return Gn})),n.d(t,"gridColumnReorderSelector",(function(){return Vn})),n.d(t,"gridColumnResizeSelector",(function(){return Un})),n.d(t,"gridColumnsMetaSelector",(function(){return ae})),n.d(t,"gridColumnsSelector",(function(){return Q})),n.d(t,"gridColumnsTotalWidthSelector",(function(){return ce})),n.d(t,"gridDateFormatter",(function(){return Ha})),n.d(t,"gridDateTimeFormatter",(function(){return Wa})),n.d(t,"gridEditRowsStateSelector",(function(){return _o})),n.d(t,"gridFocusCellSelector",(function(){return pr})),n.d(t,"gridFocusColumnHeaderSelector",(function(){return mr})),n.d(t,"gridFocusStateSelector",(function(){return fr})),n.d(t,"gridPaginatedVisibleSortedGridRowIdsSelector",(function(){return Ur})),n.d(t,"gridPaginationSelector",(function(){return Gr})),n.d(t,"gridPanelClasses",(function(){return Ni})),n.d(t,"gridPreferencePanelStateSelector",(function(){return bo})),n.d(t,"gridResizingColumnFieldSelector",(function(){return qn})),n.d(t,"gridRowCountSelector",(function(){return Kn})),n.d(t,"gridRowsLookupSelector",(function(){return Jn})),n.d(t,"gridRowsStateSelector",(function(){return $n})),n.d(t,"gridScrollbarStateSelector",(function(){return Io})),n.d(t,"gridSelectionStateSelector",(function(){return qr})),n.d(t,"gridSortColumnLookupSelector",(function(){return nr})),n.d(t,"gridSortModelSelector",(function(){return tr})),n.d(t,"gridTabIndexCellSelector",(function(){return gr})),n.d(t,"gridTabIndexColumnHeaderSelector",(function(){return br})),n.d(t,"gridTabIndexStateSelector",(function(){return hr})),n.d(t,"gridViewportSizeStateSelector",(function(){return vo})),n.d(t,"itIT",(function(){return Yl})),n.d(t,"jaJP",(function(){return Xl})),n.d(t,"nlNL",(function(){return Zl})),n.d(t,"plPL",(function(){return ec})),n.d(t,"plPLGrid",(function(){return Ql})),n.d(t,"ptBR",(function(){return tc})),n.d(t,"renderEditInputCell",(function(){return Qr})),n.d(t,"renderEditSingleSelectCell",(function(){return Ya})),n.d(t,"ruRU",(function(){return rc})),n.d(t,"ruRUGrid",(function(){return nc})),n.d(t,"selectedGridRowsCountSelector",(function(){return $r})),n.d(t,"selectedGridRowsSelector",(function(){return Kr})),n.d(t,"selectedIdsLookupSelector",(function(){return Jr})),n.d(t,"skSK",(function(){return oc})),n.d(t,"skSKGrid",(function(){return ac})),n.d(t,"sortedGridRowIdsSelector",(function(){return Qn})),n.d(t,"sortedGridRowsSelector",(function(){return er})),n.d(t,"trTR",(function(){return ic})),n.d(t,"ukUA",(function(){return cc})),n.d(t,"ukUAGrid",(function(){return lc})),n.d(t,"unorderedGridRowIdsSelector",(function(){return Yn})),n.d(t,"unorderedGridRowModelsSelector",(function(){return Xn})),n.d(t,"useApi",(function(){return gl})),n.d(t,"useDataGridComponent",(function(){return mc})),n.d(t,"useGridApi",(function(){return Mn})),n.d(t,"useGridApiMethod",(function(){return hn})),n.d(t,"useGridApiRef",(function(){return Il})),n.d(t,"useGridColumnMenu",(function(){return nl})),n.d(t,"useGridColumnReorder",(function(){return rl})),n.d(t,"useGridColumnResize",(function(){return Ll})),n.d(t,"useGridColumns",(function(){return ol})),n.d(t,"useGridComponents",(function(){return zl})),n.d(t,"useGridContainerProps",(function(){return bl})),n.d(t,"useGridControlState",(function(){return il})),n.d(t,"useGridEditRows",(function(){return xl})),n.d(t,"useGridFilter",(function(){return cl})),n.d(t,"useGridFocus",(function(){return ul})),n.d(t,"useGridKeyboard",(function(){return sl})),n.d(t,"useGridKeyboardNavigation",(function(){return dl})),n.d(t,"useGridLogger",(function(){return mn})),n.d(t,"useGridLoggerFactory",(function(){return pn})),n.d(t,"useGridPage",(function(){return hl})),n.d(t,"useGridPageSize",(function(){return yl})),n.d(t,"useGridParamsApi",(function(){return Ol})),n.d(t,"useGridPreferencesPanel",(function(){return wl})),n.d(t,"useGridReducer",(function(){return ll})),n.d(t,"useGridRows",(function(){return kl})),n.d(t,"useGridScroll",(function(){return Rl})),n.d(t,"useGridScrollFn",(function(){return fl})),n.d(t,"useGridSelection",(function(){return Sl})),n.d(t,"useGridSelector",(function(){return An})),n.d(t,"useGridSlotComponentProps",(function(){return Bl})),n.d(t,"useGridSorting",(function(){return jl})),n.d(t,"useGridState",(function(){return In})),n.d(t,"useGridVirtualization",(function(){return Pl})),n.d(t,"useNativeEventListener",(function(){return vl})),n.d(t,"visibleGridColumnsLengthSelector",(function(){return le})),n.d(t,"visibleGridColumnsSelector",(function(){return re})),n.d(t,"visibleGridRowCountSelector",(function(){return lr})),n.d(t,"visibleGridRowsStateSelector",(function(){return rr})),n.d(t,"visibleSortedGridRowIdsSelector",(function(){return ir})),n.d(t,"visibleSortedGridRowsAsArraySelector",(function(){return or})),n.d(t,"visibleSortedGridRowsSelector",(function(){return ar}));var o,i,l=n(1),c=n.n(l),u=n(12),s=n(867),d=n(18),f=n(62),p=n(59),m=n(100),h=n(50),g=n(65),b=n(206),v=n(204),y=n(38),w=n(83),O=n(110),C=n(1411),E=n(1351),k=n(596),x=n(617),S=n(861),j=n(865),P=n(607),T=n(1360),R=n(583),M=n(618),I=n(1364),A=n(1372),L=n(581),F=n(1382),N=n(1381),D=n(1380),_=n(1388),z=n(585),B=n(598),H=n(1366),W=n(597),V=n(1374),G=n(605),U=n(1363),q=n(1419),$=n(672),K=n(0),J=n.n(K),Y=n(1402);(i=o||(o={})).resize="resize",i.debouncedResize="debouncedResize",i.componentError="componentError",i.unmount="unmount",i.cellModeChange="cellModeChange",i.cellClick="cellClick",i.cellDoubleClick="cellDoubleClick",i.cellMouseDown="cellMouseDown",i.cellMouseUp="cellMouseUp",i.cellOver="cellOver",i.cellOut="cellOut",i.cellEnter="cellEnter",i.cellLeave="cellLeave",i.cellKeyDown="cellKeyDown",i.cellBlur="cellBlur",i.cellFocus="cellFocus",i.cellFocusIn="cellFocusIn",i.cellFocusOut="cellFocusOut",i.cellDragStart="cellDragStart",i.cellDragEnter="cellDragEnter",i.cellDragOver="cellDragOver",i.cellDragEnd="cellDragEnd",i.editCellPropsChange="editCellPropsChange",i.cellEditCommit="cellEditCommit",i.cellEditStart="cellEditStart",i.cellEditStop="cellEditStop",i.rowEditStart="rowEditStart",i.rowEditStop="rowEditStop",i.rowEditCommit="rowEditCommit",i.cellNavigationKeyDown="cellNavigationKeyDown",i.rowClick="rowClick",i.rowDoubleClick="rowDoubleClick",i.rowOver="rowOver",i.rowOut="rowOut",i.rowEnter="rowEnter",i.rowLeave="rowLeave",i.editRowsModelChange="editRowsModelChange",i.columnHeaderBlur="columnHeaderBlur",i.columnHeaderFocus="columnHeaderFocus",i.columnHeaderNavigationKeyDown="columnHeaderNavigationKeyDown",i.columnHeaderKeyDown="columnHeaderKeyDown",i.columnHeaderClick="columnHeaderClick",i.columnHeaderDoubleClick="columnHeaderDoubleClick",i.columnHeaderOver="columnHeaderOver",i.columnHeaderOut="columnHeaderOut",i.columnHeaderEnter="columnHeaderEnter",i.columnHeaderLeave="columnHeaderLeave",i.columnHeaderDragStart="columnHeaderDragStart",i.columnHeaderDragOver="columnHeaderDragOver",i.columnHeaderDragEnter="columnHeaderDragEnter",i.columnHeaderDragEnd="columnHeaderDragEnd",i.selectionChange="selectionChange",i.pageChange="pageChange",i.pageSizeChange="pageSizeChange",i.rowsScroll="rowsScroll",i.rowsScrollEnd="rowsScrollEnd",i.columnSeparatorMouseDown="columnSeparatorMouseDown",i.columnResize="columnResize",i.columnWidthChange="columnWidthChange",i.columnResizeStart="columnResizeStart",i.columnResizeStop="columnResizeStop",i.columnOrderChange="columnOrderChange",i.rowsUpdate="rowsUpdate",i.rowsSet="rowsSet",i.rowsClear="rowsClear",i.columnsChange="columnsChange",i.sortModelChange="sortModelChange",i.filterModelChange="filterModelChange",i.stateChange="stateChange",i.columnVisibilityChange="columnVisibilityChange",i.viewportRowsChange="viewportRowsChange";const X=l.createContext(void 0);function Z(){const e=l.useContext(X);if(void 0===e)throw new Error(["Material-UI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid or DataGridPro parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}const Q=e=>e.columns,ee=e=>e.columns.all,te=e=>e.columns.lookup,ne=Object(s.a)(ee,te,(e,t)=>e.map(e=>t[e])),re=Object(s.a)(ne,e=>e.filter(e=>null!=e.field&&!e.hide)),ae=Object(s.a)(re,e=>{const t=[];return{totalWidth:e.reduce((e,n)=>(t.push(e),e+n.computedWidth),0),positions:t}}),oe=Object(s.a)(ne,e=>e.filter(e=>e.filterable)),ie=Object(s.a)(oe,e=>e.map(e=>e.field)),le=Object(s.a)(re,e=>e.length),ce=Object(s.a)(ae,e=>e.totalWidth);function ue(e,t){return e===t||e!=e&&t!=t}function se(e,t){for(var n=e.length;n--;)if(ue(e[n][0],t))return n;return-1}var de=Array.prototype.splice;function fe(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}fe.prototype.clear=function(){this.__data__=[],this.size=0},fe.prototype.delete=function(e){var t=this.__data__,n=se(t,e);return!(n<0||(n==t.length-1?t.pop():de.call(t,n,1),--this.size,0))},fe.prototype.get=function(e){var t=this.__data__,n=se(t,e);return n<0?void 0:t[n][1]},fe.prototype.has=function(e){return se(this.__data__,e)>-1},fe.prototype.set=function(e,t){var n=this.__data__,r=se(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var pe="object"==typeof e&&e&&e.Object===Object&&e,me="object"==typeof self&&self&&self.Object===Object&&self,he=pe||me||Function("return this")(),ge=he.Symbol,be=Object.prototype,ve=be.hasOwnProperty,ye=be.toString,we=ge?ge.toStringTag:void 0,Oe=Object.prototype.toString,Ce=ge?ge.toStringTag:void 0;function Ee(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Ce&&Ce in Object(e)?function(e){var t=ve.call(e,we),n=e[we];try{e[we]=void 0;var r=!0}catch(e){}var a=ye.call(e);return r&&(t?e[we]=n:delete e[we]),a}(e):function(e){return Oe.call(e)}(e)}function ke(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xe(e){if(!ke(e))return!1;var t=Ee(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}var Se,je=he["__core-js_shared__"],Pe=(Se=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+Se:"",Te=Function.prototype.toString;function Re(e){if(null!=e){try{return Te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Me=/^\[object .+?Constructor\]$/,Ie=Function.prototype,Ae=Object.prototype,Le=Ie.toString,Fe=Ae.hasOwnProperty,Ne=RegExp("^"+Le.call(Fe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function De(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!ke(e)||(t=e,Pe&&Pe in t))&&(xe(e)?Ne:Me).test(Re(e));var t}(n)?n:void 0}var _e=De(he,"Map"),ze=De(Object,"create"),Be=Object.prototype.hasOwnProperty,He=Object.prototype.hasOwnProperty;function We(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ve(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ue(e){var t=this.__data__=new fe(e);this.size=t.size}function qe(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Ge;++t<n;)this.add(e[t])}function $e(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Ke(e,t,n,r,a,o){var i=1&n,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var s=-1,d=!0,f=2&n?new qe:void 0;for(o.set(e,t),o.set(t,e);++s<l;){var p=e[s],m=t[s];if(r)var h=i?r(m,p,s,t,e,o):r(p,m,s,e,t,o);if(void 0!==h){if(h)continue;d=!1;break}if(f){if(!$e(t,(function(e,t){if(i=t,!f.has(i)&&(p===e||a(p,e,n,r,o)))return f.push(t);var i}))){d=!1;break}}else if(p!==m&&!a(p,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}We.prototype.clear=function(){this.__data__=ze?ze(null):{},this.size=0},We.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},We.prototype.get=function(e){var t=this.__data__;if(ze){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Be.call(t,e)?t[e]:void 0},We.prototype.has=function(e){var t=this.__data__;return ze?void 0!==t[e]:He.call(t,e)},We.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=ze&&void 0===t?"__lodash_hash_undefined__":t,this},Ge.prototype.clear=function(){this.size=0,this.__data__={hash:new We,map:new(_e||fe),string:new We}},Ge.prototype.delete=function(e){var t=Ve(this,e).delete(e);return this.size-=t?1:0,t},Ge.prototype.get=function(e){return Ve(this,e).get(e)},Ge.prototype.has=function(e){return Ve(this,e).has(e)},Ge.prototype.set=function(e,t){var n=Ve(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ue.prototype.clear=function(){this.__data__=new fe,this.size=0},Ue.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ue.prototype.get=function(e){return this.__data__.get(e)},Ue.prototype.has=function(e){return this.__data__.has(e)},Ue.prototype.set=function(e,t){var n=this.__data__;if(n instanceof fe){var r=n.__data__;if(!_e||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ge(r)}return n.set(e,t),this.size=n.size,this},qe.prototype.add=qe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},qe.prototype.has=function(e){return this.__data__.has(e)};var Je=he.Uint8Array;function Ye(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Xe(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var Ze=ge?ge.prototype:void 0,Qe=Ze?Ze.valueOf:void 0,et=Array.isArray,tt=Object.prototype.propertyIsEnumerable,nt=Object.getOwnPropertySymbols,rt=nt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,o=[];++n<r;){var i=e[n];t(i)&&(o[a++]=i)}return o}(nt(e),(function(t){return tt.call(e,t)})))}:function(){return[]};function at(e){return null!=e&&"object"==typeof e}function ot(e){return at(e)&&"[object Arguments]"==Ee(e)}var it=Object.prototype,lt=it.hasOwnProperty,ct=it.propertyIsEnumerable,ut=ot(function(){return arguments}())?ot:function(e){return at(e)&&lt.call(e,"callee")&&!ct.call(e,"callee")},st="object"==typeof exports&&exports&&!exports.nodeType&&exports,dt=st&&"object"==typeof r&&r&&!r.nodeType&&r,ft=dt&&dt.exports===st?he.Buffer:void 0,pt=(ft?ft.isBuffer:void 0)||function(){return!1},mt=/^(?:0|[1-9]\d*)$/;function ht(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&mt.test(e))&&e>-1&&e%1==0&&e<t}function gt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}var bt={};bt["[object Float32Array]"]=bt["[object Float64Array]"]=bt["[object Int8Array]"]=bt["[object Int16Array]"]=bt["[object Int32Array]"]=bt["[object Uint8Array]"]=bt["[object Uint8ClampedArray]"]=bt["[object Uint16Array]"]=bt["[object Uint32Array]"]=!0,bt["[object Arguments]"]=bt["[object Array]"]=bt["[object ArrayBuffer]"]=bt["[object Boolean]"]=bt["[object DataView]"]=bt["[object Date]"]=bt["[object Error]"]=bt["[object Function]"]=bt["[object Map]"]=bt["[object Number]"]=bt["[object Object]"]=bt["[object RegExp]"]=bt["[object Set]"]=bt["[object String]"]=bt["[object WeakMap]"]=!1;var vt,yt="object"==typeof exports&&exports&&!exports.nodeType&&exports,wt=yt&&"object"==typeof r&&r&&!r.nodeType&&r,Ot=wt&&wt.exports===yt&&pe.process,Ct=function(){try{return Ot&&Ot.binding&&Ot.binding("util")}catch(e){}}(),Et=Ct&&Ct.isTypedArray,kt=Et?(vt=Et,function(e){return vt(e)}):function(e){return at(e)&&gt(e.length)&&!!bt[Ee(e)]},xt=Object.prototype.hasOwnProperty;var St=Object.prototype,jt=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Pt=Object.prototype.hasOwnProperty;function Tt(e){return null!=(t=e)&&gt(t.length)&&!xe(t)?function(e,t){var n=et(e),r=!n&&ut(e),a=!n&&!r&&pt(e),o=!n&&!r&&!a&&kt(e),i=n||r||a||o,l=i?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],c=l.length;for(var u in e)!t&&!xt.call(e,u)||i&&("length"==u||a&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ht(u,c))||l.push(u);return l}(e):function(e){if(n=(t=e)&&t.constructor,t!==("function"==typeof n&&n.prototype||St))return jt(e);var t,n,r=[];for(var a in Object(e))Pt.call(e,a)&&"constructor"!=a&&r.push(a);return r}(e);var t}function Rt(e){return function(e,t,n){var r=t(e);return et(e)?r:function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}(r,n(e))}(e,Tt,rt)}var Mt=Object.prototype.hasOwnProperty,It=De(he,"DataView"),At=De(he,"Promise"),Lt=De(he,"Set"),Ft=De(he,"WeakMap"),Nt=Re(It),Dt=Re(_e),_t=Re(At),zt=Re(Lt),Bt=Re(Ft),Ht=Ee;(It&&"[object DataView]"!=Ht(new It(new ArrayBuffer(1)))||_e&&"[object Map]"!=Ht(new _e)||At&&"[object Promise]"!=Ht(At.resolve())||Lt&&"[object Set]"!=Ht(new Lt)||Ft&&"[object WeakMap]"!=Ht(new Ft))&&(Ht=function(e){var t=Ee(e),n="[object Object]"==t?e.constructor:void 0,r=n?Re(n):"";if(r)switch(r){case Nt:return"[object DataView]";case Dt:return"[object Map]";case _t:return"[object Promise]";case zt:return"[object Set]";case Bt:return"[object WeakMap]"}return t});var Wt=Ht,Vt="[object Object]",Gt=Object.prototype.hasOwnProperty;function Ut(e,t,n,r,a){return e===t||(null==e||null==t||!at(e)&&!at(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var i=et(e),l=et(t),c=i?"[object Array]":Wt(e),u=l?"[object Array]":Wt(t),s=(c="[object Arguments]"==c?Vt:c)==Vt,d=(u="[object Arguments]"==u?Vt:u)==Vt,f=c==u;if(f&&pt(e)){if(!pt(t))return!1;i=!0,s=!1}if(f&&!s)return o||(o=new Ue),i||kt(e)?Ke(e,t,n,r,a,o):function(e,t,n,r,a,o,i){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Je(e),new Je(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ue(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Ye;case"[object Set]":var c=1&r;if(l||(l=Xe),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;r|=2,i.set(e,t);var s=Ke(l(e),l(t),r,a,o,i);return i.delete(e),s;case"[object Symbol]":if(Qe)return Qe.call(e)==Qe.call(t)}return!1}(e,t,c,n,r,a,o);if(!(1&n)){var p=s&&Gt.call(e,"__wrapped__"),m=d&&Gt.call(t,"__wrapped__");if(p||m){var h=p?e.value():e,g=m?t.value():t;return o||(o=new Ue),a(h,g,n,r,o)}}return!!f&&(o||(o=new Ue),function(e,t,n,r,a,o){var i=1&n,l=Rt(e),c=l.length;if(c!=Rt(t).length&&!i)return!1;for(var u=c;u--;){var s=l[u];if(!(i?s in t:Mt.call(t,s)))return!1}var d=o.get(e);if(d&&o.get(t))return d==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=i;++u<c;){var m=e[s=l[u]],h=t[s];if(r)var g=i?r(h,m,s,t,e,o):r(m,h,s,e,t,o);if(!(void 0===g?m===h||a(m,h,n,r,o):g)){f=!1;break}p||(p="constructor"==s)}if(f&&!p){var b=e.constructor,v=t.constructor;b==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof v&&v instanceof v||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,r,a,o))}(e,t,n,r,Ut,a))}function qt(e,t){return Ut(e,t)}function $t(e){return Object(m.a)(e)}const Kt="undefined"!=typeof window?l.useLayoutEffect:l.useEffect;function Jt(e,t,n){const r={};return Object.keys(e).forEach(a=>{r[a]=e[a].reduce((e,r)=>(r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e),[]).join(" ")}),r}const Yt={active:"Mui-active",checked:"Mui-checked",disabled:"Mui-disabled",error:"Mui-error",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",expanded:"Mui-expanded",selected:"Mui-selected"};function Xt(e,t){return Yt[t]||`${e}-${t}`}function Zt(e,t){const n={};return t.forEach(t=>{n[t]=Xt(e,t)}),n}function Qt(e){return"function"==typeof e}function en(e){return e.type||e.mode}function tn(){return"fade"in d?"fade"in d&&"alpha"in d?"v4.12":"v4":"v5"}function nn(e,t){var n,r,a;return(null===(n=d)||void 0===n?void 0:n.alpha)?null===(r=d)||void 0===r?void 0:r.alpha(e,t):null===(a=d)||void 0===a?void 0:a.fade(e,t)}function rn(){var e,t,n;return(null===(e=d)||void 0===e?void 0:e.createTheme)?null===(t=d)||void 0===t?void 0:t.createTheme():null===(n=d)||void 0===n?void 0:n.createMuiTheme()}function an(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}function on(e){return Xt("MuiDataGrid",e)}function ln(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const cn=an()&&null!=window.localStorage.getItem("DEBUG"),un=()=>{},sn={debug:un,info:un,warn:un,error:un},dn=["debug","info","warn","error"];function fn(e,t,n=console){const r=dn.indexOf(t);if(-1===r)throw new Error(`Material-UI: Log level ${t} not recognized.`);return dn.reduce((t,a,o)=>(t[a]=o>=r?(...t)=>{const[r,...o]=t;n[a](`Material-UI: ${e} - ${r}`,...o)}:un,t),{})}function pn(e,t){e.current.getLogger=l.useCallback(e=>cn?fn(e,"debug",t.logger):t.logLevel?fn(e,t.logLevel.toString(),t.logger):sn,[t.logLevel,t.logger])}function mn(e,t){const n=l.useRef(null);if(n.current)return n.current;const r=e.current.getLogger(t);return n.current=r,r}function hn(e,t,n){const r=mn(e,"useGridApiMethod"),a=l.useRef(t),[o]=l.useState(Object.keys(t)),i=l.useCallback(()=>{e.current&&o.forEach(t=>{e.current.hasOwnProperty(t)||(r.debug(`Adding ${n}.${t} to apiRef`),e.current[t]=(...e)=>a.current[t](...e))})},[o,n,e,r]);l.useEffect(()=>{a.current=t},[t]),l.useEffect(()=>{i()},[i]),i()}const gn=()=>({all:[],lookup:{}}),bn={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",errorOverlayDefaultLabel:"An error occurred.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>1!==e?e+" active filters":e+" active filter",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",columnsPanelTextFieldLabel:"Find column",columnsPanelTextFieldPlaceholder:"Column title",columnsPanelDragIconLabel:"Reorder column",columnsPanelShowAllButton:"Show all",columnsPanelHideAllButton:"Hide all",filterPanelAddFilter:"Add filter",filterPanelDeleteIconLabel:"Delete",filterPanelOperators:"Operators",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:e=>1!==e?e+" active filters":e+" active filter",columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>1!==e?e.toLocaleString()+" rows selected":e.toLocaleString()+" row selected",footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",booleanCellTrueLabel:"true",booleanCellFalseLabel:"false",MuiTablePagination:{}};var vn;!function(e){e.Compact="compact",e.Standard="standard",e.Comfortable="comfortable"}(vn||(vn={}));const yn={client:"client",server:"server"},wn={columnBuffer:2,density:vn.Standard,filterMode:yn.client,headerHeight:56,paginationMode:yn.client,rowHeight:52,rowsPerPageOptions:[25,50,100],scrollEndThreshold:80,sortingMode:yn.client,sortingOrder:["asc","desc",null],logger:console,logLevel:"error",editMode:"cell"},On=Object.assign(Object.assign({},wn),{localeText:bn});function Cn(){return{dragCol:""}}function En(){return{resizingColumnField:""}}var kn;!function(e){e.And="and",e.Or="or"}(kn||(kn={}));const xn=()=>({items:[],linkOperator:kn.And}),Sn=()=>({visibleRowsLookup:{}}),jn=()=>({idRowsLookup:{},allRows:[],totalRowCount:0});function Pn(){return{sortedRows:[],sortModel:[]}}const Tn=()=>({realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0}),Rn=()=>({rows:{idRowsLookup:{},allRows:[],totalRowCount:0},editRows:{},pagination:{page:0,pageCount:0,rowCount:0,pageSize:100},options:On,isScrolling:!1,columns:{all:[],lookup:{}},columnReorder:{dragCol:""},columnResize:{resizingColumnField:""},rendering:{realScroll:{left:0,top:0},renderContext:null,renderingZoneScroll:{left:0,top:0},virtualPage:0,virtualRowsCount:0},containerSizes:null,scrollBar:{hasScrollX:!1,hasScrollY:!1,sizes:{x:0,y:0}},viewportSizes:{width:0,height:1},sorting:{sortedRows:[],sortModel:[]},focus:{cell:null,columnHeader:null},tabIndex:{cell:null,columnHeader:null},selection:[],filter:xn(),columnMenu:{open:!1},preferencePanel:{open:!1},visibleRows:{visibleRowsLookup:{}},density:{value:vn.Standard,rowHeight:52,headerHeight:56}}),Mn=e=>{const t=mn(e,"useGridApi"),[,n]=l.useState();e.current.state||(t.info("Initialising state."),e.current.state=Rn(),e.current.forceUpdate=n);const r=l.useCallback(()=>e.current.state,[e]),a=l.useCallback(t=>{let r;r=Qt(t)?t(e.current.state):t,e.current.state=r,n(()=>r),e.current.publishEvent(o.stateChange,r)},[e]);return hn(e,{getState:r,setState:a},"GridStateApi"),e.current},In=e=>{Mn(e);const t=l.useCallback(()=>e.current.forceUpdate(()=>e.current.state),[e]),n=l.useCallback(t=>{const n=t(e.current.state);if(e.current.state===n)return!1;const{ignoreSetState:r,postUpdate:a}=e.current.applyControlStateConstraint(n);return r||(e.current.state=n,e.current.publishEvent&&e.current.publishEvent(o.stateChange,n)),a(),!r},[e]);return[e.current.state,n,t]},An=(e,t)=>{const[n]=In(e);return t(n)},Ln=e=>e.rendering,Fn=Object(s.a)(Ln,e=>e.realScroll),Nn=Zt("MuiDataGrid",["root","row","row--editing","cell","withBorder","cell--editing","cell--editable","cell--withRenderer","cell--textLeft","cell--textCenter","cell--textRight","columnHeader","columnHeader--dragging","columnHeaderWrapper","scrollArea","scrollArea--left","scrollArea--right","columnsContainer","toolbarContainer","overlay","main","dataContainer","window","windowContainer","viewport","autoHeight","columnHeaderCheckbox","cellCheckbox","columnHeader--sorted","columnHeader--sortable","columnHeader--moving","columnHeader--numeric","columnHeader--alignLeft","columnHeader--alignCenter","columnHeader--alignRight","columnHeaderDraggableContainer","columnHeaderTitle","iconButtonContainer","sortIcon","filterIcon","menuIcon","menuIconButton","columnHeaderTitleContainer","columnSeparator","columnSeparator--resizable","iconSeparator","menuOpen","columnHeaderWrapper","editInputCell","editBooleanCell","booleanCell","checkboxInput","rowCount","selectedRowCount","footerContainer","columnHeaderDropZone","columnHeaderDraggableContainer","renderingZone"]),Dn=l.memo((function({width:e,height:t}){return e&&t?l.createElement("div",{style:{minWidth:e,maxWidth:e,lineHeight:t-1+"px",minHeight:t,maxHeight:t},className:Nn.cell}):null}));var _n;function zn(e,t,n,r){const a=mn(e,"useGridApiEventHandler");l.useEffect(()=>{if(n&&t){const a=(e,t,r)=>{t.defaultMuiPrevented||n(e,t,r)};return e.current.subscribeEvent(t,a,r)}},[e,a,t,n,r])}!function(e){e.DataGrid="DataGrid",e.DataGridPro="DataGridPro"}(_n||(_n={}));const Bn={isFirst:!0};function Hn(e,t,n){zn(e,t,n,Bn)}const Wn=l.memo((function(e){const{scrollDirection:t}=e,n=l.useRef(null),r=Z(),a=l.useRef(),[i,c]=l.useState(!1),s=l.useRef({left:0,top:0}),d=l.useCallback(e=>{s.current=e},[]),f=l.useCallback(e=>{let o;if("left"===t)o=e.clientX-n.current.getBoundingClientRect().right;else{if("right"!==t)throw new Error("wrong dir");o=Math.max(1,e.clientX-n.current.getBoundingClientRect().left)}o=1.5*(o-1)+1,clearTimeout(a.current),a.current=setTimeout(()=>{r.current.scroll({left:s.current.left+o,top:s.current.top})})},[t,r]);l.useEffect(()=>()=>{clearTimeout(a.current)},[]);const p=l.useCallback(()=>{c(e=>!e)},[]);return zn(r,o.rowsScroll,d),zn(r,o.columnHeaderDragStart,p),zn(r,o.columnHeaderDragEnd,p),i?l.createElement("div",{ref:n,className:Object(u.default)(Nn.scrollArea,Nn["scrollArea--"+t]),onDragOver:f}):null})),Vn=e=>e.columnReorder,Gn=Object(s.a)(Vn,e=>e.dragCol),Un=e=>e.columnResize,qn=Object(s.a)(Un,e=>e.resizingColumnField),$n=e=>e.rows,Kn=Object(s.a)($n,e=>e&&e.totalRowCount),Jn=Object(s.a)($n,e=>e&&e.idRowsLookup),Yn=Object(s.a)($n,e=>e.allRows),Xn=Object(s.a)($n,e=>e.allRows.map(t=>e.idRowsLookup[t])),Zn=e=>e.sorting,Qn=Object(s.a)(Zn,Yn,(e,t)=>e.sortedRows.length?e.sortedRows:t),er=Object(s.a)(Qn,Jn,(e,t)=>{const n=new Map;return e.forEach(e=>{n.set(e,t[e])}),n}),tr=Object(s.a)(Zn,e=>e.sortModel),nr=Object(s.a)(tr,e=>e.reduce((t,n,r)=>(t[n.field]={sortDirection:n.sort,sortIndex:e.length>1?r+1:void 0},t),{})),rr=e=>e.visibleRows,ar=Object(s.a)(rr,er,(e,t)=>{const n=new Map;return t.forEach((t,r)=>{!1!==e.visibleRowsLookup[r]&&n.set(r,t)}),n}),or=Object(s.a)(ar,e=>[...e.entries()]),ir=Object(s.a)(ar,e=>[...e.keys()]),lr=Object(s.a)(rr,Kn,(e,t)=>null==e.visibleRows?t:e.visibleRows.length),cr=e=>e.filter,ur=Object(s.a)(cr,te,(e,t)=>{var n;return null===(n=e.items)||void 0===n?void 0:n.filter(e=>{var n,r;if(!e.columnField)return!1;const a=t[e.columnField];if(!(null==a?void 0:a.filterOperators)||0===(null===(n=null==a?void 0:a.filterOperators)||void 0===n?void 0:n.length))return!1;const o=a.filterOperators.find(t=>t.value===e.operatorValue);return!!o&&(!o.InputComponent||null!=e.value&&""!==(null===(r=e.value)||void 0===r?void 0:r.toString()))})}),sr=Object(s.a)(ur,e=>e.length),dr=Object(s.a)(ur,e=>e.reduce((e,t)=>(e[t.columnField]?e[t.columnField].push(t):e[t.columnField]=[t],e),{})),fr=e=>e.focus,pr=Object(s.a)(fr,e=>e.cell),mr=Object(s.a)(fr,e=>e.columnHeader),hr=e=>e.tabIndex,gr=Object(s.a)(hr,e=>e.cell),br=Object(s.a)(hr,e=>e.columnHeader),vr=e=>e.density,yr=Object(s.a)(vr,e=>e.value),wr=Object(s.a)(vr,e=>e.rowHeight),Or=Object(s.a)(vr,e=>e.headerHeight),Cr=e=>e.columnMenu,Er=e=>e.options,kr=e=>"Escape"===e,xr=e=>"Enter"===e,Sr=e=>"Tab"===e,jr=e=>" "===e,Pr=e=>0===e.indexOf("Arrow"),Tr=e=>"Home"===e||"End"===e,Rr=e=>0===e.indexOf("Page"),Mr=e=>"Delete"===e||"Backspace"===e,Ir=/^(\p{L}|\p{M}\p{L}|\p{M}|\p{N}|\p{Z}|\p{S}|\p{P})$/iu,Ar=e=>Ir.test(e),Lr=["Enter","Escape","Tab"],Fr=["Enter","Tab"],Nr=e=>Fr.indexOf(e)>-1,Dr=e=>Tr(e)||Pr(e)||Rr(e)||jr(e),_r=e=>!!e.key,zr=e=>Sr(e)||kr(e),Br=l.createContext(void 0),Hr=()=>{const e=l.useContext(Br);if(!e)throw new Error("Material-UI: useGridRootProps should only be used inside the DataGrid/DataGridPro component.");return e},Wr=l.forwardRef((function(e,t){var n;const{field:r,id:a,value:i,tabIndex:c,hasFocus:u}=e,s=Z(),d=Hr(),f=l.useRef(null),p=Object(h.a)(f,t),m=s.current.getCellElement(a,r);l.useLayoutEffect(()=>{0===c&&m&&(m.tabIndex=-1)},[m,c]),l.useLayoutEffect(()=>{u&&f.current&&f.current.querySelector("input").focus()},[u]);const g=l.useCallback(t=>{jr(t.key)&&t.stopPropagation(),Dr(t.key)&&!t.shiftKey&&s.current.publishEvent(o.cellNavigationKeyDown,e,t)},[s,e]),b=null==s?void 0:s.current.components.Checkbox,v=!d.isRowSelectable||d.isRowSelectable(s.current.getRowParams(a));return l.createElement(b,Object.assign({ref:p,tabIndex:c,checked:!!i,onChange:e=>{s.current.selectRow(a,e.target.checked,!0)},onClick:e=>{e.stopPropagation()},className:Nn.checkboxInput,color:"primary",inputProps:{"aria-label":"Select Row checkbox"},onKeyDown:g,disabled:!v},null===(n=null==s?void 0:s.current.componentsProps)||void 0===n?void 0:n.checkbox))})),Vr=l.memo(Wr),Gr=e=>e.pagination,Ur=Object(s.a)(Gr,ir,(e,t)=>{const n=e.page*e.pageSize,r=n+e.pageSize;return t.slice(n,r)}),qr=e=>e.selection,$r=Object(s.a)(qr,e=>e.length),Kr=Object(s.a)(qr,Jn,(e,t)=>new Map(e.map(e=>[e,t[e]]))),Jr=Object(s.a)(qr,e=>e.reduce((e,t)=>(e[t]=t,e),{})),Yr=l.forwardRef((function(e,t){var n;const[,r]=l.useState(!1),a=Z(),i=Hr(),c=An(a,br),u=An(a,$r),s=An(a,Kn),d=u>0&&u!==s,f=u>0&&u===s||d,p=null!==c&&c.field===e.field?0:-1;l.useLayoutEffect(()=>{const t=a.current.getColumnHeaderElement(e.field);0===p&&t&&(t.tabIndex=-1)},[p,a,e.field]);const m=l.useCallback(t=>{jr(t.key)&&t.stopPropagation(),Dr(t.key)&&!t.shiftKey&&a.current.publishEvent(o.columnHeaderNavigationKeyDown,e,t)},[a,e]),h=l.useCallback(()=>{r(e=>!e)},[]);l.useEffect(()=>null==a?void 0:a.current.subscribeEvent(o.selectionChange,h),[a,h]);const g=null==a?void 0:a.current.components.Checkbox;return l.createElement(g,Object.assign({ref:t,indeterminate:d,checked:f,onChange:e=>{const t=e.target.checked,n=i.checkboxSelectionVisibleOnly&&i.pagination?Ur(a.current.state):ir(a.current.state);a.current.selectRows(n,t,!e.target.indeterminate)},className:Nn.checkboxInput,color:"primary",inputProps:{"aria-label":"Select All Rows checkbox"},tabIndex:p,onKeyDown:m},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.checkbox))}));function Xr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}function Zr(e){const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:u,isEditable:s,tabIndex:d,hasFocus:f,getValue:p}=e,m=Xr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),h=l.useRef(),[g,b]=l.useState(n),v=l.useCallback(e=>{const n=e.target.value;b(n),a.setEditCellValue({id:t,field:o,value:n},e)},[a,o,t]);return l.useEffect(()=>{b(n)},[n]),Kt(()=>{f&&h.current.focus()},[f]),l.createElement(k.a,Object.assign({inputRef:h,className:Nn.editInputCell,fullWidth:!0,type:"number"===c.type?c.type:"text",value:g||"",onChange:v},m))}const Qr=e=>l.createElement(Zr,Object.assign({},e)),ea=(e,t)=>{const n=e.indexOf(t);return t&&-1!==n&&n+1!==e.length?e[n+1]:e[0]},ta=(e,t)=>null==e&&null!=t?-1:null==t&&null!=e?1:null==e&&null==t?0:null,na=new Intl.Collator,ra=(e,t)=>{const n=ta(e,t);return null!==n?n:Number(e)-Number(t)},aa=(e,t)=>{const n=ta(e,t);return null!==n?n:e>t?1:e<t?-1:0},oa=Object(g.a)(l.createElement("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),ia=Object(g.a)(l.createElement("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),la=Object(g.a)(l.createElement("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),ca=Object(g.a)(l.createElement("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),ua=Object(g.a)(l.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),sa=Object(g.a)(l.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),da=Object(g.a)(l.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),fa=Object(g.a)(l.createElement("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),pa=Object(g.a)(l.createElement("path",{d:"M11 19V5h2v14z"}),"Separator"),ma=Object(g.a)(l.createElement("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),ha=Object(g.a)(l.createElement("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),ga=Object(g.a)(l.createElement("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),ba=Object(g.a)(l.createElement("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),va=Object(g.a)(l.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ya=Object(g.a)(l.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),wa=Object(g.a)(l.createElement("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Oa=Object(g.a)(l.createElement("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Ca=Object(g.a)(l.createElement("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),Ea=Object(g.a)(l.createElement("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),ka=({valueOptions:e})=>(e?["",...e]:[""]).map(e=>"object"==typeof e?l.createElement("option",{key:e.value,value:e.value},e.label):l.createElement("option",{key:e,value:e},e)),xa=500;function Sa(e){const{item:t,applyValue:n,type:r,apiRef:a}=e,o=Xr(e,["item","applyValue","type","apiRef"]),i=l.useRef(),[c,u]=l.useState(t.value||""),[s,d]=l.useState(!1),f=Object(b.a)(),p="singleSelect"===r?{select:!0,SelectProps:{native:!0},children:ka(a.current.getColumn(t.columnField))}:{},m=l.useCallback(e=>{let o=e.target.value;if("singleSelect"===r){const e=a.current.getColumn(t.columnField);o=e.valueOptions.map(e=>"object"==typeof e?e.value:e).find(e=>String(e)===o)}clearTimeout(i.current),u(o),d(!0),i.current=setTimeout(()=>{n(Object.assign(Object.assign({},t),{value:o})),d(!1)},500)},[a,n,t,r]);l.useEffect(()=>()=>{clearTimeout(i.current)},[]),l.useEffect(()=>{u(t.value||"")},[t.value]);const h=s?{endAdornment:l.createElement(wa,null)}:o.InputProps;return l.createElement(x.a,Object.assign({id:f,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:c,onChange:m,type:r||"text",variant:"standard",InputProps:h,InputLabelProps:{shrink:!0}},p,o))}const ja=()=>[{value:"contains",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(ln(e.value),"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Sa},{value:"equals",getApplyFilterFn:e=>{if(!e.value)return null;const t=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return({value:n})=>0===t.compare(e.value,n&&n.toString()||"")},InputComponent:Sa},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(`^${ln(e.value)}.*$`,"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Sa},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const t=new RegExp(`.*${ln(e.value)}$`,"i");return({value:e})=>t.test(e&&e.toString()||"")},InputComponent:Sa},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>""===e||null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>""!==e&&null!=e}],Pa={width:100,minWidth:50,hide:!1,sortable:!0,resizable:!0,filterable:!0,sortComparator:(e,t)=>{const n=ta(e,t);return null!==n?n:"string"==typeof e?na.compare(e.toString(),t.toString()):e-t},type:"string",align:"left",filterOperators:ja(),renderEditCell:Qr},Ta=l.memo(e=>{const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:u,isEditable:s,hasFocus:d,tabIndex:f,getValue:p}=e,m=Xr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","hasFocus","tabIndex","getValue"]),h=l.useMemo(()=>n?a.components.BooleanCellTrueIcon:a.components.BooleanCellFalseIcon,[a.components.BooleanCellFalseIcon,a.components.BooleanCellTrueIcon,n]);return l.createElement(h,Object.assign({fontSize:"small",className:Nn.booleanCell,titleAccess:a.getLocaleText(n?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(n)},m))});function Ra(e){const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:s,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:h}=e,g=Xr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),v=l.useRef(null),y=Object(b.a)(),[w,O]=l.useState(n),C=l.useCallback(e=>{const n=e.target.checked;O(n),a.setEditCellValue({id:t,field:o,value:n},e)},[a,o,t]);return l.useEffect(()=>{O(n)},[n]),Kt(()=>{h&&v.current.focus()},[h]),l.createElement("label",Object.assign({htmlFor:y,className:Object(u.default)(Nn.editBooleanCell,p)},g),l.createElement(S.a,{id:y,inputRef:v,checked:Boolean(w),onChange:C,size:"small"}))}const Ma=Object.assign(Object.assign({},Pa),{type:"boolean",align:"center",headerAlign:"center",renderCell:e=>l.createElement(Ta,Object.assign({},e)),renderEditCell:e=>l.createElement(Ra,Object.assign({},e)),sortComparator:ra,valueFormatter:function({value:e,api:t}){return e?t.getLocaleText("booleanCellTrueLabel"):t.getLocaleText("booleanCellFalseLabel")},filterOperators:[{value:"is",getApplyFilterFn:e=>{if(!e.value)return null;const t="true"===e.value;return({value:e})=>Boolean(e)===t},InputComponent:function(e){const{item:t,applyValue:n,apiRef:r}=e,a=Xr(e,["item","applyValue","apiRef"]),[o,i]=l.useState(t.value||""),c=l.useCallback(e=>{const r=e.target.value;i(r),n(Object.assign(Object.assign({},t),{value:r}))},[n,t]);return l.useEffect(()=>{i(t.value||"")},[t.value]),l.createElement(x.a,Object.assign({label:r.current.getLocaleText("filterPanelInputLabel"),value:o,onChange:c,variant:"standard",select:!0,SelectProps:{native:!0},InputLabelProps:{shrink:!0}},a),l.createElement("option",{value:""},r.current.getLocaleText("filterValueAny")),l.createElement("option",{value:"true"},r.current.getLocaleText("filterValueTrue")),l.createElement("option",{value:"false"},r.current.getLocaleText("filterValueFalse")))}}]}),Ia=Object.assign(Object.assign({},Ma),{field:"__check__",type:"checkboxSelection",width:50,resizable:!1,sortable:!1,filterable:!1,disableColumnMenu:!0,disableReorder:!0,valueGetter:e=>void 0!==Jr(e.api.state)[e.id],renderHeader:e=>l.createElement(Yr,Object.assign({},e)),renderCell:e=>l.createElement(Vr,Object.assign({},e)),cellClassName:Nn.cellCheckbox,headerClassName:Nn.columnHeaderCheckbox}),Aa=()=>[{label:"=",value:"=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)===e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:"!=",value:"!=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)!==e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:">",value:">",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)>e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:">=",value:">=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)>=e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:"<",value:"<",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)<e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{label:"<=",value:"<=",getApplyFilterFn:e=>null==e.value?null:({value:t})=>Number(t)<=e.value,InputComponent:Sa,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>null!=e}],La=Object.assign(Object.assign({},Pa),{type:"number",align:"right",headerAlign:"right",sortComparator:ra,valueParser:e=>Number(e),valueFormatter:({value:e})=>e&&function(e){return"number"==typeof e}(e)&&e.toLocaleString()||e,filterOperators:Aa()}),Fa=/(\d+)-(\d+)-(\d+)/,Na=/(\d+)-(\d+)-(\d+)T(\d+):(\d+)/;function Da(e,t,n,r){if(!e.value)return null;const[a,o,i,l,c]=e.value.match(n?Na:Fa).slice(1).map(Number),u=new Date(a,o-1,i,l||0,c||0).getTime();return({value:e})=>{if(!e)return!1;const a=e instanceof Date?e:new Date(e.toString());if(r)return t(a.getTime(),u);const o=(e instanceof Date?new Date(a):a).setHours(n?a.getHours():0,n?a.getMinutes():0,0,0);return t(o,u)}}const _a=e=>[{value:"is",getApplyFilterFn:t=>Da(t,(e,t)=>e===t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Da(t,(e,t)=>e!==t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Da(t,(e,t)=>e>t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Da(t,(e,t)=>e>=t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Da(t,(e,t)=>e<t,e,!e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Da(t,(e,t)=>e<=t,e),InputComponent:Sa,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>({value:e})=>null==e},{value:"isNotEmpty",getApplyFilterFn:()=>({value:e})=>null!=e}];function za(e){const{id:t,value:n,formattedValue:r,api:a,field:o,row:i,colDef:c,cellMode:u,isEditable:s,tabIndex:d,hasFocus:f,getValue:p}=e,m=Xr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","hasFocus","getValue"]),h=l.useRef(),[g,b]=l.useState(n),v=l.useCallback(e=>{const n=e.target.value;if(b(n),""===n)return void a.setEditCellValue({id:t,field:o,value:null},e);const[r,i]=n.split("T"),[l,c,u]=r.split("-"),s=new Date;if(s.setFullYear(Number(l)),s.setMonth(Number(c)-1),s.setDate(Number(u)),s.setHours(0,0,0,0),i){const[e,t]=i.split(":");s.setHours(Number(e),Number(t),0,0)}a.setEditCellValue({id:t,field:o,value:s},e)},[a,o,t]),y="dateTime"===c.type;l.useEffect(()=>{b(n)},[n]),Kt(()=>{f&&h.current.focus()},[f]);let w=g||"";if(g instanceof Date){const e=g.getTimezoneOffset();w=new Date(g.getTime()-60*e*1e3).toISOString().substr(0,y?16:10)}return l.createElement(k.a,Object.assign({inputRef:h,fullWidth:!0,className:Nn.editInputCell,type:y?"datetime-local":"date",value:w,onChange:v},m))}const Ba=e=>l.createElement(za,Object.assign({},e));function Ha({value:e}){return e instanceof Date?e.toLocaleDateString():e}function Wa({value:e}){return e instanceof Date?e.toLocaleString():e}const Va=Object.assign(Object.assign({},Pa),{type:"date",sortComparator:aa,valueFormatter:Ha,filterOperators:_a(),renderEditCell:Ba}),Ga=Object.assign(Object.assign({},Pa),{type:"dateTime",sortComparator:aa,valueFormatter:Wa,filterOperators:_a(!0),renderEditCell:Ba});var Ua,qa,$a;!function(e){e.Cell="cell",e.Row="row"}(Ua||(Ua={})),function(e){e.Edit="edit",e.View="view"}(qa||(qa={})),function(e){e.Edit="edit",e.View="view"}($a||($a={}));const Ka=e=>"object"==typeof e?l.createElement(P.a,{key:e.value,value:e.value},e.label):l.createElement(P.a,{key:e,value:e},e);function Ja(e){var t;const{id:n,value:r,formattedValue:a,api:o,field:i,row:c,colDef:u,cellMode:s,isEditable:d,tabIndex:f,className:p,getValue:m,hasFocus:h}=e,g=Xr(e,["id","value","formattedValue","api","field","row","colDef","cellMode","isEditable","tabIndex","className","getValue","hasFocus"]),b=l.useRef(),v=Hr(),[y,w]=l.useState("cell"===v.editMode);return Kt(()=>{h&&b.current.querySelector('[role="button"]').focus()},[h]),l.createElement(j.a,Object.assign({ref:b,value:r,onChange:e=>{w(!1),o.setEditCellValue({id:n,field:i,value:e.target.value},e),e.key||"cell"!==v.editMode||(o.commitCellChange({id:n,field:i},e),o.setCellMode(n,i,"view"))},open:y,onOpen:()=>{w(!0)},MenuProps:{onClose:(e,t)=>{v.editMode!==Ua.Row?("backdropClick"===t||kr(e.key))&&o.setCellMode(n,i,"view"):w(!1)}},fullWidth:!0},g),null===(t=u.valueOptions)||void 0===t?void 0:t.map(Ka))}const Ya=e=>l.createElement(Ja,Object.assign({},e)),Xa=Object.assign(Object.assign({},Pa),{type:"singleSelect",renderEditCell:Ya,filterOperators:[{value:"is",getApplyFilterFn:e=>null==e.value||""===e.value?null:({value:t})=>"object"==typeof t?e.value===t.value:e.value===t,InputComponent:Sa,InputComponentProps:{type:"singleSelect"}},{value:"not",getApplyFilterFn:e=>null==e.value||""===e.value?null:({value:t})=>"object"==typeof t?e.value!==t.value:e.value!==t,InputComponent:Sa,InputComponentProps:{type:"singleSelect"}}]}),Za="__default__",Qa=()=>{const e={string:Pa,number:La,date:Va,dateTime:Ga,boolean:Ma,singleSelect:Xa};return e.__default__=Pa,e},eo=(e,t)=>t?e[t]:e.__default__,to="string",no="number",ro="date",ao="dateTime",oo="boolean",io=l.memo((function(e){const{direction:t,index:n}=e,r=Z(),a=r.current.components.ColumnUnsortedIcon;if(null==t&&null===a)return null;const o=l.createElement(R.a,{tabIndex:-1,"aria-label":r.current.getLocaleText("columnHeaderSortIconLabel"),title:r.current.getLocaleText("columnHeaderSortIconLabel"),size:"small"},function(e,t){let n=e.ColumnUnsortedIcon;return"asc"===t?n=e.ColumnSortedAscendingIcon:"desc"===t&&(n=e.ColumnSortedDescendingIcon),l.createElement(n,{fontSize:"small",className:Nn.sortIcon})}(r.current.components,t));return l.createElement("div",{className:Nn.iconButtonContainer},null!=n&&l.createElement(T.a,{badgeContent:n,color:"default"},o),null==n&&o)}));function lo(e,t){return e.closest("."+t)}function co(e){return null!=e&&e.classList.contains(Nn.columnHeader)}function uo(e){const t=e.getAttribute("data-field"),n=lo(e,"MuiDataGrid-root");if(!n)throw new Error("Material-UI: The root element is not found.");return n.querySelectorAll(`.${Nn.cell}[data-field="${t}"]`)}function so(e){return e.replace(/["\\]/g,"\\$&")}function fo(e,t){return e.querySelector(`.${Nn.row}[data-id="${so(String(t))}"]`)}const po=l.forwardRef((function(e,t){const{className:n}=e,r=Xr(e,["className"]);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.columnHeaderTitle,n)},r))}));function mo(e){const{label:t,description:n,columnWidth:r}=e,a=l.useRef(null),[o,i]=l.useState("");return l.useEffect(()=>{if(!n&&a&&a.current){const n=(e=a.current).scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth;i(n?t:"")}var e},[a,r,n,t]),l.createElement(M.a,{title:n||o},l.createElement(po,{ref:a},t))}const ho=l.memo((function(e){const{resizable:t,resizing:n,height:r}=e,a=Xr(e,["resizable","resizing","height"]),o=Z(),i=Hr(),c=o.current.components.ColumnResizeIcon,s=l.useCallback(e=>{e.preventDefault(),e.stopPropagation()},[]);return l.createElement("div",Object.assign({className:Object(u.default)(Nn.columnSeparator,{[Nn["columnSeparator--resizable"]]:t,"Mui-resizing":n}),style:{minHeight:r,opacity:i.showColumnRightBorder?0:1}},a,{onClick:s}),l.createElement(c,{className:Nn.iconSeparator}))})),go=l.memo(e=>{const{column:t,open:n,columnMenuId:r,columnMenuButtonId:a,iconButtonRef:o}=e,i=Z(),c=i.current.components.ColumnMenuIcon,s=l.useCallback(e=>{e.preventDefault(),e.stopPropagation(),i.current.toggleColumnMenu(t.field)},[i,t.field]);return l.createElement("div",{className:Object(u.default)(Nn.menuIcon,{[Nn.menuOpen]:n})},l.createElement(R.a,{ref:o,tabIndex:-1,className:Nn.menuIconButton,"aria-label":i.current.getLocaleText("columnMenuLabel"),title:i.current.getLocaleText("columnMenuLabel"),size:"small",onClick:s,"aria-expanded":n?"true":void 0,"aria-haspopup":"true","aria-controls":r,id:a},l.createElement(c,{fontSize:"small"})))}),bo=e=>e.preferencePanel,vo=e=>e.viewportSizes;var yo;function wo(e){const{counter:t}=e,n=Z(),r=n.current.components.ColumnFilteredIcon,a=l.useCallback(e=>{e.preventDefault(),e.stopPropagation();const{open:t,openedPanelValue:r}=bo(n.current.state);t&&r===yo.filters?n.current.hideFilterPanel():n.current.showFilterPanel()},[n]);if(!t)return null;const o=l.createElement(R.a,{onClick:a,color:"default","aria-label":n.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1},l.createElement(r,{className:Nn.filterIcon,fontSize:"small"}));return l.createElement(M.a,{title:n.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},l.createElement("div",{className:Nn.iconButtonContainer},t>1&&l.createElement(T.a,{badgeContent:t,color:"default"},o),1===t&&o))}!function(e){e.filters="filters",e.columns="columns"}(yo||(yo={}));const Oo=Object(C.a)(e=>({root:{zIndex:e.zIndex.modal,"& .MuiDataGrid-gridMenuList":{outline:0}}}),{name:"MuiGridMenu",defaultTheme:rn()}),Co={"bottom-start":"top left","bottom-end":"top right"},Eo=e=>{const{open:t,target:n,onClickAway:r,children:a,position:o}=e,i=Xr(e,["open","target","onClickAway","children","position"]),c=l.useRef(n),u=l.useRef(t),s=Oo();return l.useEffect(()=>{u.current&&c.current&&c.current.focus(),u.current=t,c.current=n},[t,n]),l.createElement(F.a,Object.assign({className:s.root,open:t,anchorEl:n,transition:!0,placement:o},i),({TransitionProps:e,placement:t})=>l.createElement(I.a,{onClickAway:r},l.createElement(A.a,Object.assign({},e,{style:{transformOrigin:Co[t]}}),l.createElement(L.a,null,a))))};function ko({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:r,field:a,open:o,target:i}){const c=Z(),u=null==c?void 0:c.current.getColumn(a),s=l.useCallback(e=>{e.stopPropagation(),null==c||c.current.hideColumnMenu()},[c]);return i?l.createElement(Eo,{placement:"bottom-"+("right"===u.align?"start":"end"),open:o,target:i,onClickAway:s},l.createElement(n,Object.assign({currentColumn:u,hideMenu:s,open:o,id:e,labelledby:t},r))):null}function xo(e){var t;const{column:n,columnMenuOpen:r,colIndex:a,headerHeight:i,isDragging:c,isResizing:s,sortDirection:d,sortIndex:f,options:p,filterItemsCounter:m,hasFocus:h,tabIndex:g}=e,v=Z(),y=l.useRef(null),w=Object(b.a)(),O=Object(b.a)(),C=l.useRef(null),{classes:E,disableColumnReorder:k,showColumnRightBorder:x,disableColumnResize:S,disableColumnMenu:j,disableColumnFilter:P}=p,T=null!=d,R="number"===n.type;let M=null;n.renderHeader&&v.current&&(M=n.renderHeader(v.current.getColumnHeaderParams(n.field)));const I=l.useCallback(e=>t=>v.current.publishEvent(e,v.current.getColumnHeaderParams(n.field),t),[v,n.field]),A=l.useMemo(()=>({onClick:I(o.columnHeaderClick),onDoubleClick:I(o.columnHeaderDoubleClick),onMouseOver:I(o.columnHeaderOver),onMouseOut:I(o.columnHeaderOut),onMouseEnter:I(o.columnHeaderEnter),onMouseLeave:I(o.columnHeaderLeave),onKeyDown:I(o.columnHeaderKeyDown),onFocus:I(o.columnHeaderFocus),onBlur:I(o.columnHeaderBlur)}),[I]),L=l.useMemo(()=>({onDragStart:I(o.columnHeaderDragStart),onDragEnter:I(o.columnHeaderDragEnter),onDragOver:I(o.columnHeaderDragOver),onDragEnd:I(o.columnHeaderDragEnd)}),[I]),F=l.useMemo(()=>({onMouseDown:I(o.columnSeparatorMouseDown)}),[I]),N=[null==E?void 0:E.columnHeader];if(n.headerClassName){const e=Qt(n.headerClassName)?n.headerClassName({field:n.field,colDef:n}):n.headerClassName;N.push(e)}const D=Object(u.default)("center"===n.headerAlign&&Nn["columnHeader--alignCenter"],"right"===n.headerAlign&&Nn["columnHeader--alignRight"],{[Nn["columnHeader--sortable"]]:n.sortable,[Nn["columnHeader--moving"]]:c,[Nn["columnHeader--sorted"]]:T,[Nn["columnHeader--numeric"]]:R,[Nn.withBorder]:x},...N),_=n.computedWidth;let z;null!=d&&(z={"aria-sort":"asc"===d?"ascending":"descending"});const B=!j&&!n.disableColumnMenu&&l.createElement(go,{column:n,columnMenuId:w,columnMenuButtonId:O,open:r,iconButtonRef:C}),H=l.createElement(l.Fragment,null,!P&&l.createElement(wo,{counter:m}),n.sortable&&!n.hideSortIcons&&l.createElement(io,{direction:d,index:f}));return l.useLayoutEffect(()=>{const e=v.current.state.columnMenu;if(h&&!e.open){const e=y.current.querySelector('[tabindex="0"]');e?e.focus():y.current.focus()}}),l.createElement("div",Object.assign({ref:y,className:D,key:n.field,"data-field":n.field,style:{width:_,minWidth:_,maxWidth:_},role:"columnheader",tabIndex:g,"aria-colindex":a+1},z,A),l.createElement("div",Object.assign({className:Nn.columnHeaderDraggableContainer,draggable:!k&&!n.disableReorder},L),l.createElement("div",{className:Nn.columnHeaderTitleContainer},M||l.createElement(mo,{label:n.headerName||n.field,description:n.description,columnWidth:_}),H),B),l.createElement(ho,Object.assign({resizable:!S&&!!n.resizable,resizing:s,height:i},F)),l.createElement(ko,{columnMenuId:w,columnMenuButtonId:O,field:n.field,open:r,target:C.current,ContentComponent:v.current.components.ColumnMenu,contentComponentProps:null===(t=v.current.componentsProps)||void 0===t?void 0:t.columnMenu}))}function So(e){const{columns:t}=e,n=Z(),r=An(n,Er),a=An(n,nr),o=An(n,dr),i=An(n,Gn),c=An(n,qn),u=An(n,mr),s=An(n,Ln).renderContext,d=An(n,br),f=An(n,gr),p=An(n,Or),m=An(n,Cr),h=t.map((e,t)=>{const n=(h=t,null==s?h:h+s.firstColIdx);var h;const g=0===n,b=!(null===d&&null===f),v=null!==d&&d.field===e.field||g&&!b?0:-1,y=null!==u&&u.field===e.field,w=m.open&&m.field===e.field;return l.createElement(xo,Object.assign({key:e.field},a[e.field],{columnMenuOpen:w,filterItemsCounter:o[e.field]&&o[e.field].length,options:r,headerHeight:p,isDragging:e.field===i,column:e,colIndex:n,isResizing:c===e.field,hasFocus:y,tabIndex:v}))});return l.createElement(l.Fragment,null,h)}const jo=e=>e.containerSizes,Po=e=>e.viewportSizes,To=e=>e.scrollBar,Ro=Object(s.a)(jo,e=>null==e?null:e.dataContainerSizes),Mo=Object(s.a)(jo,e=>null==e?0:e.dataContainerSizes.height),Io=e=>e.scrollBar,Ao=l.forwardRef((function(e,t){var n;const r=Z(),a=An(r,re),o=An(r,jo),i=An(r,Or),c=An(r,Ln).renderContext,{hasScrollX:s}=An(r,Io),d=An(r,Gn),f=Object(u.default)(Nn.columnHeaderWrapper,{scroll:s,[Nn.columnHeaderDropZone]:d}),p=l.useMemo(()=>null==c?[]:a.slice(c.firstColIdx,c.lastColIdx+1),[a,c]);return l.createElement(l.Fragment,null,l.createElement(Wn,{scrollDirection:"left"}),l.createElement("div",{ref:t,className:f,"aria-rowindex":1,role:"row",style:{minWidth:null===(n=null==o?void 0:o.totalSizes)||void 0===n?void 0:n.width}},l.createElement(Dn,{width:null==c?void 0:c.leftEmptyWidth,height:i}),l.createElement(So,{columns:p}),l.createElement(Dn,{width:null==c?void 0:c.rightEmptyWidth,height:i})),l.createElement(Wn,{scrollDirection:"right"}))})),Lo=l.forwardRef((function(e,t){const{className:n,style:r}=e,a=Xr(e,["className","style"]),o=Z(),i=An(o,Or);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.columnsContainer,n)},a,{style:Object.assign({minHeight:i,maxHeight:i,lineHeight:i+"px"},r)}))}));function Fo(e){return l.createElement("div",{className:Nn.main},e.children)}const No=l.forwardRef((function(e,t){const{className:n,size:r}=e,a=Xr(e,["className","size"]),o=Z(),i=Hr(),c=An(o,Or),s=An(o,wr),d=An(o,Mo);l.useEffect(()=>{o.current.resize()},[o]);const f=l.useMemo(()=>i.autoHeight?c+(d<s?2*s:d):r.height,[i.autoHeight,d,c,s,r.height]);return l.createElement("div",{className:Nn.windowContainer,style:{width:r.width,height:f}},l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.window,n)},a,{style:{top:c,overflowY:i.autoHeight?"hidden":"auto"}})))}));const Do=l.forwardRef((function(e,t){const{children:n,defaultHeight:r=null,defaultWidth:a=null,disableHeight:o=!1,disableWidth:i=!1,nonce:c,onResize:u,style:s}=e,d=Xr(e,["children","defaultHeight","defaultWidth","disableHeight","disableWidth","nonce","onResize","style"]),[f,p]=l.useState({height:r,width:a}),m=l.useRef(null),g=l.useRef(null),b=$t(()=>{if(g.current){const e=g.current.offsetHeight||0,t=g.current.offsetWidth||0,n=Object(v.a)(g.current).getComputedStyle(g.current),r=parseInt(n.paddingLeft,10)||0,a=parseInt(n.paddingRight,10)||0,l=e-(parseInt(n.paddingTop,10)||0)-(parseInt(n.paddingBottom,10)||0),c=t-r-a;(!o&&f.height!==l||!i&&f.width!==c)&&(p({height:l,width:c}),u&&u({height:l,width:c}))}});Kt(()=>{var e;if(g.current=m.current.parentElement,!g)return;const t=Object(v.a)(null!==(e=g.current)&&void 0!==e?e:void 0),n=function(e,t){var n=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,a=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,a.style.width=n.offsetWidth+1+"px",a.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},r=function(e){if(!(e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var r=this;n(this),this.__resizeRAF__&&t.cancelAnimationFrame(this.__resizeRAF__),this.__resizeRAF__=t.requestAnimationFrame((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(r)&&(r.__resizeLast__.width=r.offsetWidth,r.__resizeLast__.height=r.offsetHeight,r.__resizeListeners__.forEach((function(t){t.call(r,e)})))}))}},a=!1,o="",i="animationstart",l="Webkit Moz O ms".split(" "),c="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),u=document.createElement("fakeelement");if(void 0!==u.style.animationName&&(a=!0),!1===a)for(var s=0;s<l.length;s++)if(void 0!==u.style[l[s]+"AnimationName"]){o="-"+l[s].toLowerCase()+"-",i=c[s],a=!0;break}var d="@"+o+"keyframes resizeanim { from { opacity: 0; } to { opacity: 0; } } ",f=o+"animation: 1ms resizeanim; ";return{addResizeListener:function(a,o){if(!a.__resizeTriggers__){var l=a.ownerDocument,c=t.getComputedStyle(a);c&&"static"==c.position&&(a.style.position="relative"),function(t){if(!t.getElementById("muiDetectElementResize")){var n=(d||"")+".Mui-resizeTriggers { "+(f||"")+'visibility: hidden; opacity: 0; } .Mui-resizeTriggers, .Mui-resizeTriggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .Mui-resizeTriggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style");a.id="muiDetectElementResize",a.type="text/css",null!=e&&a.setAttribute("nonce",e),a.styleSheet?a.styleSheet.cssText=n:a.appendChild(t.createTextNode(n)),r.appendChild(a)}}(l),a.__resizeLast__={},a.__resizeListeners__=[],(a.__resizeTriggers__=l.createElement("div")).className="Mui-resizeTriggers",a.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',a.appendChild(a.__resizeTriggers__),n(a),a.addEventListener("scroll",r,!0),i&&(a.__resizeTriggers__.__animationListener__=function(e){"resizeanim"==e.animationName&&n(a)},a.__resizeTriggers__.addEventListener(i,a.__resizeTriggers__.__animationListener__))}a.__resizeListeners__.push(o)},removeResizeListener:function(e,t){if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",r,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(i,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}(c,t);return n.addResizeListener(g.current,b),b(),()=>{n.removeResizeListener(g.current,b)}},[c,b]);const y={overflow:"visible"},w={};o||(y.height=0,w.height=f.height),i||(y.width=0,w.width=f.width);const O=Object(h.a)(m,t);return l.createElement("div",Object.assign({ref:O,style:Object.assign(Object.assign({},y),s)},d),null===f.height&&null===f.width?null:n(w))})),_o=e=>e.editRows;function zo(e){const{className:t}=e,n=Xr(e,["className"]),r=Z(),a=An(r,Ro),o={minWidth:null==a?void 0:a.width,minHeight:null==a?void 0:a.height};return l.createElement("div",Object.assign({className:Object(u.default)(Nn.dataContainer,t),style:o},n))}const Bo=l.forwardRef((function(e,t){const{height:n,width:r,children:a}=e;return l.createElement("div",{ref:t,className:Nn.renderingZone,style:{maxHeight:n,width:r}},a)})),Ho="MuiDataGrid",Wo="root",Vo="columnHeader",Go="row",Uo="cell",qo="MuiDataGrid-columnHeader",$o="MuiDataGrid-row",Ko="MuiDataGrid-cell",Jo="MuiDataGrid-columnSeparator--resizable",Yo="MuiDataGrid-columnHeaderTitleContainer",Xo="MuiDataGrid-columnHeaderDropZone",Zo="MuiDataGrid-columnHeader--dragging";function Qo(e){const{selected:t,id:n,rowIndex:r,children:a}=e,i=r+2,c=Z(),s=An(c,wr),{classes:d,getRowClassName:f,editMode:p}=An(c,Er),m=l.useCallback(e=>t=>{(1!==t.target.nodeType||t.currentTarget.contains(t.target))&&c.current.getRow(n)&&c.current.publishEvent(e,null==c?void 0:c.current.getRowParams(n),t)},[c,n]),h=l.useMemo(()=>({onClick:m(o.rowClick),onDoubleClick:m(o.rowDoubleClick),onMouseOver:m(o.rowOver),onMouseOut:m(o.rowOut),onMouseEnter:m(o.rowEnter),onMouseLeave:m(o.rowLeave)}),[m]),g={maxHeight:s,minHeight:s},b=Qt(f)&&f(c.current.getRowParams(n)),v=Object(u.default)(b,null==d?void 0:d.row,{"Mui-selected":t,"MuiDataGrid-row--editing":c.current.getRowMode(n)===$a.Edit,"MuiDataGrid-row--editable":p===Ua.Row});return l.createElement("div",Object.assign({key:n,"data-id":n,"data-rowindex":r,role:"row",className:v,"aria-rowindex":i,"aria-selected":t,style:g},h),a)}function ei(e,t,n){if(null==e)throw new Error(["Material-UI: The data grid component requires all rows to have a unique id property.",n||"A row was provided without id in the rows prop:",JSON.stringify(t)].join("\n"));return!0}const ti=l.memo((function(e){const{align:t,className:n,children:r,colIndex:a,cellMode:i,field:c,formattedValue:s,hasFocus:d,height:f,isEditable:p,isSelected:m,rowIndex:h,rowId:g,showRightBorder:b,tabIndex:v,value:O,width:C}=e,E=null==s?O:s,k=l.useRef(null),x=Z(),S=Object(u.default)(n,""+Nn["cell--text"+Object(y.a)(t)],{[""+Nn.withBorder]:b,[""+Nn["cell--editable"]]:p}),j=l.useCallback(e=>t=>{if(t.relatedTarget&&t.currentTarget.contains(t.relatedTarget))return;const n=x.current.getCellParams(g,c||"");x.current.publishEvent(e,n,t)},[x,c,g]),P=l.useCallback(e=>t=>{const n=x.current.getCellParams(g,c||"");x.current.publishEvent(e,n,t)},[x,c,g]),T=l.useCallback(e=>t=>{if(1===t.target.nodeType&&!t.currentTarget.contains(t.target))return;if(!x.current.getRow(g))return;const n=x.current.getCellParams(g,c||"");x.current.publishEvent(e,n,t)},[x,c,g]),R=l.useMemo(()=>({onClick:T(o.cellClick),onDoubleClick:T(o.cellDoubleClick),onMouseDown:T(o.cellMouseDown),onMouseUp:P(o.cellMouseUp),onMouseOver:T(o.cellOver),onMouseOut:T(o.cellOut),onMouseEnter:T(o.cellEnter),onMouseLeave:T(o.cellLeave),onKeyDown:T(o.cellKeyDown),onBlur:j(o.cellBlur),onFocus:T(o.cellFocus),onDragStart:T(o.cellDragStart),onDragEnter:T(o.cellDragEnter),onDragOver:T(o.cellDragOver)}),[T,j,P]),M={minWidth:C,maxWidth:C,lineHeight:f-1+"px",minHeight:f,maxHeight:f};return l.useLayoutEffect(()=>{if(!d||i===qa.Edit)return;const e=Object(w.a)(x.current.rootElementRef.current);if(k.current&&!k.current.contains(e.activeElement)){const e=k.current.querySelector('[tabindex="0"]');e?e.focus():k.current.focus()}}),l.createElement("div",Object.assign({ref:k,className:S,role:"cell","data-value":O,"data-field":c,"data-rowindex":h,"data-colindex":a,"data-rowselected":m,"data-editable":p,"data-mode":i,"aria-colindex":a+1,style:M,tabIndex:"view"!==i&&p?-1:v},R),null!=r?r:null==E?void 0:E.toString())})),ni=l.memo((function(e){const{columns:t,firstColIdx:n,hasScrollX:r,hasScrollY:a,height:o,id:i,getCellClassName:c,lastColIdx:s,rowIndex:d,cellFocus:f,cellTabIndex:p,showCellRightBorder:m,isSelected:h,editRowState:g,cellClassName:b}=e,v=Xr(e,["columns","firstColIdx","hasScrollX","hasScrollY","height","id","getCellClassName","lastColIdx","rowIndex","cellFocus","cellTabIndex","showCellRightBorder","isSelected","editRowState","cellClassName"]),y=Z(),w=t.slice(n,s+1).map((l,s)=>{const w=n+s,O=w===t.length-1,C=O?!(O&&r&&!a||e.extendRowFullWidth):m,E=y.current.getCellParams(i,l.field),k=[b];l.cellClassName&&k.push(Object(u.default)(Qt(l.cellClassName)?l.cellClassName(E):l.cellClassName));const x=g&&g[l.field];let S=null;if(null==x&&l.renderCell&&(S=l.renderCell(Object.assign(Object.assign({},E),{api:y.current})),k.push(Nn["cell--withRenderer"])),null!=x&&l.renderEditCell){const e=Object.assign(Object.assign(Object.assign({},E),x),{api:y.current});S=l.renderEditCell(e),k.push(Nn["cell--editing"])}return c&&k.push(c(E)),Object.assign({value:E.value,field:l.field,width:l.computedWidth,rowId:i,height:o,showRightBorder:C,formattedValue:E.formattedValue,align:l.align||"left",rowIndex:d,cellMode:E.cellMode,colIndex:w,children:S,isEditable:E.isEditable,isSelected:h,hasFocus:null!==f&&f.id===i&&f.field===l.field,tabIndex:null!==p&&p.id===i&&p.field===l.field&&"view"===E.cellMode?0:-1,className:Object(u.default)(k)},v)});return l.createElement(l.Fragment,null,w.map(e=>l.createElement(ti,Object.assign({key:e.field},e))))}));function ri(e){const{height:t,width:n,children:r}=e;return l.createElement("div",{className:Nn.viewport,style:{minWidth:n,maxWidth:n,maxHeight:t}},r)}const ai=l.forwardRef((function(e,t){const n=Z(),r=Hr(),a=An(n,Er),o=An(n,jo),i=An(n,Po),c=An(n,To),u=An(n,re),s=An(n,Ln),d=An(n,pr),f=An(n,gr),p=An(n,Jr),m=An(n,or),h=An(n,wr),g=An(n,_o);return l.createElement(zo,null,l.createElement(ri,Object.assign({},i),l.createElement(Bo,Object.assign({ref:t},(null==o?void 0:o.renderingZone)||{width:0,height:0}),null==s.renderContext?null:m.slice(s.renderContext.firstRowIdx,s.renderContext.lastRowIdx).map(([e,t],n)=>{var o;return l.createElement(Qo,{key:e,id:e,selected:void 0!==p[e],rowIndex:s.renderContext.firstRowIdx+n},l.createElement(Dn,{width:s.renderContext.leftEmptyWidth,height:h}),l.createElement(ni,{columns:u,row:t,id:e,height:h,firstColIdx:s.renderContext.firstColIdx,lastColIdx:s.renderContext.lastColIdx,hasScrollX:c.hasScrollX,hasScrollY:c.hasScrollY,showCellRightBorder:!!r.showCellRightBorder,extendRowFullWidth:!r.disableExtendRowFullWidth,rowIndex:s.renderContext.firstRowIdx+n,cellFocus:d,cellTabIndex:f,isSelected:void 0!==p[e],editRowState:g[e],cellClassName:null===(o=a.classes)||void 0===o?void 0:o.cell,getCellClassName:r.getCellClassName}),l.createElement(Dn,{width:s.renderContext.rightEmptyWidth,height:h}))}))))}));function oi(){var e,t,n;const r=Z(),a=Hr(),o=An(r,Kn),i=An(r,lr),c=!a.loading&&0===o,u=!a.loading&&o>0&&0===i;return c?l.createElement(r.current.components.NoRowsOverlay,Object.assign({},null===(e=a.componentsProps)||void 0===e?void 0:e.noRowsOverlay)):u?l.createElement(r.current.components.NoResultsOverlay,Object.assign({},null===(t=a.componentsProps)||void 0===t?void 0:t.noResultsOverlay)):a.loading?l.createElement(r.current.components.LoadingOverlay,Object.assign({},null===(n=a.componentsProps)||void 0===n?void 0:n.loadingOverlay)):null}function ii(e){const{children:t}=e,n=Z(),r=Hr(),a=l.useRef(null),i=l.useRef(null),c=l.useRef(null),u=l.useRef(null);n.current.columnHeadersContainerElementRef=i,n.current.columnHeadersElementRef=a,n.current.windowRef=c,n.current.renderingZoneRef=u;const s=l.useCallback(e=>n.current.publishEvent(o.resize,e),[n]);return l.createElement(Fo,null,l.createElement(oi,null),l.createElement(Lo,{ref:i},l.createElement(Ao,{ref:a})),l.createElement(Do,{nonce:r.nonce,disableHeight:r.autoHeight,onResize:s},e=>l.createElement(No,{ref:c,size:e},l.createElement(ai,{ref:u}))),t)}class li extends l.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.api.current&&(this.logError(e),this.props.api.current.showError({error:e,errorInfo:t}))}logError(e,t){this.props.logger.error(`An unexpected error occurred. Error: ${e&&e.message}. `,e,t)}render(){var e;return this.props.hasError||(null===(e=this.state)||void 0===e?void 0:e.hasError)?this.props.render(this.props.componentProps||this.state):this.props.children}}function ci(e){const{children:t}=e,n=Z(),r=mn(n,"GridErrorHandler"),a=Hr(),[o]=In(n);return l.createElement(li,{hasError:null!=o.error,componentProps:o.error,api:n,logger:r,render:e=>{var t;return l.createElement(Fo,null,l.createElement(n.current.components.ErrorOverlay,Object.assign({},e,null===(t=a.componentsProps)||void 0===t?void 0:t.errorOverlay)))}},t)}function ui(){var e;const t=Z(),n=Hr(),r=l.useRef(null);return t.current.footerRef=r,n.hideFooter?null:l.createElement("div",{ref:r},l.createElement(t.current.components.Footer,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.footer)))}function si(){var e;const t=Z(),n=Hr(),r=l.useRef(null);return t.current.headerRef=r,l.createElement("div",{ref:r},l.createElement(t.current.components.Header,Object.assign({},null===(e=n.componentsProps)||void 0===e?void 0:e.header)))}const di=Object(C.a)(e=>{const t="light"===en(e.palette)?Object(f.j)(nn(e.palette.divider,1),.88):Object(f.b)(nn(e.palette.divider,1),.68),n={root:Object.assign(Object.assign({flex:1,boxSizing:"border-box",position:"relative",border:"1px solid "+t,borderRadius:e.shape.borderRadius,color:e.palette.text.primary},e.typography.body2),{outline:"none",height:"100%",display:"flex",flexDirection:"column",["&."+Nn.autoHeight]:{height:"auto"},["& ."+Nn.main]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& ."+Nn.overlay]:{display:"flex",position:"absolute",top:0,left:0,right:0,bottom:0,alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:nn(e.palette.background.default,e.palette.action.disabledOpacity)},["& ."+Nn.toolbarContainer]:{display:"flex",alignItems:"center",padding:"4px 4px 0"},["& ."+Nn.columnsContainer]:{position:"absolute",top:0,left:0,right:0,overflow:"hidden",display:"flex",flexDirection:"column",borderBottom:"1px solid "+t},["& ."+Nn.scrollArea]:{position:"absolute",top:0,zIndex:101,width:20,bottom:0},["& ."+Nn["scrollArea--left"]]:{left:0},["& ."+Nn["scrollArea--right"]]:{right:0},["& ."+Nn.columnHeaderWrapper]:{display:"flex",width:"100%",alignItems:"center",overflow:"hidden"},[`& .${Nn.columnHeader}, & .${Nn.cell}`]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},[`& .${Nn.columnHeader}:focus-within, & .${Nn.cell}:focus-within`]:{outline:`solid ${nn(e.palette.primary.main,.5)} 1px`,outlineWidth:1,outlineOffset:-1},[`& .${Nn.columnHeader}:focus, & .${Nn.cell}:focus`]:{outline:`solid ${e.palette.primary.main} 1px`},[`& .${Nn.columnHeaderCheckbox}, & .${Nn.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},["& ."+Nn.columnHeader]:{position:"relative",display:"flex",alignItems:"center"},[`& .${Nn.columnHeader}:not(.${Nn["columnHeader--sorted"]}) .${Nn.sortIcon}`]:{opacity:0,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shorter})},[`& .${Nn.columnHeader}:not(.${Nn["columnHeader--sorted"]}):hover .${Nn.sortIcon}`]:{opacity:.5},["& ."+Nn.columnHeaderTitleContainer]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",padding:"0 6px"},[`& .${Nn.sortIcon}, & .${Nn.filterIcon}`]:{fontSize:"inherit"},["& ."+Nn["columnHeader--sortable"]]:{cursor:"pointer"},[`& .${Nn["columnHeader--alignCenter"]} .${Nn.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${Nn["columnHeader--alignRight"]} .${Nn.columnHeaderDraggableContainer}, & .${Nn["columnHeader--alignRight"]} .${Nn.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${Nn["columnHeader--alignCenter"]} .${Nn.menuIcon}, & .${Nn["columnHeader--alignRight"]} .${Nn.menuIcon}`]:{marginRight:"auto",marginLeft:-6},["& ."+Nn.columnHeaderTitle]:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:e.typography.fontWeightMedium},["& ."+Nn["columnHeader--moving"]]:{backgroundColor:e.palette.action.hover},["& ."+Nn.columnSeparator]:{position:"absolute",right:-12,zIndex:100,display:"flex",flexDirection:"column",justifyContent:"center",color:t},["& ."+Nn["columnSeparator--resizable"]]:{cursor:"col-resize",touchAction:"none","&:hover":{color:e.palette.text.primary,"@media (hover: none)":{color:t}},"&.Mui-resizing":{color:e.palette.text.primary}},["& ."+Nn.iconSeparator]:{color:"inherit"},["& ."+Nn.menuIcon]:{visibility:"hidden",fontSize:20,marginRight:-6,display:"flex",alignItems:"center"},[`& .${Nn.columnHeader}:hover .${Nn.menuIcon}, .${Nn.menuOpen}`]:{visibility:"visible"},[`& .${Nn.columnHeaderWrapper}.scroll .${Nn.columnHeader}:last-child`]:{borderRight:"none"},["& ."+Nn.dataContainer]:{position:"relative",flexGrow:1,display:"flex",flexDirection:"column"},["& ."+Nn.window]:{position:"absolute",bottom:0,left:0,right:0,overflowX:"auto"},["& ."+Nn.viewport]:{position:"sticky",top:0,left:0,display:"flex",flexDirection:"column",overflow:"hidden"},["& ."+Nn.row]:{display:"flex",width:"fit-content","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:nn(e.palette.primary.main,e.palette.action.selectedOpacity)}}}},["& ."+Nn.cell]:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",borderBottom:"1px solid "+t},[`& .${Nn.cell}.${Nn["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:e.shadows[2],backgroundColor:e.palette.background.paper,"&:focus-within":{outline:`solid ${e.palette.primary.main} 1px`,outlineOffset:"-1px"}},["& ."+Nn["row--editing"]]:{boxShadow:e.shadows[2]},[`& .${Nn["row--editing"]} .${Nn.cell}`]:{boxShadow:e.shadows[0],backgroundColor:e.palette.background.paper},["& ."+Nn.editInputCell]:Object.assign(Object.assign({},e.typography.body2),{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),["& ."+Nn.editBooleanCell]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${Nn.booleanCell}[data-value="true"]`]:{color:e.palette.text.secondary},[`& .${Nn.booleanCell}[data-value="false"]`]:{color:e.palette.text.disabled},[`& .${Nn.columnHeaderWrapper} .${Nn.cell}`]:{borderBottom:"none"},["& ."+Nn["cell--withRenderer"]]:{display:"flex",alignItems:"center"},["& ."+Nn.withBorder]:{borderRight:"1px solid "+t},["& ."+Nn["cell--textLeft"]]:{textAlign:"left"},[`& .${Nn["cell--textLeft"]}.${Nn["cell--withRenderer"]}, & .${Nn["cell--textLeft"]}.${Nn["cell--editing"]}`]:{justifyContent:"flex-start"},["& ."+Nn["cell--textRight"]]:{textAlign:"right"},[`& .${Nn["cell--textRight"]}.${Nn["cell--withRenderer"]}, & .${Nn["cell--textRight"]}.${Nn["cell--editing"]}`]:{justifyContent:"flex-end"},["& ."+Nn["cell--textCenter"]]:{textAlign:"center"},[`& .${Nn["cell--textCenter"]}.${Nn["cell--withRenderer"]}, & .${Nn["cell--textCenter"]}.${Nn["cell--editing"]}`]:{justifyContent:"center"},[`& .${Nn.rowCount}, & .${Nn.selectedRowCount}`]:{alignItems:"center",display:"flex",margin:e.spacing(0,2)},["& ."+Nn.footerContainer]:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,["& ."+Nn.selectedRowCount]:{visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}},[`& .${Nn.columnHeaderDropZone} .${Nn.columnHeaderDraggableContainer}`]:{cursor:"move"},["& ."+Nn.columnHeaderDraggableContainer]:{display:"flex",width:"100%"},["& ."+Nn["columnHeader--dragging"]]:{background:e.palette.background.paper,padding:"0 12px",borderRadius:e.shape.borderRadius,opacity:e.palette.action.disabledOpacity}})};if("dark"===en(e.palette)){const e="#202022",t="#585859",r="#838384";n.root=Object.assign(Object.assign({},n.root),{scrollbarColor:`${t} ${e}`,"& *::-webkit-scrollbar":{backgroundColor:e},"& *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:t,minHeight:24,border:"3px solid "+e},"& *::-webkit-scrollbar-thumb:focus":{backgroundColor:r},"& *::-webkit-scrollbar-thumb:active":{backgroundColor:r},"& *::-webkit-scrollbar-thumb:hover":{backgroundColor:r},"& *::-webkit-scrollbar-corner":{backgroundColor:e}})}return n},{name:"MuiDataGrid",defaultTheme:rn()}),fi=l.forwardRef((function(e,t){var n;const r=di(),a=Z(),o=Hr(),{children:i,className:c}=e,s=Xr(e,["children","className"]),d=An(a,le),[f]=In(a),p=An(a,Er),m=l.useRef(null),g=Object(h.a)(m,t);return a.current.rootElementRef=m,l.createElement(N.a,null,l.createElement("div",Object.assign({ref:g,className:Object(u.default)(r.root,null===(n=p.classes)||void 0===n?void 0:n.root,o.className,c,{[Nn.autoHeight]:o.autoHeight}),role:"grid","aria-colcount":d,"aria-rowcount":f.rows.totalRowCount,"aria-multiselectable":!o.disableMultipleSelection,"aria-label":o["aria-label"],"aria-labelledby":o["aria-labelledby"],style:o.style},s),i))})),pi=l.forwardRef((function(e,t){const{className:n}=e,r=Xr(e,["className"]);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.footerContainer,n)},r))})),mi=l.forwardRef((function(e,t){const{className:n,style:r}=e,a=Xr(e,["className","style"]),o=Z(),i=An(o,Or);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.overlay,n),style:Object.assign({top:i},r)},a))})),hi=l.forwardRef((function(e,t){const{className:n,children:r}=e,a=Xr(e,["className","children"]);return r?l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.toolbarContainer,n)},a),r):null})),gi=e=>{const{onClick:t}=e,n=Z(),r=Hr(),a=l.useCallback(e=>{t(e),n.current.showPreferences(yo.columns)},[n,t]);return r.disableColumnSelector?null:l.createElement(P.a,{onClick:a},n.current.getLocaleText("columnMenuShowColumns"))},bi=e=>{const{column:t,onClick:n}=e,r=Z(),a=Hr(),o=l.useCallback(e=>{n(e),r.current.showFilterPanel(null==t?void 0:t.field)},[r,null==t?void 0:t.field,n]);return a.disableColumnFilter||!(null==t?void 0:t.filterable)?null:l.createElement(P.a,{onClick:o},r.current.getLocaleText("columnMenuFilter"))},vi=l.forwardRef((function(e,t){const{hideMenu:n,currentColumn:r,open:a,id:o,labelledby:i,className:c,children:s}=e,d=Xr(e,["hideMenu","currentColumn","open","id","labelledby","className","children"]),f=l.useCallback(e=>{Sr(e.key)&&e.preventDefault(),zr(e.key)&&n()},[n]);return l.createElement(D.a,Object.assign({id:o,ref:t,className:Object(u.default)("MuiDataGrid-gridMenuList",c),"aria-labelledby":i,onKeyDown:f,autoFocus:a},d),s)})),yi=e=>{const{column:t,onClick:n}=e,r=Z(),a=Hr(),o=l.useRef(),i=l.useCallback(e=>{n(e),o.current=setTimeout(()=>{r.current.setColumnVisibility(null==t?void 0:t.field,!1)},100)},[r,null==t?void 0:t.field,n]);return l.useEffect(()=>()=>clearTimeout(o.current),[]),a.disableColumnSelector?null:l.createElement(P.a,{onClick:i},r.current.getLocaleText("columnMenuHideColumn"))},wi=e=>{const{column:t,onClick:n}=e,r=Z(),a=An(r,tr),o=l.useMemo(()=>{if(!t)return null;const e=a.find(e=>e.field===t.field);return null==e?void 0:e.sort},[t,a]),i=l.useCallback(e=>{n(e);const a=e.currentTarget.getAttribute("data-value")||null;null==r||r.current.sortColumn(t,a)},[r,t,n]);return t&&t.sortable?l.createElement(l.Fragment,null,l.createElement(P.a,{onClick:i,disabled:null==o},r.current.getLocaleText("columnMenuUnsort")),l.createElement(P.a,{onClick:i,"data-value":"asc",disabled:"asc"===o},r.current.getLocaleText("columnMenuSortAsc")),l.createElement(P.a,{onClick:i,"data-value":"desc",disabled:"desc"===o},r.current.getLocaleText("columnMenuSortDesc"))):null},Oi=l.forwardRef((function(e,t){const{hideMenu:n,currentColumn:r}=e;return l.createElement(vi,Object.assign({ref:t},e),l.createElement(wi,{onClick:n,column:r}),l.createElement(bi,{onClick:n,column:r}),l.createElement(yi,{onClick:n,column:r}),l.createElement(gi,{onClick:n,column:r}))})),Ci=Object(C.a)(()=>({root:{display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400}}),{name:"MuiGridPanelContent"});function Ei(e){const t=Ci(),{className:n}=e,r=Xr(e,["className"]);return l.createElement("div",Object.assign({className:Object(u.default)(t.root,n)},r))}const ki=Object(C.a)(()=>({root:{padding:4,display:"flex",justifyContent:"space-between"}}),{name:"MuiGridPanelFooter"});function xi(e){const t=ki(),{className:n}=e,r=Xr(e,["className"]);return l.createElement("div",Object.assign({className:Object(u.default)(t.root,n)},r))}const Si=Object(C.a)(e=>({root:{padding:e.spacing(1)}}),{name:"MuiDataGridPanelHeader",defaultTheme:rn()});function ji(e){const t=Si(),{className:n}=e,r=Xr(e,["className"]);return l.createElement("div",Object.assign({className:Object(u.default)(t.root,n)},r))}const Pi=Object(C.a)(()=>({root:{display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}}),{name:"MuiGridPanelWrapper"}),Ti=()=>!0;function Ri(e){const t=Pi(),{className:n}=e,r=Xr(e,["className"]),a=tn().startsWith("v4")?{getDoc:()=>document}:{};return l.createElement(H.a,Object.assign({open:!0,disableEnforceFocus:!0,isEnabled:Ti},a),l.createElement("div",Object.assign({tabIndex:-1,className:Object(u.default)(t.root,n)},r)))}let Mi=!1;void 0!==a&&void 0!==a.env.GRID_EXPERIMENTAL_ENABLED&&an()&&window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED")?Mi="true"===window.localStorage.getItem("GRID_EXPERIMENTAL_ENABLED"):void 0!==a&&(Mi="true"===a.env.GRID_EXPERIMENTAL_ENABLED);const Ii=Mi,Ai=Object(C.a)({container:{padding:"8px 0px 8px 8px"},column:{display:"flex",justifyContent:"space-between",padding:"1px 8px 1px 7px"},switch:{marginRight:4},dragIcon:{justifyContent:"flex-end"}},{name:"MuiDataGridColumnsPanel"});function Li(){const e=Ai(),t=Z(),n=l.useRef(null),r=An(t,ne),a=Hr(),[o,i]=l.useState(""),c=l.useCallback(e=>{const{name:n}=e.target,r=t.current.getColumn(n);t.current.setColumnVisibility(n,!!r.hide)},[t]),u=l.useCallback(e=>{t.current.updateColumns(r.map(t=>(t.hide=e,t)))},[t,r]),s=l.useCallback(()=>u(!1),[u]),d=l.useCallback(()=>u(!0),[u]),f=l.useCallback(e=>{i(e.target.value)},[]),p=l.useMemo(()=>o?r.filter(e=>e.field.toLowerCase().indexOf(o.toLowerCase())>-1||e.headerName&&e.headerName.toLowerCase().indexOf(o.toLowerCase())>-1):r,[r,o]);return l.useEffect(()=>{n.current.focus()},[]),l.createElement(Ri,null,l.createElement(ji,null,l.createElement(x.a,{label:t.current.getLocaleText("columnsPanelTextFieldLabel"),placeholder:t.current.getLocaleText("columnsPanelTextFieldPlaceholder"),inputRef:n,value:o,onChange:f,variant:"standard",fullWidth:!0})),l.createElement(Ei,null,l.createElement("div",{className:e.container},p.map(n=>l.createElement("div",{key:n.field,className:e.column},l.createElement(B.a,{control:l.createElement(_.a,{className:e.switch,checked:!n.hide,onClick:c,name:n.field,color:"primary",size:"small"}),label:n.headerName||n.field}),!a.disableColumnReorder&&Ii&&l.createElement(R.a,{draggable:!0,className:e.dragIcon,"aria-label":t.current.getLocaleText("columnsPanelDragIconLabel"),title:t.current.getLocaleText("columnsPanelDragIconLabel"),size:"small",disabled:!0},l.createElement(Oa,null)))))),l.createElement(xi,null,l.createElement(z.a,{onClick:d,color:"primary"},t.current.getLocaleText("columnsPanelHideAllButton")),l.createElement(z.a,{onClick:s,color:"primary"},t.current.getLocaleText("columnsPanelShowAllButton"))))}const Fi=Object(C.a)(e=>({root:{zIndex:e.zIndex.modal},paper:{backgroundColor:e.palette.background.paper,minWidth:300,maxHeight:450,display:"flex"}}),{name:"MuiGridPanel",defaultTheme:rn()}),Ni=Zt("MuiGridPanel",["root","paper"]),Di=l.forwardRef((function(e,t){var n;const{children:r,className:a,open:o}=e,i=Xr(e,["children","className","open"]),c=Fi(i),s=Z(),d=l.useCallback(()=>{s.current.hidePreferences()},[s]),f=l.useCallback(e=>{kr(e.key)&&s.current.hidePreferences()},[s]),p=null===(n=null==s?void 0:s.current.columnHeadersContainerElementRef)||void 0===n?void 0:n.current;return p?l.createElement(F.a,Object.assign({ref:t,placement:"bottom-start",className:Object(u.default)(a,c.root),open:o,anchorEl:p,modifiers:"v5"===tn()?[{name:"flip",enabled:!1}]:{flip:{enabled:!1}}},i),l.createElement(I.a,{onClickAway:d},l.createElement(L.a,{className:c.paper,elevation:8,onKeyDown:f},r))):null})),_i=l.forwardRef((function(e,t){var n,r,a;const o=Z(),i=An(o,ne),c=Hr(),u=An(o,bo),s=u.openedPanelValue===yo.columns,d=!u.openedPanelValue||!s,f=o.current.components.ColumnsPanel,p=o.current.components.FilterPanel,m=o.current.components.Panel;return l.createElement(m,Object.assign({ref:t,open:i.length>0&&u.open},null===(n=null==o?void 0:o.current.componentsProps)||void 0===n?void 0:n.panel,e),!c.disableColumnSelector&&s&&l.createElement(f,Object.assign({},null===(r=null==o?void 0:o.current.componentsProps)||void 0===r?void 0:r.columnsPanel)),!c.disableColumnFilter&&d&&l.createElement(p,Object.assign({},null===(a=null==o?void 0:o.current.componentsProps)||void 0===a?void 0:a.filterPanel)))})),zi=Object(C.a)({root:{display:"flex",justifyContent:"space-around",padding:8},linkOperatorSelect:{minWidth:60},columnSelect:{width:150},operatorSelect:{width:120},filterValueInput:{width:190},closeIcon:{flexShrink:0,justifyContent:"flex-end",marginRight:6,marginBottom:2}},{name:"MuiGridFilterForm"});function Bi(e){var t,n;const{item:r,hasMultipleFilters:a,deleteFilter:o,applyFilterChanges:i,multiFilterOperator:c,showMultiFilterOperators:u,disableMultiFilterOperator:s,applyMultiFilterOperatorChanges:d}=e,f=zi(),p=Z(),m=An(p,oe),h=Object(b.a)(),g=Object(b.a)(),v=Object(b.a)(),w=Object(b.a)(),O=Object(b.a)(),C=Object(b.a)(),E=l.useCallback(()=>r.columnField?p.current.getColumn(r.columnField):null,[p,r]),k=l.useCallback(()=>{var e;const t=E();return r.operatorValue&&t?null===(e=t.filterOperators)||void 0===e?void 0:e.find(e=>e.value===r.operatorValue):null},[r,E]),x=l.useCallback(e=>{const t=e.target.value,n=p.current.getColumn(t).filterOperators[0];i(Object.assign(Object.assign({},r),{value:void 0,columnField:t,operatorValue:n.value}))},[p,i,r]),S=l.useCallback(e=>{const t=e.target.value;i(Object.assign(Object.assign({},r),{operatorValue:t}))},[i,r]),P=l.useCallback(e=>{const t=e.target.value===kn.And.toString()?kn.And:kn.Or;d(t)},[d]),T=l.useCallback(()=>{o(r)},[o,r]),M=k();return l.createElement("div",{className:f.root},l.createElement(W.a,{variant:"standard",className:f.closeIcon},l.createElement(R.a,{"aria-label":p.current.getLocaleText("filterPanelDeleteIconLabel"),title:p.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:T,size:"small"},l.createElement(va,{fontSize:"small"}))),l.createElement(W.a,{variant:"standard",className:f.linkOperatorSelect,style:{display:a?"block":"none",visibility:u?"visible":"hidden"}},l.createElement(V.a,{htmlFor:h,id:g},p.current.getLocaleText("filterPanelOperators")),l.createElement(j.a,{labelId:g,id:h,value:c,onChange:P,disabled:!!s,native:!0},l.createElement("option",{key:kn.And.toString(),value:kn.And.toString()},p.current.getLocaleText("filterPanelOperatorAnd")),l.createElement("option",{key:kn.Or.toString(),value:kn.Or.toString()},p.current.getLocaleText("filterPanelOperatorOr")))),l.createElement(W.a,{variant:"standard",className:f.columnSelect},l.createElement(V.a,{htmlFor:v,id:w},p.current.getLocaleText("filterPanelColumns")),l.createElement(j.a,{labelId:w,id:v,value:r.columnField||"",onChange:x,native:!0},m.map(e=>l.createElement("option",{key:e.field,value:e.field},e.headerName||e.field)))),l.createElement(W.a,{variant:"standard",className:f.operatorSelect},l.createElement(V.a,{htmlFor:O,id:C},p.current.getLocaleText("filterPanelOperators")),l.createElement(j.a,{labelId:C,id:O,value:r.operatorValue,onChange:S,native:!0},null===(n=null===(t=E())||void 0===t?void 0:t.filterOperators)||void 0===n?void 0:n.map(e=>l.createElement("option",{key:e.value,value:e.value},e.label||p.current.getLocaleText("filterOperator"+Object(y.a)(e.value)))))),l.createElement(W.a,{variant:"standard",className:f.filterValueInput},(null==M?void 0:M.InputComponent)?l.createElement(M.InputComponent,Object.assign({apiRef:p,item:r,applyValue:i},M.InputComponentProps)):null))}function Hi(){const e=Z(),[t]=In(e),n=Hr(),r=l.useMemo(()=>t.filter.items.length>1,[t.filter.items.length]),a=l.useCallback(t=>{e.current.upsertFilter(t)},[e]),o=l.useCallback(t=>{e.current.applyFilterLinkOperator(t)},[e]),i=l.useCallback(()=>{e.current.upsertFilter({})},[e]),c=l.useCallback(t=>{e.current.deleteFilter(t)},[e]);return l.useEffect(()=>{0===t.filter.items.length&&i()},[i,t.filter.items.length]),l.createElement(Ri,null,l.createElement(Ei,null,t.filter.items.map((e,n)=>l.createElement(Bi,{key:null==e.id?n:e.id,item:e,applyFilterChanges:a,deleteFilter:c,hasMultipleFilters:r,showMultiFilterOperators:n>0,multiFilterOperator:t.filter.linkOperator,disableMultiFilterOperator:1!==n,applyMultiFilterOperatorChanges:o}))),!n.disableMultipleColumnsFiltering&&l.createElement(xi,null,l.createElement(z.a,{onClick:i,startIcon:l.createElement(ya,null),color:"primary"},e.current.getLocaleText("filterPanelAddFilter"))))}const Wi=l.forwardRef((function(e,t){const{onClick:n}=e,r=Xr(e,["onClick"]),a=Z(),o=Hr(),i=a.current.components.ColumnSelectorIcon,{open:c,openedPanelValue:u}=An(a,bo);return o.disableColumnSelector?null:l.createElement(z.a,Object.assign({ref:t,size:"small",color:"primary","aria-label":a.current.getLocaleText("toolbarColumnsLabel"),startIcon:l.createElement(i,null)},r,{onClick:e=>{c&&u===yo.columns?a.current.hidePreferences():a.current.showPreferences(yo.columns),null==n||n(e)}}),a.current.getLocaleText("toolbarColumns"))})),Vi=l.forwardRef((function(e,t){const{onClick:n}=e,r=Xr(e,["onClick"]),a=Z(),o=Hr(),i=An(a,yr),c=Object(b.a)(),u=Object(b.a)(),[s,d]=l.useState(null),f=a.current.components.DensityCompactIcon,p=a.current.components.DensityStandardIcon,m=a.current.components.DensityComfortableIcon,h=[{icon:l.createElement(f,null),label:a.current.getLocaleText("toolbarDensityCompact"),value:vn.Compact},{icon:l.createElement(p,null),label:a.current.getLocaleText("toolbarDensityStandard"),value:vn.Standard},{icon:l.createElement(m,null),label:a.current.getLocaleText("toolbarDensityComfortable"),value:vn.Comfortable}],g=l.useCallback(()=>{switch(i){case vn.Compact:return l.createElement(f,null);case vn.Comfortable:return l.createElement(m,null);default:return l.createElement(p,null)}},[i,f,m,p]),v=()=>d(null);if(o.disableDensitySelector)return null;const y=h.map((e,t)=>l.createElement(P.a,{key:t,onClick:()=>{return t=e.value,a.current.setDensity(t),void d(null);var t},selected:e.value===i},l.createElement(G.a,null,e.icon),e.label));return l.createElement(l.Fragment,null,l.createElement(z.a,Object.assign({ref:t,color:"primary",size:"small",startIcon:g(),"aria-label":a.current.getLocaleText("toolbarDensityLabel"),"aria-expanded":s?"true":void 0,"aria-haspopup":"menu","aria-labelledby":u,id:c},r,{onClick:e=>{d(e.currentTarget),null==n||n(e)}}),a.current.getLocaleText("toolbarDensity")),l.createElement(Eo,{open:Boolean(s),target:s,onClickAway:v,position:"bottom-start"},l.createElement(D.a,{id:u,className:"MuiDataGrid-gridMenuList","aria-labelledby":c,onKeyDown:e=>{Sr(e.key)&&e.preventDefault(),zr(e.key)&&v()},autoFocusItem:Boolean(s)},y)))})),Gi=Object(C.a)(e=>({list:{margin:e.spacing(1,1,.5),padding:e.spacing(0,1)}}),{name:"MuiGridToolbarFilterButton",defaultTheme:rn()}),Ui=l.forwardRef((function(e,t){const{componentsProps:n={}}=e,r=Xr(e,["componentsProps"]),a=n.button||{},o=Gi(),i=Z(),c=Hr(),u=An(i,sr),s=An(i,ur),d=An(i,te),f=An(i,bo),p=l.useMemo(()=>f.open?i.current.getLocaleText("toolbarFiltersTooltipHide"):0===u?i.current.getLocaleText("toolbarFiltersTooltipShow"):l.createElement("div",null,i.current.getLocaleText("toolbarFiltersTooltipActive")(u),l.createElement("ul",{className:o.list},s.map((e,t)=>Object.assign({},d[e.columnField]&&l.createElement("li",{key:t},`${d[e.columnField].headerName||e.columnField}\n                  ${(e=>d[e.columnField].filterOperators.find(t=>t.value===e.operatorValue).label||i.current.getLocaleText("filterOperator"+Object(y.a)(e.operatorValue)).toString())(e)}\n                  ${e.value}`))))),[i,f.open,u,s,d,o]);if(c.disableColumnFilter)return null;const m=i.current.components.OpenFilterButtonIcon;return l.createElement(M.a,Object.assign({title:p,enterDelay:1e3},r),l.createElement(z.a,Object.assign({ref:t,size:"small",color:"primary","aria-label":i.current.getLocaleText("toolbarFiltersLabel"),startIcon:l.createElement(T.a,{badgeContent:u,color:"primary"},l.createElement(m,null))},a,{onClick:e=>{var t;const{open:n,openedPanelValue:r}=f;n&&r===yo.filters?i.current.hideFilterPanel():i.current.showFilterPanel(),null===(t=a.onClick)||void 0===t||t.call(a,e)}}),i.current.getLocaleText("toolbarFilters")))})),qi=l.forwardRef((function(e,t){const{csvOptions:n,onClick:r}=e,a=Xr(e,["csvOptions","onClick"]),o=Z(),i=Object(b.a)(),c=Object(b.a)(),[u,s]=l.useState(null),d=o.current.components.ExportIcon,f=[];f.push({label:o.current.getLocaleText("toolbarExportCSV"),format:"csv",formatOptions:n});const p=()=>s(null),m=e=>()=>{"csv"===e.format&&o.current.exportDataAsCsv(e.formatOptions),s(null)};return l.createElement(l.Fragment,null,l.createElement(z.a,Object.assign({ref:t,color:"primary",size:"small",startIcon:l.createElement(d,null),"aria-expanded":u?"true":void 0,"aria-label":o.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-labelledby":c,id:i},a,{onClick:e=>{s(e.currentTarget),null==r||r(e)}}),o.current.getLocaleText("toolbarExport")),l.createElement(Eo,{open:Boolean(u),target:u,onClickAway:p,position:"bottom-start"},l.createElement(D.a,{id:c,className:"MuiDataGrid-gridMenuList","aria-labelledby":i,onKeyDown:e=>{Sr(e.key)&&e.preventDefault(),zr(e.key)&&p()},autoFocusItem:Boolean(u)},f.map((e,t)=>l.createElement(P.a,{key:t,onClick:m(e)},e.label)))))})),$i=l.forwardRef((function(e,t){const n=Hr();return n.disableColumnFilter&&n.disableColumnSelector&&n.disableDensitySelector?null:l.createElement(hi,Object.assign({ref:t},e),l.createElement(Wi,null),l.createElement(Ui,null),l.createElement(Vi,null),l.createElement(qi,null))})),Ki=l.forwardRef((function(e,t){const{className:n,rowCount:r,visibleRowCount:a}=e,o=Xr(e,["className","rowCount","visibleRowCount"]),i=Z();if(0===r)return null;const c=a<r?i.current.getLocaleText("footerTotalVisibleRows")(a,r):r.toLocaleString();return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.rowCount,n)},o),i.current.getLocaleText("footerTotalRows")," ",c)})),Ji=l.forwardRef((function(e,t){const{className:n,selectedRowCount:r}=e,a=Xr(e,["className","selectedRowCount"]),o=Z().current.getLocaleText("footerRowSelected")(r);return l.createElement("div",Object.assign({ref:t,className:Object(u.default)(Nn.selectedRowCount,n)},a),o)})),Yi=l.forwardRef((function(e,t){var n;const r=Z(),a=Hr(),o=An(r,Kn),i=An(r,$r),c=An(r,Gr),u=An(r,lr),s=!a.hideFooterSelectedRowCount&&i>0?l.createElement(Ji,{selectedRowCount:i}):l.createElement("div",null),d=a.hideFooterRowCount||a.pagination?null:l.createElement(Ki,{rowCount:o,visibleRowCount:u}),f=!!a.pagination&&null!=c.pageSize&&!a.hideFooterPagination&&(null==r?void 0:r.current.components.Pagination),p=f&&l.createElement(f,Object.assign({},null===(n=null==r?void 0:r.current.componentsProps)||void 0===n?void 0:n.pagination));return l.createElement(pi,Object.assign({ref:t},e),s,d,p)})),Xi=l.forwardRef((function(e,t){var n,r;const a=Z(),o=null==a?void 0:a.current.components.PreferencesPanel,i=o&&l.createElement(o,Object.assign({},null===(n=null==a?void 0:a.current.componentsProps)||void 0===n?void 0:n.preferencesPanel)),c=null==a?void 0:a.current.components.Toolbar,u=c&&l.createElement(c,Object.assign({},null===(r=null==a?void 0:a.current.componentsProps)||void 0===r?void 0:r.toolbar));return l.createElement("div",Object.assign({ref:t},e),i,u)})),Zi=l.forwardRef((function(e,t){return l.createElement(mi,Object.assign({ref:t},e),l.createElement(U.a,null))})),Qi=l.forwardRef((function(e,t){const n=Z().current.getLocaleText("noRowsLabel");return l.createElement(mi,Object.assign({ref:t},e),n)})),el=Object(C.a)(e=>({selectLabel:{display:"none",[e.breakpoints.up("md")]:{display:"block"}},caption:{"&[id]":{display:"none",[e.breakpoints.up("md")]:{display:"block"}}},input:{display:"none",[e.breakpoints.up("md")]:{display:"inline-flex"}}}),{defaultTheme:rn()}),tl=l.forwardRef((function(e,t){var n;const r=el(),a=Z(),o=Hr(),i=An(a,Gr),c=l.useMemo(()=>Math.floor(i.rowCount/(i.pageSize||1)),[i.rowCount,i.pageSize]),u=l.useCallback(e=>{const t=Number(e.target.value);a.current.setPageSize(t)},[a]),s=l.useCallback((e,t)=>{a.current.setPage(t)},[a]);return l.createElement(q.a,Object.assign({ref:t,classes:Object.assign(Object.assign({},"v5"===tn()?{selectLabel:r.selectLabel}:{caption:r.caption}),{input:r.input}),component:"div",count:i.rowCount,page:i.page<=c?i.page:c,rowsPerPageOptions:(null===(n=o.rowsPerPageOptions)||void 0===n?void 0:n.includes(i.pageSize))?o.rowsPerPageOptions:[],rowsPerPage:i.pageSize},a.current.getLocaleText("MuiTablePagination"),"v4"!==tn()?{onPageChange:s,onRowsPerPageChange:u}:{onChangePage:s,onChangeRowsPerPage:u},e))})),nl=e=>{const t=mn(e,"useGridColumnMenu"),[n,r,a]=In(e),i=l.useCallback(n=>{t.debug("Opening Column Menu"),r(e=>Object.assign(Object.assign({},e),{columnMenu:{open:!0,field:n}})),e.current.hidePreferences(),a()},[e,a,t,r]),c=l.useCallback(()=>{t.debug("Hiding Column Menu"),r(e=>Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1,field:void 0})})),a()},[a,t,r]),u=l.useCallback(e=>{t.debug("Toggle Column Menu"),n.columnMenu.open&&n.columnMenu.field===e?c():i(e)},[t,i,c,n]),s=l.useCallback(()=>{r(e=>e.columnMenu.open?Object.assign(Object.assign({},e),{columnMenu:Object.assign(Object.assign({},e.columnMenu),{open:!1})}):e)},[r]);l.useEffect(()=>{n.isScrolling&&c()},[n.isScrolling,c]),hn(e,{showColumnMenu:i,hideColumnMenu:c,toggleColumnMenu:u},"ColumnMenuApi"),zn(e,o.columnResizeStart,s)},rl=(e,t)=>{const n=mn(e,"useGridColumnReorder"),[,r,a]=In(e),i=An(e,Gn),c=l.useRef(null),u=l.useRef({x:0,y:0}),s=l.useRef(null),d=l.useRef();l.useEffect(()=>()=>{clearTimeout(d.current)},[]);const f=l.useCallback((o,i)=>{t.disableColumnReorder||o.colDef.disableReorder||(n.debug("Start dragging col "+o.field),c.current=i.currentTarget,c.current.classList.add(Nn["columnSeparator--dragging"]),r(e=>Object.assign(Object.assign({},e),{columnReorder:Object.assign(Object.assign({},e.columnReorder),{dragCol:o.field})})),a(),d.current=setTimeout(()=>{c.current.classList.remove(Nn["columnSeparator--dragging"])}),s.current=e.current.getColumnIndex(o.field,!1))},[t.disableColumnReorder,n,r,a,e]),p=l.useCallback((e,t)=>{t.preventDefault()},[]),m=l.useCallback((t,r)=>{if(!i)return;n.debug("Dragging over col "+t.field),r.preventDefault();const a={x:r.clientX,y:r.clientY};if(t.field!==i&&(l=a,(o=u.current).x!==l.x||o.y!==l.y)){const n=e.current.getColumnIndex(t.field,!1),r=e.current.getColumnIndex(t.field,!0),o=e.current.getColumn(t.field),l=e.current.getColumnIndex(i,!1),c=e.current.getVisibleColumns().length,s=!o.disableReorder||r>0&&r<c-1,d=((e,t)=>e.x<=t.x?"right":"left")(u.current,a),f="left"===d&&n<l,p="right"===d&&l<n;s&&(f||p)&&e.current.setColumnIndex(i,n),u.current=a}var o,l},[e,i,n]),h=l.useCallback((o,l)=>{!t.disableColumnReorder&&i&&(n.debug("End dragging col"),l.preventDefault(),clearTimeout(d.current),c.current=null,"none"===l.dataTransfer.dropEffect&&(e.current.setColumnIndex(o.field,s.current),s.current=null),r(e=>Object.assign(Object.assign({},e),{columnReorder:Object.assign(Object.assign({},e.columnReorder),{dragCol:""})})),a())},[t.disableColumnReorder,n,r,a,e,i]);zn(e,o.columnHeaderDragStart,f),zn(e,o.columnHeaderDragEnter,p),zn(e,o.columnHeaderDragOver,m),zn(e,o.columnHeaderDragEnd,h),zn(e,o.cellDragEnter,p),zn(e,o.cellDragOver,m),zn(e,o.cellDragEnd,h)};const al=(e,t)=>{var n,r;const a={all:[...null!==(n=null==t?void 0:t.all)&&void 0!==n?n:[]],lookup:Object.assign({},null!==(r=null==t?void 0:t.lookup)&&void 0!==r?r:{})};return e.forEach(e=>{null==a.lookup[e.field]?(a.lookup[e.field]=e,a.all.push(e.field)):a.lookup[e.field]=Object.assign(Object.assign({},a.lookup[e.field]),e)}),a};function ol(e,t){const n=mn(e,"useGridColumns"),[r,a,i]=In(e),c=An(e,ae),u=An(e,ne),s=An(e,re),d=l.useCallback((t,r=!0)=>{n.debug("Updating columns state."),a(e=>Object.assign(Object.assign({},e),{columns:t})),i(),r&&e.current.publishEvent(o.columnsChange,t.all)},[n,a,i,e]),f=l.useCallback(t=>e.current.state.columns.lookup[t],[e]),p=l.useCallback(()=>u,[u]),m=l.useCallback(()=>s,[s]),h=l.useCallback(()=>c,[c]),g=l.useCallback((e,t=!0)=>t?s.findIndex(t=>t.field===e):u.findIndex(t=>t.field===e),[u,s]),b=l.useCallback(e=>{const t=g(e);return c.positions[t]},[c.positions,g]),v=l.useCallback((t,r)=>{n.debug("updating GridColumns with new state");const a=e.current.state.viewportSizes.width;let o=t.all.map(e=>t.lookup[e]);o=function(e,t){let n=0,r=t;const a=e.map(e=>{var t,a;const o=Object.assign({},e);if(e.hide)o.computedWidth=0;else{const e=null!==(t=o.minWidth)&&void 0!==t?t:Pa.minWidth;if(o.flex&&o.flex>0)n+=o.flex,o.computedWidth=e;else{const t=Math.max(null!==(a=o.width)&&void 0!==a?a:Pa.width,e);r-=t,o.computedWidth=t}}return o});if(n>0&&r>0){const e=r/n;for(let t=0;t<a.length;t+=1){const n=a[t];!n.hide&&n.flex&&n.flex>0&&(a[t].computedWidth=Math.max(e*n.flex,n.computedWidth))}}return a}(o,a);const i={all:o.map(e=>e.field),lookup:o.reduce((e,t)=>(e[t.field]=t,e),{})};d(i,r)},[e,n,d]),y=l.useCallback(t=>{const n=al(t,e.current.state.columns);v(n,!1)},[e,v]),w=l.useCallback(e=>y([e]),[y]),O=l.useCallback((t,n)=>{const r=f(t),a=Object.assign(Object.assign({},r),{hide:!n});y([a]),e.current.publishEvent(o.columnVisibilityChange,{field:t,colDef:a,isVisible:n})},[e,f,y]),C=l.useCallback((t,a)=>{const i=r.columns.all.findIndex(e=>e===t);if(i===a)return;n.debug(`Moving column ${t} to index ${a}`);const l={field:t,element:e.current.getColumnHeaderElement(t),colDef:e.current.getColumn(t),targetIndex:a,oldIndex:i};e.current.publishEvent(o.columnOrderChange,l);const c=[...r.columns.all];c.splice(a,0,c.splice(i,1)[0]),d(Object.assign(Object.assign({},r.columns),{all:c}))},[e,r.columns,n,d]),E=l.useCallback((t,r)=>{n.debug(`Updating column ${t} width to ${r}`);const a=e.current.getColumn(t),i=Object.assign(Object.assign({},a),{width:r});e.current.updateColumns([i]),e.current.publishEvent(o.columnWidthChange,{element:e.current.getColumnHeaderElement(t),colDef:i,width:r})},[e,n]);hn(e,{getColumn:f,getAllColumns:p,getColumnIndex:g,getColumnPosition:b,getVisibleColumns:m,getColumnsMeta:h,updateColumn:w,updateColumns:y,setColumnVisibility:O,setColumnIndex:C,setColumnWidth:E},"ColApi"),l.useEffect(()=>{n.info("GridColumns have changed, new length "+t.columns.length);const r=function(e,t={},n,r){const a=function(e,t){const n=Object.assign(Object.assign({},e),t),r={};return Object.entries(n).forEach(([e,t])=>{t=Object.assign(Object.assign({},n[t.extendType||"__default__"]),t),r[e]=t}),r}(Qa(),t),o=e.map(e=>Object.assign(Object.assign({},eo(a,e.type)),e));return r?[Object.assign(Object.assign({},Ia),{headerName:n("checkboxSelectionHeaderName")}),...o]:o}(t.columns,t.columnTypes,e.current.getLocaleText,t.checkboxSelection),a=al(r);v(a)},[n,e,v,t.columns,t.columnTypes,t.checkboxSelection]),l.useEffect(()=>{n.debug("GridColumns gridState.viewportSizes.width, changed "+r.viewportSizes.width),v(e.current.state.columns)},[e,v,r.viewportSizes.width,n]),Hn(e,o.columnVisibilityChange,t.onColumnVisibilityChange)}function il(e,t){const n=c.a.useRef({}),r=c.a.useCallback(e=>{const{stateId:t,stateSelector:r}=e,a=Xr(e,["stateId","stateSelector"]);n.current[t]=Object.assign(Object.assign({},a),{stateId:t,stateSelector:r||(e=>e[t])})},[]),a=c.a.useCallback(r=>{let a=!1;const o=[],i=n.current;if(Object.keys(i).forEach(t=>{const n=i[t],l=n.stateSelector(e.current.state),c=n.stateSelector(r);c!==l&&c!==n.propModel&&o.push(n.stateId),void 0!==n.propModel&&c!==n.propModel&&(a=!0)}),o.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${o[0]}, therefore, you're not allowed to update ${o.join(", ")} in the same transaction.`);return{ignoreSetState:a,postUpdate:()=>{o.forEach(n=>{const a=i[n],o=i[n].stateSelector(r);if(a.propOnChange){const n=t.signature===_n.DataGridPro?{api:e.current}:{};a.propOnChange(o,n)}e.current.publishEvent(a.changeEvent,o)})}}},[e,t.signature]);hn(e,{updateControlState:r,applyControlStateConstraint:a},"controlStateApi")}const ll=(e,t,n,r)=>{const a=Mn(e),[o,i,c]=In(e),u=l.useCallback(e=>{void 0===o[t]&&(o[t]=r),i(r=>{const a=Object.assign({},r);return a[t]=n(r[t],e),a}),c()},[c,o,r,n,i,t]),s=l.useRef(u);l.useEffect(()=>{s.current=u},[u]);const d=l.useCallback(e=>s.current(e),[]);return{gridState:o,dispatch:d,gridApi:a}},cl=(e,t)=>{const n=mn(e,"useGridFilter"),[r,a,i]=In(e),c=An(e,ie),u=l.useCallback(()=>{n.debug("clearing filtered rows"),a(e=>Object.assign(Object.assign({},e),{visibleRows:{visibleRowsLookup:{}}}))},[n,a]),s=l.useCallback((t,r=kn.And)=>{if(!t.columnField||!t.operatorValue)return;const o=e.current.getColumn(t.columnField);if(!o)return;const l=o.valueParser?o.valueParser(t.value):t.value,c=Object.assign(Object.assign({},t),{value:l});n.debug(`Filtering column: ${c.columnField} ${c.operatorValue} ${c.value} `);const u=o.filterOperators;if(!(null==u?void 0:u.length))throw new Error(`Material-UI: No filter operators found for column '${o.field}'.`);const s=u.find(e=>e.value===c.operatorValue);if(!s)throw new Error(`Material-UI: No filter operator found for column '${o.field}' and operator value '${c.operatorValue}'.`);const d=s.getApplyFilterFn(c,o);"function"==typeof d&&(a(t=>{const n=Object.assign({},t.visibleRows.visibleRowsLookup);return er(t).forEach((t,a)=>{const o=e.current.getCellParams(a,c.columnField),i=d(o);null==n[a]?n[a]=i:n[a]=r===kn.And?n[a]&&i:n[a]||i}),Object.assign(Object.assign({},t),{visibleRows:Object.assign(Object.assign({},t.visibleRows),{visibleRowsLookup:n,visibleRows:Object.entries(n).filter(([,e])=>e).map(([e])=>e)})})}),i())},[e,i,n,a]),d=l.useCallback(()=>{if(t.filterMode===yn.server)return void i();u();const{items:n,linkOperator:r}=e.current.state.filter;n.forEach(t=>{e.current.applyFilter(t,r)}),i()},[e,u,i,t.filterMode]),f=l.useCallback(r=>{n.debug("Upserting filter"),a(n=>{const a=[...n.filter.items],o=Object.assign({},r),i=a.findIndex(e=>e.id===o.id);if(1===a.length&&qt(a[0],{})?a[0]=o:-1===i?a.push(o):a[i]=o,null==o.id&&(o.id=Math.round(1e5*Math.random())),null==o.columnField&&(o.columnField=c[0]),null!=o.columnField&&null==o.operatorValue){const t=e.current.getColumn(o.columnField);o.operatorValue=t&&t.filterOperators[0].value}return t.disableMultipleColumnsFiltering&&a.length>1&&(a.length=1),Object.assign(Object.assign({},n),{filter:Object.assign(Object.assign({},n.filter),{items:a})})}),d()},[n,a,e,d,t.disableMultipleColumnsFiltering,c]),p=l.useCallback(t=>{n.debug(`Deleting filter on column ${t.columnField} with value ${t.value}`),a(e=>{const n=[...e.filter.items.filter(e=>e.id!==t.id)];return Object.assign(Object.assign({},e),{filter:Object.assign(Object.assign({},e.filter),{items:n})})}),0===e.current.state.filter.items.length&&e.current.upsertFilter({}),d()},[e,d,n,a]),m=l.useCallback(t=>{if(n.debug("Displaying filter panel"),t){const n=r.filter.items.length>0?r.filter.items[r.filter.items.length-1]:null;n&&n.columnField===t||e.current.upsertFilter({columnField:t})}e.current.showPreferences(yo.filters)},[e,r.filter.items,n]),h=l.useCallback(()=>{n.debug("Hiding filter panel"),null==e||e.current.hidePreferences()},[e,n]),g=l.useCallback((e=kn.And)=>{n.debug("Applying filter link operator"),a(t=>Object.assign(Object.assign({},t),{filter:Object.assign(Object.assign({},t.filter),{linkOperator:e})})),d()},[d,n,a]),b=l.useCallback(()=>{u(),n.debug("Clearing filter model"),a(e=>Object.assign(Object.assign({},e),{filter:xn()}))},[u,n,a]),v=l.useCallback(e=>{b(),n.debug("Setting filter model"),g(e.linkOperator),e.items.forEach(e=>f(e))},[g,b,n,f]),y=l.useCallback(()=>ar(e.current.state),[e]);hn(e,{applyFilterLinkOperator:g,applyFilters:d,applyFilter:s,deleteFilter:p,upsertFilter:f,setFilterModel:v,showFilterPanel:m,hideFilterPanel:h,getVisibleRowModels:y},"FilterApi"),l.useEffect(()=>{e.current&&(n.debug("Rows prop changed, applying filters"),u(),e.current.applyFilters())},[e,u,n,t.rows]);const w=l.useCallback(()=>{n.debug("onColUpdated - GridColumns changed, applying filters");const t=e.current.state.filter,r=ie(e.current.state);n.debug("GridColumns changed, applying filters"),t.items.forEach(t=>{r.find(e=>e===t.columnField)||e.current.deleteFilter(t)}),e.current.applyFilters()},[e,n]);l.useEffect(()=>{e.current.updateControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:e=>e.filter,changeEvent:o.filterModelChange})},[e,t.filterModel,t.onFilterModelChange]),l.useEffect(()=>{if(void 0!==t.filterModel&&t.filterModel.items.length>1&&t.filterModel.items.find(e=>null==e.id))throw new Error("The 'id' field is required on filterModel.items when you use multiple filters.");const r=e.current.state.filter;void 0!==t.filterModel&&t.filterModel!==r&&(n.debug("filterModel prop changed, applying filters"),a(e=>Object.assign(Object.assign({},e),{filter:t.filterModel||xn()})),e.current.applyFilters())},[e,n,t.filterModel,a]),zn(e,o.rowsSet,e.current.applyFilters),zn(e,o.rowsUpdate,e.current.applyFilters),zn(e,o.columnsChange,w)},ul=(e,t)=>{const n=mn(e,"useGridFocus"),[,r,a]=In(e),i=l.useRef(null),c=l.useCallback((t,i)=>{e.current.getRow(t)&&(r(e=>(n.debug(`Focusing on cell with id=${t} and field=${i}`),Object.assign(Object.assign({},e),{tabIndex:{cell:{id:t,field:i},columnHeader:null},focus:{cell:{id:t,field:i},columnHeader:null}}))),a(),e.current.publishEvent(o.cellFocusIn,e.current.getCellParams(t,i)))},[e,a,n,r]),u=l.useCallback((t,i)=>{const{cell:l}=e.current.state.focus;l&&e.current.publishEvent(o.cellFocusOut,e.current.getCellParams(l.id,l.field),i),r(e=>(n.debug("Focusing on column header with colIndex="+t),Object.assign(Object.assign({},e),{tabIndex:{columnHeader:{field:t},cell:null},focus:{columnHeader:{field:t},cell:null}}))),a()},[e,a,n,r]),s=l.useCallback(({id:t,field:n})=>{e.current.setCellFocus(t,n)},[e]),d=l.useCallback((t,n)=>{"Enter"===n.key||"Tab"===n.key||Dr(n.key)||e.current.setCellFocus(t.id,t.field)},[e]),f=l.useCallback(({field:t},n)=>{n.target===n.currentTarget&&e.current.setColumnHeaderFocus(t,n)},[e]),p=l.useCallback(()=>{n.debug("Clearing focus"),r(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}}))},[n,r]),m=l.useCallback(e=>{i.current=e},[]),h=l.useCallback(t=>{const n=i.current;i.current=null;const{cell:l}=e.current.state.focus;if(!l)return void(n&&e.current.setCellFocus(n.id,n.field));if((null==n?void 0:n.id)===l.id&&(null==n?void 0:n.field)===l.field)return;const c=e.current.getCellElement(l.id,l.field);(null==c?void 0:c.contains(t.target))||e.current.getRow(l.id)&&(e.current.publishEvent(o.cellFocusOut,e.current.getCellParams(l.id,l.field),t),n?e.current.setCellFocus(n.id,n.field):(r(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})),a()))},[e,a,r]),g=l.useCallback(t=>{if("view"===t.cellMode)return;const{cell:n}=e.current.state.focus;(null==n?void 0:n.id)===t.id&&(null==n?void 0:n.field)===t.field||e.current.setCellFocus(t.id,t.field)},[e]);hn(e,{setCellFocus:c,setColumnHeaderFocus:u},"GridFocusApi"),l.useEffect(()=>{const{cell:t}=e.current.state.focus;t&&(e.current.getRow(t.id)||r(e=>Object.assign(Object.assign({},e),{focus:{cell:null,columnHeader:null}})))},[e,r,t.rows]),l.useEffect(()=>{const t=Object(w.a)(e.current.rootElementRef.current);return t.addEventListener("click",h),()=>{t.removeEventListener("click",h)}},[e,h]),zn(e,o.columnHeaderBlur,p),zn(e,o.cellDoubleClick,s),zn(e,o.cellMouseUp,m),zn(e,o.cellKeyDown,d),zn(e,o.cellModeChange,g),zn(e,o.columnHeaderFocus,f)},sl=e=>{const t=mn(e,"useGridKeyboard"),n=l.useCallback((n,r)=>{const a=lo(r.target,Nn.row),i=Number(a.getAttribute("data-rowindex"));let l=i;const c=[...e.current.getSelectedRows().keys()];if(c.length>0){const t=c.map(t=>e.current.getRowIndex(t)),n=t.map(e=>Math.abs(i-e)),r=Math.max(...n);l=t[n.indexOf(r)]}e.current.publishEvent(o.cellNavigationKeyDown,n,r);const u=e.current.state.focus.cell,s=e.current.getRowIndex(u.id),d=Array(Math.abs(s-l)+1).fill(s>l?l:s);t.debug("Selecting rows "),e.current.selectRows(d,!0,!0)},[t,e]),r=l.useCallback((t,r)=>{if(1===r.target.nodeType&&(null==(a=r.target)||!a.classList.contains(Nn.cell)))return;var a;const i=e.current.getCellParams(t.id,t.field);if(i.cellMode!==qa.Edit){if(jr(r.key)&&r.shiftKey)return r.preventDefault(),void e.current.selectRow(i.id);if(!Dr(r.key)||r.shiftKey)return Dr(r.key)&&r.shiftKey?(r.preventDefault(),void n(i,r)):void("c"===r.key.toLowerCase()&&(r.ctrlKey||r.metaKey)||"a"===r.key.toLowerCase()&&(r.ctrlKey||r.metaKey)&&(r.preventDefault(),e.current.selectRows(e.current.getAllRowIds(),!0)));e.current.publishEvent(o.cellNavigationKeyDown,i,r)}},[e,n]),a=l.useCallback((t,n)=>{co(n.target)&&(jr(n.key)&&co(n.target)&&n.preventDefault(),!Dr(n.key)||jr(n.key)||n.shiftKey?xr(n.key)&&(n.ctrlKey||n.metaKey)&&e.current.toggleColumnMenu(t.field):e.current.publishEvent(o.columnHeaderNavigationKeyDown,t,n))},[e]);zn(e,o.cellKeyDown,r),zn(e,o.columnHeaderKeyDown,a)},dl=(e,t)=>{const n=mn(e,"useGridKeyboardNavigation"),r=An(e,Gr),a=An(e,Kn),i=An(e,le),c=An(e,jo),u=An(e,or),s=e=>xr(e.key)?"ArrowDown":Sr(e.key)?e.shiftKey?"ArrowLeft":"ArrowRight":e.key,d=l.useCallback((o,l)=>{l.preventDefault();const d=e.current.getColumnIndex(o.field),f=u.findIndex(([e])=>e===o.id),p=s(l),m=l.ctrlKey||l.metaKey||l.shiftKey;let h,g=a;if(t.pagination&&a>r.pageSize&&(g=r.pageSize*(r.page+1)),Pr(p))h=((e,t)=>{if(!Pr(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return Object.assign(Object.assign({},t),{colIndex:t.colIndex-1});case"ArrowRight":return Object.assign(Object.assign({},t),{colIndex:t.colIndex+1});case"ArrowUp":return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex-1});default:return Object.assign(Object.assign({},t),{rowIndex:t.rowIndex+1})}})(p,{colIndex:d,rowIndex:f});else if(Tr(p)){const e="Home"===p?0:i-1;if(m){let n=0;n=0===e?t.pagination?g-r.pageSize:0:g-1,h={colIndex:e,rowIndex:n}}else h={colIndex:e,rowIndex:f}}else{if(!Rr(p)&&!jr(p))throw new Error("Material-UI. Key not mapped to navigation behavior.");h={colIndex:d,rowIndex:f+(p.indexOf("Down")>-1||jr(p)?c.viewportPageSize:-1*c.viewportPageSize)}}if(h.rowIndex<0){const t=e.current.getVisibleColumns()[h.colIndex].field;return void e.current.setColumnHeaderFocus(t,l)}h.rowIndex=h.rowIndex>=g&&g>0?g-1:h.rowIndex,h.colIndex=h.colIndex<=0?0:h.colIndex,h.colIndex=h.colIndex>=i?i-1:h.colIndex,n.debug(`Navigating to next cell row ${h.rowIndex}, col ${h.colIndex}`),e.current.scrollToIndexes(h);const b=e.current.getVisibleColumns()[h.colIndex].field,[v]=u[h.rowIndex];e.current.setCellFocus(v,b)},[e,u,a,t.pagination,r.pageSize,r.page,i,n,c]),f=l.useCallback((t,r)=>{let a;r.preventDefault();const o=e.current.getColumnIndex(t.field),l=s(r);if(Pr(l))a=((e,t)=>{if(!Pr(e))throw new Error("Material-UI: The first argument (key) should be an arrow key code.");switch(e){case"ArrowLeft":return{colIndex:t.colIndex-1};case"ArrowRight":return{colIndex:t.colIndex+1};case"ArrowDown":return null;default:return Object.assign({},t)}})(l,{colIndex:o});else{if(!Tr(l)){if(Rr(l)){if(l.indexOf("Down")>-1){const t=e.current.getVisibleColumns()[o].field,n=e.current.getRowIdFromRowIndex(c.viewportPageSize-1);e.current.setCellFocus(n,t)}return}throw new Error("Material-UI. Key not mapped to navigation behavior.")}a={colIndex:"Home"===l?0:i-1}}if(!a){const t=e.current.getVisibleColumns()[o].field,[n]=u[0];return void e.current.setCellFocus(n,t)}a.colIndex=Math.max(0,a.colIndex),a.colIndex=a.colIndex>=i?i-1:a.colIndex,n.debug("Navigating to next column row "+a.colIndex),e.current.scrollToIndexes(a);const d=e.current.getVisibleColumns()[a.colIndex].field;e.current.setColumnHeaderFocus(d,r)},[e,i,c,n,u]);zn(e,o.cellNavigationKeyDown,d),zn(e,o.columnHeaderNavigationKeyDown,f)};function fl(e,t,n){const r=mn(e,"useGridScrollFn"),a=l.useRef();return[l.useCallback(e=>{var o;e.left===(null===(o=a.current)||void 0===o?void 0:o.left)&&e.top===a.current.top||t&&t.current&&(r.debug(`Moving ${t.current.className} to: ${e.left}-${e.top}`),t.current.style.transform=`translate3d(${-e.left}px, ${-e.top}px, 0px)`,n.current.style.transform=`translate3d(${-e.left}px, 0px, 0px)`,a.current=e)},[t,r,n])]}const pl=(e,t)=>t>0&&e>0?Math.ceil(e/t):0,ml=e=>e.pageCount?Object.assign(Object.assign({},e),{page:Math.max(Math.min(e.page,e.pageCount-1),0)}):e,hl=(e,t)=>{const n=mn(e,"useGridPage"),[,r,a]=In(e),i=An(e,lr),c=l.useCallback(e=>{n.debug("Setting page to "+e),r(t=>Object.assign(Object.assign({},t),{pagination:ml(Object.assign(Object.assign({},t.pagination),{page:e}))})),a()},[r,a,n]);l.useEffect(()=>{e.current.updateControlState({stateId:"page",propModel:t.page,propOnChange:t.onPageChange,stateSelector:e=>e.pagination.page,changeEvent:o.pageChange})},[e,t.page,t.onPageChange]),l.useEffect(()=>{r(e=>{const n=void 0!==t.rowCount?t.rowCount:i,r=pl(n,e.pagination.pageSize),a=null==t.page?e.pagination.page:t.page;return Object.assign(Object.assign({},e),{pagination:ml(Object.assign(Object.assign({},e.pagination),{page:a,rowCount:n,pageCount:r}))})}),a()},[r,a,i,t.rowCount,t.page,e]);const u=l.useCallback(e=>{r(t=>{const n=pl(t.pagination.rowCount,e);return Object.assign(Object.assign({},t),{pagination:ml(Object.assign(Object.assign({},t.pagination),{pageCount:n,page:t.pagination.page}))})}),a()},[r,a]);zn(e,o.pageSizeChange,u),hn(e,{setPage:c},"GridPageApi")};function gl(e,t){const n=mn(e,"useApi"),r=l.useCallback((n,r,a={})=>{if(a.defaultMuiPrevented=!1,a&&(e=>void 0!==e.isPropagationStopped)(a)&&a.isPropagationStopped())return;const o=t.signature===_n.DataGridPro?{api:e.current}:{};e.current.emit(n,r,a,o)},[e,t.signature]),a=l.useCallback((t,r,a)=>{n.debug(`Binding ${t} event`),e.current.on(t,r,a);const o=e.current;return()=>{n.debug(`Clearing ${t} event`),o.removeListener(t,r)}},[e,n]),i=l.useCallback(t=>{e.current.publishEvent(o.componentError,t)},[e]);l.useEffect(()=>{n.debug("Initializing grid api.");const t=e.current;return()=>{n.info("Unmounting Grid component. Clearing all events listeners."),t.emit(o.unmount),t.removeAllListeners()}},[n,e]),hn(e,{subscribeEvent:a,publishEvent:r,showError:i},"GridCoreApi")}const bl=(e,t)=>{var n,r;const a=mn(e,"useGridContainerProps"),[i,c,u]=In(e),s=l.useRef({width:0,height:0}),d=An(e,wr),f=An(e,ce),p=An(e,lr),m=An(e,Gr),h=e.current.windowRef,g=null===(r=null===(n=e.current)||void 0===n?void 0:n.rootElementRef)||void 0===r?void 0:r.current,b=!!f,v=l.useMemo(()=>{if(null!=t.scrollbarSize)return t.scrollbarSize;if(!b||!g)return 0;const e=function(e,t){const n=e.createElement("div");n.style.width="99px",n.style.height="99px",n.style.position="absolute",n.style.overflow="scroll",n.className="scrollDiv",t.appendChild(n);const r=n.offsetWidth-n.clientWidth;return t.removeChild(n),r}(Object(w.a)(g),g);return a.debug(`Detected scroll bar size ${e}.`),e},[g,a,t.scrollbarSize,b]),y=l.useCallback(()=>{if(a.debug("Calculating virtual row count."),t.pagination&&(!t.autoPageSize||t.pageSize)){const e=p-m.page*m.pageSize;return e>m.pageSize?m.pageSize:e}return p},[a,t.autoPageSize,t.pagination,t.pageSize,m.page,m.pageSize,p]),O=l.useCallback(e=>{a.debug("Calculating scrollbar sizes.");let n=f>s.current.width;const r={y:0,x:n?v:0};if(0===e)return{hasScrollX:n,hasScrollY:!1,sizes:r};const o=e*d,i=!t.autoPageSize&&!t.autoHeight&&o+r.x>s.current.height;return r.y=i?v:0,n=f+r.y>s.current.width,r.x=n?v:0,a.debug(`Scrollbar size on axis x: ${r.x}, y: ${r.y}`),{hasScrollX:n,hasScrollY:i,sizes:r}},[a,f,t.autoPageSize,t.autoHeight,d,v]),C=l.useCallback((e,n)=>{if(!(null==h?void 0:h.current))return null;a.debug("Calculating container sizes.");const r=h.current.getBoundingClientRect();return s.current={width:r.width,height:r.height},a.debug(`window Size - W: ${s.current.width} H: ${s.current.height} `),{width:s.current.width-n.sizes.y,height:t.autoHeight?e*d:s.current.height-n.sizes.x}},[a,t.autoHeight,d,h]),E=l.useCallback((e,n,r)=>{if(!h||!h.current||0===f||Number.isNaN(f))return null;const o=e*d-s.current.height>2*d&&!t.disableVirtualization;if(t.autoPageSize||t.autoHeight||!o){const o=Math.floor(n.height/d),i=r.hasScrollY||e<o?e:o,l=Math.max(i*d+(t.autoHeight?r.sizes.x:0),1),c={isVirtualized:!1,virtualRowsCount:i,renderingZonePageSize:i,viewportPageSize:i,totalSizes:{width:f,height:l},dataContainerSizes:{width:f,height:l},renderingZoneScrollHeight:l-n.height,renderingZone:{width:f,height:l},windowSizes:s.current,lastPage:1};return a.debug("Fixed container props",c),c}const i=Math.floor(n.height/d),l=i>0?Math.ceil(e/i)-1:0,c=2*i,u=c*d,p=u-n.height;let m=l*p+n.height;const g=e%i;g>0&&(m=m-p+g*d);const b={isVirtualized:o,virtualRowsCount:e,viewportPageSize:i,totalSizes:{width:f,height:m},dataContainerSizes:{width:f,height:m},renderingZonePageSize:c,renderingZone:{width:f,height:u},renderingZoneScrollHeight:p,windowSizes:s.current,lastPage:l};return a.debug("virtualized container props",b),b},[h,f,d,t.autoPageSize,t.autoHeight,t.disableVirtualization,a]),k=l.useCallback((e,t)=>{let n=!1;c(r=>(n=e(r),n?t(r):r)),n&&u()},[u,c]),x=l.useCallback(()=>{a.debug("Refreshing container sizes");const e=y(),t=O(e),n=C(e,t);if(!n)return;k(e=>e.scrollBar!==t,e=>Object.assign(Object.assign({},e),{scrollBar:t})),k(e=>e.viewportSizes!==n,e=>Object.assign(Object.assign({},e),{viewportSizes:n}));const r=E(e,n,t);k(e=>!qt(e.containerSizes,r),e=>Object.assign(Object.assign({},e),{containerSizes:r}))},[E,O,C,y,a,k]);l.useEffect(()=>{x()},[i.columns,t.hideFooter,x,p]),zn(e,o.debouncedResize,x)},vl=(e,t,n,r,a)=>{const i=mn(e,"useNativeEventListener"),[c,u]=l.useState(!1),s=l.useRef(r),d=l.useCallback(e=>s.current&&s.current(e),[]);l.useEffect(()=>{s.current=r},[r]),l.useEffect(()=>{let r;if(r=Qt(t)?t():t&&t.current?t.current:null,r&&d&&n&&!c){i.debug(`Binding native ${n} event`),r.addEventListener(n,d,a);const t=r;u(!0);const l=()=>{i.debug(`Clearing native ${n} event`),t.removeEventListener(n,d,a)};e.current.subscribeEvent(o.unmount,l)}},[t,d,n,c,i,a,e])},yl=(e,t)=>{const n=mn(e,"useGridPageSize"),[,r,a]=In(e),i=An(e,lr),c=An(e,jo),u=l.useCallback(e=>{n.debug("Setting page size to "+e),r(t=>Object.assign(Object.assign({},t),{pagination:Object.assign(Object.assign({},t.pagination),{pageSize:e})})),a()},[r,a,n]);l.useEffect(()=>{e.current.updateControlState({stateId:"pageSize",propModel:t.pageSize,propOnChange:t.onPageSizeChange,stateSelector:e=>e.pagination.pageSize,changeEvent:o.pageSizeChange})},[e,t.pageSize,t.onPageSizeChange]),l.useEffect(()=>{const n=null==c?void 0:c.viewportPageSize,i=e.current.state.pagination.pageSize;let l=i;null!=t.pageSize?l=t.pageSize:t.autoPageSize&&(l=null!=n?n:0),l!==i&&(t.autoPageSize&&e.current.publishEvent(o.pageSizeChange,n),r(e=>Object.assign(Object.assign({},e),{pagination:Object.assign(Object.assign({},e.pagination),{pageSize:l})})),a())},[e,r,a,i,t.autoPageSize,t.pageSize,null==c?void 0:c.viewportPageSize]),hn(e,{setPageSize:u},"GridPageSizeApi")},wl=e=>{const t=mn(e,"useGridPreferencesPanel"),[,n,r]=In(e),a=l.useRef(),o=l.useRef(),i=l.useCallback(()=>{t.debug("Hiding Preferences Panel"),n(e=>Object.assign(Object.assign({},e),{preferencePanel:{open:!1}})),r()},[r,t,n]),c=l.useCallback(()=>{o.current=setTimeout(()=>clearTimeout(a.current),0)},[]),u=l.useCallback(()=>{a.current=setTimeout(i,100)},[i]);hn(e,{showPreferences:l.useCallback(e=>{t.debug("Opening Preferences Panel"),c(),n(t=>Object.assign(Object.assign({},t),{preferencePanel:Object.assign(Object.assign({},t.preferencePanel),{open:!0,openedPanelValue:e})})),r()},[c,r,t,n]),hidePreferences:u},"ColumnMenuApi"),l.useEffect(()=>()=>{clearTimeout(a.current),clearTimeout(o.current)},[])};function Ol(e){const t=l.useCallback(t=>({field:t,colDef:e.current.getColumn(t)}),[e]),n=l.useCallback(t=>{const n=e.current.getRow(t);if(!n)throw new Error(`No row with id #${t} found`);return{id:t,columns:e.current.getAllColumns(),row:n,getValue:e.current.getCellValue}},[e]),r=l.useCallback((t,n)=>{const r=e.current.getRow(t);if(!r)throw new Error(`No row with id #${t} found`);const a=pr(e.current.state),o=gr(e.current.state);return{id:t,field:n,row:r,value:r[n],colDef:e.current.getColumn(n),cellMode:e.current.getCellMode(t,n),getValue:e.current.getCellValue,api:e.current,hasFocus:null!==a&&a.field===n&&a.id===t,tabIndex:o&&o.field===n&&o.id===t?0:-1}},[e]),a=l.useCallback((t,n)=>{const r=e.current.getColumn(n),a=e.current.getCellValue(t,n),o=e.current.getRow(t);if(!o)throw new Error(`No row with id #${t} found`);const i=pr(e.current.state),l=gr(e.current.state),c={id:t,field:n,row:o,colDef:r,cellMode:e.current.getCellMode(t,n),getValue:e.current.getCellValue,hasFocus:null!==i&&i.field===n&&i.id===t,tabIndex:l&&l.field===n&&l.id===t?0:-1,value:a,formattedValue:a};return r.valueFormatter&&(c.formattedValue=r.valueFormatter(Object.assign(Object.assign({},c),{api:e.current}))),c.isEditable=r&&e.current.isCellEditable(c),c},[e]),o=l.useCallback((t,n)=>{const a=e.current.getColumn(n);if(!a||!a.valueGetter){const r=e.current.getRow(t);if(!r)throw new Error(`No row with id #${t} found`);return r[n]}return a.valueGetter(r(t,n))},[e,r]),i=l.useCallback(t=>e.current.rootElementRef.current?function(e,t){return e.querySelector(`[role="columnheader"][data-field="${so(t)}"]`)}(e.current.rootElementRef.current,t):null,[e]),c=l.useCallback(t=>e.current.rootElementRef.current?fo(e.current.rootElementRef.current,t):null,[e]),u=l.useCallback((t,n)=>e.current.rootElementRef.current?function(e,{id:t,field:n}){const r=fo(e,t);return r?r.querySelector(`.${Nn.cell}[data-field="${so(n)}"]`):null}(e.current.rootElementRef.current,{id:t,field:n}):null,[e]);hn(e,{getCellValue:o,getCellParams:a,getCellElement:u,getRowParams:n,getRowElement:c,getColumnHeaderParams:t,getColumnHeaderElement:i},"GridParamsApi")}function Cl(e,t,n){const r=t?t(e):e.id;return ei(r,e,n),r}function El(e,t,n){const r=Object.assign(Object.assign({},{idRowsLookup:{},allRows:[],totalRowCount:0}),{totalRowCount:t&&t>e.length?t:e.length});return e.forEach(e=>{const t=Cl(e,n);r.allRows.push(t),r.idRowsLookup[t]=e}),r}const kl=(e,t)=>{const n=mn(e,"useGridRows"),[,r,a]=In(e),i=An(e,$n),c=l.useRef(),u=l.useCallback(e=>{null==c.current&&(c.current=setTimeout(()=>{n.debug("Updating component"),c.current=null,e&&e(),a()},100))},[n,a]),s=l.useRef(i);l.useEffect(()=>()=>clearTimeout(c.current),[]),l.useEffect(()=>{r(e=>(s.current=El(t.rows,t.rowCount,t.getRowId),Object.assign(Object.assign({},e),{rows:s.current})))},[t.getRowId,t.rows,t.rowCount,r]);const d=l.useCallback(t=>e.current.getSortedRowIds?e.current.getSortedRowIds().indexOf(t):e.current.state.rows.allRows.indexOf(t),[e]),f=l.useCallback(t=>e.current.getSortedRowIds?e.current.getSortedRowIds()[t]:e.current.state.rows.allRows[t],[e]),p=l.useCallback(t=>{var n;return null!==(n=e.current.state.rows.idRowsLookup[t])&&void 0!==n?n:null},[e]),m=l.useCallback(a=>{n.debug("updating all rows, new length "+a.length),s.current.allRows.length>0&&e.current.publishEvent(o.rowsClear);const i=[],l=a.reduce((e,n)=>{const r=Cl(n,t.getRowId);return e[r]=n,i.push(r),e},{}),c=t.rowCount&&t.rowCount>i.length?t.rowCount:i.length;s.current={idRowsLookup:l,allRows:i,totalRowCount:c},r(e=>Object.assign(Object.assign({},e),{rows:s.current})),u(()=>e.current.publishEvent(o.rowsSet))},[n,r,u,e,t.getRowId,t.rowCount]),h=l.useCallback(n=>{const a=n.reduce((e,n)=>{const r=Cl(n,t.getRowId,"A row was provided without id when calling updateRows():");return e[r]=null!=e[r]?Object.assign(Object.assign({},e[r]),n):n,e},{}),i=[],l=[];let c=null;if(Object.entries(a).forEach(([e,t])=>{if("delete"===t._action)return void l.push(e);const n=p(e);n?(c||(c=Object.assign({},s.current.idRowsLookup)),c[e]=Object.assign(Object.assign({},n),t)):i.push(t)}),c&&(s.current.idRowsLookup=c,r(e=>Object.assign(Object.assign({},e),{rows:Object.assign({},s.current)}))),l.length>0||i.length>0){l.forEach(e=>{delete s.current.idRowsLookup[e]});const e=[...Object.values(s.current.idRowsLookup),...i];m(e)}u(()=>e.current.publishEvent(o.rowsUpdate))},[e,u,p,t.getRowId,r,m]),g=l.useCallback(()=>new Map(e.current.state.rows.allRows.map(t=>[t,e.current.state.rows.idRowsLookup[t]])),[e]),b=l.useCallback(()=>e.current.state.rows.totalRowCount,[e]),v=l.useCallback(()=>e.current.state.rows.allRows,[e]);hn(e,{getRowIndex:d,getRowIdFromRowIndex:f,getRow:p,getRowModels:g,getRowsCount:b,getAllRowIds:v,setRows:m,updateRows:h},"GridRowApi")};function xl(e,t){const n=mn(e,"useGridEditRows"),[,r,a]=In(e),i=l.useRef(null),c=l.useRef(null),u=An(e,ne),s=(n,r)=>{n.cellMode!==qa.View&&(t.editMode===Ua.Row?(c.current=null,i.current=setTimeout(()=>{var t;if((null===(t=c.current)||void 0===t?void 0:t.id)!==n.id){e.current.commitRowChange(n.id,r);const t=e.current.getRowParams(n.id);e.current.publishEvent(o.rowEditStop,t,r)}})):(e.current.commitCellChange(n,r),e.current.publishEvent(o.cellEditStop,n,r)))},d=l.useCallback(e=>{c.current=e},[]),f=$t((e,t)=>{s(e,t)}),p=$t(t=>{const{cell:n}=e.current.state.focus;if(!n)return;const r=e.current.getCellParams(n.id,n.field);s(r,t)}),m=l.useCallback((t,i,l)=>{const c=e.current.getCellMode(t,i)===qa.Edit;l===qa.Edit&&c||l===qa.View&&!c||(n.debug(`Switching cell id: ${t} field: ${i} to mode: ${l}`),r(n=>{const r=Object.assign({},n.editRows);return r[t]=Object.assign({},r[t]),l===qa.Edit?r[t][i]={value:e.current.getCellValue(t,i)}:(delete r[t][i],Object.keys(r[t]).length||delete r[t]),Object.assign(Object.assign({},n),{editRows:r})}),a(),e.current.publishEvent(o.cellModeChange,{id:t,field:i,mode:l,api:e.current}))},[e,a,n,r]),h=l.useCallback((t,n)=>{const o=e.current.getRowMode(t)===$a.Edit;n===$a.Edit&&o||n===$a.View&&!o||(r(r=>{const a=Object.assign({},r.editRows);return n===$a.Edit?(a[t]={},u.forEach(n=>{const r=e.current.getCellParams(t,n.field);r.isEditable&&(a[t][n.field]={value:r.value})})):delete a[t],Object.assign(Object.assign({},r),{editRows:a})}),a())},[e,u,a,r]),g=l.useCallback(n=>t.editMode===Ua.Cell?$a.View:e.current.state.editRows[n]?$a.Edit:$a.View,[e,t.editMode]),b=l.useCallback((t,n)=>{const r=e.current.state.editRows;return r[t]&&r[t][n]?qa.Edit:qa.View},[e]),v=l.useCallback(e=>!!e.colDef.editable&&!!e.colDef.renderEditCell&&(!t.isCellEditable||t.isCellEditable(e)),[t.isCellEditable]),y=l.useCallback((t,n)=>{const r={id:t.id,field:t.field,props:{value:t.value}};e.current.publishEvent(o.editCellPropsChange,r,n)},[e]),w=l.useCallback(t=>{const{id:o,field:i,props:l}=t;n.debug(`Setting cell props on id: ${o} field: ${i}`),r(t=>{const n=e.current.getColumn(i),r=n.valueParser?n.valueParser(l.value,e.current.getCellParams(o,i)):l.value,a=Object.assign({},t.editRows);return a[o]=Object.assign({},t.editRows[o]),a[o][i]=Object.assign(Object.assign({},l),{value:r}),Object.assign(Object.assign({},t),{editRows:a})}),a()},[e,a,n,r]),O=l.useCallback(e=>{w(e)},[w]),C=l.useCallback(e=>{n.debug("Setting row model"),r(t=>Object.assign(Object.assign({},t),{editRows:e})),a()},[a,n,r]),E=l.useCallback(()=>e.current.state.editRows,[e]),k=l.useCallback((t,n)=>{const{id:r,field:a}=t,i=e.current.getEditRowsModel();if(!i[r]||!i[r][a])throw new Error(`Material-UI: Cell at id: ${r} and field: ${a} is not in edit mode.`);const{error:l,value:c}=i[r][a];if(!l){const r=Object.assign(Object.assign({},t),{value:c});return e.current.publishEvent(o.cellEditCommit,r,n),!0}return!1},[e]),x=l.useCallback(r=>{if(t.editMode===Ua.Row)throw new Error("Material-UI: You can't commit changes when the edit mode is 'row'.");const{id:a,field:o}=r,i=e.current.getEditRowsModel(),{value:l}=i[a][o];n.debug(`Setting cell id: ${a} field: ${o} to value: ${null==l?void 0:l.toString()}`);const c=e.current.getRow(a),u=Object.assign(Object.assign({},c),{[o]:l});e.current.updateRows([u])},[e,n,t.editMode]),S=l.useCallback((n,r)=>{if(t.editMode===Ua.Cell)throw new Error("Material-UI: You can't commit changes when the edit mode is 'cell'.");const a=e.current.getEditRowsModel()[n];if(!a)throw new Error(`Material-UI: Row at id: ${n} is not being editted.`);return!Object.values(a).some(e=>!!e.error)&&(e.current.publishEvent(o.rowEditCommit,n,r),!0)},[e,t.editMode]),j=l.useCallback((e,t)=>{e.isEditable&&(m(e.id,e.field,qa.Edit),_r(t)&&Ar(t.key)&&w({id:e.id,field:e.field,props:{value:""}}))},[w,m]),P=l.useCallback(t=>{e.current.setRowMode(t.id,$a.Edit)},[e]),T=l.useCallback((t,n)=>{e.current.setRowMode(t.id,$a.View),"Enter"===n.key&&e.current.publishEvent(o.cellNavigationKeyDown,t,n)},[e]),R=l.useCallback(t=>{const n=e.current.getEditRowsModel()[t];if(!n)throw new Error(`Material-UI: Row at id: ${t} is not being editted.`);const r=e.current.getRow(t),a=Object.assign({},r);Object.keys(n).forEach(e=>{a[e]=n[e].value}),e.current.updateRows([a])},[e]),M=l.useCallback((e,t)=>{const n=t.detail>1;e.isEditable&&e.cellMode===qa.View&&n&&t.preventDefault()},[]),I=l.useCallback((n,r)=>{const{id:a,field:i,cellMode:l,isEditable:c}=n;if(!c)return;const u=l===qa.Edit;if(t.editMode===Ua.Row){const t=e.current.getRowParams(n.id);return void(u?"Enter"===r.key?(e.current.commitRowChange(n.id),e.current.publishEvent(o.rowEditStop,t,r)):"Escape"===r.key&&e.current.publishEvent(o.rowEditStop,t,r):"Enter"===r.key&&e.current.publishEvent(o.rowEditStart,t,r))}const s=r.ctrlKey||r.metaKey||r.altKey;var d;if(!u&&(d=r.key,xr(d)||Mr(d)||Ar(d))&&!s&&e.current.publishEvent(o.cellEditStart,n,r),!u&&Mr(r.key)&&(e.current.setEditCellValue({id:a,field:i,value:""}),e.current.commitCellChange({id:a,field:i},r),e.current.publishEvent(o.cellEditStop,n,r)),u&&Nr(r.key)){const t={id:a,field:i};if(!e.current.commitCellChange(t,r))return}u&&(e=>Lr.indexOf(e)>-1)(r.key)&&e.current.publishEvent(o.cellEditStop,n,r)},[e,t.editMode]),A=l.useCallback((t,n)=>{m(t.id,t.field,qa.View),n&&_r(n)&&(Nr(n.key)?e.current.publishEvent(o.cellNavigationKeyDown,t,n):("Escape"===n.key||Mr(n.key))&&e.current.setCellFocus(t.id,t.field))},[e,m]),L=l.useCallback((n,r)=>{if(n.isEditable)if(t.editMode===Ua.Row){const t=e.current.getRowParams(n.id);e.current.publishEvent(o.rowEditStart,t,r)}else e.current.publishEvent(o.cellEditStart,n,r)},[e,t.editMode]);zn(e,o.cellKeyDown,I),zn(e,o.cellMouseDown,M),zn(e,o.cellDoubleClick,L),zn(e,o.cellFocusOut,f),zn(e,o.cellFocusIn,d),zn(e,o.columnHeaderDragStart,p),zn(e,o.editCellPropsChange,O),zn(e,o.cellEditStart,j),zn(e,o.cellEditStop,A),zn(e,o.cellEditCommit,x),zn(e,o.rowEditStart,P),zn(e,o.rowEditStop,T),zn(e,o.rowEditCommit,R),Hn(e,o.editCellPropsChange,t.onEditCellPropsChange),Hn(e,o.cellEditCommit,t.onCellEditCommit),Hn(e,o.cellEditStart,t.onCellEditStart),Hn(e,o.cellEditStop,t.onCellEditStop),Hn(e,o.rowEditCommit,t.onRowEditCommit),Hn(e,o.rowEditStart,t.onRowEditStart),Hn(e,o.rowEditStop,t.onRowEditStop),hn(e,{setCellMode:m,getCellMode:b,setRowMode:h,getRowMode:g,isCellEditable:v,commitCellChange:k,commitRowChange:S,setEditRowsModel:C,getEditRowsModel:E,setEditCellValue:y},"EditRowApi"),l.useEffect(()=>{e.current.updateControlState({stateId:"editRows",propModel:t.editRowsModel,propOnChange:t.onEditRowsModelChange,stateSelector:e=>e.editRows,changeEvent:o.editRowsModelChange})},[e,t.editRowsModel,t.onEditRowsModelChange]),l.useEffect(()=>{const n=e.current.state.editRows;void 0!==t.editRowsModel&&t.editRowsModel!==n&&e.current.setEditRowsModel(t.editRowsModel||{})},[e,t.editRowsModel])}const Sl=(e,t)=>{const n=mn(e,"useGridSelection"),[,r,a]=In(e),i=An(e,Er),c=An(e,Jn),u=l.useMemo(()=>null==t.selectionModel||Array.isArray(t.selectionModel)?t.selectionModel:[t.selectionModel],[t.selectionModel]),{checkboxSelection:s,disableMultipleSelection:d,disableSelectionOnClick:f,isRowSelectable:p}=i,m=l.useCallback(()=>Kr(e.current.state),[e]),h=l.useCallback(t=>{const{id:o,allowMultipleOverride:i,isSelected:l,isMultipleKey:c}=t;p&&!p(e.current.getRowParams(o))||(n.debug("Selecting row "+o),r(e=>{let t=Jr(e);if(i||!d&&c||s)(null==l?void 0===t[o]:l)?t[o]=o:delete t[o];else{const e=null==l?!c||void 0===t[o]:l;t={},e&&(t[o]=o)}return Object.assign(Object.assign({},e),{selection:Object.values(t)})}),a())},[p,d,e,n,s,a,r]),g=l.useCallback((t,n=!0,r=!1)=>{const a=e.current.getRow(t);a&&h({id:t,row:a,allowMultipleOverride:r,isSelected:n})},[e,h]),b=l.useCallback((t,n=!0,o=!1)=>{const i=p?t.filter(t=>p(e.current.getRowParams(t))):t;d&&i.length>1&&!s||(r(e=>{const t=o?{}:Jr(e);return i.forEach(e=>{n?t[e]=e:void 0!==t[e]&&delete t[e]}),Object.assign(Object.assign({},e),{selection:Object.values(t)})}),a())},[p,d,s,r,a,e]),v=l.useCallback(t=>{e.current.state.selection!==t&&r(e=>Object.assign(Object.assign({},e),{selection:t}))},[r,e]),y=l.useCallback((e,t)=>{f||h({id:e.id,row:e.row,isMultipleKey:t.metaKey||t.ctrlKey})},[f,h]);zn(e,o.rowClick,y),hn(e,{selectRow:g,getSelectedRows:m,selectRows:b,setSelectionModel:v},"GridSelectionApi"),l.useEffect(()=>{e.current.updateControlState({stateId:"selection",propModel:u,propOnChange:t.onSelectionModelChange,stateSelector:qr,changeEvent:o.selectionChange})},[e,t.onSelectionModelChange,u]),l.useEffect(()=>{r(e=>{const t=qr(e),n=Jr(e);let r=!1;return t.forEach(e=>{c[e]||(delete n[e],r=!0)}),r?Object.assign(Object.assign({},e),{selection:Object.values(n)}):e}),a()},[c,e,r,a]),l.useEffect(()=>{void 0!==u&&e.current.setSelectionModel(u)},[e,u,r]),l.useEffect(()=>{r(t=>{const n=[...t.selection],r=Jr(t);let a=!1;return n.forEach(t=>{!p||p(e.current.getRowParams(t))||(delete r[t],a=!0)}),a?Object.assign(Object.assign({},t),{selection:Object.values(r)}):t}),a()},[e,r,a,p])},jl=(e,t)=>{const n=mn(e,"useGridSorting"),[r,a,i]=In(e),c=An(e,Kn),u=l.useCallback((e,t)=>{const n=r.sorting.sortModel.findIndex(t=>t.field===e);let a=[...r.sorting.sortModel];return n>-1?t?a.splice(n,1,t):a.splice(n,1):a=[...r.sorting.sortModel,t],a},[r.sorting.sortModel]),s=l.useCallback((e,n)=>{const a=r.sorting.sortModel.find(t=>t.field===e.field);if(a){const e=void 0===n?ea(t.sortingOrder,a.sort):n;return null==e?void 0:Object.assign(Object.assign({},a),{sort:e})}return{field:e.field,sort:void 0===n?ea(t.sortingOrder):n}},[r.sorting.sortModel,t.sortingOrder]),d=l.useCallback((t,n)=>({id:t,field:n,value:e.current.getCellValue(t,n),api:e.current}),[e]),f=l.useCallback(e=>(t,n)=>e.reduce((e,r,a)=>{if(0!==e)return e;const{comparator:o}=r,i=t[a],l=n[a];return o(i.value,l.value,i,l)},0),[]),p=l.useCallback(t=>t.map(t=>{const n=e.current.getColumn(t.field);if(!n)throw new Error(`Error sorting: column with field '${t.field}' not found. `);const r="desc"===t.sort?(e,t,r,a)=>-1*n.sortComparator(e,t,r,a):n.sortComparator;return{field:n.field,comparator:r}}),[e]),m=l.useCallback(()=>{let r=e.current.getAllRowIds();if(t.sortingMode===yn.server)return n.debug("Skipping sorting rows as sortingMode = server"),void a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:r})}));const o=e.current.state.sorting.sortModel;if(o.length>0){const e=p(o);n.debug("Sorting rows with ",o),r=r.map(t=>e.map(e=>d(t,e.field))).sort(f(e)).map(e=>e[0].id)}a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:r})})),i()},[e,n,d,a,i,p,f,t.sortingMode]),h=l.useCallback(t=>{a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:t})})),i(),e.current.applySorting()},[a,i,e]),g=l.useCallback((e,n,r)=>{if(!e.sortable)return;const a=s(e,n);let o;o=!r||t.disableMultipleColumnsSorting?a?[a]:[]:u(e.field,a),h(o)},[u,h,s,t.disableMultipleColumnsSorting]),b=l.useCallback(({colDef:e},t)=>{const n=t.shiftKey||t.metaKey||t.ctrlKey;g(e,void 0,n)},[g]),v=l.useCallback(({colDef:e},t)=>{!xr(t.key)||t.ctrlKey||t.metaKey||g(e,void 0,t.shiftKey)},[g]),y=l.useCallback(()=>{a(e=>Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortedRows:[]})}))},[a]),w=l.useCallback(()=>r.sorting.sortModel,[r.sorting.sortModel]),O=l.useCallback(()=>Object.values(er(e.current.state)),[e]),C=l.useCallback(()=>Qn(e.current.state),[e]),E=l.useCallback(()=>{a(e=>{const t=e.sorting.sortModel,n=ne(e);let r=t;return t.length>0&&(r=t.reduce((e,t)=>(n.find(e=>e.field===t.field)&&e.push(t),e),[])),Object.assign(Object.assign({},e),{sorting:Object.assign(Object.assign({},e.sorting),{sortModel:r})})})},[a]);zn(e,o.columnHeaderClick,b),zn(e,o.columnHeaderKeyDown,v),zn(e,o.rowsSet,e.current.applySorting),zn(e,o.rowsClear,y),zn(e,o.rowsUpdate,e.current.applySorting),zn(e,o.columnsChange,E),hn(e,{getSortModel:w,getSortedRows:O,getSortedRowIds:C,setSortModel:h,sortColumn:g,applySorting:m},"GridSortApi"),l.useEffect(()=>{e.current.applySorting()},[e,t.rows]),l.useEffect(()=>{c>0&&(n.debug("row changed, applying sortModel"),e.current.applySorting())},[c,e,n]),l.useEffect(()=>{e.current.updateControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:e=>e.sorting.sortModel,changeEvent:o.sortModelChange})},[e,t.sortModel,t.onSortModelChange]),l.useEffect(()=>{const n=e.current.state.sorting.sortModel;void 0!==t.sortModel&&t.sortModel!==n&&h(t.sortModel)},[t.sortModel,e,h])};const Pl=(e,t)=>{var n;const r=mn(e,"useGridVirtualization"),a=e.current.columnHeadersElementRef,i=e.current.windowRef,c=e.current.renderingZoneRef,[u,s,d]=In(e),f=An(e,Gr),p=An(e,Kn),m=An(e,re),h=An(e,ae),g=l.useRef(null),b=l.useRef(null),v=l.useRef(0),[y]=fl(e,c,a),w=l.useCallback(e=>{let t=!1;return s(n=>{const r=Object.assign(Object.assign({},n.rendering),e);return qt(n.rendering,r)?n:(t=!0,Object.assign(Object.assign({},n),{rendering:r}))}),t},[s]),O=l.useCallback(n=>{if(null==e.current.state.containerSizes)return null;let r=0;t.pagination&&null!=f.pageSize&&"client"===t.paginationMode&&(r=f.pageSize*f.page);const a=n*e.current.state.containerSizes.viewportPageSize+r;let o=a+e.current.state.containerSizes.renderingZonePageSize;const i=e.current.state.containerSizes.virtualRowsCount+r;return o>i&&(o=i),{page:n,firstRowIdx:a,lastRowIdx:o}},[e,t.pagination,f.pageSize,t.paginationMode,f.page]),C=l.useCallback(()=>null==e.current.state.containerSizes?null:Object.assign(Object.assign(Object.assign({},g.current),O(e.current.state.rendering.virtualPage)),{paginationCurrentPage:f.page,pageSize:f.pageSize}),[g,O,e,f.page,f.pageSize]),E=l.useCallback(()=>{const e=C();w({renderContext:e})&&(r.debug("reRender: trigger rendering"),d())},[C,r,d,w]),k=l.useCallback(e=>function e(t,n,r=0,a=n.length){if(n.length<=0)return-1;if(r>=a)return r;const o=r+Math.floor((a-r)/2);return t<=n[o]?e(t,n,r,o):e(t,n,o+1,a)}(e,h.positions),[h.positions]),x=l.useCallback(e=>m.length?m[k(e)]:null,[k,m]),S=l.useCallback((n,a)=>{var o,i,l,c;if(!n)return!1;b.current=n;const u=n.windowSizes.width;v.current=a,r.debug(`GridColumns from ${null===(o=x(a))||void 0===o?void 0:o.field} to ${null===(i=x(a+u))||void 0===i?void 0:i.field}`);const s=k(a),d=k(a+u),f=(null===(l=null==g?void 0:g.current)||void 0===l?void 0:l.firstColIdx)||0,p=(null===(c=null==g?void 0:g.current)||void 0===c?void 0:c.lastColIdx)||0,y=t.columnBuffer,w=y>1?y-1:y,O=Math.abs(s-w-f),C=Math.abs(d+w-p);r.debug(`Column buffer: ${y}, tolerance: ${w}`),r.debug(`Previous values  => first: ${f}, last: ${p}`),r.debug(`Current displayed values  => first: ${s}, last: ${d}`),r.debug(`Difference with first: ${O} and last: ${C} `);const E=m.length>0?m.length-1:0,S=s-y>=0?s-y:0,j={leftEmptyWidth:h.positions[S],rightEmptyWidth:0,firstColIdx:S,lastColIdx:d+y>=E?E:d+y};return e.current.state.scrollBar.hasScrollX?j.rightEmptyWidth=h.totalWidth-h.positions[j.lastColIdx]-m[j.lastColIdx].computedWidth:t.disableExtendRowFullWidth||(j.rightEmptyWidth=e.current.state.viewportSizes.width-h.totalWidth),qt(j,g.current)?(r.debug("No rendering needed on columns"),!1):(g.current=j,r.debug("New columns state to render",j),!0)},[e,h.positions,h.totalWidth,x,k,r,t.columnBuffer,t.disableExtendRowFullWidth,m]),j=l.useCallback((n=!1)=>{if(t.disableVirtualization)return;const a=e.current.state,l=a.containerSizes;if(!i||!i.current||!l)return;const c=a.scrollBar,{scrollLeft:u,scrollTop:s}=i.current;r.debug(`Handling scroll Left: ${u} Top: ${s}`);let d=S(l,u);const p=u,m=a.containerSizes.renderingZoneScrollHeight,h=a.rendering.virtualPage,g=m>0?Math.floor(s/m):0,b=s%m,v={left:c.hasScrollX?p:0,top:l.isVirtualized?b:s};l.isVirtualized&&h!==g?(w({virtualPage:g}),r.debug(`Changing page from ${h} to ${g}`),d=!0):(!l.isVirtualized&&h>0&&(r.debug("Virtualization disabled, setting virtualPage to 0"),w({virtualPage:0})),y(v)),w({renderingZoneScroll:v,realScroll:{left:i.current.scrollLeft,top:i.current.scrollTop}}),e.current.publishEvent(o.rowsScroll,v);const O=a.rendering.renderContext&&a.rendering.renderContext.paginationCurrentPage!==f.page;(n||d||O)&&E()},[e,r,f.page,E,y,w,S,i,t.disableVirtualization]),P=l.useCallback(()=>{y({left:0,top:0}),w({virtualPage:0}),i&&i.current&&(i.current.scrollTop=0,i.current.scrollLeft=0),w({renderingZoneScroll:{left:0,top:0}})},[y,w,i]),T=l.useRef(null),R=l.useCallback(()=>{t.disableVirtualization||i.current.scrollLeft<0||i.current.scrollTop<0||(T.current||s(e=>Object.assign(Object.assign({},e),{isScrolling:!0})),clearTimeout(T.current),T.current=setTimeout(()=>{T.current=null,s(e=>Object.assign(Object.assign({},e),{isScrolling:!1})),d()},300),e.current.updateViewport&&e.current.updateViewport())},[t.disableVirtualization,i,e,s,d]),M=l.useCallback(()=>u.containerSizes,[u.containerSizes]),I=l.useCallback(()=>u.rendering.renderContext||void 0,[u.rendering.renderContext]);Kt(()=>{t.disableVirtualization||c&&c.current&&(r.debug("applying scrollTop ",u.rendering.renderingZoneScroll.top),y(u.rendering.renderingZoneScroll))}),hn(e,{getContainerPropsState:M,getRenderContextState:I,updateViewport:j},"GridVirtualizationApi"),l.useEffect(()=>{var t;(null===(t=u.rendering.renderContext)||void 0===t?void 0:t.paginationCurrentPage)!==f.page&&e.current.updateViewport&&(r.debug(`State paginationState.page changed to ${f.page}. `),e.current.updateViewport(!0),P())},[e,f.page,null===(n=u.rendering.renderContext)||void 0===n?void 0:n.paginationCurrentPage,r,P]),l.useEffect(()=>(e.current.updateViewport&&(r.debug(`totalRowCount has changed to ${p}, updating viewport.`),e.current.updateViewport(!0)),()=>{clearTimeout(T.current)}),[r,p,u.viewportSizes,u.scrollBar,u.containerSizes,e]),vl(e,i,"scroll",R,{passive:!0});const A=l.useCallback(()=>{r.debug("Clearing previous renderedColRef"),g.current=null},[r,g]);zn(e,o.columnsChange,A),zn(e,o.debouncedResize,A)};function Tl(e){const{clientHeight:t,scrollTop:n,offsetHeight:r,offsetTop:a}=e,o=a+r;return o-t>n?o-t:a<n?a:void 0}const Rl=(e,t)=>{const n=mn(e,"useGridScroll"),r=e.current.columnHeadersElementRef,a=e.current.windowRef,o=An(e,wr),i=An(e,Gr),c=An(e,Kn),u=An(e,re),s=An(e,ae),d=l.useCallback(r=>{if(0===c||0===u.length)return!1;n.debug(`Scrolling to cell at row ${r.rowIndex}, col: ${r.colIndex} `);const l={};if(null!=r.colIndex&&(l.left=Tl({clientHeight:a.current.clientWidth,scrollTop:a.current.scrollLeft,offsetHeight:u[r.colIndex].computedWidth,offsetTop:s.positions[r.colIndex]})),null!=r.rowIndex){const e=t.pagination?r.rowIndex-i.page*i.pageSize:r.rowIndex;l.top=Tl({clientHeight:a.current.clientHeight,scrollTop:a.current.scrollTop,offsetHeight:o,offsetTop:o*e})}return(void 0!==typeof l.left||void 0!==typeof l.top)&&(e.current.scroll(l),!0)},[c,u,n,e,t.pagination,i.page,i.pageSize,a,s.positions,o]),f=l.useCallback(e=>{a.current&&null!=e.left&&r.current&&(r.current.scrollLeft=e.left,a.current.scrollLeft=e.left,n.debug("Scrolling left: "+e.left)),a.current&&null!=e.top&&(a.current.scrollTop=e.top,n.debug("Scrolling top: "+e.top)),n.debug("Scrolling, updating container, and viewport")},[a,r,n]),p=l.useCallback(()=>Fn(e.current.getState()),[e]);hn(e,{scroll:f,scrollToIndexes:d,getScrollPosition:p},"GridScrollApi");const m=l.useCallback(e=>{e.target.scrollLeft=0,e.target.scrollTop=0},[]);vl(e,()=>{var t,n,r;return null===(r=null===(n=null===(t=e.current)||void 0===t?void 0:t.renderingZoneRef)||void 0===n?void 0:n.current)||void 0===r?void 0:r.parentElement},"scroll",m),vl(e,()=>{var t,n;return null===(n=null===(t=e.current)||void 0===t?void 0:t.columnHeadersContainerElementRef)||void 0===n?void 0:n.current},"scroll",m)};class Ml extends class{constructor(){this.maxListeners=10,this.warnOnce=!1,this.events={}}on(e,t){Array.isArray(this.events[e])||(this.events[e]=[]),this.events[e].push(t)}removeListener(e,t){if(Array.isArray(this.events[e])){const n=this.events[e].indexOf(t);n>-1&&this.events[e].splice(n,1)}}removeAllListeners(e){e?Array.isArray(this.events[e])&&(this.events[e]=[]):this.events={}}emit(e,...t){if(Array.isArray(this.events[e])){const n=this.events[e].slice(),r=n.length;for(let e=0;e<r;e+=1)n[e].apply(this,t)}}once(e,t){const n=this;this.on(e,(function r(...a){n.removeListener(e,r),t.apply(n,a)}))}}{on(e,t,n){Array.isArray(this.events[e])||(this.events[e]=[]),n&&n.isFirst?this.events[e].splice(0,0,t):this.events[e].push(t)}}function Il(...e){const t=e[0],n=l.useRef(new Ml);return l.useImperativeHandle(t,()=>n.current,[n]),n}function Al(e,t){if(void 0!==t&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const r=e.changedTouches[n];if(r.identifier===t)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}const Ll=(e,t)=>{const n=mn(e,"useGridColumnResize"),[,r,a]=In(e),i=l.useRef(),c=l.useRef(),u=l.useRef(),s=l.useRef(),d=l.useRef(),f=l.useRef(),p=e=>{n.debug(`Updating width to ${e} for col ${i.current.field}`),i.current.computedWidth=e,i.current.width=e,i.current.flex=void 0,c.current.style.width=e+"px",c.current.style.minWidth=e+"px",c.current.style.maxWidth=e+"px",u.current.forEach(t=>{const n=t;n.style.width=e+"px",n.style.minWidth=e+"px",n.style.maxWidth=e+"px"})},m=$t(t=>{O(),e.current.updateColumn(i.current),clearTimeout(d.current),d.current=setTimeout(()=>{var n;e.current.publishEvent(o.columnResizeStop,null,t),e.current.publishEvent(o.columnWidthChange,{element:c.current,colDef:i.current,width:null===(n=i.current)||void 0===n?void 0:n.computedWidth},t)}),n.debug(`Updating col ${i.current.field} with new width: ${i.current.width}`)}),h=$t(t=>{var n;if(0===t.buttons)return void m(t);let r=s.current+t.clientX-c.current.getBoundingClientRect().left;r=Math.max(null===(n=i.current)||void 0===n?void 0:n.minWidth,r),p(r),e.current.publishEvent(o.columnResize,{element:c.current,colDef:i.current,width:r},t)}),g=$t(({colDef:t},r)=>{var a;if(0!==r.button)return;if(!r.currentTarget.classList.contains(Nn["columnSeparator--resizable"]))return;r.preventDefault(),c.current=lo(r.currentTarget,Nn.columnHeader),n.debug("Start Resize on col "+t.field),e.current.publishEvent(o.columnResizeStart,{field:t.field},r),i.current=t,c.current=null===(a=e.current.columnHeadersElementRef)||void 0===a?void 0:a.current.querySelector(`[data-field="${t.field}"]`),u.current=uo(c.current);const l=Object(w.a)(e.current.rootElementRef.current);l.body.style.cursor="col-resize",s.current=i.current.computedWidth-(r.clientX-c.current.getBoundingClientRect().left),l.addEventListener("mousemove",h),l.addEventListener("mouseup",m)}),b=$t(t=>{Al(t,f.current)&&(O(),e.current.updateColumn(i.current),clearTimeout(d.current),d.current=setTimeout(()=>{e.current.publishEvent(o.columnResizeStop,null,t)}),n.debug(`Updating col ${i.current.field} with new width: ${i.current.width}`))}),v=$t(t=>{var n;const r=Al(t,f.current);if(!r)return;if("mousemove"===t.type&&0===t.buttons)return void b(t);let a=s.current+r.x-c.current.getBoundingClientRect().left;a=Math.max(null===(n=i.current)||void 0===n?void 0:n.minWidth,a),p(a),e.current.publishEvent(o.columnResize,{element:c.current,colDef:i.current,width:a},t)}),y=$t(t=>{var r;if(!lo(t.target,Nn["columnSeparator--resizable"]))return;t.preventDefault();const a=t.changedTouches[0];null!=a&&(f.current=a.identifier),c.current=lo(t.target,Nn.columnHeader);const l=c.current.getAttribute("data-field"),d=e.current.getColumn(l);n.debug("Start Resize on col "+d.field),e.current.publishEvent(o.columnResizeStart,{field:l},t),i.current=d,c.current=function(e,t){return e.querySelector(`[data-field="${t}"]`)}(null===(r=e.current.columnHeadersElementRef)||void 0===r?void 0:r.current,d.field),u.current=uo(c.current),s.current=i.current.computedWidth-(a.clientX-c.current.getBoundingClientRect().left);const p=Object(w.a)(t.currentTarget);p.addEventListener("touchmove",v),p.addEventListener("touchend",b)}),O=l.useCallback(()=>{const t=Object(w.a)(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",h),t.removeEventListener("mouseup",m),t.removeEventListener("touchmove",v),t.removeEventListener("touchend",b)},[e,h,m,v,b]),C=l.useCallback(({field:e})=>{r(t=>Object.assign(Object.assign({},t),{columnResize:Object.assign(Object.assign({},t.columnResize),{resizingColumnField:e})})),a()},[r,a]),E=l.useCallback(()=>{r(e=>Object.assign(Object.assign({},e),{columnResize:Object.assign(Object.assign({},e.columnResize),{resizingColumnField:""})})),a()},[r,a]);l.useEffect(()=>()=>{clearTimeout(d.current),O()},[e,y,O]),vl(e,()=>{var t,n;return null===(n=null===(t=e.current)||void 0===t?void 0:t.columnHeadersElementRef)||void 0===n?void 0:n.current},"touchstart",y,{passive:!1}),zn(e,o.columnSeparatorMouseDown,g),zn(e,o.columnResizeStart,C),zn(e,o.columnResizeStop,E),Hn(e,o.columnResize,t.onColumnResize),Hn(e,o.columnWidthChange,t.onColumnWidthChange)},Fl=l.memo((function(e){const t=Z(),n=Hr(),[r]=n.sortingOrder,a="asc"===r?null==t?void 0:t.current.components.ColumnSortedAscendingIcon:null==t?void 0:t.current.components.ColumnSortedDescendingIcon;return a?l.createElement(a,Object.assign({},e)):null})),Nl=l.forwardRef((function(e,t){const{message:n}=e,r=Xr(e,["message"]),a=Z().current.getLocaleText("errorOverlayDefaultLabel");return l.createElement(mi,Object.assign({ref:t},r),n||a)})),Dl=l.forwardRef((function(e,t){const n=Z().current.getLocaleText("noResultsOverlayLabel");return l.createElement(mi,Object.assign({ref:t},e),n)})),_l={BooleanCellFalseIcon:va,BooleanCellTrueIcon:Ea,Checkbox:S.a,ColumnFilteredIcon:ca,ColumnMenu:Oi,ColumnMenuIcon:ba,ColumnResizeIcon:pa,ColumnSelectorIcon:fa,ColumnSortedAscendingIcon:oa,ColumnSortedDescendingIcon:ia,ColumnsPanel:Li,ColumnUnsortedIcon:Fl,DensityComfortableIcon:ga,DensityCompactIcon:ma,DensityStandardIcon:ha,ErrorOverlay:Nl,ExportIcon:Ca,FilterPanel:Hi,Footer:Yi,Header:Xi,LoadingOverlay:Zi,NoResultsOverlay:Dl,NoRowsOverlay:Qi,OpenFilterButtonIcon:la,Pagination:tl,Panel:Di,PreferencesPanel:_i},zl=(e,t)=>{const n=l.useMemo(()=>{var e,n;return{BooleanCellTrueIcon:t.components&&t.components.BooleanCellTrueIcon||_l.BooleanCellTrueIcon,BooleanCellFalseIcon:t.components&&t.components.BooleanCellFalseIcon||_l.BooleanCellFalseIcon,ColumnFilteredIcon:t.components&&t.components.ColumnFilteredIcon||_l.ColumnFilteredIcon,ColumnMenuIcon:t.components&&t.components.ColumnMenuIcon||_l.ColumnMenuIcon,ColumnResizeIcon:t.components&&t.components.ColumnResizeIcon||_l.ColumnResizeIcon,ColumnSelectorIcon:t.components&&t.components.ColumnSelectorIcon||_l.ColumnSelectorIcon,ColumnUnsortedIcon:void 0===(null===(e=t.components)||void 0===e?void 0:e.ColumnUnsortedIcon)?_l.ColumnUnsortedIcon:null===(n=t.components)||void 0===n?void 0:n.ColumnUnsortedIcon,ColumnSortedAscendingIcon:t.components&&t.components.ColumnSortedAscendingIcon||_l.ColumnSortedAscendingIcon,ColumnSortedDescendingIcon:t.components&&t.components.ColumnSortedDescendingIcon||_l.ColumnSortedDescendingIcon,DensityComfortableIcon:t.components&&t.components.DensityComfortableIcon||_l.DensityComfortableIcon,DensityCompactIcon:t.components&&t.components.DensityCompactIcon||_l.DensityCompactIcon,DensityStandardIcon:t.components&&t.components.DensityStandardIcon||_l.DensityStandardIcon,ExportIcon:t.components&&t.components.ExportIcon||_l.ExportIcon,OpenFilterButtonIcon:t.components&&t.components.OpenFilterButtonIcon||_l.OpenFilterButtonIcon,Checkbox:t.components&&t.components.Checkbox||_l.Checkbox,ColumnMenu:t.components&&t.components.ColumnMenu||_l.ColumnMenu,ErrorOverlay:t.components&&t.components.ErrorOverlay||_l.ErrorOverlay,Footer:t.components&&t.components.Footer||_l.Footer,Header:t.components&&t.components.Header||_l.Header,Toolbar:t.components&&t.components.Toolbar,PreferencesPanel:t.components&&t.components.PreferencesPanel||_l.PreferencesPanel,LoadingOverlay:t.components&&t.components.LoadingOverlay||_l.LoadingOverlay,NoResultsOverlay:t.components&&t.components.NoResultsOverlay||_l.NoResultsOverlay,NoRowsOverlay:t.components&&t.components.NoRowsOverlay||_l.NoRowsOverlay,Pagination:t.components&&t.components.Pagination||_l.Pagination,FilterPanel:t.components&&t.components.FilterPanel||_l.FilterPanel,ColumnsPanel:t.components&&t.components.ColumnsPanel||_l.ColumnsPanel,Panel:t.components&&t.components.Panel||_l.Panel}},[t.components]);e.current.components=n,e.current.componentsProps=t.componentsProps},Bl=()=>{const e=Z(),t=An(e,Er),n=An(e,Xn),r=An(e,re),[a]=In(e);return l.useMemo(()=>({state:a,rows:n,columns:r,options:t,apiRef:e,rootElement:e.current.rootElementRef}),[a,n,r,t,e])},Hl=(e,t)=>{var n,r;return"v5"===tn()?{components:{MuiDataGrid:{defaultProps:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(n=null==t?void 0:t.components)||void 0===n?void 0:n.MuiTablePagination.defaultProps)||{}})}}}}:{props:{MuiDataGrid:{localeText:Object.assign(Object.assign({},e),{MuiTablePagination:(null===(r=null==t?void 0:t.props)||void 0===r?void 0:r.MuiTablePagination)||{}})}}}},Wl=Hl({noRowsLabel:"لا توجد صفوف",noResultsOverlayLabel:"لم يتم العثور على نتائج.",errorOverlayDefaultLabel:"حدث خطأ.",toolbarDensity:"كثافة",toolbarDensityLabel:"كثافة",toolbarDensityCompact:"مدمج",toolbarDensityStandard:"المعيار",toolbarDensityComfortable:"مريح",toolbarColumns:"الأعمدة",toolbarColumnsLabel:"حدد الأعمدة",toolbarFilters:"الفلاتر",toolbarFiltersLabel:"اظهر الفلاتر",toolbarFiltersTooltipHide:"إخفاء الفلاتر",toolbarFiltersTooltipShow:"اظهر الفلاتر",toolbarFiltersTooltipActive:e=>e+" فلاتر نشطة",toolbarExport:"تصدير",toolbarExportLabel:"تصدير",toolbarExportCSV:"تنزيل كملف CSV",columnsPanelTextFieldLabel:"ايجاد عمود",columnsPanelTextFieldPlaceholder:"عنوان العمود",columnsPanelDragIconLabel:"إعادة ترتيب العمود",columnsPanelShowAllButton:"عرض الكل",columnsPanelHideAllButton:"اخفاء الكل",filterPanelAddFilter:"اضف فلتر",filterPanelDeleteIconLabel:"حذف",filterPanelOperators:"العاملين",filterPanelOperatorAnd:"و",filterPanelOperatorOr:"او",filterPanelColumns:"الأعمدة",filterPanelInputLabel:"قيمة",filterPanelInputPlaceholder:"قيمة التصفية",filterOperatorContains:"يحتوي على",filterOperatorEquals:"يساوي",filterOperatorStartsWith:"يبدأ ب",filterOperatorEndsWith:"ينتهي بـ",filterOperatorIs:"يكون",filterOperatorNot:"ليس",filterOperatorAfter:"يكون بعد",filterOperatorOnOrAfter:"في أو بعد",filterOperatorBefore:"يكون",filterOperatorOnOrBefore:"في أو قبل",filterOperatorIsEmpty:"فارغ",filterOperatorIsNotEmpty:"ليس فارغا",filterValueAny:"أي",filterValueTrue:"صحيح",filterValueFalse:"خاطئة",columnMenuLabel:"القائمة",columnMenuShowColumns:"إظهار الأعمدة",columnMenuFilter:"فلتر",columnMenuHideColumn:"إخفاء",columnMenuUnsort:"غير مرتب",columnMenuSortAsc:"الترتيب حسب ASC",columnMenuSortDesc:"الترتيب حسب DESC",columnHeaderFiltersTooltipActive:e=>e+" فلاتر نشطة",columnHeaderFiltersLabel:"اظهر الفلاتر",columnHeaderSortIconLabel:"ترتيب",footerRowSelected:e=>e.toLocaleString()+" صفوف مختارة",footerTotalRows:"إجمالي الصفوف:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} من ${t.toLocaleString()}`,checkboxSelectionHeaderName:"تحديد",booleanCellTrueLabel:"صحيح",booleanCellFalseLabel:"خاطئة"},$.enUS),Vl=Hl({noRowsLabel:"Няма редове",errorOverlayDefaultLabel:"Възникна грешка.",toolbarDensity:"Гъстота",toolbarDensityLabel:"Гъстота",toolbarDensityCompact:"Компактна",toolbarDensityStandard:"Стандартна",toolbarDensityComfortable:"Комфортна",toolbarColumns:"Колони",toolbarColumnsLabel:"Покажи селектора на колони",toolbarFilters:"Филтри",toolbarFiltersLabel:"Покажи Филтрите",toolbarFiltersTooltipHide:"Скрий Филтрите",toolbarFiltersTooltipShow:"Покажи Филтрите",toolbarFiltersTooltipActive:e=>e+" активни филтри",columnsPanelTextFieldLabel:"Намери колона",columnsPanelTextFieldPlaceholder:"Заглавие на колона",columnsPanelDragIconLabel:"Пренареди на колона",columnsPanelShowAllButton:"Покажи Всички",columnsPanelHideAllButton:"Скрий Всички",filterPanelAddFilter:"Добави Филтър",filterPanelDeleteIconLabel:"Изтрий",filterPanelOperators:"Оператори",filterPanelOperatorAnd:"И",filterPanelOperatorOr:"Или",filterPanelColumns:"Колони",filterOperatorContains:"съдържа",filterOperatorEquals:"равно",filterOperatorStartsWith:"започва с",filterOperatorEndsWith:"завършва с",filterOperatorIs:"е",filterOperatorNot:"не е",filterOperatorAfter:"е след",filterOperatorOnOrAfter:"е на или след",filterOperatorBefore:"е преди",filterOperatorOnOrBefore:"е на или преди",filterPanelInputLabel:"Стойност",filterPanelInputPlaceholder:"Стойност на филтъра",columnMenuLabel:"Меню",columnMenuShowColumns:"Покажи колоните",columnMenuFilter:"Филтри",columnMenuHideColumn:"Скрий",columnMenuUnsort:"Отмени сортирането",columnMenuSortAsc:"Сортирай по възходящ ред",columnMenuSortDesc:"Сортирай по низходящ ред",columnHeaderFiltersTooltipActive:e=>e+" активни филтри",columnHeaderFiltersLabel:"Покажи Филтрите",columnHeaderSortIconLabel:"Сортирай",footerRowSelected:e=>1!==e?e.toLocaleString()+" избрани редове":e.toLocaleString()+" избран ред",footerTotalRows:"Общо Rедове:"},$.bgBG),Gl=Hl({noRowsLabel:"Žádné záznamy",noResultsOverlayLabel:"Nenašli se žadné výsledky.",errorOverlayDefaultLabel:"Stala sa nepředvídaná chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktní",toolbarDensityStandard:"Standartní",toolbarDensityComfortable:"Komfortní",toolbarColumns:"Sloupce",toolbarColumnsLabel:"Vybrat sloupec",toolbarFilters:"Filtry",toolbarFiltersLabel:"Zobrazit filtry",toolbarFiltersTooltipHide:"Skrýt filtry",toolbarFiltersTooltipShow:"Zobrazit filtry",toolbarFiltersTooltipActive:e=>{let t="aktivních filtrů";return e>1&&e<5?t="aktivní filtry":1===e&&(t="aktivní filtr"),`${e} ${t}`},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stáhnout jako CSV",columnsPanelTextFieldLabel:"Najít sloupec",columnsPanelTextFieldPlaceholder:"Název sloupce",columnsPanelDragIconLabel:"Uspořádat sloupce",columnsPanelShowAllButton:"Zobrazit vše",columnsPanelHideAllButton:"Skrýt vše",filterPanelAddFilter:"Přidat filtr",filterPanelDeleteIconLabel:"Odstranit",filterPanelOperators:"Operátory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Nebo",filterPanelColumns:"Sloupce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtru",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovná se",filterOperatorStartsWith:"začíná s",filterOperatorEndsWith:"končí na",filterOperatorIs:"je",filterOperatorNot:"není",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na nebo po",filterOperatorBefore:"je před",filterOperatorOnOrBefore:"je na nebo dříve",filterValueAny:"jakýkoliv",filterValueTrue:"ano",filterValueFalse:"ne",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobrazit sloupce",columnMenuFilter:"Filtr",columnMenuHideColumn:"Skrýt",columnMenuUnsort:"Zrušit filtry",columnMenuSortAsc:"Seřadit vzestupně",columnMenuSortDesc:"Seřadit sestupně",columnHeaderFiltersTooltipActive:e=>{let t="aktivních filtrů";return e>1&&e<5?t="aktivní filtry":1===e&&(t="aktivní filtr"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobrazit filtry",columnHeaderSortIconLabel:"Filtrovat",footerRowSelected:e=>{let t="vybraných záznamů";return e>1&&e<5?t="vybrané záznamy":1===e&&(t="vybraný záznam"),`${e} ${t}`},footerTotalRows:"Celkem řádků:",checkboxSelectionHeaderName:"Výběr řádku",booleanCellTrueLabel:"ano",booleanCellFalseLabel:"ne"},$.csCZ),Ul=Hl({noRowsLabel:"Keine Einträge",noResultsOverlayLabel:"Keine Ergebnisse gefunden.",errorOverlayDefaultLabel:"Ein unerwarteter Fehler ist aufgetreten.",toolbarDensity:"Zeilenhöhe",toolbarDensityLabel:"Zeilenhöhe",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Breit",toolbarColumns:"Spalten",toolbarColumnsLabel:"Zeige Spaltenauswahl",toolbarFilters:"Filter",toolbarFiltersLabel:"Zeige Filter",toolbarFiltersTooltipHide:"Verberge Filter",toolbarFiltersTooltipShow:"Zeige Filter",toolbarFiltersTooltipActive:e=>1!==e?e+" aktive Filter":e+" aktiver Filter",toolbarExport:"Exportieren",toolbarExportLabel:"Exportieren",toolbarExportCSV:"Download als CSV",columnsPanelTextFieldLabel:"Finde Spalte",columnsPanelTextFieldPlaceholder:"Spaltenüberschrift",columnsPanelDragIconLabel:"Spalte umsortieren",columnsPanelShowAllButton:"Zeige alle",columnsPanelHideAllButton:"Verberge alle",filterPanelAddFilter:"Filter hinzufügen",filterPanelDeleteIconLabel:"Löschen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"Und",filterPanelOperatorOr:"Oder",filterPanelColumns:"Spalten",filterPanelInputLabel:"Wert",filterPanelInputPlaceholder:"Wert filtern",filterOperatorContains:"beinhaltet",filterOperatorEquals:"ist gleich",filterOperatorStartsWith:"beginnt mit",filterOperatorEndsWith:"endet mit",filterOperatorIs:"ist",filterOperatorNot:"ist nicht",filterOperatorOnOrAfter:"ist an oder nach",filterOperatorBefore:"ist vor",filterOperatorOnOrBefore:"ist an oder vor",filterOperatorAfter:"ist nach",filterOperatorIsEmpty:"ist leer",filterOperatorIsNotEmpty:"ist nicht leer",columnMenuLabel:"Menü",columnMenuShowColumns:"Zeige alle Spalten",columnMenuFilter:"Filter",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Sortierung deaktivieren",columnMenuSortAsc:"Sortiere aufsteigend",columnMenuSortDesc:"Sortiere absteigend",columnHeaderFiltersTooltipActive:e=>1!==e?e+" aktive Filter":e+" aktiver Filter",columnHeaderFiltersLabel:"Zeige Filter",columnHeaderSortIconLabel:"Sortieren",footerRowSelected:e=>1!==e?e.toLocaleString()+" Einträge ausgewählt":e.toLocaleString()+" Eintrag ausgewählt",footerTotalRows:"Gesamt:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} von ${t.toLocaleString()}`},$.deDE),ql=Hl({noRowsLabel:"Δεν υπάρχουν καταχωρήσεις",errorOverlayDefaultLabel:"Παρουσιάστηκε απρόβλεπτο σφάλμα.",toolbarDensity:"Ύψος σειράς",toolbarDensityLabel:"Ύψος σειράς",toolbarDensityCompact:"Συμπαγής",toolbarDensityStandard:"Προκαθορισμένο",toolbarDensityComfortable:"Πλατύ",toolbarColumns:"Στήλες",toolbarColumnsLabel:"Επιλέξτε στήλες",toolbarFilters:"Φίλτρα",toolbarFiltersLabel:"Εμφάνιση φίλτρων",toolbarFiltersTooltipHide:"Απόκρυψη φίλτρων",toolbarFiltersTooltipShow:"Εμφάνιση φίλτρων",toolbarFiltersTooltipActive:e=>1!==e?e+" ενεργά φίλτρα":e+" ενεργό φίλτρο",toolbarExport:"Εξαγωγή",toolbarExportLabel:"Εξαγωγή",toolbarExportCSV:"Λήψη ως CSV",columnsPanelTextFieldLabel:"Εύρεση στήλης",columnsPanelTextFieldPlaceholder:"Επικεφαλίδα στήλης",columnsPanelDragIconLabel:"Αναδιάταξη στήλης",columnsPanelShowAllButton:"Προβολή όλων",columnsPanelHideAllButton:"Απόκρυψη όλων",filterPanelAddFilter:"Προσθήκη φίλτρου",filterPanelDeleteIconLabel:"Διαγραφή",filterPanelOperators:"Τελεστές",filterPanelOperatorAnd:"Καί",filterPanelOperatorOr:"Ή",filterPanelColumns:"Στήλες",filterPanelInputLabel:"Τιμή",filterPanelInputPlaceholder:"Τιμή φίλτρου",filterOperatorContains:"περιέχει",filterOperatorEquals:"ισούται",filterOperatorStartsWith:"ξεκινάει με",filterOperatorEndsWith:"τελειώνει με",filterOperatorIs:"είναι",filterOperatorNot:"δεν είναι",filterOperatorAfter:"είναι μετά",filterOperatorOnOrAfter:"είναι ίσο ή μετά",filterOperatorBefore:"είναι πριν",filterOperatorOnOrBefore:"είναι ίσο ή πριν",columnMenuLabel:"Μενού",columnMenuShowColumns:"Εμφάνιση στηλών",columnMenuFilter:"Φίλτρο",columnMenuHideColumn:"Απόκρυψη",columnMenuUnsort:"Απενεργοποίηση ταξινόμησης",columnMenuSortAsc:"Ταξινόμηση σε αύξουσα σειρά",columnMenuSortDesc:"Ταξινόμηση σε φθίνουσα σειρά",columnHeaderFiltersTooltipActive:e=>1!==e?e+" ενεργά φίλτρα":e+" ενεργό φίλτρο",columnHeaderFiltersLabel:"Εμφάνιση φίλτρων",columnHeaderSortIconLabel:"Ταξινόμηση",footerRowSelected:e=>1!==e?e.toLocaleString()+" επιλεγμένες γραμμές":e.toLocaleString()+" επιλεγμένη γραμμή",footerTotalRows:"Σύνολο Γραμμών:"}),$l=Hl(bn,$.enUS),Kl=Hl({noRowsLabel:"Sin filas",errorOverlayDefaultLabel:"Ha ocurrido un error.",toolbarDensity:"Densidad",toolbarDensityLabel:"Densidad",toolbarDensityCompact:"Compacta",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comoda",toolbarColumns:"Columnas",toolbarColumnsLabel:"Seleccionar columnas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Mostrar filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Mostrar filtros",toolbarFiltersTooltipActive:e=>e>1?e+" filtros activos":e+" filtro activo",toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Descargar como CSV",columnsPanelTextFieldLabel:"Columna de búsqueda",columnsPanelTextFieldPlaceholder:"Título de columna",columnsPanelDragIconLabel:"Reorder columna",columnsPanelShowAllButton:"Mostrar todo",columnsPanelHideAllButton:"Ocultar todo",filterPanelAddFilter:"Agregar filtro",filterPanelDeleteIconLabel:"Borrar",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"Y",filterPanelOperatorOr:"O",filterPanelColumns:"Columnas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Valor de filtro",filterOperatorContains:"contiene",filterOperatorEquals:"es igual",filterOperatorStartsWith:"comienza con",filterOperatorEndsWith:"termina con",filterOperatorIs:"es",filterOperatorNot:"no es",filterOperatorAfter:"es posterior",filterOperatorOnOrAfter:"es en o posterior",filterOperatorBefore:"es anterior",filterOperatorOnOrBefore:"es en o anterior",filterOperatorIsEmpty:"está vacío",filterOperatorIsNotEmpty:"no esta vacío",columnMenuLabel:"Menú",columnMenuShowColumns:"Mostrar columnas",columnMenuFilter:"Filtro",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desordenar",columnMenuSortAsc:"Ordenar ASC",columnMenuSortDesc:"Ordenar DESC",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtros activos":e+" filtro activo",columnHeaderFiltersLabel:"Mostrar filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>e>1?e.toLocaleString()+" filas seleccionadas":e.toLocaleString()+" fila seleccionada",footerTotalRows:"Filas Totales:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`},$.esES),Jl=Hl({noRowsLabel:"Pas de résultats",noResultsOverlayLabel:"Aucun résultat.",errorOverlayDefaultLabel:"Une erreur est apparue.",toolbarDensity:"Densité",toolbarDensityLabel:"Densité",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonnes",toolbarColumnsLabel:"Choisir les colonnes",toolbarFilters:"Filtres",toolbarFiltersLabel:"Afficher les filtres",toolbarFiltersTooltipHide:"Cacher les filtres",toolbarFiltersTooltipShow:"Afficher les filtres",toolbarFiltersTooltipActive:e=>e>1?e+" filtres actifs":e+" filtre actif",toolbarExport:"Exporter",toolbarExportLabel:"Exporter",toolbarExportCSV:"Télécharger en CSV",columnsPanelTextFieldLabel:"Chercher colonne",columnsPanelTextFieldPlaceholder:"Titre de la colonne",columnsPanelDragIconLabel:"Réorganiser la colonne",columnsPanelShowAllButton:"Tout afficher",columnsPanelHideAllButton:"Tout cacher",filterPanelAddFilter:"Ajouter un filtre",filterPanelDeleteIconLabel:"Supprimer",filterPanelOperators:"Opérateurs",filterPanelOperatorAnd:"Et",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colonnes",filterPanelInputLabel:"Valeur",filterPanelInputPlaceholder:"Filtrer la valeur",filterOperatorContains:"contient",filterOperatorEquals:"égal à",filterOperatorStartsWith:"commence par",filterOperatorEndsWith:"se termine par",filterOperatorIs:"est",filterOperatorNot:"n'est pas",filterOperatorOnOrAfter:"égal ou postérieur",filterOperatorAfter:"postérieur",filterOperatorOnOrBefore:"égal ou antérieur",filterOperatorBefore:"antérieur",filterOperatorIsEmpty:"est vide",filterOperatorIsNotEmpty:"n'est pas vide",columnMenuLabel:"Menu",columnMenuShowColumns:"Afficher les colonnes",columnMenuFilter:"Filtrer",columnMenuHideColumn:"Cacher",columnMenuUnsort:"Annuler le tri",columnMenuSortAsc:"Tri ascendant",columnMenuSortDesc:"Tri descendant",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtres actifs":e+" filtre actif",columnHeaderFiltersLabel:"Afficher les filtres",columnHeaderSortIconLabel:"Trier",footerRowSelected:e=>e>1?e.toLocaleString()+" lignes sélectionnées":e.toLocaleString()+" ligne sélectionnée",footerTotalRows:"Lignes totales :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} sur ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Sélection"},$.frFR),Yl=Hl({noRowsLabel:"Nessun record",noResultsOverlayLabel:"Nessun record trovato.",errorOverlayDefaultLabel:"Si è verificato un errore.",toolbarDensity:"Densità",toolbarDensityLabel:"Densità",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Confortable",toolbarColumns:"Colonne",toolbarColumnsLabel:"Seleziona le colonne",toolbarFilters:"Filtri",toolbarFiltersLabel:"Mostra i filtri",toolbarFiltersTooltipHide:"Nascondi i filtri",toolbarFiltersTooltipShow:"Mostra i filtri",toolbarFiltersTooltipActive:e=>e>1?e+" filtri attivi":e+" filtro attivo",columnsPanelTextFieldLabel:"Cerca colonna",columnsPanelTextFieldPlaceholder:"Titolo della colonna",columnsPanelDragIconLabel:"Riordina la colonna",columnsPanelShowAllButton:"Mostra tutto",columnsPanelHideAllButton:"Nascondi tutto",filterPanelAddFilter:"Aggiungi un filtro",filterPanelDeleteIconLabel:"Rimuovi",filterPanelOperators:"Operatori",filterPanelOperatorAnd:"E (and)",filterPanelOperatorOr:"O (or)",filterPanelColumns:"Colonne",filterPanelInputLabel:"Valore",filterPanelInputPlaceholder:"Filtra il valore",filterOperatorContains:"contiene",filterOperatorEquals:"uguale a",filterOperatorStartsWith:"comincia per",filterOperatorEndsWith:"termina per",filterOperatorIs:"uguale a",filterOperatorNot:"diversa da",filterOperatorOnOrAfter:"a partire dal",filterOperatorAfter:"dopo il",filterOperatorOnOrBefore:"fino al",filterOperatorBefore:"prima del",filterOperatorIsEmpty:"è vuoto",filterOperatorIsNotEmpty:"non è vuoto",columnMenuLabel:"Menu",columnMenuShowColumns:"Mostra le colonne",columnMenuFilter:"Filtra",columnMenuHideColumn:"Nascondi",columnMenuUnsort:"Annulla l'ordinamento",columnMenuSortAsc:"Ordinamento crescente",columnMenuSortDesc:"Ordinamento decrescente",columnHeaderFiltersTooltipActive:e=>e>1?e+" filtri attivi":e+" filtro attivo",columnHeaderFiltersLabel:"Mostra i filtri",columnHeaderSortIconLabel:"Ordina",footerRowSelected:e=>e>1?e.toLocaleString()+" record selezionati":e.toLocaleString()+" record selezionato",footerTotalRows:"Record totali :",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} di ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleziona"},$.itIT),Xl=Hl({noRowsLabel:"行がありません",errorOverlayDefaultLabel:"エラーが発生しました。",toolbarDensity:"行間隔",toolbarDensityLabel:"行間隔",toolbarDensityCompact:"コンパクト",toolbarDensityStandard:"標準",toolbarDensityComfortable:"ひろめ",toolbarColumns:"列一覧",toolbarColumnsLabel:"列選択",toolbarFilters:"フィルター",toolbarFiltersLabel:"フィルター表示",toolbarFiltersTooltipHide:"フィルター非表示",toolbarFiltersTooltipShow:"フィルター表示",toolbarFiltersTooltipActive:e=>e+"件のフィルターを適用中",toolbarExport:"エクスポート",toolbarExportLabel:"エクスポート",toolbarExportCSV:"CSVダウンロード",columnsPanelTextFieldLabel:"列検索",columnsPanelTextFieldPlaceholder:"検索クエリを入力...",columnsPanelDragIconLabel:"列並べ替え",columnsPanelShowAllButton:"すべて表示",columnsPanelHideAllButton:"すべて非表示",filterPanelAddFilter:"フィルター追加",filterPanelDeleteIconLabel:"削除",filterPanelOperators:"オペレータ",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"列",filterPanelInputLabel:"値",filterPanelInputPlaceholder:"値を入力...",filterOperatorContains:"...を含む",filterOperatorEquals:"...に等しい",filterOperatorStartsWith:"...で始まる",filterOperatorEndsWith:"...で終わる",filterOperatorIs:"...である",filterOperatorNot:"...でない",filterOperatorAfter:"...より後ろ",filterOperatorOnOrAfter:"...以降",filterOperatorBefore:"...より前",filterOperatorOnOrBefore:"...以前",columnMenuLabel:"メニュー",columnMenuShowColumns:"列表示",columnMenuFilter:"フィルター",columnMenuHideColumn:"列非表示",columnMenuUnsort:"ソート解除",columnMenuSortAsc:"昇順ソート",columnMenuSortDesc:"降順ソート",columnHeaderFiltersTooltipActive:e=>e+"件のフィルターを適用中",columnHeaderFiltersLabel:"フィルター表示",columnHeaderSortIconLabel:"ソート",footerRowSelected:e=>e+"行を選択中",footerTotalRows:"総行数:"},$.jaJP),Zl=Hl({noRowsLabel:"Geen resultaten.",errorOverlayDefaultLabel:"Er deed zich een fout voor.",toolbarDensity:"Grootte",toolbarDensityLabel:"Grootte",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Normaal",toolbarDensityComfortable:"Breed",toolbarColumns:"Kolommen",toolbarColumnsLabel:"Kies kolommen",toolbarFilters:"Filters",toolbarFiltersLabel:"Toon filters",toolbarFiltersTooltipHide:"Verberg filters",toolbarFiltersTooltipShow:"Toon filters",toolbarFiltersTooltipActive:e=>e>1?e+" actieve filters":e+" filter actief",columnsPanelTextFieldLabel:"Zoek kolom",columnsPanelTextFieldPlaceholder:"Kolomtitel",columnsPanelDragIconLabel:"Kolom herschikken",columnsPanelShowAllButton:"Alles tonen",columnsPanelHideAllButton:"Alles verbergen",filterPanelAddFilter:"Filter toevoegen",filterPanelDeleteIconLabel:"Verwijderen",filterPanelOperators:"Operatoren",filterPanelOperatorAnd:"En",filterPanelOperatorOr:"Of",filterPanelColumns:"Kolommen",filterPanelInputLabel:"Waarde",filterPanelInputPlaceholder:"Filter waarde",filterOperatorContains:"bevat",filterOperatorEquals:"gelijk aan",filterOperatorStartsWith:"begint met",filterOperatorEndsWith:"eindigt met",filterOperatorIs:"is",filterOperatorNot:"is niet",filterOperatorOnOrAfter:"is gelijk of er voor",filterOperatorAfter:"is voor",filterOperatorOnOrBefore:"is gelijk of er na",filterOperatorBefore:"is na",columnMenuLabel:"Menu",columnMenuShowColumns:"Toon kolommen",columnMenuFilter:"Filteren",columnMenuHideColumn:"Verbergen",columnMenuUnsort:"Annuleer sortering",columnMenuSortAsc:"Oplopend sorteren",columnMenuSortDesc:"Aflopend sorteren",columnHeaderFiltersTooltipActive:e=>e>1?e+" actieve filters":e+" filter actief",columnHeaderFiltersLabel:"Toon filters",columnHeaderSortIconLabel:"Sorteren",footerRowSelected:e=>e>1?e.toLocaleString()+" rijen geselecteerd":e.toLocaleString()+" rij geselecteerd",footerTotalRows:"Totaal:"},$.nlNL),Ql={noRowsLabel:"Brak danych",errorOverlayDefaultLabel:"Wystąpił błąd.",toolbarDensity:"Wysokość rzędu",toolbarDensityLabel:"Wysokość rzędu",toolbarDensityCompact:"Kompakt",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Komfort",toolbarColumns:"Kolumny",toolbarColumnsLabel:"Zaznacz kolumny",toolbarFilters:"Filtry",toolbarFiltersLabel:"Pokaż filtry",toolbarFiltersTooltipHide:"Ukryj filtry",toolbarFiltersTooltipShow:"Pokaż filtry",toolbarFiltersTooltipActive:e=>"Liczba aktywnych filtrów: "+e,toolbarExport:"Eksportuj",toolbarExportLabel:"Eksportuj",toolbarExportCSV:"Pobierz jako plik CSV",columnsPanelTextFieldLabel:"Znajdź kolumnę",columnsPanelTextFieldPlaceholder:"Tytuł kolumny",columnsPanelDragIconLabel:"Zmień kolejność kolumn",columnsPanelShowAllButton:"Pokaż wszystko",columnsPanelHideAllButton:"Ukryj wszystko",filterPanelAddFilter:"Dodaj filtr",filterPanelDeleteIconLabel:"Usuń",filterPanelOperators:"Operator",filterPanelOperatorAnd:"I",filterPanelOperatorOr:"Lub",filterPanelColumns:"Kolumny",filterPanelInputLabel:"Wartość",filterPanelInputPlaceholder:"Filtrowana wartość",filterOperatorContains:"zawiera",filterOperatorEquals:"równa się",filterOperatorStartsWith:"zaczyna się od",filterOperatorEndsWith:"kończy się na",filterOperatorIs:"równa się",filterOperatorNot:"różne",filterOperatorAfter:"większe niż",filterOperatorOnOrAfter:"większe lub równe",filterOperatorBefore:"mniejsze niż",filterOperatorOnOrBefore:"mniejsze lub równe",columnMenuLabel:"Menu",columnMenuShowColumns:"Pokaż wszystkie kolumny",columnMenuFilter:"Filtr",columnMenuHideColumn:"Ukryj",columnMenuUnsort:"Anuluj sortowanie",columnMenuSortAsc:"Sortuj rosnąco",columnMenuSortDesc:"Sortuj malejąco",columnHeaderFiltersTooltipActive:e=>"Liczba aktywnych filtrów: "+e,columnHeaderFiltersLabel:"Pokaż filtry",columnHeaderSortIconLabel:"Sortuj",footerRowSelected:e=>"Liczba wybranych wierszy: "+e.toLocaleString(),footerTotalRows:"Łączna liczba wierszy:"},ec=Hl(Ql,$.plPL),tc=Hl({noRowsLabel:"Nenhuma linha",noResultsOverlayLabel:"Nenhum resultado encontrado.",errorOverlayDefaultLabel:"Ocorreu um erro.",toolbarDensity:"Densidade",toolbarDensityLabel:"Densidade",toolbarDensityCompact:"Compacto",toolbarDensityStandard:"Padrão",toolbarDensityComfortable:"Confortável",toolbarColumns:"Colunas",toolbarColumnsLabel:"Exibir seletor de colunas",toolbarFilters:"Filtros",toolbarFiltersLabel:"Exibir filtros",toolbarFiltersTooltipHide:"Ocultar filtros",toolbarFiltersTooltipShow:"Exibir filtros",toolbarFiltersTooltipActive:e=>`${e} ${1!==e?"filtros":"filtro"} ${1!==e?"ativos":"ativo"}`,toolbarExport:"Exportar",toolbarExportLabel:"Exportar",toolbarExportCSV:"Baixar como CSV",columnsPanelTextFieldLabel:"Localizar coluna",columnsPanelTextFieldPlaceholder:"Título da coluna",columnsPanelDragIconLabel:"Reordenar Coluna",columnsPanelShowAllButton:"Mostrar todas",columnsPanelHideAllButton:"Ocultar todas",filterPanelAddFilter:"Adicionar filtro",filterPanelDeleteIconLabel:"Excluir",filterPanelOperators:"Operadores",filterPanelOperatorAnd:"E",filterPanelOperatorOr:"Ou",filterPanelColumns:"Colunas",filterPanelInputLabel:"Valor",filterPanelInputPlaceholder:"Filtrar valor",filterOperatorContains:"contém",filterOperatorEquals:"é igual a",filterOperatorStartsWith:"começa com",filterOperatorEndsWith:"termina com",filterOperatorIs:"é",filterOperatorNot:"não é",filterOperatorOnOrAfter:"em ou após",filterOperatorBefore:"antes de",filterOperatorOnOrBefore:"em ou antes de",filterOperatorAfter:"após",filterOperatorIsEmpty:"está vazio",filterOperatorIsNotEmpty:"não está vazio",columnMenuLabel:"Menu",columnMenuShowColumns:"Exibir colunas",columnMenuFilter:"Filtrar",columnMenuHideColumn:"Ocultar",columnMenuUnsort:"Desfazer ordenação",columnMenuSortAsc:"Ordenar do menor para o maior",columnMenuSortDesc:"Ordenar do maior para o menor",columnHeaderFiltersTooltipActive:e=>`${e} ${1!==e?"filtros":"filtro"} ${1!==e?"ativos":"ativo"}`,columnHeaderFiltersLabel:"Exibir Filtros",columnHeaderSortIconLabel:"Ordenar",footerRowSelected:e=>1!==e?e.toLocaleString()+" linhas selecionadas":e.toLocaleString()+" linha selecionada",footerTotalRows:"Total de linhas:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} de ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Seleção",booleanCellTrueLabel:"sim",booleanCellFalseLabel:"não"},$.ptBR),nc={noRowsLabel:"Нет строк",errorOverlayDefaultLabel:"Обнаружена ошибка.",toolbarDensity:"Высота строки",toolbarDensityLabel:"Высота строки",toolbarDensityCompact:"Компактная",toolbarDensityStandard:"Стандартная",toolbarDensityComfortable:"Комфортная",toolbarColumns:"Столбцы",toolbarColumnsLabel:"Выделите столбцы",toolbarFilters:"Фильтры",toolbarFiltersLabel:"Показать фильтры",toolbarFiltersTooltipHide:"Скрыть фильтры",toolbarFiltersTooltipShow:"Показать фильтры",toolbarFiltersTooltipActive:e=>{let t="активных фильтров";const n=e%10;return n>1&&n<5?t="активных фильтра":1===n&&(t="активный фильтр"),`${e} ${t}`},toolbarExport:"Экспорт",toolbarExportLabel:"Экспорт",toolbarExportCSV:"Скачать в формате CSV",columnsPanelTextFieldLabel:"Найти столбец",columnsPanelTextFieldPlaceholder:"Заголовок столбца",columnsPanelDragIconLabel:"Изменить порядок столбца",columnsPanelShowAllButton:"Показать все",columnsPanelHideAllButton:"Скрыть все",filterPanelAddFilter:"Добавить фильтр",filterPanelDeleteIconLabel:"Удалить",filterPanelOperators:"Операторы",filterPanelOperatorAnd:"И",filterPanelOperatorOr:"Или",filterPanelColumns:"Столбцы",filterPanelInputLabel:"Значение",filterPanelInputPlaceholder:"Значение фильтра",filterOperatorContains:"содержит",filterOperatorEquals:"равен",filterOperatorStartsWith:"начинается с",filterOperatorEndsWith:"заканчивается на",filterOperatorIs:"равен",filterOperatorNot:"не равен",filterOperatorAfter:"больше чем",filterOperatorOnOrAfter:"больше или равно",filterOperatorBefore:"меньше чем",filterOperatorOnOrBefore:"меньше или равно",filterValueAny:"любой",filterValueTrue:"истина",filterValueFalse:"ложь",columnMenuLabel:"Меню",columnMenuShowColumns:"Показать столбцы",columnMenuFilter:"Фильтр",columnMenuHideColumn:"Скрыть",columnMenuUnsort:"Отменить сортировку",columnMenuSortAsc:"Сортировать по возрастанию",columnMenuSortDesc:"Сортировать по убыванию",columnHeaderFiltersTooltipActive:e=>{let t="активных фильтров";const n=e%10;return n>1&&n<5?t="активных фильтра":1===n&&(t="активный фильтр"),`${e} ${t}`},columnHeaderFiltersLabel:"Показать фильтры",columnHeaderSortIconLabel:"Сортировать",footerRowSelected:e=>{let t="строк выбрано";const n=e%10;return n>1&&n<5?t="строки выбраны":1===n&&(t="строка выбрана"),`${e} ${t}`},footerTotalRows:"Всего строк:",checkboxSelectionHeaderName:"Выбор флажка",booleanCellTrueLabel:"истина",booleanCellFalseLabel:"ложь"},rc=Hl(nc,$.ruRU),ac={noRowsLabel:"Žiadne záznamy",noResultsOverlayLabel:"Nenašli sa žadne výsledky.",errorOverlayDefaultLabel:"Stala sa nepredvídaná chyba.",toolbarDensity:"Hustota",toolbarDensityLabel:"Hustota",toolbarDensityCompact:"Kompaktná",toolbarDensityStandard:"Štandartná",toolbarDensityComfortable:"Komfortná",toolbarColumns:"Stĺpce",toolbarColumnsLabel:"Vybrať stĺpce",toolbarFilters:"Filtre",toolbarFiltersLabel:"Zobraziť filtre",toolbarFiltersTooltipHide:"Skryť filtre ",toolbarFiltersTooltipShow:"Zobraziť filtre",toolbarFiltersTooltipActive:e=>{let t="aktívnych filtrov";return e>1&&e<5?t="aktívne filtre":1===e&&(t="aktívny filter"),`${e} ${t}`},toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Stiahnuť ako CSV",columnsPanelTextFieldLabel:"Nájsť stĺpec",columnsPanelTextFieldPlaceholder:"Názov stĺpca",columnsPanelDragIconLabel:"Usporiadť stĺpce",columnsPanelShowAllButton:"Zobraziť všetko",columnsPanelHideAllButton:"Skryť všetko",filterPanelAddFilter:"Pridať filter",filterPanelDeleteIconLabel:"Odstrániť",filterPanelOperators:"Operátory",filterPanelOperatorAnd:"A",filterPanelOperatorOr:"Alebo",filterPanelColumns:"Stĺpce",filterPanelInputLabel:"Hodnota",filterPanelInputPlaceholder:"Hodnota filtra",filterOperatorContains:"obsahuje",filterOperatorEquals:"rovná sa",filterOperatorStartsWith:"začína s",filterOperatorEndsWith:"končí na",filterOperatorIs:"je",filterOperatorNot:"nie je",filterOperatorAfter:"je po",filterOperatorOnOrAfter:"je na alebo po",filterOperatorBefore:"je pred",filterOperatorOnOrBefore:"je na alebo skôr",filterValueAny:"akýkoľvek",filterValueTrue:"áno",filterValueFalse:"nie",columnMenuLabel:"Menu",columnMenuShowColumns:"Zobraziť stĺpce",columnMenuFilter:"Filter",columnMenuHideColumn:"Skryť",columnMenuUnsort:"Zrušiť filtre",columnMenuSortAsc:"Zoradiť vzostupne",columnMenuSortDesc:"Zoradiť zostupne",columnHeaderFiltersTooltipActive:e=>{let t="aktívnych filtrov";return e>1&&e<5?t="aktívne filtre":1===e&&(t="aktívny filter"),`${e} ${t}`},columnHeaderFiltersLabel:"Zobraziť filtre",columnHeaderSortIconLabel:"Filtrovať",footerRowSelected:e=>{let t="vybraných záznamov";return e>1&&e<5?t="vybrané záznamy":1===e&&(t="vybraný záznam"),`${e} ${t}`},footerTotalRows:"Riadkov spolu:",checkboxSelectionHeaderName:"Výber riadku",booleanCellTrueLabel:"áno",booleanCellFalseLabel:"nie"},oc=Hl(ac,$.skSK),ic=Hl({noRowsLabel:"Satır yok",errorOverlayDefaultLabel:"Bir hata oluştu.",toolbarDensity:"Yoğunluk",toolbarDensityLabel:"Yoğunluk",toolbarDensityCompact:"Sıkı",toolbarDensityStandard:"Standart",toolbarDensityComfortable:"Rahat",toolbarColumns:"Sütunlar",toolbarColumnsLabel:"Sütun seç",toolbarFilters:"Filtreler",toolbarFiltersLabel:"Filtreleri göster",toolbarFiltersTooltipHide:"Filtreleri gizle",toolbarFiltersTooltipShow:"Filtreleri göster",toolbarFiltersTooltipActive:e=>e+" aktif filtre",toolbarExport:"Dışa aktar",toolbarExportLabel:"Dışa aktar",toolbarExportCSV:"CSV olarak aktar",columnsPanelTextFieldLabel:"Sütun ara",columnsPanelTextFieldPlaceholder:"Sütun adı",columnsPanelDragIconLabel:"Sütunları yeniden sırala",columnsPanelShowAllButton:"Hepsini göster",columnsPanelHideAllButton:"Hepsini gizle",filterPanelAddFilter:"Filtre Ekle",filterPanelDeleteIconLabel:"Kaldır",filterPanelOperators:"Operatör",filterPanelOperatorAnd:"Ve",filterPanelOperatorOr:"Veya",filterPanelColumns:"Sütunlar",filterPanelInputLabel:"Değer",filterPanelInputPlaceholder:"Filtre değeri",filterOperatorContains:"içerir",filterOperatorEquals:"eşittir",filterOperatorStartsWith:"ile başlar",filterOperatorEndsWith:"ile biter",filterOperatorIs:"eşittir",filterOperatorNot:"eşit değildir",filterOperatorAfter:"büyük",filterOperatorOnOrAfter:"büyük eşit",filterOperatorBefore:"küçük",filterOperatorOnOrBefore:"küçük eşit",filterOperatorIsEmpty:"boş",filterOperatorIsNotEmpty:"dolu",columnMenuLabel:"Menü",columnMenuShowColumns:"Sütunları göster",columnMenuFilter:"Filtre uygula",columnMenuHideColumn:"Gizle",columnMenuUnsort:"Sıralama",columnMenuSortAsc:"Sırala - Artan",columnMenuSortDesc:"Sırala - Azalan",columnHeaderFiltersTooltipActive:e=>e+" filtre aktif",columnHeaderFiltersLabel:"Filtreleri göster",columnHeaderSortIconLabel:"Sırala",footerRowSelected:e=>e.toLocaleString()+" satır seçildi",footerTotalRows:"Toplam Satır:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} / ${t.toLocaleString()}`},$.trTR),lc={noRowsLabel:"Немає рядків",errorOverlayDefaultLabel:"Виявлено помилку.",toolbarDensity:"Висота рядка",toolbarDensityLabel:"Висота рядка",toolbarDensityCompact:"Компактний",toolbarDensityStandard:"Стандартний",toolbarDensityComfortable:"Комфортний",toolbarColumns:"Стовпці",toolbarColumnsLabel:"Виділіть стовпці",toolbarFilters:"Фільтри",toolbarFiltersLabel:"Показати фільтри",toolbarFiltersTooltipHide:"Сховати фільтри",toolbarFiltersTooltipShow:"Показати фільтри",toolbarFiltersTooltipActive:e=>1!==e?e+" активні фільтри":e+" активний фільтр",toolbarExport:"Експорт",toolbarExportLabel:"Експорт",toolbarExportCSV:"Завантажити у форматі CSV",columnsPanelTextFieldLabel:"Знайти стовпець",columnsPanelTextFieldPlaceholder:"Заголовок стовпця",columnsPanelDragIconLabel:"Змінити порядок стовпця",columnsPanelShowAllButton:"Показати усі",columnsPanelHideAllButton:"Сховати усі",filterPanelAddFilter:"Додати фільтр",filterPanelDeleteIconLabel:"Видалити",filterPanelOperators:"Оператори",filterPanelOperatorAnd:"І",filterPanelOperatorOr:"Або",filterPanelColumns:"Стовпці",filterPanelInputLabel:"Значення",filterPanelInputPlaceholder:"Значення фільтра",filterOperatorContains:"містить",filterOperatorEquals:"дорівнює",filterOperatorStartsWith:"починається з",filterOperatorEndsWith:"закінчується на",filterOperatorIs:"дорівнює",filterOperatorNot:"не",filterOperatorAfter:"більше ніж",filterOperatorOnOrAfter:"більше або дорівнює",filterOperatorBefore:"менше ніж",filterOperatorOnOrBefore:"менше або дорівнює",filterValueAny:"будь-який",filterValueTrue:"правда",filterValueFalse:"помилковий",columnMenuLabel:"Меню",columnMenuShowColumns:"Показати стовпці",columnMenuFilter:"Фільтр",columnMenuHideColumn:"Сховати",columnMenuUnsort:"Скасувати сортування",columnMenuSortAsc:"Сортувати за зростанням",columnMenuSortDesc:"Сортувати за спаданням",columnHeaderFiltersTooltipActive:e=>1!==e?e+" активні фільтри":e+" активний фільтр",columnHeaderFiltersLabel:"Показати фільтри",columnHeaderSortIconLabel:"Сортувати",footerRowSelected:e=>1!==e?e.toLocaleString()+" вибрані рядки":e.toLocaleString()+" вибраний рядок",footerTotalRows:"Всього рядків:",checkboxSelectionHeaderName:"Вибір прапорця",booleanCellTrueLabel:"правда",booleanCellFalseLabel:"помилковий"},cc=Hl(lc,$.ukUA),uc=({apiRef:e,props:t,children:n})=>l.createElement(Br.Provider,{value:t},l.createElement(X.Provider,{value:e},n)),sc=(e,t)=>{if("string"==typeof e){const n=e.replace(/"/g,'""');return n.includes(t)?`"${n}"`:n}return e};function dc(e){const{columns:t,rows:n,selectedRowIds:r,getCellParams:a,delimiterCharacter:o,includeHeaders:i=!0}=e;let l=[...n.keys()];r.length&&(l=l.filter(e=>r.includes(e)));const c=l.reduce((e,n)=>`${e}${function(e,t,n,r){const a=[];return t.forEach(t=>t.field!==Ia.field&&a.push(sc(n(e,t.field).formattedValue,r))),a}(n,t,a,o).join(o)}\r\n`,"").trim();return i?`${t.filter(e=>e.field!==Ia.field).map(e=>sc(e.headerName||e.field,o)).join(o)+"\r\n"}${c}`.trim():c}function fc(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const r=window.getSelection();r.removeAllRanges(),r.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function pc(e,t){switch(t.type){case"options::UPDATE":return function(e,t){return t=function(e){const t=Object.assign({},e);return Object.keys(e).forEach(n=>{e.hasOwnProperty(n)&&void 0===e[n]&&delete t[n]}),t}(t),Object.assign(Object.assign({},e),t)}(e,t.payload);default:throw new Error(`Material-UI: Action ${t.type} not found.`)}}const mc=(e,t)=>{pn(e,t),gl(e,t),function(e,t){const[,n]=In(e),r=l.useCallback(e=>{n(t=>Object.assign(Object.assign({},t),{error:e}))},[n]);l.useEffect(()=>{r(t.error)},[r,t.error]),zn(e,o.componentError,r)}(e,t),il(e,t),function(e,t){const n=mn(e,"useOptionsProp"),r=l.useMemo(()=>Object.assign(Object.assign({},t),{classes:Jt({root:["root"],columnHeader:["columnHeader"],row:["row"],cell:["cell"]},on,t.classes),localeText:Object.assign(Object.assign({},bn),t.localeText)}),[t]),{gridState:a,dispatch:o}=ll(e,"options",pc,Object.assign({},On)),i=l.useCallback(e=>{n.debug("updating options state."),o({type:"options::UPDATE",payload:e})},[o,n]);l.useEffect(()=>{i(r)},[r,i]),a.options}(e,t),function(e,t){Hn(e,o.columnHeaderClick,t.onColumnHeaderClick),Hn(e,o.columnHeaderDoubleClick,t.onColumnHeaderDoubleClick),Hn(e,o.columnHeaderOver,t.onColumnHeaderOver),Hn(e,o.columnHeaderOut,t.onColumnHeaderOut),Hn(e,o.columnHeaderEnter,t.onColumnHeaderEnter),Hn(e,o.columnHeaderLeave,t.onColumnHeaderLeave),Hn(e,o.columnOrderChange,t.onColumnOrderChange),Hn(e,o.cellClick,t.onCellClick),Hn(e,o.cellDoubleClick,t.onCellDoubleClick),Hn(e,o.cellOver,t.onCellOver),Hn(e,o.cellOut,t.onCellOut),Hn(e,o.cellEnter,t.onCellEnter),Hn(e,o.cellLeave,t.onCellLeave),Hn(e,o.cellKeyDown,t.onCellKeyDown),Hn(e,o.cellBlur,t.onCellBlur),Hn(e,o.cellFocusOut,t.onCellFocusOut),Hn(e,o.rowDoubleClick,t.onRowDoubleClick),Hn(e,o.rowClick,t.onRowClick),Hn(e,o.rowOver,t.onRowOver),Hn(e,o.rowOut,t.onRowOut),Hn(e,o.rowEnter,t.onRowEnter),Hn(e,o.rowLeave,t.onRowLeave),Hn(e,o.componentError,t.onError),Hn(e,o.stateChange,t.onStateChange)}(e,t),(e=>{const{localeText:t}=An(e,Er);hn(e,{getLocaleText:l.useCallback(e=>{if(null==t[e])throw new Error(`Missing translation for key ${e}.`);return t[e]},[t])},"LocaleTextApi")})(e),function(e,t){const n=mn(e,"useResizeContainer"),r=l.useRef(!1),a=l.useCallback(()=>{var t;n.debug("resizing..."),e.current.publishEvent(o.debouncedResize,null===(t=e.current.state.containerSizes)||void 0===t?void 0:t.windowSizes)},[e,n]);hn(e,{resize:a},"GridEventsApi");const i=l.useMemo(()=>Object(O.a)(a,60),[a]),c=l.useCallback(e=>{const a=/jsdom/.test(window.navigator.userAgent);0!==e.height||r.current||t.autoHeight||a||(n.warn(["The parent of the grid has an empty height.","You need to make sure the container has an intrinsic height.","The grid displays with a height of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),r.current=!0),0!==e.width||r.current||a||(n.warn(["The parent of the grid has an empty width.","You need to make sure the container has an intrinsic width.","The grid displays with a width of 0px.","","You can find a solution in the docs:","https://material-ui.com/components/data-grid/layout/"].join("\n")),r.current=!0),i()},[t.autoHeight,i,n,a]);l.useEffect(()=>()=>{n.info("canceling resize..."),i.clear()},[n,i]),l.useEffect(()=>{n.info("canceling resize..."),i.clear()},[t.rows,i,n]),zn(e,o.resize,c),Hn(e,o.debouncedResize,t.onResize)}(e,t),ol(e,t),Ol(e),kl(e,t),xl(e,t),ul(e,t),sl(e),dl(e,t),Sl(e,t),jl(e,t),nl(e),wl(e),cl(e,t),bl(e,t),((e,t)=>{const n=mn(e,"useDensity"),[,r,a]=In(e),o=l.useCallback((e,t,n)=>{switch(e){case vn.Compact:return{value:e,headerHeight:Math.floor(.7*t),rowHeight:Math.floor(.7*n)};case vn.Comfortable:return{value:e,headerHeight:Math.floor(1.3*t),rowHeight:Math.floor(1.3*n)};default:return{value:e,headerHeight:t,rowHeight:n}}},[]),i=l.useCallback((e,i=t.headerHeight,l=t.rowHeight)=>{n.debug("Set grid density to "+e),r(t=>Object.assign(Object.assign({},t),{density:Object.assign(Object.assign({},t.density),o(e,i,l))})),a()},[n,r,a,o,t.headerHeight,t.rowHeight]);l.useEffect(()=>{i(t.density,t.headerHeight,t.rowHeight)},[i,t.density,t.rowHeight,t.headerHeight]),hn(e,{setDensity:i},"GridDensityApi")})(e,t),Rl(e,t),((e,t)=>{const n=e.current.windowRef,r=e.current.columnHeadersElementRef,a=e.current.renderingZoneRef,[o,i,c]=In(e),[u]=fl(e,a,r),s=An(e,Gr),d=An(e,re),f=l.useCallback(()=>{if(!o.containerSizes||!(null==n?void 0:n.current))return;let e=0;const{page:r,pageSize:a}=s;t.pagination&&"client"===t.paginationMode&&(e=a*r);const l={firstRowIdx:e,lastRowIdx:e+o.containerSizes.virtualRowsCount,firstColIdx:0,lastColIdx:d.length>0?d.length-1:0},u={top:n.current.scrollTop,left:n.current.scrollLeft};i(e=>Object.assign(Object.assign({},e),{rendering:Object.assign(Object.assign({},e.rendering),{virtualPage:0,renderContext:l,realScroll:u,renderingZoneScroll:u})})),c()},[o.containerSizes,s,t.pagination,t.paginationMode,i,c,d.length,n]);l.useEffect(()=>{t.disableVirtualization&&f()},[t.disableVirtualization,f]);const p=l.useCallback(()=>{if(!t.disableVirtualization||!(null==n?void 0:n.current))return;const{scrollLeft:e,scrollTop:r}=n.current;u({top:r,left:e}),f()},[t.disableVirtualization,u,n,f]);vl(e,n,"scroll",p,{passive:!0})})(e,t),Pl(e,t),Ll(e,t),yl(e,t),hl(e,t),(e=>{const t=mn(e,"useGridCsvExport"),n=An(e,re),r=An(e,ne),a=An(e,ar),o=An(e,qr),i=l.useCallback(i=>{let l;return t.debug("Get data as CSV"),l=(null==i?void 0:i.fields)?i.fields.map(e=>r.find(t=>t.field===e)).filter(e=>!!e):((null==i?void 0:i.allColumns)?r:n).filter(e=>!e.disableExport),dc({columns:l,rows:a,selectedRowIds:o,getCellParams:e.current.getCellParams,delimiterCharacter:(null==i?void 0:i.delimiter)||","})},[t,n,r,a,o,e]),c=l.useCallback(e=>{t.debug("Export data as CSV");const n=i(e);!function(e,t="csv",n=document.title){const r=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const t=URL.createObjectURL(e),n=document.createElement("a");return n.href=t,n.download=r,n.click(),void setTimeout(()=>{URL.revokeObjectURL(t)})}throw new Error("exportAs not supported")}(new Blob([(null==e?void 0:e.utf8WithBom)?new Uint8Array([239,187,191]):"",n],{type:"text/csv"}),"csv",null==e?void 0:e.fileName)},[t,i]);hn(e,{getDataAsCsv:i,exportDataAsCsv:c},"GridCsvExportApi")})(e),((e,t)=>{const n=An(e,jo),r=An(e,re),a=l.useRef(!1),i=An(e,Ln),c=l.useRef(null),u=l.useCallback(i=>{if(!n)return;const l=i.top+n.windowSizes.height+t.scrollEndThreshold;if(l<n.dataContainerSizes.height&&(a.current=!1),l>=n.dataContainerSizes.height&&!a.current){const t={visibleColumns:r,viewportPageSize:n.viewportPageSize,virtualRowsCount:n.virtualRowsCount};e.current.publishEvent(o.rowsScrollEnd,t),a.current=!0}},[e,t.scrollEndThreshold,r,n]),s=l.useCallback(()=>{const t=e.current.getScrollPosition();u(t)},[e,u]);l.useEffect(()=>{const t=i.renderContext;if(t){if(!c.current||t.firstRowIdx!==c.current.firstRowIndex||t.lastRowIdx!==c.current.lastRowIndex){const n={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx};e.current.publishEvent(o.viewportRowsChange,n)}c.current={firstRowIndex:t.firstRowIdx,lastRowIndex:t.lastRowIdx}}},[e,t.onViewportRowsChange,i]),zn(e,o.rowsScroll,s),Hn(e,o.rowsScrollEnd,t.onRowsScrollEnd),Hn(e,o.viewportRowsChange,t.onViewportRowsChange)})(e,t),(e=>{const t=An(e,re),n=l.useCallback((n=!1)=>{const r=e.current.getSelectedRows(),a=t.filter(e=>e.field!==Ia.field);if(0===r.size||0===a.length)return;const o=dc({columns:t,rows:r,selectedRowIds:[],includeHeaders:n,getCellParams:e.current.getCellParams,delimiterCharacter:"\t"});navigator.clipboard?navigator.clipboard.writeText(o).catch(()=>{fc(o)}):fc(o)},[e,t]),r=l.useCallback(t=>{var n;const r=t.ctrlKey||t.metaKey||t.altKey;"c"===t.key.toLowerCase()&&r&&""===(null===(n=window.getSelection())||void 0===n?void 0:n.toString())&&e.current.copySelectedRowsToClipboard(t.altKey)},[e]);vl(e,e.current.rootElementRef,"keydown",r),hn(e,{copySelectedRowsToClipboard:n},"GridClipboardApi")})(e),zl(e,t),function(e,{state:t}){const[,n,r]=In(e),a=mn(e,"useStateProp");l.useEffect(()=>{null!=t&&e.current.state!==t&&(a.debug("Overriding state with props.state"),n(e=>Object.assign(Object.assign({},e),t)),r())},[e,r,a,t,n])}(e,t),function(e){const[t]=In(e),n=mn(e,"useRenderInfoLog");if(null!=t.rendering.renderContext){const{page:e,firstColIdx:r,lastColIdx:a,firstRowIdx:o,lastRowIdx:i}=t.rendering.renderContext;n.info(`Rendering, page: ${e}, col: ${r}-${a}, row: ${o}-${i}`)}}(e)},hc=100,gc=l.forwardRef((function(e,t){const n=(e=>{if(e.pageSize>100)throw new Error("'props.pageSize' cannot exceed 100 in DataGrid.");const t=function({props:e,name:t}){const n=Object(p.a)();return l.useMemo(()=>{const r=Object.assign({},e),a=Object(E.a)({theme:n,name:t,props:r}),o=a.theme||n,i="rtl"===o.direction;return Object.assign({theme:o,isRtl:i},a)},[e,t,n])}({props:e,name:"MuiDataGrid"});return l.useMemo(()=>Object.assign(Object.assign({},t),{apiRef:void 0,disableColumnResize:!0,disableColumnReorder:!0,disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,disableMultipleSelection:!0,pagination:!0,onRowsScrollEnd:void 0,onViewportRowsChange:void 0,checkboxSelectionVisibleOnly:!1,signature:"DataGrid"}),[t])})(e),r=Il();return mc(r,n),l.createElement(uc,{apiRef:r,props:n},l.createElement(fi,{ref:t},l.createElement(ci,null,l.createElement(si,null),l.createElement(ii,null),l.createElement(ui,null))))}));gc.defaultProps=wn;const bc=l.memo(gc);bc.propTypes={apiRef:Object(Y.a)(J.a.any,e=>null!=e.apiRef?new Error(["Material-UI: `apiRef` is not a valid prop.","GridApiRef is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),checkboxSelectionVisibleOnly:Object(Y.a)(J.a.bool,e=>e.checkboxSelectionVisibleOnly?new Error(["Material-UI: `<DataGrid checkboxSelectionVisibleOnly={true} />` is not a valid prop.","Selecting all columns only on the current page is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),columns:Object(Y.a)(J.a.array.isRequired,e=>e.columns&&e.columns.some(e=>e.resizable)?new Error(["Material-UI: `column.resizable = true` is not a valid prop.","Column resizing is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableColumnReorder:Object(Y.a)(J.a.bool,e=>!1===e.disableColumnReorder?new Error(["Material-UI: `<DataGrid disableColumnReorder={false} />` is not a valid prop.","Column reordering is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableColumnResize:Object(Y.a)(J.a.bool,e=>!1===e.disableColumnResize?new Error(["Material-UI: `<DataGrid disableColumnResize={false} />` is not a valid prop.","Column resizing is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleColumnsFiltering:Object(Y.a)(J.a.bool,e=>!1===e.disableMultipleColumnsFiltering?new Error(["Material-UI: `<DataGrid disableMultipleColumnsFiltering={false} />` is not a valid prop.","Only single column sorting is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleColumnsSorting:Object(Y.a)(J.a.bool,e=>!1===e.disableMultipleColumnsSorting?new Error(["Material-UI: `<DataGrid disableMultipleColumnsSorting={false} />` is not a valid prop.","Only single column sorting is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),disableMultipleSelection:Object(Y.a)(J.a.bool,e=>!1===e.disableMultipleSelection?new Error(["Material-UI: `<DataGrid disableMultipleSelection={false} />` is not a valid prop.","Only single column selection is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),filterModel:Object(Y.a)(J.a.any,e=>null!=e.filterModel&&e.filterModel.items.length>1?new Error(["Material-UI: `<DataGrid filterModel={model} />` is not a valid prop. `model.items` has more than 1 item.","Only single filter is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),onRowsScrollEnd:Object(Y.a)(J.a.any,e=>null!=e.onRowsScrollEnd?new Error(["Material-UI: `onRowsScrollEnd` is not a valid prop.","onRowsScrollEnd is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),onViewportRowsChange:Object(Y.a)(J.a.any,e=>null!=e.onViewportRowsChange?new Error(["Material-UI: `onViewportRowsChange` is not a valid prop.","onViewportRowsChange is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),pageSize:Object(Y.a)(J.a.number,e=>e.pageSize&&e.pageSize>100?new Error([`Material-UI: \`<DataGrid pageSize={${e.pageSize}} />\` is not a valid prop.`,"Only page size below 100 is available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),pagination:e=>!1===e.pagination?new Error(["Material-UI: `<DataGrid pagination={false} />` is not a valid prop.","Infinite scrolling is not available in the MIT version.","","You need to upgrade to the DataGridPro component to disable the pagination."].join("\n")):null,rows:J.a.array.isRequired,scrollEndThreshold:Object(Y.a)(J.a.number,e=>e.scrollEndThreshold?new Error([`Material-UI: \`<DataGrid scrollEndThreshold={${e.scrollEndThreshold}} />\` is not a valid prop.`,"scrollEndThreshold is not available in the MIT version.","","You need to upgrade to the DataGridPro component to unlock this feature."].join("\n")):null),selectionModel:Object(Y.a)(J.a.oneOfType([J.a.number,J.a.string,J.a.array]),e=>!e.checkboxSelection&&Array.isArray(e.selectionModel)&&e.selectionModel.length>1?new Error([`Material-UI: \`<DataGrid selectionModel={${JSON.stringify(e.selectionModel)}} />\` is not a valid prop.`,"selectionModel can only be of 1 item in DataGrid.","","You need to upgrade to the DataGridPro component to unlock multiple selection."].join("\n")):null)}}.call(this,n(45),n(228)(e),n(64))},467:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.InterRegionPaddingBlock=t.ElidedBlock=t.ContentBlock=t.BlockSet=t.BaseBlock=void 0;var a=r(n(35)),o=r(n(27)),i=r(n(28)),l=r(n(26)),c=r(n(13)),u=r(n(15)),s=r(n(16));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,l.default)(e);if(t){var a=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,i.default)(this,n)}}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,c.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];(0,u.default)(this,e),this.blocks=t}return(0,s.default)(e,[{key:"push",value:function(e){if(e instanceof b&&this.blocks.length){var t=this.blocks[this.blocks.length-1];if(t instanceof b)return void t.push(e)}this.blocks.push(e)}},{key:"getBlocks",value:function(){return this.blocks}},{key:"getRegions",value:function(){return this.blocks.map((function(e){return e.toRegion()}))}},{key:"map",value:function(e,t){return this.blocks.map(e,t)}},{key:"forEach",value:function(e,t){return this.blocks.forEach(e,t)}},{key:"length",get:function(){return this.blocks.length}},{key:"totalWidthPx",get:function(){return this.blocks.length?this.blocks.map((function(e){return e.widthPx})).reduce((function(e,t){return e+t})):0}},{key:"totalWidthPxWithoutBorders",get:function(){return this.blocks.length?this.blocks.filter((function(e){return"boundary"!==e.variant})).map((function(e){return e.widthPx})).reduce((function(e,t){return e+t})):0}},{key:"offsetPx",get:function(){return this.blocks.length?this.blocks[0].offsetPx:0}},{key:"contentBlocks",get:function(){return this.blocks.filter((function(e){return e instanceof g}))}},{key:"totalBp",get:function(){return this.contentBlocks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)}}]),e}();t.BlockSet=m;var h=function(){function e(t){(0,u.default)(this,e),(0,c.default)(this,"regionNumber",void 0),(0,c.default)(this,"reversed",void 0),(0,c.default)(this,"refName",void 0),(0,c.default)(this,"start",void 0),(0,c.default)(this,"end",void 0),(0,c.default)(this,"assemblyName",void 0),(0,c.default)(this,"key",void 0),(0,c.default)(this,"offsetPx",void 0),(0,c.default)(this,"widthPx",0),(0,c.default)(this,"variant",void 0),(0,c.default)(this,"isLeftEndOfDisplayedRegion",void 0),Object.assign(this,t),this.assemblyName=t.assemblyName,this.refName=t.refName,this.start=t.start,this.end=t.end,this.key=t.key,this.offsetPx=t.offsetPx}return(0,s.default)(e,[{key:"renameReference",value:function(e){return this.refName&&e!==this.refName?new this.constructor(p(p({},this),{},{refName:e})):this}},{key:"toRegion",value:function(){return{refName:this.refName,start:this.start,end:this.end,assemblyName:this.assemblyName,reversed:this.reversed}}}]),e}();t.BaseBlock=h;var g=function(e){(0,o.default)(n,e);var t=d(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n)}(h);t.ContentBlock=g;var b=function(e){(0,o.default)(n,e);var t=d(n);function n(e){var r;return(0,u.default)(this,n),r=t.call(this,e),(0,c.default)((0,a.default)(r),"widthPx",void 0),(0,c.default)((0,a.default)(r),"elidedBlockCount",0),r.widthPx=e.widthPx,r}return(0,s.default)(n,[{key:"push",value:function(e){this.elidedBlockCount+=1,e&&(this.refName="",this.start=0,this.end=0,this.widthPx+=e.widthPx)}}]),n}(h);t.ElidedBlock=b;var v=function(e){(0,o.default)(n,e);var t=d(n);function n(){return(0,u.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n)}(h);t.InterRegionPaddingBlock=v},468:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(23)),o=r(n(15)),i=r(n(16)),l=r(n(13));function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.default)(this,e),this.SubLayoutClass=t,(0,l.default)(this,"subLayouts",new Map),(0,l.default)(this,"subLayoutConstructorArgs",{}),this.subLayouts=new Map,this.subLayoutConstructorArgs=n}return(0,i.default)(e,[{key:"getSublayout",value:function(e){var t=this.subLayouts.get(e);return void 0===t?(t=new this.SubLayoutClass(this.subLayoutConstructorArgs),this.subLayouts.set(e,t),t):t}},{key:"addRect",value:function(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return this.getSublayout(e).addRect(t,n,r,a,o)}},{key:"discardRange",value:function(e,t,n){var r=this.subLayouts.get(e);return r&&r.discardRange(t,n)}},{key:"toJSON",value:function(){var e,t={},n=c(this.subLayouts.entries());try{for(n.s();!(e=n.n()).done;){var r=(0,a.default)(e.value,2),o=r[0],i=r[1];t[o]=i.toJSON()}}catch(e){n.e(e)}finally{n.f()}return t}}]),e}();t.default=s},469:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(23)),o=r(n(15)),i=r(n(16)),l=r(n(13)),c=n(42),u=r(n(684)),s=function(){function e(t){var n=t.rectangles,r=t.totalHeight,i=t.maxHeightReached;(0,o.default)(this,e),(0,l.default)(this,"rectangles",void 0),(0,l.default)(this,"totalHeight",void 0),(0,l.default)(this,"maxHeightReached",void 0),(0,l.default)(this,"rbush",void 0),this.rectangles=new Map(Object.entries(n)),this.totalHeight=r,this.maxHeightReached=i,this.rbush=new u.default;for(var c=0,s=Object.entries(n);c<s.length;c++){var d=(0,a.default)(s[c],2),f=d[0],p=d[1];this.rbush.insert({minX:p[0],minY:p[1],maxX:p[2],maxY:p[3],name:f})}}return(0,i.default)(e,[{key:"addRect",value:function(e){var t=this.rectangles.get(e);if(!t)throw new Error("id ".concat(e," not found in precomputed feature layout"));return t[1]}},{key:"getRectangles",value:function(){return this.rectangles}},{key:"getTotalHeight",value:function(){return this.totalHeight}},{key:"collides",value:function(e,t){throw new Error("Method not implemented.")}},{key:"getByCoord",value:function(e,t){var n={minX:e,minY:t,maxX:e+1,maxY:t+1};return this.rbush.collides(n)?this.rbush.search(n)[0].name:void 0}},{key:"getByID",value:function(e){return this.rectangles.get(e)}},{key:"addRectToBitmap",value:function(e,t){throw new Error("Method not implemented.")}},{key:"discardRange",value:function(e,t){throw new Error("Method not implemented.")}},{key:"serializeRegion",value:function(e){throw new Error("Method not implemented.")}},{key:"toJSON",value:function(){return{rectangles:(0,c.objectFromEntries)(this.rectangles),totalHeight:this.totalHeight,maxHeightReached:!1}}}]),e}();t.default=s},470:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contrastingTextColor=function(e){return o(e)>.5?"black":"white"},t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15,n=(0,a.namedColorToHex)(e);return(0,r.emphasize)(n||e,t)},Object.defineProperty(t,"isNamedColor",{enumerable:!0,get:function(){return a.isNamedColor}}),t.makeContrasting=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"white",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=(0,a.namedColorToHex)(e)||e,l=(0,a.namedColorToHex)(t)||t,c=o(l),u=(0,r.getContrastRatio)(i,l),s=i,d=.05;for(;u<n;)i=c>.5?(0,r.darken)(s,d):(0,r.lighten)(s,d),d+=.05,u=(0,r.getContrastRatio)(i,l);return i},Object.defineProperty(t,"namedColorToHex",{enumerable:!0,get:function(){return a.namedColorToHex}});var r=n(203),a=n(1305);function o(e){var t=(0,a.namedColorToHex)(e);return(0,r.getLuminance)(t||e)}},471:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.Cable=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M20 5V4c0-.55-.45-1-1-1h-2c-.55 0-1 .45-1 1v1h-1v4c0 .55.45 1 1 1h1v7c0 1.1-.9 2-2 2s-2-.9-2-2V7c0-2.21-1.79-4-4-4S5 4.79 5 7v7H4c-.55 0-1 .45-1 1v4h1v1c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-1h1v-4c0-.55-.45-1-1-1H7V7c0-1.1.9-2 2-2s2 .9 2 2v10c0 2.21 1.79 4 4 4s4-1.79 4-4v-7h1c.55 0 1-.45 1-1V5h-1z"}))},t.ContentCopy=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"}))},t.ContentCut=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,3L13,9L15,11L22,4V3M12,12.5A0.5,0.5 0 0,1 11.5,12A0.5,0.5 0 0,1 12,11.5A0.5,0.5 0 0,1 12.5,12A0.5,0.5 0 0,1 12,12.5M6,20A2,2 0 0,1 4,18C4,16.89 4.9,16 6,16A2,2 0 0,1 8,18C8,19.11 7.1,20 6,20M6,8A2,2 0 0,1 4,6C4,4.89 4.9,4 6,4A2,2 0 0,1 8,6C8,7.11 7.1,8 6,8M9.64,7.64C9.87,7.14 10,6.59 10,6A4,4 0 0,0 6,2A4,4 0 0,0 2,6A4,4 0 0,0 6,10C6.59,10 7.14,9.87 7.64,9.64L10,12L7.64,14.36C7.14,14.13 6.59,14 6,14A4,4 0 0,0 2,18A4,4 0 0,0 6,22A4,4 0 0,0 10,18C10,17.41 9.87,16.86 9.64,16.36L12,14L19,21H22V20L9.64,7.64Z"}))},t.ContentPaste=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M19,20H5V4H7V7H17V4H19M12,2A1,1 0 0,1 13,3A1,1 0 0,1 12,4A1,1 0 0,1 11,3A1,1 0 0,1 12,2M19,2H14.82C14.4,0.84 13.3,0 12,0C10.7,0 9.6,0.84 9.18,2H5A2,2 0 0,0 3,4V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V4A2,2 0 0,0 19,2Z"}))},t.DNA=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M4,2H6V4C6,5.44 6.68,6.61 7.88,7.78C8.74,8.61 9.89,9.41 11.09,10.2L9.26,11.39C8.27,10.72 7.31,10 6.5,9.21C5.07,7.82 4,6.1 4,4V2M18,2H20V4C20,6.1 18.93,7.82 17.5,9.21C16.09,10.59 14.29,11.73 12.54,12.84C10.79,13.96 9.09,15.05 7.88,16.22C6.68,17.39 6,18.56 6,20V22H4V20C4,17.9 5.07,16.18 6.5,14.79C7.91,13.41 9.71,12.27 11.46,11.16C13.21,10.04 14.91,8.95 16.12,7.78C17.32,6.61 18,5.44 18,4V2M14.74,12.61C15.73,13.28 16.69,14 17.5,14.79C18.93,16.18 20,17.9 20,20V22H18V20C18,18.56 17.32,17.39 16.12,16.22C15.26,15.39 14.11,14.59 12.91,13.8L14.74,12.61M7,3H17V4L16.94,4.5H7.06L7,4V3M7.68,6H16.32C16.08,6.34 15.8,6.69 15.42,7.06L14.91,7.5H9.07L8.58,7.06C8.2,6.69 7.92,6.34 7.68,6M9.09,16.5H14.93L15.42,16.94C15.8,17.31 16.08,17.66 16.32,18H7.68C7.92,17.66 8.2,17.31 8.58,16.94L9.09,16.5M7.06,19.5H16.94L17,20V21H7V20L7.06,19.5Z"}))},t.Save=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M15,9H5V5H15M12,19A3,3 0 0,1 9,16A3,3 0 0,1 12,13A3,3 0 0,1 15,16A3,3 0 0,1 12,19M17,3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V7L17,3Z"}))},t.SaveAs=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{fill:"currentColor",d:"M10,19L10.14,18.86C8.9,18.5 8,17.36 8,16A3,3 0 0,1 11,13C12.36,13 13.5,13.9 13.86,15.14L20,9V7L16,3H4C2.89,3 2,3.9 2,5V19A2,2 0 0,0 4,21H10V19M4,5H14V9H4V5M20.04,12.13C19.9,12.13 19.76,12.19 19.65,12.3L18.65,13.3L20.7,15.35L21.7,14.35C21.92,14.14 21.92,13.79 21.7,13.58L20.42,12.3C20.31,12.19 20.18,12.13 20.04,12.13M18.07,13.88L12,19.94V22H14.06L20.12,15.93L18.07,13.88Z"}))},t.TrackSelector=function(e){return o.default.createElement(a.default,e,o.default.createElement("path",{d:"M21 19v-2H8v2h13m0-6v-2H8v2h13M8 7h13V5H8v2M4 5v2h2V5H4M3 5a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V5m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2m1 6v2h2v-2H4m-1 0a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1v-2z"}))};var a=r(n(115)),o=r(n(1))},475:function(e,t,n){"use strict";n.r(t);var r=n(860),a=n(10),o=n(11),i=n(1),l=(n(0),n(14)),c=n(584),u=n(12),s=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.a)(e,["classes","className"]);return i.createElement(c.a,Object(a.a)({gutterBottom:!0,component:"div",ref:t,className:Object(u.default)(n.root,r)},l))})),d=Object(l.a)((function(e){return{root:{fontWeight:e.typography.fontWeightMedium,marginTop:-2}}}),{name:"MuiAlertTitle"})(s),f=n(869),p=n(334),m=(n(463),n(1415)),h={small:-16,medium:null},g=i.forwardRef((function(e,t){var n=e.children,r=e.classes,l=e.className,c=e.max,s=void 0===c?5:c,d=e.spacing,f=void 0===d?"medium":d,p=Object(o.a)(e,["children","classes","className","max","spacing"]),g=s<2?2:s,b=i.Children.toArray(n).filter((function(e){return i.isValidElement(e)})),v=b.length>g?b.length-g+1:0,y=f&&void 0!==h[f]?h[f]:-f;return i.createElement("div",Object(a.a)({className:Object(u.default)(r.root,l),ref:t},p),b.slice(0,b.length-v).map((function(e,t){return i.cloneElement(e,{className:Object(u.default)(e.props.className,r.avatar),style:Object(a.a)({zIndex:b.length-t,marginLeft:0===t?void 0:y},e.props.style)})})),v?i.createElement(m.a,{className:r.avatar,style:{zIndex:0,marginLeft:y}},"+",v):null)})),b=Object(l.a)((function(e){return{root:{display:"flex"},avatar:{border:"2px solid ".concat(e.palette.background.default),marginLeft:-8,"&:first-child":{marginLeft:0}}}}),{name:"MuiAvatarGroup"})(g),v=n(87),y=n(54),w=n(111);function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.boundaryCount,n=void 0===t?1:t,r=e.componentName,i=void 0===r?"usePagination":r,l=e.count,c=void 0===l?1:l,u=e.defaultPage,s=void 0===u?1:u,d=e.disabled,f=void 0!==d&&d,p=e.hideNextButton,m=void 0!==p&&p,h=e.hidePrevButton,g=void 0!==h&&h,b=e.onChange,O=e.page,C=e.showFirstButton,E=void 0!==C&&C,k=e.showLastButton,x=void 0!==k&&k,S=e.siblingCount,j=void 0===S?1:S,P=Object(o.a)(e,["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"]),T=Object(w.a)({controlled:O,default:s,name:i,state:"page"}),R=Object(y.a)(T,2),M=R[0],I=R[1],A=function(e,t){O||I(t),b&&b(e,t)},L=function(e,t){var n=t-e+1;return Array.from({length:n},(function(t,n){return e+n}))},F=L(1,Math.min(n,c)),N=L(Math.max(c-n+1,n+1),c),D=Math.max(Math.min(M-j,c-n-2*j-1),n+2),_=Math.min(Math.max(M+j,n+2*j+2),N[0]-2),z=[].concat(Object(v.a)(E?["first"]:[]),Object(v.a)(g?[]:["previous"]),Object(v.a)(F),Object(v.a)(D>n+2?["start-ellipsis"]:n+1<c-n?[n+1]:[]),Object(v.a)(L(D,_)),Object(v.a)(_<c-n-1?["end-ellipsis"]:c-n>n?[c-n]:[]),Object(v.a)(N),Object(v.a)(m?[]:["next"]),Object(v.a)(x?["last"]:[])),B=function(e){switch(e){case"first":return 1;case"previous":return M-1;case"next":return M+1;case"last":return c;default:return null}},H=z.map((function(e){return"number"==typeof e?{onClick:function(t){A(t,e)},type:"page",page:e,selected:e===M,disabled:f,"aria-current":e===M?"true":void 0}:{onClick:function(t){A(t,B(e))},type:e,page:B(e),selected:!1,disabled:f||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?M>=c:M<=1)}}));return Object(a.a)({items:H},P)}var C=n(62),E=n(59),k=n(1409),x=n(65),S=Object(x.a)(i.createElement("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),j=Object(x.a)(i.createElement("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),P=Object(x.a)(i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),T=Object(x.a)(i.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),R=n(38),M=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.color,c=void 0===l?"standard":l,s=e.component,d=e.disabled,f=void 0!==d&&d,p=e.page,m=e.selected,h=void 0!==m&&m,g=e.shape,b=void 0===g?"round":g,v=e.size,y=void 0===v?"medium":v,w=e.type,O=void 0===w?"page":w,C=e.variant,x=void 0===C?"text":C,M=Object(o.a)(e,["classes","className","color","component","disabled","page","selected","shape","size","type","variant"]),I=("rtl"===Object(E.a)().direction?{previous:T,next:P,last:S,first:j}:{previous:P,next:T,first:S,last:j})[O];return"start-ellipsis"===O||"end-ellipsis"===O?i.createElement("div",{ref:t,className:Object(u.default)(n.root,n.ellipsis,f&&n.disabled,"medium"!==y&&n["size".concat(Object(R.a)(y))])},"…"):i.createElement(k.a,Object(a.a)({ref:t,component:s,disabled:f,focusVisibleClassName:n.focusVisible,className:Object(u.default)(n.root,n.page,n[x],n[b],r,"standard"!==c&&n["".concat(x).concat(Object(R.a)(c))],f&&n.disabled,h&&n.selected,"medium"!==y&&n["size".concat(Object(R.a)(y))])},M),"page"===O&&p,I?i.createElement(I,{className:n.icon}):null)})),I=Object(l.a)((function(e){return{root:Object(a.a)({},e.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:e.palette.text.primary}),page:{transition:e.transitions.create(["color","background-color"],{duration:e.transitions.duration.short}),"&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},"&$focusVisible":{backgroundColor:e.palette.action.focus},"&$selected":{backgroundColor:e.palette.action.selected,"&:hover, &$focusVisible":{backgroundColor:Object(C.a)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:1,color:e.palette.action.disabled,backgroundColor:e.palette.action.selected}},"&$disabled":{opacity:e.palette.action.disabledOpacity}},sizeSmall:{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px","& $icon":{fontSize:e.typography.pxToRem(18)}},sizeLarge:{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:e.typography.pxToRem(15),"& $icon":{fontSize:e.typography.pxToRem(22)}},textPrimary:{"&$selected":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}},"&$disabled":{color:e.palette.action.disabled}}},textSecondary:{"&$selected":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover, &$focusVisible":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}},"&$disabled":{color:e.palette.action.disabled}}},outlined:{border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$selected":{"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}}},outlinedPrimary:{"&$selected":{color:e.palette.primary.main,border:"1px solid ".concat(Object(C.a)(e.palette.primary.main,.5)),backgroundColor:Object(C.a)(e.palette.primary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Object(C.a)(e.palette.primary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},outlinedSecondary:{"&$selected":{color:e.palette.secondary.main,border:"1px solid ".concat(Object(C.a)(e.palette.secondary.main,.5)),backgroundColor:Object(C.a)(e.palette.secondary.main,e.palette.action.activatedOpacity),"&:hover, &$focusVisible":{backgroundColor:Object(C.a)(e.palette.secondary.main,e.palette.action.activatedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}},rounded:{borderRadius:e.shape.borderRadius},ellipsis:{height:"auto","&$disabled":{opacity:e.palette.action.disabledOpacity}},focusVisible:{},disabled:{},selected:{},icon:{fontSize:e.typography.pxToRem(20),margin:"0 -8px"}}}),{name:"MuiPaginationItem"})(M);function A(e,t,n){return"page"===e?"".concat(n?"":"Go to ","page ").concat(t):"Go to ".concat(e," page")}var L=i.forwardRef((function(e,t){e.boundaryCount;var n=e.classes,r=e.className,l=e.color,c=void 0===l?"standard":l,s=(e.count,e.defaultPage,e.disabled,e.getItemAriaLabel),d=void 0===s?A:s,f=(e.hideNextButton,e.hidePrevButton,e.onChange,e.page,e.renderItem),p=void 0===f?function(e){return i.createElement(I,e)}:f,m=e.shape,h=void 0===m?"round":m,g=(e.showFirstButton,e.showLastButton,e.siblingCount,e.size),b=void 0===g?"medium":g,v=e.variant,y=void 0===v?"text":v,w=Object(o.a)(e,["boundaryCount","classes","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"]),C=O(Object(a.a)({},e,{componentName:"Pagination"})).items;return i.createElement("nav",Object(a.a)({"aria-label":"pagination navigation",className:Object(u.default)(n.root,r),ref:t},w),i.createElement("ul",{className:n.ul},C.map((function(e,t){return i.createElement("li",{key:t},p(Object(a.a)({},e,{color:c,"aria-label":d(e.type,e.page,e.selected),shape:h,size:b,variant:y})))}))))})),F=Object(l.a)({root:{},ul:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}},{name:"MuiPagination"})(L),N=n(206),D=n(162),_=n(50),z=Object(x.a)(i.createElement("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star");function B(e,t){if(null==e)return e;var n,r=Math.round(e/t)*t;return Number(r.toFixed((n=t.toString().split(".")[1])?n.length:0))}function H(e){e.value;var t=Object(o.a)(e,["value"]);return i.createElement("span",t)}var W=i.createElement(z,{fontSize:"inherit"});function V(e){return"".concat(e," Star").concat(1!==e?"s":"")}var G=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.defaultValue,c=void 0===l?null:l,s=e.disabled,d=void 0!==s&&s,f=e.emptyIcon,p=e.emptyLabelText,m=void 0===p?"Empty":p,h=e.getLabelText,g=void 0===h?V:h,b=e.icon,v=void 0===b?W:b,O=e.IconContainerComponent,C=void 0===O?H:O,k=e.max,x=void 0===k?5:k,S=e.name,j=e.onChange,P=e.onChangeActive,T=e.onMouseLeave,M=e.onMouseMove,I=e.precision,A=void 0===I?1:I,L=e.readOnly,F=void 0!==L&&L,z=e.size,G=void 0===z?"medium":z,U=e.value,q=Object(o.a)(e,["classes","className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"]),$=Object(N.a)(S),K=Object(w.a)({controlled:U,default:c,name:"Rating"}),J=Object(y.a)(K,2),Y=J[0],X=J[1],Z=B(Y,A),Q=Object(E.a)(),ee=i.useState({hover:-1,focus:-1}),te=ee[0],ne=te.hover,re=te.focus,ae=ee[1],oe=Z;-1!==ne&&(oe=ne),-1!==re&&(oe=re);var ie=Object(D.a)(),le=ie.isFocusVisible,ce=ie.onBlurVisible,ue=ie.ref,se=i.useState(!1),de=se[0],fe=se[1],pe=i.useRef(),me=Object(_.a)(ue,pe),he=Object(_.a)(me,t),ge=function(e){var t=parseFloat(e.target.value);X(t),j&&j(e,t)},be=function(e){0===e.clientX&&0===e.clientY||(ae({hover:-1,focus:-1}),X(null),j&&parseFloat(e.target.value)===Z&&j(e,null))},ve=function(e){le(e)&&fe(!0);var t=parseFloat(e.target.value);ae((function(e){return{hover:e.hover,focus:t}})),P&&re!==t&&P(e,t)},ye=function(e){if(-1===ne){!1!==de&&(fe(!1),ce());ae((function(e){return{hover:e.hover,focus:-1}})),P&&-1!==re&&P(e,-1)}},we=function(e,t){var r="".concat($,"-").concat(String(e.value).replace(".","-")),o=i.createElement(C,{value:e.value,className:Object(u.default)(n.icon,e.filled?n.iconFilled:n.iconEmpty,e.hover&&n.iconHover,e.focus&&n.iconFocus,e.active&&n.iconActive)},f&&!e.filled?f:v);return F?i.createElement("span",Object(a.a)({key:e.value},t),o):i.createElement(i.Fragment,{key:e.value},i.createElement("label",Object(a.a)({className:n.label,htmlFor:r},t),o,i.createElement("span",{className:n.visuallyhidden},g(e.value))),i.createElement("input",{onFocus:ve,onBlur:ye,onChange:ge,onClick:be,disabled:d,value:e.value,id:r,type:"radio",name:$,checked:e.checked,className:n.visuallyhidden}))};return i.createElement("span",Object(a.a)({ref:he,onMouseMove:function(e){M&&M(e);var t,n=pe.current,r=n.getBoundingClientRect(),a=r.right,o=r.left,i=n.firstChild.getBoundingClientRect().width;t="rtl"===Q.direction?(a-e.clientX)/(i*x):(e.clientX-o)/(i*x);var l=B(x*t+A/2,A);l=function(e,t,n){return e<t?t:e>n?n:e}(l,A,x),ae((function(e){return e.hover===l&&e.focus===l?e:{hover:l,focus:l}})),fe(!1),P&&ne!==l&&P(e,l)},onMouseLeave:function(e){T&&T(e);ae({hover:-1,focus:-1}),P&&-1!==ne&&P(e,-1)},className:Object(u.default)(n.root,r,"medium"!==G&&n["size".concat(Object(R.a)(G))],d&&n.disabled,de&&n.focusVisible,F&&n.readOnly),role:F?"img":null,"aria-label":F?g(oe):null},q),Array.from(new Array(x)).map((function(e,t){var r=t+1;if(A<1){var a=Array.from(new Array(1/A));return i.createElement("span",{key:r,className:Object(u.default)(n.decimal,r===Math.ceil(oe)&&(-1!==ne||-1!==re)&&n.iconActive)},a.map((function(e,t){var n=B(r-1+(t+1)*A,A);return we({value:n,filled:n<=oe,hover:n<=ne,focus:n<=re,checked:n===Z},{style:a.length-1===t?{}:{width:n===oe?"".concat((t+1)*A*100,"%"):"0%",overflow:"hidden",zIndex:1,position:"absolute"}})})))}return we({value:r,active:r===oe&&(-1!==ne||-1!==re),filled:r<=oe,hover:r<=ne,focus:r<=re,checked:r===Z})})),!F&&!d&&null==Z&&i.createElement(i.Fragment,null,i.createElement("input",{value:"",id:"".concat($,"-empty"),type:"radio",name:$,defaultChecked:!0,className:n.visuallyhidden}),i.createElement("label",{className:n.pristine,htmlFor:"".concat($,"-empty")},i.createElement("span",{className:n.visuallyhidden},m))))})),U=Object(l.a)((function(e){return{root:{display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#ffb400",cursor:"pointer",textAlign:"left",WebkitTapHighlightColor:"transparent","&$disabled":{opacity:.5,pointerEvents:"none"},"&$focusVisible $iconActive":{outline:"1px solid #999"}},sizeSmall:{fontSize:e.typography.pxToRem(18)},sizeLarge:{fontSize:e.typography.pxToRem(30)},readOnly:{pointerEvents:"none"},disabled:{},focusVisible:{},visuallyhidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,color:"#000",overflow:"hidden",padding:0,position:"absolute",top:20,width:1},pristine:{"input:focus + &":{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}},label:{cursor:"inherit"},icon:{display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none"},iconEmpty:{color:e.palette.action.disabled},iconFilled:{},iconHover:{},iconFocus:{},iconActive:{transform:"scale(1.2)"},decimal:{position:"relative"}}}),{name:"MuiRating"})(G),q=i.forwardRef((function(e,t){var n=e.animation,r=void 0===n?"pulse":n,l=e.classes,c=e.className,s=e.component,d=void 0===s?"span":s,f=e.height,p=e.variant,m=void 0===p?"text":p,h=e.width,g=Object(o.a)(e,["animation","classes","className","component","height","variant","width"]),b=Boolean(g.children);return i.createElement(d,Object(a.a)({ref:t,className:Object(u.default)(l.root,l[m],c,b&&[l.withChildren,!h&&l.fitContent,!f&&l.heightAuto],!1!==r&&l[r])},g,{style:Object(a.a)({width:h,height:f},g.style)}))})),$=Object(l.a)((function(e){return{root:{display:"block",backgroundColor:Object(C.a)(e.palette.text.primary,"light"===e.palette.type?.11:.13),height:"1.2em"},text:{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 60%",transform:"scale(1, 0.60)",borderRadius:e.shape.borderRadius,"&:empty:before":{content:'"\\00a0"'}},rect:{},circle:{borderRadius:"50%"},pulse:{animation:"$pulse 1.5s ease-in-out 0.5s infinite"},"@keyframes pulse":{"0%":{opacity:1},"50%":{opacity:.4},"100%":{opacity:1}},wave:{position:"relative",overflow:"hidden","&::after":{animation:"$wave 1.6s linear 0.5s infinite",background:"linear-gradient(90deg, transparent, ".concat(e.palette.action.hover,", transparent)"),content:'""',position:"absolute",transform:"translateX(-100%)",bottom:0,left:0,right:0,top:0}},"@keyframes wave":{"0%":{transform:"translateX(-100%)"},"60%":{transform:"translateX(100%)"},"100%":{transform:"translateX(100%)"}},withChildren:{"& > *":{visibility:"hidden"}},fitContent:{maxWidth:"fit-content"},heightAuto:{height:"auto"}}}),{name:"MuiSkeleton"})(q),K=n(89),J=n(1397),Y=n(1368),X=n(139);function Z(e){return"up"===e||"down"===e?"vertical":"right"===e||"left"===e?"horizontal":void 0}var Q=i.forwardRef((function(e,t){var n=e.ariaLabel,r=e.FabProps,l=(r=void 0===r?{}:r).ref,c=Object(o.a)(r,["ref"]),s=e.children,d=e.classes,f=e.className,p=e.direction,m=void 0===p?"up":p,h=e.hidden,g=void 0!==h&&h,b=e.icon,v=e.onBlur,y=e.onClose,w=e.onFocus,O=e.onKeyDown,C=e.onMouseEnter,E=e.onMouseLeave,k=e.onOpen,x=e.open,S=(e.openIcon,e.TransitionComponent),j=void 0===S?J.a:S,P=e.transitionDuration,T=void 0===P?{enter:K.b.enteringScreen,exit:K.b.leavingScreen}:P,M=e.TransitionProps,I=Object(o.a)(e,["ariaLabel","FabProps","children","classes","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"]),A=i.useRef();i.useEffect((function(){return function(){clearTimeout(A.current)}}),[]);var L=i.useRef(0),F=i.useRef(),N=i.useRef([]);N.current=[N.current[0]];var D=i.useCallback((function(e){N.current[0]=e}),[]),z=Object(_.a)(l,D),B=function(e,t){return function(n){N.current[e+1]=n,t&&t(n)}};i.useEffect((function(){x||(L.current=0,F.current=void 0)}),[x]);var H=function(e){"mouseleave"===e.type&&E&&E(e),"blur"===e.type&&v&&v(e),clearTimeout(A.current),y&&("blur"===e.type?(e.persist(),A.current=setTimeout((function(){y(e,"blur")}))):y(e,"mouseLeave"))},W=function(e){"mouseenter"===e.type&&C&&C(e),"focus"===e.type&&w&&w(e),clearTimeout(A.current),k&&!x&&(e.persist(),A.current=setTimeout((function(){k(e,{focus:"focus",mouseenter:"mouseEnter"}[e.type])})))},V=n.replace(/^[^a-z]+|[^\w:.-]+/gi,""),G=i.Children.toArray(s).filter((function(e){return i.isValidElement(e)})),U=G.map((function(e,t){var n=e.props.FabProps,r=(n=void 0===n?{}:n).ref,l=Object(o.a)(n,["ref"]);return i.cloneElement(e,{FabProps:Object(a.a)({},l,{ref:B(t,r)}),delay:30*(x?t:G.length-t),open:x,id:"".concat(V,"-action-").concat(t)})}));return i.createElement("div",Object(a.a)({className:Object(u.default)(d.root,d["direction".concat(Object(R.a)(m))],f),ref:t,role:"presentation",onKeyDown:function(e){O&&O(e);var t,n,r,a=e.key.replace("Arrow","").toLowerCase(),o=F.current,i=void 0===o?a:o;if("Escape"!==e.key){if(Z(a)===Z(i)&&void 0!==Z(a)){e.preventDefault();var l=a===i?1:-1,c=(t=L.current+l,n=0,r=N.current.length-1,t<n?n:t>r?r:t);N.current[c].focus(),L.current=c,F.current=i}}else y&&(N.current[0].focus(),y(e,"escapeKeyDown"))},onBlur:H,onFocus:W,onMouseEnter:W,onMouseLeave:H},I),i.createElement(j,Object(a.a)({in:!g,timeout:T,unmountOnExit:!0},M),i.createElement(Y.a,Object(a.a)({color:"primary","aria-label":n,"aria-haspopup":"true","aria-expanded":x,"aria-controls":"".concat(V,"-actions")},c,{onClick:function(e){c.onClick&&c.onClick(e),clearTimeout(A.current),x?y&&y(e,"toggle"):k&&k(e,"toggle")},className:Object(u.default)(d.fab,c.className),ref:z}),i.isValidElement(b)&&Object(X.a)(b,["SpeedDialIcon"])?i.cloneElement(b,{open:x}):b)),i.createElement("div",{id:"".concat(V,"-actions"),role:"menu","aria-orientation":Z(m),className:Object(u.default)(d.actions,!x&&d.actionsClosed)},U))})),ee=Object(l.a)((function(e){return{root:{zIndex:e.zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},fab:{pointerEvents:"auto"},directionUp:{flexDirection:"column-reverse","& $actions":{flexDirection:"column-reverse",marginBottom:-32,paddingBottom:48}},directionDown:{flexDirection:"column","& $actions":{flexDirection:"column",marginTop:-32,paddingTop:48}},directionLeft:{flexDirection:"row-reverse","& $actions":{flexDirection:"row-reverse",marginRight:-32,paddingRight:48}},directionRight:{flexDirection:"row","& $actions":{flexDirection:"row",marginLeft:-32,paddingLeft:48}},actions:{display:"flex",pointerEvents:"auto"},actionsClosed:{transition:"top 0s linear 0.2s",pointerEvents:"none"}}}),{name:"MuiSpeedDial"})(Q),te=n(618),ne=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.delay,c=void 0===l?0:l,s=e.FabProps,d=void 0===s?{}:s,f=e.icon,p=e.id,m=e.open,h=e.TooltipClasses,g=e.tooltipOpen,b=void 0!==g&&g,v=e.tooltipPlacement,y=void 0===v?"left":v,w=e.tooltipTitle,O=Object(o.a)(e,["classes","className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"]),C=i.useState(b),E=C[0],k=C[1],x={transitionDelay:"".concat(c,"ms")},S=i.createElement(Y.a,Object(a.a)({size:"small",className:Object(u.default)(n.fab,r,!m&&n.fabClosed),tabIndex:-1,role:"menuitem","aria-describedby":"".concat(p,"-label")},d,{style:Object(a.a)({},x,d.style)}),f);return b?i.createElement("span",Object(a.a)({id:p,ref:t,className:Object(u.default)(n.staticTooltip,n["tooltipPlacement".concat(Object(R.a)(y))],!m&&n.staticTooltipClosed)},O),i.createElement("span",{style:x,id:"".concat(p,"-label"),className:n.staticTooltipLabel},w),S):i.createElement(te.a,Object(a.a)({id:p,ref:t,title:w,placement:y,onClose:function(){k(!1)},onOpen:function(){k(!0)},open:m&&E,classes:h},O),S)})),re=Object(l.a)((function(e){return{fab:{margin:8,color:e.palette.text.secondary,backgroundColor:e.palette.background.paper,"&:hover":{backgroundColor:Object(C.d)(e.palette.background.paper,.15)},transition:"".concat(e.transitions.create("transform",{duration:e.transitions.duration.shorter}),", opacity 0.8s"),opacity:1},fabClosed:{opacity:0,transform:"scale(0)"},staticTooltip:{position:"relative",display:"flex","& $staticTooltipLabel":{transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1}},staticTooltipClosed:{"& $staticTooltipLabel":{opacity:0,transform:"scale(0.5)"}},staticTooltipLabel:Object(a.a)({position:"absolute"},e.typography.body1,{backgroundColor:e.palette.background.paper,borderRadius:e.shape.borderRadius,boxShadow:e.shadows[1],color:e.palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"}),tooltipPlacementLeft:{alignItems:"center","& $staticTooltipLabel":{transformOrigin:"100% 50%",right:"100%",marginRight:8}},tooltipPlacementRight:{alignItems:"center","& $staticTooltipLabel":{transformOrigin:"0% 50%",left:"100%",marginLeft:8}}}}),{name:"MuiSpeedDialAction"})(ne),ae=Object(x.a)(i.createElement("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),oe=i.forwardRef((function(e,t){var n=e.className,r=e.classes,l=e.icon,c=e.open,s=e.openIcon,d=Object(o.a)(e,["className","classes","icon","open","openIcon"]),f=Object(u.default)(r.icon,c&&[r.iconOpen,s&&r.iconWithOpenIconOpen]),p=Object(u.default)(r.openIcon,c&&r.openIconOpen);function m(e,t){return i.isValidElement(e)?i.cloneElement(e,{className:t}):e}return i.createElement("span",Object(a.a)({className:Object(u.default)(r.root,n),ref:t},d),s?m(s,p):null,l?m(l,f):i.createElement(ae,{className:f}))}));oe.muiName="SpeedDialIcon";var ie=Object(l.a)((function(e){return{root:{height:24},icon:{transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short})},iconOpen:{transform:"rotate(45deg)"},iconWithOpenIconOpen:{opacity:0},openIcon:{position:"absolute",transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.short}),opacity:0,transform:"rotate(-45deg)"},openIconOpen:{transform:"rotate(0deg)",opacity:1}}}),{name:"MuiSpeedDialIcon"})(oe),le=i.createContext(null);function ce(e){var t,n,r,a=e.children,o=e.value,l=(t=i.useState(null),n=t[0],r=t[1],i.useEffect((function(){r("mui-p-".concat(Math.round(1e5*Math.random())))}),[]),n),c=i.useMemo((function(){return{idPrefix:l,value:o}}),[l,o]);return i.createElement(le.Provider,{value:c},a)}function ue(){return i.useContext(le)}function se(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-P-").concat(t)}function de(e,t){return null===e.idPrefix?null:"".concat(e.idPrefix,"-T-").concat(t)}var fe=n(1410),pe=i.forwardRef((function(e,t){var n=e.children,r=Object(o.a)(e,["children"]),l=ue();if(null===l)throw new TypeError("No TabContext provided");var c=i.Children.map(n,(function(e){return i.cloneElement(e,{"aria-controls":se(l,e.props.value),id:de(l,e.props.value)})}));return i.createElement(fe.a,Object(a.a)({},r,{ref:t,value:l.value}),c)})),me=i.forwardRef((function(e,t){var n=e.children,r=e.className,l=e.classes,c=e.value,s=Object(o.a)(e,["children","className","classes","value"]),d=ue();if(null===d)throw new TypeError("No TabContext provided");var f=se(d,c),p=de(d,c);return i.createElement("div",Object(a.a)({"aria-labelledby":p,className:Object(u.default)(l.root,r),hidden:c!==d.value,id:f,ref:t,role:"tabpanel"},s),c===d.value&&n)})),he=Object(l.a)((function(e){return{root:{padding:e.spacing(3)}}}),{name:"MuiTabPanel"})(me);var ge=i.createContext({}),be=i.forwardRef((function(e,t){var n=e.align,r=void 0===n?"left":n,l=e.classes,c=e.className,s=Object(o.a)(e,["align","classes","className"]);return i.createElement(ge.Provider,{value:{align:r}},i.createElement("ul",Object(a.a)({className:Object(u.default)(l.root,l["align".concat(Object(R.a)(r))],c),ref:t},s)))})),ve=Object(l.a)((function(){return{root:{display:"flex",flexDirection:"column",padding:"6px 16px",flexGrow:1},alignLeft:{},alignRight:{},alignAlternate:{}}}),{name:"MuiTimeline"})(be),ye=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.a)(e,["classes","className"]);return i.createElement("span",Object(a.a)({className:Object(u.default)(n.root,r),ref:t},l))})),we=Object(l.a)((function(e){return{root:{width:2,backgroundColor:e.palette.grey[400],flexGrow:1}}}),{name:"MuiTimelineConnector"})(ye);var Oe=i.createContext({}),Ce=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.a)(e,["classes","className"]),c=i.useContext(ge).align,s=void 0===c?"left":c,d=i.useContext(Oe).classes,f=void 0===d?{}:d;return i.createElement("div",Object(a.a)({className:Object(u.default)(n.root,f.content,n["align".concat(Object(R.a)(s))],r),ref:t},l))})),Ee=Object(l.a)((function(){return{root:{flex:1,padding:"6px 16px"},alignRight:{textAlign:"right"}}}),{name:"MuiTimelineContent"})(Ce),ke=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=e.color,c=void 0===l?"grey":l,s=e.variant,d=void 0===s?"default":s,f=Object(o.a)(e,["classes","className","color","variant"]);return i.createElement("span",Object(a.a)({className:Object(u.default)(n.root,r,"inherit"!==c&&n["".concat(d).concat(Object(R.a)(c))]),ref:t},f))})),xe=Object(l.a)((function(e){return{root:{display:"flex",alignSelf:"baseline",borderStyle:"solid",borderWidth:2,padding:4,borderRadius:"50%",boxShadow:e.shadows[2],marginTop:8,marginBottom:8},defaultGrey:{borderColor:"transparent",color:e.palette.grey[50],backgroundColor:e.palette.grey[400]},outlinedGrey:{boxShadow:"none",color:e.palette.grey.contrastText,borderColor:e.palette.grey[400],backgroundColor:"transparent"},defaultPrimary:{borderColor:"transparent",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main},outlinedPrimary:{boxShadow:"none",backgroundColor:"transparent",borderColor:e.palette.primary.main},defaultSecondary:{borderColor:"transparent",color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main},outlinedSecondary:{boxShadow:"none",backgroundColor:"transparent",borderColor:e.palette.secondary.main}}}),{name:"MuiTimelineDot"})(ke),Se=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.a)(e,["classes","className"]),c=i.useContext(ge).align,s=void 0===c?"left":c,d=!1;return i.Children.forEach(e.children,(function(e){Object(X.a)(e,["TimelineOppositeContent"])&&(d=!0)})),i.createElement(Oe.Provider,{value:{classes:{content:n.content,oppositeContent:n.oppositeContent}}},i.createElement("li",Object(a.a)({className:Object(u.default)(n.root,n["align".concat(Object(R.a)(s))],r,!d&&n.missingOppositeContent),ref:t},l)))})),je=Object(l.a)((function(){return{root:{listStyle:"none",display:"flex",position:"relative",minHeight:70},alignLeft:{},alignRight:{flexDirection:"row-reverse"},alignAlternate:{"&:nth-child(even)":{flexDirection:"row-reverse","& $content":{textAlign:"right"},"& $oppositeContent":{textAlign:"left"}}},missingOppositeContent:{"&:before":{content:'""',flex:1,padding:"6px 16px"}},content:{},oppositeContent:{}}}),{name:"MuiTimelineItem"})(Se),Pe=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.a)(e,["classes","className"]),c=i.useContext(ge).align,s=void 0===c?"left":c,d=i.useContext(Oe).classes,f=void 0===d?{}:d;return i.createElement("div",Object(a.a)({className:Object(u.default)(n.root,f.oppositeContent,n["align".concat(Object(R.a)(s))],r),ref:t},l))}));Pe.muiName="TimelineOppositeContent";var Te=Object(l.a)((function(){return{root:{padding:"6px 16px",marginRight:"auto",textAlign:"right",flex:1},alignRight:{textAlign:"left"}}}),{name:"MuiTimelineOppositeContent"})(Pe),Re=i.forwardRef((function(e,t){var n=e.classes,r=e.className,l=Object(o.a)(e,["classes","className"]);return i.createElement("div",Object(a.a)({className:Object(u.default)(n.root,r),ref:t},l))})),Me=Object(l.a)((function(){return{root:{display:"flex",flexDirection:"column",flex:0,alignItems:"center"}}}),{name:"MuiTimelineSeparator"})(Re),Ie=n(839),Ae=n(870),Le=n(1354);var Fe=i.createContext({}),Ne=i.forwardRef((function(e,t){var n=e.children,r=e.classes,l=e.className,s=e.collapseIcon,d=e.endIcon,f=e.expandIcon,p=e.icon,m=e.label,h=e.nodeId,g=e.onClick,b=e.onLabelClick,v=e.onIconClick,y=e.onFocus,w=e.onKeyDown,O=e.onMouseDown,C=e.TransitionComponent,k=void 0===C?Le.a:C,x=e.TransitionProps,S=Object(o.a)(e,["children","classes","className","collapseIcon","endIcon","expandIcon","icon","label","nodeId","onClick","onLabelClick","onIconClick","onFocus","onKeyDown","onMouseDown","TransitionComponent","TransitionProps"]),j=i.useContext(Fe),P=j.icons,T=j.focus,R=j.focusFirstNode,M=j.focusLastNode,I=j.focusNextNode,A=j.focusPreviousNode,L=j.focusByFirstCharacter,F=j.selectNode,N=j.selectRange,D=j.selectNextNode,z=j.selectPreviousNode,B=j.rangeSelectToFirst,H=j.rangeSelectToLast,W=j.selectAllNodes,V=j.expandAllSiblings,G=j.toggleExpansion,U=j.isExpanded,q=j.isFocused,$=j.isSelected,K=j.isTabbable,J=j.multiSelect,Y=j.getParent,X=j.mapFirstChar,Z=j.addNodeToNodeMap,Q=j.removeNodeFromNodeMap,ee=i.useRef(null),te=i.useRef(null),ne=Object(_.a)(ee,t),re=p,ae=Boolean(Array.isArray(n)?n.length:n),oe=!!U&&U(h),ie=!!q&&q(h),le=!!K&&K(h),ce=!!$&&$(h),ue=P||{},se=Object(E.a)();re||(ae?(re=oe?s||ue.defaultCollapseIcon:f||ue.defaultExpandIcon)||(re=ue.defaultParentIcon):re=d||ue.defaultEndIcon);var de,fe=function(e){return ae&&(oe?I(h):G(e)),!0},pe=function(e){if(oe)return G(e,h),!0;var t=Y(h);return!!t&&(T(t),!0)};return i.useEffect((function(){if(Z){var e=[];i.Children.forEach(n,(function(t){i.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),Z(h,e)}}),[n,h,Z]),i.useEffect((function(){if(Q)return function(){Q(h)}}),[h,Q]),i.useEffect((function(){X&&m&&X(h,te.current.textContent.substring(0,1).toLowerCase())}),[X,h,m]),i.useEffect((function(){ie&&ee.current.focus()}),[ie]),J?de=ce:ce&&(de=!0),i.createElement("li",Object(a.a)({className:Object(u.default)(r.root,l,oe&&r.expanded,ce&&r.selected),role:"treeitem",onKeyDown:function(e){var t=!1,n=e.key;if(!e.altKey&&e.currentTarget===e.target){var r,a=e.ctrlKey||e.metaKey;switch(n){case" ":ee.current===e.currentTarget&&(t=J&&e.shiftKey?N(e,{end:h}):J?F(e,h,!0):F(e,h)),e.stopPropagation();break;case"Enter":ee.current===e.currentTarget&&ae&&(G(e),t=!0),e.stopPropagation();break;case"ArrowDown":J&&e.shiftKey&&D(e,h),I(h),t=!0;break;case"ArrowUp":J&&e.shiftKey&&z(e,h),A(h),t=!0;break;case"ArrowRight":t="rtl"===se.direction?pe(e):fe(e);break;case"ArrowLeft":t="rtl"===se.direction?fe(e):pe(e);break;case"Home":J&&a&&e.shiftKey&&B(e,h),R(),t=!0;break;case"End":J&&a&&e.shiftKey&&H(e,h),M(),t=!0;break;default:"*"===n?(V(e,h),t=!0):J&&a&&"a"===n.toLowerCase()?t=W(e):!a&&!e.shiftKey&&((r=n)&&1===r.length&&r.match(/\S/))&&(L(h,n),t=!0)}t&&(e.preventDefault(),e.stopPropagation()),w&&w(e)}},onFocus:function(e){ie||e.currentTarget!==e.target||T(h),y&&y(e)},"aria-expanded":ae?oe:null,"aria-selected":de,ref:ne,tabIndex:le?0:-1},S),i.createElement("div",{className:r.content,onClick:function(e){ie||T(h);var t=J&&(e.shiftKey||e.ctrlKey||e.metaKey);!ae||e.defaultPrevented||t&&U(h)||G(e,h),t?e.shiftKey?N(e,{end:h}):F(e,h,!0):F(e,h),g&&g(e)},onMouseDown:function(e){(e.shiftKey||e.ctrlKey||e.metaKey)&&e.preventDefault(),O&&O(e)},ref:te},i.createElement("div",{onClick:v,className:r.iconContainer},re),i.createElement(c.a,{onClick:b,component:"div",className:r.label},m)),n&&i.createElement(k,Object(a.a)({unmountOnExit:!0,className:r.group,in:oe,component:"ul",role:"group"},x),n))})),De=Object(l.a)((function(e){return{root:{listStyle:"none",margin:0,padding:0,outline:0,WebkitTapHighlightColor:"transparent","&:focus > $content $label":{backgroundColor:e.palette.action.hover},"&$selected > $content $label":{backgroundColor:Object(C.a)(e.palette.primary.main,e.palette.action.selectedOpacity)},"&$selected > $content $label:hover, &$selected:focus > $content $label":{backgroundColor:Object(C.a)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},expanded:{},selected:{},group:{margin:0,padding:0,marginLeft:17},content:{width:"100%",display:"flex",alignItems:"center",cursor:"pointer"},iconContainer:{marginRight:4,width:15,display:"flex",flexShrink:0,justifyContent:"center","& svg":{fontSize:18}},label:{width:"100%",paddingLeft:4,position:"relative","&:hover":{backgroundColor:e.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}}}),{name:"MuiTreeItem"})(Ne);var _e=function(e,t,n){for(var r=t;r<e.length;r+=1)if(n===e[r])return r;return-1},ze=[],Be=[],He=i.forwardRef((function(e,t){var n=e.children,r=e.classes,l=e.className,c=e.defaultCollapseIcon,s=e.defaultEndIcon,d=e.defaultExpanded,f=void 0===d?ze:d,p=e.defaultExpandIcon,m=e.defaultParentIcon,h=e.defaultSelected,g=void 0===h?Be:h,b=e.disableSelection,v=void 0!==b&&b,O=e.multiSelect,C=void 0!==O&&O,E=e.expanded,k=e.onNodeSelect,x=e.onNodeToggle,S=e.selected,j=Object(o.a)(e,["children","classes","className","defaultCollapseIcon","defaultEndIcon","defaultExpanded","defaultExpandIcon","defaultParentIcon","defaultSelected","disableSelection","multiSelect","expanded","onNodeSelect","onNodeToggle","selected"]),P=i.useState(null),T=P[0],R=P[1],M=i.useState(null),I=M[0],A=M[1],L=i.useRef({}),F=i.useRef({}),N=i.useRef([]),D=Object(w.a)({controlled:E,default:f,name:"TreeView",state:"expanded"}),_=Object(y.a)(D,2),z=_[0],B=_[1],H=Object(w.a)({controlled:S,default:g,name:"TreeView",state:"selected"}),W=Object(y.a)(H,2),V=W[0],G=W[1],U=i.useCallback((function(e){return!!Array.isArray(z)&&-1!==z.indexOf(e)}),[z]),q=i.useCallback((function(e){return Array.isArray(V)?-1!==V.indexOf(e):V===e}),[V]),$=function(e){var t=N.current.indexOf(e);return-1!==t&&t+1<N.current.length?N.current[t+1]:null},K=function(e){var t=N.current.indexOf(e);return-1!==t&&t-1>=0?N.current[t-1]:null},J=function(){return N.current[N.current.length-1]},Y=function(){return N.current[0]},X=function(e){e&&(R(e),A(e))},Z=i.useRef(null),Q=i.useRef(!1),ee=i.useRef([]),te=function(e,t){var n=V,r=t.start,a=t.next,o=t.current;a&&o&&(-1===ee.current.indexOf(o)&&(ee.current=[]),Q.current?-1!==ee.current.indexOf(a)?(n=n.filter((function(e){return e===r||e!==o})),ee.current=ee.current.filter((function(e){return e===r||e!==o}))):(n.push(a),ee.current.push(a)):(n.push(a),ee.current.push(o,a)),k&&k(e,n),G(n))},ne=function(e,t){var n=V,r=t.start,a=t.end;Q.current&&(n=V.filter((function(e){return-1===ee.current.indexOf(e)})));var o=function(e,t){var n=N.current.indexOf(e),r=N.current.indexOf(t),a=Math.min(n,r),o=Math.max(n,r);return N.current.slice(a,o+1)}(r,a);ee.current=o;var i=n.concat(o);i=i.filter((function(e,t){return i.indexOf(e)===t})),k&&k(e,i),G(i)},re=function(e,t){var n=[];n=-1!==V.indexOf(t)?V.filter((function(e){return e!==t})):[t].concat(V),k&&k(e,n),G(n)},ae=function(e,t){var n=C?[t]:t;k&&k(e,n),G(n)},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.start,a=void 0===r?Z.current:r,o=t.end,i=t.current;return n?te(e,{start:a,next:o,current:i}):ne(e,{start:a,end:o}),Q.current=!0,!0},ie=i.useCallback((function(e){var t=L.current[e],n=[];return t&&(n.push(e),t.children&&(n.concat(t.children),t.children.forEach((function(e){n.concat(ie(e))})))),n}),[]),le=i.useCallback((function(e){var t=Object(a.a)({},F.current);e.forEach((function(e){t[e]&&delete t[e]})),F.current=t}),[]),ce=i.useCallback((function(e){var t=ie(e);le(t);var n=Object(a.a)({},L.current);t.forEach((function(e){var t=n[e];if(t){if(t.parent){var r=n[t.parent];if(r&&r.children){var o=r.children.filter((function(t){return t!==e}));n[t.parent]=Object(a.a)({},r,{children:o})}}delete n[e]}})),L.current=n,A((function(t){return t===e?null:t}))}),[ie,le]),ue=i.useRef([]),se=i.useState(!1),de=se[0],fe=se[1];i.useEffect((function(){var e=[];i.Children.forEach(n,(function(t){i.isValidElement(t)&&t.props.nodeId&&e.push(t.props.nodeId)})),function(e,t){if(e.length!==t.length)return!0;for(var n=0;n<e.length;n+=1)if(e[n]!==t[n])return!0;return!1}(ue.current,e)&&(L.current[-1]={parent:null,children:e},e.forEach((function(e,t){0===t&&R(e)})),N.current=L.current[-1].children,ue.current=e,fe(!0))}),[n]),i.useEffect((function(){de&&(N.current=function e(t){for(var n=[],r=0;r<t.length;r+=1){var a=t[r];n.push(a);var o=L.current[a].children;U(a)&&o&&(n=n.concat(e(o)))}return n}(L.current[-1].children))}),[z,de,U,n]);var pe=function(){return!1};return i.createElement(Fe.Provider,{value:{icons:{defaultCollapseIcon:c,defaultExpandIcon:p,defaultParentIcon:m,defaultEndIcon:s},focus:X,focusFirstNode:function(){return X(Y())},focusLastNode:function(){return X(J())},focusNextNode:function(e){return X($(e))},focusPreviousNode:function(e){return X(K(e))},focusByFirstCharacter:function(e,t){var n,r,a=t.toLowerCase(),o=[],i=[];Object.keys(F.current).forEach((function(e){var t=F.current[e],n=L.current[e];(!n.parent||U(n.parent))&&(o.push(e),i.push(t))})),(n=o.indexOf(e)+1)===L.current.length&&(n=0),-1===(r=_e(i,n,a))&&(r=_e(i,0,a)),r>-1&&X(o[r])},expandAllSiblings:function(e,t){var n,r=L.current[t],a=L.current[r.parent];a?n=a.children.filter((function(e){return!U(e)})):n=L.current[-1].children.filter((function(e){return!U(e)}));var o=z.concat(n);n.length>0&&(B(o),x&&x(e,o))},toggleExpansion:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I;-1!==z.indexOf(n)?(t=z.filter((function(e){return e!==n})),R((function(e){var t=L.current[e];return e&&(t&&t.parent?t.parent.id:null)===n?n:e}))):t=[n].concat(z),x&&x(e,t),B(t)},isExpanded:U,isFocused:function(e){return I===e},isSelected:q,selectNode:v?pe:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!t&&(n?re(e,t):ae(e,t),Z.current=t,Q.current=!1,ee.current=[],!0)},selectRange:v?pe:oe,selectNextNode:v?pe:function(e,t){return oe(e,{end:$(t),current:t},!0)},selectPreviousNode:v?pe:function(e,t){return oe(e,{end:K(t),current:t},!0)},rangeSelectToFirst:v?pe:function(e,t){Z.current||(Z.current=t);var n=Q.current?Z.current:t;return oe(e,{start:n,end:Y()})},rangeSelectToLast:v?pe:function(e,t){Z.current||(Z.current=t);var n=Q.current?Z.current:t;return oe(e,{start:n,end:J()})},selectAllNodes:v?pe:function(e){return oe(e,{start:Y(),end:J()})},isTabbable:function(e){return T===e},multiSelect:C,getParent:function(e){return L.current[e].parent},mapFirstChar:function(e,t){F.current[e]=t},addNodeToNodeMap:function(e,t){var n=L.current[e];L.current[e]=Object(a.a)({},n,{children:t,id:e}),t.forEach((function(t){var n=L.current[t];L.current[t]=Object(a.a)({},n,{parent:e,id:t})}))},removeNodeFromNodeMap:ce}},i.createElement("ul",Object(a.a)({role:"tree","aria-multiselectable":C,className:Object(u.default)(r.root,l),ref:t},j),n))})),We=Object(l.a)({root:{padding:0,margin:0,listStyle:"none"}},{name:"MuiTreeView"})(He),Ve=n(1278);n.d(t,"Alert",(function(){return r.a})),n.d(t,"AlertTitle",(function(){return d})),n.d(t,"Autocomplete",(function(){return f.a})),n.d(t,"createFilterOptions",(function(){return p.a})),n.d(t,"AvatarGroup",(function(){return b})),n.d(t,"Pagination",(function(){return F})),n.d(t,"usePagination",(function(){return O})),n.d(t,"PaginationItem",(function(){return I})),n.d(t,"Rating",(function(){return U})),n.d(t,"Skeleton",(function(){return $})),n.d(t,"SpeedDial",(function(){return ee})),n.d(t,"SpeedDialAction",(function(){return re})),n.d(t,"SpeedDialIcon",(function(){return ie})),n.d(t,"TabContext",(function(){return ce})),n.d(t,"useTabContext",(function(){return ue})),n.d(t,"getPanelId",(function(){return se})),n.d(t,"getTabId",(function(){return de})),n.d(t,"TabList",(function(){return pe})),n.d(t,"TabPanel",(function(){return he})),n.d(t,"Timeline",(function(){return ve})),n.d(t,"TimelineConnector",(function(){return we})),n.d(t,"TimelineContent",(function(){return Ee})),n.d(t,"TimelineDot",(function(){return xe})),n.d(t,"TimelineItem",(function(){return je})),n.d(t,"TimelineOppositeContent",(function(){return Te})),n.d(t,"TimelineSeparator",(function(){return Me})),n.d(t,"ToggleButton",(function(){return Ie.a})),n.d(t,"ToggleButtonGroup",(function(){return Ae.a})),n.d(t,"TreeItem",(function(){return De})),n.d(t,"TreeView",(function(){return We})),n.d(t,"useAutocomplete",(function(){return Ve.b}))},78:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.UriLocationRaw=t.UriLocation=t.Region=t.PropTypes=t.NoAssemblyRegion=t.LocalPathLocation=t.FileLocation=t.ElementId=t.BlobLocation=void 0;var a=r(n(13)),o=r(n(56)),i=r(n(284)),l=n(19),c=r(n(0)),u=n(34),s=["baseUri"],d=["locationType"];function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var m=l.types.optional(l.types.identifier,i.default.generate);t.ElementId=m;var h={Region:c.default.shape({refName:c.default.string.isRequired,start:c.default.number.isRequired,end:c.default.number.isRequired}),ConfigSchema:u.PropTypes.objectOrObservableObject,Feature:c.default.shape({get:c.default.func.isRequired,id:c.default.func.isRequired})};t.PropTypes=h;var g=l.types.model("NoAssemblyRegion",{refName:l.types.string,start:l.types.number,end:l.types.number,reversed:l.types.optional(l.types.boolean,!1)}).actions((function(e){return{setRefName:function(t){e.refName=t}}}));t.NoAssemblyRegion=g;var b=l.types.compose("Region",g,l.types.model({assemblyName:l.types.string}));t.Region=b;var v=l.types.model("LocalPathLocation",{locationType:l.types.literal("LocalPathLocation"),localPath:l.types.string});t.LocalPathLocation=v;var y=l.types.model("BlobLocation",{locationType:l.types.literal("BlobLocation"),name:l.types.string,blobId:l.types.string});t.BlobLocation=y;var w=l.types.model("UriLocation",{locationType:l.types.literal("UriLocation"),uri:l.types.string,baseUri:l.types.maybe(l.types.string),internetAccountId:l.types.maybe(l.types.string),internetAccountPreAuthorization:l.types.maybe(l.types.model("InternetAccountPreAuthorization",{internetAccountType:l.types.string,authInfo:l.types.frozen()}))});t.UriLocationRaw=w;var O=l.types.snapshotProcessor(w,{postProcessor:function(e){var t=e.baseUri,n=(0,o.default)(e,s);return t?e:n}});t.UriLocation=O;var C=l.types.snapshotProcessor(l.types.union(v,O,y),{preProcessor:function(e){if(e){var t=e.locationType,n=(0,o.default)(e,d);if(!t){var r=n.uri,a=n.localPath,i=n.blob,l="";return void 0!==r?l="UriLocation":void 0!==a?l="LocalPathLocation":void 0!==i&&(l="BlobLocation"),p(p({},n),{},{locationType:l})}return e}}});t.FileLocation=C},8:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(34),i=n(19),l=n(41),c=n(106),u=n(569),s=n(1357),d=n(1394),f=n(584),p=n(590),m=n(581),h=n(583),g=n(59),b=n(1352),v=n(1401),y=n(62),w=n(174),O=n.n(w),C=n(665),E=n(42),k=n(1285),x=n.n(k),S=n(1289),j=n.n(S),P=n(1316),T=n.n(P),R=n(1320),M=n.n(R),I=n(130),A=n.n(I),L=n(157),F=n.n(L),N=n(109),D=n.n(N),_=n(78),z=n(158),B=n(107),H=n.n(B),W=n(187),V=n(673),G=n(132),U=n(597),q=n(1374),$=n(1371),K=n(618),J=n(617),Y=n(578),X=n(1376),Z=n(1377),Q=n(603),ee=n(587),te=n(1362),ne=n(588),re=n(598),ae=n(861),oe=n(607),ie=n(1353),le=n(1356),ce=n(1355),ue=n(599),se=n(1321),de=n.n(se),fe=n(1412),pe=n(787),me=n.n(pe),he=n(788),ge=n.n(he),be=n(789),ve=n.n(be),ye=n(785),we=n(180),Oe=n.n(we),Ce=n(155),Ee=n(167),ke=n.n(Ee),xe=n(332),Se=n.n(xe),je=n(288),Pe=n.n(je),Te=n(458),Re=n(315),Me=n.n(Re),Ie=n(0),Ae=n.n(Ie),Le=n(341);function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){We(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function _e(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){De(o,r,a,i,l,"next",e)}function l(e){De(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ze(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function He(e,t,n){return t&&Be(e.prototype,t),n&&Be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}function Ue(e){return(Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qe(e,t){return(qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $e(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var a=Ue(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return $e(this,n)}}function Je(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ue(e)););return e}function Ye(){return(Ye="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Je(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Qe(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ze(e){return function(e){if(Array.isArray(e))return et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Qe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qe(e,t){if(e){if("string"==typeof e)return et(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(e,t):void 0}}function et(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Qe(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}var nt=function(e){return i.types.model("ConfigurationEditorWidget",{id:_.ElementId,type:i.types.literal("ConfigurationEditorWidget"),target:i.types.safeReference(e.pluggableConfigSchemaType("track"))}).actions((function(e){return{setTarget:function(t){e.target=t}}}))},rt=Object(l.ConfigurationSchema)("ConfigurationEditorWidget",{}),at=Object(o.observer)((function(e){var t=e.model;if(t&&t.target){if(t.target.type)return"".concat(t.target.type," settings");if(Object(i.isStateTreeNode)(t.target)){var n=Object(i.getType)(t.target);if(n&&n.name)return"".concat(n.name.replace("ConfigurationSchema","")," settings")}}return"Settings"}));function ot(e,t){return e(t={exports:{}},t.exports),t.exports}var it=ot((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),lt=function(e){Ge(a,e);var t,n,r=Ke(a);function a(e,t,n){var o;ze(this,a),o=r.call(this,e,t,n);var i=Object(l.readConfObject)(e,"features");return o.features=a.makeFeatures(i||[]),o}return He(a,[{key:"getRefNames",value:(n=_e(it.mark((function e(){return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ze(this.features.keys()));case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNameAliases",value:(t=_e(it.mark((function e(){return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Array.from(this.features.values()).map((function(e){return{refName:e[0].get("refName"),aliases:e[0].get("aliases")}})));case 1:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=e.refName,r=e.start,a=e.end;return Object(W.ObservableCreate)(function(){var e=_e(it.mark((function e(o){var i,l,c;return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i=t.features.get(n)||[],l=0;l<i.length;l++)(c=i[l]).get("end")>r&&c.get("start")<a&&o.next(c);o.complete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}],[{key:"makeFeatures",value:function(e){for(var t=new Map,n=0;n<e.length;n+=1)if(e[n]){var r=this.makeFeature(e[n]),a=r.get("refName"),o=t.get(a);o||(o=[],t.set(a,o)),o.push(r)}var i,l=tt(t.values());try{for(l.s();!(i=l.n()).done;){i.value.sort((function(e,t){return e.get("start")-t.get("start")}))}}catch(e){l.e(e)}finally{l.f()}return t}},{key:"makeFeature",value:function(e){return new H.a(e)}}]),a}(z.BaseFeatureDataAdapter),ct=function(e){Ge(r,e);var t,n=Ke(r);function r(e,t,a){var o;ze(this,r),o=n.call(this,e,t,a);var i=Object(l.readConfObject)(e,"features");return o.features=lt.makeFeatures(i||[]),o}return He(r,[{key:"getRegions",value:(t=_e(it.mark((function e(){var t,n,r,a,o,i,l,c,u,s;return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=tt(this.features);try{for(n.s();!(r=n.n()).done;){a=Xe(r.value,2),o=a[0],i=a[1],l=void 0,c=tt(i);try{for(c.s();!(u=c.n()).done;)s=u.value,l&&l.end>=s.get("start")&&l.start<=s.get("end")?l.end=s.get("end"):(l&&t.push(l),l={refName:o,start:s.get("start"),end:s.get("end")})}catch(e){c.e(e)}finally{c.f()}l&&t.push(l)}}catch(e){n.e(e)}finally{n.f()}return t.sort((function(e,t){return e.refName.localeCompare(t.refName)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),r}(z.BaseAdapter),ut=function(e){Ge(r,e);var t,n=Ke(r);function r(){return ze(this,r),n.apply(this,arguments)}return He(r,[{key:"getFeatures",value:function(e){var t=this,n=Ye(Ue(r.prototype),"getFeatures",this);return Object(W.ObservableCreate)(function(){var r=_e(it.mark((function r(a){var o,i;return it.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.call(t,e).pipe(Object(V.a)()).toPromise();case 2:o=r.sent,i=o[0],a.next(new H.a(Ne(Ne({},i.toJSON()),{},{uniqueId:"".concat(i.id(),":").concat(e.start,"-").concat(e.end),end:e.end,start:e.start,seq:i.get("seq").slice(Math.max(e.start-i.get("start"),0),Math.max(e.end-i.get("start"),0))}))),a.complete();case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())}},{key:"getRegions",value:(t=_e(it.mark((function e(){var t,n,r,a,o,i,l,c,u,s;return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=tt(this.features);try{for(n.s();!(r=n.n()).done;){a=Xe(r.value,2),o=a[0],i=a[1],l=void 0,c=tt(i);try{for(c.s();!(u=c.n()).done;)s=u.value,l&&l.end>=s.get("start")&&l.start<=s.get("end")?l.end=s.get("end"):(l&&t.push(l),l={refName:o,start:s.get("start"),end:s.get("end")})}catch(e){c.e(e)}finally{c.f()}l&&t.push(l)}}catch(e){n.e(e)}finally{n.f()}return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),r}(lt),st=Object(l.ConfigurationSchema)("FromConfigAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"}),dt=Object(l.ConfigurationSchema)("FromConfigRegionsAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"}),ft=Object(l.ConfigurationSchema)("FromConfigSequenceAdapter",{features:{type:"frozen",defaultValue:[]},featureClass:{type:"string",defaultValue:"SimpleFeature"}},{explicitlyTyped:!0,implicitIdentifier:"adapterId"}),pt=function(e){Ge(a,e);var t,n,r=Ke(a);function a(){return ze(this,a),r.apply(this,arguments)}return He(a,[{key:"getRefNameAliases",value:(n=_e(it.mark((function e(){var t,n,r;return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==(t=Object(l.readConfObject)(this.config,"location")).uri&&"/path/to/my/aliases.txt"!==t.uri){e.next=3;break}return e.abrupt("return",[]);case 3:return e.next=5,Object(G.openLocation)(t).readFile("utf8");case 5:return n=e.sent,r=Object(l.readConfObject)(this.config,"refNameColumn"),e.abrupt("return",n.trim().split("\n").filter((function(e){return!!e&&!e.startsWith("#")})).map((function(e){var t=e.split("\t");return{refName:Xe(t.splice(r,1),1)[0],aliases:t}})));case 8:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"freeResources",value:(t=_e(it.mark((function e(){return it.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}]),a}(z.BaseAdapter),mt=Object(l.ConfigurationSchema)("RefNameAliasAdapter",{location:{type:"fileLocation",defaultValue:{uri:"/path/to/my/aliases.txt",locationType:"UriLocation"}},refNameColumn:{type:"number",defaultValue:0}},{explicitlyTyped:!0}),ht=Object(u.a)({error:{color:"red",fontSize:"0.8em"}}),gt=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Et}))}));function bt(e){var t=e.slot,n=ht(),o=Xe(Object(r.useState)(JSON.stringify(t.value,null,"  ")),2),i=o[0],l=o[1],c=Xe(Object(r.useState)(),2),u=c[0],s=c[1],d=Object(E.useDebounce)(i,400);return Object(r.useEffect)((function(){try{t.set(JSON.parse(d)),s(void 0)}catch(e){s(e.message)}}),[d]),a.a.createElement(a.a.Fragment,null,u?a.a.createElement("p",{className:n.error},u):null,a.a.createElement(U.a,{error:u},a.a.createElement(q.a,{shrink:!0,htmlFor:"callback-editor"},t.name),a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(gt,{contents:i,setContents:l})),a.a.createElement($.a,null,t.description)))}bt.propTypes={slot:o.PropTypes.objectOrObservableObject.isRequired};var vt=Object(o.observer)(bt),yt=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Jt}))})),wt=function(e){Ge(n,e);var t=Ke(n);function n(){var e;return ze(this,n),(e=t.apply(this,arguments)).name="ConfigurationPlugin",e}return He(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new A.a({name:"FromConfigAdapter",configSchema:st,AdapterClass:lt,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new A.a({name:"FromConfigRegionsAdapter",configSchema:dt,AdapterClass:ct,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new A.a({name:"FromConfigSequenceAdapter",configSchema:ft,AdapterClass:ut,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addAdapterType((function(){return new A.a({name:"RefNameAliasAdapter",configSchema:mt,AdapterClass:pt,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}})})),e.addWidgetType((function(){return new F.a({name:"ConfigurationEditorWidget",HeadingComponent:at,configSchema:rt,stateModel:nt(e),ReactComponent:yt})}))}}]),n}(D.a),Ot='Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',Ct=Object(u.a)({callbackEditor:{fontFamily:Ot,fontSize:"12px",overflowX:"auto",marginTop:"16px",borderBottom:"1px solid rgba(0,0,0,0.42)"},syntaxHighlighter:{margin:0,fontFamily:Ot,fontSize:"12px"}});var Et={__proto__:null,default:function(e){var t=e.contents,n=e.setContents,o=Ct(),i=Object(g.a)();return Object(r.useEffect)((function(){fe.a.registerLanguage("json",me.a)}),[]),a.a.createElement(de.a,{className:o.callbackEditor,value:t,onValueChange:n,highlight:function(e){return a.a.createElement(fe.a,{language:"json",style:"dark"===i.palette.type?ge.a:ve.a,className:o.syntaxHighlighter,customStyle:{background:"none",padding:0}},e)},padding:10,style:{}})}},kt=Object(u.a)((function(e){return{callbackEditor:{marginTop:"16px",borderBottom:"1px solid ".concat(e.palette.divider),fontFamily:'Consolas, "Andale Mono WT", "Andale Mono", "Lucida Console", "Lucida Sans Typewriter", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Liberation Mono", "Nimbus Mono L", Monaco, "Courier New", Courier, monospace',fontSize:"12px"}}}));function xt(e){var t=e.slot,n=kt(),o=Xe(Object(r.useState)(t.value),2),l=o[0],c=o[1],u=Xe(Object(r.useState)(),2),s=u[0],d=u[1],f=Object(E.useDebounce)(l,400);return Object(r.useEffect)((function(){try{var e,n=f.startsWith("jexl:")?f:"jexl:".concat(f);Object(Te.stringToJexlExpression)(n,null===(e=Object(i.getEnv)(t).pluginManager)||void 0===e?void 0:e.jexl),t.set(n),d(null)}catch(e){console.error({e:e}),d(e)}}),[f,t]),a.a.createElement(a.a.Fragment,null,a.a.createElement(U.a,null,a.a.createElement(q.a,{shrink:!0,htmlFor:"callback-editor"},t.name),a.a.createElement(de.a,{className:n.callbackEditor,value:l.startsWith("jexl:")?l.split("jexl:")[1]:l,onValueChange:function(e){return c(e)},highlight:function(e){return e},padding:10,style:{background:s?"#fdd":void 0}}),s?a.a.createElement($.a,{style:{color:"#f00"}},"".concat(s)):null,a.a.createElement($.a,null,t.description)),a.a.createElement(K.a,{title:a.a.createElement("div",null,"Callbacks are written in Jexl format. Click to learn more.",a.a.createElement("br",null)," Names of available context items: ",t.contextVariable),arrow:!0},a.a.createElement(h.a,{color:"primary",onClick:function(){var e=window.open("https://github.com/TomFrost/Jexl","_blank","noopener,noreferrer");e&&(e.opener=null)}},a.a.createElement(Me.a,null))))}xt.propTypes={slot:o.PropTypes.objectOrObservableObject.isRequired};var St=Object(o.observer)(xt),jt=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Zt}))}));var Pt=function(e){var t=e.value,n=e.label,o=e.TextFieldProps,i=e.onChange,l=Xe(Object(r.useState)(!1),2),c=l[0],u=l[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(J.a,Object.assign({value:t,label:n,InputProps:{style:{color:t,borderRightWidth:"25px",borderRightStyle:"solid",borderRightColor:t}},onClick:function(){return u(!c)},onChange:function(e){i(e.target.value)}},o)),c?a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(jt,{color:t,onChange:function(e){i(function(e){if(e instanceof Object){var t=e.r,n=e.g,r=e.b,a=e.a;return void 0===a?"rgb(".concat(t,",").concat(n,",").concat(r,")"):"rgba(".concat(t,",").concat(n,",").concat(r,",").concat(a,")")}return e}(e.rgb))}})):null)};function Tt(e){var t=e.slot;return a.a.createElement(Pt,{label:t.name,value:t.value,onChange:function(e){t.set(e)},TextFieldProps:{helperText:t.description,fullWidth:!0}})}Pt.propTypes={onChange:Ae.a.func.isRequired,label:Ae.a.string,TextFieldProps:Ae.a.shape({}),value:Ae.a.string},Pt.defaultProps={label:"",value:"#000",TextFieldProps:{}},Tt.propTypes={slot:Ae.a.shape({name:Ae.a.string.isRequired,description:Ae.a.string,value:Ae.a.string.isRequired,set:Ae.a.func.isRequired}).isRequired};var Rt=Object(o.observer)(Tt),Mt=Object(o.observer)((function(e){var t=e.slot;return a.a.createElement(J.a,{label:t.name,helperText:t.description,fullWidth:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),It=Object(o.observer)((function(e){var t=e.slot;return a.a.createElement(J.a,{label:t.name,helperText:t.description,fullWidth:!0,multiline:!0,value:t.value,onChange:function(e){return t.set(e.target.value)}})})),At=function(){return a.a.createElement(Y.a,null,a.a.createElement("path",{d:"M20.41,3C21.8,5.71 22.35,8.84 22,12C21.8,15.16 20.7,18.29 18.83,21L17.3,20C18.91,17.57 19.85,14.8 20,12C20.34,9.2 19.89,6.43 18.7,4L20.41,3M5.17,3L6.7,4C5.09,6.43 4.15,9.2 4,12C3.66,14.8 4.12,17.57 5.3,20L3.61,21C2.21,18.29 1.65,15.17 2,12C2.2,8.84 3.3,5.71 5.17,3M12.08,10.68L14.4,7.45H16.93L13.15,12.45L15.35,17.37H13.09L11.71,14L9.28,17.33H6.76L10.66,12.21L8.53,7.45H10.8L12.08,10.68Z"}))},Lt=Object(o.observer)((function(e){var t=e.slot,n=Xe(Object(r.useState)(""),2),o=n[0],i=n[1];return a.a.createElement(a.a.Fragment,null,t.name?a.a.createElement(q.a,null,t.name):null,a.a.createElement(X.a,{disablePadding:!0},t.value.map((function(e,n){return a.a.createElement(Z.a,{key:n,disableGutters:!0},a.a.createElement(J.a,{value:e,onChange:function(e){return t.setAtIndex(n,e.target.value)},InputProps:{endAdornment:a.a.createElement(Q.a,{position:"end"},a.a.createElement(h.a,{color:"secondary",onClick:function(){return t.removeAtIndex(n)}},a.a.createElement(ke.a,null)))}}))})),a.a.createElement(Z.a,{disableGutters:!0},a.a.createElement(J.a,{value:o,placeholder:"add new",onChange:function(e){return i(e.target.value)},InputProps:{endAdornment:a.a.createElement(Q.a,{position:"end"},a.a.createElement(h.a,{onClick:function(){t.add(o),i("")},disabled:""===o,color:"secondary","data-testid":"stringArrayAdd-".concat(t.name)},a.a.createElement(Se.a,null)))}}))),a.a.createElement($.a,null,t.description))})),Ft=Object(u.a)((function(e){return{card:{marginTop:e.spacing(1)}}})),Nt=Object(o.observer)((function(e){var t=e.slot,n=Ft(),o=Xe(Object(r.useState)(""),2),i=o[0],l=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,null,t.name),Array.from(t.value,(function(e){var r=Xe(e,2),o=r[0],i=r[1];return a.a.createElement(ee.a,{raised:!0,key:o,className:n.card},a.a.createElement(te.a,{title:o,action:a.a.createElement(h.a,{color:"secondary",onClick:function(){return t.remove(o)}},a.a.createElement(ke.a,null))}),a.a.createElement(ne.a,null,a.a.createElement(Lt,{slot:{value:i,description:"Values associated with entry ".concat(o),setAtIndex:function(e,n){t.setAtKeyIndex(o,e,n)},removeAtIndex:function(e){t.removeAtKeyIndex(o,e)},add:function(e){t.addToKey(o,e)}}})))})),a.a.createElement(ee.a,{raised:!0,className:n.card},a.a.createElement(te.a,{disableTypography:!0,title:a.a.createElement(J.a,{fullWidth:!0,value:i,placeholder:"add new",onChange:function(e){return l(e.target.value)},InputProps:{endAdornment:a.a.createElement(Q.a,{position:"end"},a.a.createElement(h.a,{disabled:""===i,onClick:function(){t.add(i,[]),l("")},color:"secondary"},a.a.createElement(Se.a,null)))}})})),a.a.createElement($.a,null,t.description))})),Dt=Object(o.observer)((function(e){var t=e.slot,n=Ft(),o=Xe(Object(r.useState)(""),2),i=o[0],l=o[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(q.a,null,t.name),Array.from(t.value,(function(e){var r=Xe(e,2),o=r[0],i=r[1];return a.a.createElement(ee.a,{raised:!0,key:o,className:n.card},a.a.createElement(te.a,{title:o,action:a.a.createElement(h.a,{color:"secondary",onClick:function(){return t.remove(o)}},a.a.createElement(ke.a,null))}),a.a.createElement(ne.a,null,a.a.createElement(_t,{slot:{value:i,set:function(e){return t.add(o,e)}}})))})),a.a.createElement(ee.a,{raised:!0,className:n.card},a.a.createElement(te.a,{disableTypography:!0,title:a.a.createElement(J.a,{fullWidth:!0,value:i,placeholder:"add new",onChange:function(e){return l(e.target.value)},InputProps:{endAdornment:a.a.createElement(Q.a,{position:"end"},a.a.createElement(h.a,{disabled:""===i,onClick:function(){t.add(i,0),l("")},color:"secondary"},a.a.createElement(Se.a,null)))}})})),a.a.createElement($.a,null,t.description))})),_t=Object(o.observer)((function(e){var t=e.slot,n=Xe(Object(r.useState)(t.value),2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e=parseFloat(o,10);Number.isNaN(e)?t.reset():t.set(e)}),[t,o]),a.a.createElement(J.a,{label:t.name,helperText:t.description,value:o,type:"number",onChange:function(e){return i(e.target.value)}})})),zt=Object(o.observer)((function(e){var t=e.slot,n=Xe(Object(r.useState)(t.value),2),o=n[0],i=n[1];return Object(r.useEffect)((function(){var e=parseInt(o,10);Number.isNaN(e)||t.set(e)}),[t,o]),a.a.createElement(J.a,{label:t.name,helperText:t.description,value:o,type:"number",onChange:function(e){return i(e.target.value)}})})),Bt=Object(o.observer)((function(e){var t=e.slot;return a.a.createElement(U.a,null,a.a.createElement(re.a,{label:t.name,control:a.a.createElement(ae.a,{checked:t.value,onChange:function(e){return t.set(e.target.checked)}})}),a.a.createElement($.a,null,t.description))})),Ht=Object(o.observer)((function(e){var t=e.slot,n=e.slotSchema,r=Object(i.getPropertyMembers)(Object(Ce.getSubType)(n)),o=Object(Ce.getUnionSubTypes)(Object(Ce.getUnionSubTypes)(Object(Ce.getSubType)(Object(Ce.getPropertyType)(r,"value")))[1]).map((function(e){return e.value}));return a.a.createElement(J.a,{value:t.value,label:t.name,select:!0,helperText:t.description,fullWidth:!0,onChange:function(e){return t.set(e.target.value)}},o.map((function(e){return a.a.createElement(oe.a,{key:e,value:e},e)})))})),Wt={string:Mt,text:It,fileLocation:Object(o.observer)((function(e){var t,n=e.slot;return a.a.createElement(c.FileSelector,{location:n.value,setLocation:function(e){return n.set(e)},name:n.name,description:n.description,rootModel:null===(t=Object(i.getEnv)(n).pluginManager)||void 0===t?void 0:t.rootModel})})),stringArray:Lt,stringArrayMap:Nt,numberMap:Dt,number:_t,integer:zt,color:Rt,stringEnum:Ht,boolean:Bt,frozen:vt,configRelationships:vt},Vt=Object(u.a)((function(e){return{paper:{display:"flex",marginBottom:e.spacing(2),position:"relative"},paperContent:{width:"100%"},slotModeSwitch:{width:24,background:e.palette.secondary.light,display:"flex",justifyContent:"center",alignItems:"center"}}})),Gt=Object(o.observer)((function(e){var t=e.slot,n=e.slotSchema,r=Vt(),o=t.type,i=t.isCallback?St:Wt[o];return i||(console.warn("no slot editor defined for ".concat(o,", editing as string")),i=Mt),o in Wt||console.warn("SlotEditor needs to implement ".concat(o)),a.a.createElement(m.a,{className:r.paper},a.a.createElement("div",{className:r.paperContent},a.a.createElement(i,{slot:t,slotSchema:n})),a.a.createElement("div",{className:r.slotModeSwitch},t.contextVariable.length?a.a.createElement(h.a,{className:r.slotModeIcon,onClick:function(){return t.isCallback?t.convertToValue():t.convertToCallback()},title:"convert to ".concat(t.isCallback?"regular value":"callback"),color:"secondary"},t.isCallback?a.a.createElement(At,null):a.a.createElement(Pe.a,null)):null))})),Ut=Object(o.observer)((function(e){var t=e.typeNameChoices,n=e.slot,r=e.slotName,o=e.onChange,i=Vt();return a.a.createElement(m.a,{className:i.paper},a.a.createElement("div",{className:i.paperContent},a.a.createElement(J.a,{value:n.type,label:"Type",select:!0,helperText:"Type of ".concat(r," to use"),fullWidth:!0,onChange:o},t.map((function(e){return a.a.createElement(oe.a,{key:e,value:e},e)})))))})),qt=Object(u.a)((function(e){return{expandIcon:{color:"#fff"},root:{padding:e.spacing(1,3,1,1)},expansionPanelDetails:{display:"block",padding:e.spacing(1)},accordion:{border:"1px solid ".concat(e.palette.text.primary)}}})),$t=Object(o.observer)((function(e){var t,n=qt(),r=e.slotName,o=e.slotSchema,i=e.schema,c=e.slot,u=void 0===c?i[r]:c,s=e.path,d=void 0===s?[]:s;if(Object(l.isConfigurationSchemaType)(o)){if(u.length)return u.map((function(t,n){var o="".concat(Object(ye.singular)(r)," ").concat(n+1);return a.a.createElement($t,Ve({},e,{key:o,slot:t,slotName:o}))}));var p=Object(l.getTypeNamesFromExplicitlyTypedUnion)(o);return p.length&&(t=a.a.createElement(Ut,{typeNameChoices:p,slotName:r,slot:u,onChange:function(e){e.target.value!==u.type&&i.setSubschema(r,{type:e.target.value})}})),a.a.createElement(ie.a,{defaultExpanded:!0,className:n.accordion,TransitionProps:{unmountOnExit:!0,timeout:150}},a.a.createElement(le.a,{expandIcon:a.a.createElement(Oe.a,{className:n.expandIcon})},a.a.createElement(f.a,null,[].concat(Ze(d),[r]).join("🡒"))),a.a.createElement(ce.a,{className:n.expansionPanelDetails},t,a.a.createElement(ue.a,null,a.a.createElement(Kt,{schema:u,path:[].concat(Ze(d),[r])}))))}return Object(l.isConfigurationSlotType)(o)?a.a.createElement(Gt,{key:r,slot:u,slotSchema:o}):null})),Kt=Object(o.observer)((function(e){var t=e.schema,n=e.path,r=void 0===n?[]:n,o=Object(i.getMembers)(t).properties;return Object.entries(o).map((function(e){var n=Xe(e,2),o=n[0],i=n[1];return a.a.createElement($t,{key:o,slotName:o,slotSchema:i,path:r,schema:t})}))})),Jt={__proto__:null,default:Object(o.observer)((function(e){var t=e.model,n=qt(),r=t.target&&Object(l.readConfObject)(t.target,"trackId"),o=t.target&&Object(l.readConfObject)(t.target,"name");return a.a.createElement(ie.a,{key:r,defaultExpanded:!0,className:n.accordion,TransitionProps:{unmountOnExit:!0,timeout:150}},a.a.createElement(le.a,{expandIcon:a.a.createElement(Oe.a,{className:n.expandIcon})},a.a.createElement(f.a,null,o||"Configuration")),a.a.createElement(ce.a,{className:n.expansionPanelDetails,"data-testid":"configEditor"},t.target?a.a.createElement(Kt,{schema:t.target}):"no target set"))}))},Yt=Object(u.a)({popover:{position:"absolute",zIndex:2},cover:{position:"fixed",top:0,right:0,bottom:0,left:0}});function Xt(e){var t=e.color,n=e.onChange,o=Yt(),i=Xe(Object(r.useState)(!0),2),l=i[0],c=i[1];return a.a.createElement("div",null,l?a.a.createElement("div",{className:o.popover},a.a.createElement("div",{role:"presentation",className:o.cover,onClick:function(){c(!1)}}),a.a.createElement(Le.a,{color:t,onChange:n})):null)}Xt.propTypes={color:Ae.a.string.isRequired,onChange:Ae.a.func.isRequired};var Zt={__proto__:null,ColorPicker:Xt,default:Xt},Qt=wt,en=n(465),tn=n.n(en),nn=n(131),rn=n(99),an=n(595),on=n(593),ln=n(592),cn=n(585),un=n(1375),sn=n(1361),dn=n(594),fn=n(1354),pn=n(1395),mn=n(1391),hn=n(1392),gn=n(1389),bn=n(1393),vn=n(1390),yn=n(601),wn=n(1368),On=n(382),Cn=n(1378),En=n(1387),kn=n(1383),xn=n(1384),Sn=n(1386),jn=n(796),Pn=n.n(jn),Tn=n(795),Rn=n.n(Tn),Mn=n(60),In=n.n(Mn),An=n(792),Ln=n.n(An),Fn=n(129),Nn=n(793),Dn=n.n(Nn),_n=n(794),zn=n.n(_n),Bn=n(12),Hn=n(798),Wn=n.n(Hn),Vn=n(797),Gn=n.n(Vn),Un=n(838),qn=n.n(Un),$n=n(168),Kn=n.n($n),Jn=n(287),Yn=n.n(Jn),Xn=n(799),Zn=n.n(Xn),Qn=n(471),er=n(1322),tr=n(254),nr=n.n(tr),rr=n(202),ar=n.n(rr),or=n(49),ir=n.n(or),lr=n(183),cr=n.n(lr),ur=n(10),sr=n(199),dr=n(200),fr=n(791),pr=(n(161),"object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()});function mr(e){cancelAnimationFrame(e.id)}function hr(e,t){var n=pr();var r={id:requestAnimationFrame((function a(){pr()-n>=t?e.call(null):r.id=requestAnimationFrame(a)}))};return r}var gr=null;function br(e){if(void 0===e&&(e=!1),null===gr||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),a=r.style;return a.width="100px",a.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?gr="positive-descending":(t.scrollLeft=1,gr=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),gr}return gr}var vr=function(e,t){return e};function yr(e){var t,n,a=e.getItemOffset,o=e.getEstimatedTotalSize,i=e.getItemSize,l=e.getOffsetForIndexAndAlignment,c=e.getStartIndexForOffset,u=e.getStopIndexForStartIndex,s=e.initInstanceProps,d=e.shouldResetStyleCacheOnItemSizeChange,f=e.validateProps;return n=t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=s(n.props,Object(dr.a)(Object(dr.a)(n))),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:Object(dr.a)(Object(dr.a)(n)),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Object(fr.a)((function(e,t,r,a){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:a})})),n._callOnScroll=void 0,n._callOnScroll=Object(fr.a)((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,r=n.props,o=r.direction,l=r.itemSize,c=r.layout,u=n._getItemStyleCache(d&&l,d&&c,d&&o);if(u.hasOwnProperty(e))t=u[e];else{var s=a(n.props,e,n._instanceProps),f=i(n.props,e,n._instanceProps),p="horizontal"===o||"horizontal"===c,m="rtl"===o,h=p?s:0;u[e]=t={position:"absolute",left:m?void 0:h,right:m?h:void 0,top:p?0:s,height:p?"100%":f,width:p?f:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=Object(fr.a)((function(e,t,n){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,a=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===a)return null;var t=n.props.direction,i=a;if("rtl"===t)switch(br()){case"negative":i=-a;break;case"positive-descending":i=o-r-a}return i=Math.max(0,Math.min(i,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<a?"forward":"backward",scrollOffset:i,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,a=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,a-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&mr(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=hr(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}Object(sr.a)(t,e),t.getDerivedStateFromProps=function(e,t){return wr(e,t),f(e),null};var n=t.prototype;return n.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},n.scrollToItem=function(e,t){void 0===t&&(t="auto");var n=this.props.itemCount,r=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1)),this.scrollTo(l(this.props,e,t,r,this._instanceProps))},n.componentDidMount=function(){var e=this.props,t=e.direction,n=e.initialScrollOffset,r=e.layout;if("number"==typeof n&&null!=this._outerRef){var a=this._outerRef;"horizontal"===t||"horizontal"===r?a.scrollLeft=n:a.scrollTop=n}this._callPropsCallbacks()},n.componentDidUpdate=function(){var e=this.props,t=e.direction,n=e.layout,r=this.state,a=r.scrollOffset;if(r.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===n)if("rtl"===t)switch(br()){case"negative":o.scrollLeft=-a;break;case"positive-ascending":o.scrollLeft=a;break;default:var i=o.clientWidth,l=o.scrollWidth;o.scrollLeft=l-i-a}else o.scrollLeft=a;else o.scrollTop=a}this._callPropsCallbacks()},n.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&mr(this._resetIsScrollingTimeoutId)},n.render=function(){var e=this.props,t=e.children,n=e.className,a=e.direction,i=e.height,l=e.innerRef,c=e.innerElementType,u=e.innerTagName,s=e.itemCount,d=e.itemData,f=e.itemKey,p=void 0===f?vr:f,m=e.layout,h=e.outerElementType,g=e.outerTagName,b=e.style,v=e.useIsScrolling,y=e.width,w=this.state.isScrolling,O="horizontal"===a||"horizontal"===m,C=O?this._onScrollHorizontal:this._onScrollVertical,E=this._getRangeToRender(),k=E[0],x=E[1],S=[];if(s>0)for(var j=k;j<=x;j++)S.push(Object(r.createElement)(t,{data:d,key:p(j,d),index:j,isScrolling:v?w:void 0,style:this._getItemStyle(j)}));var P=o(this.props,this._instanceProps);return Object(r.createElement)(h||g||"div",{className:n,onScroll:C,ref:this._outerRefSetter,style:Object(ur.a)({position:"relative",height:i,width:y,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:a},b)},Object(r.createElement)(c||u||"div",{children:S,ref:l,style:{height:O?"100%":P,pointerEvents:w?"none":void 0,width:O?P:"100%"}}))},n._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],n=e[1],r=e[2],a=e[3];this._callOnItemsRendered(t,n,r,a)}if("function"==typeof this.props.onScroll){var o=this.state,i=o.scrollDirection,l=o.scrollOffset,c=o.scrollUpdateWasRequested;this._callOnScroll(i,l,c)}},n._getRangeToRender=function(){var e=this.props,t=e.itemCount,n=e.overscanCount,r=this.state,a=r.isScrolling,o=r.scrollDirection,i=r.scrollOffset;if(0===t)return[0,0,0,0];var l=c(this.props,i,this._instanceProps),s=u(this.props,l,i,this._instanceProps),d=a&&"backward"!==o?1:Math.max(1,n),f=a&&"forward"!==o?1:Math.max(1,n);return[Math.max(0,l-d),Math.max(0,Math.min(t-1,s+f)),l,s]},t}(r.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},n}var wr=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Or=function(e,t,n){var r=e.itemSize,a=n.itemMetadataMap,o=n.lastMeasuredIndex;if(t>o){var i=0;if(o>=0){var l=a[o];i=l.offset+l.size}for(var c=o+1;c<=t;c++){var u=r(c);a[c]={offset:i,size:u},i+=u}n.lastMeasuredIndex=t}return a[t]},Cr=function(e,t,n,r,a){for(;r<=n;){var o=r+Math.floor((n-r)/2),i=Or(e,o,t).offset;if(i===a)return o;i<a?r=o+1:i>a&&(n=o-1)}return r>0?r-1:0},Er=function(e,t,n,r){for(var a=e.itemCount,o=1;n<a&&Or(e,n,t).offset<r;)n+=o,o*=2;return Cr(e,t,Math.min(n,a-1),Math.floor(n/2),r)},kr=function(e,t){var n=e.itemCount,r=t.itemMetadataMap,a=t.estimatedItemSize,o=t.lastMeasuredIndex,i=0;if(o>=n&&(o=n-1),o>=0){var l=r[o];i=l.offset+l.size}return i+(n-o-1)*a},xr=yr({getItemOffset:function(e,t,n){return Or(e,t,n).offset},getItemSize:function(e,t,n){return n.itemMetadataMap[t].size},getEstimatedTotalSize:kr,getOffsetForIndexAndAlignment:function(e,t,n,r,a){var o=e.direction,i=e.height,l=e.layout,c=e.width,u="horizontal"===o||"horizontal"===l?c:i,s=Or(e,t,a),d=kr(e,a),f=Math.max(0,Math.min(d-u,s.offset)),p=Math.max(0,s.offset-u+s.size);switch("smart"===n&&(n=r>=p-u&&r<=f+u?"auto":"center"),n){case"start":return f;case"end":return p;case"center":return Math.round(p+(f-p)/2);case"auto":default:return r>=p&&r<=f?r:r<p?p:f}},getStartIndexForOffset:function(e,t,n){return function(e,t,n){var r=t.itemMetadataMap,a=t.lastMeasuredIndex;return(a>0?r[a].offset:0)>=n?Cr(e,t,a,0,n):Er(e,t,Math.max(0,a),n)}(e,n,t)},getStopIndexForStartIndex:function(e,t,n,r){for(var a=e.direction,o=e.height,i=e.itemCount,l=e.layout,c=e.width,u="horizontal"===a||"horizontal"===l?c:o,s=Or(e,t,r),d=n+u,f=s.offset+s.size,p=t;p<i-1&&f<d;)p++,f+=Or(e,p,r).size;return p},initInstanceProps:function(e,t){var n={itemMetadataMap:{},estimatedItemSize:e.estimatedItemSize||50,lastMeasuredIndex:-1};return t.resetAfterIndex=function(e,r){void 0===r&&(r=!0),n.lastMeasuredIndex=Math.min(n.lastMeasuredIndex,e-1),t._getItemStyleCache(-1),r&&t.forceUpdate()},n},shouldResetStyleCacheOnItemSizeChange:!1,validateProps:function(e){e.itemSize}});var Sr=n(35),jr=n.n(Sr),Pr=n(790),Tr=function(){},Rr=function(e,t){return void 0===t&&(t=null),{child:null,isShown:!t||t.public.isOpen&&t.isShown,parent:t,public:e,sibling:null,visited:!1}},Mr=function(e,t){return(0,t.getRecordData)(e).data.id},Ir=function(e){return function(t,n,r){return r.refresh?function(e,t,n){var r=e.createRecord,a=t.buildingTaskTimeout,o=t.placeholder,i=t.async,l=void 0!==i&&i,c=t.treeWalker,u=l&&void 0!==n.records,s=n.records,d=[],f=new Map,p=a?{timeout:a}:void 0,m=new WeakMap,h=c(),g=h.next().value,b=r(g.data,n,void 0,u?s.get(g.data.id):void 0);f.set(b.public.data.id,b),m.set(b,g);var v=b,y=!0,w=b,O=void 0!==o&&!(null===o&&!n.order),C=O?function(e){return e.timeRemaining()>0}:function(){return!0},E=function e(t){for(;null!==v;){if(!C(t))return void requestIdleCallback(e,p);if(v.visited)v.visited=!1,v=null!==v.sibling?v.sibling:v.parent,w=v;else{var a=h.next(m.get(v)).value;if(void 0===a){y?y=!1:(v.isShown&&d.push(v.public.data.id),v.visited=null!==v.child,v=null!==v.child?v.child:null!==v.sibling?v.sibling:v.parent),w=v;continue}var o=r(a.data,n,y?void 0:v,u?s.get(a.data.id):void 0);f.set(o.public.data.id,o),m.set(o,a),y||w!==v?w.sibling=o:w.child=o,w=o}}O&&n.setState({order:d,records:f,updateRequest:{}})};return O?requestIdleCallback(E,p):E(),void 0!==o&&l&&n.order?n:{order:d,records:f}}(e,t,n):function(e,t){var n=e.order,r=e.records,a=t.opennessState;if("object"!=typeof a)return null;for(var o in a)if(r.has(o)){var i=a[o],l=r.get(o),c="boolean"==typeof i?{open:i}:i,u=c.open,s=c.subtreeCallback,d=void 0===s?Tr:s,f=Tr,p=Tr;l.isShown&&(u?function(){for(var e=n.indexOf(o),t=l;null!==t;){if(null!==t.sibling){t=t.sibling;break}t=t.parent}var r=null===t?n.length-1-e:n.indexOf(t.public.data.id)-1-e,a=[[e+1,r]];f=function(t){if(t.isShown=!t.parent||t.parent.public.isOpen&&t.parent.isShown,t.isShown){var n=a[a.length-1];n.push(t.public.data.id),32770===n.length&&a.push([e+1+32768*a.length,0])}},p=function(){for(var e=0;e<a.length;e++){var t;(t=n).splice.apply(t,a[e])}}}():l.public.isOpen&&function(){var e=n.indexOf(o),t=0;f=function(e){e.isShown&&(t+=1),e.isShown=!e.parent||e.parent.public.isOpen&&e.parent.isShown},p=function(){n.splice(e+1,t)}}());for(var m=l;null!==m;)m.visited?(m.visited=!1,m=m===l?null:null!==m.sibling?m.sibling:m.parent):(m.public.isOpen=m===l?u:m.public.isOpen,d(m.public,l.public),m!==l&&f(m),m.visited=null!==m.child,m=null!==m.child?m.child:m===l?null:null!==m.sibling?m.sibling:m.parent);p()}return{order:n,records:r,updateRequest:{}}}(n,r)}},Ar=function(e){function t(t,n){var a;return(a=e.call(this,t,n)||this).getRecordData=a.getRecordData.bind(jr()(a)),a.state={list:Object(r.createRef)(),recomputeTree:a.recomputeTree.bind(jr()(a)),setState:a.setState.bind(jr()(a))},a}cr()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.listRef,r=void 0===n?null:n,a=e.treeWalker,o=t.computeTree,i=t.list,l=t.order,c=t.treeWalker;return ir()({attachRefs:Object(Pr.a)([i,r])},a===c&&l?null:o(e,t,{refresh:!0}),{treeWalker:a})};var n=t.prototype;return n.getItemData=function(){var e=this.props,t=e.children,n=e.itemData;return{component:t,getRecordData:this.getRecordData,treeData:n}},n.getRecordData=function(e){var t=this.state,n=t.order;return t.records.get(n[e]).public},n.recomputeTree=function(e){var t=this;return new Promise((function(n){t.setState((function(n){return n.computeTree(t.props,n,{opennessState:e})}),n)}))},n.scrollTo=function(e){var t;null==(t=this.state.list.current)||t.scrollTo(e)},n.scrollToItem=function(e,t){var n;null==(n=this.state.list.current)||n.scrollToItem(this.state.order.indexOf(e),t)},t}(r.PureComponent);Ar.defaultProps={rowComponent:function(e){var t=e.index,n=e.data,r=n.component,o=n.getRecordData,i=n.treeData,l=e.style,c=e.isScrolling,u=o(t);return a.a.createElement(r,Object.assign({isScrolling:c,style:l,treeData:i},u))}};var Lr=Ar,Fr=(Ir({createRecord:function(e,t,n,r){var a=t.recomputeTree;return Rr({data:e,isOpen:r?r.public.isOpen:e.isOpenByDefault,setOpen:function(t){var n;return a(((n={})[e.id]=t,n))}},n)}}),Ir({createRecord:function(e,t,n,r){var a=t.recomputeTree,o=t.resetAfterId,i=Rr({data:e,height:r?r.public.height:e.defaultHeight,isOpen:r?r.public.isOpen:e.isOpenByDefault,resize:function(e,t){i.public.height=e,o(i.public.data.id,t)},setOpen:function(t){var n;return a(((n={})[e.id]=t,n))}},n);return i}})),Nr=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).getItemSize=r.getItemSize.bind(jr()(r)),r.state=ir()({},r.state,{computeTree:Fr,resetAfterId:r.resetAfterId.bind(jr()(r))}),r}cr()(t,e);var n=t.prototype;return n.resetAfterId=function(e,t){var n;void 0===t&&(t=!1);var r=this.state,a=r.list,o=r.order;null==(n=a.current)||n.resetAfterIndex(o.indexOf(e),t)},n.recomputeTree=function(t){var n=this;return e.prototype.recomputeTree.call(this,t).then((function(){var e;null==(e=n.state.list.current)||e.resetAfterIndex(0,!0)}))},n.render=function(){var e=this.props,t=(e.children,e.placeholder),n=e.itemSize,r=e.rowComponent,o=(e.treeWalker,ar()(e,["children","placeholder","itemSize","rowComponent","treeWalker"])),i=this.state,l=i.attachRefs,c=i.order;return t&&0===c.length?t:a.a.createElement(xr,Object.assign({},o,{itemCount:c.length,itemData:this.getItemData(),itemKey:Mr,itemSize:null!=n?n:this.getItemSize,ref:l}),r)},n.getItemSize=function(e){return this.getRecordData(e).height},t}(Lr),Dr=n(860),_r=n(800),zr=n.n(_r);function Br(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Br(Object(n),!0).forEach((function(t){$r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Br(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wr(e){return(Wr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Gr(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Vr(o,r,a,i,l,"next",e)}function l(e){Vr(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jr(e,t){return(Jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yr(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Kr(e);if(t){var a=Kr(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Yr(this,n)}}function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||ea(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qr(e){return function(e){if(Array.isArray(e))return ta(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ea(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){if(e){if("string"==typeof e)return ta(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ta(e,t):void 0}}function ta(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function na(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ea(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}var ra=Object(l.ConfigurationSchema)("UCSCTrackHubConnection",{hubTxtLocation:{type:"fileLocation",defaultValue:{uri:"http://mysite.com/path/to/hub.txt",locationType:"UriLocation"},description:"location of the hub file (usually called hub.txt)"},assemblyNames:{type:"stringArray",defaultValue:[],description:"optional list of genomes to import from this track hub, if empty all genomes will be imported"}},{baseConfiguration:nn.baseConnectionConfig});function aa(e,t){return e(t={exports:{}},t.exports),t.exports}var oa=aa((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function ia(){return(ia=Gr(oa.mark((function e(t){var r,a,o;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.openLocation)(t).readFile("utf8");case 3:return r=e.sent,e.next=6,n.e(0).then(n.t.bind(null,1404,7));case 6:return a=e.sent,o=a.HubFile,e.abrupt("return",new o(r));case 11:throw e.prev=11,e.t0=e.catch(0),new Error("Not a valid hub.txt file, got error: '".concat(e.t0,"'"));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function la(e){return ca.apply(this,arguments)}function ca(){return(ca=Gr(oa.mark((function e(t){var r,a,o;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.openLocation)(t).readFile("utf8");case 2:return r=e.sent,e.next=5,n.e(0).then(n.t.bind(null,1404,7));case 5:return a=e.sent,o=a.GenomesFile,e.abrupt("return",new o(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(e){return sa.apply(this,arguments)}function sa(){return(sa=Gr(oa.mark((function e(t){var r,a,o;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.openLocation)(t).readFile("utf8");case 2:return r=e.sent,e.next=5,n.e(0).then(n.t.bind(null,1404,7));case 5:return a=e.sent,o=a.TrackDbFile,e.abrupt("return",new o(r));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t,n,r){var a=[];return e.forEach((function(o,i){var l=Array.from(o.keys()),c=["superTrack","compositeTrack","container","view"];if(!l.some((function(e){return c.includes(e)}))){var u=[],s=i;do{if(s=e.get(s).get("parent")){var d=s.split(" ");s=Zr(d,1)[0],u.push(e.get(s))}}while(s);u.reverse();var f=function(e,t,n,r,a){var o=e.get("type");o||(o=r.get(e.get("parent")).get("type"));var i,l,c=o.split(" ")[0];"bam"===c&&e.get("bigDataUrl").toLowerCase().endsWith("cram")&&(c="cram");i=n.uri?{uri:new URL(e.get("bigDataUrl"),n.uri).href,locationType:"UriLocation"}:{localPath:e.get("bigDataUrl"),locationType:"LocalPathLocation"};switch(c){case"bam":return l=n.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),n.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".bai"),n.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".bai"),locationType:"LocalPathLocation"},{type:"AlignmentsTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BamAdapter",bamLocation:i,index:{location:l}}};case"bed":case"bed5FloatScore":case"bedGraph":case"bedRnaElements":return Object(rn.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"bigBarChart":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i},renderer:{type:"SvgFeatureRenderer"}};case"bigBed":case"bigGenePred":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i}};case"bigChain":case"bigInteract":case"bigMaf":case"bigPsl":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i},renderer:{type:"SvgFeatureRenderer"}};case"bigWig":return{type:"QuantitativeTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigWigAdapter",bigWigLocation:i}};case"broadPeak":case"coloredExon":return Object(rn.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"cram":return l=n.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),n.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".crai"),n.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".crai"),locationType:"LocalPathLocation"},{type:"AlignmentsTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"CramAdapter",cramLocation:i,craiLocation:l,sequenceAdapter:a}};case"gvf":case"ld2":case"narrowPeak":return Object(rn.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"bigNarrowPeak":return{type:"FeatureTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"BigBedAdapter",bigBedLocation:i}};case"peptideMapping":return Object(rn.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"vcfTabix":return l=n.uri?e.get("bigDataIndex")?{uri:new URL(e.get("bigDataIndex"),n.uri).href,locationType:"UriLocation"}:{uri:new URL("".concat(e.get("bigDataUrl"),".tbi"),n.uri).href,locationType:"UriLocation"}:e.get("bigDataIndex")?{localPath:e.get("bigDataIndex"),locationType:"LocalPathLocation"}:{localPath:"".concat(e.get("bigDataUrl"),".tbi"),locationType:"LocalPathLocation"},{type:"VariantTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"VcfTabixAdapter",vcfGzLocation:i,index:{location:l}}};case"wig":case"wigMaf":return Object(rn.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);case"hic":return{type:"HicTrack",name:e.get("shortLabel"),description:e.get("longLabel"),category:t,adapter:{type:"HicAdapter",hicLocation:i}};case"halSnake":return Object(rn.generateUnsupportedTrackConf)(e.get("shortLabel"),c,t);default:return Object(rn.generateUnknownTrackConf)(e.get("shortLabel"),c,t)}}(o,u.map((function(e){return e.get("shortLabel")})),t,e,r);f.trackId="ucsc-trackhub-".concat(Object(E.objectHash)(f)),f.assemblyNames=[n],a.push(f)}})),a}function fa(e){return i.types.compose("UCSCTrackHubConnection",Object(nn.BaseConnectionModelFactory)(e),i.types.model({configuration:Object(l.ConfigurationReference)(ra),type:i.types.literal("UCSCTrackHubConnection")}).actions((function(e){return{connect:function(){var t=Object(l.getConf)(e,"name"),n=Object(l.getConf)(e,"hubTxtLocation"),r=Object(E.getSession)(e);(function(e){return ia.apply(this,arguments)})(n).then((function(e){var t=n.uri?{uri:new URL(e.get("genomesFile"),n.uri).href,locationType:"UriLocation"}:{localPath:e.get("genomesFile"),locationType:"LocalPathLocation"};return Promise.all([e,la(t)])})).then((function(a){var o,i=Zr(a,2),c=i[0],u=i[1],s=[],d=na(u);try{var f=function(){var a=Zr(o.value,2),i=a[0],u=a[1],d=Object(l.getConf)(e,"assemblyNames");if(d.length>0&&!d.includes(i))return"break";var f=r.assemblies.find((function(e){return Object(l.readConfObject)(e,"name")===i}));if(!f)throw new Error('Cannot find assembly for "'.concat(i,'" from the genomes file for connection "').concat(t,'"'));var p=n.uri?{uri:new URL(u.get("trackDb"),new URL(c.get("genomesFile"),n.uri)).href,locationType:"UriLocation"}:{localPath:u.get("trackDb"),locationType:"LocalPathLocation"};s.push(Promise.all([p,ua(p),i,f]))};for(d.s();!(o=d.n()).done;){if("break"===f())break}}catch(e){d.e(e)}finally{d.f()}return Promise.all([].concat(s))})).then((function(t){var n,r=na(t);try{for(r.s();!(n=r.n()).done;){var a=Zr(n.value,4),o=a[0],i=a[1],c=a[2],u=a[3],s=da(i,o,c,Object(l.readConfObject)(u,["sequence","adapter"]));e.addTrackConfs(s)}}catch(e){r.e(e)}finally{r.f()}})).catch((function(t){console.error(t),r.notify('There was a problem connecting to the UCSC Track Hub "'.concat(e.name,'". Please make sure you have entered a valid hub.txt file. The error that was thrown is: "').concat(t,'"'),"error"),r.breakConnection(e.configuration)}))}}})))}function pa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";try{return new URL(e),!0}catch(t){return e.startsWith("/")}}function ma(e){return i.types.model("AddTrackModel",{id:_.ElementId,type:i.types.literal("AddTrackWidget"),view:i.types.safeReference(e.pluggableMstType("view","stateModel"))}).volatile((function(){return{trackSource:"fromFile",trackData:void 0,indexTrackData:void 0,altAssemblyName:"",altTrackName:"",altTrackType:"",adapterHint:""}})).actions((function(e){return{setAdapterHint:function(t){e.adapterHint=t},setTrackSource:function(t){e.trackSource=t},setTrackData:function(t){e.trackData=t},setIndexTrackData:function(t){e.indexTrackData=t},setAssembly:function(t){e.altAssemblyName=t},setTrackName:function(t){e.altTrackName=t},setTrackType:function(t){e.altTrackType=t},clearData:function(){e.trackSource="",e.altTrackName="",e.altTrackType="",e.altAssemblyName="",e.adapterHint="",e.indexTrackData=void 0,e.trackData=void 0}}})).views((function(e){return{get trackAdapter(){var t=e.trackData,n=e.indexTrackData,r=e.adapterHint;return t?Object(rn.guessAdapter)(t,n,r,e):void 0},get trackName(){return e.altTrackName||(e.trackData?Object(rn.getFileName)(e.trackData):"")},get isFtp(){var t,n,r=e.trackData,a=e.indexTrackData;return!!(null!=a&&null!==(t=a.uri)&&void 0!==t&&t.startsWith("ftp://")||null!=r&&null!==(n=r.uri)&&void 0!==n&&n.startsWith("ftp://"))},get isRelativeTrackUrl(){var t,n=null===(t=e.trackData)||void 0===t?void 0:t.uri;return!!n&&!pa(n)},get isRelativeIndexUrl(){var t,n=null===(t=e.indexTrackData)||void 0===t?void 0:t.uri;return!!n&&!pa(n)},get isRelativeUrl(){return this.isRelativeIndexUrl||this.isRelativeTrackUrl},get trackHttp(){var t,n;return null===(t=e.trackData)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.startsWith("http://")},get indexHttp(){var t,n;return null===(t=e.indexTrackData)||void 0===t||null===(n=t.uri)||void 0===n?void 0:n.startsWith("http://")},get wrongProtocol(){return"https:"===window.location.protocol&&(this.trackHttp||this.indexHttp)},get unsupported(){var e;return(null===(e=this.trackAdapter)||void 0===e?void 0:e.type)===rn.UNSUPPORTED},get assembly(){var t;return e.altAssemblyName||(null===(t=e.view.assemblyNames)||void 0===t?void 0:t[0])},get trackType(){return e.altTrackType||(this.trackAdapter?Object(rn.guessTrackType)(this.trackAdapter.type,e):"")}}})).views((function(e){return{get warningMessage(){return e.isFtp?"Warning: JBrowse cannot access files using the ftp protocol":e.isRelativeUrl?"Warning: one or more of your files do not provide the protocol e.g.\n          https://, please provide an absolute URL unless you are sure a\n          relative URL is intended.":e.wrongProtocol?"Warning: You entered a http:// resources but we cannot access HTTP\n          resources from JBrowse when it is running on https. Please use an\n          https URL for your track, or access the JBrowse app from the http\n          protocol":""}}}))}var ha=Object(l.ConfigurationSchema)("AddTrackWidget",{}),ga=i.types.model("AddConnectionModel",{id:_.ElementId,type:i.types.literal("AddConnectionWidget")}),ba=Object(l.ConfigurationSchema)("AddConnectionWidget",{}),va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return!!e.find((function(e){return t.includes(e)}))};function ya(e){if(!e.trackId)throw new Error("not a track");return Object(l.readConfObject)(e,"name")||"Reference sequence (".concat(Object(l.readConfObject)(Object(i.getParent)(e),"name"),")")}function wa(e,t,n){var r={children:[]},a=e.filterText,o=e.view;return t.filter((function(e){return t=a,r=ya(n=e),o=Object(l.readConfObject)(n,"category")||[],i=t.toLowerCase(),!!r.toLowerCase().includes(i)||o.filter((function(e){return!!e.toLowerCase().includes(i)})).length;var t,n,r,o,i})).forEach((function(e){var t=Qr(Object(l.readConfObject)(e,"category")||[]);e.trackId.endsWith("sessionTrack")&&t.unshift(" Session tracks");for(var a=r,i=function(e){var r=t[e],o=a.children.find((function(e){return e.name===r})),i=t.slice(0,e+1).join(",");if(o)a=o;else{var l={children:[],name:r,id:i,isOpenByDefault:!n.get(i)};a.children.push(l),a=l}},c=0;c<t.length;c++)i(c);a.children.splice(a.children.findIndex((function(e){return e.children.length})),0,{id:e.trackId,name:ya(e),conf:e,checked:!!o.tracks.find((function(t){return t.configuration===e})),children:[]})})),r.children}var Oa=function(e){return i.types.model("HierarchicalTrackSelectorWidget",{id:_.ElementId,type:i.types.literal("HierarchicalTrackSelectorWidget"),collapsed:i.types.map(i.types.boolean),filterText:"",view:i.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{setView:function(t){e.view=t},toggleCategory:function(t){e.collapsed.set(t,!e.collapsed.get(t))},clearFilterText:function(){e.filterText=""},setFilterText:function(t){e.filterText=t}}})).views((function(t){return{getRefSeqTrackConf:function(n){var r=Object(E.getSession)(t).assemblyManager.get(n),a=null==r?void 0:r.configuration.sequence,o=e.getViewType(t.view.type);if(a){var i,l=na(a.displays);try{var c=function(){var e=i.value;if(o.displayTypes.find((function(t){return t.name===e.type})))return{v:a}};for(l.s();!(i=l.n()).done;){var u=c();if("object"===Wr(u))return u.v}}catch(e){l.e(e)}finally{l.f()}}},trackConfigurations:function(n){if(!t.view)return[];var r=Object(E.getSession)(t),a=r.tracks,o=r.assemblyManager.get(n);if(!o)return[];var i=t.getRefSeqTrackConf(n);return(i?[i]:[]).concat(Qr(a.filter((function(e){var t=Object(l.readConfObject)(e,"assemblyNames"),n=o.allAliases;return va(n,t)})).filter((function(n){var r=e.getViewType(t.view.type).displayTypes.map((function(e){return e.name})),a=n.displays.map((function(e){return e.type}));return va(r,a)}))))},get assemblyNames(){return t.view?t.view.assemblyNames:[]},connectionTrackConfigurations:function(n,r){if(!t.view)return[];var a=r.tracks,o=Object(E.getSession)(t).assemblyManager.get(n);return o&&o.initialized?a.filter((function(e){var t=Object(l.readConfObject)(e,"assemblyNames"),n=o.allAliases;return va(n,t)})).filter((function(n){var r=e.getViewType(t.view.type).displayTypes.map((function(e){return e.name})),a=n.displays.map((function(e){return e.type}));return va(r,a)})):[]},hierarchy:function(e){var n=this,r=wa(t,t.trackConfigurations(e),t.collapsed),a=Object(E.getSession)(t),o=a.connectionInstances.filter((function(t){var n=Object(l.readConfObject)(t.configuration,"assemblyNames");return 0===n.length||n.includes(e)})).map((function(t,r){var o=a.connections[r];return{id:o.connectionId,name:Object(l.readConfObject)(o,"name"),children:n.connectionHierarchy(e,t),state:{expanded:!0}}}));return{name:"Root",id:"Root",children:[{name:"Tracks",id:"Tracks",children:r}].concat(Qr(o))}},connectionHierarchy:function(e,n){return wa(t,t.connectionTrackConfigurations(e,n),t.collapsed)},allTracksInCategoryPath:function(e,n,r){var a=n?t.connectionHierarchy(n):t.hierarchy(r);e.forEach((function(e){a=a.get(e)||new Map}));var o={};return a.forEach((function(n,r){n.trackId?o[n.trackId]=n:o=Object.assign(o,t.allTracksInCategoryPath(e.concat([r])))})),o}}}))},Ca=Object(l.ConfigurationSchema)("HierarchicalTrackSelectorWidget",{}),Ea=Object(u.a)((function(){return{closeDialog:{position:"absolute",right:0,top:0},dialogContainer:{margin:15},lockedPluginTooltip:{marginRight:"0.5rem"}}}));function ka(){var e=Ea();return a.a.createElement(K.a,{className:e.lockedPluginTooltip,title:"This plugin was installed by an administrator, you cannot remove it."},a.a.createElement(Ln.a,null))}function xa(e){var t=e.onClose,n=e.plugin,r=Ea();return a.a.createElement(p.a,{open:!0,onClose:function(){return t()}},a.a.createElement(an.a,null,a.a.createElement(h.a,{className:r.closeDialog,"aria-label":"close-dialog",onClick:function(){return t()}},a.a.createElement(In.a,null))),a.a.createElement(on.a,null,a.a.createElement(f.a,null,"Please confirm that you want to remove ",n,". Note: if any resources in this session still use this plugin, it may cause your session to crash"),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{variant:"contained",color:"primary",onClick:function(){window.setTimeout((function(){t(n)}),500)}},"Confirm"),a.a.createElement(cn.a,{variant:"contained",color:"secondary",onClick:function(){t()}},"Cancel"))))}function Sa(e){var t=e.plugin,n=e.model,o=e.pluginManager,l=Zr(Object(r.useState)(),2),c=l[0],u=l[1],s=Object(E.getSession)(n),d=s.sessionPlugins,p=null==d?void 0:d.some((function(e){return o.pluginMetadata[t.name].url===e.url})),m=Object(i.getParent)(n,3),g=m.jbrowse,b=m.adminMode;return a.a.createElement(a.a.Fragment,null,c?a.a.createElement(xa,{plugin:c,onClose:function(e){if(e){var n=o.pluginMetadata[t.name];b?g.removePlugin(n):Object(Fn.isSessionWithSessionPlugins)(s)&&s.removeSessionPlugin(n)}u(void 0)}}):null,a.a.createElement(Z.a,{key:t.name},b||p?a.a.createElement(h.a,{"aria-label":"removePlugin","data-testid":"removePlugin-".concat(t.name),onClick:function(){return u(t.name)}},a.a.createElement(In.a,null)):a.a.createElement(ka,null),a.a.createElement(f.a,null,t.name)))}var ja=Object(o.observer)(Sa);function Pa(e){var t=e.pluginManager,n=e.model,r=t.plugins,o=r.filter((function(e){var n;return null===(n=t.pluginMetadata[e.name])||void 0===n?void 0:n.isCore})).map((function(e){return e.name})),i=r.filter((function(e){return!o.includes(e.name)}));return a.a.createElement(X.a,null,i.length?i.filter((function(e){return e.name.toLowerCase().includes(n.filterText.toLowerCase())})).map((function(e){return a.a.createElement(ja,{key:e.name,plugin:e,model:n,pluginManager:t})})):a.a.createElement(f.a,null,"No plugins currently installed"))}var Ta=Object(o.observer)(Pa),Ra=Object(u.a)((function(){return{card:{margin:"1em"},icon:{marginLeft:"0.5em",marginRight:"0.5em"},bold:{fontWeight:600},dataField:{display:"flex",alignItems:"center",margin:"0.4em 0em"}}}));function Ma(e){var t=e.plugin,n=e.model,o=e.adminMode,l=Ra(),c=Object(E.getSession)(n),u=Object(i.getEnv)(n).pluginManager,s=Boolean(u.runtimePluginDefinitions.find((function(e){return e.url===t.url}))),d=Zr(Object(r.useState)(!1),2),p=d[0],m=d[1],h=s||p,g=Object(i.getParent)(n,3).jbrowse;return a.a.createElement(ee.a,{variant:"outlined",key:t.name,className:l.card},a.a.createElement(ne.a,null,a.a.createElement("div",{className:l.dataField},a.a.createElement(f.a,{variant:"h5"},a.a.createElement(un.a,{href:"".concat(t.location,"#readme"),target:"_blank",rel:"noopener"},t.name))),a.a.createElement("div",{className:l.dataField},a.a.createElement(Dn.a,{style:{marginRight:"0.5em"}}),a.a.createElement(f.a,null,t.authors.join(", "))),a.a.createElement(f.a,{className:l.bold},"Description:"),a.a.createElement(f.a,null,t.description)),a.a.createElement(sn.a,null,a.a.createElement(cn.a,{variant:"contained",color:"primary",disabled:h,startIcon:s?a.a.createElement(zn.a,null):a.a.createElement(Se.a,null),onClick:function(){o?g.addPlugin({name:t.name,url:t.url}):Object(Fn.isSessionWithSessionPlugins)(c)&&c.addSessionPlugin(t),m(!0)}},s?"Installed":"Install")))}var Ia=Object(o.observer)(Ma),Aa=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1)},dialogContent:{display:"flex",flexDirection:"column"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}));function La(e){var t=e.open,n=e.onClose,o=e.model,l=Aa(),c=Zr(Object(r.useState)(""),2),u=c[0],s=c[1],d=Zr(Object(r.useState)(""),2),f=d[0],m=d[1],g=Zr(Object(r.useState)(""),2),b=g[0],v=g[1],y=Zr(Object(r.useState)(""),2),w=y[0],O=y[1],C=Zr(Object(r.useState)(!1),2),E=C[0],k=C[1];function x(e){var t=e.target,n=t.name,r=t.value;"umdName"===n&&s(r),"umdUrl"===n&&m(r),"esmUrl"===n&&v(r),"cjsUrl"===n&&O(r)}var S=Object(i.getRoot)(o).jbrowse,j=Boolean(u&&f||b||w);function P(){if(j){var e={};u&&f&&(e.name=u,e.umdUrl=f),b&&(e.esmUrl=b),w&&(e.cjsUrl=w),S.addPlugin(e)}}function T(){s(""),m(""),v(""),O(""),n()}return a.a.createElement(p.a,{open:t,onClose:T},a.a.createElement(an.a,null,"Add custom plugin",a.a.createElement(h.a,{size:"medium",className:l.closeButton,onClick:function(){return n()}},a.a.createElement(In.a,null))),a.a.createElement("form",{onSubmit:P},a.a.createElement(on.a,{className:l.dialogContent},a.a.createElement(dn.a,null,"Enter the name of the plugin and its URL. The name should match what is defined in the plugin's build."),a.a.createElement(J.a,{id:"umd-name-input",name:"umdName",label:"Plugin name",variant:"outlined",value:u,onChange:x}),a.a.createElement(J.a,{id:"umd-url-input",name:"umdUrl",label:"Plugin URL",variant:"outlined",value:f,onChange:x}),a.a.createElement(dn.a,{onClick:function(){k(!E)}},a.a.createElement(h.a,{className:Object(Bn.default)(l.expand,$r({},l.expandOpen,E)),"aria-expanded":E,"aria-label":"show more"},a.a.createElement(Oe.a,null)),"Advanced options"),a.a.createElement(fn.a,{in:E},a.a.createElement("div",{className:l.dialogContent},a.a.createElement(dn.a,null,"The above fields assume that the plugin is built in UMD format. If your plugin is in another format, or you have additional builds you want to add (such as a CJS build for using NodeJS APIs in desktop), you can enter the URLs for those builds below."),a.a.createElement(J.a,{id:"esm-url-input",name:"esmUrl",label:"ESM build URL",variant:"outlined",value:b,onChange:x}),a.a.createElement(J.a,{id:"cjs-url-input",name:"cjsUrl",label:"CJS build URL",variant:"outlined",value:w,onChange:x})))),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{variant:"contained",onClick:T},"Cancel"),a.a.createElement(cn.a,{variant:"contained",color:"primary",onClick:P,disabled:!j},"Submit"))))}var Fa=Object(o.observer)(La),Na=Object(u.a)((function(e){return{root:{margin:e.spacing(1)},expandIcon:{color:"#fff"},adminBadge:{margin:"0.5em",borderRadius:3,backgroundColor:"#FFB11D",padding:"1em",display:"flex",alignContent:"center"},customPluginButton:{margin:"0.5em",display:"flex",justifyContent:"center"}}}));function Da(e){var t=e.model,n=Na(),o=Zr(Object(r.useState)(),2),l=o[0],c=o[1],u=Zr(Object(r.useState)(),2),s=u[0],d=u[1],p=Zr(Object(r.useState)(!1),2),m=p[0],g=p[1],b=Object(E.getSession)(t).adminMode,v=Object(i.getEnv)(t).pluginManager;return Object(r.useEffect)((function(){var e=new AbortController,t=e.signal;return Gr(oa.mark((function e(){var n,r,a;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jbrowse.org/plugin-store/plugins.json",{signal:t});case 3:if((n=e.sent).ok){e.next=9;break}return e.next=7,n.text();case 7:throw r=e.sent,new Error("Failed to fetch plugin data: ".concat(n.status," ").concat(n.statusText," ").concat(r));case 9:return e.next=11,n.json();case 11:a=e.sent,t.aborted||c(a.plugins),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0),d(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))(),function(){e.abort()}}),[]),a.a.createElement("div",{className:n.root},b&&a.a.createElement(a.a.Fragment,null,!E.isElectron&&a.a.createElement("div",{className:n.adminBadge},a.a.createElement(Rn.a,{style:{marginRight:"0.3em"}}),a.a.createElement(f.a,null,"You are using the ",a.a.createElement("code",null,"admin-server"),". Any changes you make will be saved to your configuration file. You also have the ability to add custom plugins that are not in the store.")),a.a.createElement("div",{className:n.customPluginButton},a.a.createElement(cn.a,{variant:"contained",color:"primary",onClick:function(){return g(!0)}},"Add custom plugin")),a.a.createElement(Fa,{open:m,onClose:function(){return g(!1)},model:t})),a.a.createElement(J.a,{label:"Filter plugins",value:t.filterText,onChange:function(e){return t.setFilterText(e.target.value)},fullWidth:!0,InputProps:{endAdornment:a.a.createElement(Q.a,{position:"end"},a.a.createElement(h.a,{color:"secondary",onClick:function(){return t.clearFilterText()}},a.a.createElement(Pn.a,null)))}}),a.a.createElement(ie.a,{defaultExpanded:!0},a.a.createElement(le.a,{expandIcon:a.a.createElement(Oe.a,{className:n.expandIcon})},a.a.createElement(f.a,{variant:"h5"},"Installed plugins")),a.a.createElement("div",{style:{margin:"1em"}},a.a.createElement(Ta,{pluginManager:v,model:t}))),a.a.createElement(ie.a,{defaultExpanded:!0},a.a.createElement(le.a,{expandIcon:a.a.createElement(Oe.a,{className:n.expandIcon})},a.a.createElement(f.a,{variant:"h5"},"Available plugins")),s?a.a.createElement(f.a,{color:"error"},"".concat(s)):l?l.filter((function(e){return!!(E.isElectron||e.esmUrl||e.url||e.umdUrl)&&e.name.toLowerCase().includes(t.filterText.toLowerCase())})).map((function(e){return a.a.createElement(Ia,{key:e.name,plugin:e,model:t,adminMode:!!b})})):a.a.createElement(f.a,null,"Loading...")))}var _a={__proto__:null,default:Object(o.observer)(Da)};function za(e){return i.types.model("PluginStoreModel",{id:_.ElementId,type:i.types.literal("PluginStoreWidget"),filterText:"",view:i.types.safeReference(e.pluggableMstType("view","stateModel"))}).actions((function(e){return{clearFilterText:function(){e.filterText=""},setFilterText:function(t){e.filterText=t}}}))}var Ba=Object(l.ConfigurationSchema)("PluginStoreWidget",{}),Ha=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Ga}))})),Wa=Object(r.lazy)((function(){return Promise.resolve().then((function(){return eo}))})),Va=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jr(e,t)}(i,e);var t,n,a,o=Xr(i);function i(){var e;return Ur(this,i),(e=o.apply(this,arguments)).name="DataManagementPlugin",e.exports={AssemblyManager:Wa,SetDefaultSession:Ha},e}return t=i,(n=[{key:"install",value:function(e){e.addConnectionType((function(){return new tn.a({name:"UCSCTrackHubConnection",configSchema:ra,stateModel:fa(e),displayName:"UCSC Track Hub",description:"A track or assembly hub in the Track Hub format",url:"//genome.ucsc.edu/goldenPath/help/hgTrackHubHelp.html#Intro"})})),e.addWidgetType((function(){return new F.a({name:"HierarchicalTrackSelectorWidget",heading:"Available tracks",configSchema:Ca,stateModel:Oa(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return ho}))}))})})),e.addWidgetType((function(){return new F.a({name:"AddTrackWidget",heading:"Add a track",configSchema:ha,stateModel:ma(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return Ro}))}))})})),e.addWidgetType((function(){return new F.a({name:"AddConnectionWidget",heading:"Add a connection",configSchema:ba,stateModel:ga,ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return No}))}))})})),e.addWidgetType((function(){return new F.a({name:"PluginStoreWidget",heading:"Plugin store",configSchema:Ba,stateModel:za(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return _a}))}))})}))}},{key:"configure",value:function(e){}}])&&qr(t.prototype,n),a&&qr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),i}(D.a);var Ga={__proto__:null,default:Object(o.observer)((function(e){var t,n=e.rootModel,r=e.onClose;if(!n)return null;if("object"!==Wr(t=n)||!t||!("jbrowse"in t))return console.error("Incorrect rootmodel"),null;var o=n.jbrowse,i=n.session;return a.a.createElement(p.a,{open:!0,onClose:r},a.a.createElement(an.a,null,"Set default session"),a.a.createElement(on.a,null,a.a.createElement(f.a,null,'Select "Set current session as default" to make your current session saved to the config file. You can also hit "Clear default session", which would remove the default session from the config.')),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{variant:"contained",onClick:function(){o.setDefaultSessionConf({name:"New session"}),r()}},"Clear default session"),a.a.createElement(cn.a,{color:"secondary",variant:"contained",onClick:function(){return r()}},"Cancel"),a.a.createElement(cn.a,{color:"primary",variant:"contained",onClick:function(){o.setDefaultSessionConf(i),r()}},"Set current session as default")))}))},Ua=Object(u.a)((function(){return{table:{minWidth:500,minHeight:150},buttonCell:{padding:3},button:{display:"inline-block",padding:3,minHeight:0,minWidth:0}}})),qa=Object(o.observer)((function(e){var t=e.rootModel,n=e.setIsAssemblyBeingEdited,r=e.setAssemblyBeingEdited,o=Ua();var i=t.jbrowse.assemblies.map((function(e){var i=Object(l.readConfObject)(e,"name"),c=Object(l.readConfObject)(e,"displayName"),u=Object(l.readConfObject)(e,"aliases");return a.a.createElement(pn.a,{key:i},a.a.createElement(mn.a,null,i),a.a.createElement(mn.a,null,c),a.a.createElement(mn.a,null,u?u.toString():""),a.a.createElement(mn.a,{className:o.buttonCell},a.a.createElement(h.a,{"data-testid":"".concat(i,"-edit"),className:o.button,onClick:function(){n(!0),r(e)}},a.a.createElement(Gn.a,{color:"primary"})),a.a.createElement(h.a,{"data-testid":"".concat(i,"-delete"),className:o.button,onClick:function(){!function(e){t.jbrowse.removeAssemblyConf(e)}(i)}},a.a.createElement(ke.a,{color:"error"}))))}));return a.a.createElement(hn.a,{component:m.a},a.a.createElement(gn.a,{className:o.table},a.a.createElement(bn.a,null,a.a.createElement(pn.a,null,a.a.createElement(mn.a,null,a.a.createElement(f.a,{variant:"h5"},"Name")),a.a.createElement(mn.a,null,a.a.createElement(f.a,{variant:"h5"},"Display name")),a.a.createElement(mn.a,null,a.a.createElement(f.a,{variant:"h5"},"Aliases")),a.a.createElement(mn.a,null,a.a.createElement(f.a,{variant:"h5"},"Actions")))),a.a.createElement(vn.a,null,i)))})),$a=Object(u.a)((function(e){return{root:{flexGrow:1,overflow:"hidden",padding:e.spacing(0,3)},paper:{margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(2)},createButton:{marginTop:"1em",justifyContent:"center"},paperContent:{flex:"auto",margin:"".concat(e.spacing(1),"px auto"),padding:e.spacing(1),overflow:"auto"}}})),Ka=Object(o.observer)((function(e){var t=e.adapterSelection,n=e.setAdapterSelection,r=e.adapterTypes;return a.a.createElement(J.a,{value:t,label:"Type",select:!0,helperText:"Type of adapter to use",fullWidth:!0,onChange:function(e){n(e.target.value)}},r.map((function(e){return a.a.createElement(oe.a,{key:e,value:e},e)})))})),Ja=Object(o.observer)((function(e){var t=e.adapterSelection,n=e.fastaLocation,r=e.setFastaLocation,o=e.faiLocation,i=e.setFaiLocation,l=e.gziLocation,c=e.setGziLocation,u=e.twoBitLocation,s=e.setTwoBitLocation,d=e.chromSizesLocation,f=e.setChromSizesLocation;return"IndexedFastaAdapter"===t||"BgzipFastaAdapter"===t?a.a.createElement(yn.a,{container:!0,spacing:2},a.a.createElement(yn.a,{item:!0},a.a.createElement(qn.a,{name:"fastaLocation",location:n,setLocation:function(e){return r(e)}})),a.a.createElement(yn.a,{item:!0},a.a.createElement(qn.a,{name:"faiLocation",location:o,setLocation:function(e){return i(e)}})),"BgzipFastaAdapter"===t?a.a.createElement(yn.a,{item:!0},a.a.createElement(qn.a,{name:"gziLocation",location:l,setLocation:function(e){return c(e)}})):null):"TwoBitAdapter"===t?a.a.createElement(yn.a,{container:!0,spacing:2},a.a.createElement(yn.a,{item:!0},a.a.createElement(qn.a,{name:"twoBitLocation",location:u,setLocation:function(e){return s(e)}})),a.a.createElement(yn.a,{item:!0},a.a.createElement(qn.a,{name:"chromSizesLocation (optional, can be added to speed up loading 2bit files with many contigs)",location:d,setLocation:function(e){return f(e)}}))):null})),Ya={uri:""},Xa=Object(o.observer)((function(e){var t=e.rootModel,n=e.setFormOpen,o=$a(),i=["IndexedFastaAdapter","BgzipFastaAdapter","TwoBitAdapter"],l=Zr(Object(r.useState)(""),2),c=l[0],u=l[1],s=Zr(Object(r.useState)(""),2),d=s[0],f=s[1],p=Zr(Object(r.useState)(i[0]),2),h=p[0],g=p[1],b=Zr(Object(r.useState)(Ya),2),v=b[0],y=b[1],w=Zr(Object(r.useState)(Ya),2),O=w[0],C=w[1],E=Zr(Object(r.useState)(Ya),2),k=E[0],x=E[1],S=Zr(Object(r.useState)(Ya),2),j=S[0],P=S[1],T=Zr(Object(r.useState)(Ya),2),R=T[0],M=T[1];return a.a.createElement("div",{className:o.root},a.a.createElement(m.a,{className:o.paper},a.a.createElement(J.a,{id:"assembly-name",inputProps:{"data-testid":"assembly-name"},label:"Assembly name",helperText:"The assembly name e.g. hg38",variant:"outlined",value:c,onChange:function(e){return u(e.target.value)}}),a.a.createElement(J.a,{id:"assembly-name",inputProps:{"data-testid":"assembly-display-name"},label:"Assembly display name",helperText:'A human readable display name for the assembly e.g. "Homo sapiens (hg38)"',variant:"outlined",value:d,onChange:function(e){return f(e.target.value)}}),a.a.createElement(Ka,{adapterSelection:h,setAdapterSelection:g,adapterTypes:i}),a.a.createElement("div",{className:o.paperContent},a.a.createElement(Ja,{adapterSelection:h,fastaLocation:v,setFastaLocation:y,faiLocation:O,setFaiLocation:C,gziLocation:k,setGziLocation:x,twoBitLocation:j,setTwoBitLocation:P,chromSizesLocation:R,setChromSizesLocation:M}))),a.a.createElement(yn.a,{container:!0,className:o.createButton},a.a.createElement(yn.a,{item:!0},a.a.createElement(cn.a,{variant:"contained",color:"secondary",startIcon:a.a.createElement(Se.a,null),onClick:function(){var e;""===c?t.session.notify("Can't create an assembly without a name"):(n(!1),"IndexedFastaAdapter"===h?e={name:c,displayName:d,sequence:{adapter:{type:"IndexedFastaAdapter",fastaLocation:v,faiLocation:O}}}:"BgzipFastaAdapter"===h?e={name:c,displayName:d,sequence:{adapter:{type:"BgzipFastaAdapter",fastaLocation:v,faiLocation:O,gziLocation:k}}}:"TwoBitAdapter"===h&&(e={name:c,displayName:d,sequence:{adapter:{type:"TwoBitAdapter",twoBitLocation:j,chromSizesLocation:R}}}),t.jbrowse.addAssemblyConf(e),t.session.notify("Successfully added ".concat(c," assembly to JBrowse 2"),"success"))}},"Create new assembly"))))})),Za=Object(o.observer)((function(e){var t=e.assembly;return a.a.createElement(yt,{model:{target:t}})})),Qa=Object(u.a)((function(e){return{titleBox:{color:"#fff",backgroundColor:e.palette.primary.main,textAlign:"center"},dialogContent:{width:"100%"},backButton:{color:"#fff",position:"absolute",left:e.spacing(4),top:e.spacing(4)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var eo={__proto__:null,default:Object(o.observer)((function(e){var t=e.rootModel,n=e.onClose,o=Qa(),i=Zr(Object(r.useState)(!1),2),l=i[0],c=i[1],u=Zr(Object(r.useState)(!1),2),s=u[0],d=u[1],f=Zr(Object(r.useState)(),2),m=f[0],g=f[1],b=!l&&!s;return a.a.createElement(p.a,{open:!0,onClose:function(){return n(!1)}},a.a.createElement(an.a,{className:o.titleBox},b?"Assembly manager":null,l?a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{"aria-label":"back",className:o.backButton,onClick:function(){return c(!1)}},a.a.createElement(Wn.a,null)),"Add new assembly"):null,s?a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,{"aria-label":"back",className:o.backButton,onClick:function(){return d(!1)}},a.a.createElement(Wn.a,null)),function(e){if(void 0!==e)return e.name;return null}(m)):null,a.a.createElement(h.a,{"aria-label":"close",className:o.closeButton,onClick:function(){return n(!1)}},a.a.createElement(In.a,null))),a.a.createElement(on.a,null,a.a.createElement("div",{className:o.dialogContent},b?a.a.createElement(qa,{rootModel:t,setIsAssemblyBeingEdited:d,setAssemblyBeingEdited:g}):null,s?a.a.createElement(Za,{assembly:m}):null,l?a.a.createElement(Xa,{rootModel:t,setFormOpen:c}):null)),a.a.createElement(ln.a,null,b?a.a.createElement(a.a.Fragment,null,a.a.createElement(cn.a,{color:"secondary",variant:"contained",onClick:function(){return n(!1)}},"Close"),a.a.createElement(cn.a,{variant:"contained",color:"secondary",startIcon:a.a.createElement(Se.a,null),onClick:function(){return c(!0)}},"Add new assembly")):null))}))},to=Object(r.lazy)((function(){return Promise.resolve().then((function(){return _o}))})),no=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Bo}))})),ro=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Vo}))})),ao=Object(r.lazy)((function(){return Promise.resolve().then((function(){return qo}))})),oo=Object(u.a)((function(e){var t,n;return{searchBox:{margin:e.spacing(2)},menuIcon:{marginRight:e.spacing(1),marginBottom:0},fab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(6)},compactCheckbox:{padding:0},checkboxLabel:{marginRight:0,"&:hover":{backgroundColor:"#eee"}},accordionBase:{display:"flex"},accordionCard:{padding:3,cursor:"pointer",display:"flex"},nestingLevelMarker:{position:"absolute",borderLeft:"1.5px solid #555"},accordionColor:{background:null===(t=e.palette.tertiary)||void 0===t?void 0:t.main,color:null===(n=e.palette.tertiary)||void 0===n?void 0:n.contrastText,width:"100%",display:"flex",paddingLeft:5},accordionText:{margin:"auto 0"}}})),io=function(e){var t=e.data,n=e.isOpen,r=e.style,o=e.setOpen,i=t.isLeaf,c=t.nestingLevel,u=t.checked,s=t.id,d=t.name,p=t.onChange,m=t.toggleCollapse,g=t.conf,b=t.onMoreInfo,v=t.drawerPosition,y=oo(),w=10*c+(i?10:0),O=d&&(d.endsWith("(Unsupported)")||d.endsWith("(Unknown)")),C=g&&Object(l.readConfObject)(g,["description"])||"";return a.a.createElement("div",{style:r,className:i?void 0:y.accordionBase},new Array(c).fill(0).map((function(e,t){return a.a.createElement("div",{key:"mark-".concat(t),style:{left:10*t+4,height:r.height},className:y.nestingLevelMarker})})),a.a.createElement("div",{className:i?void 0:y.accordionCard,onClick:function(){m(s),o(!n)},style:{marginLeft:w,whiteSpace:"nowrap",width:"100%"}},a.a.createElement("div",{className:i?void 0:y.accordionColor},i?a.a.createElement(a.a.Fragment,null,a.a.createElement(K.a,{title:C,placement:"left"===v?"right":"left"},a.a.createElement(re.a,{className:y.checkboxLabel,control:a.a.createElement(ae.a,{className:y.compactCheckbox,checked:u,onChange:function(){return p(s)},color:"primary",disabled:O,inputProps:{"data-testid":"htsTrackEntry-".concat(s)}}),label:d})),a.a.createElement(h.a,{onClick:function(e){return b({target:e.currentTarget,id:s,conf:g})},color:"secondary","data-testid":"htsTrackEntryMenu-".concat(s)},a.a.createElement(Zn.a,null))):a.a.createElement("div",{className:y.accordionText},a.a.createElement(f.a,null,n?a.a.createElement(Kn.a,null):a.a.createElement(Yn.a,null),d)))))},lo=function(e,t,n){var r=!!e.conf;return{data:Hr(Hr({defaultHeight:r?22:40,isLeaf:r,isOpenByDefault:!0,nestingLevel:t},e),n),nestingLevel:t,node:e}},co=Object(o.observer)((function(e){var t,n=e.height,o=e.tree,i=e.model,l=i.filterText,c=i.view,u=Object(r.useRef)(null),s=Zr(Object(r.useState)(),2),d=s[0],f=s[1],p=Object(E.getSession)(i),m=p.drawerPosition,h=Object(r.useMemo)((function(){return{onChange:function(e){return c.toggleTrack(e)},toggleCollapse:function(e){return i.toggleCategory(e)},onMoreInfo:f,drawerPosition:m}}),[c,i,m]),g=Object(r.useCallback)(oa.mark((function e(){var t,n,r,a;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<o.children.length)){e.next=7;break}return e.next=4,lo(o.children[t],0,h);case 4:t++,e.next=1;break;case 7:return void(e.next=10);case 10:n=e.sent,r=0;case 12:if(!(r<n.node.children.length)){e.next=19;break}return a=n.node.children[r],e.next=16,lo(a,n.nestingLevel+1,h);case 16:r++,e.next=12;break;case 19:e.next=7;break;case 21:case"end":return e.stop()}}),e)})),[o,h]),b=null==d?void 0:d.conf,v=b&&(null===(t=p.getTrackActionMenuItems)||void 0===t?void 0:t.call(p,b))||[];return Object(r.useEffect)((function(){u.current.recomputeTree({refreshNodes:!0,useDefaultHeight:!0})}),[o,l]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Nr,{ref:u,treeWalker:g,height:n},io),a.a.createElement(nr.a,{anchorEl:null==d?void 0:d.target,menuItems:v,onMenuItemClick:function(e,t){t(),f(void 0)},open:Boolean(d),onClose:function(){return f(void 0)}}))})),uo=function(e){var t=e.tree,n=e.model,r=e.offset;return"undefined"==typeof jest?a.a.createElement(er.a,{disableWidth:!0},(function(e){var o=e.height;return a.a.createElement(co,{height:o-r,model:n,tree:t})})):a.a.createElement(co,{height:9e3,model:n,tree:t})},so=function(e){var t=e.overrideDimensions,n=e.children;return t?a.a.createElement("div",{style:Hr({},t)},n):a.a.createElement(a.a.Fragment,null,n)},fo=Object(o.observer)((function(e){var t=e.model,n=e.toolbarHeight,o=e.overrideDimensions,i=oo(),l=Object(E.getSession)(t),c=Zr(Object(r.useState)(null),2),u=c[0],s=c[1];function d(){s(null)}return a.a.createElement(so,{overrideDimensions:o},a.a.createElement(mo,{model:t,toolbarHeight:n,overrideDimensions:o}),l.addConnectionConf||l.addTrackConf?a.a.createElement(a.a.Fragment,null,a.a.createElement(wn.a,{color:"secondary",className:i.fab,onClick:function(e){s(e.currentTarget)}},a.a.createElement(Se.a,null)),a.a.createElement(On.a,{anchorEl:u,open:Boolean(u),onClose:function(){return s(null)}},l.addConnectionConf?a.a.createElement(oe.a,{onClick:function(){d();var e=l.addWidget("AddConnectionWidget","addConnectionWidget");l.showWidget(e)}},"Add connection"):null,l.addTrackConf?a.a.createElement(oe.a,{onClick:function(){d();var e=l.addWidget("AddTrackWidget","addTrackWidget",{view:t.view.id});l.showWidget(e)}},"Add track"):null)):null)})),po=Object(o.observer)((function(e){var t=e.model,n=e.setHeaderHeight,o=e.setAssemblyIdx,i=e.assemblyIdx,c=oo(),u=Object(E.getSession)(t),s=Zr(Object(r.useState)(),2),d=s[0],f=s[1],p=Zr(Object(r.useState)(),2),m=p[0],g=p[1],b=Zr(Object(r.useState)(),2),v=b[0],y=b[1],w=Zr(Object(r.useState)(),2),C=w[0],k=w[1],x=Zr(Object(r.useState)(!1),2),S=x[0],j=x[1],P=Zr(Object(r.useState)(!1),2),T=P[0],R=P[1],M=t.assemblyNames,I=M[i];function A(e,t){var n=Object(l.readConfObject)(e,"name"),r=u.prepareToBreakConnection(e);if(r){var a=Zr(r,2),o=a[0],i=a[1];Object.keys(i).length>0?y({connectionConf:e,safelyBreakConnection:o,dereferenceTypeCount:i,name:n}):o()}t&&k({name:n,connectionConf:e})}var L=[{label:"Turn on/off connections...",onClick:function(){return R(!0)}}];u.addConnectionConf&&(L.unshift({label:"Add connection",onClick:function(){u.showWidget(u.addWidget("AddConnectionWidget","addConnectionWidget"))}}),L.push({label:"Delete connections...",onClick:function(){return j(!0)}}));var F=M.length>1?[{label:"Select assembly...",subMenu:M.map((function(e,t){return{label:e,onClick:function(){o(t)}}}))}]:[],N=[{label:"Add track...",onClick:function(){u.showWidget(u.addWidget("AddTrackWidget","addTrackWidget",{view:t.view.id}))}}].concat(F);return a.a.createElement("div",{ref:function(e){return n((null==e?void 0:e.getBoundingClientRect().height)||0)},"data-testid":"hierarchical_track_selector"},a.a.createElement("div",{style:{display:"flex"}},u.addTrackConf&&a.a.createElement(h.a,{className:c.menuIcon,onClick:function(e){g(e.currentTarget)}},a.a.createElement(O.a,null)),u.makeConnection&&a.a.createElement(h.a,{className:c.menuIcon,onClick:function(e){f(e.currentTarget)}},a.a.createElement(Qn.Cable,null)),a.a.createElement(J.a,{className:c.searchBox,label:"Filter tracks",value:t.filterText,onChange:function(e){return t.setFilterText(e.target.value)},fullWidth:!0,InputProps:{endAdornment:a.a.createElement(Q.a,{position:"end"},a.a.createElement(h.a,{color:"secondary",onClick:t.clearFilterText},a.a.createElement(Pn.a,null)))}})),a.a.createElement(nr.a,{anchorEl:d,open:Boolean(d),onMenuItemClick:function(e,t){t(),f(void 0)},onClose:function(){return f(void 0)},menuItems:L}),a.a.createElement(nr.a,{anchorEl:m,open:Boolean(m),onMenuItemClick:function(e,t){t(),g(void 0)},onClose:function(){return g(void 0)},menuItems:N}),a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},v?a.a.createElement(to,{modalInfo:v,setModalInfo:y,session:u}):C?a.a.createElement(no,{handleClose:function(){return k(void 0)},deleteDialogDetails:C,session:u}):null,S?a.a.createElement(ro,{handleClose:function(){return j(!1)},breakConnection:A,session:u}):null,T?a.a.createElement(ao,{handleClose:function(){return R(!1)},session:u,breakConnection:A,assemblyName:I}):null))})),mo=Object(o.observer)((function(e){var t=e.model,n=e.toolbarHeight,o=void 0===n?0:n,i=Zr(Object(r.useState)(0),2),l=i[0],c=i[1],u=Zr(Object(r.useState)(0),2),s=u[0],d=u[1],f=t.assemblyNames[l];return f?a.a.createElement(a.a.Fragment,null,a.a.createElement(po,{model:t,setHeaderHeight:d,setAssemblyIdx:c,assemblyIdx:l}),a.a.createElement(uo,{tree:t.hierarchy(f),model:t,offset:o+s})):null})),ho={__proto__:null,default:fo},go=Object(u.a)((function(e){return{spacing:{marginBottom:e.spacing(3)}}}));function bo(e){var t,n=e.trackAdapter,r=e.trackType,o=go();return"SNPCoverageAdapter"===n.type?a.a.createElement(f.a,{className:o.spacing},"Selected ",a.a.createElement("code",null,r),". Using adapter"," ",a.a.createElement("code",null,n.type)," with subadapter"," ",a.a.createElement("code",null,null===(t=n.subadapter)||void 0===t?void 0:t.type),". Please enter a track name and, if necessary, update the track type."):a.a.createElement(f.a,{className:o.spacing},"Using adapter ",a.a.createElement("code",null,n.type)," and guessing track type"," ",a.a.createElement("code",null,r),". Please enter a track name and, if necessary, update the track type.")}var vo=Object(o.observer)((function(e){var t,n,r,o=e.model,l=go(),c=Object(E.getSession)(o),u=o.trackAdapter,s=Object(i.getEnv)(c).pluginManager.getElementTypesInGroup("adapter");return a.a.createElement(J.a,{className:l.spacing,value:"UNKNOWN"!==(null==u?void 0:u.type)?null==u?void 0:u.type:"",label:"adapterType",helperText:"Select an adapter type",select:!0,fullWidth:!0,onChange:function(e){o.setAdapterHint(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"adapterTypeSelect"}}},s.filter((function(e){var t,n;return!(null!==(t=e.adapterMetadata)&&void 0!==t&&t.hiddenFromGUI||null!==(n=e.adapterMetadata)&&void 0!==n&&n.category)})).map((function(e){var t,n;return a.a.createElement(oe.a,{key:e.name,value:e.name},null!==(t=e.adapterMetadata)&&void 0!==t&&t.displayName?null===(n=e.adapterMetadata)||void 0===n?void 0:n.displayName:e.name)})),(t=s.filter((function(e){var t;return!(null!==(t=e.adapterMetadata)&&void 0!==t&&t.hiddenFromGUI)})),n="",r=[],t.forEach((function(e){var t,o,i,l,c,u,s,d;null!==(t=e.adapterMetadata)&&void 0!==t&&t.category&&(n!==(null===(o=e.adapterMetadata)||void 0===o?void 0:o.category)&&(n=null===(c=e.adapterMetadata)||void 0===c?void 0:c.category,r.push(a.a.createElement(Cn.a,{key:null===(u=e.adapterMetadata)||void 0===u?void 0:u.category,value:null===(s=e.adapterMetadata)||void 0===s?void 0:s.category},null===(d=e.adapterMetadata)||void 0===d?void 0:d.category))),r.push(a.a.createElement(oe.a,{key:e.name,value:e.name},null!==(i=e.adapterMetadata)&&void 0!==i&&i.displayName?null===(l=e.adapterMetadata)||void 0===l?void 0:l.displayName:e.name)))})),r))}));function yo(e){var t=e.model,n=go();return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{className:n.spacing},"JBrowse was not able to guess the adapter type for this data, but it may be in the list below. If not, you can"," ",a.a.createElement(un.a,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse to see if they support this data type or"," ",a.a.createElement(un.a,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."),a.a.createElement(vo,{model:t}))}var wo=Object(o.observer)((function(e){var t=e.model,n=go(),r=Object(E.getSession)(t),o=t.trackType,l=Object(i.getEnv)(r).pluginManager.getElementTypesInGroup("track");return a.a.createElement(J.a,{className:n.spacing,value:o,label:"trackType",helperText:"Select a track type",select:!0,fullWidth:!0,onChange:function(e){t.setTrackType(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"trackTypeSelect"}}},l.map((function(e){var t=e.name;return a.a.createElement(oe.a,{key:t,value:t},t)})))})),Oo=Object(o.observer)((function(e){var t=e.model,n=Object(E.getSession)(t),r=t.assembly;return a.a.createElement(J.a,{value:r,label:"assemblyName",helperText:"Assembly to which the track will be added",select:!0,fullWidth:!0,onChange:function(e){return t.setAssembly(e.target.value)},SelectProps:{SelectDisplayProps:{"data-testid":"assemblyNameSelect"}}},n.assemblies.map((function(e){return Object(l.readConfObject)(e,"name")})).map((function(e){return a.a.createElement(oe.a,{key:e,value:e},e)})))}));function Co(e){var t=e.model,n=go(),r=t.trackName,o=t.trackAdapter,i=t.trackType,l=t.warningMessage,c=t.adapterHint;return t.unsupported?a.a.createElement(f.a,{className:n.spacing},"This version of JBrowse cannot display data of this type. It is possible, however, that there is a newer version that can display them. You can"," ",a.a.createElement(un.a,{href:"https://github.com/GMOD/jbrowse-components/releases",target:"_blank",rel:"noopener noreferrer"},"check for new releases")," ","of JBrowse or"," ",a.a.createElement(un.a,{href:"https://github.com/GMOD/jbrowse-components/issues/new",target:"_blank",rel:"noopener noreferrer"},"file an issue")," ","and add a feature request for this data type."):(null==o?void 0:o.type)===rn.UNKNOWN?a.a.createElement(yo,{model:t}):(""===c&&o&&t.setAdapterHint(o.type),null!=o&&o.type?a.a.createElement("div",null,o?a.a.createElement(bo,{trackAdapter:o,trackType:i}):null,l?a.a.createElement(f.a,{style:{color:"orange"}},l):null,a.a.createElement(J.a,{className:n.spacing,label:"trackName",helperText:"A name for this track",fullWidth:!0,value:r,onChange:function(e){return t.setTrackName(e.target.value)},inputProps:{"data-testid":"trackNameInput"}}),a.a.createElement(vo,{model:t}),a.a.createElement(wo,{model:t}),a.a.createElement(Oo,{model:t})):a.a.createElement(f.a,null,"Could not recognize this data type."))}var Eo=Object(o.observer)(Co),ko=Object(u.a)((function(e){return{paper:{display:"flex",flexDirection:"column",padding:e.spacing(1)},spacer:{height:e.spacing(8)}}}));function xo(e){var t=e.model,n=ko(),r=Object(i.getRoot)(t);return a.a.createElement(m.a,{className:n.paper},a.a.createElement(c.FileSelector,{name:"Main file",description:"",location:t.trackData,setLocation:t.setTrackData,setName:t.setTrackName,rootModel:r}),a.a.createElement("div",{className:n.spacer}),a.a.createElement(c.FileSelector,{name:"Index file",description:"(Optional) The URL of the index file is automatically inferred from the URL of the main file if it is not supplied.",location:t.indexTrackData,setLocation:t.setIndexTrackData,setName:t.setTrackName,rootModel:r}))}var So=Object(o.observer)(xo),jo=Object(u.a)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},stepContent:{margin:e.spacing(1)},alertContainer:{padding:"".concat(e.spacing(2),"px 0px ").concat(e.spacing(2),"px 0px")}}})),Po=["Enter track data","Confirm track type"];function To(e){var t=e.model,n=Zr(Object(r.useState)(0),2),o=n[0],i=n[1],c=jo(),u=Object(E.getSession)(t),s=t.assembly,d=t.trackAdapter,p=t.trackData,m=t.trackName,h=t.trackType,g=Zr(Object(r.useState)(),2),b=g[0],v=g[1];function y(){return w.apply(this,arguments)}function w(){return(w=Gr(oa.mark((function e(){var n,r;return oa.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o===Po.length-1){e.next=3;break}return i(o+1),e.abrupt("return");case 3:n="".concat(m.toLowerCase().replace(/ /g,"_"),"-").concat(Date.now()).concat(u.adminMode?"":"-sessionTrack"),r=u.assemblyManager.get(s),d&&"UNKNOWN"!==d.type?(u.addTrackConf({trackId:n,type:h,name:m,assemblyNames:[s],adapter:Hr(Hr({},d),{},{sequenceAdapter:Object(l.getConf)(r,["sequence","adapter"])})}),t.view?t.view.showTrack(n):u.notify("Open a new view, or use the track selector in an existing view, to view this track","info"),t.clearData(),u.hideWidget(t)):v("Failed to add track.\nThe configuration of this file is not currently supported.");case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){v(void 0),i(o-1)}function C(){switch(o){case 0:return!p;case 1:return!(m&&h&&null!=d&&d.type&&s);default:return!0}}return a.a.createElement("div",{className:c.root},a.a.createElement(En.a,{className:c.stepper,activeStep:o,orientation:"vertical"},Po.map((function(e,n){return a.a.createElement(kn.a,{key:e},a.a.createElement(xn.a,null,e),a.a.createElement(Sn.a,null,function(e){switch(e){case 0:return a.a.createElement(So,{model:t});case 1:return a.a.createElement(Eo,{model:t});default:return a.a.createElement(f.a,null,"Unknown step")}}(n),a.a.createElement("div",{className:c.actionsContainer},a.a.createElement(cn.a,{disabled:0===o,onClick:O,className:c.button},"Back"),a.a.createElement(cn.a,{disabled:C(),variant:"contained",color:"primary",onClick:y,className:c.button,"data-testid":"addTrackNextButton"},o===Po.length-1?"Add":"Next")),b?a.a.createElement("div",{className:c.alertContainer},a.a.createElement(Dr.a,{severity:"error"},b)):null))}))))}var Ro={__proto__:null,default:Object(o.observer)(To)},Mo=Object(o.observer)((function(e){var t=e.connectionType,n=e.model,o=e.setModelReady,i=t.configEditorComponent||yt;return a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(i,{model:{target:n},setModelReady:o}))}));function Io(e){var t=e.connectionTypeChoices,n=e.connectionType,o=e.setConnectionType;return Object(r.useEffect)((function(){n.name||o(t[0])})),n.name?a.a.createElement("form",{autoComplete:"off"},a.a.createElement(J.a,{value:n.name,label:"connectionType",helperText:n.description?a.a.createElement(a.a.Fragment,null,n.description,n.url?a.a.createElement(h.a,{href:n.url,rel:"noopener noreferrer",target:"_blank",color:"secondary"},a.a.createElement(zr.a,null)):null):null,select:!0,fullWidth:!0,onChange:function(e){o(t.find((function(t){return t.name===e.target.value})))},variant:"outlined"},t.map((function(e){return a.a.createElement(oe.a,{key:e.name,value:e.name},e.displayName||e.name)})))):null}var Ao=Object(u.a)((function(e){return{root:{marginTop:e.spacing(1)},stepper:{backgroundColor:e.palette.background.default},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)}}})),Lo=["Select a Connection Type","Configure Connection"];function Fo(e){var t=e.model,n=Zr(Object(r.useState)({}),2),o=n[0],l=n[1],c=Zr(Object(r.useState)({}),2),u=c[0],s=c[1],d=Zr(Object(r.useState)(!0),2),p=d[0],m=d[1],h=Zr(Object(r.useState)(0),2),g=h[0],b=h[1],v=Ao(),y=Object(E.getSession)(t),w=Object(i.getEnv)(y).pluginManager;function O(e){l(e),s(e.configSchema.create({connectionId:"".concat(e.name,"-").concat(Date.now())},Object(i.getEnv)(t)))}function C(){var e;g===Lo.length-1?(e=y.addConnectionConf(u),y.makeConnection(e),y.hideWidget(t)):b(g+1)}function k(){b(g-1)}return a.a.createElement("div",{className:v.root},a.a.createElement(En.a,{className:v.stepper,activeStep:g,orientation:"vertical"},Lo.map((function(e){return a.a.createElement(kn.a,{key:e},a.a.createElement(xn.a,null,e),a.a.createElement(Sn.a,null,function(){switch(g){case 0:return a.a.createElement(Io,{connectionTypeChoices:w.getElementTypesInGroup("connection"),connectionType:o,setConnectionType:O});case 1:return a.a.createElement(Mo,{connectionType:o,model:u,setModelReady:m});default:return a.a.createElement(f.a,null,"Unknown step")}}(),a.a.createElement("div",{className:v.actionsContainer},a.a.createElement(cn.a,{disabled:0===g,onClick:k,className:v.button},"Back"),a.a.createElement(cn.a,{disabled:!(0===g&&o.name||1===g&&u&&p),variant:"contained",color:"primary",onClick:C,className:v.button,"data-testid":"addConnectionNext"},g===Lo.length-1?"Connect":"Next"))))}))))}Fo.propTypes={model:o.PropTypes.observableObject.isRequired};var No={__proto__:null,default:Object(o.observer)(Fo)};function Do(e){var t=e.modalInfo,n=void 0===t?{}:t,r=e.setModalInfo,o=n.name,i=n.dereferenceTypeCount,l=n.safelyBreakConnection;return a.a.createElement(p.a,{open:!0},a.a.createElement(an.a,null,'Close connection "',o,'"'),a.a.createElement(on.a,null,i?a.a.createElement(a.a.Fragment,null,a.a.createElement(dn.a,null,"Closing this connection will close:"),a.a.createElement(X.a,null,Object.entries(i).map((function(e){var t=Zr(e,2),n=t[0],r=t[1];return a.a.createElement(Z.a,{key:n},"".concat(r," ").concat(n))})))):null,a.a.createElement(dn.a,null,"Are you sure you want to close this connection?")),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){r()},color:"primary"},"Cancel"),a.a.createElement(cn.a,{variant:"contained",onClick:n?function(){l&&l(),r()}:function(){},color:"primary"},"OK")))}var _o={__proto__:null,default:Object(o.observer)(Do)};function zo(e){var t=e.deleteDialogDetails,n=e.session,r=e.handleClose,o=t.connectionConf,i=t.name;return a.a.createElement(p.a,{open:!0},a.a.createElement(an.a,null,'Delete connection "',i,'"'),a.a.createElement(on.a,null,a.a.createElement(dn.a,null,"Are you sure you want to delete this connection?")),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){return r()},color:"primary"},"Cancel"),a.a.createElement(cn.a,{variant:"contained",color:"primary",onClick:function(){var e;o&&(null===(e=n.deleteConnection)||void 0===e||e.call(n,o));r()}},"OK")))}var Bo={__proto__:null,default:Object(o.observer)(zo)},Ho=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},connectionContainer:{margin:e.spacing(4),width:500}}}));function Wo(e){var t=e.session,n=e.handleClose,r=e.breakConnection,o=Ho(),i=t.adminMode,c=t.connections,u=t.sessionConnections;return a.a.createElement(p.a,{open:!0,onClose:n,maxWidth:"lg"},a.a.createElement(an.a,null,"Delete connections",a.a.createElement(h.a,{className:o.closeButton,onClick:function(){return n()}},a.a.createElement(In.a,null))),a.a.createElement(on.a,null,a.a.createElement(f.a,null,"Click the X icon to delete the connection from your config completely"),a.a.createElement("div",{className:o.connectionContainer},c.map((function(e){var t=Object(l.readConfObject)(e,"name");return a.a.createElement("div",{key:"conn-".concat(t)},a.a.createElement(f.a,null,i||null!=u&&u.includes(e)?a.a.createElement(h.a,{onClick:function(){return r(e,!0)}},a.a.createElement(In.a,{color:"error"})):a.a.createElement(K.a,{title:"Unable to delete connection in config file as non-admin user"},a.a.createElement(h.a,null,a.a.createElement(In.a,{color:"disabled"}))),t))})),c.length?null:a.a.createElement(f.a,null,"No connections found"))),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){return n()},variant:"contained",color:"primary"},"Close")))}var Vo={__proto__:null,default:Object(o.observer)(Wo)},Go=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},connectionContainer:{width:500,margin:e.spacing(4)}}}));function Uo(e){var t=e.session,n=e.handleClose,r=e.assemblyName,o=e.breakConnection,i=Go(),c=t.connections,u=t.connectionInstances,s=c.filter((function(e){var t=Object(l.readConfObject)(e,"assemblyNames");return 0===t.length||t.includes(r)}));return a.a.createElement(p.a,{open:!0,onClose:n,maxWidth:"lg"},a.a.createElement(an.a,null,"Turn on/off connections",a.a.createElement(h.a,{className:i.closeButton,onClick:function(){return n()}},a.a.createElement(In.a,null))),a.a.createElement(on.a,null,a.a.createElement(f.a,null,"Use the checkbox to turn on/off connections"),a.a.createElement("div",{className:i.connectionContainer},s.map((function(e){var n=Object(l.readConfObject)(e,"name");return a.a.createElement("div",{key:e.connectionId},a.a.createElement(re.a,{control:a.a.createElement(ae.a,{checked:!(null==u||!u.find((function(e){return n===e.name}))),onChange:function(){var n;null!=u&&u.find((function(t){return t.name===Object(l.readConfObject)(e,"name")}))?o(e):null===(n=t.makeConnection)||void 0===n||n.call(t,e)},color:"primary"}),label:n}))})),s.length?null:a.a.createElement(f.a,null,"No connections found for ",r))),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){return n()},variant:"contained",color:"primary"},"Close")))}var qo={__proto__:null,default:Object(o.observer)(Uo)},$o=Va,Ko=n(46),Jo=n(256),Yo=n.n(Jo),Xo=n(810),Zo=n.n(Xo),Qo=n(340),ei=n.n(Qo),ti=n(589),ni=n(367),ri=n(316),ai=n.n(ri),oi=n(317),ii=n.n(oi),li=n(811),ci=n.n(li),ui=n(812),si=n.n(ui),di=n(813),fi=n.n(di),pi=n(814),mi=n.n(pi),hi=n(470),gi=n(461),bi=n.n(gi),vi=n(462),yi=n.n(vi);function wi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ei(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ci(o,r,a,i,l,"next",e)}function l(e){Ci(o,r,a,i,l,"throw",e)}i(void 0)}))}}function ki(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Si(e,t,n){return t&&xi(e.prototype,t),n&&xi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ji(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ti(e,t){return(Ti=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ri(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mi(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ii(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pi(e);if(t){var a=Pi(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Mi(this,n)}}function Ai(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Fi(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Li(e){return function(e){if(Array.isArray(e))return Ni(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Fi(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fi(e,t){if(e){if("string"==typeof e)return Ni(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ni(e,t):void 0}}function Ni(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Di(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fi(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function _i(e,t){return e(t={exports:{}},t.exports),t.exports}var zi=_i((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function Bi(e,t,n,r,a){var o=Math.abs(e-n);if(!(o>r)){o===r&&a.push([t,e]);var i=Math.sqrt(r*r-o*o);a.push([t-i,e]),a.push([t+i,e])}}function Hi(e,t,n,r,a){var o=Math.abs(e-t);if(!(o>r)){o===r&&a.push([e,n]);var i=Math.sqrt(r*r-o*o);a.push([e,n-i]),a.push([e,n+i])}}function Wi(e,t){var n=Math.sqrt(e*e+t*t);return 0===n?[0,0]:[n,function(e,t){var n=(Math.atan(t/e)+2*Math.PI)%(2*Math.PI);return e<0&&(t<=0?n+=Math.PI:n-=Math.PI),n}(e,t)]}var Vi=2*Math.PI;var Gi=function(){function e(t,n,r,a){ki(this,e),this.region=n,this.radianWidth=a;var o=t.bpPerRadian;this.key=Object(E.assembleLocString)(n),this.offsetRadians=r,this.bpPerRadian=o,this.flipped=!1,this.startRadians=this.offsetRadians,this.endRadians=n.widthBp/this.bpPerRadian+this.offsetRadians,Object.freeze(this)}return Si(e,[{key:"bpToXY",value:function(e,t){var n=(this.region.elided?this.region.widthBp/2:this.flipped?this.region.end-e:e-this.region.start)/this.bpPerRadian+this.offsetRadians;return Object(E.polarToCartesian)(t,n)}},{key:"toJSON",value:function(){return Object(E.objectFromEntries)(Object.entries(this))}}]),e}();function Ui(e,t){var n,r,a,o,i=Ai(e.visibleSection.theta,2),l=i[0],c=i[1];return n=t.offsetRadians+e.offsetRadians,r=t.radianWidth,a=l,o=c-l,!(r<=0||o<=0)&&(r+1e-4>=Vi||o+1e-4>=Vi||(n=(n%Vi+Vi)%Vi+Vi)<(a=(a%Vi+Vi)%Vi+Vi)+o&&n+r>a||n<(a-=Vi)+o&&n+r>a||n<(a+=Vi+Vi)+o&&n+r>a)}function qi(e){return i.types.compose(nn.BaseViewModel,i.types.model("CircularView",{type:i.types.literal("CircularView"),offsetRadians:-Math.PI/2,bpPerPx:2e6,tracks:i.types.array(e.pluggableMstType("track","stateModel")),hideVerticalResizeHandle:!1,hideTrackSelectorButton:!1,lockedFitToWindow:!0,disableImportForm:!1,height:i.types.optional(i.types.refinement("trackHeight",i.types.number,(function(e){return e>=40})),400),minimumRadiusPx:25,spacingPx:10,paddingPx:80,lockedPaddingPx:100,minVisibleWidth:6,minimumBlockWidth:20,displayedRegions:i.types.array(_.Region),scrollX:0,scrollY:0,trackSelectorType:"hierarchical"}).volatile((function(){return{width:0}})).views((function(e){return{get staticSlices(){return function(e){var t,n=[],r=0,a=Di(e.elidedRegions);try{for(a.s();!(t=a.n()).done;){var o=t.value,i=o.widthBp/e.bpPerRadian+e.spacingPx/e.pxPerRadian;n.push(new Gi(e,o,r,i)),r+=i}}catch(e){a.e(e)}finally{a.f()}return n}(e)},get visibleStaticSlices(){return this.staticSlices.filter(Ui.bind(this,e))},get visibleSection(){return function(e,t,n){var r=Ai(e,4),a=r[0],o=r[1],i=r[2],l=r[3],c=Ai(t,2),u=c[0],s=c[1];if(o-=u,i-=s,l-=s,(a-=u)<0&&o>0&&i<0&&l>0){for(var d=[[a,i],[o,i],[a,l],[o,l]],f=-1/0,p=0;p<d.length;p+=1){var m=Ai(d[p],2),h=m[0],g=m[1],b=Math.sqrt(h*h+g*g);b>f&&(f=b)}return{rho:[0,Math.min(n,f)],theta:[0,2*Math.PI]}}var v=[[a,i],[o,i],[a,l],[o,l]];Hi(a,0,0,n,v),Hi(o,0,0,n,v),Bi(i,0,0,n,v),Bi(l,0,0,n,v),-a<n&&v.push([a,0]),o<n&&v.push([o,0]),-i<n&&v.push([0,i]),l<n&&v.push([0,l]);for(var y=a>=0?-1:1,w=1/0,O=-1/0,C=1/0,E=-1/0,k=0;k<v.length;k+=1){var x=Ai(v[k],2),S=x[0],j=x[1];if(S>=a&&S<=o&&j>=i&&j<=l){var P=Ai(Wi(S*y,j*y),2),T=P[0],R=P[1];T<=n+.001&&(R<C&&T>1e-4&&(C=R),R>E&&T>1e-4&&(E=R),T<w&&(w=T),T>O&&(O=T))}}return-1===y&&(C+=Math.PI,E+=Math.PI),C>2*Math.PI&&E>2*Math.PI&&(C-=2*Math.PI,E-=2*Math.PI),{rho:[w,Math.min(n,O)],theta:[C,E]}}([e.scrollX,e.scrollX+e.width,e.scrollY,e.scrollY+e.height],this.centerXY,this.radiusPx)},get circumferencePx(){var t,n=0,r=Di(this.elidedRegions);try{for(r.s();!(t=r.n()).done;){n+=t.value.widthBp}}catch(e){r.e(e)}finally{r.f()}return n/e.bpPerPx+e.spacingPx*this.elidedRegions.length},get radiusPx(){return this.circumferencePx/(2*Math.PI)},get bpPerRadian(){return e.bpPerPx*this.radiusPx},get pxPerRadian(){return this.radiusPx},get centerXY(){return[this.radiusPx+e.paddingPx,this.radiusPx+e.paddingPx]},get totalBp(){var t,n=0,r=Di(e.displayedRegions);try{for(r.s();!(t=r.n()).done;){var a=t.value;n+=a.end-a.start}}catch(e){r.e(e)}finally{r.f()}return n},get maximumRadiusPx(){return e.lockedFitToWindow?Math.min(e.width,e.height)/2-e.lockedPaddingPx:1e6},get maxBpPerPx(){var t=2*Math.PI*e.minimumRadiusPx;return this.totalBp/t},get minBpPerPx(){var e=2*Math.PI*this.maximumRadiusPx;return Object(E.clamp)(this.totalBp/e,1e-10,this.maxBpPerPx)},get atMaxBpPerPx(){return e.bpPerPx>=this.maxBpPerPx},get atMinBpPerPx(){return e.bpPerPx<=this.minBpPerPx},get tooSmallToLock(){return this.minBpPerPx<=1e-10},get figureDimensions(){return[2*this.radiusPx+2*e.paddingPx,2*this.radiusPx+2*e.paddingPx]},get figureWidth(){return this.figureDimensions[0]},get figureHeight(){return this.figureDimensions[1]},get elidedRegions(){var t=[];e.displayedRegions.forEach((function(n){var r=n.end-n.start;if(r/e.bpPerPx<e.minVisibleWidth){var a=t[t.length-1];a&&a.elided?(a.regions.push(Oi({},n)),a.widthBp+=r):t.push({elided:!0,widthBp:r,regions:[Oi({},n)]})}else t.push(Oi(Oi({},n),{},{widthBp:r}))}));for(var n=0;n<t.length;n+=1){var r=t[n];r.elided&&1===r.regions.length&&(delete r.elided,t[n]=Oi(Oi({},r),r.regions[0]))}return t},get assemblyNames(){var t=[];return e.displayedRegions.forEach((function(e){t.includes(e.assemblyName)||t.push(e.assemblyName)})),t},get initialized(){var t=Object(E.getSession)(e).assemblyManager;return this.assemblyNames.every((function(e){var n;return null===(n=t.get(e))||void 0===n?void 0:n.initialized}))}}})).volatile((function(){return{error:void 0}})).actions((function(t){return{setWidth:function(e){return t.width=Math.max(e,100),t.width},setHeight:function(e){return t.height=Math.max(e,40),t.height},resizeHeight:function(e){var n=t.height,r=this.setHeight(t.height+e);return this.setModelViewWhenAdjust(!t.tooSmallToLock),r-n},resizeWidth:function(e){var n=t.width,r=this.setWidth(t.width+e);return this.setModelViewWhenAdjust(!t.tooSmallToLock),r-n},rotateClockwiseButton:function(){this.rotateClockwise(Math.PI/6)},rotateCounterClockwiseButton:function(){this.rotateCounterClockwise(Math.PI/6)},rotateClockwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.17;t.offsetRadians+=e},rotateCounterClockwise:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.17;t.offsetRadians-=e},zoomInButton:function(){this.setBpPerPx(t.bpPerPx/1.4)},zoomOutButton:function(){this.setBpPerPx(1.4*t.bpPerPx)},setBpPerPx:function(e){t.bpPerPx=Object(E.clamp)(e,t.minBpPerPx,t.maxBpPerPx)},setModelViewWhenAdjust:function(e){t.lockedFitToWindow&&e&&this.setBpPerPx(t.minBpPerPx)},closeView:function(){Object(i.getParent)(t,2).removeView(t)},setDisplayedRegions:function(e){var n=0===t.displayedRegions.length;t.displayedRegions=Object(i.cast)(e),n?this.setBpPerPx(t.minBpPerPx):this.setBpPerPx(t.bpPerPx)},activateTrackSelector:function(){if("hierarchical"===t.trackSelectorType){var e=Object(E.getSession)(t);if(Object(E.isSessionModelWithWidgets)(e)){var n=e.addWidget("HierarchicalTrackSelectorWidget","hierarchicalTrackSelector",{view:t});return e.showWidget(n),n}}throw new Error("invalid track selector type ".concat(t.trackSelectorType))},toggleTrack:function(e){this.hideTrack(e)||this.showTrack(e)},setError:function(e){console.error(e),t.error=e},showTrack:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e.pluggableConfigSchemaType("track"),o=Object(i.resolveIdentifier)(a,Object(i.getRoot)(t),n),l=e.getTrackType(o.type);if(!l)throw new Error("unknown track type ".concat(o.type));var c=e.getViewType(t.type),u=c.displayTypes.map((function(e){return e.name})),s=o.displays.find((function(e){return u.includes(e.type)})),d=l.stateModel.create(Oi(Oi({},r),{},{type:o.type,configuration:o,displays:[{type:s.type,configuration:s}]}));t.tracks.push(d)},addTrackConf:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.type,o=Object(l.readConfObject)(n,"name"),i=e.getTrackType(a);if(!i)throw new Error("unknown track type ".concat(n.type));var c=e.getViewType(t.type),u=c.displayTypes.map((function(e){return e.name})),s=n.displays.find((function(e){return u.includes(e.type)})),d=i.stateModel.create(Oi(Oi({},r),{},{name:o,type:a,configuration:n,displays:[{type:s.type,configuration:s}]}));t.tracks.push(d)},hideTrack:function(n){var r=e.pluggableConfigSchemaType("track"),a=Object(i.resolveIdentifier)(r,Object(i.getRoot)(t),n),o=t.tracks.filter((function(e){return e.configuration===a}));return Object(Ko.transaction)((function(){return o.forEach((function(e){return t.tracks.remove(e)}))})),o.length},toggleFitToWindowLock:function(){return t.lockedFitToWindow=!t.lockedFitToWindow,this.setModelViewWhenAdjust(t.atMinBpPerPx),t.lockedFitToWindow}}})))}var $i=function(e){var t=e.lib,n=t.react,r=n.useState,a=n.useEffect,o=t["@material-ui/core/styles"].makeStyles,i=t["mobx-react"].observer,l=o((function(e){return{path:{strokeDasharray:187,strokeDashoffset:50,animation:"$dash ".concat(1.4,"s ease-in-out infinite, $colors ").concat(5.6,"s ease-in-out infinite")},"@keyframes colors":{"0%":{stroke:e.palette.primary.light},"25%":{stroke:e.palette.secondary.light},"50%":{stroke:e.palette.tertiary.light},"75%":{stroke:e.palette.quaternary.light},"100%":{stroke:e.palette.primary.light}},"@keyframes dash":{"0%":{strokeDashoffset:2},"50%":{strokeDashoffset:.5,transform:"rotate(135deg)"},"100%":{strokeDashoffset:2,transform:"rotate(720deg)"}}}}));return i((function(e){var t=e.model.renderProps.radius,o=l(),i=Ai(r(!1),2),c=i[0],u=i[1];return a((function(){var e=setTimeout((function(){return u(!0)}),400);return function(){return clearTimeout(e)}})),c?n.createElement("g",null,n.createElement("defs",null,n.createElement("pattern",{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},n.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:"rgba(255,255,255,0.5)",strokeWidth:10}}))),n.createElement("circle",{cx:"0",cy:"0",r:t,fill:"#f1f1f1"}),n.createElement("circle",{cx:"0",cy:"0",r:t,fill:"url(#diagonalHatch)"}),n.createElement("text",{x:"0",y:"0",transform:"rotate(90 0 0)",dominantBaseline:"middle",textAnchor:"middle"},"Loading…"),n.createElement("circle",{className:o.path,fill:"none",strokeWidth:"4",strokeLinecap:"round",cx:"0",cy:"0",r:"60"})):null}))},Ki=function(e){var t=e.jbrequire,n=t("react"),r=t("@material-ui/core/styles").makeStyles,a=t("mobx-react").observer,o=r({errorMessage:{},errorBackground:{},errorText:{}});return a((function(e){var t=e.model,r=t.renderProps.radius,a=t.error,i=o();return n.createElement("g",{className:i.errorMessage},n.createElement("defs",null,n.createElement("pattern",{id:"diagonalHatch",width:"10",height:"10",patternTransform:"rotate(45 0 0)",patternUnits:"userSpaceOnUse"},n.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"10",style:{stroke:"rgba(255,0,0,0.5)",strokeWidth:10}}))),n.createElement("circle",{className:i.errorBackground,cx:"0",cy:"0",r:r,fill:"#ffb4b4"}),n.createElement("circle",{className:i.errorPattern,cx:"0",cy:"0",r:r,fill:"url(#diagonalHatch)"}),n.createElement("text",{className:i.errorText,x:"0",y:"0",transform:"rotate(90 0 0)",dominantBaseline:"middle",textAnchor:"middle"},String(a)))}))},Ji=function(e){var t=e.jbrequire,n=t("react"),r=t("mobx-state-tree").isAlive,a=n.useEffect,o=n.useRef,i=t("mobx-react"),l=i.observer,c=i.PropTypes,u=t("react-dom"),s=u.unmountComponentAtNode,d=u.hydrate,f=t("@jbrowse/core/util").rIC;function p(e){var t=e.model,i=t.data,l=t.html,c=t.filled,u=t.renderingComponent,p=o(null);return a((function(){var e=p.current;return e&&c&&(e&&e.innerHTML&&(e.style.display="none",s(e)),e.style.outline="none",e.innerHTML=l,f((function(){if(r(t)){var a=n.createElement(u,Oi(Oi({},i),t.renderProps()),null);f((function(){r(t)&&d(a,e)}))}}))),function(){e&&s(e)}})),n.createElement("g",{ref:p})}return p.propTypes={model:c.observableObject.isRequired},l(p)},Yi=function(e){var t=e.lib,n=e.load,r=t.react,a=t["mobx-react"],o=a.observer,i=a.PropTypes,l=n($i),c=n(Ki),u=n(Ji);function s(e){var t=e.display;return t.error?r.createElement(c,{model:t}):t.filled?r.createElement(u,{model:t}):r.createElement(l,{model:t})}return s.propTypes={display:i.observableObject.isRequired},o(s)},Xi=["html"],Zi=function(e){var t=e.jbrequire,n=t("@jbrowse/core/util/tracks").getRpcSessionId,r=t("@jbrowse/core/util").getContainingView,a=t("@jbrowse/core/util").getSession;function o(){return(o=Ei(zi.mark((function e(t,n,r){var a,o,i,l,c,u,s,d;return zi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new Error("cannot render with no props");case 2:if(a=t.rendererType,o=t.rpcManager,i=t.cannotBeRenderedReason,l=t.renderArgs,c=t.renderProps,!i){e.next=5;break}return e.abrupt("return",{message:i});case 5:if(t.renderProps.radius&&t.renderArgs.regions&&t.renderArgs.regions.length){e.next=7;break}return e.abrupt("return",{message:"Skipping render"});case 7:if(r.isCompatibleWithRenderer(a)){e.next=9;break}throw new Error("renderer ".concat(a.name," is not compatible with this display type"));case 9:return e.next=11,a.renderInClient(o,Oi(Oi(Oi({},l),c),{},{signal:n}));case 11:return u=e.sent,s=u.html,d=Ri(u,Xi),e.abrupt("return",{html:s,data:d,renderingComponent:a.ReactComponent});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return{renderReactionData:function(e){var t,o=r(e),i=e.rendererType;return{rendererType:i,rpcManager:a(o).rpcManager,renderProps:e.renderProps(),renderArgs:{assemblyName:null===(t=o.displayedRegions[0])||void 0===t?void 0:t.assemblyName,adapterConfig:JSON.parse(JSON.stringify(e.adapterConfig)),rendererType:i.name,regions:JSON.parse(JSON.stringify(o.displayedRegions)),blockDefinitions:e.blockDefinitions,sessionId:n(e),timeout:1e6}}},renderReactionEffect:function(e,t,n){return o.apply(this,arguments)}}},Qi=i.types.compose("BaseChordDisplay",nn.BaseDisplay,i.types.model({bezierRadiusRatio:.1,assemblyName:i.types.maybe(i.types.string)})).volatile((function(){return{filled:!1,reactElement:void 0,data:void 0,message:"",renderingComponent:void 0,refNameMap:void 0}})).actions((function(e){var t=Object(i.getEnv)(e).pluginManager,n=e;return{onChordClick:function(r){Object(l.getConf)(e,"onChordClick",{feature:r,track:n,pluginManager:t})}}})).views((function(e){return{get blockDefinitions(){var t=Object(E.getContainingView)(e).staticSlices;if(!e.refNameMap)return t;var n=JSON.parse(JSON.stringify(t));return n.forEach((function(t){(t.region.elided?t.region.regions:[t.region]).forEach((function(t){var n,r=null===(n=e.refNameMap)||void 0===n?void 0:n[t.refName];r&&t.refName!==r&&(t.refName=r)}))})),n},renderProps:function(){var t=Object(E.getContainingView)(e);return Oi(Oi({},Object(rn.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,bezierRadius:t.radiusPx*e.bezierRadiusRatio,radius:t.radiusPx,blockDefinitions:this.blockDefinitions,onChordClick:e.onChordClick})},get rendererType(){var t=e,n=Object(i.getEnv)(e).pluginManager.getRendererType(e.rendererTypeName);if(!n)throw new Error('renderer "'.concat(t.rendererTypeName,'" not found'));if(!n.ReactComponent)throw new Error("renderer ".concat(t.rendererTypeName," has no ReactComponent, it may not be completely implemented yet"));return n},isCompatibleWithRenderer:function(e){return!!(e instanceof ei.a)},get selectedFeatureId(){if(Object(i.isAlive)(e)){var t=Object(E.getSession)(e);if(t){var n=t.selection;return Object(B.isFeature)(n)?n.id():void 0}}}}})).actions((function(e){return{renderStarted:function(){e.filled=!1,e.message="",e.reactElement=void 0,e.data=void 0,e.error=void 0,e.renderingComponent=void 0},renderSuccess:function(t){var n=t.message,r=t.data,a=t.reactElement,o=t.renderingComponent;n?(e.filled=!1,e.message=n,e.reactElement=void 0,e.data=void 0,e.error=void 0,e.renderingComponent=void 0):(e.filled=!0,e.message="",e.reactElement=a,e.data=r,e.error=void 0,e.renderingComponent=o)},renderError:function(t){console.error(t),e.filled=!1,e.message="",e.reactElement=void 0,e.data=void 0,e.error=t,e.renderingComponent=void 0},setRefNameMap:function(t){e.refNameMap=t}}})).actions((function(e){var t=Object(i.getEnv)(e).pluginManager.jbrequire(Zi),n=t.renderReactionData,r=t.renderReactionEffect;return{afterAttach:function(){Object(E.makeAbortableReaction)(e,n,r,{name:"".concat(e.type," ").concat(e.id," rendering"),fireImmediately:!0},e.renderStarted,e.renderSuccess,e.renderError),Object(E.makeAbortableReaction)(e,(function(){return{assemblyNames:Object(rn.getTrackAssemblyNames)(e.parentTrack),adapter:Object(l.getConf)(Object(i.getParent)(e,2),"adapter"),assemblyManager:Object(E.getSession)(e).assemblyManager}}),function(){var t=Ei(zi.mark((function t(n,r){var a,o,i;return zi.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.assemblyNames,o=n.adapter,i=n.assemblyManager,t.abrupt("return",i.getRefNameMapForAdapter(o,a[0],{signal:r,sessionId:Object(rn.getRpcSessionId)(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),{name:"".concat(e.type," ").concat(e.id," getting refNames"),fireImmediately:!0},(function(){}),(function(t){e.setRefNameMap(t)}),(function(t){console.error(t),e.setError(t)}))}}})),el=Object(l.ConfigurationSchema)("BaseChordDisplay",{onChordClick:{type:"boolean",description:"callback that should be run when a chord in the track is clicked",defaultValue:!1,contextVariable:["feature","track","pluginManager"]}},{explicitIdentifier:"displayId"}),tl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ti(e,t)}(n,e);var t=Ii(n);function n(){var e;return ki(this,n),(e=t.apply(this,arguments)).name="CircularViewPlugin",e}return Si(n,[{key:"install",value:function(e){e.addViewType((function(){return new Yo.a({ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return pl}))})),stateModel:qi(e),name:"CircularView"})})),e.addToExtensionPoint("LaunchView-CircularView",function(){var e=Ei(zi.mark((function e(t){var n,r,a,o,i,l,c;return zi.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.session,r=t.assembly,a=t.tracks,o=void 0===a?[]:a,i=n.assemblyManager,l=n.addView("CircularView",{}),e.next=5,Object(Ko.when)((function(){return l.initialized}));case 5:if(r){e.next=7;break}throw new Error("No assembly provided when launching circular genome view");case 7:return e.next=9,i.waitForAssembly(r);case 9:if(c=e.sent){e.next=12;break}throw new Error('Assembly "'.concat(r,'" not found when launching circular genome view'));case 12:l.setDisplayedRegions(c.regions||[]),o.forEach((function(e){return l.showTrack(e)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"configure",value:function(e){Object(E.isAbstractMenuManager)(e.rootModel)&&e.rootModel.appendToSubMenu(["Add"],{label:"Circular view",icon:Zo.a,onClick:function(e){e.addView("CircularView",{})}})}}]),n}(D.a),nl=Object(u.a)({rulerLabel:{fontSize:"0.8rem",fontWeight:500,lineHeight:1.6,letterSpacing:"0.0075em"}});function rl(e,t,n,r){if(e.flipped){var a=[r,n];n=a[0],r=a[1]}var o=e.bpToXY(n,t),i=e.bpToXY(r,t),l=Math.abs(r-n)/e.bpPerRadian>Math.PI?"1":"0";return["M"].concat(Li(o),["A",t,t,"0",l,"1"],Li(i)).join(" ")}var al=Object(o.observer)((function(e){var t=e.model,n=e.slice,r=Object(g.a)(),o=t.radiusPx+1,i=n.endRadians,l=n.startRadians,c=n.region,u=Object(E.polarToCartesian)(o,l),s=Object(E.polarToCartesian)(o,i),d=(i-l)*o,f=i-l>Math.PI?"1":"0",p=(i+l)/2,m="[".concat(Number(c.regions.length).toLocaleString(),"]");return a.a.createElement(a.a.Fragment,null,a.a.createElement(ol,{text:m,view:t,maxWidthPx:d,radians:p,radiusPx:o,title:"".concat(Number(c.regions.length).toLocaleString()," more regions"),color:r.palette.text.primary}),a.a.createElement("path",{d:["M"].concat(Li(u),["A",o,o,"0",f,"1"],Li(s)).join(" "),stroke:r.palette.text.secondary,strokeWidth:2,strokeDasharray:"2,2",fill:"none"}))})),ol=Object(o.observer)((function(e){var t=e.view,n=e.text,r=e.maxWidthPx,o=e.radians,i=e.radiusPx,l=e.title,c=e.color,u=nl(),s=Object(E.polarToCartesian)(i+5,o);return n?6.5*n.length<r?a.a.createElement("text",{x:0,y:0,className:u.rulerLabel,textAnchor:"middle",dominantBaseline:"baseline",transform:"translate(".concat(s,") rotate(").concat(Object(E.radToDeg)(o)+90,")"),style:{fill:c}},n,a.a.createElement("title",null,l||n)):r>4?Object(E.radToDeg)(o+t.offsetRadians-Math.PI/2)>=180?a.a.createElement("text",{x:0,y:0,className:u.rulerLabel,textAnchor:"start",dominantBaseline:"middle",transform:"translate(".concat(s,") rotate(").concat(Object(E.radToDeg)(o),")"),style:{fill:c}},n,a.a.createElement("title",null,l||n)):a.a.createElement("text",{x:0,y:0,className:u.rulerLabel,textAnchor:"end",dominantBaseline:"middle",transform:"translate(".concat(s,") rotate(").concat(Object(E.radToDeg)(o)+180,")"),style:{fill:c}},n,a.a.createElement("title",null,l||n)):null:null})),il=Object(o.observer)((function(e){var t,n=e.model,r=e.slice,o=Object(g.a)(),i=n.radiusPx,l=r.region,c=r.endRadians,u=r.startRadians,s=(c+u)/2,d=(c-u)*i,f=Object(E.getSession)(n).assemblyManager.get(r.region.assemblyName);if(f&&(t=f.getRefNameColor(l.refName)),t)try{t=Object(hi.makeContrasting)(t,o.palette.background.paper)}catch(e){t=o.palette.text.primary}else t=o.palette.text.primary;return a.a.createElement(a.a.Fragment,null,a.a.createElement(ol,{text:l.refName,view:n,maxWidthPx:d,radians:s,radiusPx:i,color:t}),a.a.createElement("path",{d:rl(r,i+1,l.start,l.end),stroke:t,strokeWidth:2,fill:"none"},a.a.createElement("title",null,l.refName)))})),ll=Object(o.observer)((function(e){var t=e.model,n=e.slice;return n.region.elided?a.a.createElement(al,{key:Object(E.assembleLocString)(n.region.regions[0]),model:t,slice:n}):a.a.createElement(il,{key:Object(E.assembleLocString)(n.region),model:t,slice:n})})),cl=Object(u.a)((function(e){return{importFormContainer:{marginBottom:e.spacing(4)}}})),ul=Object(o.observer)((function(e){var t=e.model,n=cl(),o=Object(E.getSession)(t),i=t.error,l=o.assemblyNames,c=o.assemblyManager,u=Ai(Object(r.useState)(l[0]),2),s=u[0],d=u[1],f=Ai(Object(r.useState)(i),2),p=f[0],m=f[1],h=c.get(s),g=l.length?null==h?void 0:h.error:"No configured assemblies",b=(null==h?void 0:h.regions)||[],v=g||p;return a.a.createElement(ti.a,{className:n.importFormContainer},v?a.a.createElement(yn.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.a.createElement(yn.a,{item:!0},a.a.createElement(bi.a,{error:v}))):null,a.a.createElement(yn.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.a.createElement(yn.a,{item:!0},a.a.createElement(yi.a,{onChange:function(e){m(void 0),d(e)},session:o,selected:s})),a.a.createElement(yn.a,{item:!0},a.a.createElement(cn.a,{disabled:!(null!=b&&b.length),onClick:function(){return t.setDisplayedRegions(b)},variant:"contained",color:"primary"},b.length?"Open":"Loading…"))))})),sl=Object(u.a)((function(e){return{root:{position:"relative",marginBottom:e.spacing(1),overflow:"hidden",background:"white"},scroller:{overflow:"auto"},sliceRoot:{background:"none",boxSizing:"content-box",display:"block"},iconButton:{padding:"4px",margin:"0 2px 0 2px"},controls:{overflow:"hidden",whiteSpace:"nowrap",position:"absolute",background:ni.a[200],boxSizing:"border-box",borderRight:"1px solid #a2a2a2",borderBottom:"1px solid #a2a2a2",left:0,top:0},importFormContainer:{marginBottom:e.spacing(4)}}})),dl=Object(o.observer)((function(e){var t=e.model;return a.a.createElement(a.a.Fragment,null,t.staticSlices.map((function(e){return a.a.createElement(ll,{key:Object(E.assembleLocString)(e.region.elided?e.region.regions[0]:e.region),model:t,slice:e})})),t.tracks.map((function(e){var n=e.displays[0];return a.a.createElement(n.RenderingComponent,{key:n.id,display:n,view:t})})))})),fl=Object(o.observer)((function(e){var t=e.model,n=e.showingFigure,r=sl();return a.a.createElement("div",{className:r.controls},a.a.createElement(h.a,{onClick:t.zoomOutButton,className:r.iconButton,title:t.lockedFitToWindow?"unlock to zoom out":"zoom out",disabled:!n||t.atMaxBpPerPx||t.lockedFitToWindow,color:"secondary"},a.a.createElement(ai.a,null)),a.a.createElement(h.a,{onClick:t.zoomInButton,className:r.iconButton,title:"zoom in",disabled:!n||t.atMinBpPerPx,color:"secondary"},a.a.createElement(ii.a,null)),a.a.createElement(h.a,{onClick:t.rotateCounterClockwiseButton,className:r.iconButton,title:"rotate counter-clockwise",disabled:!n,color:"secondary"},a.a.createElement(ci.a,null)),a.a.createElement(h.a,{onClick:t.rotateClockwiseButton,className:r.iconButton,title:"rotate clockwise",disabled:!n,color:"secondary"},a.a.createElement(si.a,null)),a.a.createElement(h.a,{onClick:t.toggleFitToWindowLock,className:r.iconButton,title:t.lockedFitToWindow?"locked model to window size":"unlocked model to zoom further",disabled:t.tooSmallToLock,color:"secondary"},t.lockedFitToWindow?a.a.createElement(fi.a,null):a.a.createElement(mi.a,null)),t.hideTrackSelectorButton?null:a.a.createElement(h.a,{onClick:t.activateTrackSelector,title:"Open track selector","data-testid":"circular_track_select",color:"secondary"},a.a.createElement(Qn.TrackSelector,null)))})),pl={__proto__:null,default:Object(o.observer)((function(e){var t=e.model,n=sl(),r=!!t.displayedRegions.length&&t.figureWidth&&t.figureHeight,o=!r&&!t.disableImportForm,i=r&&!o;return a.a.createElement("div",{className:n.root,style:{width:t.width,height:t.height},"data-testid":t.id},t.error?a.a.createElement(c.ErrorMessage,{error:t.error}):a.a.createElement(a.a.Fragment,null,o?a.a.createElement(ul,{model:t}):null,a.a.createElement(a.a.Fragment,null,i?a.a.createElement("div",{className:n.scroller,style:{width:t.width,height:t.height}},a.a.createElement("div",{className:n.rotator,style:{transform:["rotate(".concat(t.offsetRadians,"rad)")].join(" "),transition:"transform 0.5s",transformOrigin:t.centerXY.map((function(e){return"".concat(e,"px")})).join(" ")}},a.a.createElement("svg",{style:{position:"absolute",left:0,top:0},className:n.sliceRoot,width:"".concat(t.figureWidth,"px"),height:"".concat(t.figureHeight,"px"),version:"1.1"},a.a.createElement("g",{transform:"translate(".concat(t.centerXY,")")},a.a.createElement(dl,{model:t}))))):null,a.a.createElement(fl,{model:t,showingFigure:i}),t.hideVerticalResizeHandle?null:a.a.createElement(c.ResizeHandle,{onDrag:t.resizeHeight,style:{height:3,position:"absolute",bottom:0,left:0,background:"#ccc",boxSizing:"border-box",borderTop:"1px solid #fafafa"}}))))}))},ml=tl,hl=n(188),gl=n.n(hl),bl=n(156),vl=n.n(bl),yl=n(186),wl=n.n(yl),Ol=n(726),Cl=n.n(Ol),El=n(1365),kl=n(1379),xl=n(1382),Sl=n(1363),jl=n(1367),Pl=n(1323),Tl=n.n(Pl),Rl=n(423),Ml=n.n(Rl),Il=n(1406),Al=n(467),Ll=n(715),Fl=n.n(Ll),Nl=n(457),Dl=n(850),_l=n.n(Dl),zl=n(851),Bl=n.n(zl),Hl=n(849),Wl=n.n(Hl),Vl=n(711),Gl=n.n(Vl),Ul=n(712),ql=n(724),$l=n.n(ql),Kl=n(424),Jl=n.n(Kl),Yl=n(725),Xl=n.n(Yl),Zl=n(722),Ql=n.n(Zl),ec=n(723),tc=n.n(ec),nc=n(854),rc=n(1324),ac=n.n(rc),oc=n(716),ic=n.n(oc),lc=n(869),cc=n(718),uc=n.n(cc),sc=n(717),dc=n.n(sc),fc=n(1418),pc=n(286),mc=n.n(pc),hc=n(719),gc=n.n(hc),bc=n(714),vc=n.n(bc),yc=n(203),wc=n(720),Oc=n.n(wc),Cc=n(242),Ec=n.n(Cc),kc=n(1325),xc=n(721),Sc=n.n(xc);function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(n),!0).forEach((function(t){Lc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tc(e){return(Tc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rc(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Mc(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Rc(o,r,a,i,l,"next",e)}function l(e){Rc(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Ic(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nc(e,t){return(Nc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dc(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function _c(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Fc(e);if(t){var a=Fc(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return _c(this,n)}}function Bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Wc(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hc(e){return function(e){if(Array.isArray(e))return Vc(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Wc(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wc(e,t){if(e){if("string"==typeof e)return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gc(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Wc(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Uc(e,t){return e(t={exports:{}},t.exports),t.exports}var qc=Uc((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),$c=Object(l.ConfigurationSchema)("BaseLinearDisplay",{maxFeatureScreenDensity:{type:"number",description:"maximum features per pixel that is displayed in the view, used if byte size estimates not available",defaultValue:.3},fetchSizeLimit:{type:"number",defaultValue:1e6,description:"maximum data to attempt to download for a given track, used if adapter doesn't specify one"}},{explicitIdentifier:"displayId"}),Kc=Object(u.a)((function(e){return{contentBlock:{position:"relative",minHeight:"100%",boxSizing:"border-box",whiteSpace:"nowrap",overflow:"hidden"},elidedBlock:{minHeight:"100%",boxSizing:"border-box",backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"},interRegionPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.text.primary},boundaryPaddingBlock:{minHeight:"100%",backgroundColor:e.palette.action.disabledBackground}}})),Jc=Object(o.observer)((function(e){var t=e.block,n=e.children,r=Kc(),o=t.widthPx;return a.a.createElement("div",{style:{width:o},className:r.contentBlock},n)}));function Yc(e){var t=e.width,n=Kc();return a.a.createElement("div",{className:n.elidedBlock,style:{width:t}})}function Xc(e){var t=e.boundary,n=e.width,r=e.style,o=void 0===r?{}:r,i=Kc();return a.a.createElement("div",{style:Pc(Pc({},o),{},{width:n}),className:t?i.boundaryPaddingBlock:i.interRegionPaddingBlock})}var Zc=Object(u.a)({linearBlocks:{whiteSpace:"nowrap",textAlign:"left",position:"absolute",minHeight:"100%",display:"flex"},heightOverflowed:{position:"absolute",color:"rgb(77,77,77)",borderBottom:"2px solid rgb(77,77,77)",textShadow:"white 0px 0px 1px",whiteSpace:"nowrap",width:"100%",fontWeight:"bold",textAlign:"center",zIndex:2e3,boxSizing:"border-box"}}),Qc=Object(o.observer)((function(e){var t=e.model,n=Zc(),r=t.blockDefinitions,o=t.blockState;return a.a.createElement(a.a.Fragment,null,r.map((function(e){if(e instanceof Al.ContentBlock){var r=o.get(e.key);return a.a.createElement(Jc,{block:e,key:"".concat(t.id,"-").concat(e.key)},r&&r.ReactComponent?a.a.createElement(r.ReactComponent,{model:r}):null,r&&r.maxHeightReached?a.a.createElement("div",{className:n.heightOverflowed,style:{top:r.layout.getTotalHeight()-16,pointerEvents:"none",height:16}},"Max height reached"):null)}if(e instanceof Al.ElidedBlock)return a.a.createElement(Yc,{key:"".concat(t.id,"-").concat(e.key),width:e.widthPx});if(e instanceof Al.InterRegionPaddingBlock)return a.a.createElement(Xc,{key:e.key,width:e.widthPx,style:{background:"none"},boundary:"boundary"===e.variant});throw new Error("invalid block type ".concat(Tc(e)))})))}));function eu(e){var t=e.model,n=Zc(),r=t.blockDefinitions,o=Object(E.getContainingView)(t);return a.a.createElement("div",{"data-testid":"Blockset",className:n.linearBlocks,style:{left:r.offsetPx-o.offsetPx}},a.a.createElement(Qc,{model:t}))}var tu=Object(o.observer)(eu);var nu=Object(u.a)((function(e){return{display:{position:"relative",whiteSpace:"nowrap",textAlign:"left",width:"100%",minHeight:"100%"},tooltip:{pointerEvents:"none",backgroundColor:Object(y.a)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(12),lineHeight:"".concat((t=1.4,Math.round(1e5*t)/1e5),"em"),maxWidth:300,wordWrap:"break-word"}};var t})),ru=a.a.forwardRef((function(e,t){var n=e.message;return a.a.createElement("div",{ref:t},n)})),au=Object(o.observer)((function(e){var t=e.model,n=e.clientMouseCoord,o=nu(),i=t.featureUnderMouse,c=Bc(Object(r.useState)(0),2),u=c[0],s=c[1],d=Bc(Object(r.useState)(null),2),f=d[0],p=d[1],m=Object(r.useMemo)((function(){return{getBoundingClientRect:function(){var e=n[0]+u/2+20,t=n[1];return{top:t,left:e,bottom:t,right:e,width:0,height:0,x:e,y:t,toJSON:function(){}}}}}),[n,u]),h=Object(Il.a)(m,f),g=h.styles,b=h.attributes,v=i?Object(l.getConf)(t,"mouseover",{feature:i}):void 0;return i&&v?a.a.createElement(El.a,null,a.a.createElement("div",Object.assign({ref:p,className:o.tooltip,style:Pc(Pc({},g.popper),{},{zIndex:1e5})},b.popper),a.a.createElement(ru,{ref:function(e){return s((null==e?void 0:e.getBoundingClientRect().width)||0)},message:v}))):null})),ou=Object(o.observer)((function(e){var t=nu(),n=Object(g.a)(),o=Object(r.useRef)(null),i=Bc(Object(r.useState)(),2),u=i[0],s=i[1],d=Bc(Object(r.useState)([0,0]),2),f=d[0],p=d[1],m=Bc(Object(r.useState)([0,0]),2),h=m[0],b=m[1],v=Bc(Object(r.useState)(),2),y=v[0],w=v[1],O=e.model,C=e.children,E=O.TooltipComponent,k=O.DisplayMessageComponent,x=O.contextMenuItems,S=O.height,j=O.setContextMenuFeature;return a.a.createElement("div",{ref:o,"data-testid":"display-".concat(Object(l.getConf)(O,"displayId")),className:t.display,onContextMenu:function(e){e.preventDefault(),y?w(void 0):o.current&&w([e.clientX,e.clientY])},onMouseMove:function(e){if(o.current){var t=o.current.getBoundingClientRect(),n=t.left,r=t.top;p([e.clientX-n,e.clientY-r]),b([e.clientX,e.clientY]),s(t)}}},k?a.a.createElement(k,{model:O}):a.a.createElement(tu,Object.assign({},e)),C,a.a.createElement(E,{model:O,height:S,offsetMouseCoord:f,clientMouseCoord:h,clientRect:u,mouseCoord:f}),a.a.createElement(c.Menu,{open:Boolean(y)&&Boolean(x().length),onMenuItemClick:function(e,t){t(),w(void 0)},onClose:function(){w(void 0),j(void 0)},TransitionProps:{onExit:function(){w(void 0),j(void 0)}},anchorReference:"anchorPosition",anchorPosition:y?{top:y[1],left:y[0]}:void 0,style:{zIndex:n.zIndex.tooltip},menuItems:x(),"data-testid":"base_linear_display_context_menu"}))})),iu=Object(u.a)((function(e){return{loading:{paddingLeft:"0.6em",backgroundColor:e.palette.action.disabledBackground,backgroundImage:"repeating-linear-gradient(45deg, transparent, transparent 5px, rgba(255,255,255,.5) 5px, rgba(255,255,255,.5) 10px)",height:"100%",width:"100%",pointerEvents:"none",textAlign:"center"},blockMessage:{width:"100%",background:e.palette.action.disabledBackground,padding:e.spacing(2),pointerEvents:"none",textAlign:"center"},blockError:{padding:e.spacing(2),width:"100%",whiteSpace:"normal",color:e.palette.error.main,overflowY:"auto"},blockReactNodeMessage:{width:"100%",background:e.palette.action.disabledBackground,padding:e.spacing(2),textAlign:"center"},dots:{"&::after":{display:"inline-block",animation:"$ellipsis 1.5s infinite",content:'"."',width:"1em",textAlign:"left"}},"@keyframes ellipsis":{"0%":{content:'"."'},"33%":{content:'".."'},"66%":{content:'"..."'}}}}));function lu(e){var t=e.children;return a.a.createElement("div",{style:{display:"flex"}},t,t)}var cu=Object(o.observer)((function(e){var t=e.model,n=Bc(Object(r.useState)(!1),2),o=n[0],l=n[1],c=iu();Object(r.useEffect)((function(){var e=!1,t=setTimeout((function(){e||l(!0)}),300);return function(){clearTimeout(t),e=!0}}),[]);var u=t.status,s=Object(i.getParent)(t,2).message||u;return a.a.createElement(a.a.Fragment,null,o?a.a.createElement("div",{className:c.loading},a.a.createElement(f.a,{className:c.dots,variant:"body2"},s?"".concat(s):"Loading")):null)}));function uu(e){var t=e.messageContent,n=iu();return a.a.isValidElement(t)?a.a.createElement("div",{className:n.blockReactNodeMessage},t):a.a.createElement(f.a,{variant:"body2",className:n.blockMessage},t)}function su(e){var t=e.error,n=e.reload,r=e.displayHeight,o=iu();return a.a.createElement("div",{className:o.blockError,style:{height:r}},n?a.a.createElement(cn.a,{"data-testid":"reload_button",onClick:n,startIcon:a.a.createElement(Fl.a,null)},"Reload"):null,a.a.createElement(f.a,{color:"error",variant:"body2",display:"inline"},"".concat(t)))}var du=Object(o.observer)((function(e){var t=e.model;return t.error?a.a.createElement(lu,null,a.a.createElement(su,{error:t.error,reload:t.reload,displayHeight:Object(rn.getParentRenderProps)(t).displayModel.height})):t.message?a.a.createElement(lu,null,a.a.createElement(uu,{messageContent:t.message})):t.filled?t.reactElement:a.a.createElement(lu,null,a.a.createElement(cu,{model:t}))})),fu=i.types.model("BlockState",{key:i.types.string,region:_.Region,reloadFlag:0,isLeftEndOfDisplayedRegion:!1,isRightEndOfDisplayedRegion:!1}).volatile((function(){return{renderInProgress:void 0,filled:!1,reactElement:void 0,features:void 0,layout:void 0,status:"",error:void 0,message:void 0,maxHeightReached:!1,ReactComponent:du,renderProps:void 0}})).actions((function(e){var t;return{doReload:function(){e.reloadFlag=e.reloadFlag+1},afterAttach:function(){var t=Object(E.getContainingDisplay)(e);Object(E.makeAbortableReaction)(e,pu,mu,{name:"".concat(t.id,"/").concat(Object(E.assembleLocString)(e.region)," rendering"),delay:t.renderDelay,fireImmediately:!0},this.setLoading,this.setRendered,this.setError)},setStatus:function(t){e.status=t},setLoading:function(n){void 0!==t&&(t.signal.aborted||t.abort()),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,t=n},setMessage:function(n){t&&!t.signal.aborted&&t.abort(),e.filled=!1,e.message=n,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.maxHeightReached=!1,e.renderProps=void 0,t=void 0},setRendered:function(n){if(n){var r=n.reactElement,a=n.features,o=n.layout,i=n.maxHeightReached,l=n.renderProps;e.filled=!0,e.message=void 0,e.reactElement=r,e.features=a,e.layout=o,e.error=void 0,e.maxHeightReached=i,e.renderProps=l,t=void 0}},setError:function(n){console.error(n),t&&!t.signal.aborted&&t.abort(),e.filled=!1,e.message=void 0,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.maxHeightReached=!1,e.error=n,e.renderProps=void 0,t=void 0,Object(Fn.isRetryException)(n)&&this.reload()},reload:function(){e.renderInProgress=void 0,e.filled=!1,e.reactElement=void 0,e.features=void 0,e.layout=void 0,e.error=void 0,e.message=void 0,e.maxHeightReached=!1,e.ReactComponent=du,e.renderProps=void 0,Object(i.getParent)(e,2).reload()},beforeDestroy:function(){t&&!t.signal.aborted&&t.abort();var n=Object(E.getContainingDisplay)(e),r=Object(E.getSession)(e).rpcManager,a=n.rendererType,o=pu(Object(i.cast)(e)).renderArgs;o&&a.freeResourcesInClient(r,JSON.parse(JSON.stringify(o))).catch((function(e){console.warn("Error while destroying block",e)}))}}}));function pu(e,t){try{var n=t||Object(E.getContainingDisplay)(e),r=Object(E.getSession)(n),a=r.assemblyManager,o=r.rpcManager,c=n.adapterConfig,u=n.rendererType,s=n.error,d=n.parentTrack,f=Object(rn.getTrackAssemblyNames)(d),p=e.region.assemblyName;if(!f.includes(p)&&!f.find((function(e){var t;return null===(t=a.get(e))||void 0===t?void 0:t.hasName(p)})))throw new Error("region assembly (".concat(p,") does not match track assemblies (").concat(f,")"));var m=n.renderProps(),h=m.config;Object(l.readConfObject)(h);var g=Object(rn.getRpcSessionId)(n);return{rendererType:u,rpcManager:o,renderProps:m,cannotBeRenderedReason:n.regionCannotBeRendered(e.region),displayError:s,renderArgs:{statusCallback:function(t){Object(i.isAlive)(e)&&e.setStatus(t)},assemblyName:e.region.assemblyName,regions:[e.region],adapterConfig:c,rendererType:u.name,sessionId:g,blockKey:e.key,reloadFlag:e.reloadFlag,timeout:1e6}}}catch(e){return{displayError:e}}}function mu(e,t,n){return hu.apply(this,arguments)}function hu(){return(hu=Mc(qc.mark((function e(t,n,r){var a,o,l,c,u,s,d,f,p,m,h;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.rendererType,o=t.renderProps,l=t.rpcManager,c=t.renderArgs,u=t.cannotBeRenderedReason,s=t.displayError,Object(i.isAlive)(r)){e.next=3;break}return e.abrupt("return",void 0);case 3:if(!s){e.next=6;break}return r.setError(s),e.abrupt("return",void 0);case 6:if(!u){e.next=9;break}return r.setMessage(u),e.abrupt("return",void 0);case 9:if(!o.notReady){e.next=11;break}return e.abrupt("return",void 0);case 11:return e.next=13,a.renderInClient(l,Pc(Pc(Pc({},c),o),{},{signal:n}));case 13:return d=e.sent,f=d.reactElement,p=d.features,m=d.layout,h=d.maxHeightReached,e.abrupt("return",{reactElement:f,features:p,layout:m,maxHeightReached:h});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var gu=["blockState"];function bu(e,t){var n="undefined"==typeof jest;return"clip-".concat(n?e:"jest","-").concat(t)}var vu=i.types.compose("BaseLinearDisplay",nn.BaseDisplay,i.types.model({height:i.types.optional(i.types.refinement("displayHeight",i.types.number,(function(e){return e>=20})),100),blockState:i.types.map(fu),userBpPerPxLimit:i.types.maybe(i.types.number),userByteSizeLimit:i.types.maybe(i.types.number)})).volatile((function(){return{currBpPerPx:0,message:"",featureIdUnderMouse:void 0,contextMenuFeature:void 0,scrollTop:0,estimatedRegionStatsP:void 0,estimatedRegionStats:void 0}})).views((function(e){return{get blockType(){return"staticBlocks"},get blockDefinitions(){var t=this.blockType,n=Object(E.getContainingView)(e);if(!n.initialized)throw new Error("view not initialized yet");return n[t]}}})).views((function(e){return{get renderDelay(){return 50},get TooltipComponent(){return au},get selectedFeatureId(){if(Object(i.isAlive)(e)){var t=Object(E.getSession)(e).selection;if(Object(B.isFeature)(t))return t.id()}},get DisplayMessageComponent(){}}})).views((function(e){return{get features(){var t,n=[],r=Gc(e.blockState.values());try{for(r.s();!(t=r.n()).done;){var a=t.value;a&&a.features&&n.push(a.features)}}catch(e){r.e(e)}finally{r.f()}return new Tl.a(n)},get featureUnderMouse(){var t=e.featureIdUnderMouse;return t?this.features.get(t):void 0},getFeatureOverlapping:function(t,n,r){var a,o;return null===(a=e.blockState.get(t))||void 0===a||null===(o=a.layout)||void 0===o?void 0:o.getByCoord(n,r)},getFeatureByID:function(t,n){var r,a;return null===(r=e.blockState.get(t))||void 0===r||null===(a=r.layout)||void 0===a?void 0:a.getByID(n)},searchFeatureByID:function(t){var n;return e.blockState.forEach((function(e){var r,a=null==e||null===(r=e.layout)||void 0===r?void 0:r.getByID(t);a&&(n=a)})),n},get currentBytesRequested(){var t;return(null===(t=e.estimatedRegionStats)||void 0===t?void 0:t.bytes)||0},get currentFeatureScreenDensity(){var t,n=Object(E.getContainingView)(e);return((null===(t=e.estimatedRegionStats)||void 0===t?void 0:t.featureDensity)||0)*n.bpPerPx},get maxFeatureScreenDensity(){return Object(l.getConf)(e,"maxFeatureScreenDensity")},get estimatedStatsReady(){return!!e.estimatedRegionStats},get maxAllowableBytes(){var t;return e.userByteSizeLimit||(null===(t=e.estimatedRegionStats)||void 0===t?void 0:t.fetchSizeLimit)||Object(l.getConf)(e,"fetchSizeLimit")}}})).actions((function(e){return{setMessage:function(t){e.message=t},afterAttach:function(){var t=this,n=Object(Ko.autorun)((function(){var n={};Object(E.getContainingView)(e).initialized&&(e.blockDefinitions.contentBlocks.forEach((function(r){n[r.key]=!0,e.blockState.has(r.key)||t.addBlock(r.key,r)})),e.blockState.forEach((function(e,r){n[r]||t.deleteBlock(r)})))}));Object(i.addDisposer)(e,n)},estimateRegionsStats:function(t,n){var r=this;if(e.estimatedRegionStatsP)return e.estimatedRegionStatsP;var a=Object(E.getSession)(e).rpcManager,o=e.adapterConfig,l=Object(rn.getRpcSessionId)(e),c=Pc({sessionId:l,regions:t,adapterConfig:o,statusCallback:function(t){Object(i.isAlive)(e)&&r.setMessage(t)}},n);return e.estimatedRegionStatsP=a.call(l,"CoreEstimateRegionStats",c).catch((function(e){throw r.setRegionStatsP(void 0),e})),e.estimatedRegionStatsP},setRegionStatsP:function(t){e.estimatedRegionStatsP=t},setRegionStats:function(t){e.estimatedRegionStats=t},clearRegionStats:function(){e.estimatedRegionStatsP=void 0,e.estimatedRegionStats=void 0},setHeight:function(t){return e.height=t>20?t:20,e.height},resizeHeight:function(t){var n=e.height;return this.setHeight(e.height+t)-n},setScrollTop:function(t){e.scrollTop=t},updateStatsLimit:function(t){var n=Object(E.getContainingView)(e);t.bytes?e.userByteSizeLimit=t.bytes:e.userBpPerPxLimit=n.bpPerPx},addBlock:function(t,n){e.blockState.set(t,fu.create({key:t,region:n.toRegion()}))},setCurrBpPerPx:function(t){e.currBpPerPx=t},deleteBlock:function(t){e.blockState.delete(t)},selectFeature:function(t){var n=Object(E.getSession)(e);if(Object(E.isSessionModelWithWidgets)(n)){var r=n.addWidget("BaseFeatureWidget","baseFeature",{featureData:t.toJSON(),view:Object(E.getContainingView)(e)});n.showWidget(r)}Object(E.isSelectionContainer)(n)&&n.setSelection(t)},clearFeatureSelection:function(){Object(E.getSession)(e).clearSelection()},setFeatureIdUnderMouse:function(t){e.featureIdUnderMouse=t},reload:function(){Hc(e.blockState.values()).map((function(e){return e.doReload()}))},setContextMenuFeature:function(t){e.contextMenuFeature=t}}})).views((function(e){return{get regionTooLarge(){var t=Object(E.getContainingView)(e);if(!e.estimatedStatsReady||t.dynamicBlocks.totalBp<2e4)return!1;var n=e.userBpPerPxLimit?t.bpPerPx>e.userBpPerPxLimit:e.currentFeatureScreenDensity>e.maxFeatureScreenDensity;return e.currentBytesRequested>e.maxAllowableBytes||n},get regionTooLargeReason(){var t,n=e.currentBytesRequested,r=e.maxAllowableBytes;return n&&n>r?"Requested too much data (".concat((t=n,Math.floor(t/1e6)>0?"".concat(parseFloat((t/1e6).toPrecision(3))," Mb"):Math.floor(t/1e3)>0?"".concat(parseFloat((t/1e3).toPrecision(3))," Kb"):"".concat(Math.floor(t)," bytes")),")"):""}}})).actions((function(e){var t=e.reload;return{reload:function(){return Mc(qc.mark((function n(){var r,a,o;return qc.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.setError(),r=new AbortController,(a=Object(E.getContainingView)(e)).initialized&&a.staticBlocks.contentBlocks.length){n.next=5;break}return n.abrupt("return");case 5:return n.prev=5,e.estimatedRegionStatsP=e.estimateRegionsStats(a.staticBlocks.contentBlocks,{signal:r.signal}),n.next=9,e.estimatedRegionStatsP;case 9:if(o=n.sent,!Object(i.isAlive)(e)){n.next=15;break}e.setRegionStats(o),t(),n.next=16;break;case 15:return n.abrupt("return");case 16:n.next=21;break;case 18:n.prev=18,n.t0=n.catch(5),e.setError(n.t0);case 21:case"end":return n.stop()}}),n,null,[[5,18]])})))()},afterAttach:function(){Object(i.addDisposer)(e,Object(Ko.autorun)(Mc(qc.mark((function t(){var n,r,a,o,l;return qc.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,r=new AbortController,(a=Object(E.getContainingView)(e)).initialized&&a.staticBlocks.contentBlocks.length){t.next=5;break}return t.abrupt("return");case 5:if(void 0===(null===(n=e.estimatedRegionStats)||void 0===n?void 0:n.featureDensity)){t.next=8;break}return e.setCurrBpPerPx(a.bpPerPx),t.abrupt("return");case 8:if(a.bpPerPx!==e.currBpPerPx){t.next=10;break}return t.abrupt("return");case 10:return e.clearRegionStats(),e.setCurrBpPerPx(a.bpPerPx),o=e.estimateRegionsStats(a.staticBlocks.contentBlocks,{signal:r.signal}),e.setRegionStatsP(o),t.next=16,o;case 16:l=t.sent,Object(i.isAlive)(e)&&e.setRegionStats(l),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(0),!Object(E.isAbortException)(t.t0)&&Object(i.isAlive)(e)&&(console.error(t.t0),e.setError(t.t0));case 23:case"end":return t.stop()}}),t,null,[[0,20]])}))),{delay:500}))}}})).views((function(e){return{regionCannotBeRenderedText:function(t){return e.regionTooLarge?"Force load to see features":""},regionCannotBeRendered:function(t){var n=e.regionTooLarge,r=e.regionTooLargeReason;if(n)return a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{component:"span",variant:"body2"},r?r+". ":"","Zoom in to see features or"," "),a.a.createElement(cn.a,{"data-testid":"force_reload_button",onClick:function(){e.estimatedRegionStats?(e.updateStatsLimit(e.estimatedRegionStats),e.reload()):console.error("No global stats?")},variant:"outlined"},"Force Load"),a.a.createElement(f.a,{component:"span",variant:"body2"},"(force load may be slow)"))},trackMenuItems:function(){return[]},contextMenuItems:function(){return e.contextMenuFeature?[{label:"Open feature details",icon:Ml.a,onClick:function(){e.contextMenuFeature&&e.selectFeature(e.contextMenuFeature)}}]:[]},renderProps:function(){var t=Object(E.getContainingView)(e);return Pc(Pc({},Object(rn.getParentRenderProps)(e)),{},{notReady:e.currBpPerPx!==t.bpPerPx||!e.estimatedRegionStats,rpcDriverName:e.rpcDriverName,displayModel:e,onFeatureClick:function(t,n){var r=n||e.featureIdUnderMouse;if(r){var a=e.features.get(r);a&&e.selectFeature(a)}else e.clearFeatureSelection()},onClick:function(){e.clearFeatureSelection()},onFeatureContextMenu:function(t,n){var r=n||e.featureIdUnderMouse;r?e.setContextMenuFeature(e.features.get(r)):e.clearFeatureSelection()},onMouseMove:function(t,n){e.setFeatureIdUnderMouse(n)},onMouseLeave:function(t){e.setFeatureIdUnderMouse(void 0)},onContextMenu:function(){e.setContextMenuFeature(void 0),e.clearFeatureSelection()}})}}})).actions((function(e){return{renderSvg:function(t){return Mc(qc.mark((function n(){var r,o,i,l,c,u,s,d;return qc.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.height,o=e.id,i=t.overrideHeight,l=Object(E.getContainingView)(e),c=l.offsetPx,u=l.roundedDynamicBlocks,s=l.width,n.next=6,Promise.all(u.map((function(n){var r=fu.create({key:n.key,region:n}),o=e.regionCannotBeRenderedText(n)||e.regionCannotBeRendered(n);if(o)return{reactElement:a.a.createElement(a.a.Fragment,null,a.a.createElement("rect",{x:0,y:0,width:s,height:20,fill:"#aaa"}),a.a.createElement("text",{x:0,y:15},o))};var i=pu(r,e),l=i.rpcManager,c=i.renderArgs,u=i.renderProps;return i.rendererType.renderInClient(l,Pc(Pc(Pc({},c),u),{},{exportSVG:t}))})));case 6:return d=n.sent,n.abrupt("return",a.a.createElement(a.a.Fragment,null,d.map((function(e,t){var n=u[t].offsetPx-c,l=bu(o,t);return a.a.createElement(a.a.Fragment,{key:"frag-".concat(t)},a.a.createElement("defs",null,a.a.createElement("clipPath",{id:l},a.a.createElement("rect",{x:0,y:0,width:s,height:i||r}))),a.a.createElement("g",{transform:"translate(".concat(n," 0)")},a.a.createElement("g",{clipPath:"url(#".concat(l,")")},a.a.isValidElement(e.reactElement)?e.reactElement:a.a.createElement("g",{dangerouslySetInnerHTML:{__html:e.html}}))))}))));case 8:case"end":return n.stop()}}),n)})))()}}})).postProcessSnapshot((function(e){return Dc(e,gu)}));function yu(e){return i.types.compose("LinearBareDisplay",vu,i.types.model({type:i.types.literal("LinearBareDisplay"),configuration:Object(Nl.ConfigurationReference)(e)})).views((function(e){var t=e.renderProps;return{renderProps:function(){return Pc(Pc(Pc({},t()),Object(rn.getParentRenderProps)(e)),{},{rpcDriverName:e.rpcDriverName,config:e.configuration.renderer})},get rendererTypeName(){return e.configuration.renderer.type}}}))}function wu(e,t,n){for(var r=t*(e=Math.abs(e)),a=parseInt(Number(r).toExponential().split(/e/i)[1],10),o=Math.pow(10,a);o<r&&!((o*=2)>=r);)o*=2.5;var i=(o=Math.max(o,5))/e,l=0;return!(o%10)&&i/10>=n?l=o/10:!(o%5)&&i/5>=n?l=o/5:!(o%2)&&i/2>=n&&(l=o/2),{majorPitch:o,minorPitch:l}}function Ou(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=wu(n,60,15),i=e,l=t;if(null===i||null===l)return[];if(n<0){var c=[l,i];i=c[0],l=c[1]}i-=Math.abs(20*n)-1,l+=Math.abs(20*n)+1;for(var u=o.minorPitch||o.majorPitch,s=0,d=[],f=Math.ceil(i/u)*u;f<l;f+=u)a&&f%(2*o.majorPitch)?(d.push({type:"minor",base:f-1,index:s}),s+=1):!r||f%(2*o.majorPitch)||(d.push({type:"major",base:f-1,index:s}),s+=1);return d}var Cu=Object(u.a)((function(){return{majorTickLabel:{fontSize:"11px"},majorTick:{stroke:"#555"},minorTick:{stroke:"#999"}}}));function Eu(e){var t=e.start,n=e.end,r=e.bpPerPx,o=e.reversed,i=e.major,l=e.minor,c=Cu(),u=Ou(t,n,r,i,l);return a.a.createElement(a.a.Fragment,null,u.map((function(e){var i=(o?n-e.base:e.base-t)/r;return a.a.createElement("line",{key:e.base,x1:i,x2:i,y1:0,y2:"major"===e.type?6:4,strokeWidth:1,stroke:"major"===e.type?"#555":"#999",className:"major"===e.type?c.majorTick:c.minorTick,"data-bp":e.base})})),u.filter((function(e){return"major"===e.type})).map((function(e){var i=(o?n-e.base:e.base-t)/r;return a.a.createElement("text",{x:i-3,y:18,key:"label-".concat(e.base),style:{fontSize:"11px"},className:c.majorTickLabel},function e(t){return t<999?String(t):"".concat(e(~~(t/1e3)),",").concat("00".concat(~~(t%1e3)).substr(-3,3))}(e.base+1))})))}Eu.propTypes={start:Ae.a.number.isRequired,end:Ae.a.number.isRequired,bpPerPx:Ae.a.number.isRequired,reversed:Ae.a.bool,major:Ae.a.bool,minor:Ae.a.bool},Eu.defaultProps={reversed:!1,major:!0,minor:!0};var ku=Object(o.observer)(Eu),xu=Object(u.a)((function(e){var t=e.palette,n=t.tertiary,r=t.primary;return{rubberBand:{height:"100%",background:n?Object(y.a)(n.main,.7):Object(y.a)(r.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:n?n.contrastText:r.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}})),Su=Object(o.observer)((function(e){var t,n=e.model,r=e.open,o=e.guideX,i=e.overview,l=xu(),c=n.cytobandOffset,u=Object(E.getSession)(n).assemblyManager,s=i.pxToBp(o-c),d=u.get(s.assemblyName),f=null==d||null===(t=d.cytobands)||void 0===t?void 0:t.find((function(e){return s.coord>e.get("start")&&s.coord<e.get("end")&&s.refName===d.getCanonicalRefName(e.get("refName"))}));return a.a.createElement(K.a,{open:r,placement:"top",title:[Object(E.stringify)(s),null==f?void 0:f.get("name")].join(" "),arrow:!0},a.a.createElement("div",{className:l.guide,style:{left:o}}))}));function ju(e){var t=e.model,n=e.overview,o=e.ControlComponent,i=void 0===o?a.a.createElement("div",null):o,l=t.cytobandOffset,c=Bc(Object(r.useState)(),2),u=c[0],s=c[1],d=Bc(Object(r.useState)(),2),p=d[0],m=d[1],h=Bc(Object(r.useState)(),2),g=h[0],b=h[1],v=Object(r.useRef)(null),y=Object(r.useRef)(null),w=xu(),O=void 0!==u;function C(e){e.preventDefault(),e.stopPropagation(),v.current&&s(e.clientX-v.current.getBoundingClientRect().left)}function k(e){v.current&&b(e.clientX-v.current.getBoundingClientRect().left)}function x(){b(void 0)}if(Object(r.useEffect)((function(){function e(e){var t=v.current;if(t&&O){var n=e.clientX-t.getBoundingClientRect().left;m(n)}}function r(){if(v.current&&void 0!==u&&void 0!==p&&Math.abs(p-u)>3&&t.zoomToDisplayedRegions(n.pxToBp(u-l),n.pxToBp(p-l)),v.current&&void 0!==u&&void 0===p){var e=n.pxToBp(u-l);t.centerAt(Math.round(e.coord),e.refName,e.index)}s(void 0),m(void 0),void 0!==u&&b(void 0)}function a(e){"Escape"===e.key&&(s(void 0),m(void 0))}return O?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",r,!0),window.addEventListener("keydown",a,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",r,!0),window.removeEventListener("keydown",a,!0)}):function(){}}),[O,p,u,t,n,l]),void 0===u)return a.a.createElement("div",{style:{position:"relative"}},void 0!==g?a.a.createElement(Su,{model:t,open:!O,overview:n,guideX:g}):null,a.a.createElement("div",{className:w.rubberBandControl,role:"presentation",ref:v,onMouseDown:C,onMouseOut:x,onMouseMove:k},i));var S,j,P=u||0,T=0;if(void 0!==u&&void 0!==p&&(P=p<u?p:u,T=p-u),u&&(S=n.pxToBp(u-l),j=n.pxToBp(u+T-l),p&&p<u)){var R=[j,S];S=R[0],j=R[1]}return a.a.createElement("div",{style:{position:"relative"}},y.current?a.a.createElement(a.a.Fragment,null,a.a.createElement(kl.a,{className:w.popover,classes:{paper:w.paper},open:!0,anchorEl:y.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(f.a,null,S?Object(E.stringify)(S):"")),a.a.createElement(kl.a,{className:w.popover,classes:{paper:w.paper},open:!0,anchorEl:y.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(f.a,null,j?Object(E.stringify)(j):""))):null,a.a.createElement("div",{ref:y,className:w.rubberBand,style:{left:P,width:Math.abs(T),height:ed}}),a.a.createElement("div",{"data-testid":"rubberBand_controls",className:w.rubberBandControl,role:"presentation",ref:v,onMouseDown:C,onMouseOut:x,onMouseMove:k},i))}ju.propTypes={model:o.PropTypes.objectOrObservableObject.isRequired,overview:o.PropTypes.objectOrObservableObject.isRequired,ControlComponent:Ae.a.node},ju.defaultProps={ControlComponent:a.a.createElement("div",null)};var Pu=Object(o.observer)(ju),Tu=Object(u.a)((function(e){return{scaleBar:{height:ed},scaleBarBorder:{border:"1px solid"},scaleBarContig:{backgroundColor:e.palette.background.default,position:"absolute",top:0,height:ed},scaleBarContigForward:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M-.1 0L6 4.5L-.1 9' fill='none' stroke='%23ddd'/%3E%3C/svg%3E\")",backgroundRepeat:"repeat"},scaleBarContigReverse:{backgroundImage:"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 9'%3E%3Cpath d='M6 0L0 4.5L6 9' fill='none' stroke='%23ddd'/%3E%3C/svg%3E\")",backgroundRepeat:"repeat"},scaleBarRefName:{position:"absolute",fontWeight:"bold",pointerEvents:"none",zIndex:100},scaleBarLabel:{height:ed,width:1,position:"absolute",display:"flex",justifyContent:"center",pointerEvents:"none"},scaleBarVisibleRegion:{position:"absolute",height:ed,pointerEvents:"none",zIndex:100,border:"1px solid"},overview:{height:Qs,position:"relative"},overviewSvg:{width:"100%",position:"absolute"}}})),Ru=Object(o.observer)((function(e){var t=e.model,n=e.overview,r=e.useOffset,o=void 0===r||r,i=Object(g.a)(),l=Number(o),c=t.interRegionPaddingWidth,u=t.offsetPx,s=t.dynamicBlocks,d=t.cytobandOffset,f=s.contentBlocks,p=s.totalWidthPxWithoutBorders,m=i.palette,h=m.tertiary,b=m.primary,v=h?h.light:b.light;if(!f.length)return null;var w=f[0],O=f[f.length-1],C=(n.bpToPx(Pc(Pc({},w),{},{coord:w.reversed?w.end:w.start}))||0)+d*l,E=(n.bpToPx(Pc(Pc({},O),{},{coord:O.reversed?O.start:O.end}))||0)+d*l,k=Math.max(0,-u),x=k+p+f.length*c/2,S=[[k,Qs],[x,Qs],[E,0],[C,0]];return a.a.createElement("polygon",{points:S.toString(),fill:Object(y.a)(v,.3),stroke:Object(y.a)(v,.8)})}));function Mu(e,t,n,r,a){return"M"+e+","+t+"h"+(n-a)+"a"+a+","+a+" 0 0 1 "+a+","+a+"v"+(r-2*a)+"a"+a+","+a+" 0 0 1 "+-a+","+a+"h"+(a-n)+"z"}var Iu={gneg:"rgb(227,227,227)",gpos25:"rgb(142,142,142)",gpos50:"rgb(85,85,85)",gpos100:"rgb(0,0,0)",gpos75:"rgb(57,57,57)",gvar:"rgb(0,0,0)",stalk:"rgb(127,127,127)",acen:"#800"},Au=Object(o.observer)((function(e){var t,n=e.overview,r=e.block,o=e.assembly,i=r.offsetPx,l=r.reversed,c=null==o||null===(t=o.cytobands)||void 0===t?void 0:t.map((function(e){return{refName:o.getCanonicalRefName(e.get("refName")),start:e.get("start"),end:e.get("end"),type:e.get("type")}})).filter((function(e){return e.refName===r.refName})).map((function(e){var t=e.refName,r=e.start,a=e.end,o=e.type;return[n.bpToPx({refName:t,coord:r}),n.bpToPx({refName:t,coord:a}),o]})),u=c||[],s=l?u.length-1:0,d=l?0:u.length-1,f=!0;return c?a.a.createElement("g",{transform:"translate(-".concat(i,")")},c.map((function(e,t){var n,r,o,i,l,c=Bc(e,3),u=c[0],p=c[1],m=c[2],h="".concat(u,"-").concat(p,"-").concat(m);return"acen"===m&&f?(f=!1,a.a.createElement("polygon",{key:h,points:[[u,0],[p,ed/2],[u,ed]].toString(),fill:Iu[m]})):"acen"!==m||f?s===t?a.a.createElement("path",{key:h,d:(n=Math.min(u,p),r=0,o=Math.abs(p-u),i=ed,l=8,"M"+(n+l)+","+r+"h"+(o-l)+"v"+i+"h"+(l-o)+"a"+l+","+l+" 0 0 1 "+-l+","+-l+"v"+(2*l-i)+"a"+l+","+l+" 0 0 1 "+l+","+-l+"z"),fill:Iu[m]}):d===t?a.a.createElement("path",{key:h,d:Mu(Math.min(u,p),0,Math.abs(p-u)-2,ed,8),fill:Iu[m]}):a.a.createElement("rect",{key:h,x:Math.min(u,p),y:0,width:Math.abs(p-u),height:ed,fill:Iu[m]}):a.a.createElement("polygon",{key:h,points:[[u,ed/2],[p,0],[p,ed]].toString(),fill:Iu[m]})}))):null})),Lu=Object(o.observer)((function(e){for(var t=e.scale,n=e.model,r=e.block,o=e.overview,i=Tu(),l=n.cytobandOffset,c=n.showCytobands,u=r.start,s=r.end,d=r.reversed,p=r.refName,m=r.assemblyName,h=wu(t,120,15).majorPitch,g=Object(E.getSession)(n).assemblyManager.get(m),b=null==g?void 0:g.getRefNameColor(p),v=[],y=0;y<Math.floor((s-u)/h);y++){var w=(y+1)*h;v.push(d?s-w:u+w)}return a.a.createElement("div",null,a.a.createElement(f.a,{style:{left:r.offsetPx+3,color:c?"black":b},className:i.scaleBarRefName},p),a.a.createElement("div",{className:Object(Bn.default)(i.scaleBarContig,c?void 0:d?i.scaleBarContigReverse:i.scaleBarContigForward,c?void 0:i.scaleBarBorder),style:{left:r.offsetPx+l,width:r.widthPx,borderColor:b}},c?null:v.map((function(e,n){return a.a.createElement(f.a,{key:"".concat(JSON.stringify(r),"-").concat(e,"-").concat(n),className:i.scaleBarLabel,variant:"body2",style:{left:(n+1)*h/t,pointerEvents:"none",color:b}},e.toLocaleString("en-US"))})),c?a.a.createElement("svg",{style:{width:"100%"}},a.a.createElement(Au,{overview:o,assembly:g,block:r})):null))})),Fu=Object(o.observer)((function(e){var t=e.model,n=e.scale,r=e.overview,o=Tu(),i=Object(g.a)(),l=t.dynamicBlocks,c=t.showCytobands,u=t.cytobandOffset,s=l.contentBlocks,d=r.dynamicBlocks,f=i.palette,p=f.tertiary,m=f.primary,h=p?p.light:m.light;if(!s.length)return null;var b=s[0],v=r.bpToPx(Pc(Pc({},b),{},{coord:b.reversed?b.end:b.start}))||0,w=s[s.length-1],O=r.bpToPx(Pc(Pc({},w),{},{coord:w.reversed?w.start:w.end}))||0,C=c?"#f00":h,E=c?.1:.3;return a.a.createElement("div",{className:o.scaleBar},a.a.createElement("div",{className:o.scaleBarVisibleRegion,style:{width:O-v,left:v+u,background:Object(y.a)(C,E),borderColor:C}}),d.map((function(e,i){return e instanceof Al.ContentBlock?a.a.createElement(Lu,{scale:n,block:e,model:t,overview:r,key:"".concat(JSON.stringify(e),"-").concat(i)}):a.a.createElement("div",{key:"".concat(JSON.stringify(e),"-").concat(i),className:o.scaleBarContig,style:{width:e.widthPx,left:e.offsetPx,backgroundColor:"#999",backgroundImage:"repeating-linear-gradient(90deg, transparent, transparent 1px, rgba(255,255,255,.5) 1px, rgba(255,255,255,.5) 3px)"}})})))}));function Nu(e){var t=e.model,n=e.children,r=Tu(),o=t.totalBp,i=t.width,l=t.cytobandOffset,c=t.displayedRegions,u=Wl.a.create({displayedRegions:JSON.parse(JSON.stringify(c)),interRegionPaddingWidth:0,minimumBlockWidth:t.minimumBlockWidth}),s=i-l;u.setVolatileWidth(s),u.showAllRegions();var d=o/(s-2*(c.length-1));return a.a.createElement("div",null,a.a.createElement(Pu,{model:t,overview:u,ControlComponent:a.a.createElement(Fu,{model:t,overview:u,scale:d})}),a.a.createElement("div",{className:r.overview},a.a.createElement("svg",{height:Qs,className:r.overviewSvg},a.a.createElement(Ru,{model:t,overview:u})),n))}var Du=Object(o.observer)(Nu);function _u(e){var t=e.model,n=e.fontSize,r=t.offsetPx,o=t.dynamicBlocks,i=o.totalWidthPxWithoutBorders,l=o.totalBp,c=Object(E.getBpDisplayStr)(l),u=Math.max(-r,0),s=u+i;return a.a.createElement(a.a.Fragment,null,a.a.createElement("line",{x1:u,x2:s,y1:10,y2:10,stroke:"black"}),a.a.createElement("line",{x1:u,x2:u,y1:5,y2:15,stroke:"black"}),a.a.createElement("line",{x1:s,x2:s,y1:5,y2:15,stroke:"black"}),a.a.createElement("text",{x:u+(s-u)/2,y:2*n,textAnchor:"middle",fontSize:n},c))}function zu(e){var t=e.model,n=e.fontSize,r=e.width,o=t.dynamicBlocks.contentBlocks,i=t.offsetPx,l=t.bpPerPx,c=o.length<5;return a.a.createElement(a.a.Fragment,null,a.a.createElement("defs",null,a.a.createElement("clipPath",{id:"clip-ruler"},a.a.createElement("rect",{x:0,y:0,width:r,height:20}))),o.map((function(e){var t=e.key,r=e.start,o=e.end,u=e.reversed,s=e.offsetPx,d=e.refName,f=s-i;return a.a.createElement("g",{key:"".concat(t),transform:"translate(".concat(f," 0)")},a.a.createElement("text",{x:f/l,y:n,fontSize:n},d),c?a.a.createElement("g",{transform:"translate(0 20)",clipPath:"url(#clip-ruler)"},a.a.createElement(ku,{start:r,end:o,bpPerPx:l,reversed:u})):a.a.createElement("line",{strokeWidth:1,stroke:"black",x1:r/l,x2:o/l,y1:20,y2:20}))})))}var Bu=function(e){return e.reduce((function(e,t){return e+t.displays[0].height+20+20}),0)},Hu=function(e){var t=e.model,n=t.width,r=t.assemblyNames,o=t.showCytobands,i=t.displayedRegions,l=Object(E.getSession)(t).assemblyManager,c=r.length>1?"":r[0],u=l.get(c),s=Wl.a.create({displayedRegions:JSON.parse(JSON.stringify(i)),interRegionPaddingWidth:0,minimumBlockWidth:t.minimumBlockWidth}),d=t.dynamicBlocks.contentBlocks;s.setVolatileWidth(n),s.showAllRegions();var f=s.dynamicBlocks.contentBlocks[0],p=d[0],m=s.bpToPx(Pc(Pc({},p),{},{coord:p.reversed?p.end:p.start}))||0,h=d[d.length-1],g=s.bpToPx(Pc(Pc({},h),{},{coord:h.reversed?h.start:h.end}))||0,b=o?100:0;return a.a.createElement("g",{id:"header"},a.a.createElement("text",{x:0,y:15,fontSize:15},c),o?a.a.createElement("g",{transform:"translate(0 ".concat(50,")")},a.a.createElement(Au,{overview:s,assembly:u,block:f}),a.a.createElement("rect",{stroke:"red",fill:"rgb(255,0,0,0.1)",width:Math.max(g-m,.5),height:ed-1,x:m,y:.5}),a.a.createElement("g",{transform:"translate(0,".concat(ed,")")},a.a.createElement(Ru,{overview:s,model:t,useOffset:!1}))):null,a.a.createElement("g",{transform:"translate(0 ".concat(15+b,")")},a.a.createElement(_u,{model:t,fontSize:15})),a.a.createElement("g",{transform:"translate(0 ".concat(50+b,")")},a.a.createElement(zu,{model:t,fontSize:15,width:n})))},Wu=function(e){var t=e.model,n=e.height,r=t.dynamicBlocks,o=t.offsetPx,i=t.interRegionPaddingWidth;return a.a.createElement(a.a.Fragment,null,r.contentBlocks.slice(1).map((function(e){return a.a.createElement("rect",{key:e.key,x:e.offsetPx-o-i,width:i,y:0,height:n,stroke:"none",fill:"grey"})})))};function Vu(e){var t=e.displayResults,n=e.model,r=e.offset;return a.a.createElement(a.a.Fragment,null,t.map((function(e){var t=e.track,o=e.result,c=r,u=Object(l.getConf)(t,"name")||"Reference sequence (".concat(Object(l.readConfObject)(Object(i.getParent)(t.configuration),"name"),")"),s=t.displays[0];return r+=s.height+20+20,a.a.createElement("g",{key:t.configuration.trackId,transform:"translate(0 ".concat(c,")")},a.a.createElement("text",{fontSize:15,x:Math.max(-n.offsetPx,0)},u),a.a.createElement("g",{transform:"translate(0 ".concat(20,")")},o,a.a.createElement(Wu,{model:n,height:s.height})))})))}function Gu(e,t){return Uu.apply(this,arguments)}function Uu(){return(Uu=Mc(qc.mark((function e(t,n){var r,o,i,l,c,u,s;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ko.when)((function(){return t.initialized}));case 2:return r=t.width,o=t.tracks,i=t.showCytobands,l=50,c=90+(i?100:0)+20,u=Bu(o)+c,e.next=8,Promise.all(o.map(function(){var e=Mc(qc.mark((function e(t){var r,a;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.displays[0],e.next=3,Object(Ko.when)((function(){return void 0===r.ready||r.ready}));case 3:return e.next=5,r.renderSvg(n);case 5:return a=e.sent,e.abrupt("return",{track:t,result:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 8:return s=e.sent,e.abrupt("return",Object(nc.renderToStaticMarkup)(a.a.createElement("svg",{width:r,height:u,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:[0,0,r+2*l,u].toString()},a.a.createElement("rect",{width:r+2*l,height:u,fill:"white"}),a.a.createElement("g",{stroke:"none",transform:"translate(".concat(l," ").concat(15,")")},a.a.createElement(Hu,{model:t}),a.a.createElement(Vu,{model:t,displayResults:s,offset:c})))));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.filter((function(e,n,r){return n===r.findIndex((function(n){return t(n)===t(e)}))}))}var $u=Object(r.lazy)((function(){return Promise.resolve().then((function(){return dd}))}));var Ku=function(e){var t=e.style;return a.a.createElement(xl.a,Object.assign({},e,{style:{width:"fit-content",minWidth:Math.min(+((null==t?void 0:t.width)||0),200),background:"white"},placement:"bottom-start"}))};function Ju(e){var t=e.model,n=e.showHelp,o=void 0===n||n,i=e.onSelect,l=e.assemblyName,c=e.style,u=e.fetchResults,s=e.value,d=e.minWidth,p=void 0===d?200:d,m=e.TextFieldProps,g=void 0===m?{}:m,b=Object(E.getSession)(t),v=b.assemblyManager,y=Bc(Object(r.useState)(!1),2),w=y[0],O=y[1],C=Bc(Object(r.useState)(!0),2),k=C[0],x=C[1],S=Bc(Object(r.useState)(!1),2),j=S[0],P=S[1],T=Bc(Object(r.useState)(""),2),R=T[0],M=T[1],I=Bc(Object(r.useState)(""),2),A=I[0],L=I[1],F=Bc(Object(r.useState)(),2),N=F[0],D=F[1],_=Object(E.useDebounce)(R,300),z=t.coarseVisibleLocStrings,B=t.hasDisplayedRegions,H=l?v.get(l):void 0,W=(null==H?void 0:H.regions)||[],V=Object(r.useMemo)((function(){return W.map((function(e){return{result:new rc.RefSequenceResult({refName:e.refName,label:e.refName,matchedAttribute:"refName"})}}))}),[W]);Object(r.useEffect)((function(){var e=!0;return Mc(qc.mark((function t(){var n;return qc.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==_&&l){t.next=3;break}return t.abrupt("return");case 3:return x(!1),t.next=6,u(_);case 6:n=t.sent,e&&(D(qu(n,(function(e){return e.getDisplayString()})).map((function(e){return{result:e}}))),x(!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.error(t.t0),e&&b.notify("".concat(t.t0),"error");case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))(),function(){e=!1}}),[l,u,_,b,t]);var G=z||s||"",U=Math.min(Math.max(Object(E.measureText)(G,16)+45,p),550);return a.a.createElement(a.a.Fragment,null,a.a.createElement(lc.a,{id:"refNameAutocomplete-".concat(t.id),"data-testid":"autocomplete",disableListWrap:!0,disableClearable:!0,PopperComponent:Ku,disabled:!l,freeSolo:!0,includeInputInList:!0,selectOnFocus:!0,style:Pc(Pc({},c),{},{width:U}),value:G,loading:!k,inputValue:A,onInputChange:function(e,t){return L(t)},loadingText:"loading results",open:w,onOpen:function(){return O(!0)},onClose:function(){O(!1),x(!0),B&&(M(""),D(void 0))},onChange:function(e,t){t&&l&&(i("string"==typeof t?new ac.a({label:t}):t.result),L(G))},options:null!=N&&N.length?N:V,getOptionDisabled:function(e){return"limitOption"===(null==e?void 0:e.group)},filterOptions:function(e,t){var n=function(e,t){return e.filter((function(e){var n=e.result;return n.getLabel().toLowerCase().includes(t)||n.matchedObject}))}(e,t.inputValue.toLocaleLowerCase());return[].concat(Hc(n.slice(0,100)),Hc(n.length>100?[{group:"limitOption",result:new ac.a({label:"keep typing for more results"})}]:[]))},renderInput:function(e){var t=g.helperText,n=g.InputProps,r=void 0===n?{}:n;return a.a.createElement(J.a,Object.assign({onBlur:function(){L(G)}},e,g,{helperText:t,InputProps:Pc(Pc(Pc({},e.InputProps),r),{},{endAdornment:a.a.createElement(a.a.Fragment,null,0===W.length?a.a.createElement(Sl.a,{color:"inherit",size:20}):a.a.createElement(Q.a,{position:"end",style:{marginRight:7}},a.a.createElement(ic.a,null),o?a.a.createElement(h.a,{onClick:function(){return P(!0)}},a.a.createElement(Me.a,null)):null),e.InputProps.endAdornment)}),placeholder:"Search for location",onChange:function(e){M(e.target.value)}}))},renderOption:function(e){var t=e.result,n=t.getRenderingComponent();return n&&a.a.isValidElement(n)?n:a.a.createElement(f.a,{noWrap:!0},t.getDisplayString())},getOptionLabel:function(e){return("string"==typeof e?e:e.result.getLabel())||""}}),j?a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement($u,{handleClose:function(){return P(!1)}})):null)}var Yu=Object(o.observer)(Ju),Xu=Object(u.a)((function(){return{headerRefName:{minWidth:100}}}));function Zu(e){var t=e.model,n=e.showHelp,r=Xu(),o=Object(g.a)(),i=Object(E.getSession)(t),l=i.textSearchManager,c=i.assemblyManager,u=t.assemblyNames,s=t.rankSearchResults,d=u[0],f=c.get(d),p=t.searchScope(d);function m(e,t){return h.apply(this,arguments)}function h(){return(h=Mc(qc.mark((function e(t,n){var r,a,o;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l||console.warn("No text search manager"),e.next=3,null==l?void 0:l.search({queryString:t,searchType:n},p,s);case 3:return a=e.sent,o=null==f||null===(r=f.allRefNames)||void 0===r?void 0:r.filter((function(e){return e.startsWith(t)})).map((function(e){return new ac.a({label:e})})).slice(0,10),e.abrupt("return",qu([].concat(Hc(o||[]),Hc(a||[])),(function(e){return e.getId()})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Mc(qc.mark((function e(n){var r,a,o,l,c;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getTrackId(),a=n.getLocation(),o=n.getLabel(),e.prev=3,null==f||null===(l=f.allRefNames)||void 0===l||!l.includes(a)){e.next=8;break}t.navToLocString(a),e.next=19;break;case 8:return e.next=10,m(o,"exact");case 10:if(!((c=e.sent)&&c.length>1)){e.next=16;break}return t.setSearchResults(c,o.toLowerCase()),e.abrupt("return");case 16:1===(null==c?void 0:c.length)&&(a=c[0].getLocation(),r=c[0].getTrackId());case 17:t.navToLocString(a,d),r&&t.showTrack(r);case 19:e.next=25;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(e.t0),i.notify("".concat(e.t0),"warning");case 25:case"end":return e.stop()}}),e,null,[[3,21]])})))).apply(this,arguments)}return a.a.createElement(Yu,{showHelp:n,onSelect:function(e){return b.apply(this,arguments)},assemblyName:d,fetchResults:m,model:t,TextFieldProps:{variant:"outlined",className:r.headerRefName,style:{margin:ad,minWidth:"175px"},InputProps:{style:{padding:0,height:rd,background:Object(y.a)(o.palette.background.paper,.8)}}}})}var Qu=Object(o.observer)(Zu),es=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function ts(e){var t,n=e.model,o=e.handleClose,i="undefined"!=typeof OffscreenCanvas,l=Bc(Object(r.useState)(i),2),c=l[0],u=l[1],s=Bc(Object(r.useState)(!1),2),d=s[0],m=s[1],g=Bc(Object(r.useState)(),2),b=g[0],v=g[1],y=es();return a.a.createElement(p.a,{open:!0,onClose:o},a.a.createElement(an.a,null,"Export SVG",a.a.createElement(h.a,{className:y.closeButton,onClick:o},a.a.createElement(In.a,null))),a.a.createElement(on.a,null,b?a.a.createElement("div",{style:{color:"red"}},"".concat(b)):d?a.a.createElement("div",null,a.a.createElement(Sl.a,{size:20,style:{marginRight:20}}),a.a.createElement(f.a,{display:"inline"},"Creating SVG")):null,i?a.a.createElement(re.a,{control:a.a.createElement(ae.a,{checked:c,onChange:function(){return u((function(e){return!e}))}}),label:"Rasterize canvas based tracks? File may be much larger if this is turned off"}):a.a.createElement(f.a,null,"Note: rasterizing layers not yet supported in this browser, so SVG size may be large")),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{variant:"contained",color:"secondary",onClick:function(){return o()}},"Cancel"),a.a.createElement(cn.a,{variant:"contained",color:"primary",type:"submit",onClick:(t=Mc(qc.mark((function e(){return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),v(void 0),e.prev=2,e.next=5,n.exportSvg({rasterizeLayers:c});case 5:o(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0),v(e.t0);case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,8,12,15]])}))),function(){return t.apply(this,arguments)})},"Submit")))}var ns=Object(u.a)({container:{display:"flex",flexDirection:"row",alignItems:"center"},slider:{width:70}});function rs(e){var t=e.model,n=ns(),o=t.maxBpPerPx,i=t.minBpPerPx,l=t.bpPerPx,c=t.scaleFactor,u=Bc(Object(r.useState)(100*-Math.log2(l)),2),s=u[0],d=u[1];return Object(r.useEffect)((function(){d(100*-Math.log2(l))}),[d,l]),a.a.createElement("div",{className:n.container},a.a.createElement(h.a,{"data-testid":"zoom_out",onClick:function(){t.zoom(2*l)},disabled:l>=o-1e-4||1!==c,color:"secondary"},a.a.createElement(ai.a,null)),a.a.createElement(fc.a,{className:n.slider,value:s,min:100*-Math.log2(o),max:100*-Math.log2(i),onChange:function(e,t){return d(t)},onChangeCommitted:function(){return t.zoomTo(Math.pow(2,-s/100))},disabled:1!==c}),a.a.createElement(h.a,{"data-testid":"zoom_in",onClick:function(){t.zoom(t.bpPerPx/2)},disabled:l<=i+1e-4||1!==c,color:"secondary"},a.a.createElement(ii.a,null)))}var as=Object(o.observer)(rs),os=Object(u.a)((function(e){return{headerBar:{height:Qs,display:"flex"},headerForm:{flexWrap:"nowrap",marginRight:7},spacer:{flexGrow:1},panButton:{background:Object(y.a)(e.palette.background.paper,.8),height:rd,margin:ad},bp:{display:"flex",alignItems:"center",marginLeft:5},toggleButton:{height:44,border:"none",margin:e.spacing(.5)},buttonSpacer:{marginRight:e.spacing(2)}}})),is=Object(o.observer)((function(e){var t=e.model,n=os();return a.a.createElement(cn.a,{onClick:t.activateTrackSelector,className:n.toggleButton,title:"Open track selector",value:"track_select",color:"secondary"},a.a.createElement(Qn.TrackSelector,{className:n.buttonSpacer}))}));function ls(e){var t=e.model,n=os();return a.a.createElement(a.a.Fragment,null,a.a.createElement(cn.a,{variant:"outlined",className:n.panButton,onClick:function(){return t.slide(-.9)}},a.a.createElement(dc.a,null)),a.a.createElement(cn.a,{variant:"outlined",className:n.panButton,onClick:function(){return t.slide(.9)}},a.a.createElement(uc.a,null)))}var cs=Object(o.observer)((function(e){var t=e.model,n=os(),r=t.coarseTotalBp;return a.a.createElement(f.a,{variant:"body2",color:"textSecondary",className:n.bp},Math.round(r).toLocaleString("en-US")," bp")})),us=function(e){var t=e.model,n=os();return a.a.createElement("div",{className:n.headerBar},a.a.createElement(is,{model:t}),a.a.createElement("div",{className:n.spacer}),a.a.createElement(ue.a,{row:!0,className:n.headerForm},a.a.createElement(ls,{model:t}),a.a.createElement(Qu,{model:t})),a.a.createElement(cs,{model:t}),a.a.createElement(as,{model:t}),a.a.createElement("div",{className:n.spacer}))},ss=Object(o.observer)((function(e){var t=e.model;return t.hideHeaderOverview?a.a.createElement(us,{model:t}):a.a.createElement(Du,{model:t},a.a.createElement(us,{model:t}))})),ds=Object(u.a)((function(e){return{root:{background:Object(y.a)(e.palette.background.paper,.8),"&:hover":{background:e.palette.background.paper},transition:e.transitions.create(["background"],{duration:e.transitions.duration.shortest})},trackName:{margin:"0 auto",width:"90%",fontSize:"0.8rem",pointerEvents:"none"},dragHandle:{cursor:"grab",color:"#135560"},dragHandleIcon:{display:"inline-block",verticalAlign:"middle",pointerEvents:"none"},iconButton:{padding:e.spacing(1)}}})),fs=a.a.forwardRef((function(e,t){var n,r=ds(),o=Bc(a.a.useState(null),2),i=o[0],u=o[1],s=e.track,d=e.className,p=Object(E.getContainingView)(s),g=Object(E.getSession)(s),b=s.configuration,v=Object(l.getConf)(s,"trackId"),y=function(){u(null)},w=Object(l.getConf)(s,"name");"ReferenceSequenceTrack"===Object(l.getConf)(s,"type")&&(w="Reference Sequence",g.assemblies.forEach((function(e){e.sequence===b&&(w="Reference Sequence (".concat(Object(l.readConfObject)(e,"name"),")"))})));var O=[].concat(Hc(null===(n=g.getTrackActionMenuItems)||void 0===n?void 0:n.call(g,b)),Hc(s.trackMenuItems())).sort((function(e,t){return(t.priority||0)-(e.priority||0)}));return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{ref:t,className:Object(Bn.default)(d,r.root)},a.a.createElement("span",{draggable:!0,className:r.dragHandle,onDragStart:function(e){var t=e.target;t.parentNode&&(e.dataTransfer.setDragImage(t.parentNode,20,20),p.setDraggingTrackId(s.id))},onDragEnd:function(){p.setDraggingTrackId(void 0)},"data-testid":"dragHandle-".concat(p.id,"-").concat(v)},a.a.createElement(gc.a,{className:r.dragHandleIcon})),a.a.createElement(h.a,{onClick:function(){return p.hideTrack(v)},className:r.iconButton,title:"close this track",color:"secondary"},a.a.createElement(In.a,null)),a.a.createElement(f.a,{variant:"body1",component:"span",className:r.trackName},w),a.a.createElement(h.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},className:r.iconButton,color:"secondary","data-testid":"track_menu_icon",disabled:!O.length},a.a.createElement(mc.a,null))),a.a.createElement(c.Menu,{anchorEl:i,onMenuItemClick:function(e,t){t(),y()},open:Boolean(i),onClose:y,menuItems:O}))})),ps=Object(o.observer)(fs),ms=Object(u.a)((function(e){return{root:{marginTop:2},resizeHandle:{height:nd,boxSizing:"border-box",position:"relative",zIndex:2},overlay:{pointerEvents:"none",position:"absolute",top:0,left:0,width:"100%",zIndex:3,borderRadius:e.shape.borderRadius},trackLabel:{zIndex:3},renderingComponentContainer:{position:"absolute",left:-1,height:"100%",width:"100%"},trackLabelInline:{position:"relative",display:"inline-block"},trackLabelOverlap:{position:"absolute"},trackRenderingContainer:{overflowY:"auto",overflowX:"hidden",whiteSpace:"nowrap",position:"relative",background:"none",zIndex:2}}})),hs=Object(o.observer)((function(e){var t=e.model,n=e.view,r=ms(),o="overlapping"===n.trackLabels?r.trackLabelOverlap:r.trackLabelInline;return"hidden"!==n.trackLabels?a.a.createElement(ps,{track:t,className:Object(Bn.default)(r.trackLabel,o)}):null}));function gs(e){var t=e.model,n=e.track,o=ms(),u=n.displays[0],s=t.horizontalScroll,d=t.draggingTrackId,f=t.moveTrack,p=u.height,h=Object(l.getConf)(n,"trackId"),g=Object(r.useRef)(null);Object(r.useEffect)((function(){return g.current&&(t.trackRefs[h]=g.current),function(){delete t.trackRefs[h]}}),[t.trackRefs,h]);var b=Object(E.useDebouncedCallback)((function(){void 0!==d&&Object(i.isAlive)(u)&&d!==u.id&&f(d,n.id)}),100),v=u.RenderingComponent,y=u.DisplayBlurb,w=void 0!==d&&d!==u.id;return a.a.createElement(m.a,{className:o.root,variant:"outlined"},a.a.createElement(hs,{model:n,view:t}),a.a.createElement("div",{className:o.trackRenderingContainer,style:{height:p},onScroll:function(e){var t=e.target;u.setScrollTop(t.scrollTop)},onDragEnter:b,"data-testid":"trackRenderingContainer-".concat(t.id,"-").concat(h),role:"presentation"},a.a.createElement("div",{ref:g,className:o.renderingComponentContainer,style:{transform:"scaleX(".concat(t.scaleFactor,")")}},a.a.createElement(v,{model:u,onHorizontalScroll:s})),y?a.a.createElement("div",{style:{position:"absolute",left:0,top:u.height-20}},a.a.createElement(y,{model:u})):null),a.a.createElement("div",{className:o.overlay,style:{height:u.height,background:w?"rgba(0, 0, 0, 0.4)":void 0},onDragEnter:b}),a.a.createElement(c.ResizeHandle,{onDrag:u.resizeHeight,className:o.resizeHandle}))}var bs=Object(o.observer)(gs),vs=Object(u.a)((function(e){return{rubberBand:{height:"100%",background:e.palette.tertiary?Object(yc.alpha)(e.palette.tertiary.main,.7):Object(yc.alpha)(e.palette.primary.main,.7),position:"absolute",zIndex:10,textAlign:"center",overflow:"hidden"},rubberBandControl:{cursor:"crosshair",width:"100%",minHeight:8},rubberBandText:{color:e.palette.tertiary?e.palette.tertiary.contrastText:e.palette.primary.contrastText},popover:{mouseEvents:"none",cursor:"crosshair"},paper:{paddingLeft:e.spacing(1),paddingRight:e.spacing(1)},guide:{pointerEvents:"none",height:"100%",width:1,position:"absolute",zIndex:10}}})),ys=Object(o.observer)((function(e){var t=e.model,n=e.coordX,r=vs();return a.a.createElement(K.a,{open:!0,placement:"top",title:Object(E.stringify)(t.pxToBp(n)),arrow:!0},a.a.createElement("div",{className:r.guide,style:{left:n,background:"red"}}))}));function ws(e){var t=e.model,n=e.ControlComponent,o=void 0===n?a.a.createElement("div",null):n,i=Bc(Object(r.useState)(),2),l=i[0],u=i[1],s=Bc(Object(r.useState)(),2),d=s[0],p=s[1],m=Bc(Object(r.useState)(),2),h=m[0],g=m[1],b=Bc(Object(r.useState)(),2),v=b[0],y=b[1],w=Object(r.useRef)(null),O=Object(r.useRef)(null),C=vs(),k=void 0!==l&&void 0===h,x=t.setOffsets,S=t.pxToBp;function j(e){e.preventDefault(),e.stopPropagation();var t=e.clientX-e.target.getBoundingClientRect().left;u(t),p(t)}function P(e){var t=e.target;y(e.clientX-t.getBoundingClientRect().left)}function T(){y(void 0),t.setOffsets(void 0,void 0)}function R(){g(void 0),u(void 0),p(void 0)}Object(r.useEffect)((function(){function e(e){if(w.current&&k){var t=e.clientX-w.current.getBoundingClientRect().left;p(t)}}function t(e){if(void 0!==l&&w.current){var t=e.clientX,n=e.clientY,r=t-w.current.getBoundingClientRect().left;g({offsetX:r,clientX:t,clientY:n});var a=function(e){if(void 0!==l){var t=l,n=e;if(n<t){var r=[n,t];t=r[0],n=r[1]}return{leftOffset:S(t),rightOffset:S(n)}}}(r),o=a.leftOffset,i=a.rightOffset;x(o,i),y(void 0)}}return k?(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t),function(){window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}):function(){}}),[l,k,h,x,S]),Object(r.useEffect)((function(){!k&&void 0!==d&&void 0!==l&&Math.abs(d-l)<=3&&R()}),[k,d,l,t.bpPerPx]);var M=Boolean(h);if(void 0===l)return a.a.createElement(a.a.Fragment,null,void 0!==v?a.a.createElement(ys,{model:t,coordX:v}):null,a.a.createElement("div",{"data-testid":"rubberBand_controls",className:C.rubberBandControl,role:"presentation",ref:w,onMouseDown:j,onMouseOut:T,onMouseMove:P},o));var I=h?h.offsetX:d||0,A=I<l?I:l,L=Math.abs(I-l),F=t.pxToBp(A),N=t.pxToBp(A+L),D=Math.ceil(L*t.bpPerPx);return a.a.createElement(a.a.Fragment,null,O.current?a.a.createElement(a.a.Fragment,null,a.a.createElement(kl.a,{className:C.popover,classes:{paper:C.paper},open:!0,anchorEl:O.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"bottom",horizontal:"right"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(f.a,null,Object(E.stringify)(F))),a.a.createElement(kl.a,{className:C.popover,classes:{paper:C.paper},open:!0,anchorEl:O.current,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,disableRestoreFocus:!0},a.a.createElement(f.a,null,Object(E.stringify)(N)))):null,a.a.createElement("div",{ref:O,className:C.rubberBand,style:{left:A,width:L}},a.a.createElement(f.a,{variant:"h6",className:C.rubberBandText},D.toLocaleString("en-US")," bp")),a.a.createElement("div",{"data-testid":"rubberBand_controls",className:C.rubberBandControl,role:"presentation",ref:w,onMouseDown:j,onMouseOut:T,onMouseMove:P},o),h?a.a.createElement(c.Menu,{anchorReference:"anchorPosition",anchorPosition:{left:h.clientX,top:h.clientY},onMenuItemClick:function(e,t){t(),R()},open:M,onClose:R,menuItems:t.rubberBandMenuItems()}):null)}ws.propTypes={model:o.PropTypes.objectOrObservableObject.isRequired,ControlComponent:Ae.a.node},ws.defaultProps={ControlComponent:a.a.createElement("div",null)};var Os=Object(o.observer)(ws),Cs=["model","style","className"],Es=Object(u.a)((function(e){return{scaleBarContainer:{overflow:"hidden",position:"relative"},scaleBarZoomContainer:{position:"relative",zIndex:1},scaleBar:{position:"absolute",display:"flex",pointerEvents:"none"},majorTickLabel:{fontSize:"11px",zIndex:1,background:e.palette.background.paper,lineHeight:"normal",pointerEvents:"none"},tick:{position:"absolute",width:0,display:"flex",justifyContent:"center",pointerEvents:"none"},refLabel:{fontSize:"11px",position:"absolute",left:"2px",top:"-1px",fontWeight:"bold",lineHeight:"normal",zIndex:1,pointerEvents:"none",background:e.palette.background.paper}}})),ks=Object(o.observer)((function(e){var t=e.model,n=Es(),r=0;return t.staticBlocks.forEach((function(e,n){e.offsetPx-t.offsetPx<0&&(r=n)})),a.a.createElement(a.a.Fragment,null,t.staticBlocks.map((function(e,o){return e instanceof Al.ContentBlock&&(e.isLeftEndOfDisplayedRegion||o===r)?a.a.createElement(f.a,{key:"refLabel-".concat(e.key,"-").concat(o),style:{left:o===r?Math.max(0,-t.offsetPx):e.offsetPx-t.offsetPx-1,paddingLeft:o===r?0:1},className:n.refLabel,"data-testid":"refLabel-".concat(e.refName)},e.refName):null})))})),xs=Object(o.observer)((function(e){var t=e.model,n=Es();return a.a.createElement(a.a.Fragment,null,t.staticBlocks.map((function(e,r){if(e instanceof Al.ContentBlock){var o=Ou(e.start,e.end,t.bpPerPx,!0,!1);return a.a.createElement(Jc,{key:"".concat(e.key,"-").concat(r),block:e},o.map((function(r){if("major"===r.type){var o=(e.reversed?e.end-r.base:r.base-e.start)/t.bpPerPx,i=(r.base+1).toLocaleString("en-US");return a.a.createElement("div",{key:r.base,className:n.tick,style:{left:o}},i?a.a.createElement(f.a,{className:n.majorTickLabel},i):null)}return null})))}return e instanceof Al.ElidedBlock?a.a.createElement(Yc,{key:e.key,width:e.widthPx}):e instanceof Al.InterRegionPaddingBlock?a.a.createElement(Xc,{key:e.key,width:e.widthPx,style:{background:"none"},boundary:"boundary"===e.variant}):null})))})),Ss=a.a.forwardRef((function(e,t){var n=e.model,r=e.style,o=e.className,i=Dc(e,Cs),l=Es(),c=n.staticBlocks.offsetPx-n.offsetPx;return a.a.createElement(m.a,Object.assign({"data-resizer":"true",className:Object(Bn.default)(l.scaleBarContainer,o),variant:"outlined",ref:t,style:r},i),a.a.createElement("div",{className:l.scaleBarZoomContainer,style:{transform:1!==n.scaleFactor?"scaleX(".concat(n.scaleFactor,")"):void 0}},a.a.createElement("div",{className:l.scaleBar,style:Pc({left:c-1,width:n.staticBlocks.totalWidthPx},r)},a.a.createElement(xs,{model:n}))),a.a.createElement(ks,{model:n}))})),js=Object(o.observer)(Ss),Ps=Object(u.a)((function(e){return{verticalGuidesZoomContainer:{position:"absolute",height:"100%",width:"100%",zIndex:1,pointerEvents:"none"},verticalGuidesContainer:{position:"absolute",height:"100%",zIndex:1,pointerEvents:"none",display:"flex"},tick:{position:"absolute",height:"100%",width:1},majorTick:{background:e.palette.text.hint},minorTick:{background:e.palette.divider}}})),Ts=Object(o.observer)((function(e){var t=e.model,n=Ps();return a.a.createElement(a.a.Fragment,null,t.staticBlocks.map((function(e,r){if(e instanceof Al.ContentBlock){var o=Ou(e.start,e.end,t.bpPerPx);return a.a.createElement(Jc,{key:"".concat(e.key,"-").concat(r),block:e},o.map((function(r){var o=(e.reversed?e.end-r.base:r.base-e.start)/t.bpPerPx;return a.a.createElement("div",{key:r.base,className:Object(Bn.default)(n.tick,"major"===r.type||"labeledMajor"===r.type?n.majorTick:n.minorTick),style:{left:o}})})))}return e instanceof Al.ElidedBlock?a.a.createElement(Yc,{key:e.key,width:e.widthPx}):e instanceof Al.InterRegionPaddingBlock?a.a.createElement(Xc,{key:e.key,width:e.widthPx,boundary:"boundary"===e.variant}):null})))}));function Rs(e){var t=e.model,n=Ps(),r=t.staticBlocks.offsetPx-t.offsetPx;return a.a.createElement("div",{className:n.verticalGuidesZoomContainer,style:{transform:1!==t.scaleFactor?"scaleX(".concat(t.scaleFactor,")"):void 0}},a.a.createElement("div",{className:n.verticalGuidesContainer,style:{left:r,width:t.staticBlocks.totalWidthPx}},a.a.createElement(Ts,{model:t})))}var Ms=Object(o.observer)(Rs),Is=Object(u.a)((function(){return{centerLineContainer:{background:"transparent",height:"100%",zIndex:5,position:"absolute",border:"1px black dashed",borderTop:"none",borderBottom:"none",pointerEvents:"none"},centerLineText:{position:"absolute",pointerEvents:"none",whiteSpace:"nowrap",fontWeight:"bold"}}}));function As(e){var t=e.model,n=t.bpPerPx,o=t.centerLineInfo,i=t.trackHeights,l=t.tracks,c=t.width,u=Object(r.useRef)(null),s=Is(),d=c/2;return l.length?a.a.createElement("div",{"data-testid":"centerline_container",className:s.centerLineContainer,role:"presentation",ref:u,style:{left:"".concat(d,"px"),width:Math.max(1/n,1)}},o&&a.a.createElement("div",{"data-testid":"centerline_text",className:s.centerLineText,role:"presentation",style:{left:Math.max(1/n,1)+5,top:i}},o.refName,":"," ",Math.max(Math.round(o.offset)+1,0))):null}As.propTypes={model:o.PropTypes.objectOrObservableObject.isRequired};var Ls=Object(o.observer)(As),Fs=Object(u.a)((function(e){return{tracksContainer:{position:"relative",borderRadius:e.shape.borderRadius,overflow:"hidden"},spacer:{position:"relative",height:nd}}}));function Ns(e){var t=e.children,n=e.model,o=Fs(),i=Object(r.useRef)(0),l=Object(r.useRef)(!1),c=Object(r.useRef)(),u=Object(r.useRef)(null),s=Object(r.useRef)(0),d=Bc(Object(r.useState)(!1),2),f=d[0],p=d[1];return Object(r.useEffect)((function(){var e=function(){};function t(e){e.preventDefault();var t=e.clientX-s.current;t&&(l.current||(l.current=!0,window.requestAnimationFrame((function(){n.horizontalScroll(-t),l.current=!1,s.current=e.clientX}))))}function r(){s.current=0,f&&p(!1)}return f&&(window.addEventListener("mousemove",t,!0),window.addEventListener("mouseup",r,!0),e=function(){window.removeEventListener("mousemove",t,!0),window.removeEventListener("mouseup",r,!0)}),e}),[n,f,s]),Object(r.useEffect)((function(){var e=u.current;function t(e){var t=vc()(e);!0===e.ctrlKey?(e.preventDefault(),i.current+=t.pixelY/500,n.setScaleFactor(i.current<0?1-i.current:1/(1+i.current)),c.current&&clearTimeout(c.current),c.current=setTimeout((function(){n.setScaleFactor(1),n.zoomTo(i.current>0?n.bpPerPx*(1+i.current):n.bpPerPx/(1-i.current)),i.current=0}),300)):(Math.abs(t.pixelX)>Math.abs(2*t.pixelY)&&e.preventDefault(),i.current+=t.pixelX,l.current||(l.current=!0,window.requestAnimationFrame((function(){n.horizontalScroll(i.current),i.current=0,l.current=!1}))))}return e?(e.addEventListener("wheel",t),function(){e.removeEventListener("wheel",t)}):function(){}}),[n]),a.a.createElement("div",{ref:u,role:"presentation",className:o.tracksContainer,onMouseDown:function(e){var t=e.target;t.draggable||t.dataset.resizer||0===e.button&&(s.current=e.clientX,p(!0))},onMouseUp:function(e){e.preventDefault(),p(!1)},onMouseLeave:function(e){e.preventDefault()}},a.a.createElement(Ms,{model:n}),n.showCenterLine?a.a.createElement(Ls,{model:n}):null,a.a.createElement(Os,{model:n,ControlComponent:a.a.createElement(js,{model:n,style:{height:td,boxSizing:"border-box"}})}),t)}var Ds=Object(o.observer)(Ns),_s=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Js}))})),zs=Object(u.a)((function(e){return{importFormContainer:{padding:e.spacing(2)},button:{margin:e.spacing(2)}}})),Bs=Object(o.observer)((function(e){var t,n=e.model,o=zs(),i=Object(E.getSession)(n),l=i.assemblyNames,c=i.assemblyManager,u=i.textSearchManager,s=n.rankSearchResults,d=n.isSearchDialogDisplayed,f=n.error,p=Bc(Object(r.useState)(l[0]),2),m=p[0],h=p[1],g=Bc(Object(r.useState)(f),2),b=g[0],v=g[1],y=n.searchScope(m),w=c.get(m),O=l.length?null==w?void 0:w.error:"No configured assemblies",C=(null==w?void 0:w.regions)||[],k=O||b,x=Bc(Object(r.useState)(),2),S=x[0],j=x[1],P=S||new ac.a({label:null===(t=C[0])||void 0===t?void 0:t.refName}),T=null==P?void 0:P.getLocation();function R(e,t){return M.apply(this,arguments)}function M(){return(M=Mc(qc.mark((function e(t,n){var r,a,o;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u||console.warn("No text search manager"),e.next=3,null==u?void 0:u.search({queryString:t,searchType:n},y,s);case 3:return a=e.sent,o=null==w||null===(r=w.allRefNames)||void 0===r?void 0:r.filter((function(e){return e.startsWith(t)})).map((function(e){return new ac.a({label:e})})).slice(0,10),e.abrupt("return",[].concat(Hc(o||[]),Hc(a||[])));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=Mc(qc.mark((function e(t){var r,a,o,l;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P){e.next=2;break}return e.abrupt("return");case 2:if(r=P.getTrackId(),a=t||P.getLocation()||"",e.prev=4,null==w||null===(o=w.allRefNames)||void 0===o||!o.includes(a)){e.next=9;break}n.navToLocString(a,m),e.next=20;break;case 9:return e.next=11,R(t,"exact");case 11:if(!((l=e.sent)&&l.length>1)){e.next=17;break}return n.setSearchResults(l,t.toLowerCase()),e.abrupt("return");case 17:1===(null==l?void 0:l.length)&&(a=l[0].getLocation(),r=l[0].getTrackId());case 18:n.navToLocString(a,m),r&&n.showTrack(r);case 20:e.next=26;break;case 22:e.prev=22,e.t0=e.catch(4),console.error(e.t0),i.notify("".concat(e.t0),"warning");case 26:case"end":return e.stop()}}),e,null,[[4,22]])})))).apply(this,arguments)}return a.a.createElement("div",null,k?a.a.createElement(bi.a,{error:k}):null,a.a.createElement(ti.a,{className:o.importFormContainer},a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},a.a.createElement(yn.a,{container:!0,spacing:1,justifyContent:"center",alignItems:"center"},a.a.createElement(yn.a,{item:!0},a.a.createElement(yi.a,{onChange:function(e){v(void 0),h(e)},session:i,selected:m})),a.a.createElement(yn.a,{item:!0},m?k?a.a.createElement(In.a,{style:{color:"red"}}):T?a.a.createElement(Yu,{fetchResults:R,model:n,assemblyName:O?void 0:m,value:T,minWidth:270,onSelect:function(e){return j(e)},TextFieldProps:{margin:"normal",variant:"outlined",helperText:"Enter sequence name, feature name, or location"}}):a.a.createElement(Sl.a,{role:"progressbar",size:20,disableShrink:!0}):null),a.a.createElement(yn.a,{item:!0}),a.a.createElement(yn.a,{item:!0},a.a.createElement(cn.a,{type:"submit",disabled:!T,className:o.button,onClick:function(){n.setError(void 0),T&&function(e){I.apply(this,arguments)}(T)},variant:"contained",color:"primary"},"Open"),a.a.createElement(cn.a,{disabled:!T,className:o.button,onClick:function(){n.setError(void 0),n.showAllRegionsInAssembly(m)},variant:"contained",color:"secondary"},"Show all regions in assembly"))))),d?a.a.createElement(_s,{model:n,optAssemblyName:m,handleClose:function(){return n.setSearchResults(void 0,void 0)}}):null)})),Hs=Object(o.observer)((function(e){var t=e.model,n=t.bpPerPx,o=t.maxBpPerPx,i=t.minBpPerPx,l=t.scaleFactor,c=Bc(Object(r.useState)(),2),u=c[0],s=c[1];return a.a.createElement(a.a.Fragment,null,a.a.createElement(m.a,{style:{background:"#aaa7"}},a.a.createElement(h.a,{color:"secondary",onClick:function(e){s(e.currentTarget)}},a.a.createElement(Oc.a,null)),a.a.createElement(h.a,{"data-testid":"zoom_out",onClick:function(){t.zoom(2*n)},disabled:n>=o-1e-4||1!==l,color:"secondary"},a.a.createElement(ai.a,null)),a.a.createElement(h.a,{"data-testid":"zoom_in",onClick:function(){t.zoom(t.bpPerPx/2)},disabled:n<=i+1e-4||1!==l,color:"secondary"},a.a.createElement(ii.a,null))),a.a.createElement(nr.a,{anchorEl:u,open:Boolean(u),onMenuItemClick:function(e,t){t(),s(void 0)},onClose:function(){s(void 0)},menuItems:t.menuItems()}))})),Ws=Object(u.a)((function(e){return{loadingMessage:{padding:e.spacing(5)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},dialogContent:{width:"80em"},textAreaFont:{fontFamily:"Courier New"}}}));function Vs(e,t,n){return Gs.apply(this,arguments)}function Gs(){return(Gs=Mc(qc.mark((function e(t,n,r){var a,o,i,c,u,s,d,f,p;return qc.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Object(E.getSession)(t),o=t.leftOffset,i=t.rightOffset,o&&i){e.next=4;break}throw new Error("no offsets on model to use for range");case 4:if(o.assemblyName===i.assemblyName){e.next=6;break}throw new Error("not able to fetch sequences from multiple assemblies");case 6:if(c=a.rpcManager,u=a.assemblyManager,s=o.assemblyName||i.assemblyName||"",d=u.get(s)){e.next=11;break}throw new Error("assembly ".concat(s," not found"));case 11:return f=Object(l.getConf)(d,["sequence","adapter"]),"getSequence",e.next=15,Promise.all(n.map((function(e){return c.call("getSequence","CoreGetFeatures",{adapterConfig:f,region:e,sessionId:"getSequence",signal:r})})));case 15:return p=e.sent,e.abrupt("return",p.map((function(e){return e[0]})));case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Us(e){var t=e.model,n=e.handleClose,o=Ws(),i=Object(E.getSession)(t),l=Bc(Object(r.useState)(),2),c=l[0],u=l[1],s=Bc(Object(r.useState)(),2),d=s[0],m=s[1],g=Boolean(void 0===d),b=t.leftOffset,v=t.rightOffset,y=Object(r.useMemo)((function(){return t.getSelectedRegions(b,v)}),[t,b,v]);Object(r.useEffect)((function(){var e=!0,n=new AbortController;return Mc(qc.mark((function r(){var a;return qc.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!(y.length>0)){r.next=8;break}return r.next=4,Vs(t,y,n.signal);case 4:a=r.sent,e&&m(Object(kc.formatSeqFasta)(a.filter((function(e){return!!e})).map((function(e){var t=e.get("seq"),n=e.get("refName"),r=e.get("start")+1,a=e.get("end"),o="".concat(n,":").concat(r,"-").concat(a);if((null==t?void 0:t.length)!==a-r+1)throw new Error("".concat(o," returned ").concat(t.length.toLocaleString()," bases, but should have returned ").concat((a-r).toLocaleString()));return{header:o,seq:t}})))),r.next=9;break;case 8:throw new Error("Selected region is out of bounds");case 9:r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0),e&&u(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,11]])})))(),function(){n.abort(),e=!1}}),[t,i,y,m]);var w=!!d&&d.length>1e6;return a.a.createElement(p.a,{"data-testid":"sequence-dialog",maxWidth:"xl",open:!0,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(an.a,{id:"alert-dialog-title"},"Reference sequence",n?a.a.createElement(h.a,{"data-testid":"close-seqDialog",className:o.closeButton,onClick:function(){n(),t.setOffsets(void 0,void 0)}},a.a.createElement(In.a,null)):null),a.a.createElement(jl.a,null),a.a.createElement(on.a,null,c?a.a.createElement(f.a,{color:"error"},"".concat(c)):null,g&&!c?a.a.createElement(ti.a,null,"Retrieving reference sequence...",a.a.createElement(Sl.a,{style:{marginLeft:10},size:20,disableShrink:!0})):null,a.a.createElement(J.a,{"data-testid":"rubberband-sequence",variant:"outlined",multiline:!0,rows:5,disabled:w,className:o.dialogContent,fullWidth:!0,value:w?"Reference sequence too large to display, use the download FASTA button":d,InputProps:{readOnly:!0,classes:{input:o.textAreaFont}}})),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){Ec()(d||""),i.notify("Copied to clipboard","success")},disabled:g||!!c||w,color:"primary",startIcon:a.a.createElement(Qn.ContentCopy,null)},"Copy to clipboard"),a.a.createElement(cn.a,{onClick:function(){var e=new Blob([d||""],{type:"text/x-fasta;charset=utf-8"});Object(Ul.saveAs)(e,"jbrowse_ref_seq.fa")},disabled:g||!!c,color:"primary",startIcon:a.a.createElement(Sc.a,null)},"Download FASTA"),a.a.createElement(cn.a,{onClick:n,color:"primary",autoFocus:!0},"Close")))}var qs=Object(o.observer)(Us),$s=Object(u.a)((function(e){return{dialogContent:{width:"80em"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Ks(e){var t,n,r=e.model,o=e.optAssemblyName,l=e.handleClose,c=$s(),u=Object(E.getSession)(r),s=Object(i.getEnv)(u).pluginManager,d=u.assemblyManager,g=o;r.displayedRegions.length>0&&(g=null===(n=r.displayedRegions[0])||void 0===n?void 0:n.assemblyName);if(!g)throw new Error("Assembly name not found");var b=d.get(g);if(!b)throw new Error("assembly ".concat(g," not found"));if(!b.regions)throw new Error("assembly ".concat(g," regions not loaded"));var v=b.regions;function y(e){if(e){var t,n=s.pluggableConfigSchemaType("track"),a=Object(i.resolveIdentifier)(n,Object(i.getRoot)(r),e);if(a)return null===(t=a.name)||void 0===t?void 0:t.value}return""}return a.a.createElement(p.a,{open:!0,maxWidth:"xl",onClose:l},a.a.createElement(an.a,null,"Search results",l?a.a.createElement(h.a,{"data-testid":"close-resultsDialog",className:c.closeButton,onClick:function(){l()}},a.a.createElement(In.a,null)):null),a.a.createElement(jl.a,null),a.a.createElement(on.a,null,null!==(t=r.searchResults)&&void 0!==t&&t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,null,"Showing results for ",a.a.createElement("b",null,r.searchQuery)),a.a.createElement(hn.a,{component:m.a},a.a.createElement(gn.a,null,a.a.createElement(bn.a,null,a.a.createElement(pn.a,null,a.a.createElement(mn.a,null,"Name"),a.a.createElement(mn.a,{align:"right"},"Location"),a.a.createElement(mn.a,{align:"right"},"Track"),a.a.createElement(mn.a,{align:"right"}))),a.a.createElement(vn.a,null,r.searchResults.map((function(e){return a.a.createElement(pn.a,{key:"".concat(e.getId())},a.a.createElement(mn.a,{component:"th",scope:"row"},e.getLabel()),a.a.createElement(mn.a,{align:"right"},e.getLocation()),a.a.createElement(mn.a,{align:"right"},y(e.getTrackId())||"N/A"),a.a.createElement(mn.a,{align:"right"},a.a.createElement(cn.a,{onClick:function(){!function(e){try{var t=v.find((function(t){return e===t.refName}));t?(r.setDisplayedRegions([t]),r.showAllRegions()):r.navToLocString(e,g)}catch(e){console.warn(e),u.notify("".concat(e),"warning")}}(e.getLocation());var t=e.getTrackId();t&&r.showTrack(t),l()},disabled:!y(e.getTrackId()),color:"primary",variant:"contained"},"Go")))})))))):a.a.createElement(f.a,null,"No results found for ",a.a.createElement("b",null,r.searchQuery))),a.a.createElement(jl.a,null),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){return l()},color:"primary"},"Cancel")))}var Js={__proto__:null,useStyles:$s,default:Ks},Ys=Object(u.a)((function(e){return{note:{textAlign:"center",paddingTop:e.spacing(1),paddingBottom:e.spacing(1)},dots:{"&::after":{display:"inline-block",animation:"$ellipsis 1.5s infinite",content:'"."',width:"1em",textAlign:"left"}},"@keyframes ellipsis":{"0%":{content:'"."'},"33%":{content:'".."'},"66%":{content:'"..."'}}}})),Xs={__proto__:null,default:Object(o.observer)((function(e){var t=e.model,n=t.tracks,r=t.error,o=t.hideHeader,i=t.initialized,l=t.hasDisplayedRegions,c=Ys();return i||r?!l||r?a.a.createElement(Bs,{model:t}):a.a.createElement("div",{style:{position:"relative"}},t.seqDialogDisplayed?a.a.createElement(qs,{model:t,handleClose:function(){t.setSequenceDialogOpen(!1)}}):null,t.isSearchDialogDisplayed?a.a.createElement(Ks,{model:t,handleClose:function(){t.setSearchResults(void 0,void 0)}}):null,o?a.a.createElement("div",{style:{position:"absolute",right:0,zIndex:1001}},a.a.createElement(Hs,{model:t})):a.a.createElement(ss,{model:t}),a.a.createElement(Ds,{model:t},n.length?n.map((function(e){return a.a.createElement(bs,{key:e.id,model:t,track:e})})):a.a.createElement(m.a,{variant:"outlined",className:c.note},a.a.createElement(f.a,null,"No tracks active."),a.a.createElement(cn.a,{variant:"contained",color:"primary",onClick:t.activateTrackSelector,style:{zIndex:1e3},startIcon:a.a.createElement(Qn.TrackSelector,null)},"Open track selector")))):a.a.createElement(f.a,{className:c.dots,variant:"h5"},"Loading")}))};function Zs(e){if(!e.length)return"";var t=e.every((function(t){return t.assemblyName===e[0].assemblyName}));return e.map((function(e){return Object(E.assembleLocString)(Pc(Pc({},e),{},{start:Math.round(e.start),end:Math.round(e.end),assemblyName:t?void 0:e.assemblyName}))})).join(" ")}var Qs=48,ed=20,td=17,nd=3,rd=32,ad=7;function od(e){return"undefined"!=typeof localStorage?localStorage.getItem(e):void 0}function id(e){return i.types.compose(nn.BaseViewModel,i.types.model("LinearGenomeView",{id:_.ElementId,type:i.types.literal("LinearGenomeView"),offsetPx:0,bpPerPx:1,displayedRegions:i.types.array(_.Region),tracks:i.types.array(e.pluggableMstType("track","stateModel")),hideHeader:!1,hideHeaderOverview:!1,trackSelectorType:i.types.optional(i.types.enumeration(["hierarchical"]),"hierarchical"),trackLabels:i.types.optional(i.types.string,(function(){return od("lgv-trackLabels")||"overlapping"})),showCenterLine:i.types.optional(i.types.boolean,(function(){var e=od("lgv-showCenterLine");return null!=e&&!!+e})),showCytobandsSetting:i.types.optional(i.types.boolean,(function(){var e=od("lgv-showCytobands");return null==e||!!+e}))})).volatile((function(){return{volatileWidth:void 0,minimumBlockWidth:3,draggingTrackId:void 0,volatileError:void 0,afterDisplayedRegionsSetCallbacks:[],scaleFactor:1,trackRefs:{},coarseDynamicBlocks:[],coarseTotalBp:0,leftOffset:void 0,rightOffset:void 0,searchResults:void 0,searchQuery:void 0,seqDialogDisplayed:!1}})).views((function(e){return{get width(){if(void 0===e.volatileWidth)throw new Error("width undefined, make sure to check for model.initialized");return e.volatileWidth},get interRegionPaddingWidth(){return 2}}})).views((function(e){return{get assemblyErrors(){var t=Object(E.getSession)(e).assemblyManager;return this.assemblyNames.map((function(e){var n;return null===(n=t.get(e))||void 0===n?void 0:n.error})).filter((function(e){return!!e})).join(", ")},get assembliesInitialized(){var t=Object(E.getSession)(e).assemblyManager;return this.assemblyNames.every((function(e){var n;return null===(n=t.get(e))||void 0===n?void 0:n.initialized}))},get initialized(){return void 0!==e.volatileWidth&&this.assembliesInitialized},get hasDisplayedRegions(){return e.displayedRegions.length>0},get isSearchDialogDisplayed(){return void 0!==e.searchResults},get scaleBarHeight(){return td+nd},get headerHeight(){return e.hideHeader?0:e.hideHeaderOverview?Qs:Qs+ed},get trackHeights(){return e.tracks.map((function(e){return e.displays[0].height})).reduce((function(e,t){return e+t}),0)},get trackHeightsWithResizeHandles(){return this.trackHeights+e.tracks.length*nd},get height(){return this.trackHeightsWithResizeHandles+this.headerHeight+this.scaleBarHeight},get totalBp(){return e.displayedRegions.reduce((function(e,t){return e+t.end-t.start}),0)},get maxBpPerPx(){return this.totalBp/(.9*e.width)},get minBpPerPx(){return.02},get error(){return e.volatileError||this.assemblyErrors},get maxOffset(){return this.displayedRegionsTotalPx-10},get minOffset(){return 30-e.width},get displayedRegionsTotalPx(){return this.totalBp/e.bpPerPx},renderProps:function(){return Pc(Pc({},Object(rn.getParentRenderProps)(e)),{},{bpPerPx:e.bpPerPx,highResolutionScaling:Object(l.getConf)(Object(E.getSession)(e),"highResolutionScaling")})},get assemblyNames(){return Hc(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))))},searchScope:function(t){return{assemblyName:t,includeAggregateIndexes:!0,tracks:e.tracks}},bpToPx:function(t){var n=t.refName,r=t.coord,a=t.regionNumber;return Object(E.viewBpToPx)({refName:n,coord:r,regionNumber:a,self:e})},pxToBp:function(t){var n=0,r=(e.offsetPx+t)*e.bpPerPx,a=e.displayedRegions.length;if(r<0){var o=e.displayedRegions[0],l=r;return Pc(Pc({},Object(i.getSnapshot)(o)),{},{oob:!0,coord:o.reversed?Math.floor(o.end-l)+1:Math.floor(o.start+l)+1,offset:l,index:0})}for(var c=e.interRegionPaddingWidth*e.bpPerPx,u=e.minimumBlockWidth*e.bpPerPx,s=0;s<e.displayedRegions.length;s+=1){var d=e.displayedRegions[s],f=d.end-d.start,p=r-n;if(f+n>r&&n<=r)return Pc(Pc({},Object(i.getSnapshot)(d)),{},{oob:!1,offset:p,coord:d.reversed?Math.floor(d.end-p)+1:Math.floor(d.start+p)+1,index:s});d.end-d.start>u&&p/e.bpPerPx>0&&p/e.bpPerPx<e.width?n+=f+c:n+=f}if(r>=n){var m=e.displayedRegions[a-1],h=r-n+(m.end-m.start);return Pc(Pc({},Object(i.getSnapshot)(m)),{},{oob:!0,offset:h,coord:m.reversed?Math.floor(m.end-h)+1:Math.floor(m.start+h)+1,index:a-1})}return{coord:0,index:0,refName:"",oob:!0,assemblyName:"",offset:0,start:0,end:0,reversed:!1}},getTrack:function(t){return e.tracks.find((function(e){return e.configuration.trackId===t}))},rankSearchResults:function(t){var n=e.tracks.map((function(e){return e.configuration.trackId}));return t.forEach((function(e){n!==[]&&n.includes(e.trackId)&&e.updateScore(e.getScore()+1)})),t},rewriteOnClicks:function(t,n){var r=this;n.forEach((function(n){if("subMenu"in n&&r.rewriteOnClicks(t,n.subMenu),"onClick"in n){var a=n.onClick;n.onClick=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.tracks.forEach((function(e){e.type===t&&a.apply(e,[e].concat(r))}))}}}))},get trackTypeActions(){var t=this,n=new Map;return e.tracks.forEach((function(e){if(!n.get(e.type)){var r=Gl()(e.viewMenuActions);t.rewriteOnClicks(e.type,r),n.set(e.type,r)}})),n},get centerLineInfo(){return e.displayedRegions.length?this.pxToBp(e.width/2):void 0}}})).actions((function(t){return{setShowCytobands:function(e){t.showCytobandsSetting=e,localStorage.setItem("lgv-showCytobands","".concat(+e))},setWidth:function(e){t.volatileWidth=e},setError:function(e){t.volatileError=e},toggleHeader:function(){t.hideHeader=!t.hideHeader},toggleHeaderOverview:function(){t.hideHeaderOverview=!t.hideHeaderOverview},scrollTo:function(e){var n=Object(E.clamp)(e,t.minOffset,t.maxOffset);return t.offsetPx=n,n},zoomTo:function(e){var n=Object(E.clamp)(e,t.minBpPerPx,t.maxBpPerPx);if(n===t.bpPerPx)return n;var r=t.bpPerPx;if(t.bpPerPx=n,Math.abs(r-n)<1e-6)return console.warn("zoomTo bpPerPx rounding error"),r;var a=t.width;return this.scrollTo(Math.round((t.offsetPx+a/2)*r/n-a/2)),n},setOffsets:function(e,n){t.leftOffset=e,t.rightOffset=n},setSearchResults:function(e,n){t.searchResults=e,t.searchQuery=n},setSequenceDialogOpen:function(e){t.seqDialogDisplayed=e},setNewView:function(e,t){this.zoomTo(e),this.scrollTo(t)},horizontallyFlip:function(){t.displayedRegions=Object(i.cast)(t.displayedRegions.slice().reverse().map((function(e){return Pc(Pc({},e),{},{reversed:!e.reversed})}))),this.scrollTo(t.totalBp/t.bpPerPx-t.offsetPx-t.width)},showTrack:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e.pluggableConfigSchemaType("track"),l=Object(i.resolveIdentifier)(o,Object(i.getRoot)(t),n);if(!l)throw new Error('Could not resolve identifier "'.concat(n,'"'));var c=e.getTrackType(null==l?void 0:l.type);if(!c)throw new Error("Unknown track type ".concat(l.type));var u=e.getViewType(t.type),s=u.displayTypes.map((function(e){return e.name})),d=l.displays.find((function(e){return s.includes(e.type)}));if(!d)throw new Error("Could not find a compatible display for view type ".concat(t.type));var f=t.tracks.filter((function(e){return e.configuration===l}));if(0===f.length){var p=c.stateModel.create(Pc(Pc({},r),{},{type:l.type,configuration:l,displays:[Pc({type:d.type,configuration:d},a)]}));return t.tracks.push(p),p}return f[0]},hideTrack:function(n){var r=e.pluggableConfigSchemaType("track"),a=Object(i.resolveIdentifier)(r,Object(i.getRoot)(t),n),o=t.tracks.filter((function(e){return e.configuration===a}));return Object(Ko.transaction)((function(){return o.forEach((function(e){return t.tracks.remove(e)}))})),o.length}}})).actions((function(e){return{moveTrack:function(t,n){var r=e.tracks.findIndex((function(e){return e.id===t}));if(-1===r)throw new Error("Track ID ".concat(t," not found"));var a=e.tracks.findIndex((function(e){return e.id===n}));if(-1===a)throw new Error("Track ID ".concat(n," not found"));var o=Object(i.getSnapshot)(e.tracks[r]);e.tracks.splice(r,1),e.tracks.splice(a,0,o)},closeView:function(){var t=Object(E.getContainingView)(e);t?Object(E.isViewContainer)(t)&&t.removeView(e):Object(E.getSession)(e).removeView(e)},toggleTrack:function(t){e.hideTrack(t)||e.showTrack(t)},setTrackLabels:function(t){e.trackLabels=t,localStorage.setItem("lgv-trackLabels",t)},toggleCenterLine:function(){e.showCenterLine=!e.showCenterLine,localStorage.setItem("lgv-showCenterLine","".concat(+e.showCenterLine))},setDisplayedRegions:function(t){e.displayedRegions=Object(i.cast)(t),e.zoomTo(e.bpPerPx)},activateTrackSelector:function(){if("hierarchical"===e.trackSelectorType){var t=Object(E.getSession)(e);if(Object(E.isSessionModelWithWidgets)(t)){var n=t.addWidget("HierarchicalTrackSelectorWidget","hierarchicalTrackSelector",{view:e});return t.showWidget(n),n}}throw new Error("invalid track selector type ".concat(e.trackSelectorType))},navToLocString:function(t,n){var r=e.assemblyNames,a=Object(E.getSession)(e).assemblyManager,o=a.isValidRefName,i=n||r[0],l=t.split(" ").filter((function(e){return!!e.trim()})).map((function(e){return Object(E.parseLocString)(e,(function(e){return o(e,i)}))})).map((function(e){var t=e.assemblyName||i,n=a.get(t),r=e.refName;if(!n)throw new Error("assembly ".concat(t," not found"));var o=n.regions;if(!o)throw new Error("regions not loaded yet for ".concat(t));var l=n.getCanonicalRefName(e.refName);if(!l)throw new Error("Could not find refName ".concat(r," in ").concat(n.name));var c=o.find((function(e){return e.refName===l}));if(!c)throw new Error("Could not find refName ".concat(r," in ").concat(t));return Pc(Pc({},e),{},{assemblyName:t,parentRegion:c})}));if(1===l.length){var c=l[0];this.setDisplayedRegions([Pc({reversed:c.reversed},c.parentRegion)]);var u=c.start,s=c.end,d=c.parentRegion;this.navTo(Pc(Pc({},c),{},{start:Object(E.clamp)(null!=u?u:0,0,d.end),end:Object(E.clamp)(null!=s?s:d.end,0,d.end)}))}else this.setDisplayedRegions(l.map((function(e){return void 0===e.start?e.parentRegion:e}))),this.showAllRegions()},navTo:function(e){this.navToMultiple([e])},navToMultiple:function(t){var n=t[0],r=n.refName,a=n.start,o=n.end,i=n.assemblyName,l=void 0===i?e.assemblyNames[0]:i;if(void 0!==a&&void 0!==o&&a>o)throw new Error('start "'.concat(a+1,'" is greater than end "').concat(o,'"'));var c=Object(E.getSession)(e).assemblyManager.get(l);if(c){var u=c.getCanonicalRefName(r);u&&(r=u)}for(var s,d=a,f=o,p=!1,m=function(e){if(r===e.refName){if(p=!0,void 0===d&&(d=e.start),void 0===f&&(f=e.end),d>=e.start&&d<=e.end&&f<=e.end&&f>=e.start)return!0;d=a,f=o}return!1},h=Object(E.findLastIndex)(e.displayedRegions,m);s!==h;)try{var g=s;if(s=e.displayedRegions.slice(void 0===g?0:g+1).findIndex(m),void 0!==g&&(s+=g+1),!p)throw new Error('could not find a region with refName "'.concat(r,'"'));if(void 0===d)throw new Error('could not find a region with refName "'.concat(r,'" that contained an end position ').concat(f));if(void 0===f)throw new Error('could not find a region with refName "'.concat(r,'" that contained a start position ').concat(d+1));if(-1===s)throw new Error('could not find a region that completely contained "'.concat(Object(E.assembleLocString)(n),'"'));if(1===t.length){var b=e.displayedRegions[s];return void this.moveTo({index:s,offset:b.reversed?b.end-f:d-b.start},{index:s,offset:b.reversed?b.end-d:f-b.start})}for(var v=0,y=0,w=0;v<t.length;v++){var O=t[v],C=e.displayedRegions[s+v];if(y=O.start||C.start,w=O.end||C.end,O.refName!==C.refName)throw new Error("Entered location ".concat(Object(E.assembleLocString)(O)," does not match with displayed regions"))}v-=1;var k=e.displayedRegions[s],x=e.displayedRegions[s+v];return void this.moveTo({index:s,offset:k.reversed?k.end-f:d-k.start},{index:s+v,offset:x.reversed?x.end-y:w-x.start})}catch(e){if(s===h)throw e}},zoomToDisplayedRegions:function(t,n){if(void 0!==t&&void 0!==n){if(t.refName===n.refName&&t.index===n.index&&n.offset<t.offset||t.index>n.index){var r=[n,t];t=r[0],n=r[1]}var a={start:t.start,end:t.end,index:t.index,offset:t.offset},o={start:n.start,end:n.end,index:n.index,offset:n.offset};if(a&&o)this.moveTo(a,o);else Object(E.getSession)(e).notify("No regions found to navigate to","warning")}},getSelectedRegions:function(t,n){var r=Wl.a.create(Pc(Pc({},Object(i.getSnapshot)(e)),{},{interRegionPaddingWidth:e.interRegionPaddingWidth}));return r.setVolatileWidth(e.width),r.zoomToDisplayedRegions(t,n),r.dynamicBlocks.contentBlocks.map((function(e){return Pc(Pc({},e),{},{start:Math.floor(e.start),end:Math.ceil(e.end)})}))},afterDisplayedRegionsSet:function(t){e.afterDisplayedRegionsSetCallbacks.push(t)},moveTo:function(t,n){var r=0;if(t.index===n.index)r+=n.offset-t.offset;else{var a=e.displayedRegions[t.index];if(r+=a.end-a.start-t.offset,n.index-t.index>=2)for(var o=t.index+1;o<n.index;o+=1)r+=e.displayedRegions[o].end-e.displayedRegions[o].start;r+=n.offset}var i=r/(e.width-e.interRegionPaddingWidth*(n.index-t.index)),l=e.zoomTo(i),c=0;i<l&&(c=(l-i)*e.width/2);for(var u=-c,s=0;s<e.displayedRegions.length;s+=1){var d=e.displayedRegions[s];if(t.index===s){u+=t.offset;break}u+=d.end-d.start}e.scrollTo(Math.round(u/e.bpPerPx)+e.interRegionPaddingWidth*t.index)},horizontalScroll:function(t){var n=e.offsetPx;return e.scrollTo(e.offsetPx+t)-n},centerAt:function(t,n,r){var a=e.bpToPx({refName:n,coord:t,regionNumber:r});a&&e.scrollTo(Math.round(a.offsetPx-e.width/2))},center:function(){var t=e.totalBp/2;e.scrollTo(Math.round(t/e.bpPerPx-e.width/2))},showAllRegions:function(){e.zoomTo(e.maxBpPerPx),this.center()},showAllRegionsInAssembly:function(t){var n=Object(E.getSession)(e),r=n.assemblyManager;if(!t){var a=Hc(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))));if(a.length>1)return void n.notify("Can't perform this with multiple assemblies currently");t=Bc(a,1)[0]}var o=r.get(t);if(o){var i=o.regions;i&&(this.setDisplayedRegions(i),e.zoomTo(e.maxBpPerPx),this.center())}},setDraggingTrackId:function(t){e.draggingTrackId=t},setScaleFactor:function(t){e.scaleFactor=t}}})).actions((function(e){var t=function(){};return{slide:function(n){var r=Bc(Object(E.springAnimate)(e.offsetPx,e.offsetPx+e.width*n,e.scrollTo),2),a=r[0],o=r[1];t(),t=o,a()}}})).actions((function(e){var t=function(){};return{zoom:function(n){if(e.zoomTo(e.bpPerPx),!(n<e.bpPerPx&&e.bpPerPx===e.minBpPerPx||n>e.bpPerPx&&e.bpPerPx===e.maxBpPerPx)){var r=e.bpPerPx/n,a=Bc(Object(E.springAnimate)(1,r,e.setScaleFactor,(function(){e.zoomTo(n),e.setScaleFactor(1)})),2),o=a[0],i=a[1];t(),t=i,o()}}}})).views((function(e){return{get canShowCytobands(){return 1===e.displayedRegions.length&&this.anyCytobandsExist},get showCytobands(){return this.canShowCytobands&&e.showCytobandsSetting},get anyCytobandsExist(){var t=Object(E.getSession)(e).assemblyManager;return e.assemblyNames.some((function(e){var n,r;return null===(n=t.get(e))||void 0===n||null===(r=n.cytobands)||void 0===r?void 0:r.length}))},get cytobandOffset(){return this.showCytobands?Object(E.measureText)(e.displayedRegions[0].refName,12)+15:0}}})).views((function(e){return{menuItems:function(){var t,n=e.canShowCytobands,r=e.showCytobands,a=[{label:"Return to import form",onClick:function(){Object(E.getSession)(e).queueDialog((function(t){return[c.ReturnToImportFormDialog,{model:e,handleClose:t}]}))},icon:Ql.a},{label:"Export SVG",icon:tc.a,onClick:function(){Object(E.getSession)(e).queueDialog((function(t){return[ts,{model:e,handleClose:t}]}))}},{label:"Open track selector",onClick:e.activateTrackSelector,icon:Qn.TrackSelector},{label:"Horizontally flip",icon:$l.a,onClick:e.horizontallyFlip},{type:"divider"},{label:"Show all regions in assembly",icon:Jl.a,onClick:e.showAllRegionsInAssembly},{label:"Show center line",icon:Jl.a,type:"checkbox",checked:e.showCenterLine,onClick:e.toggleCenterLine},{label:"Show header",icon:Jl.a,type:"checkbox",checked:!e.hideHeader,onClick:e.toggleHeader},{label:"Show header overview",icon:Jl.a,type:"checkbox",checked:!e.hideHeaderOverview,onClick:e.toggleHeaderOverview,disabled:e.hideHeader},{label:"Track labels",icon:Xl.a,subMenu:[{label:"Overlapping",icon:Jl.a,type:"radio",checked:"overlapping"===e.trackLabels,onClick:function(){return e.setTrackLabels("overlapping")}},{label:"Offset",icon:Jl.a,type:"radio",checked:"offset"===e.trackLabels,onClick:function(){return e.setTrackLabels("offset")}},{label:"Hidden",icon:Jl.a,type:"radio",checked:"hidden"===e.trackLabels,onClick:function(){return e.setTrackLabels("hidden")}}]}].concat(Hc(n?[{label:r?"Hide ideogram":"Show ideograms",onClick:function(){e.setShowCytobands(!r)}}]:[])),o=Gc(e.trackTypeActions.entries());try{for(o.s();!(t=o.n()).done;){var i=Bc(t.value,2),l=i[0],u=i[1];u.length&&(a.push({type:"divider"},{type:"subHeader",label:l}),u.forEach((function(e){a.push(e)})))}}catch(e){o.e(e)}finally{o.f()}return a}}})).views((function(e){var t,n="";return{get staticBlocks(){var r=Bl()(e),a=JSON.stringify(r);return n!==a&&(t=r,n=a),t},get dynamicBlocks(){return _l()(e)},get roundedDynamicBlocks(){return this.dynamicBlocks.contentBlocks.map((function(e){return Pc(Pc({},e),{},{start:Math.floor(e.start),end:Math.ceil(e.end)})}))},get visibleLocStrings(){return Zs(this.dynamicBlocks.contentBlocks)},get coarseVisibleLocStrings(){return Zs(e.coarseDynamicBlocks)}}})).actions((function(e){return{clearView:function(){e.setDisplayedRegions([]),e.tracks.clear(),e.scrollTo(0),e.zoomTo(10)},setCoarseDynamicBlocks:function(t){e.coarseDynamicBlocks=t.contentBlocks,e.coarseTotalBp=t.totalBp},afterAttach:function(){var t=this;Object(i.addDisposer)(e,Object(Ko.autorun)((function(){e.initialized&&t.setCoarseDynamicBlocks(e.dynamicBlocks)}),{delay:150}))}}})).actions((function(e){return{exportSvg:function(){var t=arguments;return Mc(qc.mark((function n(){var r,a,o;return qc.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>0&&void 0!==t[0]?t[0]:{},n.next=3,Gu(e,r);case 3:a=n.sent,o=new Blob([a],{type:"image/svg+xml"}),Object(Ul.saveAs)(o,"image.svg");case 6:case"end":return n.stop()}}),n)})))()}}})).views((function(e){return{rubberBandMenuItems:function(){return[{label:"Zoom to region",icon:ii.a,onClick:function(){var t=e.leftOffset,n=e.rightOffset;t&&n&&e.moveTo(t,n)}},{label:"Get sequence",icon:Ml.a,onClick:function(){e.setSequenceDialogOpen(!0)}}]}}}))}var ld=Object(r.lazy)((function(){return Promise.resolve().then((function(){return md}))})),cd=function(e){return i.types.compose("LinearBasicDisplay",vu,i.types.model({type:i.types.literal("LinearBasicDisplay"),trackShowLabels:i.types.maybe(i.types.boolean),trackShowDescriptions:i.types.maybe(i.types.boolean),trackDisplayMode:i.types.maybe(i.types.string),trackMaxHeight:i.types.maybe(i.types.number),configuration:Object(l.ConfigurationReference)(e)})).views((function(e){return{get rendererTypeName(){return Object(l.getConf)(e,["renderer","type"])},get showLabels(){var t=Object(l.getConf)(e,["renderer","showLabels"]);return void 0!==e.trackShowLabels?e.trackShowLabels:t},get showDescriptions(){var t=Object(l.getConf)(e,["renderer","showLabels"]);return void 0!==e.trackShowDescriptions?e.trackShowDescriptions:t},get maxHeight(){var t=Object(l.getConf)(e,["renderer","maxHeight"]);return void 0!==e.trackMaxHeight?e.trackMaxHeight:t},get displayMode(){var t=Object(l.getConf)(e,["renderer","displayMode"]);return void 0!==e.trackDisplayMode?e.trackDisplayMode:t},get rendererConfig(){var t=Object(l.getConf)(e,["renderer"])||{};return e.rendererType.configSchema.create(Pc(Pc({},t),{},{showLabels:this.showLabels,showDescriptions:this.showDescriptions,displayMode:this.displayMode,maxHeight:this.maxHeight}),Object(i.getEnv)(e))}}})).actions((function(e){return{toggleShowLabels:function(){e.trackShowLabels=!e.showLabels},toggleShowDescriptions:function(){e.trackShowDescriptions=!e.showDescriptions},setDisplayMode:function(t){e.trackDisplayMode=t},setMaxHeight:function(t){e.trackMaxHeight=t}}})).views((function(e){var t=e.trackMenuItems,n=e.renderProps;return{renderProps:function(){var t=e.rendererConfig;return Pc(Pc({},n()),{},{config:t})},trackMenuItems:function(){return[].concat(Hc(t()),[{label:"Show labels",icon:Jl.a,type:"checkbox",checked:e.showLabels,onClick:function(){e.toggleShowLabels()}},{label:"Show descriptions",icon:Jl.a,type:"checkbox",checked:e.showDescriptions,onClick:function(){e.toggleShowDescriptions()}},{label:"Display mode",icon:Jl.a,subMenu:["compact","reducedRepresentation","normal","collapse"].map((function(t){return{label:t,onClick:function(){e.setDisplayMode(t)}}}))},{label:"Set max height",onClick:function(){Object(E.getSession)(e).queueDialog((function(t){return[ld,{model:e,handleClose:t}]}))}}])}}}))};function ud(e){return Object(l.ConfigurationSchema)("LinearBasicDisplay",{mouseover:{type:"string",description:"what to display in a given mouseover",defaultValue:"jexl:get(feature,'name')",contextVariable:["feature"]},renderer:e.pluggableConfigSchemaType("renderer")},{baseConfiguration:$c,explicitlyTyped:!0})}D.a;var sd=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var dd={__proto__:null,useStyles:sd,default:function(e){var t=e.handleClose,n=sd();return a.a.createElement(p.a,{open:!0,maxWidth:"xl",onClose:t},a.a.createElement(an.a,null,"Using the search box",t?a.a.createElement(h.a,{"data-testid":"close-resultsDialog",className:n.closeButton,onClick:function(){t()}},a.a.createElement(In.a,null)):null),a.a.createElement(jl.a,null),a.a.createElement(on.a,null,a.a.createElement("h3",null,"Searching"),a.a.createElement("ul",null,a.a.createElement("li",null,"Jump to a feature or reference sequence by typing its name in the location box and pressing Enter."),a.a.createElement("li",null,"Jump to a specific region by typing the region into the location box as: ",a.a.createElement("code",null,"ref:start..end")," or ",a.a.createElement("code",null,"ref:start-end"),". Commas are allowed in the start and end coordinates. A space-separated list of locstrings can be used to open up multiple chromosomes at a time")),a.a.createElement("h3",null,"Example Searches"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("code",null,"BRCA")," - searches for the feature named BRCA"),a.a.createElement("li",null,a.a.createElement("code",null,"chr4")," - jumps to chromosome 4"),a.a.createElement("li",null,a.a.createElement("code",null,"chr4:79,500,000..80,000,000")," - jumps the region on chromosome 4 between 79.5Mb and 80Mb."),a.a.createElement("li",null,a.a.createElement("code",null,"chr1:1-100 chr2:1-100")," - create a split view of chr1:1-100 and chr2:1-100"),a.a.createElement("li",null,a.a.createElement("code",null,"chr1 chr2 chr3")," - open up multiple chromosomes at once"),a.a.createElement("li",null,a.a.createElement("code",null,"chr1:1-100[rev] chr2:1-100")," - open up the first region in the horizontally flipped orientation"))),a.a.createElement(jl.a,null),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){return t()},color:"primary"},"Close")))}},fd=Object(u.a)((function(e){return{root:{width:500},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},field:{margin:e.spacing(2)}}}));function pd(e){var t=e.model,n=e.handleClose,o=fd(),i=t.maxHeight,l=void 0===i?"":i,c=Bc(Object(r.useState)("".concat(l)),2),u=c[0],s=c[1];return a.a.createElement(p.a,{open:!0,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},a.a.createElement(an.a,{id:"alert-dialog-title"},"Filter options",a.a.createElement(h.a,{"aria-label":"close",className:o.closeButton,onClick:n},a.a.createElement(In.a,null))),a.a.createElement(on.a,{className:o.root},a.a.createElement(f.a,null,'Set max height for the track. For example, you can increase this if the layout says "Max height reached"'),a.a.createElement(J.a,{value:u,onChange:function(e){return s(e.target.value)},placeholder:"Enter max score"}),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{variant:"contained",color:"primary",type:"submit",autoFocus:!0,onClick:function(){t.setMaxHeight(""===u||Number.isNaN(+u)?void 0:+u),n()}},"Submit"),a.a.createElement(cn.a,{variant:"contained",color:"secondary",onClick:function(){return n()}},"Cancel"))))}var md={__proto__:null,default:Object(o.observer)(pd)},hd=n(806),gd=n(808),bd=n(93),vd=n.n(bd),yd=n(464),wd=n.n(yd);function Od(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Od(Object(n),!0).forEach((function(t){Pd(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Od(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ed(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function kd(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ed(o,r,a,i,l,"next",e)}function l(e){Ed(o,r,a,i,l,"throw",e)}i(void 0)}))}}function xd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jd(e,t,n){return t&&Sd(e.prototype,t),n&&Sd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Td(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}function Rd(e){return(Rd=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Md(e,t){return(Md=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Id(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ad(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rd(e);if(t){var a=Rd(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Id(this,n)}}function Ld(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Nd(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fd(e){return function(e){if(Array.isArray(e))return Dd(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Nd(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Nd(e,t){if(e){if("string"==typeof e)return Dd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dd(e,t):void 0}}function Dd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var _d=Object(l.ConfigurationSchema)("BgzipFastaAdapter",{fastaLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz",locationType:"UriLocation"}},faiLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz.fai",locationType:"UriLocation"}},gziLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.gz.gzi",locationType:"UriLocation"}}},{explicitlyTyped:!0}),zd=Object(l.ConfigurationSchema)("ChromSizesAdapter",{chromSizesLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/species.chrom.sizes",locationType:"UriLocation"}}},{explicitlyTyped:!0});function Bd(e){for(var t=e.codonTable,n=e.seq,r=e.frame,o=e.bpPerPx,i=e.region,l=e.height,c=e.y,u=e.reverse,s=void 0!==u&&u,d=e.theme,f=o,p=3-i.start%3,m=(r+p+3)%3,h=n.slice(m),g=[],b=0;b<h.length;b+=3){var v=h.slice(b,b+3),y=s?Object(E.revcom)(v):v,w=t[y]||"";g.push({letter:w,codon:y.toUpperCase()})}var O=1/f*3,C=0===i.start?0:O,k=1/o>=12,x=(i.end-i.start)/o,S=["#d8d8d8","#adadad","#8f8f8f"].reverse();return a.a.createElement(a.a.Fragment,null,g.map((function(e,t){var n=i.reversed?x-(O*(t+1)+m/f-C):O*t+m/f-C,o=e.letter,u=e.codon;return a.a.createElement(a.a.Fragment,{key:"".concat(t,"-").concat(o)},a.a.createElement("rect",{x:n,y:c,width:k?O:O+.7,height:l,stroke:k?"#555":"none",fill:E.defaultStarts.includes(u)?d.palette.startCodon:E.defaultStops.includes(u)?d.palette.stopCodon:S[Math.abs(r)]}),k?a.a.createElement("text",{x:n+O/2,y:c+l/2,dominantBaseline:"middle",textAnchor:"middle"},o):null)})))}function Hd(e){var t=e.bpPerPx,n=e.region,r=e.feature,o=e.theme,i=e.height,l=e.seq,c=e.y,u=1/t>=12,s=Ld(Object(E.bpSpanPx)(r.get("start"),r.get("end"),n,t),2),d=s[0],f=s[1],p=n.reversed,m=r.get("end")-r.get("start"),h=Math.max((f-d)/m,.8);return a.a.createElement(a.a.Fragment,null,l.split("").map((function(e,t){var n=o.palette.bases[e.toUpperCase()],r=p?f-(t+1)*h:d+t*h;return a.a.createElement(a.a.Fragment,{key:t},a.a.createElement("rect",{x:r,y:c,width:h,height:i,fill:n?n.main:"#aaa",stroke:u?"#555":"none"}),u?a.a.createElement("text",{x:r+h/2,y:c+i/2,dominantBaseline:"middle",textAnchor:"middle",fill:n?Object(hi.contrastingTextColor)(n.main):"black"},e):null)})))}var Wd=function(e){var t=e.regions,n=e.theme,r=e.features,o=void 0===r?new Map:r,i=e.showReverse,l=e.showForward,u=e.showTranslation,s=e.bpPerPx,d=Ld(t,1)[0],f=Object(c.createJBrowseTheme)(n),p=Object(E.generateCodonTable)(E.defaultCodonTable),m=Fd(o.values())[0];if(!m)return null;var h=m.get("seq");if(!h)return null;var g=-20;return a.a.createElement(a.a.Fragment,null,u&&(d.reversed?i:l)?[2,1,0].map((function(e){return a.a.createElement(Bd,{key:"translation-".concat(e),seq:h,y:g+=20,codonTable:p,frame:e,bpPerPx:s,region:d,theme:f,height:20,reverse:d.reversed})})):null,l?a.a.createElement(Hd,{height:20,y:g+=20,feature:m,region:d,seq:d.reversed?Object(E.complement)(h):h,bpPerPx:s,theme:f}):null,i?a.a.createElement(Hd,{height:20,y:g+=20,feature:m,region:d,seq:d.reversed?h:Object(E.complement)(h),bpPerPx:s,theme:f}):null,u&&(d.reversed?l:i)?[0,-1,-2].map((function(e){return a.a.createElement(Bd,{key:"rev-translation-".concat(e),seq:h,y:g+=20,codonTable:p,frame:e,bpPerPx:s,region:d,theme:f,height:20,reverse:!d.reversed})})):null)},Vd=function(e){var t=e.exportSVG,n=e.width,r=e.totalHeight,o=e.children;return t?a.a.createElement(a.a.Fragment,null,o):a.a.createElement("svg",{"data-testid":"sequence_track",width:n,height:r,style:{width:n,height:r}},o)};function Gd(e){var t=e.regions,n=e.bpPerPx,r=Ld(t,1)[0],o=(r.end-r.start)/n;return a.a.createElement(Vd,Object.assign({},e,{totalHeight:200,width:o}),a.a.createElement(Wd,Object.assign({},e)))}var Ud=Object(o.observer)(Gd),qd=Object(l.ConfigurationSchema)("DivSequenceRenderer",{height:{type:"number",description:"height in pixels of each line of sequence",defaultValue:16}},{explicitlyTyped:!0}),$d=Object(l.ConfigurationSchema)("IndexedFastaAdapter",{fastaLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa",locationType:"UriLocation"}},faiLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/seq.fa.fai",locationType:"UriLocation"}}},{explicitlyTyped:!0}),Kd=Object(l.ConfigurationSchema)("LinearReferenceSequenceDisplay",{renderer:qd},{explicitIdentifier:"displayId",explicitlyTyped:!0});var Jd=Object(l.ConfigurationSchema)("TwoBitAdapter",{twoBitLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.2bit",locationType:"UriLocation"}},chromSizesLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/default.chrom.sizes",locationType:"UriLocation"},description:"An optional chrom.sizes file can be supplied to speed up loading since parsing the twobit file can take time"}},{explicitlyTyped:!0}),Yd=function(e){return Object(l.ConfigurationSchema)("GCContentAdapter",{sequenceAdapter:e.pluggableConfigSchemaType("adapter")},{explicitlyTyped:!0})},Xd=function(e){return{configSchema:e.load(Yd),getAdapterClass:function(){return Promise.resolve().then((function(){return rf})).then((function(e){return e.default}))}}};var Zd=function(e){Td(n,e);var t=Ad(n);function n(){var e;return xd(this,n),(e=t.apply(this,arguments)).supportsSVG=!0,e}return jd(n,[{key:"getExpandedRegion",value:function(e){return Cd(Cd({},e),{},{start:Math.max(e.start-3,0),end:e.end+3})}}]),n}(gl.a),Qd=function(e){Td(n,e);var t=Ad(n);function n(){var e;return xd(this,n),(e=t.apply(this,arguments)).name="SequencePlugin",e}return jd(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new A.a({name:"TwoBitAdapter",configSchema:Jd,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return af})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(rn.getFileName)(t),o={type:"TwoBitAdapter",twoBitLocation:t};return/\.2bit$/i.test(a)&&!r||"TwoBitAdapter"===r?o:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"TwoBitAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new A.a({name:"ChromSizesAdapter",configSchema:zd,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return of})).then((function(e){return e.default}))}})})),e.addAdapterType((function(){return new A.a({name:"IndexedFastaAdapter",configSchema:$d,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return cf})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(rn.getFileName)(t),o={type:"IndexedFastaAdapter",fastaLocation:t,faiLocation:n||Object(rn.makeIndex)(t,".fai")};return/\.(fa|fasta|fas|fna|mfa)$/i.test(a)&&!r||"IndexedFastaAdapter"===r?o:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"IndexedFastaAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new A.a({name:"BgzipFastaAdapter",configSchema:_d,adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null},getAdapterClass:function(){return Promise.resolve().then((function(){return uf})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(rn.getFileName)(t),o={type:"BgzipFastaAdapter",faiLocation:Object(rn.makeIndex)(t,".fai"),gziLocation:Object(rn.makeIndex)(t,".gzi")};return/\.(fa|fasta|fas|fna|mfa)\.b?gz$/i.test(a)&&!r||"BgzipFastaAdapter"===r?o:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"BgzipFastaAdapter"===t?"ReferenceSequenceTrack":e(t)}})),e.addAdapterType((function(){return new A.a(Cd({name:"GCContentAdapter",adapterMetadata:{category:null,hiddenFromGUI:!0,displayName:null,description:null}},e.load(Xd)))})),e.addTrackType((function(){var t=function(e){return Object(l.ConfigurationSchema)("ReferenceSequenceTrack",{adapter:e.pluggableConfigSchemaType("adapter"),displays:i.types.array(e.pluggableConfigSchemaType("display")),metadata:{type:"frozen",description:"anything to add about this track",defaultValue:{}}},{preProcessSnapshot:function(t){var n=JSON.parse(JSON.stringify(t)),r=new Set,a=n.displays,o=void 0===a?[]:a;"placeholderId"!==n.trackId&&(o.forEach((function(e){return e&&r.add(e.type)})),e.getTrackType(n.type).displayTypes.forEach((function(e){r.has(e.name)||o.push({displayId:"".concat(n.trackId,"-").concat(e.name),type:e.name})})));return Cd(Cd({},n),{},{displays:o})},explicitIdentifier:"trackId",explicitlyTyped:!0,actions:function(e){return{addDisplayConf:function(t){var n=t.type;if(!n)throw new Error("unknown display type ".concat(n));var r=e.displays.find((function(e){return e&&e.displayId===t.displayId}));if(r)return r;var a=e.displays.push(t);return e.displays[a-1]}}}})}(e);return new vl.a({name:"ReferenceSequenceTrack",configSchema:t,stateModel:Object(nn.createBaseTrackModel)(e,"ReferenceSequenceTrack",t)})})),e.addDisplayType((function(){var e,t=(e=Kd,i.types.compose("LinearReferenceSequenceDisplay",vu,i.types.model({type:i.types.literal("LinearReferenceSequenceDisplay"),configuration:Object(l.ConfigurationReference)(e),showForward:i.types.optional(i.types.boolean,!0),showReverse:i.types.optional(i.types.boolean,!0),showTranslation:i.types.optional(i.types.boolean,!0),height:180})).views((function(e){var t=e.renderProps;return{renderProps:function(){var n=e.showForward,r=e.showReverse,a=e.showTranslation;return Cd(Cd({},t()),{},{rpcDriverName:e.rpcDriverName,config:e.configuration.renderer,showForward:n,showReverse:r,showTranslation:a})},regionCannotBeRendered:function(){var t=Object(E.getContainingView)(e);if(t&&t.bpPerPx>=1)return"Zoom in to see sequence"},get rendererTypeName(){return e.configuration.renderer.type}}})).actions((function(e){return{toggleShowForward:function(){e.showForward=!e.showForward},toggleShowReverse:function(){e.showReverse=!e.showReverse},toggleShowTranslation:function(){e.showTranslation=!e.showTranslation}}})).views((function(e){return{trackMenuItems:function(){return[{label:"Show forward",type:"checkbox",checked:e.showForward,onClick:function(){e.toggleShowForward()}},{label:"Show reverse",type:"checkbox",checked:e.showReverse,onClick:function(){e.toggleShowReverse()}},{label:"Show translation",type:"checkbox",checked:e.showTranslation,onClick:function(){e.toggleShowTranslation()}}]}}})));return{name:"LinearReferenceSequenceDisplay",configSchema:Kd,stateModel:t,trackType:"ReferenceSequenceTrack",viewType:"LinearGenomeView",ReactComponent:ou}})),e.addRendererType((function(){return new Zd({name:"DivSequenceRenderer",ReactComponent:Ud,configSchema:qd,pluginManager:e})}))}}]),n}(D.a);function ef(e,t){return e(t={exports:{}},t.exports),t.exports}var tf=ef((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),nf=function(e){Td(a,e);var t,n,r=Ad(a);function a(){var e;return xd(this,a),(e=r.apply(this,arguments)).windowSize=1e3,e.windowDelta=1e3,e.gcMode="content",e}return jd(a,[{key:"configure",value:(n=kd(tf.mark((function e(){var t,n,r;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.readConfObject)(this.config,"sequenceAdapter"),e.next=3,null===(t=this.getSubAdapter)||void 0===t?void 0:t.call(this,n);case 3:if(r=e.sent){e.next=6;break}throw new Error("Error getting subadapter");case 6:return e.abrupt("return",r.dataAdapter);case 7:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNames",value:(t=kd(tf.mark((function e(){var t;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,e.abrupt("return",t.getRefNames());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e,t){var n=this;return this.windowSize=1e3,this.windowDelta=1e3,this.gcMode="content",Object(W.ObservableCreate)(function(){var t=kd(tf.mark((function t(r){var a,o,i,l,c,u,s,d,f,p,m,h,g,b,v,y,w;return tf.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.configure();case 2:if(o=t.sent,i=1===n.windowSize?1:n.windowSize/2,l=1===n.windowSize,c=e.start,u=e.end,c=Math.max(0,c-i),!((u+=i)<0||c>u)){t.next=11;break}return r.complete(),t.abrupt("return");case 11:return s=o.getFeatures(Cd(Cd({},e),{},{start:c,end:u})),t.next=14,s.pipe(Object(V.a)()).toPromise();case 14:for(d=t.sent,f=(null===(a=d[0])||void 0===a?void 0:a.get("seq"))||"",p=i;p<f.length-i;p+=n.windowDelta){for(m=l?f[p]:f.slice(p-i,p+i),h=0,g=0,b=0,v=0;v<m.length;v++)"c"===m[v]||"C"===m[v]?h++:"g"!==m[v]&&"G"!==m[v]||g++,"N"!==m[v]&&b++;y=c,w=void 0,"content"===n.gcMode?w=(g+h)/(b||1):"skew"===n.gcMode&&(w=(g-h)/(g+h||1)),r.next(new H.a({uniqueId:"".concat(n.id,"_").concat(y+p),start:y+p,end:y+p+n.windowDelta,score:w}))}r.complete();case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),a}(z.BaseFeatureDataAdapter);nf.capabilities=["hasLocalStats"];var rf={__proto__:null,default:nf},af={__proto__:null,default:function(e){Td(o,e);var t,n,r,a=Ad(o);function o(e,t,n){var r;return xd(this,o),(r=a.call(this,e,t,n)).chromSizesData=r.initChromSizes(),r.twobit=new hd.a({filehandle:Object(G.openLocation)(Object(l.readConfObject)(e,"twoBitLocation"),r.pluginManager)}),r}return jd(o,[{key:"initChromSizes",value:(r=kd(tf.mark((function e(){var t,n,r;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/path/to/default.chrom.sizes"===(t=Object(l.readConfObject)(this.config,"chromSizesLocation")).uri||""===t.uri){e.next=7;break}return n=Object(G.openLocation)(t,this.pluginManager),e.next=5,n.readFile("utf8");case 5:return r=e.sent,e.abrupt("return",Object.fromEntries(null==r?void 0:r.split("\n").filter((function(e){return!!e.trim()})).map((function(e){var t=Ld(e.split("\t"),2);return[t[0],+t[1]]}))));case 7:return e.abrupt("return",void 0);case 8:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getRefNames",value:(n=kd(tf.mark((function e(){var t;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chromSizesData;case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",Object.keys(t));case 5:return e.abrupt("return",this.twobit.getSequenceNames());case 6:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRegions",value:(t=kd(tf.mark((function e(){var t,n;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chromSizesData;case 2:if(!(t=e.sent)){e.next=5;break}return e.abrupt("return",Object.keys(t).map((function(e){return{refName:e,start:0,end:t[e]}})));case 5:return e.next=7,this.twobit.getSequenceSizes();case 7:return n=e.sent,e.abrupt("return",Object.keys(n).map((function(e){return{refName:e,start:0,end:n[e]}})));case 9:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=e.refName,r=e.start,a=e.end;return Object(W.ObservableCreate)(function(){var e=kd(tf.mark((function e(o){var i,l,c;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.twobit.getSequenceSize(n);case 2:return i=e.sent,l=void 0!==i?Math.min(i,a):a,e.next=6,t.twobit.getSequence(n,r,l);case 6:(c=e.sent)&&o.next(new H.a({id:"".concat(n," ").concat(r,"-").concat(l),data:{refName:n,start:r,end:l,seq:c}})),o.complete();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),o}(z.BaseSequenceAdapter)},of={__proto__:null,default:function(e){Td(a,e);var t,n,r=Ad(a);function a(e,t,n){var o;xd(this,a),o=r.call(this,e,t,n);var i=Object(l.readConfObject)(e,"chromSizesLocation");if(!i)throw new Error("must provide chromSizesLocation");var c=Object(G.openLocation)(i,o.pluginManager);return o.source=c.toString(),o.refSeqs=o.init(c),o}return jd(a,[{key:"init",value:(n=kd(tf.mark((function e(t){var n,r;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.readFile("utf8");case 2:if(n=e.sent,r={},n.length){e.next=6;break}throw new Error("Could not read file ".concat(t.toString()));case 6:return n.split("\n").forEach((function(e){if(e.length){var t=Ld(e.split("\t"),2),n=t[0],a=t[1];r[n]=+a}})),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})},{key:"getRegions",value:(t=kd(tf.mark((function e(){var t;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.refSeqs;case 2:return t=e.sent,e.abrupt("return",Object.keys(t).map((function(e){return{refName:e,start:0,end:t[e]}})));case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(){throw new Error("sequence not available")}},{key:"getHeader",value:function(){return{}}},{key:"freeResources",value:function(){}}]),a}(z.BaseAdapter)},lf=function(e){Td(r,e);var t,n=Ad(r);function r(e,t,a){var o,i;xd(this,r),(o=n.call(this,e,t,a)).seqCache=new vd.a({cache:new wd.a({maxSize:200}),fill:(i=kd(tf.mark((function e(t,n){var r,a,i;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.refName,a=t.start,i=t.end,e.abrupt("return",o.fasta.getSequence(r,a,i,Cd(Cd({},t),{},{signal:n})));case 2:case"end":return e.stop()}}),e)}))),function(e,t){return i.apply(this,arguments)})});var c=Object(l.readConfObject)(e,"fastaLocation"),u=Object(l.readConfObject)(e,"faiLocation"),s={fasta:Object(G.openLocation)(c,o.pluginManager),fai:Object(G.openLocation)(u,o.pluginManager)};return o.fasta=new gd.IndexedFasta(s),o}return jd(r,[{key:"getRefNames",value:function(e){return this.fasta.getSequenceNames(e)}},{key:"getRegions",value:(t=kd(tf.mark((function e(t){var n;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fasta.getSequenceSizes(t);case 2:return n=e.sent,e.abrupt("return",Object.keys(n).map((function(e){return{refName:e,start:0,end:n[e]}})));case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e,t){var n=this,r=e.refName,a=e.start,o=e.end;return Object(W.ObservableCreate)(function(){var e=kd(tf.mark((function e(i){var l,c,u,s,d,f,p,m;return tf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.fasta.getSequenceSize(r,t);case 2:for(l=e.sent,c=void 0!==l?Math.min(l,o):o,u=[],128e3,d=o+(128e3-o%128e3),f=s=a-a%128e3;f<d;f+=128e3)p={refName:r,start:f,end:f+128e3},u.push(n.seqCache.get(JSON.stringify(p),p,null==t?void 0:t.signal));return e.next=11,Promise.all(u);case 11:(m=e.sent.join("").slice(a-s).slice(0,o-a))&&i.next(new H.a({id:"".concat(r," ").concat(a,"-").concat(c),data:{refName:r,start:a,end:c,seq:m}})),i.complete();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),r}(z.BaseSequenceAdapter),cf={__proto__:null,default:lf},uf={__proto__:null,default:function(e){Td(n,e);var t=Ad(n);function n(e,r,a){var o;xd(this,n),o=t.call(this,e,r,a);var i=Object(l.readConfObject)(e,"fastaLocation"),c=Object(l.readConfObject)(e,"faiLocation"),u=Object(l.readConfObject)(e,"gziLocation");if(!i)throw new Error("must provide fastaLocation");if(!c)throw new Error("must provide faiLocation");if(!u)throw new Error("must provide gziLocation");var s={fasta:Object(G.openLocation)(i,o.pluginManager),fai:Object(G.openLocation)(c,o.pluginManager),gzi:Object(G.openLocation)(u,o.pluginManager)};return o.fasta=new gd.BgzipIndexedFasta(s),o}return jd(n)}(lf)},sf=Qd,df=n(863),ff=n(331),pf=n(456),mf=n(104),hf=n(466),gf=n(338);function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){kf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yf(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function wf(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){yf(o,r,a,i,l,"next",e)}function l(e){yf(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Of(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t,n){return t&&Cf(e.prototype,t),n&&Cf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kf(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jf(e,t)}function Sf(e){return(Sf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jf(e,t){return(jf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pf(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Tf(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Rf(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Sf(e);if(t){var a=Sf(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Tf(this,n)}}function Mf(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Sf(e)););return e}function If(){return(If="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Mf(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Af(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||Ff(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lf(e){return function(e){if(Array.isArray(e))return Nf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ff(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ff(e,t){if(e){if("string"==typeof e)return Nf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nf(e,t):void 0}}function Nf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Df=function(e){var t=e.jbrequire,n=t("mobx-state-tree").types,r=t("@jbrowse/core/configuration"),a=r.ConfigurationSchema,o=r.ConfigurationReference,i=t("@jbrowse/core/util").getContainingView,l=t("@jbrowse/core/util/tracks").getParentRenderProps,c=a("ChordVariantDisplay",{renderer:n.optional(e.pluggableConfigSchemaType("renderer"),{type:"StructuralVariantChordRenderer"})},{baseConfiguration:el,explicitlyTyped:!0});return{stateModel:n.compose("ChordVariantDisplay",Qi,n.model({type:n.literal("ChordVariantDisplay"),configuration:o(c)})).views((function(e){return{get rendererTypeName(){return e.configuration.renderer.type},renderProps:function(){var t=i(e);return vf(vf({},l(e)),{},{rpcDriverName:e.rpcDriverName,displayModel:e,bezierRadius:t.radiusPx*e.bezierRadiusRatio,radius:t.radiusPx,blockDefinitions:this.blockDefinitions,config:e.configuration.renderer,onChordClick:e.onChordClick})}}})),configSchema:c}},_f=function(e){var t=e.lib,n=e.load,r=t["@jbrowse/core/pluggableElementTypes/DisplayType"],a=n(Df),o=a.stateModel;return new r({name:"ChordVariantDisplay",configSchema:a.configSchema,stateModel:o,trackType:"VariantTrack",viewType:"CircularView",ReactComponent:Yi(e)})};function zf(e,t){return e(t={exports:{}},t.exports),t.exports}var Bf=zf((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}));function Hf(e){return i.types.compose("LinearVariantDisplay",cd(e),i.types.model({type:i.types.literal("LinearVariantDisplay"),configuration:Object(l.ConfigurationReference)(e)})).actions((function(e){return{selectFeature:function(t){return wf(Bf.mark((function n(){var r,a,o,i,c,u,s;return Bf.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=Object(E.getSession)(e),!Object(E.isSessionModelWithWidgets)(r)){n.next=11;break}return a=r.rpcManager,o=Object(rn.getRpcSessionId)(e),i=Object(E.getContainingTrack)(e),c=Object(l.getConf)(i,"adapter"),n.next=8,a.call(o,"CoreGetMetadata",{adapterConfig:c});case 8:u=n.sent,s=r.addWidget("VariantFeatureWidget","variantFeature",{featureData:t.toJSON(),view:Object(E.getContainingView)(e),descriptions:u}),r.showWidget(s);case 11:r.setSelection(t);case 12:case"end":return n.stop()}}),n)})))()}}}))}function Wf(e,t){var n=e.region.elided?0:e.region.start,r=e.region.elided?0:e.region.end;return(e.flipped?r-t:t-n)/e.bpPerRadian+e.startRadians}var Vf=Object(o.observer)((function(e){var t,n,r,o,i=e.feature,c=e.blocksForRefs,u=e.radius,s=e.config,d=e.bezierRadius,f=e.selected,p=e.onClick,m=c[i.get("refName")];if(!m)return null;i.get("INFO")?n=Af(i.get("INFO").SVTYPE||[],1)[0]:i.get("mate")&&(n="mate");var h=null===(t=i.get("ALT"))||void 0===t?void 0:t[0],g=h&&Object(df.b)(h);if(g){var b=g.MatePosition.split(":");r=+b[1],o=c[b[0]]}else if("<TRA>"===h){var v,y,w,O,C=null===(v=i.get("INFO"))||void 0===v||null===(y=v.CHR2)||void 0===y?void 0:y[0],k=null===(w=i.get("INFO"))||void 0===w||null===(O=w.END)||void 0===O?void 0:O[0];r=parseInt(k,10),o=c[C]}else if("mate"===n){var x=i.get("mate"),S=x.refName;r=x.start,o=c[S]}if(o){var j=i.get("start"),P=Wf(m,j),T=Wf(o,r),R=Object(E.polarToCartesian)(u,P),M=Object(E.polarToCartesian)(u,T),I=Object(E.polarToCartesian)(d,(T+P)/2),A=f?Object(l.readConfObject)(s,"strokeColorSelected",{feature:i}):Object(l.readConfObject)(s,"strokeColor",{feature:i}),L=Object(l.readConfObject)(s,"strokeColorHover",{feature:i});return a.a.createElement("path",{"data-testid":"chord-".concat(i.id()),d:["M"].concat(Lf(R),["Q"],Lf(I),Lf(M)).join(" "),style:{stroke:A},onClick:function(e){return p(i,m.region,o.region,e)},onMouseOver:function(e){f||(e.target.style.stroke=L,e.target.style.strokeWidth=3)},onMouseOut:function(e){f||(e.target.style.stroke=A,e.target.style.strokeWidth=1)}})}return null}));function Gf(e){var t,n=e.features,o=e.config,i=e.displayModel,l=e.blockDefinitions,c=e.radius,u=e.bezierRadius,s=e.displayModel.selectedFeatureId,d=e.onChordClick,f=Object(r.useMemo)((function(){var e={};return l.forEach((function(t){(t.region.elided?t.region.regions:[t.region]).forEach((function(n){e[n.refName]=t}))})),e}),[l]),p=[],m=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ff(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}(n);try{for(m.s();!(t=m.n()).done;){var h=Af(t.value,2),g=h[0],b=h[1],v=String(s)===String(b.id());p.push(a.a.createElement(Vf,{key:g,feature:b,config:o,displayModel:i,radius:c,bezierRadius:u,blocksForRefs:f,selected:v,onClick:d}))}}catch(e){m.e(e)}finally{m.f()}var y="chords-".concat(i.id);return a.a.createElement("g",{id:y,"data-testid":"structuralVariantChordRenderer"},a.a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          #".concat(y," > path {\n            cursor: crosshair;\n            fill: none;\n          }\n")}}),p)}Gf.propTypes={features:Ae.a.instanceOf(Map).isRequired,config:_.PropTypes.ConfigSchema.isRequired,displayModel:o.PropTypes.objectOrObservableObject,blockDefinitions:Ae.a.arrayOf(o.PropTypes.objectOrObservableObject).isRequired,radius:Ae.a.number.isRequired,bezierRadius:Ae.a.number.isRequired,selectedFeatureId:Ae.a.string,onChordClick:Ae.a.oneOfType([Ae.a.func,Ae.a.string])},Gf.defaultProps={displayModel:void 0,selectedFeatureId:"",onChordClick:void 0};var Uf=Object(o.observer)(Gf),qf=function(e){var t=Object(l.ConfigurationSchema)("StructuralVariantChordRenderer",{strokeColor:{type:"color",description:"the line color of each arc",defaultValue:"rgba(255,133,0,0.32)",contextVariable:["feature"]},strokeColorSelected:{type:"color",description:"the line color of an arc that has been selected",defaultValue:"black",contextVariable:["feature"]},strokeColorHover:{type:"color",description:"the line color of an arc that is being hovered over with the mouse",defaultValue:"#555",contextVariable:["feature"]}},{explicitlyTyped:!0});return new ei.a({name:"StructuralVariantChordRenderer",ReactComponent:Uf,configSchema:t,pluginManager:e})},$f=Object(l.ConfigurationSchema)("VariantFeatureWidget",{});function Kf(e){return i.types.model("VariantFeatureWidget",{id:_.ElementId,type:i.types.literal("VariantFeatureWidget"),view:i.types.safeReference(e.pluggableMstType("view","stateModel")),featureData:i.types.frozen(),descriptions:i.types.frozen()}).actions((function(e){return{setFeatureData:function(t){e.featureData=t},clearFeatureData:function(){e.featureData=void 0}}}))}var Jf=Object(l.ConfigurationSchema)("VcfTabixAdapter",{vcfGzLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf.gz",locationType:"UriLocation"}},index:Object(l.ConfigurationSchema)("VcfIndex",{indexType:{model:i.types.enumeration("IndexType",["TBI","CSI"]),type:"stringEnum",defaultValue:"TBI"},location:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf.gz.tbi",locationType:"UriLocation"}}})},{explicitlyTyped:!0}),Yf=Object(l.ConfigurationSchema)("VcfAdapter",{vcfLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.vcf",locationType:"UriLocation"}}},{explicitlyTyped:!0}),Xf=function(){function e(t){Of(this,e),this.variant=t.variant,this.parser=t.parser,this.data=this.dataFromVariant(this.variant),this._id=t.id}return Ef(e,[{key:"get",value:function(e){return"samples"===e?this.variant.SAMPLES:this.data[e]||this.variant[e]}},{key:"set",value:function(){}},{key:"parent",value:function(){}},{key:"children",value:function(){}},{key:"tags",value:function(){return[].concat(Lf(Object.keys(this.data)),Lf(Object.keys(this.variant)),["samples"])}},{key:"id",value:function(){return this._id}},{key:"dataFromVariant",value:function(e){var t=e.REF,n=e.ALT,r=e.POS,a=e.CHROM,o=e.INFO,i=e.ID,l=r-1,c=Af(this._getSOTermAndDescription(t,n),2),u=c[0],s=c[1],d=null==n?void 0:n.some((function(e){return"<TRA>"===e}));return{refName:a,start:l,end:(null==n?void 0:n.some((function(e){return-1!==e.indexOf("<")})))&&o.END&&!d?+o.END[0]:l+t.length,description:s,type:u,name:null==i?void 0:i.join(","),aliases:i&&i.length>1?e.ID.slice(1):void 0}}},{key:"_getSOTermAndDescription",value:function(e,t){var n=this;if(!t||t===[])return["remark","no alternative alleles"];var r=new Set,a=new Set;if(t.forEach((function(t){var o=Af(n._getSOAndDescFromAltDefs(e,t),2),i=o[0],l=o[1];if(!i){var c=Af(n._getSOAndDescByExamination(e,t),2);i=c[0],l=c[1]}i&&l&&(r.add(i),a.add(l))})),a.size>1){var o=new Set(Lf(a).map((function(e){var t=e.split("->");return t[1]?t[0]:e}))),i=Lf(o).map((function(e){var t=Lf(a).map((function(t){var n=t.split("-> ");return n[1]&&n[0]===e?n[1]:""})).filter((function(e){return!!e}));return t.length?e+"-> "+t.join(","):Lf(a).join(",")}));a=new Set(i)}return r.size?[Lf(r).join(","),Lf(a).join(",")]:[void 0,void 0]}},{key:"_getSOAndDescFromAltDefs",value:function(t,n){if("string"==typeof n&&!n.startsWith("<"))return[void 0,void 0];var r=e._altTypeToSO[n];if(!r&&this.parser.getMetadata("ALT",n)&&(r="sequence_variant"),r)return[r,n];var a=n.split(":");return a.length>1?this._getSOAndDescFromAltDefs(t,"<".concat(a.slice(0,a.length-1).join(":"),">")):[void 0,void 0]}},{key:"_getSOAndDescByExamination",value:function(e,t){return Object(df.b)(t)?["breakend",t]:1===e.length&&1===t.length?["SNV",this._makeDescriptionString("SNV",e,t)]:"<INS>"===t?["insertion",t]:"<DEL>"===t||"<INV>"===t?["deletion",t]:"<TRA>"===t?["translocation",t]:t.includes("<")?["sv",t]:e.length===t.length?e.split("").reverse().join("")===t?["inversion",this._makeDescriptionString("inversion",e,t)]:["substitution",this._makeDescriptionString("substitution",e,t)]:e.length<=t.length?["insertion",this._makeDescriptionString("insertion",e,t)]:e.length>t.length?["deletion",this._makeDescriptionString("deletion",e,t)]:["indel",this._makeDescriptionString("indel",e,t)]}},{key:"_makeDescriptionString",value:function(e,t,n){return"".concat(e," ").concat(t," -> ").concat(n)}},{key:"toJSON",value:function(){return vf(vf(vf({uniqueId:this._id},this.variant),this.data),{},{samples:this.variant.SAMPLES})}}]),e}();Xf._altTypeToSO={DEL:"deletion",INS:"insertion",DUP:"duplication",INV:"inversion",INVDUP:"inverted duplication",CNV:"copy_number_variation",TRA:"translocation","DUP:TANDEM":"tandem_duplication",NON_REF:"sequence_variant","*":"sequence_variant"};var Zf=function(e){xf(n,e);var t=Rf(n);function n(){var e;return Of(this,n),(e=t.apply(this,arguments)).name="VariantsPlugin",e}return Ef(n,[{key:"install",value:function(e){e.addAdapterType((function(){return new A.a({name:"VcfTabixAdapter",configSchema:Jf,getAdapterClass:function(){return Promise.resolve().then((function(){return Qf})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(rn.getFileName)(t),o=n&&Object(rn.getFileName)(n),i={type:"VcfTabixAdapter",vcfGzLocation:t,index:{location:n||Object(rn.makeIndex)(t,".tbi"),indexType:Object(rn.makeIndexType)(o,"CSI","TBI")}};return/\.vcf\.b?gz$/i.test(a)&&!r||"VcfTabixAdapter"===r?i:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"VcfTabixAdapter"===t||"VcfAdapter"===t?"VariantTrack":e(t)}})),e.addAdapterType((function(){return new A.a({name:"VcfAdapter",configSchema:Yf,getAdapterClass:function(){return Promise.resolve().then((function(){return rp})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(rn.getFileName)(t);return/\.vcf$/i.test(a)||"VcfAdapter"===r?{type:"VcfAdapter",vcfLocation:t}:e(t,n,r)}})),e.addRendererType((function(){return e.jbrequire(qf)})),e.addTrackType((function(){var t=Object(l.ConfigurationSchema)("VariantTrack",{},{baseConfiguration:Object(nn.createBaseTrackConfig)(e)});return new vl.a({name:"VariantTrack",configSchema:t,stateModel:Object(nn.createBaseTrackModel)(e,"VariantTrack",t)})})),e.addDisplayType((function(){return e.jbrequire(_f)})),e.addDisplayType((function(){var t=function(e){var t=ud(e);return Object(l.ConfigurationSchema)("LinearVariantDisplay",{},{baseConfiguration:t,explicitlyTyped:!0})}(e);return new wl.a({name:"LinearVariantDisplay",configSchema:t,stateModel:Hf(t),trackType:"VariantTrack",viewType:"LinearGenomeView",ReactComponent:ou})})),e.addWidgetType((function(){return new F.a({name:"VariantFeatureWidget",heading:"Feature details",configSchema:$f,stateModel:Kf(e),ReactComponent:Object(r.lazy)((function(){return Promise.resolve().then((function(){return dp}))}))})}))}}]),n}(D.a),Qf={__proto__:null,default:function(e){xf(c,e);var t,n,r,a,o,i=Rf(c);function c(){return Of(this,c),i.apply(this,arguments)}return Ef(c,[{key:"configurePre",value:(o=wf(Bf.mark((function e(){var t,n,r,a,o,i,c;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(l.readConfObject)(this.config,"vcfGzLocation"),n=Object(l.readConfObject)(this.config,["index","location"]),r=Object(l.readConfObject)(this.config,["index","indexType"]),a=Object(G.openLocation)(t,this.pluginManager),o="CSI"===r,i=new ff.TabixIndexedFile({filehandle:a,csiFilehandle:o?Object(G.openLocation)(n,this.pluginManager):void 0,tbiFilehandle:o?void 0:Object(G.openLocation)(n,this.pluginManager),chunkCacheSize:50*Math.pow(2,20),chunkSizeLimit:1e9}),e.next=8,i.getHeader();case 8:return c=e.sent,e.abrupt("return",{filehandle:a,vcf:i,parser:new df.a({header:c})});case 10:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"configure",value:(a=wf(Bf.mark((function e(){var t=this;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.configured||(this.configured=this.configurePre().catch((function(e){throw t.configured=void 0,e}))),e.abrupt("return",this.configured);case 2:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"getRefNames",value:(r=wf(Bf.mark((function e(){var t,n,r,a=arguments;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},e.next=3,this.configure();case 3:return n=e.sent,r=n.vcf,e.abrupt("return",r.getReferenceSequenceNames(t));case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"getHeader",value:(n=wf(Bf.mark((function e(){var t,n;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.vcf,e.abrupt("return",n.getHeader());case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getMetadata",value:(t=wf(Bf.mark((function e(){var t,n;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.configure();case 2:return t=e.sent,n=t.parser,e.abrupt("return",n.getMetadata());case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(W.ObservableCreate)(function(){var r=wf(Bf.mark((function r(a){var o,i,l,c,u,s;return Bf.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.refName,i=e.start,l=e.end,r.next=3,t.configure();case 3:return c=r.sent,u=c.vcf,s=c.parser,r.next=8,u.getLines(o,i,l,vf({lineCallback:function(e,n){a.next(new Xf({variant:s.parseLine(e),parser:s,id:"".concat(t.id,"-vcf-").concat(n)}))}},n));case 8:a.complete();case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),n.signal)}},{key:"getFeaturesInMultipleRegions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=If(Sf(c.prototype),"getFeaturesInMultipleRegions",this);return Object(W.ObservableCreate)(function(){var a=wf(Bf.mark((function a(o){var i,l,c,u,s,d,f;return Bf.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.configure();case 2:return i=a.sent,l=i.vcf,a.next=6,Object(E.bytesForRegions)(e,l.index);case 6:return c=a.sent,a.next=9,t.configure();case 9:return u=a.sent,s=u.filehandle,a.next=13,s.stat();case 13:d=a.sent,(f=Math.round(c/d.size*100))>100&&(f=100),f>60&&console.warn("getFeaturesInMultipleRegions fetching ".concat(f,"% of VCF file, but whole-file streaming not yet implemented")),r.call(t,e,n).subscribe(o);case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())}},{key:"freeResources",value:function(){}}]),c}(z.BaseFeatureDataAdapter)},ep=function(e){var t=e.split("\n"),n=[],r=[];return t.forEach((function(e){e.startsWith("#")?n.push(e):e&&r.push(e)})),{header:n.join("\n"),lines:r}};function tp(e){return 31===e[0]&&139===e[1]&&8===e[2]}var np=function(e){xf(c,e);var t,n,r,a,o,i=Rf(c);function c(){return Of(this,c),i.apply(this,arguments)}return Ef(c,[{key:"getHeader",value:(o=wf(Bf.mark((function e(){var t,n;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return t=e.sent,n=t.header,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"getMetadata",value:(a=wf(Bf.mark((function e(){var t,n,r;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return t=e.sent,n=t.header,r=new df.a({header:n}),e.abrupt("return",r.getMetadata());case 6:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"setupP",value:(r=wf(Bf.mark((function e(){var t,n,r,a,o,i,c;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(G.openLocation)(Object(l.readConfObject)(this.config,"vcfLocation"),this.pluginManager).readFile();case 2:if(!tp(t=e.sent)){e.next=9;break}return e.next=6,Object(mf.unzip)(t);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=t;case 10:if(!((n=e.t0).length>536870888)){e.next=13;break}throw new Error("Data exceeds maximum string length (512MB)");case 13:return r=(new TextDecoder).decode(n),a=ep(r),o=a.header,i=a.lines,c=i.map((function(e,t){var n,r=Af(e.split("\t"),8),a=r[0],o=r[1],i=r[3],l=+o-1;return{line:e,refName:a,start:l,end:+((null===(n=r[7].match(/END=(\d+)/))||void 0===n?void 0:n[1].trim())||l+i.length),id:t}})).reduce((function(e,t){var n=t.refName;return e[n]||(e[n]=new pf.a),e[n].insert([t.start,t.end],t),e}),{}),e.abrupt("return",{header:o,intervalTree:c});case 17:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"setup",value:(n=wf(Bf.mark((function e(){var t=this;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vcfFeatures||(this.vcfFeatures=this.setupP().catch((function(e){throw t.vcfFeatures=void 0,e}))),e.abrupt("return",this.vcfFeatures);case 2:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"getRefNames",value:(t=wf(Bf.mark((function e(){var t,n;return Bf.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,this.setup();case 3:return t=e.sent,n=t.intervalTree,e.abrupt("return",Object.keys(n));case 6:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(W.ObservableCreate)(function(){var n=wf(Bf.mark((function n(r){var a,o,i,l,c,u,s,d;return Bf.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=e.start,i=e.end,l=e.refName,n.next=4,t.setup();case 4:c=n.sent,u=c.header,s=c.intervalTree,d=new df.a({header:u}),null===(a=s[l])||void 0===a||a.search([o,i]).forEach((function(e){return r.next(new Xf({variant:d.parseLine(e.line),parser:d,id:"".concat(t.id,"-").concat(e.id)}))})),r.complete(),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r.error(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}(),n.signal)}},{key:"freeResources",value:function(){}}]),c}(z.BaseFeatureDataAdapter);np.capabilities=["getFeatures","getRefNames"];var rp={__proto__:null,default:np},ap=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]},block:{display:"block"}}}));function op(e){var t=e.model,n=e.handleClose,o=e.feature,l=e.viewType,c=ap(),u=Af(Object(r.useState)(!0),2),s=u[0],d=u[1],f=Af(Object(r.useState)(!0),2),m=f[0],g=f[1];return a.a.createElement(p.a,{open:!0,onClose:n},a.a.createElement(an.a,null,"Breakpoint split view options",n?a.a.createElement(h.a,{className:c.closeButton,onClick:function(){return n()}},a.a.createElement(In.a,null)):null),a.a.createElement(jl.a,null),a.a.createElement(on.a,null,a.a.createElement(re.a,{className:c.block,control:a.a.createElement(ae.a,{checked:s,onChange:function(){return d((function(e){return!e}))}}),label:"Copy tracks into the new view"}),a.a.createElement(re.a,{className:c.block,control:a.a.createElement(ae.a,{checked:m,onChange:function(){return g((function(e){return!e}))}}),label:"Mirror tracks vertically in vertically stacked view"})),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){var e=t.view,r=Object(E.getSession)(t);try{var a=l.snapshotFromBreakendFeature(o,e);a.views[0].offsetPx-=e.width/2+100,a.views[1].offsetPx-=e.width/2+100,a.featureData=o;var c=Object(i.getSnapshot)(e.tracks);a.views[0].tracks=c,a.views[1].tracks=m?c.slice().reverse():c,r.addView("BreakpointSplitView",a)}catch(e){console.error(e),r.notify("".concat(e))}n()},variant:"contained",color:"primary",autoFocus:!0},"OK"),a.a.createElement(cn.a,{onClick:function(){return n()},color:"secondary",variant:"contained"},"Cancel")))}var ip=Object(o.observer)(op),lp=["samples"];function cp(e){var t=Af(Object(r.useState)({}),2),n=t[0],o=t[1],i=Af(Object(r.useState)(!1),2),l=i[0],c=i[1],u=e.feature.samples,s=void 0===u?{}:u,d=Object.entries(s);if(!d.length)return null;var p,m=["sample"].concat(Lf(Object.keys(d[0][1]))).map((function(e){return{field:e}})),h=[],g=Object.keys(n);try{h=d.map((function(e){return vf(vf({},Object.fromEntries(Object.entries(e[1]).map((function(e){return[e[0],String(e[1])]})))),{},{sample:e[0],id:e[0]})})).filter((function(e){return!g.length||g.every((function(t){var r=e[t],a=n[t];return!a||r.match(new RegExp(a,"i"))}))}))}catch(e){p=e}return a.a.createElement(gf.BaseCard,Object.assign({},e,{title:"Samples"}),p?a.a.createElement(f.a,{color:"error"},"".concat(p)):null,a.a.createElement(re.a,{control:a.a.createElement(ae.a,{checked:l,onChange:function(){return c((function(e){return!e}))}}),label:"Show sample filters"}),l?a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,null,"These filters can use a plain text search or regex style query, e.g. in the genotype field, entering 1 will query for all genotypes that include the first alternate allele e.g. 0|1 or 1|1, entering [1-9]\\d* will find any non-zero allele e.g. 0|2 or 2/33"),m.map((function(e){var t=e.field;return a.a.createElement(J.a,{key:"filter-".concat(t),placeholder:"Filter ".concat(t),value:n[t]||"",onChange:function(e){return o(vf(vf({},n),{},kf({},t,e.target.value)))}})}))):null,a.a.createElement("div",{style:{height:600,width:"100%",overflow:"auto"}},a.a.createElement(hf.DataGrid,{rows:h,columns:m,rowHeight:20,headerHeight:25,disableSelectionOnClick:!0,disableColumnMenu:!0})))}function up(e){var t,n=e.model,o=e.locStrings,l=e.feature,c=Object(E.getSession)(n),u=Object(i.getEnv)(c).pluginManager,s=Af(Object(r.useState)(!1),2),d=s[0],p=s[1];try{t=u.getViewType("BreakpointSplitView")}catch(e){}var m=new H.a(l);return a.a.createElement(gf.BaseCard,Object.assign({},e,{title:"Breakends"}),a.a.createElement(f.a,null,"Link to linear view of breakend endpoints"),a.a.createElement("ul",null,o.map((function(e){return a.a.createElement("li",{key:"".concat(JSON.stringify(e))},a.a.createElement(un.a,{href:"#",onClick:function(t){t.preventDefault();var r=n.view;try{if(!r)throw new Error("No view associated with this feature detail panel anymore");var a;null===(a=r.navToLocString)||void 0===a||a.call(r,e)}catch(e){console.error(e),c.notify("".concat(e))}}},"LGV - ".concat(e)))}))),t?a.a.createElement("div",null,a.a.createElement(f.a,null,"Launch split views with breakend source and target"),a.a.createElement("ul",null,o.map((function(e){return a.a.createElement("li",{key:"".concat(JSON.stringify(e))},a.a.createElement(un.a,{href:"#",onClick:function(e){e.preventDefault(),p(!0)}},"".concat(l.refName,":").concat(l.start," // ").concat(e," (split view)")))}))),d?a.a.createElement(ip,{model:n,feature:m,viewType:t,handleClose:function(){p(!1)}}):null):null)}function sp(e){var t=e.model,n=t.featureData,r=t.descriptions,o=JSON.parse(JSON.stringify(n)),i=Pf(o,lp);return a.a.createElement(m.a,{"data-testid":"variant-side-drawer"},a.a.createElement(gf.FeatureDetails,Object.assign({feature:i,descriptions:vf(vf({},{CHROM:"chromosome: An identifier from the reference genome",POS:"position: The reference position, with the 1st base having position 1",ID:"identifier: Semi-colon separated list of unique identifiers where available",REF:"reference base(s): Each base must be one of A,C,G,T,N (case insensitive).",ALT:"alternate base(s): Comma-separated list of alternate non-reference alleles",QUAL:"quality: Phred-scaled quality score for the assertion made in ALT",FILTER:"filter status: PASS if this position has passed all filters, otherwise a semicolon-separated list of codes for filters that fail"}),r)},e)),a.a.createElement(jl.a,null),"breakend"===o.type?a.a.createElement(up,{feature:o,locStrings:o.ALT.map((function(e){var t;return(null===(t=Object(df.b)(e))||void 0===t?void 0:t.MatePosition)||""})),model:t}):null,"translocation"===o.type?a.a.createElement(up,{feature:o,model:t,locStrings:["".concat(o.INFO.CHR2[0],":").concat(o.INFO.END)]}):null,a.a.createElement(cp,Object.assign({feature:o},e)))}var dp={__proto__:null,default:Object(o.observer)(sp)},fp=Zf,pp=n(836),mp=n(1334),hp=n(1420),gp=n(1400),bp=n(727),vp=n(862),yp=n(223),wp=n.n(yp),Op=n(339),Cp=n(335),Ep=n.n(Cp),kp=n(855),xp=n.n(kp),Sp=n(442),jp=n(300),Pp=n(79),Tp=n(846);function Rp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rp(Object(n),!0).forEach((function(t){Dp(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ip(e,t,n,r,a,o,i){try{var l=e[o](i),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,a)}function Ap(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){Ip(o,r,a,i,l,"next",e)}function l(e){Ip(o,r,a,i,l,"throw",e)}i(void 0)}))}}function Lp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Np(e,t,n){return t&&Fp(e.prototype,t),n&&Fp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bp(e,t)}function zp(e){return(zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bp(e,t){return(Bp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hp(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wp(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zp(e);if(t){var a=zp(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Hp(this,n)}}function Vp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=zp(e)););return e}function Gp(){return(Gp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Vp(e,t);if(r){var a=Object.getOwnPropertyDescriptor(r,t);return a.get?a.get.call(arguments.length<3?e:n):a.value}}).apply(this,arguments)}function Up(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}(e,t)||$p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qp(e){return function(e){if(Array.isArray(e))return Kp(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||$p(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $p(e,t){if(e){if("string"==typeof e)return Kp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kp(e,t):void 0}}function Kp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Jp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=$p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function Yp(e,t){return e(t={exports:{}},t.exports),t.exports}var Xp=Yp((function(e){var t=function(e){var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var a=t&&t.prototype instanceof d?t:d,o=Object.create(a.prototype),i=new E(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(a,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw o;return x()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var l=w(i,n);if(l){if(l===s)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===s)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var s={};function d(){}function f(){}function p(){}var m={};l(m,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&n.call(g,a)&&(m=g);var b=p.prototype=d.prototype=Object.create(m);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;this._invoke=function(a,o){function i(){return new t((function(r,i){!function r(a,o,i,l){var c=u(e[a],e,o);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,s;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function k(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:x}}function x(){return{value:void 0,done:!0}}return f.prototype=p,l(b,"constructor",p),l(p,"constructor",f),f.displayName=l(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,l(e,i,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),l(y.prototype,o,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new y(c(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(b),l(b,i,"Generator"),l(b,a,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var l=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,s):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;C(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),s}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}})),Zp=function(e){_p(r,e);var t,n=Wp(r);function r(){var e;return Lp(this,r),(e=n.apply(this,arguments)).supportsSVG=!0,e}return Np(r,[{key:"render",value:(t=Ap(Xp.mark((function e(t){var n,a,o,i,l,c,u,s,d,f=this;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFeatures(t);case 2:return n=e.sent,a=t.height,o=t.regions,i=t.bpPerPx,l=Up(o,1),c=l[0],u=(c.end-c.start)/i,e.next=8,Object(pp.renderToAbstractCanvas)(u,a,t,(function(e){return f.draw(e,Mp(Mp({},t),{},{features:n}))}));case 8:return s=e.sent,e.next=11,Gp(zp(r.prototype),"render",this).call(this,Mp(Mp(Mp({},t),s),{},{features:n,height:a,width:u}));case 11:return d=e.sent,e.abrupt("return",Mp(Mp(Mp({},d),s),{},{features:n,height:a,width:u}));case 13:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),r}(gl.a);function Qp(e){var t=e.regions,n=e.features,o=e.bpPerPx,i=e.width,l=e.height,u=e.onMouseLeave,s=void 0===u?function(){}:u,d=e.onMouseMove,f=void 0===d?function(){}:d,p=e.onFeatureClick,m=void 0===p?function(){}:p,h=Up(t,1)[0],g=Object(r.useRef)(null);function b(e){var t=0;g.current&&(t=g.current.getBoundingClientRect().left);var r,a,l=e-t,c=h.reversed?i-l:l,u=h.start+o*c,s=Jp(n.values());try{for(s.s();!(a=s.n()).done;){var d=a.value;if(u<=d.get("end")&&u>=d.get("start")){r=d;break}}}catch(e){s.e(e)}finally{s.f()}return r}return a.a.createElement("div",{ref:g,"data-testid":"wiggle-rendering-test",onMouseMove:function(e){var t=b(e.clientX);f(e,t?t.id():void 0)},onClick:function(e){var t=b(e.clientX);m(e,t?t.id():void 0)},onMouseLeave:function(e){return s(e)},role:"presentation",className:"WiggleRendering",style:{overflow:"visible",position:"relative",height:l}},a.a.createElement(c.PrerenderedCanvas,Object.assign({},e)))}var em=Object(o.observer)(Qp),tm=Object(l.ConfigurationSchema)("BigWigAdapter",{bigWigLocation:{type:"fileLocation",defaultValue:{uri:"/path/to/my.bw",locationType:"UriLocation"}}},{explicitlyTyped:!0});function nm(e){var t,n=e.domain,r=void 0===n?[]:n,a=e.range,o=void 0===a?[]:a,i=e.scaleType,l=e.pivotValue,c=e.inverted,u=Up(r,2),s=u[0],d=u[1];if(void 0===s||void 0===d)throw new Error("invalid domain");if("linear"===i)t=Object(mp.a)();else if("log"===i)(t=Object(hp.a)()).base(2);else{if("quantize"!==i)throw new Error("undefined scaleType");t=Object(gp.a)()}t.domain(void 0!==l?[s,l,d]:[s,d]),t.nice();var f=Up(o,2),p=f[0],m=f[1];if(void 0===p||void 0===m)throw new Error("invalid range");return t.range(c?o.slice().reverse():o),t}function rm(e){return"log"===e?1:0}function am(e){var t=e.scaleType,n=e.domain,r=Up(e.bounds,2),a=r[0],o=r[1],i=Up(n,2),l=i[0],c=i[1];if("linear"===t&&(c<0&&(c=0),l>0&&(l=0)),"log"===t&&(0===l||l>1)&&(l=1),void 0===l||void 0===c)throw new Error("invalid domain supplied to stats function");void 0!==a&&a!==Number.MIN_VALUE&&(l=a),void 0!==o&&o!==Number.MAX_VALUE&&(c=o);var u=function(e){if("linear"===e)return Object(mp.a)();if("log"===e){var t=Object(hp.a)();return t.base(2),t}if("quantize"===e)return Object(gp.a)();throw new Error("undefined scaleType ".concat(e))}(t);return u.domain([l,c]),u.nice(),u.domain()}var om={__proto__:null,getScale:nm,getOrigin:rm,getNiceDomain:am},im=Object(l.ConfigurationSchema)("WiggleRenderer",{color:{type:"color",description:"the color of track, overrides posColor and negColor",defaultValue:"#f0f"},posColor:{type:"color",description:"the color to use when the score is positive",defaultValue:"blue"},negColor:{type:"color",description:"the color to use when the score is negative",defaultValue:"red"},highlightColor:{type:"color",description:"the color of highlights over the wiggle track",defaultValue:"rgba(255,255,0,0.5)"},clipColor:{type:"color",description:"the color of the clipping marker",defaultValue:"red"},renderType:{type:"stringEnum",model:i.types.enumeration("Rendering type",["xyplot","density","line"]),description:"The type of rendering for wiggle data to use",defaultValue:"xyplot"},filled:{type:"boolean",description:"fill in histogram",defaultValue:!0},bicolorPivot:{type:"stringEnum",model:i.types.enumeration("Scale type",["numeric","mean","z_score","none"]),description:"type of bicolor pivot",defaultValue:"numeric"},bicolorPivotValue:{type:"number",defaultValue:0,description:"value to use for bicolor pivot"},summaryScoreMode:{type:"stringEnum",model:i.types.enumeration("Score type",["max","min","avg","whiskers"]),description:"choose whether to use max/min/average or whiskers which combines all three into the same rendering",defaultValue:"whiskers"},displayCrossHatches:{type:"boolean",description:"choose to draw cross hatches (sideways lines)",defaultValue:!1}},{explicitlyTyped:!0}),lm=function(e){_p(n,e);var t=Wp(n);function n(){return Lp(this,n),t.apply(this,arguments)}return Np(n,[{key:"draw",value:function(e,t){var n,r=t.features,a=t.regions,o=t.bpPerPx,i=t.scaleOpts,c=t.height,u=t.config,s=Up(a,1)[0],d=Object(l.readConfObject)(u,"bicolorPivot"),f=Object(l.readConfObject)(u,"bicolorPivotValue"),p=Object(l.readConfObject)(u,"negColor"),m=Object(l.readConfObject)(u,"posColor");if("#f0f"===Object(l.readConfObject)(u,"color")){var h=nm(Mp(Mp({},i),{},"none"!==d?{pivotValue:f,range:[p,"white",m]}:{range:["white",m]}));n=function(e){return h(e.get("score"))}}else n=function(e){return Object(l.readConfObject)(u,"color",{feature:e})};var g,b=Jp(r.values());try{for(b.s();!(g=b.n()).done;){var v=g.value,y=Up(Object(E.featureSpanPx)(v,s,o),2),w=y[0],O=y[1]-w+.3;e.fillStyle=n(v),e.fillRect(w,0,O,c)}}catch(e){b.e(e)}finally{b.f()}}}]),n}(Zp),cm=Object(l.ConfigurationSchema)("DensityRenderer",{},{baseConfiguration:im,explicitlyTyped:!0});function um(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return+(+e).toPrecision(6)}var sm=function(e){return e.toLocaleString("en-US")},dm=Object(u.a)((function(e){return{tooltip:{position:"absolute",pointerEvents:"none",backgroundColor:Object(y.a)(e.palette.grey[700],.9),borderRadius:e.shape.borderRadius,color:e.palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(12),lineHeight:"".concat((t=1.4,Math.round(1e5*t)/1e5),"em"),maxWidth:300,wordWrap:"break-word"},hoverVertical:{background:"#333",border:"none",width:1,height:"100%",top:ym,cursor:"default",position:"absolute",pointerEvents:"none"}};var t})),fm=a.a.forwardRef((function(e,t){var n=e.feature,r=n.get("start"),o=n.get("end"),i=[n.get("refName"),r===o?sm(r):"".concat(sm(r),"..").concat(sm(o))].filter((function(e){return!!e})).join(":");return void 0!==n.get("summary")?a.a.createElement("div",{ref:t},i,a.a.createElement("br",null),"Max: ",um(n.get("maxScore")),a.a.createElement("br",null),"Avg: ",um(n.get("score")),a.a.createElement("br",null),"Min: ",um(n.get("minScore"))):a.a.createElement("div",{ref:t},i,a.a.createElement("br",null),"".concat(um(n.get("score"))))})),pm=Object(o.observer)((function(e){var t=e.model,n=e.height,o=e.clientMouseCoord,i=e.offsetMouseCoord,l=e.clientRect,c=e.TooltipContents,u=t.featureUnderMouse,s=Up(Object(r.useState)(0),2),d=s[0],f=s[1],p=Up(Object(r.useState)(null),2),m=p[0],h=p[1],g=dm(),b=Object(r.useMemo)((function(){return{getBoundingClientRect:function(){var e=o[0]+d/2+20,t=(null==l?void 0:l.top)||0;return{top:t,left:e,bottom:t,right:e,width:0,height:0,x:e,y:t,toJSON:function(){}}}}}),[null==l?void 0:l.top,o,d]),v=Object(Il.a)(b,m),y=v.styles,w=v.attributes;return u?a.a.createElement(a.a.Fragment,null,a.a.createElement(El.a,null,a.a.createElement("div",Object.assign({ref:h,className:g.tooltip,style:Mp(Mp({},y.popper),{},{zIndex:1e5})},w.popper),a.a.createElement(c,{ref:function(e){f((null==e?void 0:e.getBoundingClientRect().width)||0)},feature:u}))),a.a.createElement("div",{className:g.hoverVertical,style:{left:i[0],height:n-2*ym}})):null})),mm=Object(o.observer)((function(e){return a.a.createElement(pm,Object.assign({TooltipContents:fm},e))})),hm=Object(o.observer)((function(e){var t=e.model,n=e.orientation,r=t.ticks;return r?a.a.createElement(bp.Axis,Object.assign({},r,{shadow:2,format:function(e){return e},style:{orient:"left"===n?bp.LEFT:bp.RIGHT}})):null})),gm=Object(o.observer)((function(e){var t=e.model,n=t.stats,r=t.height,o=t.needsScalebar,i="overlapping"===Object(E.getContainingView)(t).trackLabels?Object(E.measureText)(Object(l.getConf)(Object(E.getContainingTrack)(t),"name"),12.8)+100:50;return a.a.createElement("div",null,a.a.createElement(ou,Object.assign({},e)),n&&o?a.a.createElement("svg",{style:{position:"absolute",top:0,left:i,pointerEvents:"none",height:r,width:50}},a.a.createElement(hm,{model:t})):null)})),bm=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Rm}))})),vm=Object(r.lazy)((function(){return Promise.resolve().then((function(){return Am}))})),ym=5,wm=new Map([["xyplot","XYPlotRenderer"],["density","DensityRenderer"],["line","LinePlotRenderer"]]),Om=function(e,t){return i.types.compose("LinearWiggleDisplay",vu,i.types.model({type:i.types.literal("LinearWiggleDisplay"),configuration:Object(l.ConfigurationReference)(t),selectedRendering:i.types.optional(i.types.string,""),resolution:i.types.optional(i.types.number,1),fill:i.types.maybe(i.types.boolean),color:i.types.maybe(i.types.string),posColor:i.types.maybe(i.types.string),negColor:i.types.maybe(i.types.string),summaryScoreMode:i.types.maybe(i.types.string),rendererTypeNameState:i.types.maybe(i.types.string),scale:i.types.maybe(i.types.string),autoscale:i.types.maybe(i.types.string),displayCrossHatches:i.types.maybe(i.types.boolean),constraints:i.types.optional(i.types.model({max:i.types.maybe(i.types.number),min:i.types.maybe(i.types.number)}),{})})).volatile((function(){return{statsReady:!1,message:void 0,stats:{scoreMin:0,scoreMax:50},statsFetchInProgress:void 0}})).actions((function(e){return{updateStats:function(t){var n=t.scoreMin,r=t.scoreMax;e.stats.scoreMin===n&&e.stats.scoreMax===r||(e.stats={scoreMin:n,scoreMax:r}),e.statsReady=!0},setColor:function(t){e.color=t},setPosColor:function(t){e.posColor=t},setNegColor:function(t){e.negColor=t},setLoading:function(t){var n=e.statsFetchInProgress;void 0===n||n.signal.aborted||n.abort(),e.statsFetchInProgress=t},selectFeature:function(t){var n=Object(E.getSession)(e);Object(E.isSelectionContainer)(n)&&n.setSelection(t)},setResolution:function(t){e.resolution=t},setFill:function(t){e.fill=t},toggleLogScale:function(){"log"!==e.scale?e.scale="log":e.scale="linear"},setScaleType:function(t){e.scale=t},setSummaryScoreMode:function(t){e.summaryScoreMode=t},setAutoscale:function(t){e.autoscale=t},setMaxScore:function(t){e.constraints.max=t},setRendererType:function(t){e.rendererTypeNameState=t},setMinScore:function(t){e.constraints.min=t},toggleCrossHatches:function(){e.displayCrossHatches=!e.displayCrossHatches},setCrossHatches:function(t){e.displayCrossHatches=t}}})).views((function(e){return{get TooltipComponent(){return mm},get adapterTypeName(){return e.adapterConfig.type},get rendererTypeName(){var t=e.rendererTypeNameState||Object(l.getConf)(e,"defaultRendering"),n=wm.get(t);if(!n)throw new Error("unknown alignments view name ".concat(t));return n},get filters(){},get scaleType(){return e.scale||Object(l.getConf)(e,"scaleType")},get maxScore(){var t=e.constraints.max;return void 0!==t?t:Object(l.getConf)(e,"maxScore")},get minScore(){var t=e.constraints.min;return void 0!==t?t:Object(l.getConf)(e,"minScore")}}})).views((function(e){return{get rendererConfig(){var t=Object(l.getConf)(e,["renderers",e.rendererTypeName])||{};return e.rendererType.configSchema.create(Mp(Mp(Mp(Mp({},t),{},{filled:e.fill,scaleType:e.scaleType,displayCrossHatches:e.displayCrossHatches,summaryScoreMode:e.summaryScoreMode},e.color?{color:e.color}:{}),e.negColor?{negColor:e.negColor}:{}),e.posColor?{posColor:e.posColor}:{}),Object(i.getEnv)(e))}}})).views((function(e){var t=[0,0];return{get filled(){return void 0!==e.fill?e.fill:Object(l.readConfObject)(e.rendererConfig,"filled")},get summaryScoreModeSetting(){return e.summaryScoreMode||Object(l.readConfObject)(e.rendererConfig,"summaryScoreMode")},get domain(){var n=e.stats,r=e.scaleType,a=e.minScore,o=e.maxScore,i=am({domain:[n.scoreMin,n.scoreMax],bounds:[a,o],scaleType:r});return"log"===r&&i[1]===Number.MIN_VALUE?[0,Number.MIN_VALUE]:(JSON.stringify(t)!==JSON.stringify(i)&&(t=i),t)},get needsScalebar(){return"XYPlotRenderer"===e.rendererTypeName||"LinePlotRenderer"===e.rendererTypeName},get scaleOpts(){return{domain:this.domain,stats:e.stats,autoscaleType:this.autoscaleType,scaleType:e.scaleType,inverted:Object(l.getConf)(e,"inverted")}},get canHaveFill(){return"XYPlotRenderer"===e.rendererTypeName},get autoscaleType(){return e.autoscale||Object(l.getConf)(e,"autoscale")},get displayCrossHatchesSetting(){return e.displayCrossHatches||Object(l.readConfObject)(e.rendererConfig,"displayCrossHatches")}}})).views((function(e){return{get ticks(){var t=e.scaleType,n=e.domain,r=e.height,a=Object(l.getConf)(e,"minimalTicks"),o=nm({scaleType:t,domain:n,range:[r-ym,ym],inverted:Object(l.getConf)(e,"inverted")}),i=Object(bp.axisPropsFromTickScale)(o,4);return r<100||a?Mp(Mp({},i),{},{values:n}):i}}})).views((function(t){var n=t.renderProps;return{renderProps:function(){var e=n();return Mp(Mp({},e),{},{notReady:e.notReady||!t.statsReady,rpcDriverName:t.rpcDriverName,displayModel:t,config:t.rendererConfig,scaleOpts:t.scaleOpts,resolution:t.resolution,height:t.height,ticks:t.ticks,displayCrossHatches:t.displayCrossHatches,filters:t.filters})},get adapterCapabilities(){return e.getAdapterType(t.adapterTypeName).adapterCapabilities},get hasResolution(){return this.adapterCapabilities.includes("hasResolution")},get hasGlobalStats(){return this.adapterCapabilities.includes("hasGlobalStats")}}})).views((function(e){var t=e.trackMenuItems;return{trackMenuItems:function(){return[].concat(qp(t()),qp(e.hasResolution?[{label:"Resolution",subMenu:[{label:"Finer resolution",onClick:function(){e.setResolution(5*e.resolution)}},{label:"Coarser resolution",onClick:function(){e.setResolution(e.resolution/5)}}]},{label:"Summary score mode",subMenu:["min","max","avg","whiskers"].map((function(t){return{label:t,onClick:function(){return e.setSummaryScoreMode(t)}}}))}]:[]),qp(e.canHaveFill?[{label:e.filled?"Turn off histogram fill":"Turn on histogram fill",onClick:function(){e.setFill(!e.filled)}}]:[]),[{label:"log"===e.scaleType?"Set linear scale":"Set log scale",onClick:function(){e.toggleLogScale()}},{type:"checkbox",label:"Draw cross hatches",checked:e.displayCrossHatchesSetting,onClick:function(){e.toggleCrossHatches()}}],qp(Object.keys(Object(l.getConf)(e,"renderers")||{}).length>1?[{label:"Renderer type",subMenu:qp(wm.keys()).map((function(t){return{label:t,onClick:function(){return e.setRendererType(t)}}}))}]:[]),[{label:"Autoscale type",subMenu:[["local","Local"]].concat(qp(e.hasGlobalStats?[["global","Global"],["globalsd","Global ± 3σ"]]:[]),[["localsd","Local ± 3σ"]]).map((function(t){var n=Up(t,2),r=n[0];return{label:n[1],onClick:function(){e.setAutoscale(r)}}}))},{label:"Set min/max score",onClick:function(){Object(E.getSession)(e).queueDialog((function(t){return[bm,{model:e,handleClose:t}]}))}},{label:"Set color",onClick:function(){Object(E.getSession)(e).queueDialog((function(t){return[vm,{model:e,handleClose:t}]}))}}])}}})).actions((function(e){var t=e.reload,n=e.renderSvg;function r(e){return o.apply(this,arguments)}function o(){return(o=Ap(Xp.mark((function t(n){var r,a,o,c,u,s,d,f,p,m,h,g,b,v,y,w,O,C;return Xp.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=Object(E.getSession)(e),a=r.rpcManager,o=Object(l.getConf)(e,"numStdDev")||3,c=e.adapterConfig,u=e.autoscaleType,s=Object(rn.getRpcSessionId)(e),d=Mp({sessionId:s,adapterConfig:c,statusCallback:function(t){Object(i.isAlive)(e)&&e.setMessage(t)}},n),"global"!==u&&"globalsd"!==u){t.next=11;break}return t.next=8,a.call(s,"WiggleGetGlobalStats",d);case 8:return f=t.sent,p=f.scoreMin,m=f.scoreMean,h=f.scoreStdDev,t.abrupt("return","globalsd"===u?Mp(Mp({},f),{},{scoreMin:p>=0?0:m-o*h,scoreMax:m+o*h}):f);case 11:if("local"!==u&&"localsd"!==u){t.next=18;break}return g=Object(E.getContainingView)(e),b=g.dynamicBlocks,v=g.bpPerPx,t.next=15,a.call(s,"WiggleGetMultiRegionStats",Mp(Mp({},d),{},{regions:b.contentBlocks.map((function(e){var t=e.start,n=e.end;return Mp(Mp({},JSON.parse(JSON.stringify(e))),{},{start:Math.floor(t),end:Math.ceil(n)})})),bpPerPx:v}));case 15:return y=t.sent,w=y.scoreMin,O=y.scoreMean,C=y.scoreStdDev,t.abrupt("return","localsd"===u?Mp(Mp({},y),{},{scoreMin:w>=0?0:O-o*C,scoreMax:O+o*C}):y);case 18:if("zscale"!==u){t.next=20;break}return t.abrupt("return",a.call(s,"WiggleGetGlobalStats",d));case 20:throw new Error("invalid autoscaleType '".concat(u,"'"));case 21:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return{reload:function(){return Ap(Xp.mark((function n(){var a,o;return Xp.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.setError(),a=new AbortController,n.prev=2,n.next=5,r({signal:a.signal,filters:e.filters});case 5:o=n.sent,Object(i.isAlive)(e)&&(e.updateStats(o),t()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),e.setError(n.t0);case 12:case"end":return n.stop()}}),n,null,[[2,9]])})))()},afterAttach:function(){Object(i.addDisposer)(e,Object(Ko.autorun)(Ap(Xp.mark((function t(){var n,a,o;return Xp.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=new AbortController,a=Object(E.getContainingView)(e),e.setLoading(n),a.initialized){t.next=6;break}return t.abrupt("return");case 6:if(e.estimatedStatsReady){t.next=8;break}return t.abrupt("return");case 8:if(!e.regionTooLarge){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,r({signal:n.signal,filters:e.filters});case 12:o=t.sent,Object(i.isAlive)(e)&&e.updateStats(o),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),!Object(E.isAbortException)(t.t0)&&Object(i.isAlive)(e)&&(console.error(t.t0),e.setError(t.t0));case 19:case"end":return t.stop()}}),t,null,[[0,16]])}))),{delay:1e3}))},renderSvg:function(t){return Ap(Xp.mark((function r(){var o,i,l,c;return Xp.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(Ko.when)((function(){return e.statsReady&&!!e.regionCannotBeRenderedText}));case 2:return o=e.needsScalebar,i=e.stats,l=Object(E.getContainingView)(e),c=l.offsetPx,r.t0=a.a,r.t1=a.a.Fragment,r.t2=a.a,r.t3={id:"snpcov"},r.next=10,n(t);case 10:return r.t4=r.sent,r.t5=r.t2.createElement.call(r.t2,"g",r.t3,r.t4),r.t6=o&&i?a.a.createElement("g",{transform:"translate(".concat(Math.max(-c,0),")")},a.a.createElement(hm,{model:e,orientation:"left"})):null,r.abrupt("return",r.t0.createElement.call(r.t0,r.t1,null,r.t5,r.t6));case 14:case"end":return r.stop()}}),r)})))()}}}))},Cm=function(e){_p(n,e);var t=Wp(n);function n(){return Lp(this,n),t.apply(this,arguments)}return Np(n,[{key:"draw",value:function(e,t){var n,r=t.features,a=t.bpPerPx,o=t.regions,i=t.scaleOpts,c=t.height,u=t.config,s=t.ticks,d=t.displayCrossHatches,f=Up(o,1)[0],p=(f.end-f.start)/a,m=ym,h=c-2*m,g=Object(l.readConfObject)(u,"bicolorPivotValue"),b=Object(l.readConfObject)(u,"negColor"),v=Object(l.readConfObject)(u,"posColor"),y=Object(l.readConfObject)(u,"filled"),w=Object(l.readConfObject)(u,"clipColor"),O=Object(l.readConfObject)(u,"highlightColor"),C=Object(l.readConfObject)(u,"summaryScoreMode"),k=nm(Mp(Mp({},i),{},{range:[0,h]})),x=rm(i.scaleType),S=Up(k.domain(),2),j=S[0],P=S[1],T=function(e){return h-(k(e)||0)+m},R=function(e){return T(x)-T(e)},M="#f0f"===Object(l.readConfObject)(u,"color")?function(e,t){return t<g?b:v}:function(e,t){return Object(l.readConfObject)(u,"color",{feature:e})},I=j<g&&P>g,A=Jp(r.values());try{for(A.s();!(n=A.n()).done;){var L=n.value,F=Up(Object(E.featureSpanPx)(L,f,a),2),N=F[0],D=F[1],_=L.get("score"),z=L.get("maxScore"),B=L.get("minScore"),H=_<j,W=_>P,V=D-N+.4,G=L.get("summary");if("max"===C)_=G?z:_,e.fillStyle=M(L,_),e.fillRect(N,T(_),V,y?R(_):1);else if("min"===C)_=G?B:_,e.fillStyle=M(L,_),e.fillRect(N,T(_),V,y?R(_):1);else if("whiskers"===C){var U=M(L,_);G&&(e.fillStyle=I?M(L,z):wp()(U).lighten(.6).toString(),e.fillRect(N,T(z),V,y?R(z)-R(_):1)),e.fillStyle=I&&G?wp()(M(L,z)).mix(wp()(M(L,B))):U,e.fillRect(N,T(_),V,y?R(_)-(G?R(B):0):1),G&&(e.fillStyle=I?M(L,B):wp()(U).darken(.6).toString(),e.fillRect(N,T(B),V,y?R(B):1))}else e.fillStyle=M(L,_),e.fillRect(N,T(_),V,y?R(_):1);W?(e.fillStyle=w,e.fillRect(N,0,V,4)):H&&"log"!==i.scaleType&&(e.fillStyle=w,e.fillRect(N,c-4,V,4)),L.get("highlighted")&&(e.fillStyle=O,e.fillRect(N,0,V,h))}}catch(e){A.e(e)}finally{A.f()}d&&(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.8)",s.values.forEach((function(t){e.beginPath(),e.moveTo(0,Math.round(T(t))),e.lineTo(p,Math.round(T(t))),e.stroke()})))}}]),n}(Zp),Em=Object(l.ConfigurationSchema)("XYPlotRenderer",{},{baseConfiguration:im,explicitlyTyped:!0}),km=function(e){_p(n,e);var t=Wp(n);function n(){return Lp(this,n),t.apply(this,arguments)}return Np(n,[{key:"draw",value:function(e,t){var n,r,a=t.features,o=t.regions,i=t.bpPerPx,c=t.scaleOpts,u=t.height,s=t.ticks.values,d=t.displayCrossHatches,f=t.config,p=Up(o,1)[0],m=(p.end-p.start)/i,h=ym,g=u-2*h,b=Object(l.readConfObject)(f,"clipColor"),v=Object(l.readConfObject)(f,"highlightColor"),y=nm(Mp(Mp({},c),{},{range:[0,g]})),w=Up(y.domain(),2),O=w[0],C=w[1],k=function(e){return g-y(e)+h},x="#f0f"===Object(l.readConfObject)(f,"color")?function(){return"grey"}:function(e){return Object(l.readConfObject)(f,"color",{feature:e})},S=Jp(a.values());try{for(S.s();!(r=S.n()).done;){var j=r.value,P=Up(Object(E.featureSpanPx)(j,p,i),2),T=P[0],R=P[1],M=j.get("score"),I=M<O,A=M>C,L=R-T+.3,F=x(j);e.strokeStyle=F,e.beginPath(),p.reversed?(e.moveTo(R,k(void 0!==n?n:M)),e.lineTo(R,k(M)),e.lineTo(T,k(M))):(e.moveTo(T,k(void 0!==n?n:M)),e.lineTo(T,k(M)),e.lineTo(R,k(M))),e.stroke(),n=M,A?(e.fillStyle=b,e.fillRect(T,0,L,4)):I&&"log"!==c.scaleType&&(e.fillStyle=b,e.fillRect(T,g-4,L,g)),j.get("highlighted")&&(e.fillStyle=v,e.fillRect(T,0,L,g))}}catch(e){S.e(e)}finally{S.f()}d&&(e.lineWidth=1,e.strokeStyle="rgba(200,200,200,0.8)",s.forEach((function(t){e.beginPath(),e.moveTo(0,Math.round(k(t))),e.lineTo(m,Math.round(k(t))),e.stroke()})))}}]),n}(Zp),xm=Object(l.ConfigurationSchema)("LinePlotRenderer",{},{baseConfiguration:im,explicitlyTyped:!0}),Sm=function(e){_p(a,e);var t,n,r=Wp(a);function a(){var e;return Lp(this,a),(e=r.apply(this,arguments)).name="WiggleGetGlobalStats",e}return Np(a,[{key:"deserializeArguments",value:(n=Ap(Xp.mark((function e(t,n){var r;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(zp(a.prototype),"deserializeArguments",this).call(this,t,n);case 2:return r=e.sent,e.abrupt("return",Mp(Mp({},r),{},{filters:t.filters?new xp.a({filters:t.filters}):void 0}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"execute",value:(t=Ap(Xp.mark((function e(t,n){var r,a,o,i,l;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,a=r.adapterConfig,o=r.sessionId,e.next=6,Object(Op.getAdapter)(this.pluginManager,o,a);case 6:return i=e.sent,l=i.dataAdapter,e.abrupt("return",l.getGlobalStats(r));case 9:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),a}(Ep.a),jm=function(e){_p(o,e);var t,n,r,a=Wp(o);function o(){var e;return Lp(this,o),(e=a.apply(this,arguments)).name="WiggleGetMultiRegionStats",e}return Np(o,[{key:"deserializeArguments",value:(r=Ap(Xp.mark((function e(t,n){var r;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gp(zp(o.prototype),"deserializeArguments",this).call(this,t,n);case 2:return r=e.sent,e.abrupt("return",Mp(Mp({},r),{},{filters:t.filters?new xp.a({filters:t.filters}):void 0}));case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"serializeArguments",value:(n=Ap(Xp.mark((function e(t,n){var r,a,i,l;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=null===(r=this.pluginManager.rootModel)||void 0===r||null===(a=r.session)||void 0===a?void 0:a.assemblyManager){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,Object(E.renameRegionsIfNeeded)(i,Mp(Mp({},t),{},{filters:t.filters&&t.filters.toJSON().filters}));case 5:return l=e.sent,e.abrupt("return",Gp(zp(o.prototype),"serializeArguments",this).call(this,l,n));case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"execute",value:(t=Ap(Xp.mark((function e(t,n){var r,a,o,i,l,c;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deserializeArguments(t,n);case 2:return r=e.sent,a=r.regions,o=r.adapterConfig,i=r.sessionId,e.next=6,Object(Op.getAdapter)(this.pluginManager,i,o);case 6:if(l=e.sent,!((c=l.dataAdapter)instanceof z.BaseFeatureDataAdapter)){e.next=10;break}return e.abrupt("return",c.getMultiRegionStats(a,r));case 10:throw new Error("Data adapter not found");case 11:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})}]),o}(Ep.a),Pm=function(e){_p(n,e);var t=Wp(n);function n(){var e;return Lp(this,n),(e=t.apply(this,arguments)).name="WigglePlugin",e.exports={LinearWiggleDisplayReactComponent:gm,XYPlotRendererReactComponent:em,XYPlotRenderer:Cm,xyPlotRendererConfigSchema:Em,utils:om,WiggleBaseRenderer:Zp,linearWiggleDisplayModelFactory:Om},e}return Np(n,[{key:"install",value:function(e){e.addTrackType((function(){var t=Object(l.ConfigurationSchema)("QuantitativeTrack",{},{baseConfiguration:Object(nn.createBaseTrackConfig)(e)});return new vl.a({name:"QuantitativeTrack",configSchema:t,stateModel:Object(nn.createBaseTrackModel)(e,"QuantitativeTrack",t)})})),e.addDisplayType((function(){var t=function(e){var t=e.getRendererType("XYPlotRenderer").configSchema,n=e.getRendererType("DensityRenderer").configSchema,r=e.getRendererType("LinePlotRenderer").configSchema;return Object(l.ConfigurationSchema)("LinearWiggleDisplay",{autoscale:{type:"stringEnum",defaultValue:"local",model:i.types.enumeration("Autoscale type",["global","local","globalsd","localsd","zscore"]),description:"global/local using their min/max values or w/ standard deviations (globalsd/localsd)"},minimalTicks:{type:"boolean",defaultValue:!1,description:"use the minimal amount of ticks"},minScore:{type:"number",defaultValue:Number.MIN_VALUE,description:"minimum value for the y-scale"},maxScore:{type:"number",description:"maximum value for the y-scale",defaultValue:Number.MAX_VALUE},numStdDev:{type:"number",description:"number of standard deviations to use for autoscale types globalsd or localsd",defaultValue:3},scaleType:{type:"stringEnum",model:i.types.enumeration("Scale type",["linear","log"]),description:"The type of scale to use",defaultValue:"linear"},inverted:{type:"boolean",description:"draw upside down",defaultValue:!1},defaultRendering:{type:"stringEnum",model:i.types.enumeration("Rendering",["density","xyplot","line"]),defaultValue:"xyplot"},renderers:Object(l.ConfigurationSchema)("RenderersConfiguration",{DensityRenderer:n,XYPlotRenderer:t,LinePlotRenderer:r})},{baseConfiguration:$c,explicitlyTyped:!0})}(e);return new wl.a({name:"LinearWiggleDisplay",configSchema:t,stateModel:Om(e,t),trackType:"QuantitativeTrack",viewType:"LinearGenomeView",ReactComponent:gm})})),e.addAdapterType((function(){return new A.a({name:"BigWigAdapter",configSchema:tm,adapterCapabilities:["hasResolution","hasLocalStats","hasGlobalStats"],getAdapterClass:function(){return Promise.resolve().then((function(){return Fm})).then((function(e){return e.default}))}})})),e.addToExtensionPoint("Core-guessAdapterForLocation",(function(e){return function(t,n,r){var a=Object(rn.getFileName)(t),o={type:"BigWigAdapter",bigWigLocation:t};return/\.(bw|bigwig)$/i.test(a)&&!r||"BigWigAdapter"===r?o:e(t,n,r)}})),e.addToExtensionPoint("Core-guessTrackTypeForLocation",(function(e){return function(t){return"BigWigAdapter"===t?"QuantitativeTrack":e(t)}})),e.addRendererType((function(){return new lm({name:"DensityRenderer",ReactComponent:em,configSchema:cm,pluginManager:e})})),e.addRendererType((function(){return new km({name:"LinePlotRenderer",ReactComponent:em,configSchema:xm,pluginManager:e})})),e.addRendererType((function(){return new Cm({name:"XYPlotRenderer",ReactComponent:em,configSchema:Em,pluginManager:e})})),e.addRpcMethod((function(){return new Sm(e)})),e.addRpcMethod((function(){return new jm(e)}))}}]),n}(D.a),Tm=Object(u.a)((function(e){return{root:{},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));var Rm={__proto__:null,default:function(e){var t=Tm(),n=e.model,o=e.handleClose,i=n.minScore,l=n.maxScore,c=n.scaleType,u=Up(Object(r.useState)("".concat(i!==Number.MIN_VALUE?i:"")),2),s=u[0],d=u[1],m=Up(Object(r.useState)("".concat(l!==Number.MAX_VALUE?l:"")),2),g=m[0],b=m[1],v=!(""!==s&&""!==g&&!Number.isNaN(+s)&&!Number.isNaN(+g))||+g>+s,y=!("log"===c&&""!==s&&!Number.isNaN(+s))||+s>0;return a.a.createElement(p.a,{open:!0,onClose:o},a.a.createElement(an.a,null,"Set min/max score for track",a.a.createElement(h.a,{className:t.closeButton,onClick:o},a.a.createElement(In.a,null))),a.a.createElement(on.a,{style:{overflowX:"hidden"}},a.a.createElement("div",{className:t.root},a.a.createElement(f.a,null,"Enter min/max score: "),v?null:a.a.createElement(f.a,{color:"error"},"Max is greater than or equal to min"),y?null:a.a.createElement(f.a,{color:"error"},"Min score should be greater than 0 for log scale"),a.a.createElement(J.a,{value:s,onChange:function(e){d(e.target.value)},placeholder:"Enter min score"}),a.a.createElement(J.a,{value:g,onChange:function(e){b(e.target.value)},placeholder:"Enter max score"}),a.a.createElement(cn.a,{variant:"contained",color:"primary",type:"submit",style:{marginLeft:20},disabled:!v,onClick:function(){n.setMinScore(""===s||Number.isNaN(+s)?void 0:+s),n.setMaxScore(""===g||Number.isNaN(+g)?void 0:+g),o()}},"Submit"))))}},Mm=Object(u.a)((function(e){return{closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}));function Im(e){if(e instanceof Object){var t=e.r,n=e.g,r=e.b;return"rgb(".concat(t,",").concat(n,",").concat(r,")")}return e}var Am={__proto__:null,default:function(e){var t=e.model,n=e.handleClose,o=Mm(),i=Up(Object(r.useState)(!1),2),l=i[0],c=i[1];return a.a.createElement(p.a,{open:!0,onClose:n},a.a.createElement(an.a,null,"Select either an overall color, or the positive/negative colors. Note that density renderers only work properly with positive/negative colors",a.a.createElement(h.a,{"aria-label":"close",className:o.closeButton,onClick:n},a.a.createElement(In.a,null))),a.a.createElement(on.a,null,a.a.createElement(re.a,{checked:!l,onClick:function(){return c(!1)},control:a.a.createElement(vp.a,null),label:"Overall color"}),a.a.createElement(re.a,{checked:l,onClick:function(){return c(!0)},control:a.a.createElement(vp.a,null),label:"Positive/negative color"}),l?a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,null,"Positive color"),a.a.createElement(Le.b,{onChange:function(e){t.setPosColor(Im(e.rgb)),t.setColor(void 0)}}),a.a.createElement(f.a,null,"Negative color"),a.a.createElement(Le.b,{onChange:function(e){t.setNegColor(Im(e.rgb)),t.setColor(void 0)}})):a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,null,"Overall color"),a.a.createElement(Le.b,{onChange:function(e){t.setColor(Im(e.rgb))}}))),a.a.createElement(ln.a,null,a.a.createElement(cn.a,{onClick:function(){t.setPosColor(void 0),t.setNegColor(void 0),t.setColor(void 0)},color:"secondary",variant:"contained"},"Restore default"),a.a.createElement(cn.a,{variant:"contained",color:"primary",type:"submit",onClick:function(){n()}},"Submit")))}},Lm=function(e){_p(c,e);var t,n,r,a,o,i=Wp(c);function c(e,t,n){var r;return Lp(this,c),(r=i.call(this,e,t,n)).bigwig=new Sp.BigWig({filehandle:Object(G.openLocation)(Object(l.readConfObject)(e,"bigWigLocation"),r.pluginManager)}),r}return Np(c,[{key:"setup",value:(o=Ap(Xp.mark((function e(t){var n,r,a=this;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(t||{}).statusCallback,r=void 0===n?function(){}:n,e.abrupt("return",Object(E.updateStatus)("Downloading bigwig header",r,(function(){return a.bigwig.getHeader(t)})));case 2:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)})},{key:"getRefNames",value:(a=Ap(Xp.mark((function e(t){var n,r;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t);case 2:return n=e.sent,r=n.refsByName,e.abrupt("return",Object.keys(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"refIdToName",value:(r=Ap(Xp.mark((function e(t){var n,r,a;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup();case 2:return r=e.sent,a=r.refsByNumber,e.abrupt("return",null===(n=a[t])||void 0===n?void 0:n.name);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"getGlobalStats",value:(n=Ap(Xp.mark((function e(t){var n,r;return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(t);case 2:return n=e.sent,r=n.totalSummary,e.abrupt("return",Object(Tp.rectifyStats)(r));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"getFeatures",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.refName,a=e.start,o=e.end,i=n.bpPerPx,l=void 0===i?0:i,c=n.signal,u=n.resolution,s=void 0===u?1:u,d=n.statusCallback,f=void 0===d?function(){}:d;return Object(W.ObservableCreate)(function(){var e=Ap(Xp.mark((function e(i){return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f("Downloading bigwig data"),e.next=3,t.bigwig.getFeatureStream(r,a,o,Mp(Mp({},n),{},{basesPerSpan:l/s}));case 3:e.sent.pipe(Object(jp.a)(),Object(Pp.a)((function(e){return new H.a({id:"".concat(r,":").concat(e.start,"-").concat(e.end),data:Mp(Mp({},e),{},{refName:r})})}))).subscribe(i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c)}},{key:"estimateRegionsStats",value:(t=Ap(Xp.mark((function e(t){return Xp.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{featureDensity:0});case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})},{key:"freeResources",value:function(){}}]),c}(z.BaseFeatureDataAdapter);Lm.capabilities=["hasResolution","hasLocalStats","hasGlobalStats"];var Fm={__proto__:null,default:Lm},Nm=Pm,Dm=n(829),_m=n.n(Dm),zm=n(1326),Bm=n.n(zm),Hm=(n(1327),Object(u.a)({paper:{overflow:"auto"}})),Wm=Object(o.observer)((function(e){var t=e.session,n=t.visibleWidget;if(!n)return a.a.createElement(s.a,{position:"relative"},a.a.createElement(d.a,null));var o=Object(i.getEnv)(t).pluginManager.getWidgetType(n.type),l=o.ReactComponent,c=o.HeadingComponent,u=o.heading;return a.a.createElement(a.a.Fragment,null,a.a.createElement(s.a,{position:"static"},a.a.createElement(d.a,null,c?a.a.createElement(c,{model:n}):a.a.createElement(f.a,{variant:"h6"},u))),n&&l?a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(v.a,null,a.a.createElement(l,{model:n,session:t,overrideDimensions:{height:5*window.innerHeight/8,width:800}}))):null)})),Vm=Object(o.observer)((function(e){var t=e.session,n=Hm(),r=t.visibleWidget,o=t.hideAllWidgets;return a.a.createElement(p.a,{open:Boolean(r),onClose:o,maxWidth:"xl"},a.a.createElement(m.a,{className:n.paper},a.a.createElement(Wm,{session:t})))})),Gm=Object(u.a)((function(e){return{viewContainer:{overflow:"hidden",background:e.palette.secondary.main,margin:e.spacing(1)},icon:{color:e.palette.secondary.contrastText},displayName:{marginTop:2,color:e.palette.secondary.contrastText},grow:{flexGrow:1},iconRoot:{"&:hover":{backgroundColor:Object(y.a)(e.palette.secondary.contrastText,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}}})),Um=Object(o.observer)((function(e){var t,n=e.model,o=e.IconButtonProps,i=e.IconProps,l=Object(r.useState)(),u=l[0],s=l[1];return null!=(t=n.menuItems())&&t.length?a.a.createElement(a.a.Fragment,null,a.a.createElement(h.a,Object.assign({},o,{"aria-label":"more","aria-controls":"view-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},"data-testid":"view_menu_icon"}),a.a.createElement(O.a,Object.assign({},i))),a.a.createElement(c.Menu,{anchorEl:u,open:Boolean(u),onMenuItemClick:function(e,t){t(),s(void 0)},onClose:function(){s(void 0)},menuItems:n.menuItems()})):null})),qm=Object(o.observer)((function(e){var t=e.view,n=e.children,o=Gm(),l=Object(g.a)(),u=Object(E.getSession)(t),s=Object(C.a)(),d=s[0],p=s[1].width,h=l.spacing(1);return Object(r.useEffect)((function(){p&&Object(i.isAlive)(t)&&t.setWidth(p-2*h)}),[h,t,p]),a.a.createElement(m.a,{elevation:12,ref:d,className:o.viewContainer,style:{padding:"0px "+h+"px "+h+"px"}},u.DialogComponent?a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null)},a.a.createElement(u.DialogComponent,Object.assign({},u.DialogProps))):null,a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(Um,{model:t,IconButtonProps:{classes:{root:o.iconRoot},edge:"start"},IconProps:{className:o.icon}}),a.a.createElement("div",{className:o.grow}),t.displayName?a.a.createElement(f.a,{variant:"body2",className:o.displayName},t.displayName):null,a.a.createElement("div",{className:o.grow}),a.a.createElement("div",{style:{width:20,height:20}},a.a.createElement(c.Logomark,{variant:"white"}))),a.a.createElement(m.a,null,n))})),$m=Object(u.a)((function(){return{avoidParentStyle:{all:"initial"}}})),Km=Object(o.observer)((function(e){var t=e.viewState,n=$m(),o=t.session,u=o.view,s=Object(i.getEnv)(o).pluginManager.getViewType(u.type);if(!s)throw new Error("unknown view type "+u.type);var d=s.ReactComponent,f=Object(c.createJBrowseTheme)(Object(l.readConfObject)(t.config.configuration,"theme"));return a.a.createElement(b.a,{theme:f},a.a.createElement("div",{className:n.avoidParentStyle},a.a.createElement(v.a,null,a.a.createElement(qm,{key:"view-"+u.id,view:u},a.a.createElement(r.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(d,{model:u,session:o}))),a.a.createElement(Vm,{session:o}))))})),Jm=[Qt,$o,ml,sf,fp,Nm];function Ym(e,t){return i.types.model("Configuration",{configuration:Object(l.ConfigurationSchema)("Root",{rpc:T.a.configSchema,highResolutionScaling:{type:"number",defaultValue:2},theme:{type:"frozen",defaultValue:{}}}),assembly:t,tracks:i.types.array(e.pluggableConfigSchemaType("track")),connections:i.types.array(e.pluggableConfigSchemaType("connection")),aggregateTextSearchAdapters:i.types.array(e.pluggableConfigSchemaType("text search adapter")),plugins:i.types.frozen()}).views((function(e){return{get assemblies(){return[e.assembly]},get assemblyName(){return Object(l.readConfObject)(e.assembly,"name")},get rpcManager(){return Object(i.getParent)(e).rpcManager}}}))}function Xm(){return(Xm=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Zm=Object(r.lazy)((function(){return n.e(0).then(n.t.bind(null,1405,7))}));function Qm(e){var t=new j.a([].concat(Jm,e).map((function(e){return new e})));t.createPluggableElements();var n=function(e){var t=i.types.model("ReactCircularGenomeViewSession",{name:i.types.identifier,view:e.getViewType("CircularView").stateModel,widgets:i.types.map(e.pluggableMstType("widget","stateModel")),activeWidgets:i.types.map(i.types.safeReference(e.pluggableMstType("widget","stateModel"))),connectionInstances:i.types.array(e.pluggableMstType("connection","stateModel"))}).volatile((function(){return{selection:void 0,task:void 0,queueOfDialogs:[]}})).views((function(e){return{get DialogComponent(){if(e.queueOfDialogs.length){var t=e.queueOfDialogs[0];return t&&t[0]}},get DialogProps(){if(e.queueOfDialogs.length){var t=e.queueOfDialogs[0];return t&&t[1]}},get rpcManager(){return Object(i.getParent)(e).rpcManager},get configuration(){return Object(i.getParent)(e).config.configuration},get assemblies(){return[Object(i.getParent)(e).config.assembly]},get assemblyNames(){return[Object(i.getParent)(e).config.assemblyName]},get tracks(){return Object(i.getParent)(e).config.tracks},get aggregateTextSearchAdapters(){return Object(i.getParent)(e).config.aggregateTextSearchAdapters},get connections(){return Object(i.getParent)(e).config.connections},get adminMode(){return!1},get assemblyManager(){return Object(i.getParent)(e).assemblyManager},get version(){return""},get views(){return[e.view]},renderProps:function(){return{theme:Object(l.readConfObject)(this.configuration,"theme")}},get visibleWidget(){if(Object(i.isAlive)(e))return Array.from(e.activeWidgets.values())[e.activeWidgets.size-1]},getReferring:function(t){var n=[];return Object(i.walk)(Object(i.getParent)(e),(function(e){if(Object(i.isModelType)(Object(i.getType)(e))){var r=Object(i.getMembers)(e);Object.entries(r.properties).forEach((function(r){var a=r[0],o=r[1];Object(i.isReferenceType)(o)&&e[a]===t&&n.push({node:e,key:a})}))}})),n}}})).actions((function(t){return{queueDialog:function(e){var n=this,r=e((function(){n.removeActiveDialog()})),a=r[0],o=r[1];t.queueOfDialogs=[].concat(t.queueOfDialogs,[[a,o]])},removeActiveDialog:function(){t.queueOfDialogs=t.queueOfDialogs.slice(1)},makeConnection:function(n,r){void 0===r&&(r={});var a=n.type;if(!a)throw new Error("track configuration has no `type` listed");var o=Object(l.readConfObject)(n,"name");if(!e.getConnectionType(a))throw new Error("unknown connection type "+a);var i=Xm({},r,{name:o,type:a,configuration:n}),c=t.connectionInstances.push(i);return t.connectionInstances[c-1]},removeReferring:function(e,t,n,r){var a=this;e.forEach((function(e){var o=e.node,l=!1;try{var c="open track(s)",u=Object(E.getContainingView)(o);n.push((function(){return u.hideTrack(t.trackId)})),l=!0,r[c]||(r[c]=0),r[c]+=1}catch(e){}if(a.hasWidget(o)){var s="configuration editor widget(s)";n.push((function(){return a.hideWidget(o)})),l=!0,r[s]||(r[s]=0),r[s]+=1}if(!l)throw new Error("Error when closing this connection, the following node is still referring to a track configuration: "+JSON.stringify(Object(i.getSnapshot)(o)))}))},prepareToBreakConnection:function(e){var n=this,r=[],a={},o=Object(l.readConfObject)(e,"name");t.connectionInstances.find((function(e){return e.name===o})).tracks.forEach((function(e){var o=t.getReferring(e);n.removeReferring(o,e,r,a)}));return[function(){r.forEach((function(e){return e()})),n.breakConnection(e)},a]},breakConnection:function(e){var n=Object(l.readConfObject)(e,"name"),r=t.connectionInstances.find((function(e){return e.name===n}));t.connectionInstances.remove(r)},addView:function(n,r){if(void 0===r&&(r={}),!e.getElementType("view",n))throw new Error("unknown view type "+n);t.view=Xm({},r,{type:n})},removeView:function(){},addWidget:function(n,r,a,o){if(void 0===a&&(a={}),void 0===o&&(o={type:n}),!e.getElementType("widget",n))throw new Error("unknown widget type "+n);var i=Xm({},a,{id:r,type:n,configuration:o});return t.widgets.set(r,i),t.widgets.get(r)},showWidget:function(e){t.activeWidgets.has(e.id)&&t.activeWidgets.delete(e.id),t.activeWidgets.set(e.id,e)},hasWidget:function(e){return t.activeWidgets.has(e.id)},hideWidget:function(e){t.activeWidgets.delete(e.id)},hideAllWidgets:function(){t.activeWidgets.clear()},setSelection:function(e){t.selection=e},clearSelection:function(){t.selection=void 0},clearConnections:function(){t.connectionInstances.length=0},renameCurrentSession:function(e){return Object(i.getParent)(t).renameCurrentSession(e)}}})).views((function(e){return{getTrackActionMenuItems:function(t){return[{label:"About track",onClick:function(){e.queueDialog((function(e){return[Zm,{config:t,handleClose:e}]}))},icon:_m.a}]}}}));return Bm()(t)}(t),r=Object(k.assemblyConfigSchemaFactory)(t),a=x()(r,t);return{model:i.types.model("ReactCircularGenomeView",{config:Ym(t,r),session:n,assemblyManager:a}).volatile((function(){return{error:void 0}})).actions((function(e){return{setSession:function(t){e.session=Object(i.cast)(t)},renameCurrentSession:function(t){if(e.session){var n=JSON.parse(JSON.stringify(Object(i.getSnapshot)(e.session)));n.name=t,this.setSession(n)}},setError:function(t){e.error=t}}})).views((function(e){return{get jbrowse(){return e.config},get pluginManager(){return t}}})).volatile((function(e){return{rpcManager:new T.a(t,e.config.configuration.rpc,{MainThreadRpcDriver:{}}),textSearchManager:new M.a(t)}})),pluginManager:t}}var eh=n(4);function th(e){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ah(e,t){return(ah=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oh(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=lh(e);if(t){var a=lh(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return ih(this,n)}}function ih(e,t){if(t&&("object"===th(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function lh(e){return(lh=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"default",(function(){return ch}));var ch=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ah(e,t)}(l,e);var t,n,r,o=oh(l);function l(){return nh(this,l),o.apply(this,arguments)}return t=l,(n=[{key:"render",value:function(){var e=this.props,t=e.id,n=function(e){var t=e.assembly,n=e.tracks,r=e.configuration,a=e.aggregateTextSearchAdapters,o=e.plugins,l=e.onChange,c=Qm(o||[]),u=c.model,s=c.pluginManager,d=e.defaultSession;d||(d={name:"this session",view:{id:"circularView",type:"CircularView"}});var f={config:{configuration:r,assembly:t,tracks:n,aggregateTextSearchAdapters:a,defaultSession:d},assemblyManager:{},session:d},p=u.create(f,{pluginManager:s});return s.setRootModel(p),s.configure(),Object(Ko.autorun)((function(e){if(p.assemblyManager.allPossibleRefNames&&p.assemblyManager.allPossibleRefNames.length&&p.session.view.initialized){var t=p.assemblyManager.assemblies[0];p.session.view.setDisplayedRegions(t.regions),e.dispose()}})),l&&Object(i.onPatch)(p,l),p}({assembly:e.assembly,tracks:e.tracks,defaultSession:e.defaultSession,aggregateTextSearchAdapters:e.aggregateTextSearchAdapters,configuration:e.configuration});return a.a.createElement("div",{id:t},a.a.createElement(Km,{viewState:n}))}}])&&rh(t.prototype,n),r&&rh(t,r),l}(r.Component);ch.defaultProps=eh.b,ch.propTypes=eh.c},830:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new a.default.Jexl;return e.addFunction("get",(function(e,t){return e.get(t)})),e.addFunction("parent",(function(e){return e.parent()})),e.addFunction("id",(function(e){return e.id()})),e.addFunction("cast",(function(e){return e})),e.addFunction("log",(function(e){return console.log(e),e})),e.addFunction("max",Math.max),e.addFunction("min",Math.min),e.addFunction("sqrt",Math.sqrt),e.addFunction("ceil",Math.ceil),e.addFunction("floor",Math.floor),e.addFunction("round",Math.round),e.addFunction("abs",Math.abs),e.addFunction("log10",Math.log10),e.addFunction("parseInt",Number.parseInt),e.addFunction("parseFloat",Number.parseFloat),e.addFunction("split",(function(e,t){return e.split(t)})),e.addFunction("charAt",(function(e,t){return e.charAt(t)})),e.addFunction("charCodeAt",(function(e,t){return e.charCodeAt(t)})),e.addFunction("codePointAt",(function(e,t){return e.codePointAt(t)})),e.addFunction("startsWith",(function(e,t,n){return e.startsWith(t,n)})),e.addFunction("endsWith",(function(e,t,n){return e.endsWith(t,n)})),e.addFunction("padEnd",(function(e,t,n){return e.padEnd(t,n)})),e.addFunction("padStart",(function(e,t,n){return e.padStart(t,n)})),e.addFunction("repeat",(function(e,t){return e.repeat(t)})),e.addFunction("replace",(function(e,t,n){return e.replace(t,n)})),e.addFunction("replaceAll",(function(e,t,n){return e.replaceAll(t,n)})),e.addFunction("slice",(function(e,t,n){return e.slice(t,n)})),e.addFunction("startsWith",(function(e,t,n){return e.startsWith(t,n)})),e.addFunction("substring",(function(e,t,n){return e.substring(t,n)})),e.addFunction("toLowerCase",(function(e){return e.toLowerCase()})),e.addFunction("toUpperCase",(function(e){return e.toUpperCase()})),e.addFunction("trim",(function(e){e.trim()})),e.addFunction("trimEnd",(function(e){return e.trimEnd()})),e.addFunction("trimStart",(function(e){return e.trimStart()})),e.addFunction("getTag",(function(e,t){var n=e.get("tags");return n?n[t]:e.get(t)})),e.addBinaryOp("&",15,(function(e,t){return e&t})),e};var a=r(n(621))},831:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.getConf=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new TypeError("must provide a model object");var r=e,a=r.configuration;if(d(a))return c(a,t,n);throw new TypeError("cannot getConf on this model, it has no configuration")},t.getTypeNamesFromExplicitlyTypedUnion=function e(t){if((0,i.isType)(t)&&(t=(0,l.resolveLateType)(t),(0,i.isUnionType)(t))){var n=[];return(0,l.getUnionSubTypes)(t).forEach((function(t){t=(0,l.resolveLateType)(t);var r=e(t);r.length||(r=[(0,l.getDefaultValue)(t).type]);if(!r[0])throw new Error("invalid config schema type ".concat(t));n.push.apply(n,(0,o.default)(r))})),n}return[]},t.isBareConfigurationSchemaType=u,t.isConfigurationModel=d,t.isConfigurationSchemaType=s,t.isConfigurationSlotType=function(e){return"object"===(0,a.default)(e)&&null!==e&&"isJBrowseConfigurationSlot"in e},t.readConfObject=c;var a=r(n(21)),o=r(n(40)),i=n(19),l=n(155);function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw new TypeError("must provide conf object to read");if(!t)return JSON.parse(JSON.stringify((0,i.getSnapshot)(e)));if("string"==typeof t){var r=e[t];if(!r&&(0,i.isStateTreeNode)(e)&&(0,i.isMapType)((0,i.getType)(e))&&(r=e.get(t)),!r)return;if(r.expr){var a=r.expr.evalSync(n);return(0,i.isStateTreeNode)(a)?JSON.parse(JSON.stringify((0,i.getSnapshot)(a))):a}return(0,i.isStateTreeNode)(r)?JSON.parse(JSON.stringify((0,i.getSnapshot)(r))):r}var o=t[0];if(t.length>1){var l=t.slice(1),u=e[o];return!u&&(0,i.isStateTreeNode)(e)&&(0,i.isMapType)((0,i.getType)(e))&&(u=e.get(o)),u?c(u,l,n):void 0}return c(e,o,n)}function u(e){if((0,i.isType)(e)){if((0,i.isModelType)(e)&&("isJBrowseConfigurationSchema"in e||e.name.includes("ConfigurationSchema")))return!0;if((0,i.isLateType)(e))return!0}return!1}function s(e){return!!(0,i.isType)(e)&&(!!u(e)||((0,i.isUnionType)(e)?(0,l.getUnionSubTypes)(e).every((function(e){return s(e)||"undefined"===e.name})):!(!(0,i.isOptionalType)(e)||!s((0,l.getSubType)(e)))||(!(!(0,i.isArrayType)(e)||!s((0,l.getSubType)(e)))||!(!(0,i.isMapType)(e)||!s((0,l.getSubType)(e))))))}function d(e){return(0,i.isStateTreeNode)(e)&&s((0,i.getType)(e))}},832:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.LogoFull=function(e){var t=e.variant;return a.default.createElement("svg",{viewBox:"0 0 641 175"},a.default.createElement(l,{variant:t}),a.default.createElement(i,{variant:t}))},t.Logomark=function(e){var t=e.variant;return a.default.createElement("svg",{viewBox:"0 0 175 175"},a.default.createElement(i,{variant:t}))};var a=r(n(1));function o(e){return"black"===e?{midnight:"#808080",forrest:"#666666",grape:"#4d4d4d",mandarin:"#333333",gray:"#1a1a1a"}:"white"===e?{midnight:"#ffffff",forrest:"#e6e6e6",grape:"#cccccc",mandarin:"#b3b3b3",gray:"#999999"}:{midnight:"#0d233f",forrest:"#135560",grape:"#721e63",mandarin:"#ffb11d",gray:"#dadada"}}function i(e){var t=o(e.variant);return a.default.createElement(a.default.Fragment,null,a.default.createElement("path",{style:{fill:t.midnight},d:"M120.5,57.5c.168,0,.333.012.5.013V40.506c-.167,0-.333-.006-.5-.006a98.325,98.325,0,0,0-77.4,37.565q-2.664,3.378-5.023,6.994l14.206,9.327Q54.043,91.709,56,89.179A81.363,81.363,0,0,1,120.5,57.5Z"}),a.default.createElement("path",{style:{fill:t.forrest},d:"M148.668,86.223c.308.133.6.283.908.42l6.746-15.618c-.153-.067-.3-.143-.454-.21a81.36,81.36,0,0,0-71.777,3.5q-2.8,1.544-5.469,3.309l9.249,14.054A63.93,63.93,0,0,1,148.668,86.223Z"}),a.default.createElement("path",{style:{fill:t.grape},d:"M170.894,109.37A63.929,63.929,0,0,0,113.4,88.861l2.336,15.474a48.456,48.456,0,0,1,44.322,15.42c.111.125.214.255.324.381l11.16-10C171.323,109.879,171.118,109.62,170.894,109.37Z"}),a.default.createElement("path",{style:{fill:t.mandarin},d:"M150.921,150.314c.04.163.07.326.107.489l16.509-4.058c-.039-.163-.067-.326-.107-.489A48.457,48.457,0,0,0,135.575,111.8l-5.515,15.591A32.466,32.466,0,0,1,150.921,150.314Z"}),a.default.createElement("path",{style:{fill:t.gray},d:"M134.1,138.129l-9.779,13.213a32.486,32.486,0,0,1,7.823,14.463l15.147.852c.012-.166.032-.331.041-.5A32.464,32.464,0,0,0,134.1,138.129Z"}))}function l(e){var t=o(e.variant);return a.default.createElement("g",{"aria-label":"JBrowse",transform:"translate(213.084 144.241)",style:{fill:t.midnight}},a.default.createElement("path",{d:"m 26.355,-71.505 v 54.075 2.835 q 0,6.825 -0.42,10.185 -0.735,5.67 -2.835,9.135 -3.255,5.355 -8.505,8.4 -4.83,2.73 -11.55,3.57 L 1.47,11.76 Q 7.35,10.185 9.24,4.2 10.605,-0.105 10.605,-9.975 v -5.565 -55.965 q 1.785,0 4.62,0.315 2.835,0.21 3.255,0.21 1.785,0 2.94,-0.105 4.515,-0.42 4.935,-0.42 z"}),a.default.createElement("path",{d:"m 60.68836,-65.415 v 24.78 h 3.255 q 2.94,0 4.935,-0.525 2.1,-0.525 3.885,-2.1 2.31,-1.995 3.36,-4.83 1.155,-2.835 1.155,-6.09 0,-5.565 -2.94,-8.61 -2.94,-3.045 -8.295,-3.045 -2.52,0 -5.355,0.42 z m 0,30.87 V -6.09 h 5.25 q 4.725,0 8.505,-3.675 3.885,-3.78 3.885,-10.08 0,-8.19 -4.62,-11.655 -4.095,-3.045 -13.02,-3.045 z M 44.93836,0 v -71.505 h 27.09 q 9.135,0 14.385,3.255 6.51,3.99 6.51,12.6 0,7.035 -5.25,11.655 -4.62,4.095 -11.97,5.145 v 0.945 q 7.56,0.735 12.285,3.99 6.615,4.62 6.615,13.335 0,10.185 -7.98,15.75 -6.93,4.83 -17.43,4.83 z"}),a.default.createElement("path",{d:"M 109.44281,0.525 V -50.4 q 1.785,0.21 3.99,0.42 2.31,0.105 3.255,0.105 2.31,0 4.2,-0.21 1.89,-0.21 3.045,-0.315 v 13.02 q 1.89,-6.51 5.46,-9.87 4.41,-4.095 11.655,-4.095 -0.315,2.73 -0.42,6.825 -0.105,3.99 -0.105,7.455 l -0.945,0.84 q -0.945,-0.735 -2.415,-1.05 -1.47,-0.315 -2.94,-0.315 -3.57,0 -6.195,1.89 -2.52,1.785 -3.465,5.04 -0.42,1.155 -0.525,3.15 -0.105,1.89 -0.105,4.515 v 4.515 19.005 q -1.785,-0.21 -2.625,-0.21 -3.675,-0.315 -4.62,-0.315 -2.31,0 -4.2,0.21 -1.89,0.21 -3.045,0.315 z"}),a.default.createElement("path",{d:"m 173.77337,1.47 q -11.655,0 -18.585,-6.825 -6.93,-6.825 -6.93,-18.48 0,-12.6 6.72,-20.055 6.825,-7.455 18.9,-7.455 11.97,0 18.9,6.72 6.93,6.72 6.93,18.48 0,12.285 -6.72,19.74 -7.14,7.875 -19.215,7.875 z m 0.735,-48.09 q -5.88,0 -8.505,6.51 -2.205,5.565 -2.205,15.96 0,8.19 1.47,12.915 2.415,7.98 8.505,7.98 5.565,0 8.19,-7.875 2.205,-6.51 2.205,-16.695 0,-8.505 -2.1,-13.23 -2.52,-5.565 -7.56,-5.565 z"}),a.default.createElement("path",{d:"m 222.03563,-50.4 10.5,36.015 q 3.675,-11.235 5.67,-17.85 2.415,-8.085 5.04,-18.165 1.05,0.105 3.045,0.315 2.1,0.21 2.835,0.21 1.995,0 3.15,-0.105 1.26,-0.21 2.73,-0.42 l 10.71,36.015 q 5.88,-17.43 10.71,-36.015 l 4.2,0.315 4.095,-0.315 q -5.145,13.125 -9.135,24.57 -5.04,14.28 -8.505,26.355 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.205,-0.105 -1.89,0 -3.36,0.21 -1.365,0.21 -2.31,0.315 l -10.605,-34.755 q -4.41,13.65 -6.72,21.105 -2.31,7.35 -4.095,13.65 -1.89,-0.21 -3.36,-0.42 -1.365,-0.105 -2.31,-0.105 -1.995,0 -3.465,0.21 -1.365,0.21 -2.31,0.315 -3.78,-12.81 -5.04,-17.01 -2.205,-7.245 -5.46,-17.01 -2.835,-8.4 -5.88,-16.905 1.575,0 4.305,0.315 2.73,0.21 3.36,0.21 1.47,0 4.305,-0.21 2.835,-0.315 3.465,-0.315 z"}),a.default.createElement("path",{d:"m 292.84172,-12.81 h 2.625 q 1.47,4.095 4.62,6.51 3.15,2.415 7.35,2.415 2.94,0 5.46,-1.785 2.625,-1.89 2.625,-4.62 0,-3.885 -6.195,-6.615 -10.395,-4.62 -11.655,-5.46 -6.405,-4.515 -6.405,-12.285 0,-7.77 5.25,-12.18 5.25,-4.515 12.81,-4.515 3.99,0 8.085,1.365 4.095,1.26 7.14,3.57 l -2.52,9.24 h -2.94 q -0.63,-3.57 -3.57,-6.195 -2.835,-2.625 -6.405,-2.625 -3.15,0 -5.46,1.575 -2.31,1.47 -2.31,4.515 0,3.885 6.405,6.51 10.185,4.095 11.865,5.25 6.405,4.41 6.405,12.81 0,7.455 -5.46,12.18 -5.355,4.62 -14.805,4.62 -8.19,0 -14.49,-4.305 z"}),a.default.createElement("path",{d:"m 349.61228,-29.925 h 15.54 q 0,-6.51 -1.05,-10.395 -1.68,-6.3 -5.88,-6.3 -5.04,0 -7.14,6.195 -1.47,4.305 -1.47,10.5 z m 30.03,5.04 h -30.03 q 0,9.135 3.045,13.86 3.57,5.67 11.55,5.67 3.255,0 6.405,-1.26 3.15,-1.26 5.88,-3.465 l 1.26,0.945 -2.31,5.88 q -6.72,4.725 -15.015,4.725 -12.915,0 -19.635,-7.245 -6.72,-7.245 -6.72,-20.37 0,-11.235 6.405,-18.165 6.51,-7.035 17.64,-7.035 11.655,0 16.905,7.56 4.62,6.615 4.62,18.9 z"}))}},833:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(49)),i=r(n(23)),l=r(n(56)),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),u=n(18),s=r(n(12)),d=["onDrag","vertical","flexbox","className"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p=(0,u.makeStyles)({horizontalHandle:{cursor:"row-resize",width:"100%"},verticalHandle:{cursor:"col-resize",height:"100%"},flexbox_verticalHandle:{cursor:"col-resize",alignSelf:"stretch"},flexbox_horizontalHandle:{cursor:"row-resize",alignSelf:"stretch"}});var m=function(e){var t,n=e.onDrag,r=e.vertical,a=void 0!==r&&r,u=e.flexbox,f=void 0!==u&&u,m=e.className,h=(0,l.default)(e,d),g=(0,c.useState)(!1),b=(0,i.default)(g,2),v=b[0],y=b[1],w=(0,c.useRef)(0),O=p();return(0,c.useEffect)((function(){function e(e){e.preventDefault();var t=a?e.clientX:e.clientY,r=t-w.current;r&&(n(r),w.current=t)}function t(){y(!1)}return v?(window.addEventListener("mousemove",e,!0),window.addEventListener("mouseup",t,!0),function(){window.removeEventListener("mousemove",e,!0),window.removeEventListener("mouseup",t,!0)}):function(){}}),[v,n,a]),t=f?a?O.flexbox_verticalHandle:O.flexbox_horizontalHandle:a?O.verticalHandle:O.horizontalHandle,c.default.createElement("div",(0,o.default)({"data-resizer":"true",onMouseDown:function(e){e.preventDefault(),w.current=a?e.clientX:e.clientY,y(!0)},role:"presentation",className:(0,s.default)(t,m)},h))};t.default=m},834:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.abortBreakPoint=function(e){return y.apply(this,arguments)},t.checkAbortSignal=b,t.isAbortException=function(e){return e instanceof Error&&("AbortError"===e.name||"ERR_ABORTED"===e.code||!!e.message.match(/\b(aborted|AbortError)\b/i))},t.makeAbortError=w,t.observeAbortSignal=function(e){if(!e)return m.Observable.create();return(0,m.fromEvent)(e,"abort")};var a=r(n(22)),o=r(n(25)),i=r(n(16)),l=r(n(15)),c=r(n(35)),u=r(n(27)),s=r(n(28)),d=r(n(26)),f=r(n(169)),p=r(n(13)),m=n(133);function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var g=function(e){(0,u.default)(n,e);var t=h(n);function n(){var e;(0,l.default)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,p.default)((0,c.default)(e),"code",void 0),e}return(0,i.default)(n)}((0,f.default)(Error));function b(e){if(e){if(!(e instanceof AbortSignal))throw new TypeError("must pass an AbortSignal");if(e.aborted)throw w()}}function v(e){return new Promise((function(t){return setTimeout(t,e)}))}function y(){return(y=(0,o.default)(a.default.mark((function e(t){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(1);case 2:b(t);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){if("undefined"!=typeof DOMException)return new DOMException("aborted","AbortError");var e=new g("aborted");return e.code="ERR_ABORTED",e}},835:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesIntersect2=function(e,t,n,r){return t>n&&e<r},t.intersection2=function(e,t,n,r){if(t>n&&e<r&&r-n&&t-e)return e>n?t<r?[e,t]:[e,r]:t<r?[n,t]:[n,r];return[]},t.isContainedWithin=function(e,t,n,r){return n<=e&&r>=t}},836:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.renderToAbstractCanvas=function(e,t,n,r){return u.apply(this,arguments)};var a=r(n(22)),o=r(n(25)),i=r(n(1)),l=n(459),c=n(42);function u(){return(u=(0,o.default)(a.default.mark((function e(t,n,r,o){var u,s,d,f,p,m,h,g,b;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r.exportSVG,s=r.highResolutionScaling,d=void 0===s?1:s,!u||u.rasterizeLayers){e.next=7;break}return f=new l.PonyfillOffscreenCanvas(t,n),p=f.getContext("2d"),e.next=6,o(p);case 6:return e.abrupt("return",{reactElement:f.getSerializedSvg()});case 7:if(!u||!u.rasterizeLayers){e.next=32;break}return 4,m=(0,l.createCanvas)(Math.ceil(4*t),4*n),(h=m.getContext("2d")).scale(4,4),e.next=14,o(h);case 14:if(e.t0=i.default,e.t1=t,e.t2=n,!m.convertToBlob){e.next=27;break}return e.t4=c.blobToDataURL,e.next=21,m.convertToBlob({type:"image/png"});case 21:return e.t5=e.sent,e.next=24,(0,e.t4)(e.t5);case 24:e.t3=e.sent,e.next=28;break;case 27:e.t3=m.toDataURL();case 28:return e.t6=e.t3,e.t7={width:e.t1,height:e.t2,xlinkHref:e.t6},e.t8=e.t0.createElement.call(e.t0,"image",e.t7),e.abrupt("return",{reactElement:e.t8});case 32:return g=(0,l.createCanvas)(Math.ceil(t*d),n*d),(b=g.getContext("2d")).scale(d,d),e.next=37,o(b);case 37:return e.next=39,(0,l.createImageBitmap)(g);case 39:return e.t9=e.sent,e.abrupt("return",{imageData:e.t9});case 41:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},837:function(e,t,n){"use strict";var r=n(1),a=n(65);t.a=Object(a.a)(r.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},838:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1277)).default;t.default=a},839:function(e,t,n){"use strict";var r=n(11),a=n(10),o=n(1),i=(n(0),n(12)),l=n(62),c=n(14),u=n(1409),s=n(38),d=o.forwardRef((function(e,t){var n=e.children,l=e.classes,c=e.className,d=e.disabled,f=void 0!==d&&d,p=e.disableFocusRipple,m=void 0!==p&&p,h=e.onChange,g=e.onClick,b=e.selected,v=e.size,y=void 0===v?"medium":v,w=e.value,O=Object(r.a)(e,["children","classes","className","disabled","disableFocusRipple","onChange","onClick","selected","size","value"]);return o.createElement(u.a,Object(a.a)({className:Object(i.default)(l.root,c,f&&l.disabled,b&&l.selected,"medium"!==y&&l["size".concat(Object(s.a)(y))]),disabled:f,focusRipple:!m,ref:t,onClick:function(e){g&&(g(e,w),e.isDefaultPrevented())||h&&h(e,w)},onChange:h,value:w,"aria-pressed":b},O),o.createElement("span",{className:l.label},n))}));t.a=Object(c.a)((function(e){return{root:Object(a.a)({},e.typography.button,{boxSizing:"border-box",borderRadius:e.shape.borderRadius,padding:11,border:"1px solid ".concat(Object(l.a)(e.palette.action.active,.12)),color:Object(l.a)(e.palette.action.active,.38),"&$selected":{color:e.palette.action.active,backgroundColor:Object(l.a)(e.palette.action.active,.12),"&:hover":{backgroundColor:Object(l.a)(e.palette.action.active,.15)},"& + &":{borderLeft:0,marginLeft:0}},"&$disabled":{color:Object(l.a)(e.palette.action.disabled,.12)},"&:hover":{textDecoration:"none",backgroundColor:Object(l.a)(e.palette.text.primary,.05),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}}}),disabled:{},selected:{},label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},sizeSmall:{padding:7,fontSize:e.typography.pxToRem(13)},sizeLarge:{padding:15,fontSize:e.typography.pxToRem(15)}}}),{name:"MuiToggleButton"})(d)},840:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(63)),o=r(n(92)),i=r(n(113)),l=r(n(114)),c=r(n(224)),u=r(n(146)),s=r(n(1));t.default=function(e){var t=e.onClose,n=e.open,r=e.onFactoryReset;function d(e){"reset"===e&&r(),t()}return s.default.createElement(o.default,{open:n,onClose:function(){return d()}},s.default.createElement(i.default,{id:"alert-dialog-title"},"Reset"),s.default.createElement(l.default,null,s.default.createElement(c.default,{id:"alert-dialog-description"},"Are you sure you want to reset? This will restore the default configuration.")),s.default.createElement(u.default,null,s.default.createElement(a.default,{onClick:function(){return d()},color:"primary"},"Cancel"),s.default.createElement(a.default,{onClick:function(){return d("reset")},color:"primary",variant:"contained"},"OK")))}},841:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.html,n=c(t)?t:(0,o.default)(t);return a.default.createElement("div",{dangerouslySetInnerHTML:{__html:i.default.sanitize(n)}})},t.isHTML=c;var a=r(n(1)),o=r(n(663)),i=r(n(664)),l=new RegExp(["a","b","br","code","div","em","h1","h2","h3","h4","h5","h6","i","img","li","p","pre","span","small","strong","table","tbody","td","tfoot","th","thead","tr","u","ul"].map((function(e){return"<".concat(e,"\\b[^>]*>")})).join("|"),"i");function c(e){return l.test(e)}},842:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeAbortSignal=function(e){var t=e.abortSignalId,n=l.get(t);n||(n=new AbortController,l.set(t,n));return n.signal},t.isRemoteAbortSignal=function(e){return"object"===(0,a.default)(e)&&null!==e&&"abortSignalId"in e&&"number"==typeof e.abortSignalId},t.remoteAbort=c,t.remoteAbortRpcHandler=function(){return{signalAbort:c}},t.serializeAbortSignal=function(e,t){var n=i.get(e);n||(o+=1,i.set(e,o),n=o,e.addEventListener("abort",(function(){var n=i.get(e);void 0!==n&&t("signalAbort",n)})));return{abortSignalId:n}};var a=r(n(21)),o=0,i=new WeakMap;var l=new Map;function c(e){var t=e.signalId,n=l.get(t);n&&n.abort()}},843:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13)),d=r(n(108)),f=n(155);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var m=function(e){(0,l.default)(n,e);var t=p(n);function n(e){var r;if((0,o.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"stateModel",void 0),(0,s.default)((0,i.default)(r),"configSchema",void 0),r.stateModel=e.stateModel,r.configSchema=e.configSchema,!r.stateModel)throw new Error("no stateModel defined for internet account type ".concat(r.name));if(!r.configSchema)throw new Error("no configSchema provided for internet account type ".concat(r.name));if(!(0,f.getDefaultValue)(r.configSchema).type){var a=r.configSchema?r.configSchema.name:"UNKNOWN";throw new Error("".concat(a," is not explicitlyTyped"))}return r}return(0,a.default)(n)}(d.default);t.default=m},844:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(16)),o=r(n(15)),i=r(n(35)),l=r(n(27)),c=r(n(28)),u=r(n(26)),s=r(n(13));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.default)(e);if(t){var a=(0,u.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.default)(this,n)}}var f=function(e){(0,l.default)(n,e);var t=d(n);function n(e){var r;if((0,o.default)(this,n),r=t.call(this,e),(0,s.default)((0,i.default)(r),"AdapterClass",void 0),(0,s.default)((0,i.default)(r),"configSchema",void 0),(0,s.default)((0,i.default)(r),"description",void 0),r.description=e.description,r.configSchema=e.configSchema,r.AdapterClass=e.AdapterClass,!r.AdapterClass)throw new Error("no AdapterClass defined for adapter type ".concat(r.name));return r}return(0,a.default)(n)}(r(n(108)).default);t.default=f},845:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(1290)).default;t.default=a},846:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.blankStats=function(){return{scoreMin:0,scoreMax:0,scoreMean:0,scoreStdDev:0,scoreSum:0,scoreSumSquares:0,featureCount:0,featureDensity:0,basesCovered:0}},t.calcPerBaseStats=function(e,t){var n=e.start,r=e.end,a=[],o=t.sort((function(e,t){return e.get("start")-t.get("start")})),i=n,l=0,c=0;for(;i<r;){for(;l<o.length&&i>=o[l].get("end");)l+=1;var u=o[l];u&&i>=u.get("start")&&i<u.get("end")?a[c]=u.get("score"):a[c]=0,c+=1,i+=1}return a},t.calcStdFromSums=s,t.rectifyStats=d,t.scoresToStats=function(e,t){return f.apply(this,arguments)};var a=r(n(22)),o=r(n(25)),i=r(n(13)),l=n(52);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return 0===n?0:(a?r=t/n-e*e/(n*n):(r=t-e*e/n,n>1&&(r/=n-1)),r<0?0:Math.sqrt(r))}function d(e){return u(u({},e),{},{scoreMean:(e.scoreSum||0)/(e.featureCount||e.basesCovered||1),scoreStdDev:s(e.scoreSum,e.scoreSumSquares,e.featureCount||e.basesCovered),featureDensity:(e.featureCount||1)/e.basesCovered})}function f(){return(f=(0,o.default)(a.default.mark((function e(t,n){var r,o,i,c,u,s,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.start,o=t.end,e.next=3,n.pipe((0,l.reduce)((function(e,t){var n=t.get("score");return e.scoreMax=Math.max(e.scoreMax,t.get("summary")?t.get("maxScore"):n),e.scoreMin=Math.min(e.scoreMin,t.get("summary")?t.get("minScore"):n),e.scoreSum+=n,e.scoreSumSquares+=n*n,e.featureCount+=1,e}),{scoreMin:Number.MAX_VALUE,scoreMax:Number.MIN_VALUE,scoreSum:0,scoreSumSquares:0,featureCount:0})).toPromise();case 3:return i=e.sent,c=i.scoreMin,u=i.scoreMax,s=i.scoreSum,f=i.scoreSumSquares,p=i.featureCount,e.abrupt("return",d({scoreMax:u,scoreMin:c,scoreSum:s,scoreSumSquares:f,featureCount:p,basesCovered:o-r+1}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},847:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=Object.keys(t),i=0;i<r.length;i++){var l=r[i];if(n.length>5e3)break;"object"===(0,a.default)(t[l])&&t[l]?n+=e(t[l],n):n+="".concat(l,"-").concat(t[l],";")}return(0,o.hashCode)(n)};var a=r(n(21)),o=n(42)},848:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.calculateUTRs=function(e,t){var n=e[0],r=e[e.length-1],o=t.findIndex((function(e){return e.end>=n.start&&e.start<=n.start})),i=t.findIndex((function(e){return e.end>=r.end&&e.start<=r.end})),c=t[i],u=t[o],s=[].concat((0,a.default)(t.slice(0,o)),[{start:u.start,end:n.start}]).map((function(e){return l(l({},e),{},{type:"five_prime_UTR"})})),d=[{start:r.end,end:c.end}].concat((0,a.default)(t.slice(i+1))).map((function(e){return l(l({},e),{},{type:"three_prime_UTR"})}));return[].concat((0,a.default)(s),(0,a.default)(d))},t.dedupe=function(e){return e.filter((function(e,t,n){return!t||c(e)!==c(n[t-1])}))},t.ellipses=function(e){return e.length>20?"".concat(e.slice(0,20),"..."):e},t.revlist=function(e,t){return e.map((function(e){return l(l({},e),{},{start:t-e.end,end:t-e.start})})).sort((function(e,t){return e.start-t.start}))},t.stitch=function(e,t){return e.map((function(e){return t.slice(e.start,e.end)})).join("")};var a=r(n(40)),o=r(n(13));function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return"".concat(e.start,"-").concat(e.end)}},849:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(13)),o=r(n(40)),i=n(19),l=n(42),c=n(78),u=r(n(850)),s=r(n(851));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=i.types.model("Base1DView",{id:c.ElementId,displayedRegions:i.types.array(c.Region),bpPerPx:0,offsetPx:0,interRegionPaddingWidth:i.types.optional(i.types.number,0),minimumBlockWidth:i.types.optional(i.types.number,0)}).volatile((function(){return{features:void 0,volatileWidth:0}})).actions((function(e){return{setDisplayedRegions:function(t){e.displayedRegions=(0,i.cast)(t)},setBpPerPx:function(t){e.bpPerPx=t},setVolatileWidth:function(t){e.volatileWidth=t}}})).views((function(e){return{get width(){return e.volatileWidth},get assemblyNames(){return(0,o.default)(new Set(e.displayedRegions.map((function(e){return e.assemblyName}))))},get displayedRegionsTotalPx(){return this.totalBp/e.bpPerPx},get maxOffset(){return this.displayedRegionsTotalPx-10},get minOffset(){return 30-this.width},get totalBp(){return e.displayedRegions.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)},pxToBp:function(t){var n=0,r=(e.offsetPx+t)*e.bpPerPx,a=e.displayedRegions.length;if(r<0){var o=e.displayedRegions[0],l=r;return f(f({},(0,i.getSnapshot)(o)),{},{oob:!0,coord:o.reversed?Math.floor(o.end-l)+1:Math.floor(o.start+l)+1,offset:l,index:0})}for(var c=e.interRegionPaddingWidth*e.bpPerPx,u=e.minimumBlockWidth*e.bpPerPx,s=0;s<e.displayedRegions.length;s+=1){var d=e.displayedRegions[s],p=d.end-d.start,m=r-n;if(p+n>r&&n<=r)return f(f({},(0,i.getSnapshot)(d)),{},{oob:!1,offset:m,coord:d.reversed?Math.floor(d.end-m)+1:Math.floor(d.start+m)+1,index:s});d.end-d.start>u&&m/e.bpPerPx>0&&m/e.bpPerPx<this.width?n+=p+c:n+=p}if(r>=n){var h=e.displayedRegions[a-1],g=r-n+(h.end-h.start);return f(f({},(0,i.getSnapshot)(h)),{},{oob:!0,offset:g,coord:h.reversed?Math.floor(h.end-g)+1:Math.floor(h.start+g)+1,index:a-1})}return{coord:0,index:0,start:0,refName:"",oob:!0,assemblyName:"",offset:0,reversed:!1}}}})).views((function(e){return{get dynamicBlocks(){return(0,u.default)(e)},get staticBlocks(){return(0,s.default)(e)},get currBp(){return this.dynamicBlocks.map((function(e){return e.end-e.start})).reduce((function(e,t){return e+t}),0)},bpToPx:function(t){var n,r=t.refName,a=t.coord,o=t.regionNumber;return null===(n=(0,l.viewBpToPx)({refName:r,coord:a,regionNumber:o,self:e}))||void 0===n?void 0:n.offsetPx}}})).actions((function(e){return{setFeatures:function(t){e.features=t},zoomToDisplayedRegions:function(e,t){if(void 0!==e&&void 0!==t){if(e.refName===t.refName&&e.index===t.index&&t.offset<e.offset||e.index>t.index){var n=[t,e];e=n[0],t=n[1]}var r={start:e.start,end:e.end,index:e.index,offset:e.offset},a={start:t.start,end:t.end,index:t.index,offset:t.offset};if(!r||!a)throw new Error("regions not found");this.moveTo(r,a)}},showAllRegions:function(){e.bpPerPx=e.totalBp/e.width,e.offsetPx=0},moveTo:function(t,n){var r=0;if(t.index===n.index)r+=n.offset-t.offset;else{var a=e.displayedRegions[t.index];if(r+=a.end-a.start-t.offset,n.index-t.index>=2)for(var o=t.index+1;o<n.index;o+=1)r+=e.displayedRegions[o].end-e.displayedRegions[o].start;r+=n.offset}this.zoomTo(r/(e.width-e.interRegionPaddingWidth*(n.index-t.index)));for(var i=0,l=0;l<e.displayedRegions.length;l+=1){var c=e.displayedRegions[l];if(t.index===l){i+=t.offset;break}i+=c.end-c.start}e.offsetPx=Math.round(i/e.bpPerPx)+e.interRegionPaddingWidth*t.index},zoomOut:function(){this.zoomTo(2*e.bpPerPx)},zoomIn:function(){this.zoomTo(e.bpPerPx/2)},zoomTo:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.width/2,r=t;if(r!==e.bpPerPx){var a=e.bpPerPx;e.bpPerPx=r,e.offsetPx=(0,l.clamp)(Math.round((e.offsetPx+n)*a/r-n),e.minOffset,e.maxOffset)}},scrollTo:function(t){var n=(0,l.clamp)(t,e.minOffset,e.maxOffset);return e.offsetPx=n,n},centerAt:function(t,n,r){var a=e.bpToPx({refName:n,coord:t,regionNumber:r});a&&this.scrollTo(Math.round(a-e.width/2))},scroll:function(t){var n=e.offsetPx,r=(0,l.clamp)(e.offsetPx+t,e.minOffset,e.maxOffset);return e.offsetPx=r,r-n}}}));t.default=p},850:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.offsetPx,c=e.displayedRegions,u=e.bpPerPx,s=e.width,d=e.minimumBlockWidth,f=e.interRegionPaddingWidth;if(!s)throw new Error("view has no width, cannot calculate displayed blocks");var p=new l.BlockSet,m=0,h=r,g=h+s;return c.forEach((function(e,b){var v=e.assemblyName,y=e.refName,w=e.start,O=e.end,C=e.reversed,E=m+(O-w)/u,k=(O-w)/u;if(m<g&&E>h){var x,S,j,P,T,R=(0,o.intersection2)(h,g,m,E),M=(0,a.default)(R,2),I=M[0],A=M[1];C?(x=Math.max(w,O-(A-m)*u),j=(S=O-(I-m)*u)===O,P=x===w,T=m+(O-S)/u):(j=(x=(I-m)*u+w)===w,P=(S=Math.min(O,(A-m)*u+w))===O,T=m+(x-w)/u);var L={assemblyName:v,refName:y,start:x,end:S,reversed:C,offsetPx:T,parentRegion:e,regionNumber:b,widthPx:(S-x)/u,isLeftEndOfDisplayedRegion:j,isRightEndOfDisplayedRegion:P,key:""};L.key="".concat((0,i.assembleLocString)(L),"-").concat(b).concat(C?"-reversed":""),t&&0===p.length&&j&&p.push(new l.InterRegionPaddingBlock({key:"".concat(L.key,"-beforeFirstRegion"),widthPx:-r,offsetPx:L.offsetPx+r,variant:"boundary"})),n&&k<d?p.push(new l.ElidedBlock(L)):p.push(new l.ContentBlock(L)),t&&(k>=d&&L.isRightEndOfDisplayedRegion&&b<c.length-1&&(p.push(new l.InterRegionPaddingBlock({key:"".concat(L.key,"-rightpad"),widthPx:f,offsetPx:L.offsetPx+L.widthPx})),m+=f),b===c.length-1&&L.isRightEndOfDisplayedRegion&&(T=L.offsetPx+L.widthPx,p.push(new l.InterRegionPaddingBlock({key:"".concat(L.key,"-afterLastRegion"),widthPx:s-T+r,offsetPx:T,variant:"boundary"}))))}m+=(O-w)/u})),p};var a=r(n(23)),o=n(835),i=n(42),l=n(467)},851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"undefined"!=typeof window&&window.innerWidth||e.width,l=e.offsetPx,c=e.displayedRegions,u=e.bpPerPx,s=e.minimumBlockWidth,d=e.interRegionPaddingWidth,f=l*u,p=(l+i)*u,m=i,h=Math.ceil(m*u),g=0,b=new a.BlockSet;return c.forEach((function(e,l){var m=e.assemblyName,v=e.refName,y=e.start,w=e.end,O=e.reversed,C=Math.ceil((w-y)/h),E=Math.floor((p-g)/h)+o;E>=C&&(E=C-1);var k=Math.floor((f-g)/h)-o;k<0&&(k=0);for(var x=(w-y)/u,S=k;S<=E;S+=1){var j=void 0,P=void 0,T=void 0,R=void 0;O?(j=Math.max(y,w-(S+1)*h),T=(P=w-S*h)===w,R=j===y):(T=(j=y+S*h)===y,R=(P=Math.min(w,y+(S+1)*h))===w);var M={assemblyName:m,refName:v,start:j,end:P,reversed:O,offsetPx:(g+S*h)/u,parentRegion:e,regionNumber:l,widthPx:(P-j)/u,isLeftEndOfDisplayedRegion:T,isRightEndOfDisplayedRegion:R,key:""};M.key="".concat((0,r.assembleLocString)(M),"-").concat(l).concat(O?"-reversed":""),t&&0===l&&0===S&&b.push(new a.InterRegionPaddingBlock({key:"".concat(M.key,"-beforeFirstRegion"),widthPx:i,offsetPx:M.offsetPx-i,variant:"boundary"})),n&&x<s?b.push(new a.ElidedBlock(M)):b.push(new a.ContentBlock(M)),t&&(x>=s&&M.isRightEndOfDisplayedRegion&&l<c.length-1&&(g+=d*u,b.push(new a.InterRegionPaddingBlock({key:"".concat(M.key,"-rightpad"),widthPx:d,offsetPx:M.offsetPx+M.widthPx}))),l===c.length-1&&M.isRightEndOfDisplayedRegion&&(g+=d*u,b.push(new a.InterRegionPaddingBlock({key:"".concat(M.key,"-afterLastRegion"),widthPx:i,offsetPx:M.offsetPx+M.widthPx,variant:"boundary"}))))}g+=w-y})),b};var r=n(42),a=n(467)},852:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LayoutSession=void 0;var a=r(n(22)),o=r(n(23)),i=r(n(25)),l=r(n(35)),c=r(n(77)),u=r(n(27)),s=r(n(28)),d=r(n(26)),f=r(n(15)),p=r(n(16)),m=r(n(13)),h=r(n(418)),g=r(n(853)),b=r(n(468)),v=r(n(469)),y=r(n(188)),w=n(41);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,m.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,d.default)(e);if(t){var a=(0,d.default)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,s.default)(this,n)}}var k=function(){function e(t){if((0,f.default)(this,e),(0,m.default)(this,"config",void 0),(0,m.default)(this,"bpPerPx",void 0),(0,m.default)(this,"filters",void 0),(0,m.default)(this,"cachedLayout",void 0),this.config=t.config,!(0,w.isConfigurationModel)(this.config))throw new Error("configuration required");this.bpPerPx=t.bpPerPx,this.filters=t.filters,this.update(t)}return(0,p.default)(e,[{key:"update",value:function(e){Object.assign(this,e)}},{key:"makeLayout",value:function(){return new b.default(g.default,{maxHeight:(0,w.readConfObject)(this.config,"maxHeight"),displayMode:(0,w.readConfObject)(this.config,"displayMode"),pitchX:this.bpPerPx,pitchY:(0,w.readConfObject)(this.config,"noSpacing")?1:3})}},{key:"cachedLayoutIsValid",value:function(e){return e&&e.layout.subLayoutConstructorArgs.pitchX===this.bpPerPx&&(0,h.default)((0,w.readConfObject)(this.config),e.config)&&(0,h.default)(this.filters,e.filters)}},{key:"layout",get:function(){return this.cachedLayout&&this.cachedLayoutIsValid(this.cachedLayout)||(this.cachedLayout={layout:this.makeLayout(),config:(0,w.readConfObject)(this.config),filters:this.filters}),this.cachedLayout.layout}}]),e}();t.LayoutSession=k;var x=function(e){(0,u.default)(s,e);var t,n,r=E(s);function s(){var e;(0,f.default)(this,s);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n)),(0,m.default)((0,l.default)(e),"sessions",{}),e}return(0,p.default)(s,[{key:"getWorkerSession",value:function(e){var t=e.sessionId;this.sessions[t]||(this.sessions[t]=this.createSession(e));var n=this.sessions[t];return n.update(e),n}},{key:"getExpandedRegion",value:function(e,t){if(!e)return e;var n=t.bpPerPx,r=t.config,a=void 0===r?0:(0,w.readConfObject)(r,"maxFeatureGlyphExpansion");if(!a)return e;var o=Math.round(a*n);return C(C({},e),{},{start:Math.floor(Math.max(e.start-o,0)),end:Math.ceil(e.end+o)})}},{key:"createSession",value:function(e){return new k(e)}},{key:"freeResourcesInClient",value:(n=(0,i.default)(a.default.mark((function e(t,n){var r,o,i,l;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sessionId,o=n.regions,i=0,l=this.sessions[r],!o&&l&&(delete this.sessions[r],i=1),l&&o&&l.layout.discardRange(o[0].refName,o[0].start,o[0].end),e.t0=i,e.next=8,(0,c.default)((0,d.default)(s.prototype),"freeResourcesInClient",this).call(this,t,n);case 8:return e.t1=e.sent,e.abrupt("return",e.t0+e.t1);case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"deserializeLayoutInClient",value:function(e){return new v.default(e)}},{key:"deserializeResultsInClient",value:function(e,t){var n=this.deserializeLayoutInClient(e.layout);return(0,c.default)((0,d.default)(s.prototype),"deserializeResultsInClient",this).call(this,C(C({},e),{},{layout:n}),t)}},{key:"createLayoutInWorker",value:function(e){var t=e.regions;return this.getWorkerSession(e).layout.getSublayout(t[0].refName)}},{key:"serializeResultsInWorker",value:function(e,t){var n=(0,c.default)((0,d.default)(s.prototype),"serializeResultsInWorker",this).call(this,e,t),r=(0,o.default)(t.regions,1)[0];return n.layout=e.layout.serializeRegion(this.getExpandedRegion(r,t)),n.layout.rectangles&&(n.features=n.features.filter((function(e){return Boolean(n.layout.rectangles[e.uniqueId])}))),n.maxHeightReached=n.layout.maxHeightReached,n}},{key:"render",value:(t=(0,i.default)(a.default.mark((function e(t){var n,r;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.layout||this.createLayoutInWorker(t),e.next=3,(0,c.default)((0,d.default)(s.prototype),"render",this).call(this,C(C({},t),{},{layout:n}));case 3:return r=e.sent,e.abrupt("return",C(C({},r),{},{layout:n}));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),s}(y.default);t.default=x},853:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(23)),o=r(n(15)),i=r(n(16)),l=r(n(13)),c=n(42);function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e,t,n,r){return t>=n&&r>=e}var f=function(){function e(){(0,o.default)(this,e),(0,l.default)(this,"padding",void 0),(0,l.default)(this,"allFilled",void 0),(0,l.default)(this,"widthLimit",void 0),(0,l.default)(this,"rowState",void 0),this.padding=1,this.widthLimit=1e6}return(0,i.default)(e,[{key:"setAllFilled",value:function(e){this.allFilled=e}},{key:"getItemAt",value:function(e){if(this.allFilled)return this.allFilled;if(this.rowState&&void 0!==this.rowState.min&&!(e<this.rowState.min||e>=this.rowState.max)){var t=e-this.rowState.offset;return this.rowState.bits[t]}}},{key:"isRangeClear",value:function(e,t){if(this.allFilled)return!1;if(!this.rowState)return!0;var n=this.rowState,r=n.min,a=n.max;if(t<=r||e>=a)return!0;for(var o=Math.min(a,t),i=Math.max(r,e);i<t&&i<o;i+=1)if(this.getItemAt(i))return!1;return!0}},{key:"initialize",value:function(e,t){var n=t-e;return{offset:e-n,min:e,max:t,bits:new Array(3*n)}}},{key:"addRect",value:function(e,t){var n=e.l,r=e.r+this.padding;this.rowState||(this.rowState=this.initialize(n,r));var a=n-this.rowState.offset,o=r-this.rowState.offset,i=this.rowState.bits.length;if(o>=this.rowState.bits.length){var l=o+1;this.rowState.bits.length+l>this.widthLimit?(console.warn("Layout width limit exceeded, discarding old layout. Please be more careful about discarding unused blocks."),this.rowState=this.initialize(n,r)):l>0&&(this.rowState.bits=this.rowState.bits.concat(new Array(l)))}if(n<this.rowState.offset){var c=Math.min(i-a,this.rowState.offset);this.rowState.bits.length+c>this.widthLimit?(console.warn("Layout width limit exceeded, discarding old layout. Please be more careful about discarding unused blocks."),this.rowState=this.initialize(n,r)):(this.rowState.bits=new Array(c).concat(this.rowState.bits),this.rowState.offset-=c)}(o=r-this.rowState.offset)-(a=n-this.rowState.offset)>2e4&&console.warn("Layout X pitch set too low, feature spans ".concat(o-a," bits in a single row."),e,t);for(var u=a;u<o;u+=1)this.rowState.bits[u]=t;n<this.rowState.min&&(this.rowState.min=n),r>this.rowState.max&&(this.rowState.max=r)}},{key:"discardRange",value:function(e,t){if(!this.allFilled&&this.rowState&&!(t<=this.rowState.min||e>=this.rowState.max))if(e<=this.rowState.min&&t>=this.rowState.max)this.rowState=void 0;else{if(t>this.rowState.min&&e<=this.rowState.min&&(this.rowState.min=t),e<this.rowState.max&&t>=this.rowState.max&&(this.rowState.max=e),this.rowState.offset<this.rowState.min-1e4&&this.rowState.bits.length>this.rowState.max+1e4-this.rowState.offset){var n=this.rowState.min-this.rowState.offset,r=this.rowState.bits.length-1-(this.rowState.max-this.rowState.offset);this.rowState.bits=this.rowState.bits.slice(n,this.rowState.bits.length-r),this.rowState.offset+=n}else if(this.rowState.offset<this.rowState.min-1e4){var a=this.rowState.min-Math.floor(5e3)-this.rowState.offset;this.rowState.bits.splice(0,a),this.rowState.offset+=a}else if(this.rowState.bits.length>this.rowState.max-this.rowState.offset+1e4){var o=this.rowState.max-this.rowState.offset+1+Math.floor(5e3);this.rowState.bits.length=o}for(var i=Math.max(this.rowState.min,e)-this.rowState.offset,l=Math.min(t,this.rowState.max)-this.rowState.offset,c=i;c>=0&&c<l;c+=1)this.rowState.bits[c]=void 0}}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.pitchX,r=void 0===n?10:n,a=t.pitchY,i=void 0===a?10:a,c=t.maxHeight,u=void 0===c?1e4:c,s=t.hardRowLimit,d=void 0===s?1e4:s,f=t.displayMode,p=void 0===f?"normal":f;(0,o.default)(this,e),(0,l.default)(this,"pitchX",void 0),(0,l.default)(this,"pitchY",void 0),(0,l.default)(this,"hardRowLimit",void 0),(0,l.default)(this,"bitmap",void 0),(0,l.default)(this,"rectangles",void 0),(0,l.default)(this,"maxHeightReached",void 0),(0,l.default)(this,"maxHeight",void 0),(0,l.default)(this,"displayMode",void 0),(0,l.default)(this,"pTotalHeight",void 0),this.pitchX=r,this.pitchY=i,this.hardRowLimit=d,this.maxHeightReached=!1,this.displayMode=p,"compact"===this.displayMode&&(this.pitchY=Math.round(this.pitchY/4)||1,this.pitchX=Math.round(this.pitchX/4)||1),this.bitmap=[],this.rectangles=new Map,this.maxHeight=Math.ceil(u/this.pitchY),this.pTotalHeight=0}return(0,i.default)(e,[{key:"addRect",value:function(e,t,n,r,a){var o=this.rectangles.get(e);if(o)return null===o.top?null:(this.addRectToBitmap(o),o.top*this.pitchY);var i=Math.floor(t/this.pitchX),l=Math.floor(n/this.pitchX),c=Math.ceil(r/this.pitchY),u={id:e,l:i,r:l,top:null,h:c,originalHeight:r,data:a},s=this.maxHeight-c,d=0;if("collapse"!==this.displayMode){for(;d<=s&&this.collides(u,d);d+=1);if(d>s)return u.top=null,this.rectangles.set(e,u),this.maxHeightReached=!0,null}return u.top=d,this.addRectToBitmap(u),this.rectangles.set(e,u),this.pTotalHeight=Math.max(this.pTotalHeight||0,d+c),d*this.pitchY}},{key:"collides",value:function(e,t){for(var n=this.bitmap,r=t+e.h,a=t;a<r;a+=1){var o=n[a];if(o&&!o.isRangeClear(e.l,e.r))return!0}return!1}},{key:"autovivifyRow",value:function(e,t){var n=e[t];if(!n){if(t>this.hardRowLimit)throw new Error("layout hard limit (".concat(this.hardRowLimit*this.pitchY,"px) exceeded, aborting layout"));n=new f,e[t]=n}return n}},{key:"addRectToBitmap",value:function(e){if(null!==e.top){var t=e.data||e.id,n=this.bitmap,r=e.top+e.h;if(e.r-e.l>2e4)for(var a=e.top;a<r;a+=1)this.autovivifyRow(n,a).setAllFilled(t);else for(var o=e.top;o<r;o+=1)this.autovivifyRow(n,o).addRect(e,t)}}},{key:"discardRange",value:function(e,t){for(var n=Math.floor(e/this.pitchX),r=Math.floor(t/this.pitchX),a=this.bitmap,o=0;o<a.length;o+=1){var i=a[o];i&&i.discardRange(n,r)}}},{key:"hasSeen",value:function(e){return this.rectangles.has(e)}},{key:"getByCoord",value:function(e,t){var n=Math.floor(t/this.pitchY),r=this.bitmap[n];if(r){var a=Math.floor(e/this.pitchX);return r.getItemAt(a)}}},{key:"getByID",value:function(e){var t=this.rectangles.get(e);if(t){var n=t.top*this.pitchY;return[t.l*this.pitchX,n,t.r*this.pitchX,n+t.originalHeight]}}},{key:"cleanup",value:function(){}},{key:"getTotalHeight",value:function(){return this.pTotalHeight*this.pitchY}},{key:"totalHeight",get:function(){return this.getTotalHeight()}},{key:"getRectangles",value:function(){var e=this;return new Map(Array.from(this.rectangles.entries()).map((function(t){var n=(0,a.default)(t,2),r=n[0],o=n[1],i=o.l,l=o.r,c=o.originalHeight,u=(o.top||0)*e.pitchY,s=u+c;return[r,[i*e.pitchX,u,l*e.pitchX,s]]})))}},{key:"serializeRegion",value:function(e){var t,n={},r=!1,o=u(this.rectangles.entries());try{for(o.s();!(t=o.n()).done;){var i=(0,a.default)(t.value,2),l=i[0],c=i[1],s=c.l,f=c.r,p=c.originalHeight,m=c.top;if(null===c.top)r=!0;else{var h=(m||0)*this.pitchY,g=h+p,b=s*this.pitchX,v=f*this.pitchX;d(e.start,e.end,b-this.pitchX,v+this.pitchX)&&(n[l]=[b,h,v,g])}}}catch(e){o.e(e)}finally{o.f()}return{rectangles:n,totalHeight:this.getTotalHeight(),maxHeightReached:r}}},{key:"toJSON",value:function(){return{rectangles:(0,c.objectFromEntries)(this.getRectangles()),totalHeight:this.getTotalHeight(),maxHeightReached:this.maxHeightReached}}}]),e}();t.default=p},854:function(e,t,n){"use strict";e.exports=n(1294)},855:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(15)),o=r(n(16)),i=r(n(13)),l=n(458),c=function(){function e(t){var n=t.filters,r=void 0===n?[]:n;(0,a.default)(this,e),(0,i.default)(this,"filterChain",void 0),this.filterChain=r.map((function(e){if("string"==typeof e)return{expr:(0,l.stringToJexlExpression)(e),string:e};throw new Error('invalid inputFilter string "'.concat(e,'"'))}))}return(0,o.default)(e,[{key:"passes",value:function(){for(var e=0;e<this.filterChain.length;e+=1)if(!this.filterChain[e].expr.evalSync({feature:arguments.length<=0?void 0:arguments[0]}))return!1;return!0}},{key:"toJSON",value:function(){return{filters:this.filterChain.map((function(e){return e.string}))}}}],[{key:"fromJSON",value:function(t){return new e(t)}}]),e}();t.default=c},856:function(e,t,n){"use strict";var r=n(9),a=n(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,l.useRef)(null),n=e.theme,r=e.html,a=e.RenderingComponent,f=(0,o.default)(e,d),p=(0,u.createJBrowseTheme)(n);return(0,l.useEffect)((function(){var e=t.current;return e&&(e&&(0,c.unmountComponentAtNode)(e),e.innerHTML=r,(0,s.rIC)((function(){(0,c.hydrate)(l.default.createElement(i.ThemeProvider,{theme:p},l.default.createElement(a,f)),e)}),{timeout:300})),function(){e&&(0,c.unmountComponentAtNode)(e)}}),[r,p,f,a]),l.default.createElement("div",{ref:t,"data-html-size":r.length,className:"ssr-container"})};var o=r(n(56)),i=n(18),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n(1)),c=n(6),u=n(106),s=n(42),d=["theme","html","RenderingComponent"];function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}},857:function(e,t,n){"use strict";var r=n(9);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.watchWorker=y;var a=r(n(22)),o=r(n(40)),i=r(n(23)),l=r(n(21)),c=r(n(15)),u=r(n(16)),s=r(n(13)),d=r(n(25)),f=n(19),p=n(42),m=n(842),h=n(41);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){return"function"!=typeof e&&!(e instanceof Error)}function y(e,t,n){return w.apply(this,arguments)}function w(){return(w=(0,d.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){!function e(){setTimeout((0,d.default)(a.default.mark((function i(){return a.default.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.call("ping",[],{timeout:2*n,rpcDriverClassName:r});case 3:e(),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),o(a.t0);case 9:case"end":return a.stop()}}),i,null,[[0,6]])}))),n)}()})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){function e(t){(0,c.default)(this,e),this.driver=t,(0,s.default)(this,"workerP",void 0)}var t;return(0,u.default)(e,[{key:"getWorker",value:(t=(0,d.default)(a.default.mark((function e(){var t=this;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.workerP||(this.workerP=this.driver.makeWorker().then((function(e){return y(e,t.driver.maxPingTime,t.driver.name).catch((function(n){e&&(console.error("worker did not respond, killing and generating new one"),console.error(n),e.destroy(),e.status="killed",e.error=n,t.workerP=void 0)})),e}))),e.abrupt("return",this.workerP);case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),C=function(){function e(t){(0,c.default)(this,e),(0,s.default)(this,"name",void 0),(0,s.default)(this,"lastWorkerAssignment",-1),(0,s.default)(this,"workerAssignments",new Map),(0,s.default)(this,"workerPool",void 0),(0,s.default)(this,"maxPingTime",3e4),(0,s.default)(this,"workerCheckFrequency",5e3),(0,s.default)(this,"config",void 0),this.config=t.config}var t,n,r;return(0,u.default)(e,[{key:"filterArgs",value:function(e,t){var n=this;if(Array.isArray(e))return e.filter(v).map((function(e){return n.filterArgs(e,t)}));if("object"===(0,l.default)(e)&&null!==e){if(e instanceof AbortSignal)return(0,m.serializeAbortSignal)(e,this.remoteAbort.bind(this,t));if((0,f.isStateTreeNode)(e)&&!(0,f.isAlive)(e))throw new Error("dead state tree node passed to RPC call");return e instanceof File?e:(0,p.objectFromEntries)(Object.entries(e).filter((function(e){return v(e[1])})).map((function(e){var r=(0,i.default)(e,2),a=r[0],o=r[1];return[a,n.filterArgs(o,t)]})))}return e}},{key:"remoteAbort",value:(r=(0,d.default)(a.default.mark((function e(t,n,r){return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getWorker(t);case 2:e.sent.call(n,{signalId:r},{timeout:1e6,rpcDriverClassName:this.name});case 4:case"end":return e.stop()}}),e,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"createWorkerPool",value:function(){var e,t,n=this,r=(e="undefined"!=typeof window,t=e&&"hardwareConcurrency"in window.navigator,e&&t?window.navigator.hardwareConcurrency:1),a=(0,h.readConfObject)(this.config,"workerCount")||(0,p.clamp)(1,Math.max(1,r-1),5);return(0,o.default)(new Array(a)).map((function(){return new O(n)}))}},{key:"getWorkerPool",value:function(){if(!this.workerPool){var e=this.createWorkerPool();return this.workerPool=e,e}return this.workerPool}},{key:"getWorker",value:(n=(0,d.default)(a.default.mark((function e(t){var n,r,o,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.getWorkerPool(),void 0===(r=this.workerAssignments.get(t))&&(o=(this.lastWorkerAssignment+1)%n.length,this.workerAssignments.set(t,o),this.lastWorkerAssignment=o,r=o),i=n[r].getWorker()){e.next=6;break}throw new Error("no web workers registered for RPC");case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"call",value:(t=(0,d.default)(a.default.mark((function e(t,n,r,o){var i,l,c,u,s,d,f,p,m,h,g=this,v=arguments;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=v.length>4&&void 0!==v[4]?v[4]:{},n){e.next=3;break}throw new TypeError("sessionId is required");case 3:return l=!1,e.next=6,this.getWorker(n);case 6:return c=e.sent,u=t.getRpcMethodType(r),e.next=10,u.serializeArguments(o,this.name);case 10:return s=e.sent,d=this.filterArgs(s,n),f=c.call(r,d,b({timeout:3e5,statusCallback:o.statusCallback,rpcDriverClassName:this.name},i)).finally((function(){l=!0})),m=new Promise((function(e,t){p=setInterval((function(){"killed"===c.status?t(new Error("operation timed out, worker process stopped responding, ".concat(c.error))):l&&e(!0)}),g.workerCheckFrequency)})).finally((function(){clearInterval(p)})),h=Promise.race([f,m]),e.abrupt("return",u.deserializeReturn(h,o,this.name));case 16:case"end":return e.stop()}}),e,this)}))),function(e,n,r,a){return t.apply(this,arguments)})}]),e}();t.default=C},860:function(e,t,n){"use strict";var r=n(11),a=n(10),o=n(1),i=(n(0),n(12)),l=n(62),c=n(14),u=n(581),s=n(65),d=Object(s.a)(o.createElement("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=Object(s.a)(o.createElement("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),p=Object(s.a)(o.createElement("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),m=Object(s.a)(o.createElement("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),h=n(837),g=n(583),b=n(38),v={success:o.createElement(d,{fontSize:"inherit"}),warning:o.createElement(f,{fontSize:"inherit"}),error:o.createElement(p,{fontSize:"inherit"}),info:o.createElement(m,{fontSize:"inherit"})},y=o.createElement(h.a,{fontSize:"small"}),w=o.forwardRef((function(e,t){var n=e.action,l=e.children,c=e.classes,s=e.className,d=e.closeText,f=void 0===d?"Close":d,p=e.color,m=e.icon,h=e.iconMapping,w=void 0===h?v:h,O=e.onClose,C=e.role,E=void 0===C?"alert":C,k=e.severity,x=void 0===k?"success":k,S=e.variant,j=void 0===S?"standard":S,P=Object(r.a)(e,["action","children","classes","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"]);return o.createElement(u.a,Object(a.a)({role:E,square:!0,elevation:0,className:Object(i.default)(c.root,c["".concat(j).concat(Object(b.a)(p||x))],s),ref:t},P),!1!==m?o.createElement("div",{className:c.icon},m||w[x]||v[x]):null,o.createElement("div",{className:c.message},l),null!=n?o.createElement("div",{className:c.action},n):null,null==n&&O?o.createElement("div",{className:c.action},o.createElement(g.a,{size:"small","aria-label":f,title:f,color:"inherit",onClick:O},y)):null)}));t.a=Object(c.a)((function(e){var t="light"===e.palette.type?l.b:l.j,n="light"===e.palette.type?l.j:l.b;return{root:Object(a.a)({},e.typography.body2,{borderRadius:e.shape.borderRadius,backgroundColor:"transparent",display:"flex",padding:"6px 16px"}),standardSuccess:{color:t(e.palette.success.main,.6),backgroundColor:n(e.palette.success.main,.9),"& $icon":{color:e.palette.success.main}},standardInfo:{color:t(e.palette.info.main,.6),backgroundColor:n(e.palette.info.main,.9),"& $icon":{color:e.palette.info.main}},standardWarning:{color:t(e.palette.warning.main,.6),backgroundColor:n(e.palette.warning.main,.9),"& $icon":{color:e.palette.warning.main}},standardError:{color:t(e.palette.error.main,.6),backgroundColor:n(e.palette.error.main,.9),"& $icon":{color:e.palette.error.main}},outlinedSuccess:{color:t(e.palette.success.main,.6),border:"1px solid ".concat(e.palette.success.main),"& $icon":{color:e.palette.success.main}},outlinedInfo:{color:t(e.palette.info.main,.6),border:"1px solid ".concat(e.palette.info.main),"& $icon":{color:e.palette.info.main}},outlinedWarning:{color:t(e.palette.warning.main,.6),border:"1px solid ".concat(e.palette.warning.main),"& $icon":{color:e.palette.warning.main}},outlinedError:{color:t(e.palette.error.main,.6),border:"1px solid ".concat(e.palette.error.main),"& $icon":{color:e.palette.error.main}},filledSuccess:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.success.main},filledInfo:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.info.main},filledWarning:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.warning.main},filledError:{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:e.palette.error.main},icon:{marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9},message:{padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}}}),{name:"MuiAlert"})(w)},869:function(e,t,n){"use strict";var r=n(11),a=n(58),o=n(10),i=n(1),l=(n(0),n(12)),c=n(14),u=n(1382),s=n(1378),d=n(581),f=n(583),p=n(1416),m=n(837),h=n(65),g=Object(h.a)(i.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),b=n(1278);function v(e){e.anchorEl,e.open;var t=Object(r.a)(e,["anchorEl","open"]);return i.createElement("div",t)}var y=i.createElement(m.a,{fontSize:"small"}),w=i.createElement(g,null),O=i.forwardRef((function(e,t){e.autoComplete,e.autoHighlight,e.autoSelect,e.blurOnSelect;var n,a=e.ChipProps,c=e.classes,m=e.className,h=e.clearOnBlur,g=(void 0===h&&e.freeSolo,e.clearOnEscape,e.clearText),O=void 0===g?"Clear":g,C=e.closeIcon,E=void 0===C?y:C,k=e.closeText,x=void 0===k?"Close":k,S=(e.debug,e.defaultValue),j=(void 0===S&&e.multiple,e.disableClearable),P=void 0!==j&&j,T=(e.disableCloseOnSelect,e.disabled),R=void 0!==T&&T,M=(e.disabledItemsFocusable,e.disableListWrap,e.disablePortal),I=void 0!==M&&M,A=(e.filterOptions,e.filterSelectedOptions,e.forcePopupIcon),L=void 0===A?"auto":A,F=e.freeSolo,N=void 0!==F&&F,D=e.fullWidth,_=void 0!==D&&D,z=e.getLimitTagsText,B=void 0===z?function(e){return"+".concat(e)}:z,H=(e.getOptionDisabled,e.getOptionLabel),W=void 0===H?function(e){return e}:H,V=(e.getOptionSelected,e.groupBy),G=e.handleHomeEndKeys,U=(void 0===G&&e.freeSolo,e.id,e.includeInputInList,e.inputValue,e.limitTags),q=void 0===U?-1:U,$=e.ListboxComponent,K=void 0===$?"ul":$,J=e.ListboxProps,Y=e.loading,X=void 0!==Y&&Y,Z=e.loadingText,Q=void 0===Z?"Loading…":Z,ee=e.multiple,te=void 0!==ee&&ee,ne=e.noOptionsText,re=void 0===ne?"No options":ne,ae=(e.onChange,e.onClose,e.onHighlightChange,e.onInputChange,e.onOpen,e.open,e.openOnFocus,e.openText),oe=void 0===ae?"Open":ae,ie=(e.options,e.PaperComponent),le=void 0===ie?d.a:ie,ce=e.PopperComponent,ue=void 0===ce?u.a:ce,se=e.popupIcon,de=void 0===se?w:se,fe=e.renderGroup,pe=e.renderInput,me=e.renderOption,he=e.renderTags,ge=e.selectOnFocus,be=(void 0===ge&&e.freeSolo,e.size),ve=void 0===be?"medium":be,ye=(e.value,Object(r.a)(e,["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","classes","className","clearOnBlur","clearOnEscape","clearText","closeIcon","closeText","debug","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","getOptionSelected","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","value"])),we=I?v:ue,Oe=Object(b.b)(Object(o.a)({},e,{componentName:"Autocomplete"})),Ce=Oe.getRootProps,Ee=Oe.getInputProps,ke=Oe.getInputLabelProps,xe=Oe.getPopupIndicatorProps,Se=Oe.getClearProps,je=Oe.getTagProps,Pe=Oe.getListboxProps,Te=Oe.getOptionProps,Re=Oe.value,Me=Oe.dirty,Ie=Oe.id,Ae=Oe.popupOpen,Le=Oe.focused,Fe=Oe.focusedTag,Ne=Oe.anchorEl,De=Oe.setAnchorEl,_e=Oe.inputValue,ze=Oe.groupedOptions;if(te&&Re.length>0){var Be=function(e){return Object(o.a)({className:Object(l.default)(c.tag,"small"===ve&&c.tagSizeSmall),disabled:R},je(e))};n=he?he(Re,Be):Re.map((function(e,t){return i.createElement(p.a,Object(o.a)({label:W(e),size:ve},Be({index:t}),a))}))}if(q>-1&&Array.isArray(n)){var He=n.length-q;!Le&&He>0&&(n=n.splice(0,q)).push(i.createElement("span",{className:c.tag,key:n.length},B(He)))}var We=fe||function(e){return i.createElement("li",{key:e.key},i.createElement(s.a,{className:c.groupLabel,component:"div"},e.group),i.createElement("ul",{className:c.groupUl},e.children))},Ve=me||W,Ge=function(e,t){var n=Te({option:e,index:t});return i.createElement("li",Object(o.a)({},n,{className:c.option}),Ve(e,{selected:n["aria-selected"],inputValue:_e}))},Ue=!P&&!R,qe=(!N||!0===L)&&!1!==L;return i.createElement(i.Fragment,null,i.createElement("div",Object(o.a)({ref:t,className:Object(l.default)(c.root,m,Le&&c.focused,_&&c.fullWidth,Ue&&c.hasClearIcon,qe&&c.hasPopupIcon)},Ce(ye)),pe({id:Ie,disabled:R,fullWidth:!0,size:"small"===ve?"small":void 0,InputLabelProps:ke(),InputProps:{ref:De,className:c.inputRoot,startAdornment:n,endAdornment:i.createElement("div",{className:c.endAdornment},Ue?i.createElement(f.a,Object(o.a)({},Se(),{"aria-label":O,title:O,className:Object(l.default)(c.clearIndicator,Me&&c.clearIndicatorDirty)}),E):null,qe?i.createElement(f.a,Object(o.a)({},xe(),{disabled:R,"aria-label":Ae?x:oe,title:Ae?x:oe,className:Object(l.default)(c.popupIndicator,Ae&&c.popupIndicatorOpen)}),de):null)},inputProps:Object(o.a)({className:Object(l.default)(c.input,-1===Fe&&c.inputFocused),disabled:R},Ee())})),Ae&&Ne?i.createElement(we,{className:Object(l.default)(c.popper,I&&c.popperDisablePortal),style:{width:Ne?Ne.clientWidth:null},role:"presentation",anchorEl:Ne,open:!0},i.createElement(le,{className:c.paper},X&&0===ze.length?i.createElement("div",{className:c.loading},Q):null,0!==ze.length||N||X?null:i.createElement("div",{className:c.noOptions},re),ze.length>0?i.createElement(K,Object(o.a)({className:c.listbox},Pe(),J),ze.map((function(e,t){return V?We({key:e.key,group:e.group,children:e.options.map((function(t,n){return Ge(t,e.index+n)}))}):Ge(e,t)}))):null)):null)}));t.a=Object(c.a)((function(e){var t;return{root:{"&$focused $clearIndicatorDirty":{visibility:"visible"},"@media (pointer: fine)":{"&:hover $clearIndicatorDirty":{visibility:"visible"}}},fullWidth:{width:"100%"},focused:{},tag:{margin:3,maxWidth:"calc(100% - 6px)"},tagSizeSmall:{margin:2,maxWidth:"calc(100% - 4px)"},hasPopupIcon:{},hasClearIcon:{},inputRoot:{flexWrap:"wrap","$hasPopupIcon &, $hasClearIcon &":{paddingRight:30},"$hasPopupIcon$hasClearIcon &":{paddingRight:56},"& $input":{width:0,minWidth:30},'&[class*="MuiInput-root"]':{paddingBottom:1,"& $input":{padding:4},"& $input:first-child":{padding:"6px 0"}},'&[class*="MuiInput-root"][class*="MuiInput-marginDense"]':{"& $input":{padding:"4px 4px 5px"},"& $input:first-child":{padding:"3px 0 6px"}},'&[class*="MuiOutlinedInput-root"]':{padding:9,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9.5px 4px"},"& $input:first-child":{paddingLeft:6},"& $endAdornment":{right:9}},'&[class*="MuiOutlinedInput-root"][class*="MuiOutlinedInput-marginDense"]':{padding:6,"& $input":{padding:"4.5px 4px"}},'&[class*="MuiFilledInput-root"]':{paddingTop:19,paddingLeft:8,"$hasPopupIcon &, $hasClearIcon &":{paddingRight:39},"$hasPopupIcon$hasClearIcon &":{paddingRight:65},"& $input":{padding:"9px 4px"},"& $endAdornment":{right:9}},'&[class*="MuiFilledInput-root"][class*="MuiFilledInput-marginDense"]':{paddingBottom:1,"& $input":{padding:"4.5px 4px"}}},input:{flexGrow:1,textOverflow:"ellipsis",opacity:0},inputFocused:{opacity:1},endAdornment:{position:"absolute",right:0,top:"calc(50% - 14px)"},clearIndicator:{marginRight:-2,padding:4,visibility:"hidden"},clearIndicatorDirty:{},popupIndicator:{padding:2,marginRight:-2},popupIndicatorOpen:{transform:"rotate(180deg)"},popper:{zIndex:e.zIndex.modal},popperDisablePortal:{position:"absolute"},paper:Object(o.a)({},e.typography.body1,{overflow:"hidden",margin:"4px 0"}),listbox:{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto"},loading:{color:e.palette.text.secondary,padding:"14px 16px"},noOptions:{color:e.palette.text.secondary,padding:"14px 16px"},option:(t={minHeight:48,display:"flex",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16},Object(a.a)(t,e.breakpoints.up("sm"),{minHeight:"auto"}),Object(a.a)(t,'&[aria-selected="true"]',{backgroundColor:e.palette.action.selected}),Object(a.a)(t,'&[data-focus="true"]',{backgroundColor:e.palette.action.hover}),Object(a.a)(t,"&:active",{backgroundColor:e.palette.action.selected}),Object(a.a)(t,'&[aria-disabled="true"]',{opacity:e.palette.action.disabledOpacity,pointerEvents:"none"}),t),groupLabel:{backgroundColor:e.palette.background.paper,top:-8},groupUl:{padding:0,"& $option":{paddingLeft:24}}}}),{name:"MuiAutocomplete"})(O)},870:function(e,t,n){"use strict";var r=n(10),a=n(11),o=n(1),i=(n(463),n(0),n(12));function l(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var c=n(14),u=n(38),s=o.forwardRef((function(e,t){var n=e.children,c=e.classes,s=e.className,d=e.exclusive,f=void 0!==d&&d,p=e.onChange,m=e.orientation,h=void 0===m?"horizontal":m,g=e.size,b=void 0===g?"medium":g,v=e.value,y=Object(a.a)(e,["children","classes","className","exclusive","onChange","orientation","size","value"]),w=function(e,t){if(p){var n,r=v&&v.indexOf(t);v&&r>=0?(n=v.slice()).splice(r,1):n=v?v.concat(t):[t],p(e,n)}},O=function(e,t){p&&p(e,v===t?null:t)};return o.createElement("div",Object(r.a)({role:"group",className:Object(i.default)(c.root,s,"vertical"===h&&c.vertical),ref:t},y),o.Children.map(n,(function(e){return o.isValidElement(e)?o.cloneElement(e,{className:Object(i.default)(c.grouped,c["grouped".concat(Object(u.a)(h))],e.props.className),onChange:f?O:w,selected:void 0===e.props.selected?l(e.props.value,v):e.props.selected,size:e.props.size||b}):null})))}));t.a=Object(c.a)((function(e){return{root:{display:"inline-flex",borderRadius:e.shape.borderRadius},vertical:{flexDirection:"column"},grouped:{},groupedHorizontal:{"&:not(:first-child)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-child)":{borderTopRightRadius:0,borderBottomRightRadius:0}},groupedVertical:{"&:not(:first-child)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-child)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}}),{name:"MuiToggleButtonGroup"})(s)},99:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNSUPPORTED=t.UNKNOWN=void 0,t.generateUnknownTrackConf=function(e,t,n){var r={type:"FeatureTrack",name:"".concat(e," (Unknown)"),description:'Could not determine track type for "'.concat(t,'"'),category:n,trackId:""};return r.trackId=(0,a.objectHash)(r),r},t.generateUnsupportedTrackConf=function(e,t,n){var r={type:"FeatureTrack",name:"".concat(e," (Unsupported)"),description:'Support not yet implemented for "'.concat(t,'"'),category:n,trackId:""};return r.trackId=(0,a.objectHash)(r),r},t.getBlob=function(e){return i[e]},t.getBlobMap=function(){return i},t.getFileName=function(e){var t="uri"in e?e.uri:void 0,n="localPath"in e?e.localPath:void 0,r="blobId"in e?e:void 0;return(null==r?void 0:r.name)||(null==t?void 0:t.slice(t.lastIndexOf("/")+1))||(null==n?void 0:n.slice(n.lastIndexOf("/")+1))||""},t.getParentRenderProps=function(e){for(var t=(0,r.getParent)(e);!(0,r.isRoot)(t);t=(0,r.getParent)(t))if("renderProps"in t)return t.renderProps();return{}},t.getRpcSessionId=function(e){for(var t,n=e;!(0,r.isRoot)(n);n=(0,r.getParent)(n))"rpcSessionId"in n&&(t=n.rpcSessionId);if(!t)throw new Error("getRpcSessionId failed, no parent node in the state tree has an `rpcSessionId` attribute");return t},t.getTrackAssemblyNames=function(e){var t=e.configuration,n=(0,o.readConfObject)(t,"assemblyNames");if(!n){var a=(0,r.getParent)(e.configuration);if("sequence"in a)return[(0,o.readConfObject)(a,"name")]}return n},t.guessAdapter=function(e,t,n,a){if(a){var o=(0,r.getEnv)(a).pluginManager.evaluateExtensionPoint("Core-guessAdapterForLocation",(function(e,t,n){}))(e,t,n);if(o)return o}return{type:"UNKNOWN"}},t.guessTrackType=function(e,t){if(t){var n=(0,a.getSession)(t),o=(0,r.getEnv)(n).pluginManager.evaluateExtensionPoint("Core-guessTrackTypeForLocation",(function(e){}))(e);if(o)return o}return"FeatureTrack"},t.makeIndex=function(e,t){if("uri"in e)return{uri:e.uri+t,locationType:"UriLocation"};if("localPath"in e)return{localPath:e.localPath+t,locationType:"LocalPathLocation"};return e},t.makeIndexType=function(e,t,n){return null!=e&&e.toUpperCase().endsWith(t)?t:n},t.setBlobMap=function(e){i=e},t.storeBlobLocation=function(e){if(e&&"blob"in e){var t="b".concat(+Date.now());return i[t]=e.blob,{name:null==e?void 0:e.blob.name,blobId:t,locationType:"BlobLocation"}}return e};var r=n(19),a=n(42),o=n(41);t.UNKNOWN="UNKNOWN";t.UNSUPPORTED="UNSUPPORTED";var i={}}}]);
//# sourceMappingURL=async-CircularGenomeView.js.map
//# sourceMappingURL=async-CircularGenomeView.js.map